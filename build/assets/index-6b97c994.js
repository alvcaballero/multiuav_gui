var nZ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qVe=nZ((GVe,g1)=>{function iZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var HF={exports:{}},sS={},GF={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=Symbol.for("react.element"),oZ=Symbol.for("react.portal"),aZ=Symbol.for("react.fragment"),sZ=Symbol.for("react.strict_mode"),lZ=Symbol.for("react.profiler"),cZ=Symbol.for("react.provider"),uZ=Symbol.for("react.context"),fZ=Symbol.for("react.forward_ref"),dZ=Symbol.for("react.suspense"),hZ=Symbol.for("react.memo"),pZ=Symbol.for("react.lazy"),pz=Symbol.iterator;function mZ(e){return e===null||typeof e!="object"?null:(e=pz&&e[pz]||e["@@iterator"],typeof e=="function"?e:null)}var YF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KF=Object.assign,ZF={};function ig(e,t,r){this.props=e,this.context=t,this.refs=ZF,this.updater=r||YF}ig.prototype.isReactComponent={};ig.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ig.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XF(){}XF.prototype=ig.prototype;function yO(e,t,r){this.props=e,this.context=t,this.refs=ZF,this.updater=r||YF}var vO=yO.prototype=new XF;vO.constructor=yO;KF(vO,ig.prototype);vO.isPureReactComponent=!0;var mz=Array.isArray,JF=Object.prototype.hasOwnProperty,_O={current:null},QF={key:!0,ref:!0,__self:!0,__source:!0};function e6(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)JF.call(t,n)&&!QF.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var d=Array(a),h=0;h<a;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:u_,type:e,key:o,ref:s,props:i,_owner:_O.current}}function gZ(e,t){return{$$typeof:u_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xO(e){return typeof e=="object"&&e!==null&&e.$$typeof===u_}function yZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gz=/\/+/g;function HC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yZ(""+e.key):t.toString(36)}function Wb(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case u_:case oZ:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+HC(s,0):n,mz(i)?(r="",e!=null&&(r=e.replace(gz,"$&/")+"/"),Wb(i,t,r,"",function(h){return h})):i!=null&&(xO(i)&&(i=gZ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(gz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",mz(e))for(var a=0;a<e.length;a++){o=e[a];var d=n+HC(o,a);s+=Wb(o,t,r,d,i)}else if(d=mZ(e),typeof d=="function")for(e=d.call(e),a=0;!(o=e.next()).done;)o=o.value,d=n+HC(o,a++),s+=Wb(o,t,r,d,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Kx(e,t,r){if(e==null)return e;var n=[],i=0;return Wb(e,n,"","",function(o){return t.call(r,o,i++)}),n}function vZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var na={current:null},qb={transition:null},_Z={ReactCurrentDispatcher:na,ReactCurrentBatchConfig:qb,ReactCurrentOwner:_O};Lr.Children={map:Kx,forEach:function(e,t,r){Kx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kx(e,function(){t++}),t},toArray:function(e){return Kx(e,function(t){return t})||[]},only:function(e){if(!xO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lr.Component=ig;Lr.Fragment=aZ;Lr.Profiler=lZ;Lr.PureComponent=yO;Lr.StrictMode=sZ;Lr.Suspense=dZ;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_Z;Lr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=KF({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=_O.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(d in t)JF.call(t,d)&&!QF.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&a!==void 0?a[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){a=Array(d);for(var h=0;h<d;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:u_,type:e.type,key:i,ref:o,props:n,_owner:s}};Lr.createContext=function(e){return e={$$typeof:uZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cZ,_context:e},e.Consumer=e};Lr.createElement=e6;Lr.createFactory=function(e){var t=e6.bind(null,e);return t.type=e,t};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(e){return{$$typeof:fZ,render:e}};Lr.isValidElement=xO;Lr.lazy=function(e){return{$$typeof:pZ,_payload:{_status:-1,_result:e},_init:vZ}};Lr.memo=function(e,t){return{$$typeof:hZ,type:e,compare:t===void 0?null:t}};Lr.startTransition=function(e){var t=qb.transition;qb.transition={};try{e()}finally{qb.transition=t}};Lr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lr.useCallback=function(e,t){return na.current.useCallback(e,t)};Lr.useContext=function(e){return na.current.useContext(e)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(e){return na.current.useDeferredValue(e)};Lr.useEffect=function(e,t){return na.current.useEffect(e,t)};Lr.useId=function(){return na.current.useId()};Lr.useImperativeHandle=function(e,t,r){return na.current.useImperativeHandle(e,t,r)};Lr.useInsertionEffect=function(e,t){return na.current.useInsertionEffect(e,t)};Lr.useLayoutEffect=function(e,t){return na.current.useLayoutEffect(e,t)};Lr.useMemo=function(e,t){return na.current.useMemo(e,t)};Lr.useReducer=function(e,t,r){return na.current.useReducer(e,t,r)};Lr.useRef=function(e){return na.current.useRef(e)};Lr.useState=function(e){return na.current.useState(e)};Lr.useSyncExternalStore=function(e,t,r){return na.current.useSyncExternalStore(e,t,r)};Lr.useTransition=function(){return na.current.useTransition()};Lr.version="18.2.0";GF.exports=Lr;var W=GF.exports;const qe=Kr(W),y1=iZ({__proto__:null,default:qe},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xZ=W,bZ=Symbol.for("react.element"),wZ=Symbol.for("react.fragment"),SZ=Object.prototype.hasOwnProperty,EZ=xZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CZ={key:!0,ref:!0,__self:!0,__source:!0};function t6(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)SZ.call(t,n)&&!CZ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:bZ,type:e,key:o,ref:s,props:i,_owner:EZ.current}}sS.Fragment=wZ;sS.jsx=t6;sS.jsxs=t6;HF.exports=sS;var F=HF.exports,r6={exports:{}},Ja={},n6={exports:{}},i6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Se,ye){var Ie=Se.length;Se.push(ye);e:for(;0<Ie;){var Xe=Ie-1>>>1,Ee=Se[Xe];if(0<i(Ee,ye))Se[Xe]=ye,Se[Ie]=Ee,Ie=Xe;else break e}}function r(Se){return Se.length===0?null:Se[0]}function n(Se){if(Se.length===0)return null;var ye=Se[0],Ie=Se.pop();if(Ie!==ye){Se[0]=Ie;e:for(var Xe=0,Ee=Se.length,De=Ee>>>1;Xe<De;){var Oe=2*(Xe+1)-1,Ge=Se[Oe],Be=Oe+1,at=Se[Be];if(0>i(Ge,Ie))Be<Ee&&0>i(at,Ge)?(Se[Xe]=at,Se[Be]=Ie,Xe=Be):(Se[Xe]=Ge,Se[Oe]=Ie,Xe=Oe);else if(Be<Ee&&0>i(at,Ie))Se[Xe]=at,Se[Be]=Ie,Xe=Be;else break e}}return ye}function i(Se,ye){var Ie=Se.sortIndex-ye.sortIndex;return Ie!==0?Ie:Se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var d=[],h=[],g=1,v=null,b=3,M=!1,A=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Se){for(var ye=r(h);ye!==null;){if(ye.callback===null)n(h);else if(ye.startTime<=Se)n(h),ye.sortIndex=ye.expirationTime,t(d,ye);else break;ye=r(h)}}function R(Se){if(w=!1,T(Se),!A)if(r(d)!==null)A=!0,he(z);else{var ye=r(h);ye!==null&&ve(R,ye.startTime-Se)}}function z(Se,ye){A=!1,w&&(w=!1,O(Z),Z=-1),M=!0;var Ie=b;try{for(T(ye),v=r(d);v!==null&&(!(v.expirationTime>ye)||Se&&!ae());){var Xe=v.callback;if(typeof Xe=="function"){v.callback=null,b=v.priorityLevel;var Ee=Xe(v.expirationTime<=ye);ye=e.unstable_now(),typeof Ee=="function"?v.callback=Ee:v===r(d)&&n(d),T(ye)}else n(d);v=r(d)}if(v!==null)var De=!0;else{var Oe=r(h);Oe!==null&&ve(R,Oe.startTime-ye),De=!1}return De}finally{v=null,b=Ie,M=!1}}var j=!1,V=null,Z=-1,ie=5,ne=-1;function ae(){return!(e.unstable_now()-ne<ie)}function de(){if(V!==null){var Se=e.unstable_now();ne=Se;var ye=!0;try{ye=V(!0,Se)}finally{ye?pe():(j=!1,V=null)}}else j=!1}var pe;if(typeof I=="function")pe=function(){I(de)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,be=Pe.port2;Pe.port1.onmessage=de,pe=function(){be.postMessage(null)}}else pe=function(){P(de,0)};function he(Se){V=Se,j||(j=!0,pe())}function ve(Se,ye){Z=P(function(){Se(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Se){Se.callback=null},e.unstable_continueExecution=function(){A||M||(A=!0,he(z))},e.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<Se?Math.floor(1e3/Se):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Se){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var Ie=b;b=ye;try{return Se()}finally{b=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Se,ye){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var Ie=b;b=Se;try{return ye()}finally{b=Ie}},e.unstable_scheduleCallback=function(Se,ye,Ie){var Xe=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Xe+Ie:Xe):Ie=Xe,Se){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Ie+Ee,Se={id:g++,callback:ye,priorityLevel:Se,startTime:Ie,expirationTime:Ee,sortIndex:-1},Ie>Xe?(Se.sortIndex=Ie,t(h,Se),r(d)===null&&Se===r(h)&&(w?(O(Z),Z=-1):w=!0,ve(R,Ie-Xe))):(Se.sortIndex=Ee,t(d,Se),A||M||(A=!0,he(z))),Se},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(Se){var ye=b;return function(){var Ie=b;b=ye;try{return Se.apply(this,arguments)}finally{b=Ie}}}})(i6);n6.exports=i6;var TZ=n6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6=W,Ya=TZ;function yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a6=new Set,Zv={};function sh(e,t){_m(e,t),_m(e+"Capture",t)}function _m(e,t){for(Zv[e]=t,e=0;e<t.length;e++)a6.add(t[e])}var Yc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aP=Object.prototype.hasOwnProperty,kZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yz={},vz={};function PZ(e){return aP.call(vz,e)?!0:aP.call(yz,e)?!1:kZ.test(e)?vz[e]=!0:(yz[e]=!0,!1)}function AZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MZ(e,t,r,n){if(t===null||typeof t>"u"||AZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ia(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ho={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ho[e]=new ia(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ho[t]=new ia(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ho[e]=new ia(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ho[e]=new ia(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ho[e]=new ia(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ho[e]=new ia(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ho[e]=new ia(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ho[e]=new ia(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ho[e]=new ia(e,5,!1,e.toLowerCase(),null,!1,!1)});var bO=/[\-:]([a-z])/g;function wO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bO,wO);ho[t]=new ia(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bO,wO);ho[t]=new ia(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bO,wO);ho[t]=new ia(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ho[e]=new ia(e,1,!1,e.toLowerCase(),null,!1,!1)});ho.xlinkHref=new ia("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ho[e]=new ia(e,1,!1,e.toLowerCase(),null,!0,!0)});function SO(e,t,r,n){var i=ho.hasOwnProperty(t)?ho[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MZ(t,r,i,n)&&(r=null),n||i===null?PZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var lu=o6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zx=Symbol.for("react.element"),Ap=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),EO=Symbol.for("react.strict_mode"),sP=Symbol.for("react.profiler"),s6=Symbol.for("react.provider"),l6=Symbol.for("react.context"),CO=Symbol.for("react.forward_ref"),lP=Symbol.for("react.suspense"),cP=Symbol.for("react.suspense_list"),TO=Symbol.for("react.memo"),Wu=Symbol.for("react.lazy"),c6=Symbol.for("react.offscreen"),_z=Symbol.iterator;function Py(e){return e===null||typeof e!="object"?null:(e=_z&&e[_z]||e["@@iterator"],typeof e=="function"?e:null)}var si=Object.assign,GC;function cv(e){if(GC===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);GC=t&&t[1]||""}return`
`+GC+e}var YC=!1;function KC(e,t){if(!e||YC)return"";YC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=a);break}}}finally{YC=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cv(e):""}function OZ(e){switch(e.tag){case 5:return cv(e.type);case 16:return cv("Lazy");case 13:return cv("Suspense");case 19:return cv("SuspenseList");case 0:case 2:case 15:return e=KC(e.type,!1),e;case 11:return e=KC(e.type.render,!1),e;case 1:return e=KC(e.type,!0),e;default:return""}}function uP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mp:return"Fragment";case Ap:return"Portal";case sP:return"Profiler";case EO:return"StrictMode";case lP:return"Suspense";case cP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case l6:return(e.displayName||"Context")+".Consumer";case s6:return(e._context.displayName||"Context")+".Provider";case CO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TO:return t=e.displayName||null,t!==null?t:uP(e.type)||"Memo";case Wu:t=e._payload,e=e._init;try{return uP(e(t))}catch{}}return null}function IZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uP(t);case 8:return t===EO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function u6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RZ(e){var t=u6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xx(e){e._valueTracker||(e._valueTracker=RZ(e))}function f6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=u6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function v1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fP(e,t){var r=t.checked;return si({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xz(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function d6(e,t){t=t.checked,t!=null&&SO(e,"checked",t,!1)}function dP(e,t){d6(e,t);var r=Sf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hP(e,t.type,r):t.hasOwnProperty("defaultValue")&&hP(e,t.type,Sf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bz(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hP(e,t,r){(t!=="number"||v1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var uv=Array.isArray;function Jp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sf(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(yt(91));return si({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wz(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(yt(92));if(uv(r)){if(1<r.length)throw Error(yt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sf(r)}}function h6(e,t){var r=Sf(t.value),n=Sf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function p6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?p6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jx,m6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jx=Jx||document.createElement("div"),Jx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$Z=["Webkit","ms","Moz","O"];Object.keys(Cv).forEach(function(e){$Z.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cv[t]=Cv[e]})});function g6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cv.hasOwnProperty(e)&&Cv[e]?(""+t).trim():t+"px"}function y6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=g6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var DZ=si({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gP(e,t){if(t){if(DZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(yt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(yt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(yt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(yt(62))}}function yP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vP=null;function kO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _P=null,Qp=null,em=null;function Ez(e){if(e=h_(e)){if(typeof _P!="function")throw Error(yt(280));var t=e.stateNode;t&&(t=dS(t),_P(e.stateNode,e.type,t))}}function v6(e){Qp?em?em.push(e):em=[e]:Qp=e}function _6(){if(Qp){var e=Qp,t=em;if(em=Qp=null,Ez(e),t)for(e=0;e<t.length;e++)Ez(t[e])}}function x6(e,t){return e(t)}function b6(){}var ZC=!1;function w6(e,t,r){if(ZC)return e(t,r);ZC=!0;try{return x6(e,t,r)}finally{ZC=!1,(Qp!==null||em!==null)&&(b6(),_6())}}function Jv(e,t){var r=e.stateNode;if(r===null)return null;var n=dS(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(yt(231,t,typeof r));return r}var xP=!1;if(Yc)try{var Ay={};Object.defineProperty(Ay,"passive",{get:function(){xP=!0}}),window.addEventListener("test",Ay,Ay),window.removeEventListener("test",Ay,Ay)}catch{xP=!1}function LZ(e,t,r,n,i,o,s,a,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(g){this.onError(g)}}var Tv=!1,_1=null,x1=!1,bP=null,zZ={onError:function(e){Tv=!0,_1=e}};function NZ(e,t,r,n,i,o,s,a,d){Tv=!1,_1=null,LZ.apply(zZ,arguments)}function jZ(e,t,r,n,i,o,s,a,d){if(NZ.apply(this,arguments),Tv){if(Tv){var h=_1;Tv=!1,_1=null}else throw Error(yt(198));x1||(x1=!0,bP=h)}}function lh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function S6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cz(e){if(lh(e)!==e)throw Error(yt(188))}function BZ(e){var t=e.alternate;if(!t){if(t=lh(e),t===null)throw Error(yt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Cz(i),e;if(o===n)return Cz(i),t;o=o.sibling}throw Error(yt(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(yt(189))}}if(r.alternate!==n)throw Error(yt(190))}if(r.tag!==3)throw Error(yt(188));return r.stateNode.current===r?e:t}function E6(e){return e=BZ(e),e!==null?C6(e):null}function C6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C6(e);if(t!==null)return t;e=e.sibling}return null}var T6=Ya.unstable_scheduleCallback,Tz=Ya.unstable_cancelCallback,FZ=Ya.unstable_shouldYield,UZ=Ya.unstable_requestPaint,wi=Ya.unstable_now,VZ=Ya.unstable_getCurrentPriorityLevel,PO=Ya.unstable_ImmediatePriority,k6=Ya.unstable_UserBlockingPriority,b1=Ya.unstable_NormalPriority,WZ=Ya.unstable_LowPriority,P6=Ya.unstable_IdlePriority,lS=null,Wl=null;function qZ(e){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(lS,e,void 0,(e.current.flags&128)===128)}catch{}}var ul=Math.clz32?Math.clz32:YZ,HZ=Math.log,GZ=Math.LN2;function YZ(e){return e>>>=0,e===0?32:31-(HZ(e)/GZ|0)|0}var Qx=64,eb=4194304;function fv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function w1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=fv(a):(o&=s,o!==0&&(n=fv(o)))}else s=r&~i,s!==0?n=fv(s):o!==0&&(n=fv(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ul(t),i=1<<r,n|=e[r],t&=~i;return n}function KZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ul(o),a=1<<s,d=i[s];d===-1?(!(a&r)||a&n)&&(i[s]=KZ(a,t)):d<=t&&(e.expiredLanes|=a),o&=~a}}function wP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function A6(){var e=Qx;return Qx<<=1,!(Qx&4194240)&&(Qx=64),e}function XC(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function f_(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ul(t),e[t]=r}function XZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ul(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function AO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ul(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var un=0;function M6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O6,MO,I6,R6,$6,SP=!1,tb=[],af=null,sf=null,lf=null,Qv=new Map,e0=new Map,Gu=[],JZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kz(e,t){switch(e){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":sf=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":Qv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":e0.delete(t.pointerId)}}function My(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=h_(t),t!==null&&MO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QZ(e,t,r,n,i){switch(t){case"focusin":return af=My(af,e,t,r,n,i),!0;case"dragenter":return sf=My(sf,e,t,r,n,i),!0;case"mouseover":return lf=My(lf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Qv.set(o,My(Qv.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,e0.set(o,My(e0.get(o)||null,e,t,r,n,i)),!0}return!1}function D6(e){var t=kd(e.target);if(t!==null){var r=lh(t);if(r!==null){if(t=r.tag,t===13){if(t=S6(r),t!==null){e.blockedOn=t,$6(e.priority,function(){I6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=EP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vP=n,r.target.dispatchEvent(n),vP=null}else return t=h_(r),t!==null&&MO(t),e.blockedOn=r,!1;t.shift()}return!0}function Pz(e,t,r){Hb(e)&&r.delete(t)}function eX(){SP=!1,af!==null&&Hb(af)&&(af=null),sf!==null&&Hb(sf)&&(sf=null),lf!==null&&Hb(lf)&&(lf=null),Qv.forEach(Pz),e0.forEach(Pz)}function Oy(e,t){e.blockedOn===t&&(e.blockedOn=null,SP||(SP=!0,Ya.unstable_scheduleCallback(Ya.unstable_NormalPriority,eX)))}function t0(e){function t(i){return Oy(i,e)}if(0<tb.length){Oy(tb[0],e);for(var r=1;r<tb.length;r++){var n=tb[r];n.blockedOn===e&&(n.blockedOn=null)}}for(af!==null&&Oy(af,e),sf!==null&&Oy(sf,e),lf!==null&&Oy(lf,e),Qv.forEach(t),e0.forEach(t),r=0;r<Gu.length;r++)n=Gu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gu.length&&(r=Gu[0],r.blockedOn===null);)D6(r),r.blockedOn===null&&Gu.shift()}var tm=lu.ReactCurrentBatchConfig,S1=!0;function tX(e,t,r,n){var i=un,o=tm.transition;tm.transition=null;try{un=1,OO(e,t,r,n)}finally{un=i,tm.transition=o}}function rX(e,t,r,n){var i=un,o=tm.transition;tm.transition=null;try{un=4,OO(e,t,r,n)}finally{un=i,tm.transition=o}}function OO(e,t,r,n){if(S1){var i=EP(e,t,r,n);if(i===null)sT(e,t,n,E1,r),kz(e,n);else if(QZ(i,e,t,r,n))n.stopPropagation();else if(kz(e,n),t&4&&-1<JZ.indexOf(e)){for(;i!==null;){var o=h_(i);if(o!==null&&O6(o),o=EP(e,t,r,n),o===null&&sT(e,t,n,E1,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else sT(e,t,n,null,r)}}var E1=null;function EP(e,t,r,n){if(E1=null,e=kO(n),e=kd(e),e!==null)if(t=lh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=S6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return E1=e,null}function L6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VZ()){case PO:return 1;case k6:return 4;case b1:case WZ:return 16;case P6:return 536870912;default:return 16}default:return 16}}var Zu=null,IO=null,Gb=null;function z6(){if(Gb)return Gb;var e,t=IO,r=t.length,n,i="value"in Zu?Zu.value:Zu.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Gb=i.slice(e,1<n?1-n:void 0)}function Yb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rb(){return!0}function Az(){return!1}function Qa(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rb:Az,this.isPropagationStopped=Az,this}return si(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rb)},persist:function(){},isPersistent:rb}),t}var og={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RO=Qa(og),d_=si({},og,{view:0,detail:0}),nX=Qa(d_),JC,QC,Iy,cS=si({},d_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$O,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Iy&&(Iy&&e.type==="mousemove"?(JC=e.screenX-Iy.screenX,QC=e.screenY-Iy.screenY):QC=JC=0,Iy=e),JC)},movementY:function(e){return"movementY"in e?e.movementY:QC}}),Mz=Qa(cS),iX=si({},cS,{dataTransfer:0}),oX=Qa(iX),aX=si({},d_,{relatedTarget:0}),eT=Qa(aX),sX=si({},og,{animationName:0,elapsedTime:0,pseudoElement:0}),lX=Qa(sX),cX=si({},og,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uX=Qa(cX),fX=si({},og,{data:0}),Oz=Qa(fX),dX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pX[e])?!!t[e]:!1}function $O(){return mX}var gX=si({},d_,{key:function(e){if(e.key){var t=dX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$O,charCode:function(e){return e.type==="keypress"?Yb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yX=Qa(gX),vX=si({},cS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iz=Qa(vX),_X=si({},d_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$O}),xX=Qa(_X),bX=si({},og,{propertyName:0,elapsedTime:0,pseudoElement:0}),wX=Qa(bX),SX=si({},cS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EX=Qa(SX),CX=[9,13,27,32],DO=Yc&&"CompositionEvent"in window,kv=null;Yc&&"documentMode"in document&&(kv=document.documentMode);var TX=Yc&&"TextEvent"in window&&!kv,N6=Yc&&(!DO||kv&&8<kv&&11>=kv),Rz=String.fromCharCode(32),$z=!1;function j6(e,t){switch(e){case"keyup":return CX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Op=!1;function kX(e,t){switch(e){case"compositionend":return B6(t);case"keypress":return t.which!==32?null:($z=!0,Rz);case"textInput":return e=t.data,e===Rz&&$z?null:e;default:return null}}function PX(e,t){if(Op)return e==="compositionend"||!DO&&j6(e,t)?(e=z6(),Gb=IO=Zu=null,Op=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return N6&&t.locale!=="ko"?null:t.data;default:return null}}var AX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AX[e.type]:t==="textarea"}function F6(e,t,r,n){v6(n),t=C1(t,"onChange"),0<t.length&&(r=new RO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pv=null,r0=null;function MX(e){J6(e,0)}function uS(e){var t=$p(e);if(f6(t))return e}function OX(e,t){if(e==="change")return t}var U6=!1;if(Yc){var tT;if(Yc){var rT="oninput"in document;if(!rT){var Lz=document.createElement("div");Lz.setAttribute("oninput","return;"),rT=typeof Lz.oninput=="function"}tT=rT}else tT=!1;U6=tT&&(!document.documentMode||9<document.documentMode)}function zz(){Pv&&(Pv.detachEvent("onpropertychange",V6),r0=Pv=null)}function V6(e){if(e.propertyName==="value"&&uS(r0)){var t=[];F6(t,r0,e,kO(e)),w6(MX,t)}}function IX(e,t,r){e==="focusin"?(zz(),Pv=t,r0=r,Pv.attachEvent("onpropertychange",V6)):e==="focusout"&&zz()}function RX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uS(r0)}function $X(e,t){if(e==="click")return uS(t)}function DX(e,t){if(e==="input"||e==="change")return uS(t)}function LX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dl=typeof Object.is=="function"?Object.is:LX;function n0(e,t){if(dl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!aP.call(t,i)||!dl(e[i],t[i]))return!1}return!0}function Nz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jz(e,t){var r=Nz(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nz(r)}}function W6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?W6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function q6(){for(var e=window,t=v1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=v1(e.document)}return t}function LO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zX(e){var t=q6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&W6(r.ownerDocument.documentElement,r)){if(n!==null&&LO(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=jz(r,o);var s=jz(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NX=Yc&&"documentMode"in document&&11>=document.documentMode,Ip=null,CP=null,Av=null,TP=!1;function Bz(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;TP||Ip==null||Ip!==v1(n)||(n=Ip,"selectionStart"in n&&LO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Av&&n0(Av,n)||(Av=n,n=C1(CP,"onSelect"),0<n.length&&(t=new RO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ip)))}function nb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rp={animationend:nb("Animation","AnimationEnd"),animationiteration:nb("Animation","AnimationIteration"),animationstart:nb("Animation","AnimationStart"),transitionend:nb("Transition","TransitionEnd")},nT={},H6={};Yc&&(H6=document.createElement("div").style,"AnimationEvent"in window||(delete Rp.animationend.animation,delete Rp.animationiteration.animation,delete Rp.animationstart.animation),"TransitionEvent"in window||delete Rp.transitionend.transition);function fS(e){if(nT[e])return nT[e];if(!Rp[e])return e;var t=Rp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in H6)return nT[e]=t[r];return e}var G6=fS("animationend"),Y6=fS("animationiteration"),K6=fS("animationstart"),Z6=fS("transitionend"),X6=new Map,Fz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function If(e,t){X6.set(e,t),sh(t,[e])}for(var iT=0;iT<Fz.length;iT++){var oT=Fz[iT],jX=oT.toLowerCase(),BX=oT[0].toUpperCase()+oT.slice(1);If(jX,"on"+BX)}If(G6,"onAnimationEnd");If(Y6,"onAnimationIteration");If(K6,"onAnimationStart");If("dblclick","onDoubleClick");If("focusin","onFocus");If("focusout","onBlur");If(Z6,"onTransitionEnd");_m("onMouseEnter",["mouseout","mouseover"]);_m("onMouseLeave",["mouseout","mouseover"]);_m("onPointerEnter",["pointerout","pointerover"]);_m("onPointerLeave",["pointerout","pointerover"]);sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FX=new Set("cancel close invalid load scroll toggle".split(" ").concat(dv));function Uz(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,jZ(n,t,void 0,e),e.currentTarget=null}function J6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],d=a.instance,h=a.currentTarget;if(a=a.listener,d!==o&&i.isPropagationStopped())break e;Uz(i,a,h),o=d}else for(s=0;s<n.length;s++){if(a=n[s],d=a.instance,h=a.currentTarget,a=a.listener,d!==o&&i.isPropagationStopped())break e;Uz(i,a,h),o=d}}}if(x1)throw e=bP,x1=!1,bP=null,e}function In(e,t){var r=t[OP];r===void 0&&(r=t[OP]=new Set);var n=e+"__bubble";r.has(n)||(Q6(t,e,2,!1),r.add(n))}function aT(e,t,r){var n=0;t&&(n|=4),Q6(r,e,n,t)}var ib="_reactListening"+Math.random().toString(36).slice(2);function i0(e){if(!e[ib]){e[ib]=!0,a6.forEach(function(r){r!=="selectionchange"&&(FX.has(r)||aT(r,!1,e),aT(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ib]||(t[ib]=!0,aT("selectionchange",!1,t))}}function Q6(e,t,r,n){switch(L6(t)){case 1:var i=tX;break;case 4:i=rX;break;default:i=OO}r=i.bind(null,t,r,e),i=void 0,!xP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function sT(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;a!==null;){if(s=kd(a),s===null)return;if(d=s.tag,d===5||d===6){n=o=s;continue e}a=a.parentNode}}n=n.return}w6(function(){var h=o,g=kO(r),v=[];e:{var b=X6.get(e);if(b!==void 0){var M=RO,A=e;switch(e){case"keypress":if(Yb(r)===0)break e;case"keydown":case"keyup":M=yX;break;case"focusin":A="focus",M=eT;break;case"focusout":A="blur",M=eT;break;case"beforeblur":case"afterblur":M=eT;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Mz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=oX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=xX;break;case G6:case Y6:case K6:M=lX;break;case Z6:M=wX;break;case"scroll":M=nX;break;case"wheel":M=EX;break;case"copy":case"cut":case"paste":M=uX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Iz}var w=(t&4)!==0,P=!w&&e==="scroll",O=w?b!==null?b+"Capture":null:b;w=[];for(var I=h,T;I!==null;){T=I;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,O!==null&&(R=Jv(I,O),R!=null&&w.push(o0(I,R,T)))),P)break;I=I.return}0<w.length&&(b=new M(b,A,null,r,g),v.push({event:b,listeners:w}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",b&&r!==vP&&(A=r.relatedTarget||r.fromElement)&&(kd(A)||A[Kc]))break e;if((M||b)&&(b=g.window===g?g:(b=g.ownerDocument)?b.defaultView||b.parentWindow:window,M?(A=r.relatedTarget||r.toElement,M=h,A=A?kd(A):null,A!==null&&(P=lh(A),A!==P||A.tag!==5&&A.tag!==6)&&(A=null)):(M=null,A=h),M!==A)){if(w=Mz,R="onMouseLeave",O="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(w=Iz,R="onPointerLeave",O="onPointerEnter",I="pointer"),P=M==null?b:$p(M),T=A==null?b:$p(A),b=new w(R,I+"leave",M,r,g),b.target=P,b.relatedTarget=T,R=null,kd(g)===h&&(w=new w(O,I+"enter",A,r,g),w.target=T,w.relatedTarget=P,R=w),P=R,M&&A)t:{for(w=M,O=A,I=0,T=w;T;T=cp(T))I++;for(T=0,R=O;R;R=cp(R))T++;for(;0<I-T;)w=cp(w),I--;for(;0<T-I;)O=cp(O),T--;for(;I--;){if(w===O||O!==null&&w===O.alternate)break t;w=cp(w),O=cp(O)}w=null}else w=null;M!==null&&Vz(v,b,M,w,!1),A!==null&&P!==null&&Vz(v,P,A,w,!0)}}e:{if(b=h?$p(h):window,M=b.nodeName&&b.nodeName.toLowerCase(),M==="select"||M==="input"&&b.type==="file")var z=OX;else if(Dz(b))if(U6)z=DX;else{z=RX;var j=IX}else(M=b.nodeName)&&M.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(z=$X);if(z&&(z=z(e,h))){F6(v,z,r,g);break e}j&&j(e,b,h),e==="focusout"&&(j=b._wrapperState)&&j.controlled&&b.type==="number"&&hP(b,"number",b.value)}switch(j=h?$p(h):window,e){case"focusin":(Dz(j)||j.contentEditable==="true")&&(Ip=j,CP=h,Av=null);break;case"focusout":Av=CP=Ip=null;break;case"mousedown":TP=!0;break;case"contextmenu":case"mouseup":case"dragend":TP=!1,Bz(v,r,g);break;case"selectionchange":if(NX)break;case"keydown":case"keyup":Bz(v,r,g)}var V;if(DO)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Op?j6(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(N6&&r.locale!=="ko"&&(Op||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Op&&(V=z6()):(Zu=g,IO="value"in Zu?Zu.value:Zu.textContent,Op=!0)),j=C1(h,Z),0<j.length&&(Z=new Oz(Z,e,null,r,g),v.push({event:Z,listeners:j}),V?Z.data=V:(V=B6(r),V!==null&&(Z.data=V)))),(V=TX?kX(e,r):PX(e,r))&&(h=C1(h,"onBeforeInput"),0<h.length&&(g=new Oz("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:h}),g.data=V))}J6(v,t)})}function o0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function C1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Jv(e,r),o!=null&&n.unshift(o0(e,o,i)),o=Jv(e,t),o!=null&&n.push(o0(e,o,i))),e=e.return}return n}function cp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vz(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,d=a.alternate,h=a.stateNode;if(d!==null&&d===n)break;a.tag===5&&h!==null&&(a=h,i?(d=Jv(r,o),d!=null&&s.unshift(o0(r,d,a))):i||(d=Jv(r,o),d!=null&&s.push(o0(r,d,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var UX=/\r\n?/g,VX=/\u0000|\uFFFD/g;function Wz(e){return(typeof e=="string"?e:""+e).replace(UX,`
`).replace(VX,"")}function ob(e,t,r){if(t=Wz(t),Wz(e)!==t&&r)throw Error(yt(425))}function T1(){}var kP=null,PP=null;function AP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MP=typeof setTimeout=="function"?setTimeout:void 0,WX=typeof clearTimeout=="function"?clearTimeout:void 0,qz=typeof Promise=="function"?Promise:void 0,qX=typeof queueMicrotask=="function"?queueMicrotask:typeof qz<"u"?function(e){return qz.resolve(null).then(e).catch(HX)}:MP;function HX(e){setTimeout(function(){throw e})}function lT(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),t0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);t0(t)}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ag=Math.random().toString(36).slice(2),Nl="__reactFiber$"+ag,a0="__reactProps$"+ag,Kc="__reactContainer$"+ag,OP="__reactEvents$"+ag,GX="__reactListeners$"+ag,YX="__reactHandles$"+ag;function kd(e){var t=e[Nl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kc]||r[Nl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hz(e);e!==null;){if(r=e[Nl])return r;e=Hz(e)}return t}e=r,r=e.parentNode}return null}function h_(e){return e=e[Nl]||e[Kc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $p(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(yt(33))}function dS(e){return e[a0]||null}var IP=[],Dp=-1;function Rf(e){return{current:e}}function Dn(e){0>Dp||(e.current=IP[Dp],IP[Dp]=null,Dp--)}function Tn(e,t){Dp++,IP[Dp]=e.current,e.current=t}var Ef={},Do=Rf(Ef),xa=Rf(!1),Hd=Ef;function xm(e,t){var r=e.type.contextTypes;if(!r)return Ef;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ba(e){return e=e.childContextTypes,e!=null}function k1(){Dn(xa),Dn(Do)}function Gz(e,t,r){if(Do.current!==Ef)throw Error(yt(168));Tn(Do,t),Tn(xa,r)}function eU(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(yt(108,IZ(e)||"Unknown",i));return si({},r,n)}function P1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ef,Hd=Do.current,Tn(Do,e),Tn(xa,xa.current),!0}function Yz(e,t,r){var n=e.stateNode;if(!n)throw Error(yt(169));r?(e=eU(e,t,Hd),n.__reactInternalMemoizedMergedChildContext=e,Dn(xa),Dn(Do),Tn(Do,e)):Dn(xa),Tn(xa,r)}var Ic=null,hS=!1,cT=!1;function tU(e){Ic===null?Ic=[e]:Ic.push(e)}function KX(e){hS=!0,tU(e)}function $f(){if(!cT&&Ic!==null){cT=!0;var e=0,t=un;try{var r=Ic;for(un=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ic=null,hS=!1}catch(i){throw Ic!==null&&(Ic=Ic.slice(e+1)),T6(PO,$f),i}finally{un=t,cT=!1}}return null}var Lp=[],zp=0,A1=null,M1=0,ps=[],ms=0,Gd=null,$c=1,Dc="";function md(e,t){Lp[zp++]=M1,Lp[zp++]=A1,A1=e,M1=t}function rU(e,t,r){ps[ms++]=$c,ps[ms++]=Dc,ps[ms++]=Gd,Gd=e;var n=$c;e=Dc;var i=32-ul(n)-1;n&=~(1<<i),r+=1;var o=32-ul(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,$c=1<<32-ul(t)+i|r<<i|n,Dc=o+e}else $c=1<<o|r<<i|n,Dc=e}function zO(e){e.return!==null&&(md(e,1),rU(e,1,0))}function NO(e){for(;e===A1;)A1=Lp[--zp],Lp[zp]=null,M1=Lp[--zp],Lp[zp]=null;for(;e===Gd;)Gd=ps[--ms],ps[ms]=null,Dc=ps[--ms],ps[ms]=null,$c=ps[--ms],ps[ms]=null}var qa=null,Wa=null,Gn=!1,nl=null;function nU(e,t){var r=ys(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kz(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qa=e,Wa=cf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qa=e,Wa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gd!==null?{id:$c,overflow:Dc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ys(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qa=e,Wa=null,!0):!1;default:return!1}}function RP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $P(e){if(Gn){var t=Wa;if(t){var r=t;if(!Kz(e,t)){if(RP(e))throw Error(yt(418));t=cf(r.nextSibling);var n=qa;t&&Kz(e,t)?nU(n,r):(e.flags=e.flags&-4097|2,Gn=!1,qa=e)}}else{if(RP(e))throw Error(yt(418));e.flags=e.flags&-4097|2,Gn=!1,qa=e}}}function Zz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qa=e}function ab(e){if(e!==qa)return!1;if(!Gn)return Zz(e),Gn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AP(e.type,e.memoizedProps)),t&&(t=Wa)){if(RP(e))throw iU(),Error(yt(418));for(;t;)nU(e,t),t=cf(t.nextSibling)}if(Zz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(yt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Wa=cf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Wa=null}}else Wa=qa?cf(e.stateNode.nextSibling):null;return!0}function iU(){for(var e=Wa;e;)e=cf(e.nextSibling)}function bm(){Wa=qa=null,Gn=!1}function jO(e){nl===null?nl=[e]:nl.push(e)}var ZX=lu.ReactCurrentBatchConfig;function el(e,t){if(e&&e.defaultProps){t=si({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var O1=Rf(null),I1=null,Np=null,BO=null;function FO(){BO=Np=I1=null}function UO(e){var t=O1.current;Dn(O1),e._currentValue=t}function DP(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rm(e,t){I1=e,BO=Np=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(va=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(BO!==e)if(e={context:e,memoizedValue:t,next:null},Np===null){if(I1===null)throw Error(yt(308));Np=e,I1.dependencies={lanes:0,firstContext:e}}else Np=Np.next=e;return t}var Pd=null;function VO(e){Pd===null?Pd=[e]:Pd.push(e)}function oU(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,VO(t)):(r.next=i.next,i.next=r),t.interleaved=r,Zc(e,n)}function Zc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qu=!1;function WO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Zc(e,r)}return i=n.interleaved,i===null?(t.next=t,VO(n)):(t.next=i.next,i.next=t),n.interleaved=t,Zc(e,r)}function Kb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,AO(e,r)}}function Xz(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function R1(e,t,r,n){var i=e.updateQueue;qu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var d=a,h=d.next;d.next=null,s===null?o=h:s.next=h,s=d;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=d))}if(o!==null){var v=i.baseState;s=0,g=h=d=null,a=o;do{var b=a.lane,M=a.eventTime;if((n&b)===b){g!==null&&(g=g.next={eventTime:M,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=e,w=a;switch(b=t,M=r,w.tag){case 1:if(A=w.payload,typeof A=="function"){v=A.call(M,v,b);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=w.payload,b=typeof A=="function"?A.call(M,v,b):A,b==null)break e;v=si({},v,b);break e;case 2:qu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[a]:b.push(a))}else M={eventTime:M,lane:b,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=M,d=v):g=g.next=M,s|=b;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;b=a,a=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(1);if(g===null&&(d=v),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Kd|=s,e.lanes=s,e.memoizedState=v}}function Jz(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(yt(191,i));i.call(n)}}}var sU=new o6.Component().refs;function LP(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:si({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pS={isMounted:function(e){return(e=e._reactInternals)?lh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ra(),i=df(e),o=Vc(n,i);o.payload=t,r!=null&&(o.callback=r),t=uf(e,o,i),t!==null&&(fl(t,e,i,n),Kb(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ra(),i=df(e),o=Vc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=uf(e,o,i),t!==null&&(fl(t,e,i,n),Kb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ra(),n=df(e),i=Vc(r,n);i.tag=2,t!=null&&(i.callback=t),t=uf(e,i,n),t!==null&&(fl(t,e,n,r),Kb(t,e,n))}};function Qz(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!n0(r,n)||!n0(i,o):!0}function lU(e,t,r){var n=!1,i=Ef,o=t.contextType;return typeof o=="object"&&o!==null?o=Ts(o):(i=ba(t)?Hd:Do.current,n=t.contextTypes,o=(n=n!=null)?xm(e,i):Ef),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pS,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function eN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pS.enqueueReplaceState(t,t.state,null)}function zP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=sU,WO(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ts(o):(o=ba(t)?Hd:Do.current,i.context=xm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(LP(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pS.enqueueReplaceState(i,i.state,null),R1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ry(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(yt(309));var n=r.stateNode}if(!n)throw Error(yt(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===sU&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(yt(284));if(!r._owner)throw Error(yt(290,e))}return e}function sb(e,t){throw e=Object.prototype.toString.call(t),Error(yt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tN(e){var t=e._init;return t(e._payload)}function cU(e){function t(O,I){if(e){var T=O.deletions;T===null?(O.deletions=[I],O.flags|=16):T.push(I)}}function r(O,I){if(!e)return null;for(;I!==null;)t(O,I),I=I.sibling;return null}function n(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function i(O,I){return O=hf(O,I),O.index=0,O.sibling=null,O}function o(O,I,T){return O.index=T,e?(T=O.alternate,T!==null?(T=T.index,T<I?(O.flags|=2,I):T):(O.flags|=2,I)):(O.flags|=1048576,I)}function s(O){return e&&O.alternate===null&&(O.flags|=2),O}function a(O,I,T,R){return I===null||I.tag!==6?(I=gT(T,O.mode,R),I.return=O,I):(I=i(I,T),I.return=O,I)}function d(O,I,T,R){var z=T.type;return z===Mp?g(O,I,T.props.children,R,T.key):I!==null&&(I.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Wu&&tN(z)===I.type)?(R=i(I,T.props),R.ref=Ry(O,I,T),R.return=O,R):(R=t1(T.type,T.key,T.props,null,O.mode,R),R.ref=Ry(O,I,T),R.return=O,R)}function h(O,I,T,R){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=yT(T,O.mode,R),I.return=O,I):(I=i(I,T.children||[]),I.return=O,I)}function g(O,I,T,R,z){return I===null||I.tag!==7?(I=jd(T,O.mode,R,z),I.return=O,I):(I=i(I,T),I.return=O,I)}function v(O,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=gT(""+I,O.mode,T),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Zx:return T=t1(I.type,I.key,I.props,null,O.mode,T),T.ref=Ry(O,null,I),T.return=O,T;case Ap:return I=yT(I,O.mode,T),I.return=O,I;case Wu:var R=I._init;return v(O,R(I._payload),T)}if(uv(I)||Py(I))return I=jd(I,O.mode,T,null),I.return=O,I;sb(O,I)}return null}function b(O,I,T,R){var z=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:a(O,I,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zx:return T.key===z?d(O,I,T,R):null;case Ap:return T.key===z?h(O,I,T,R):null;case Wu:return z=T._init,b(O,I,z(T._payload),R)}if(uv(T)||Py(T))return z!==null?null:g(O,I,T,R,null);sb(O,T)}return null}function M(O,I,T,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return O=O.get(T)||null,a(I,O,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zx:return O=O.get(R.key===null?T:R.key)||null,d(I,O,R,z);case Ap:return O=O.get(R.key===null?T:R.key)||null,h(I,O,R,z);case Wu:var j=R._init;return M(O,I,T,j(R._payload),z)}if(uv(R)||Py(R))return O=O.get(T)||null,g(I,O,R,z,null);sb(I,R)}return null}function A(O,I,T,R){for(var z=null,j=null,V=I,Z=I=0,ie=null;V!==null&&Z<T.length;Z++){V.index>Z?(ie=V,V=null):ie=V.sibling;var ne=b(O,V,T[Z],R);if(ne===null){V===null&&(V=ie);break}e&&V&&ne.alternate===null&&t(O,V),I=o(ne,I,Z),j===null?z=ne:j.sibling=ne,j=ne,V=ie}if(Z===T.length)return r(O,V),Gn&&md(O,Z),z;if(V===null){for(;Z<T.length;Z++)V=v(O,T[Z],R),V!==null&&(I=o(V,I,Z),j===null?z=V:j.sibling=V,j=V);return Gn&&md(O,Z),z}for(V=n(O,V);Z<T.length;Z++)ie=M(V,O,Z,T[Z],R),ie!==null&&(e&&ie.alternate!==null&&V.delete(ie.key===null?Z:ie.key),I=o(ie,I,Z),j===null?z=ie:j.sibling=ie,j=ie);return e&&V.forEach(function(ae){return t(O,ae)}),Gn&&md(O,Z),z}function w(O,I,T,R){var z=Py(T);if(typeof z!="function")throw Error(yt(150));if(T=z.call(T),T==null)throw Error(yt(151));for(var j=z=null,V=I,Z=I=0,ie=null,ne=T.next();V!==null&&!ne.done;Z++,ne=T.next()){V.index>Z?(ie=V,V=null):ie=V.sibling;var ae=b(O,V,ne.value,R);if(ae===null){V===null&&(V=ie);break}e&&V&&ae.alternate===null&&t(O,V),I=o(ae,I,Z),j===null?z=ae:j.sibling=ae,j=ae,V=ie}if(ne.done)return r(O,V),Gn&&md(O,Z),z;if(V===null){for(;!ne.done;Z++,ne=T.next())ne=v(O,ne.value,R),ne!==null&&(I=o(ne,I,Z),j===null?z=ne:j.sibling=ne,j=ne);return Gn&&md(O,Z),z}for(V=n(O,V);!ne.done;Z++,ne=T.next())ne=M(V,O,Z,ne.value,R),ne!==null&&(e&&ne.alternate!==null&&V.delete(ne.key===null?Z:ne.key),I=o(ne,I,Z),j===null?z=ne:j.sibling=ne,j=ne);return e&&V.forEach(function(de){return t(O,de)}),Gn&&md(O,Z),z}function P(O,I,T,R){if(typeof T=="object"&&T!==null&&T.type===Mp&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Zx:e:{for(var z=T.key,j=I;j!==null;){if(j.key===z){if(z=T.type,z===Mp){if(j.tag===7){r(O,j.sibling),I=i(j,T.props.children),I.return=O,O=I;break e}}else if(j.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Wu&&tN(z)===j.type){r(O,j.sibling),I=i(j,T.props),I.ref=Ry(O,j,T),I.return=O,O=I;break e}r(O,j);break}else t(O,j);j=j.sibling}T.type===Mp?(I=jd(T.props.children,O.mode,R,T.key),I.return=O,O=I):(R=t1(T.type,T.key,T.props,null,O.mode,R),R.ref=Ry(O,I,T),R.return=O,O=R)}return s(O);case Ap:e:{for(j=T.key;I!==null;){if(I.key===j)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){r(O,I.sibling),I=i(I,T.children||[]),I.return=O,O=I;break e}else{r(O,I);break}else t(O,I);I=I.sibling}I=yT(T,O.mode,R),I.return=O,O=I}return s(O);case Wu:return j=T._init,P(O,I,j(T._payload),R)}if(uv(T))return A(O,I,T,R);if(Py(T))return w(O,I,T,R);sb(O,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(r(O,I.sibling),I=i(I,T),I.return=O,O=I):(r(O,I),I=gT(T,O.mode,R),I.return=O,O=I),s(O)):r(O,I)}return P}var wm=cU(!0),uU=cU(!1),p_={},ql=Rf(p_),s0=Rf(p_),l0=Rf(p_);function Ad(e){if(e===p_)throw Error(yt(174));return e}function qO(e,t){switch(Tn(l0,t),Tn(s0,e),Tn(ql,p_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mP(t,e)}Dn(ql),Tn(ql,t)}function Sm(){Dn(ql),Dn(s0),Dn(l0)}function fU(e){Ad(l0.current);var t=Ad(ql.current),r=mP(t,e.type);t!==r&&(Tn(s0,e),Tn(ql,r))}function HO(e){s0.current===e&&(Dn(ql),Dn(s0))}var ii=Rf(0);function $1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uT=[];function GO(){for(var e=0;e<uT.length;e++)uT[e]._workInProgressVersionPrimary=null;uT.length=0}var Zb=lu.ReactCurrentDispatcher,fT=lu.ReactCurrentBatchConfig,Yd=0,ai=null,$i=null,Xi=null,D1=!1,Mv=!1,c0=0,XX=0;function Eo(){throw Error(yt(321))}function YO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dl(e[r],t[r]))return!1;return!0}function KO(e,t,r,n,i,o){if(Yd=o,ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zb.current=e===null||e.memoizedState===null?tJ:rJ,e=r(n,i),Mv){o=0;do{if(Mv=!1,c0=0,25<=o)throw Error(yt(301));o+=1,Xi=$i=null,t.updateQueue=null,Zb.current=nJ,e=r(n,i)}while(Mv)}if(Zb.current=L1,t=$i!==null&&$i.next!==null,Yd=0,Xi=$i=ai=null,D1=!1,t)throw Error(yt(300));return e}function ZO(){var e=c0!==0;return c0=0,e}function $l(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?ai.memoizedState=Xi=e:Xi=Xi.next=e,Xi}function ks(){if($i===null){var e=ai.alternate;e=e!==null?e.memoizedState:null}else e=$i.next;var t=Xi===null?ai.memoizedState:Xi.next;if(t!==null)Xi=t,$i=e;else{if(e===null)throw Error(yt(310));$i=e,e={memoizedState:$i.memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},Xi===null?ai.memoizedState=Xi=e:Xi=Xi.next=e}return Xi}function u0(e,t){return typeof t=="function"?t(e):t}function dT(e){var t=ks(),r=t.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=e;var n=$i,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,d=null,h=o;do{var g=h.lane;if((Yd&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(a=d=v,s=n):d=d.next=v,ai.lanes|=g,Kd|=g}h=h.next}while(h!==null&&h!==o);d===null?s=n:d.next=a,dl(n,t.memoizedState)||(va=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,ai.lanes|=o,Kd|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hT(e){var t=ks(),r=t.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);dl(o,t.memoizedState)||(va=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function dU(){}function hU(e,t){var r=ai,n=ks(),i=t(),o=!dl(n.memoizedState,i);if(o&&(n.memoizedState=i,va=!0),n=n.queue,XO(gU.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Xi!==null&&Xi.memoizedState.tag&1){if(r.flags|=2048,f0(9,mU.bind(null,r,n,i,t),void 0,null),Ji===null)throw Error(yt(349));Yd&30||pU(r,t,i)}return i}function pU(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ai.updateQueue,t===null?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mU(e,t,r,n){t.value=r,t.getSnapshot=n,yU(t)&&vU(e)}function gU(e,t,r){return r(function(){yU(t)&&vU(e)})}function yU(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dl(e,r)}catch{return!0}}function vU(e){var t=Zc(e,1);t!==null&&fl(t,e,1,-1)}function rN(e){var t=$l();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:e},t.queue=e,e=e.dispatch=eJ.bind(null,ai,e),[t.memoizedState,e]}function f0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ai.updateQueue,t===null?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _U(){return ks().memoizedState}function Xb(e,t,r,n){var i=$l();ai.flags|=e,i.memoizedState=f0(1|t,r,void 0,n===void 0?null:n)}function mS(e,t,r,n){var i=ks();n=n===void 0?null:n;var o=void 0;if($i!==null){var s=$i.memoizedState;if(o=s.destroy,n!==null&&YO(n,s.deps)){i.memoizedState=f0(t,r,o,n);return}}ai.flags|=e,i.memoizedState=f0(1|t,r,o,n)}function nN(e,t){return Xb(8390656,8,e,t)}function XO(e,t){return mS(2048,8,e,t)}function xU(e,t){return mS(4,2,e,t)}function bU(e,t){return mS(4,4,e,t)}function wU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function SU(e,t,r){return r=r!=null?r.concat([e]):null,mS(4,4,wU.bind(null,t,e),r)}function JO(){}function EU(e,t){var r=ks();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function CU(e,t){var r=ks();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function TU(e,t,r){return Yd&21?(dl(r,t)||(r=A6(),ai.lanes|=r,Kd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=r)}function JX(e,t){var r=un;un=r!==0&&4>r?r:4,e(!0);var n=fT.transition;fT.transition={};try{e(!1),t()}finally{un=r,fT.transition=n}}function kU(){return ks().memoizedState}function QX(e,t,r){var n=df(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PU(e))AU(t,r);else if(r=oU(e,t,r,n),r!==null){var i=ra();fl(r,e,n,i),MU(r,t,n)}}function eJ(e,t,r){var n=df(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PU(e))AU(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,dl(a,s)){var d=t.interleaved;d===null?(i.next=i,VO(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=oU(e,t,i,n),r!==null&&(i=ra(),fl(r,e,n,i),MU(r,t,n))}}function PU(e){var t=e.alternate;return e===ai||t!==null&&t===ai}function AU(e,t){Mv=D1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function MU(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,AO(e,r)}}var L1={readContext:Ts,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},tJ={readContext:Ts,useCallback:function(e,t){return $l().memoizedState=[e,t===void 0?null:t],e},useContext:Ts,useEffect:nN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xb(4194308,4,wU.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xb(4,2,e,t)},useMemo:function(e,t){var r=$l();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$l();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QX.bind(null,ai,e),[n.memoizedState,e]},useRef:function(e){var t=$l();return e={current:e},t.memoizedState=e},useState:rN,useDebugValue:JO,useDeferredValue:function(e){return $l().memoizedState=e},useTransition:function(){var e=rN(!1),t=e[0];return e=JX.bind(null,e[1]),$l().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ai,i=$l();if(Gn){if(r===void 0)throw Error(yt(407));r=r()}else{if(r=t(),Ji===null)throw Error(yt(349));Yd&30||pU(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,nN(gU.bind(null,n,o,e),[e]),n.flags|=2048,f0(9,mU.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=$l(),t=Ji.identifierPrefix;if(Gn){var r=Dc,n=$c;r=(n&~(1<<32-ul(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=c0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=XX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rJ={readContext:Ts,useCallback:EU,useContext:Ts,useEffect:XO,useImperativeHandle:SU,useInsertionEffect:xU,useLayoutEffect:bU,useMemo:CU,useReducer:dT,useRef:_U,useState:function(){return dT(u0)},useDebugValue:JO,useDeferredValue:function(e){var t=ks();return TU(t,$i.memoizedState,e)},useTransition:function(){var e=dT(u0)[0],t=ks().memoizedState;return[e,t]},useMutableSource:dU,useSyncExternalStore:hU,useId:kU,unstable_isNewReconciler:!1},nJ={readContext:Ts,useCallback:EU,useContext:Ts,useEffect:XO,useImperativeHandle:SU,useInsertionEffect:xU,useLayoutEffect:bU,useMemo:CU,useReducer:hT,useRef:_U,useState:function(){return hT(u0)},useDebugValue:JO,useDeferredValue:function(e){var t=ks();return $i===null?t.memoizedState=e:TU(t,$i.memoizedState,e)},useTransition:function(){var e=hT(u0)[0],t=ks().memoizedState;return[e,t]},useMutableSource:dU,useSyncExternalStore:hU,useId:kU,unstable_isNewReconciler:!1};function Em(e,t){try{var r="",n=t;do r+=OZ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function pT(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function NP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var iJ=typeof WeakMap=="function"?WeakMap:Map;function OU(e,t,r){r=Vc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){N1||(N1=!0,YP=n),NP(e,t)},r}function IU(e,t,r){r=Vc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){NP(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){NP(e,t),typeof n!="function"&&(ff===null?ff=new Set([this]):ff.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function iN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new iJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=vJ.bind(null,e,t,r),t.then(e,e))}function oN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aN(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vc(-1,1),t.tag=2,uf(r,t,1))),r.lanes|=1),e)}var oJ=lu.ReactCurrentOwner,va=!1;function Jo(e,t,r,n){t.child=e===null?uU(t,null,r,n):wm(t,e.child,r,n)}function sN(e,t,r,n,i){r=r.render;var o=t.ref;return rm(t,i),n=KO(e,t,r,n,o,i),r=ZO(),e!==null&&!va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xc(e,t,i)):(Gn&&r&&zO(t),t.flags|=1,Jo(e,t,n,i),t.child)}function lN(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!aI(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,RU(e,t,o,n,i)):(e=t1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:n0,r(s,n)&&e.ref===t.ref)return Xc(e,t,i)}return t.flags|=1,e=hf(o,n),e.ref=t.ref,e.return=t,t.child=e}function RU(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(n0(o,n)&&e.ref===t.ref)if(va=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(va=!0);else return t.lanes=e.lanes,Xc(e,t,i)}return jP(e,t,r,n,i)}function $U(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(Bp,ja),ja|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tn(Bp,ja),ja|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Tn(Bp,ja),ja|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Tn(Bp,ja),ja|=n;return Jo(e,t,i,r),t.child}function DU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jP(e,t,r,n,i){var o=ba(r)?Hd:Do.current;return o=xm(t,o),rm(t,i),r=KO(e,t,r,n,o,i),n=ZO(),e!==null&&!va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xc(e,t,i)):(Gn&&n&&zO(t),t.flags|=1,Jo(e,t,r,i),t.child)}function cN(e,t,r,n,i){if(ba(r)){var o=!0;P1(t)}else o=!1;if(rm(t,i),t.stateNode===null)Jb(e,t),lU(t,r,n),zP(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var d=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=Ts(h):(h=ba(r)?Hd:Do.current,h=xm(t,h));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||d!==h)&&eN(t,s,n,h),qu=!1;var b=t.memoizedState;s.state=b,R1(t,n,s,i),d=t.memoizedState,a!==n||b!==d||xa.current||qu?(typeof g=="function"&&(LP(t,r,g,n),d=t.memoizedState),(a=qu||Qz(t,r,a,n,b,d,h))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=h,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,aU(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:el(t.type,a),s.props=h,v=t.pendingProps,b=s.context,d=r.contextType,typeof d=="object"&&d!==null?d=Ts(d):(d=ba(r)?Hd:Do.current,d=xm(t,d));var M=r.getDerivedStateFromProps;(g=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||b!==d)&&eN(t,s,n,d),qu=!1,b=t.memoizedState,s.state=b,R1(t,n,s,i);var A=t.memoizedState;a!==v||b!==A||xa.current||qu?(typeof M=="function"&&(LP(t,r,M,n),A=t.memoizedState),(h=qu||Qz(t,r,h,n,b,A,d)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,A,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,A,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),s.props=n,s.state=A,s.context=d,n=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),n=!1)}return BP(e,t,r,n,o,i)}function BP(e,t,r,n,i,o){DU(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Yz(t,r,!1),Xc(e,t,o);n=t.stateNode,oJ.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=wm(t,e.child,null,o),t.child=wm(t,null,a,o)):Jo(e,t,a,o),t.memoizedState=n.state,i&&Yz(t,r,!0),t.child}function LU(e){var t=e.stateNode;t.pendingContext?Gz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gz(e,t.context,!1),qO(e,t.containerInfo)}function uN(e,t,r,n,i){return bm(),jO(i),t.flags|=256,Jo(e,t,r,n),t.child}var FP={dehydrated:null,treeContext:null,retryLane:0};function UP(e){return{baseLanes:e,cachePool:null,transitions:null}}function zU(e,t,r){var n=t.pendingProps,i=ii.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Tn(ii,i&1),e===null)return $P(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=vS(s,n,0,null),e=jd(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=UP(r),t.memoizedState=FP,e):QO(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aJ(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var d={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=hf(i,d),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hf(a,o):(o=jd(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?UP(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=FP,n}return o=e.child,e=o.sibling,n=hf(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function QO(e,t){return t=vS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lb(e,t,r,n){return n!==null&&jO(n),wm(t,e.child,null,r),e=QO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aJ(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=pT(Error(yt(422))),lb(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=vS({mode:"visible",children:n.children},i,0,null),o=jd(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&wm(t,e.child,null,s),t.child.memoizedState=UP(s),t.memoizedState=FP,o);if(!(t.mode&1))return lb(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(yt(419)),n=pT(o,n,void 0),lb(e,t,s,n)}if(a=(s&e.childLanes)!==0,va||a){if(n=Ji,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zc(e,i),fl(n,e,i,-1))}return oI(),n=pT(Error(yt(421))),lb(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_J.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Wa=cf(i.nextSibling),qa=t,Gn=!0,nl=null,e!==null&&(ps[ms++]=$c,ps[ms++]=Dc,ps[ms++]=Gd,$c=e.id,Dc=e.overflow,Gd=t),t=QO(t,n.children),t.flags|=4096,t)}function fN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),DP(e.return,t,r)}function mT(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function NU(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Jo(e,t,n.children,r),n=ii.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fN(e,r,t);else if(e.tag===19)fN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Tn(ii,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&$1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),mT(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}mT(t,!0,r,null,o);break;case"together":mT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(yt(153));if(t.child!==null){for(e=t.child,r=hf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sJ(e,t,r){switch(t.tag){case 3:LU(t),bm();break;case 5:fU(t);break;case 1:ba(t.type)&&P1(t);break;case 4:qO(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Tn(O1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Tn(ii,ii.current&1),t.flags|=128,null):r&t.child.childLanes?zU(e,t,r):(Tn(ii,ii.current&1),e=Xc(e,t,r),e!==null?e.sibling:null);Tn(ii,ii.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return NU(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tn(ii,ii.current),n)break;return null;case 22:case 23:return t.lanes=0,$U(e,t,r)}return Xc(e,t,r)}var jU,VP,BU,FU;jU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};VP=function(){};BU=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ad(ql.current);var o=null;switch(r){case"input":i=fP(e,i),n=fP(e,n),o=[];break;case"select":i=si({},i,{value:void 0}),n=si({},n,{value:void 0}),o=[];break;case"textarea":i=pP(e,i),n=pP(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=T1)}gP(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zv.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var d=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&d!==a&&(d!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in d)d.hasOwnProperty(s)&&a[s]!==d[s]&&(r||(r={}),r[s]=d[s])}else r||(o||(o=[]),o.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,a=a?a.__html:void 0,d!=null&&a!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Zv.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&In("scroll",e),o||a===d||(o=[])):(o=o||[]).push(h,d))}r&&(o=o||[]).push("style",r);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};FU=function(e,t,r,n){r!==n&&(t.flags|=4)};function $y(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Co(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lJ(e,t,r){var n=t.pendingProps;switch(NO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Co(t),null;case 1:return ba(t.type)&&k1(),Co(t),null;case 3:return n=t.stateNode,Sm(),Dn(xa),Dn(Do),GO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ab(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nl!==null&&(XP(nl),nl=null))),VP(e,t),Co(t),null;case 5:HO(t);var i=Ad(l0.current);if(r=t.type,e!==null&&t.stateNode!=null)BU(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(yt(166));return Co(t),null}if(e=Ad(ql.current),ab(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Nl]=t,n[a0]=o,e=(t.mode&1)!==0,r){case"dialog":In("cancel",n),In("close",n);break;case"iframe":case"object":case"embed":In("load",n);break;case"video":case"audio":for(i=0;i<dv.length;i++)In(dv[i],n);break;case"source":In("error",n);break;case"img":case"image":case"link":In("error",n),In("load",n);break;case"details":In("toggle",n);break;case"input":xz(n,o),In("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},In("invalid",n);break;case"textarea":wz(n,o),In("invalid",n)}gP(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ob(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ob(n.textContent,a,e),i=["children",""+a]):Zv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&In("scroll",n)}switch(r){case"input":Xx(n),bz(n,o,!0);break;case"textarea":Xx(n),Sz(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=T1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=p6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Nl]=t,e[a0]=n,jU(e,t,!1,!1),t.stateNode=e;e:{switch(s=yP(r,n),r){case"dialog":In("cancel",e),In("close",e),i=n;break;case"iframe":case"object":case"embed":In("load",e),i=n;break;case"video":case"audio":for(i=0;i<dv.length;i++)In(dv[i],e);i=n;break;case"source":In("error",e),i=n;break;case"img":case"image":case"link":In("error",e),In("load",e),i=n;break;case"details":In("toggle",e),i=n;break;case"input":xz(e,n),i=fP(e,n),In("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=si({},n,{value:void 0}),In("invalid",e);break;case"textarea":wz(e,n),i=pP(e,n),In("invalid",e);break;default:i=n}gP(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var d=a[o];o==="style"?y6(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&m6(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Xv(e,d):typeof d=="number"&&Xv(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zv.hasOwnProperty(o)?d!=null&&o==="onScroll"&&In("scroll",e):d!=null&&SO(e,o,d,s))}switch(r){case"input":Xx(e),bz(e,n,!1);break;case"textarea":Xx(e),Sz(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sf(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Jp(e,!!n.multiple,o,!1):n.defaultValue!=null&&Jp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=T1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Co(t),null;case 6:if(e&&t.stateNode!=null)FU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(yt(166));if(r=Ad(l0.current),Ad(ql.current),ab(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nl]=t,(o=n.nodeValue!==r)&&(e=qa,e!==null))switch(e.tag){case 3:ob(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ob(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nl]=t,t.stateNode=n}return Co(t),null;case 13:if(Dn(ii),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gn&&Wa!==null&&t.mode&1&&!(t.flags&128))iU(),bm(),t.flags|=98560,o=!1;else if(o=ab(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(yt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(yt(317));o[Nl]=t}else bm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Co(t),o=!1}else nl!==null&&(XP(nl),nl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ii.current&1?Di===0&&(Di=3):oI())),t.updateQueue!==null&&(t.flags|=4),Co(t),null);case 4:return Sm(),VP(e,t),e===null&&i0(t.stateNode.containerInfo),Co(t),null;case 10:return UO(t.type._context),Co(t),null;case 17:return ba(t.type)&&k1(),Co(t),null;case 19:if(Dn(ii),o=t.memoizedState,o===null)return Co(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)$y(o,!1);else{if(Di!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$1(e),s!==null){for(t.flags|=128,$y(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Tn(ii,ii.current&1|2),t.child}e=e.sibling}o.tail!==null&&wi()>Cm&&(t.flags|=128,n=!0,$y(o,!1),t.lanes=4194304)}else{if(!n)if(e=$1(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$y(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Gn)return Co(t),null}else 2*wi()-o.renderingStartTime>Cm&&r!==1073741824&&(t.flags|=128,n=!0,$y(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wi(),t.sibling=null,r=ii.current,Tn(ii,n?r&1|2:r&1),t):(Co(t),null);case 22:case 23:return iI(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ja&1073741824&&(Co(t),t.subtreeFlags&6&&(t.flags|=8192)):Co(t),null;case 24:return null;case 25:return null}throw Error(yt(156,t.tag))}function cJ(e,t){switch(NO(t),t.tag){case 1:return ba(t.type)&&k1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sm(),Dn(xa),Dn(Do),GO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return HO(t),null;case 13:if(Dn(ii),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(yt(340));bm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dn(ii),null;case 4:return Sm(),null;case 10:return UO(t.type._context),null;case 22:case 23:return iI(),null;case 24:return null;default:return null}}var cb=!1,Io=!1,uJ=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function jp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pi(e,t,n)}else r.current=null}function WP(e,t,r){try{r()}catch(n){pi(e,t,n)}}var dN=!1;function fJ(e,t){if(kP=S1,e=q6(),LO(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,d=-1,h=0,g=0,v=e,b=null;t:for(;;){for(var M;v!==r||i!==0&&v.nodeType!==3||(a=s+i),v!==o||n!==0&&v.nodeType!==3||(d=s+n),v.nodeType===3&&(s+=v.nodeValue.length),(M=v.firstChild)!==null;)b=v,v=M;for(;;){if(v===e)break t;if(b===r&&++h===i&&(a=s),b===o&&++g===n&&(d=s),(M=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=M}r=a===-1||d===-1?null:{start:a,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(PP={focusedElem:e,selectionRange:r},S1=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){t=Gt;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var w=A.memoizedProps,P=A.memoizedState,O=t.stateNode,I=O.getSnapshotBeforeUpdate(t.elementType===t.type?w:el(t.type,w),P);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(R){pi(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}return A=dN,dN=!1,A}function Ov(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&WP(t,r,o)}i=i.next}while(i!==n)}}function gS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function UU(e){var t=e.alternate;t!==null&&(e.alternate=null,UU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nl],delete t[a0],delete t[OP],delete t[GX],delete t[YX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VU(e){return e.tag===5||e.tag===3||e.tag===4}function hN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function HP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=T1));else if(n!==4&&(e=e.child,e!==null))for(HP(e,t,r),e=e.sibling;e!==null;)HP(e,t,r),e=e.sibling}function GP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(GP(e,t,r),e=e.sibling;e!==null;)GP(e,t,r),e=e.sibling}var ao=null,tl=!1;function Du(e,t,r){for(r=r.child;r!==null;)WU(e,t,r),r=r.sibling}function WU(e,t,r){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(lS,r)}catch{}switch(r.tag){case 5:Io||jp(r,t);case 6:var n=ao,i=tl;ao=null,Du(e,t,r),ao=n,tl=i,ao!==null&&(tl?(e=ao,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ao.removeChild(r.stateNode));break;case 18:ao!==null&&(tl?(e=ao,r=r.stateNode,e.nodeType===8?lT(e.parentNode,r):e.nodeType===1&&lT(e,r),t0(e)):lT(ao,r.stateNode));break;case 4:n=ao,i=tl,ao=r.stateNode.containerInfo,tl=!0,Du(e,t,r),ao=n,tl=i;break;case 0:case 11:case 14:case 15:if(!Io&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&WP(r,t,s),i=i.next}while(i!==n)}Du(e,t,r);break;case 1:if(!Io&&(jp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){pi(r,t,a)}Du(e,t,r);break;case 21:Du(e,t,r);break;case 22:r.mode&1?(Io=(n=Io)||r.memoizedState!==null,Du(e,t,r),Io=n):Du(e,t,r);break;default:Du(e,t,r)}}function pN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uJ),t.forEach(function(n){var i=xJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ks(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ao=a.stateNode,tl=!1;break e;case 3:ao=a.stateNode.containerInfo,tl=!0;break e;case 4:ao=a.stateNode.containerInfo,tl=!0;break e}a=a.return}if(ao===null)throw Error(yt(160));WU(o,s,i),ao=null,tl=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){pi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qU(t,e),t=t.sibling}function qU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ks(t,e),Il(e),n&4){try{Ov(3,e,e.return),gS(3,e)}catch(w){pi(e,e.return,w)}try{Ov(5,e,e.return)}catch(w){pi(e,e.return,w)}}break;case 1:Ks(t,e),Il(e),n&512&&r!==null&&jp(r,r.return);break;case 5:if(Ks(t,e),Il(e),n&512&&r!==null&&jp(r,r.return),e.flags&32){var i=e.stateNode;try{Xv(i,"")}catch(w){pi(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&d6(i,o),yP(a,s);var h=yP(a,o);for(s=0;s<d.length;s+=2){var g=d[s],v=d[s+1];g==="style"?y6(i,v):g==="dangerouslySetInnerHTML"?m6(i,v):g==="children"?Xv(i,v):SO(i,g,v,h)}switch(a){case"input":dP(i,o);break;case"textarea":h6(i,o);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var M=o.value;M!=null?Jp(i,!!o.multiple,M,!1):b!==!!o.multiple&&(o.defaultValue!=null?Jp(i,!!o.multiple,o.defaultValue,!0):Jp(i,!!o.multiple,o.multiple?[]:"",!1))}i[a0]=o}catch(w){pi(e,e.return,w)}}break;case 6:if(Ks(t,e),Il(e),n&4){if(e.stateNode===null)throw Error(yt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){pi(e,e.return,w)}}break;case 3:if(Ks(t,e),Il(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{t0(t.containerInfo)}catch(w){pi(e,e.return,w)}break;case 4:Ks(t,e),Il(e);break;case 13:Ks(t,e),Il(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(rI=wi())),n&4&&pN(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Io=(h=Io)||g,Ks(t,e),Io=h):Ks(t,e),Il(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Gt=e,g=e.child;g!==null;){for(v=Gt=g;Gt!==null;){switch(b=Gt,M=b.child,b.tag){case 0:case 11:case 14:case 15:Ov(4,b,b.return);break;case 1:jp(b,b.return);var A=b.stateNode;if(typeof A.componentWillUnmount=="function"){n=b,r=b.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(w){pi(n,r,w)}}break;case 5:jp(b,b.return);break;case 22:if(b.memoizedState!==null){gN(v);continue}}M!==null?(M.return=b,Gt=M):gN(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=v.stateNode,d=v.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,a.style.display=g6("display",s))}catch(w){pi(e,e.return,w)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(w){pi(e,e.return,w)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ks(t,e),Il(e),n&4&&pN(e);break;case 21:break;default:Ks(t,e),Il(e)}}function Il(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(VU(r)){var n=r;break e}r=r.return}throw Error(yt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xv(i,""),n.flags&=-33);var o=hN(e);GP(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=hN(e);HP(e,a,s);break;default:throw Error(yt(161))}}catch(d){pi(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dJ(e,t,r){Gt=e,HU(e)}function HU(e,t,r){for(var n=(e.mode&1)!==0;Gt!==null;){var i=Gt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||cb;if(!s){var a=i.alternate,d=a!==null&&a.memoizedState!==null||Io;a=cb;var h=Io;if(cb=s,(Io=d)&&!h)for(Gt=i;Gt!==null;)s=Gt,d=s.child,s.tag===22&&s.memoizedState!==null?yN(i):d!==null?(d.return=s,Gt=d):yN(i);for(;o!==null;)Gt=o,HU(o),o=o.sibling;Gt=i,cb=a,Io=h}mN(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Gt=o):mN(e)}}function mN(e){for(;Gt!==null;){var t=Gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Io||gS(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Io)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:el(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jz(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jz(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&t0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}Io||t.flags&512&&qP(t)}catch(b){pi(t,t.return,b)}}if(t===e){Gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function gN(e){for(;Gt!==null;){var t=Gt;if(t===e){Gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function yN(e){for(;Gt!==null;){var t=Gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gS(4,t)}catch(d){pi(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){pi(t,i,d)}}var o=t.return;try{qP(t)}catch(d){pi(t,o,d)}break;case 5:var s=t.return;try{qP(t)}catch(d){pi(t,s,d)}}}catch(d){pi(t,t.return,d)}if(t===e){Gt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Gt=a;break}Gt=t.return}}var hJ=Math.ceil,z1=lu.ReactCurrentDispatcher,eI=lu.ReactCurrentOwner,xs=lu.ReactCurrentBatchConfig,Fr=0,Ji=null,Mi=null,fo=0,ja=0,Bp=Rf(0),Di=0,d0=null,Kd=0,yS=0,tI=0,Iv=null,pa=null,rI=0,Cm=1/0,Mc=null,N1=!1,YP=null,ff=null,ub=!1,Xu=null,j1=0,Rv=0,KP=null,Qb=-1,e1=0;function ra(){return Fr&6?wi():Qb!==-1?Qb:Qb=wi()}function df(e){return e.mode&1?Fr&2&&fo!==0?fo&-fo:ZX.transition!==null?(e1===0&&(e1=A6()),e1):(e=un,e!==0||(e=window.event,e=e===void 0?16:L6(e.type)),e):1}function fl(e,t,r,n){if(50<Rv)throw Rv=0,KP=null,Error(yt(185));f_(e,r,n),(!(Fr&2)||e!==Ji)&&(e===Ji&&(!(Fr&2)&&(yS|=r),Di===4&&Yu(e,fo)),wa(e,n),r===1&&Fr===0&&!(t.mode&1)&&(Cm=wi()+500,hS&&$f()))}function wa(e,t){var r=e.callbackNode;ZZ(e,t);var n=w1(e,e===Ji?fo:0);if(n===0)r!==null&&Tz(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tz(r),t===1)e.tag===0?KX(vN.bind(null,e)):tU(vN.bind(null,e)),qX(function(){!(Fr&6)&&$f()}),r=null;else{switch(M6(n)){case 1:r=PO;break;case 4:r=k6;break;case 16:r=b1;break;case 536870912:r=P6;break;default:r=b1}r=e8(r,GU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function GU(e,t){if(Qb=-1,e1=0,Fr&6)throw Error(yt(327));var r=e.callbackNode;if(nm()&&e.callbackNode!==r)return null;var n=w1(e,e===Ji?fo:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=B1(e,n);else{t=n;var i=Fr;Fr|=2;var o=KU();(Ji!==e||fo!==t)&&(Mc=null,Cm=wi()+500,Nd(e,t));do try{gJ();break}catch(a){YU(e,a)}while(1);FO(),z1.current=o,Fr=i,Mi!==null?t=0:(Ji=null,fo=0,t=Di)}if(t!==0){if(t===2&&(i=wP(e),i!==0&&(n=i,t=ZP(e,i))),t===1)throw r=d0,Nd(e,0),Yu(e,n),wa(e,wi()),r;if(t===6)Yu(e,n);else{if(i=e.current.alternate,!(n&30)&&!pJ(i)&&(t=B1(e,n),t===2&&(o=wP(e),o!==0&&(n=o,t=ZP(e,o))),t===1))throw r=d0,Nd(e,0),Yu(e,n),wa(e,wi()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(yt(345));case 2:gd(e,pa,Mc);break;case 3:if(Yu(e,n),(n&130023424)===n&&(t=rI+500-wi(),10<t)){if(w1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ra(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=MP(gd.bind(null,e,pa,Mc),t);break}gd(e,pa,Mc);break;case 4:if(Yu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ul(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=wi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hJ(n/1960))-n,10<n){e.timeoutHandle=MP(gd.bind(null,e,pa,Mc),n);break}gd(e,pa,Mc);break;case 5:gd(e,pa,Mc);break;default:throw Error(yt(329))}}}return wa(e,wi()),e.callbackNode===r?GU.bind(null,e):null}function ZP(e,t){var r=Iv;return e.current.memoizedState.isDehydrated&&(Nd(e,t).flags|=256),e=B1(e,t),e!==2&&(t=pa,pa=r,t!==null&&XP(t)),e}function XP(e){pa===null?pa=e:pa.push.apply(pa,e)}function pJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!dl(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yu(e,t){for(t&=~tI,t&=~yS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ul(t),n=1<<r;e[r]=-1,t&=~n}}function vN(e){if(Fr&6)throw Error(yt(327));nm();var t=w1(e,0);if(!(t&1))return wa(e,wi()),null;var r=B1(e,t);if(e.tag!==0&&r===2){var n=wP(e);n!==0&&(t=n,r=ZP(e,n))}if(r===1)throw r=d0,Nd(e,0),Yu(e,t),wa(e,wi()),r;if(r===6)throw Error(yt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gd(e,pa,Mc),wa(e,wi()),null}function nI(e,t){var r=Fr;Fr|=1;try{return e(t)}finally{Fr=r,Fr===0&&(Cm=wi()+500,hS&&$f())}}function Zd(e){Xu!==null&&Xu.tag===0&&!(Fr&6)&&nm();var t=Fr;Fr|=1;var r=xs.transition,n=un;try{if(xs.transition=null,un=1,e)return e()}finally{un=n,xs.transition=r,Fr=t,!(Fr&6)&&$f()}}function iI(){ja=Bp.current,Dn(Bp)}function Nd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WX(r)),Mi!==null)for(r=Mi.return;r!==null;){var n=r;switch(NO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&k1();break;case 3:Sm(),Dn(xa),Dn(Do),GO();break;case 5:HO(n);break;case 4:Sm();break;case 13:Dn(ii);break;case 19:Dn(ii);break;case 10:UO(n.type._context);break;case 22:case 23:iI()}r=r.return}if(Ji=e,Mi=e=hf(e.current,null),fo=ja=t,Di=0,d0=null,tI=yS=Kd=0,pa=Iv=null,Pd!==null){for(t=0;t<Pd.length;t++)if(r=Pd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Pd=null}return e}function YU(e,t){do{var r=Mi;try{if(FO(),Zb.current=L1,D1){for(var n=ai.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}D1=!1}if(Yd=0,Xi=$i=ai=null,Mv=!1,c0=0,eI.current=null,r===null||r.return===null){Di=1,d0=t,Mi=null;break}e:{var o=e,s=r.return,a=r,d=t;if(t=fo,a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=a,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var b=g.alternate;b?(g.updateQueue=b.updateQueue,g.memoizedState=b.memoizedState,g.lanes=b.lanes):(g.updateQueue=null,g.memoizedState=null)}var M=oN(s);if(M!==null){M.flags&=-257,aN(M,s,a,o,t),M.mode&1&&iN(o,h,t),t=M,d=h;var A=t.updateQueue;if(A===null){var w=new Set;w.add(d),t.updateQueue=w}else A.add(d);break e}else{if(!(t&1)){iN(o,h,t),oI();break e}d=Error(yt(426))}}else if(Gn&&a.mode&1){var P=oN(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),aN(P,s,a,o,t),jO(Em(d,a));break e}}o=d=Em(d,a),Di!==4&&(Di=2),Iv===null?Iv=[o]:Iv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var O=OU(o,d,t);Xz(o,O);break e;case 1:a=d;var I=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ff===null||!ff.has(T)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=IU(o,a,t);Xz(o,R);break e}}o=o.return}while(o!==null)}XU(r)}catch(z){t=z,Mi===r&&r!==null&&(Mi=r=r.return);continue}break}while(1)}function KU(){var e=z1.current;return z1.current=L1,e===null?L1:e}function oI(){(Di===0||Di===3||Di===2)&&(Di=4),Ji===null||!(Kd&268435455)&&!(yS&268435455)||Yu(Ji,fo)}function B1(e,t){var r=Fr;Fr|=2;var n=KU();(Ji!==e||fo!==t)&&(Mc=null,Nd(e,t));do try{mJ();break}catch(i){YU(e,i)}while(1);if(FO(),Fr=r,z1.current=n,Mi!==null)throw Error(yt(261));return Ji=null,fo=0,Di}function mJ(){for(;Mi!==null;)ZU(Mi)}function gJ(){for(;Mi!==null&&!FZ();)ZU(Mi)}function ZU(e){var t=QU(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?XU(e):Mi=t,eI.current=null}function XU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cJ(r,t),r!==null){r.flags&=32767,Mi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Di=6,Mi=null;return}}else if(r=lJ(r,t,ja),r!==null){Mi=r;return}if(t=t.sibling,t!==null){Mi=t;return}Mi=t=e}while(t!==null);Di===0&&(Di=5)}function gd(e,t,r){var n=un,i=xs.transition;try{xs.transition=null,un=1,yJ(e,t,r,n)}finally{xs.transition=i,un=n}return null}function yJ(e,t,r,n){do nm();while(Xu!==null);if(Fr&6)throw Error(yt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(yt(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(XZ(e,o),e===Ji&&(Mi=Ji=null,fo=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ub||(ub=!0,e8(b1,function(){return nm(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=xs.transition,xs.transition=null;var s=un;un=1;var a=Fr;Fr|=4,eI.current=null,fJ(e,r),qU(r,e),zX(PP),S1=!!kP,PP=kP=null,e.current=r,dJ(r),UZ(),Fr=a,un=s,xs.transition=o}else e.current=r;if(ub&&(ub=!1,Xu=e,j1=i),o=e.pendingLanes,o===0&&(ff=null),qZ(r.stateNode),wa(e,wi()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(N1)throw N1=!1,e=YP,YP=null,e;return j1&1&&e.tag!==0&&nm(),o=e.pendingLanes,o&1?e===KP?Rv++:(Rv=0,KP=e):Rv=0,$f(),null}function nm(){if(Xu!==null){var e=M6(j1),t=xs.transition,r=un;try{if(xs.transition=null,un=16>e?16:e,Xu===null)var n=!1;else{if(e=Xu,Xu=null,j1=0,Fr&6)throw Error(yt(331));var i=Fr;for(Fr|=4,Gt=e.current;Gt!==null;){var o=Gt,s=o.child;if(Gt.flags&16){var a=o.deletions;if(a!==null){for(var d=0;d<a.length;d++){var h=a[d];for(Gt=h;Gt!==null;){var g=Gt;switch(g.tag){case 0:case 11:case 15:Ov(8,g,o)}var v=g.child;if(v!==null)v.return=g,Gt=v;else for(;Gt!==null;){g=Gt;var b=g.sibling,M=g.return;if(UU(g),g===h){Gt=null;break}if(b!==null){b.return=M,Gt=b;break}Gt=M}}}var A=o.alternate;if(A!==null){var w=A.child;if(w!==null){A.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}Gt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Gt=s;else e:for(;Gt!==null;){if(o=Gt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ov(9,o,o.return)}var O=o.sibling;if(O!==null){O.return=o.return,Gt=O;break e}Gt=o.return}}var I=e.current;for(Gt=I;Gt!==null;){s=Gt;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,Gt=T;else e:for(s=I;Gt!==null;){if(a=Gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gS(9,a)}}catch(z){pi(a,a.return,z)}if(a===s){Gt=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Gt=R;break e}Gt=a.return}}if(Fr=i,$f(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(lS,e)}catch{}n=!0}return n}finally{un=r,xs.transition=t}}return!1}function _N(e,t,r){t=Em(r,t),t=OU(e,t,1),e=uf(e,t,1),t=ra(),e!==null&&(f_(e,1,t),wa(e,t))}function pi(e,t,r){if(e.tag===3)_N(e,e,r);else for(;t!==null;){if(t.tag===3){_N(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ff===null||!ff.has(n))){e=Em(r,e),e=IU(t,e,1),t=uf(t,e,1),e=ra(),t!==null&&(f_(t,1,e),wa(t,e));break}}t=t.return}}function vJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ra(),e.pingedLanes|=e.suspendedLanes&r,Ji===e&&(fo&r)===r&&(Di===4||Di===3&&(fo&130023424)===fo&&500>wi()-rI?Nd(e,0):tI|=r),wa(e,t)}function JU(e,t){t===0&&(e.mode&1?(t=eb,eb<<=1,!(eb&130023424)&&(eb=4194304)):t=1);var r=ra();e=Zc(e,t),e!==null&&(f_(e,t,r),wa(e,r))}function _J(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),JU(e,r)}function xJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(yt(314))}n!==null&&n.delete(t),JU(e,r)}var QU;QU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xa.current)va=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return va=!1,sJ(e,t,r);va=!!(e.flags&131072)}else va=!1,Gn&&t.flags&1048576&&rU(t,M1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jb(e,t),e=t.pendingProps;var i=xm(t,Do.current);rm(t,r),i=KO(null,t,n,e,i,r);var o=ZO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ba(n)?(o=!0,P1(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,WO(t),i.updater=pS,t.stateNode=i,i._reactInternals=t,zP(t,n,e,r),t=BP(null,t,n,!0,o,r)):(t.tag=0,Gn&&o&&zO(t),Jo(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jb(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=wJ(n),e=el(n,e),i){case 0:t=jP(null,t,n,e,r);break e;case 1:t=cN(null,t,n,e,r);break e;case 11:t=sN(null,t,n,e,r);break e;case 14:t=lN(null,t,n,el(n.type,e),r);break e}throw Error(yt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:el(n,i),jP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:el(n,i),cN(e,t,n,i,r);case 3:e:{if(LU(t),e===null)throw Error(yt(387));n=t.pendingProps,o=t.memoizedState,i=o.element,aU(e,t),R1(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Em(Error(yt(423)),t),t=uN(e,t,n,r,i);break e}else if(n!==i){i=Em(Error(yt(424)),t),t=uN(e,t,n,r,i);break e}else for(Wa=cf(t.stateNode.containerInfo.firstChild),qa=t,Gn=!0,nl=null,r=uU(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bm(),n===i){t=Xc(e,t,r);break e}Jo(e,t,n,r)}t=t.child}return t;case 5:return fU(t),e===null&&$P(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,AP(n,i)?s=null:o!==null&&AP(n,o)&&(t.flags|=32),DU(e,t),Jo(e,t,s,r),t.child;case 6:return e===null&&$P(t),null;case 13:return zU(e,t,r);case 4:return qO(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wm(t,null,n,r):Jo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:el(n,i),sN(e,t,n,i,r);case 7:return Jo(e,t,t.pendingProps,r),t.child;case 8:return Jo(e,t,t.pendingProps.children,r),t.child;case 12:return Jo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Tn(O1,n._currentValue),n._currentValue=s,o!==null)if(dl(o.value,s)){if(o.children===i.children&&!xa.current){t=Xc(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var d=a.firstContext;d!==null;){if(d.context===n){if(o.tag===1){d=Vc(-1,r&-r),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),DP(o.return,r,t),a.lanes|=r;break}d=d.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(yt(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),DP(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Jo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,rm(t,r),i=Ts(i),n=n(i),t.flags|=1,Jo(e,t,n,r),t.child;case 14:return n=t.type,i=el(n,t.pendingProps),i=el(n.type,i),lN(e,t,n,i,r);case 15:return RU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:el(n,i),Jb(e,t),t.tag=1,ba(n)?(e=!0,P1(t)):e=!1,rm(t,r),lU(t,n,i),zP(t,n,i,r),BP(null,t,n,!0,e,r);case 19:return NU(e,t,r);case 22:return $U(e,t,r)}throw Error(yt(156,t.tag))};function e8(e,t){return T6(e,t)}function bJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(e,t,r,n){return new bJ(e,t,r,n)}function aI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wJ(e){if(typeof e=="function")return aI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CO)return 11;if(e===TO)return 14}return 2}function hf(e,t){var r=e.alternate;return r===null?(r=ys(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function t1(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")aI(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Mp:return jd(r.children,i,o,t);case EO:s=8,i|=8;break;case sP:return e=ys(12,r,t,i|2),e.elementType=sP,e.lanes=o,e;case lP:return e=ys(13,r,t,i),e.elementType=lP,e.lanes=o,e;case cP:return e=ys(19,r,t,i),e.elementType=cP,e.lanes=o,e;case c6:return vS(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s6:s=10;break e;case l6:s=9;break e;case CO:s=11;break e;case TO:s=14;break e;case Wu:s=16,n=null;break e}throw Error(yt(130,e==null?e:typeof e,""))}return t=ys(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function jd(e,t,r,n){return e=ys(7,e,n,t),e.lanes=r,e}function vS(e,t,r,n){return e=ys(22,e,n,t),e.elementType=c6,e.lanes=r,e.stateNode={isHidden:!1},e}function gT(e,t,r){return e=ys(6,e,null,t),e.lanes=r,e}function yT(e,t,r){return t=ys(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SJ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=XC(0),this.expirationTimes=XC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XC(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sI(e,t,r,n,i,o,s,a,d){return e=new SJ(e,t,r,a,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ys(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},WO(o),e}function EJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ap,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function t8(e){if(!e)return Ef;e=e._reactInternals;e:{if(lh(e)!==e||e.tag!==1)throw Error(yt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ba(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(yt(171))}if(e.tag===1){var r=e.type;if(ba(r))return eU(e,r,t)}return t}function r8(e,t,r,n,i,o,s,a,d){return e=sI(r,n,!0,e,i,o,s,a,d),e.context=t8(null),r=e.current,n=ra(),i=df(r),o=Vc(n,i),o.callback=t??null,uf(r,o,i),e.current.lanes=i,f_(e,i,n),wa(e,n),e}function _S(e,t,r,n){var i=t.current,o=ra(),s=df(i);return r=t8(r),t.context===null?t.context=r:t.pendingContext=r,t=Vc(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=uf(i,t,s),e!==null&&(fl(e,i,s,o),Kb(e,i,s)),s}function F1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lI(e,t){xN(e,t),(e=e.alternate)&&xN(e,t)}function CJ(){return null}var n8=typeof reportError=="function"?reportError:function(e){console.error(e)};function cI(e){this._internalRoot=e}xS.prototype.render=cI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(yt(409));_S(e,t,null,null)};xS.prototype.unmount=cI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zd(function(){_S(null,e,null,null)}),t[Kc]=null}};function xS(e){this._internalRoot=e}xS.prototype.unstable_scheduleHydration=function(e){if(e){var t=R6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gu.length&&t!==0&&t<Gu[r].priority;r++);Gu.splice(r,0,e),r===0&&D6(e)}};function uI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bN(){}function TJ(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var h=F1(s);o.call(h)}}var s=r8(t,n,e,0,null,!1,!1,"",bN);return e._reactRootContainer=s,e[Kc]=s.current,i0(e.nodeType===8?e.parentNode:e),Zd(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=F1(d);a.call(h)}}var d=sI(e,0,!1,null,null,!1,!1,"",bN);return e._reactRootContainer=d,e[Kc]=d.current,i0(e.nodeType===8?e.parentNode:e),Zd(function(){_S(t,d,r,n)}),d}function wS(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var d=F1(s);a.call(d)}}_S(t,s,e,i)}else s=TJ(r,t,e,i,n);return F1(s)}O6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fv(t.pendingLanes);r!==0&&(AO(t,r|1),wa(t,wi()),!(Fr&6)&&(Cm=wi()+500,$f()))}break;case 13:Zd(function(){var n=Zc(e,1);if(n!==null){var i=ra();fl(n,e,1,i)}}),lI(e,1)}};MO=function(e){if(e.tag===13){var t=Zc(e,134217728);if(t!==null){var r=ra();fl(t,e,134217728,r)}lI(e,134217728)}};I6=function(e){if(e.tag===13){var t=df(e),r=Zc(e,t);if(r!==null){var n=ra();fl(r,e,t,n)}lI(e,t)}};R6=function(){return un};$6=function(e,t){var r=un;try{return un=e,t()}finally{un=r}};_P=function(e,t,r){switch(t){case"input":if(dP(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=dS(n);if(!i)throw Error(yt(90));f6(n),dP(n,i)}}}break;case"textarea":h6(e,r);break;case"select":t=r.value,t!=null&&Jp(e,!!r.multiple,t,!1)}};x6=nI;b6=Zd;var kJ={usingClientEntryPoint:!1,Events:[h_,$p,dS,v6,_6,nI]},Dy={findFiberByHostInstance:kd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PJ={bundleType:Dy.bundleType,version:Dy.version,rendererPackageName:Dy.rendererPackageName,rendererConfig:Dy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E6(e),e===null?null:e.stateNode},findFiberByHostInstance:Dy.findFiberByHostInstance||CJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fb.isDisabled&&fb.supportsFiber)try{lS=fb.inject(PJ),Wl=fb}catch{}}Ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kJ;Ja.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uI(t))throw Error(yt(200));return EJ(e,t,null,r)};Ja.createRoot=function(e,t){if(!uI(e))throw Error(yt(299));var r=!1,n="",i=n8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sI(e,1,!1,null,null,r,!1,n,i),e[Kc]=t.current,i0(e.nodeType===8?e.parentNode:e),new cI(t)};Ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(yt(188)):(e=Object.keys(e).join(","),Error(yt(268,e)));return e=E6(t),e=e===null?null:e.stateNode,e};Ja.flushSync=function(e){return Zd(e)};Ja.hydrate=function(e,t,r){if(!bS(t))throw Error(yt(200));return wS(null,e,t,!0,r)};Ja.hydrateRoot=function(e,t,r){if(!uI(e))throw Error(yt(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=n8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=r8(t,null,e,1,r??null,i,!1,o,s),e[Kc]=t.current,i0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new xS(t)};Ja.render=function(e,t,r){if(!bS(t))throw Error(yt(200));return wS(null,e,t,!1,r)};Ja.unmountComponentAtNode=function(e){if(!bS(e))throw Error(yt(40));return e._reactRootContainer?(Zd(function(){wS(null,null,e,!1,function(){e._reactRootContainer=null,e[Kc]=null})}),!0):!1};Ja.unstable_batchedUpdates=nI;Ja.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bS(r))throw Error(yt(200));if(e==null||e._reactInternals===void 0)throw Error(yt(38));return wS(e,t,r,!1,n)};Ja.version="18.2.0-next-9e3b772b8-20220608";function i8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i8)}catch(e){console.error(e)}}i8(),r6.exports=Ja;var cu=r6.exports;const db=Kr(cu);var o8,wN=cu;o8=wN.createRoot,wN.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}var Ju;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ju||(Ju={}));const SN="popstate";function AJ(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return JP("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:a8(i)}return OJ(t,r,null,e)}function Ni(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MJ(){return Math.random().toString(36).substr(2,8)}function EN(e,t){return{usr:e.state,key:e.key,idx:t}}function JP(e,t,r,n){return r===void 0&&(r=null),h0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sg(t):t,{state:r,key:t&&t.key||n||MJ()})}function a8(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OJ(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Ju.Pop,d=null,h=g();h==null&&(h=0,s.replaceState(h0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function v(){a=Ju.Pop;let P=g(),O=P==null?null:P-h;h=P,d&&d({action:a,location:w.location,delta:O})}function b(P,O){a=Ju.Push;let I=JP(w.location,P,O);r&&r(I,P),h=g()+1;let T=EN(I,h),R=w.createHref(I);try{s.pushState(T,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(R)}o&&d&&d({action:a,location:w.location,delta:1})}function M(P,O){a=Ju.Replace;let I=JP(w.location,P,O);r&&r(I,P),h=g();let T=EN(I,h),R=w.createHref(I);s.replaceState(T,"",R),o&&d&&d({action:a,location:w.location,delta:0})}function A(P){let O=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof P=="string"?P:a8(P);return Ni(O,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,O)}let w={get action(){return a},get location(){return e(i,s)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(SN,v),d=P,()=>{i.removeEventListener(SN,v),d=null}},createHref(P){return t(i,P)},createURL:A,encodeLocation(P){let O=A(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:M,go(P){return s.go(P)}};return w}var CN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(CN||(CN={}));function IJ(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?sg(t):t,i=c8(n.pathname||"/",r);if(i==null)return null;let o=s8(e);RJ(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=UJ(o[a],qJ(i));return s}function s8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let d={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};d.relativePath.startsWith("/")&&(Ni(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Bd([n,d.relativePath]),g=r.concat(d);o.children&&o.children.length>0&&(Ni(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),s8(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:BJ(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let d of l8(o.path))i(o,s,d)}),t}function l8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=l8(n.join("/")),a=[];return a.push(...s.map(d=>d===""?o:[o,d].join("/"))),i&&a.push(...s),a.map(d=>e.startsWith("/")&&d===""?"/":d)}function RJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:FJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $J=/^:\w+$/,DJ=3,LJ=2,zJ=1,NJ=10,jJ=-2,TN=e=>e==="*";function BJ(e,t){let r=e.split("/"),n=r.length;return r.some(TN)&&(n+=jJ),t&&(n+=LJ),r.filter(i=>!TN(i)).reduce((i,o)=>i+($J.test(o)?DJ:o===""?zJ:NJ),n)}function FJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function UJ(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let s=0;s<r.length;++s){let a=r[s],d=s===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=VJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:d},h);if(!g)return null;Object.assign(n,g.params);let v=a.route;o.push({params:n,pathname:Bd([i,g.pathname]),pathnameBase:XJ(Bd([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Bd([i,g.pathnameBase]))}return o}function VJ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WJ(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((h,g,v)=>{if(g==="*"){let b=a[v]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}return h[g]=HJ(a[v]||"",g),h},{}),pathname:o,pathnameBase:s,pattern:e}}function WJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(n.push(a),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function qJ(e){try{return decodeURI(e)}catch(t){return fI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HJ(e,t){try{return decodeURIComponent(e)}catch(r){return fI(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function c8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function GJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?sg(e):e;return{pathname:r?r.startsWith("/")?r:YJ(r,t):t,search:JJ(n),hash:QJ(i)}}function YJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ZJ(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=sg(e):(i=h0({},e),Ni(!i.pathname||!i.pathname.includes("?"),vT("?","pathname","search",i)),Ni(!i.pathname||!i.pathname.includes("#"),vT("#","pathname","hash",i)),Ni(!i.search||!i.search.includes("#"),vT("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(n||s==null)a=r;else{let v=t.length-1;if(s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}a=v>=0?t[v]:"/"}let d=GJ(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}const Bd=e=>e.join("/").replace(/\/\/+/g,"/"),XJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const u8=["post","put","patch","delete"];new Set(u8);const tQ=["get",...u8];new Set(tQ);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}const dI=W.createContext(null),rQ=W.createContext(null),SS=W.createContext(null),ES=W.createContext(null),Df=W.createContext({outlet:null,matches:[],isDataRoute:!1}),f8=W.createContext(null);function CS(){return W.useContext(ES)!=null}function TS(){return CS()||Ni(!1),W.useContext(ES).location}function d8(e){W.useContext(SS).static||W.useLayoutEffect(e)}function m_(){let{isDataRoute:e}=W.useContext(Df);return e?vQ():nQ()}function nQ(){CS()||Ni(!1);let e=W.useContext(dI),{basename:t,navigator:r}=W.useContext(SS),{matches:n}=W.useContext(Df),{pathname:i}=TS(),o=JSON.stringify(KJ(n).map(d=>d.pathnameBase)),s=W.useRef(!1);return d8(()=>{s.current=!0}),W.useCallback(function(d,h){if(h===void 0&&(h={}),!s.current)return;if(typeof d=="number"){r.go(d);return}let g=ZJ(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Bd([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,o,i,e])}const iQ=W.createContext(null);function oQ(e){let t=W.useContext(Df).outlet;return t&&W.createElement(iQ.Provider,{value:e},t)}function aQ(){let{matches:e}=W.useContext(Df),t=e[e.length-1];return t?t.params:{}}function sQ(e,t){return lQ(e,t)}function lQ(e,t,r){CS()||Ni(!1);let{navigator:n}=W.useContext(SS),{matches:i}=W.useContext(Df),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let d=TS(),h;if(t){var g;let w=typeof t=="string"?sg(t):t;a==="/"||(g=w.pathname)!=null&&g.startsWith(a)||Ni(!1),h=w}else h=d;let v=h.pathname||"/",b=a==="/"?v:v.slice(a.length)||"/",M=IJ(e,{pathname:b}),A=hQ(M&&M.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Bd([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Bd([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r);return t&&A?W.createElement(ES.Provider,{value:{location:U1({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ju.Pop}},A):A}function cQ(){let e=yQ(),t=eQ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),r?W.createElement("pre",{style:i},r):null,o)}const uQ=W.createElement(cQ,null);class fQ extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?W.createElement(Df.Provider,{value:this.props.routeContext},W.createElement(f8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dQ(e){let{routeContext:t,match:r,children:n}=e,i=W.useContext(dI);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(Df.Provider,{value:t},n)}function hQ(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var i;if((i=r)!=null&&i.errors)e=r.matches;else return null}let o=e,s=(n=r)==null?void 0:n.errors;if(s!=null){let a=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));a>=0||Ni(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,d,h)=>{let g=d.route.id?s==null?void 0:s[d.route.id]:null,v=null;r&&(v=d.route.errorElement||uQ);let b=t.concat(o.slice(0,h+1)),M=()=>{let A;return g?A=v:d.route.Component?A=W.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=a,W.createElement(dQ,{match:d,routeContext:{outlet:a,matches:b,isDataRoute:r!=null},children:A})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?W.createElement(fQ,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:M(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):M()},null)}var h8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(h8||{}),V1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(V1||{});function pQ(e){let t=W.useContext(dI);return t||Ni(!1),t}function mQ(e){let t=W.useContext(rQ);return t||Ni(!1),t}function gQ(e){let t=W.useContext(Df);return t||Ni(!1),t}function p8(e){let t=gQ(),r=t.matches[t.matches.length-1];return r.route.id||Ni(!1),r.route.id}function yQ(){var e;let t=W.useContext(f8),r=mQ(V1.UseRouteError),n=p8(V1.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function vQ(){let{router:e}=pQ(h8.UseNavigateStable),t=p8(V1.UseNavigateStable),r=W.useRef(!1);return d8(()=>{r.current=!0}),W.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,U1({fromRouteId:t},o)))},[e,t])}function _Q(e){return oQ(e.context)}function yd(e){Ni(!1)}function xQ(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ju.Pop,navigator:o,static:s=!1}=e;CS()&&Ni(!1);let a=t.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=sg(n));let{pathname:h="/",search:g="",hash:v="",state:b=null,key:M="default"}=n,A=W.useMemo(()=>{let w=c8(h,a);return w==null?null:{location:{pathname:w,search:g,hash:v,state:b,key:M},navigationType:i}},[a,h,g,v,b,M,i]);return A==null?null:W.createElement(SS.Provider,{value:d},W.createElement(ES.Provider,{children:r,value:A}))}function bQ(e){let{children:t,location:r}=e;return sQ(QP(t),r)}new Promise(()=>{});function QP(e,t){t===void 0&&(t=[]);let r=[];return W.Children.forEach(e,(n,i)=>{if(!W.isValidElement(n))return;let o=[...t,i];if(n.type===W.Fragment){r.push.apply(r,QP(n.props.children,o));return}n.type!==yd&&Ni(!1),!n.props.index||!n.props.children||Ni(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=QP(n.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wQ="startTransition",kN=y1[wQ];function SQ(e){let{basename:t,children:r,future:n,window:i}=e,o=W.useRef();o.current==null&&(o.current=AJ({window:i,v5Compat:!0}));let s=o.current,[a,d]=W.useState({action:s.action,location:s.location}),{v7_startTransition:h}=n||{},g=W.useCallback(v=>{h&&kN?kN(()=>d(v)):d(v)},[d,h]);return W.useLayoutEffect(()=>s.listen(g),[s,g]),W.createElement(xQ,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s})}var PN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(PN||(PN={}));var AN;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(AN||(AN={}));var m8={exports:{}},g8={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=W;function EQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CQ=typeof Object.is=="function"?Object.is:EQ,TQ=Tm.useState,kQ=Tm.useEffect,PQ=Tm.useLayoutEffect,AQ=Tm.useDebugValue;function MQ(e,t){var r=t(),n=TQ({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return PQ(function(){i.value=r,i.getSnapshot=t,_T(i)&&o({inst:i})},[e,r,t]),kQ(function(){return _T(i)&&o({inst:i}),e(function(){_T(i)&&o({inst:i})})},[e]),AQ(r),r}function _T(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CQ(e,r)}catch{return!0}}function OQ(e,t){return t()}var IQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OQ:MQ;g8.useSyncExternalStore=Tm.useSyncExternalStore!==void 0?Tm.useSyncExternalStore:IQ;m8.exports=g8;var y8=m8.exports,v8={exports:{}},_8={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=W,RQ=y8;function $Q(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DQ=typeof Object.is=="function"?Object.is:$Q,LQ=RQ.useSyncExternalStore,zQ=kS.useRef,NQ=kS.useEffect,jQ=kS.useMemo,BQ=kS.useDebugValue;_8.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=zQ(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=jQ(function(){function d(M){if(!h){if(h=!0,g=M,M=n(M),i!==void 0&&s.hasValue){var A=s.value;if(i(A,M))return v=A}return v=M}if(A=v,DQ(g,M))return A;var w=n(M);return i!==void 0&&i(A,w)?A:(g=M,v=w)}var h=!1,g,v,b=r===void 0?null:r;return[function(){return d(t())},b===null?void 0:function(){return d(b())}]},[t,r,n,i]);var a=LQ(e,o[0],o[1]);return NQ(function(){s.hasValue=!0,s.value=a},[a]),BQ(a),a};v8.exports=_8;var FQ=v8.exports;function UQ(e){e()}let x8=UQ;const VQ=e=>x8=e,WQ=()=>x8,MN=Symbol.for("react-redux-context"),ON=typeof globalThis<"u"?globalThis:{};function qQ(){var e;if(!W.createContext)return{};const t=(e=ON[MN])!=null?e:ON[MN]=new Map;let r=t.get(W.createContext);return r||(r=W.createContext(null),t.set(W.createContext,r)),r}const Jc=qQ();function hI(e=Jc){return function(){return W.useContext(e)}}const b8=hI(),w8=()=>{throw new Error("uSES not initialized!")};let S8=w8;const HQ=e=>{S8=e},GQ=(e,t)=>e===t;function YQ(e=Jc){const t=e===Jc?b8:hI(e);return function(n,i={}){const{equalityFn:o=GQ,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:d,subscription:h,getServerState:g,stabilityCheck:v,noopCheck:b}=t();W.useRef(!0);const M=W.useCallback({[n.name](w){return n(w)}}[n.name],[n,v,s]),A=S8(h.addNestedSub,d.getState,g||d.getState,M,o);return W.useDebugValue(A),A}}const Ln=YQ();function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(this,arguments)}function g_(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var E8={exports:{}},fn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=typeof Symbol=="function"&&Symbol.for,pI=Qi?Symbol.for("react.element"):60103,mI=Qi?Symbol.for("react.portal"):60106,PS=Qi?Symbol.for("react.fragment"):60107,AS=Qi?Symbol.for("react.strict_mode"):60108,MS=Qi?Symbol.for("react.profiler"):60114,OS=Qi?Symbol.for("react.provider"):60109,IS=Qi?Symbol.for("react.context"):60110,gI=Qi?Symbol.for("react.async_mode"):60111,RS=Qi?Symbol.for("react.concurrent_mode"):60111,$S=Qi?Symbol.for("react.forward_ref"):60112,DS=Qi?Symbol.for("react.suspense"):60113,KQ=Qi?Symbol.for("react.suspense_list"):60120,LS=Qi?Symbol.for("react.memo"):60115,zS=Qi?Symbol.for("react.lazy"):60116,ZQ=Qi?Symbol.for("react.block"):60121,XQ=Qi?Symbol.for("react.fundamental"):60117,JQ=Qi?Symbol.for("react.responder"):60118,QQ=Qi?Symbol.for("react.scope"):60119;function es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pI:switch(e=e.type,e){case gI:case RS:case PS:case MS:case AS:case DS:return e;default:switch(e=e&&e.$$typeof,e){case IS:case $S:case zS:case LS:case OS:return e;default:return t}}case mI:return t}}}function C8(e){return es(e)===RS}fn.AsyncMode=gI;fn.ConcurrentMode=RS;fn.ContextConsumer=IS;fn.ContextProvider=OS;fn.Element=pI;fn.ForwardRef=$S;fn.Fragment=PS;fn.Lazy=zS;fn.Memo=LS;fn.Portal=mI;fn.Profiler=MS;fn.StrictMode=AS;fn.Suspense=DS;fn.isAsyncMode=function(e){return C8(e)||es(e)===gI};fn.isConcurrentMode=C8;fn.isContextConsumer=function(e){return es(e)===IS};fn.isContextProvider=function(e){return es(e)===OS};fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pI};fn.isForwardRef=function(e){return es(e)===$S};fn.isFragment=function(e){return es(e)===PS};fn.isLazy=function(e){return es(e)===zS};fn.isMemo=function(e){return es(e)===LS};fn.isPortal=function(e){return es(e)===mI};fn.isProfiler=function(e){return es(e)===MS};fn.isStrictMode=function(e){return es(e)===AS};fn.isSuspense=function(e){return es(e)===DS};fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===PS||e===RS||e===MS||e===AS||e===DS||e===KQ||typeof e=="object"&&e!==null&&(e.$$typeof===zS||e.$$typeof===LS||e.$$typeof===OS||e.$$typeof===IS||e.$$typeof===$S||e.$$typeof===XQ||e.$$typeof===JQ||e.$$typeof===QQ||e.$$typeof===ZQ)};fn.typeOf=es;E8.exports=fn;var T8=E8.exports,yI=T8,eee={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tee={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ree={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},k8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vI={};vI[yI.ForwardRef]=ree;vI[yI.Memo]=k8;function IN(e){return yI.isMemo(e)?k8:vI[e.$$typeof]||eee}var nee=Object.defineProperty,iee=Object.getOwnPropertyNames,RN=Object.getOwnPropertySymbols,oee=Object.getOwnPropertyDescriptor,aee=Object.getPrototypeOf,$N=Object.prototype;function P8(e,t,r){if(typeof t!="string"){if($N){var n=aee(t);n&&n!==$N&&P8(e,n,r)}var i=iee(t);RN&&(i=i.concat(RN(t)));for(var o=IN(e),s=IN(t),a=0;a<i.length;++a){var d=i[a];if(!tee[d]&&!(r&&r[d])&&!(s&&s[d])&&!(o&&o[d])){var h=oee(t,d);try{nee(e,d,h)}catch{}}}}return e}var see=P8;const DN=Kr(see);var A8={exports:{}},dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I=Symbol.for("react.element"),xI=Symbol.for("react.portal"),NS=Symbol.for("react.fragment"),jS=Symbol.for("react.strict_mode"),BS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),US=Symbol.for("react.context"),lee=Symbol.for("react.server_context"),VS=Symbol.for("react.forward_ref"),WS=Symbol.for("react.suspense"),qS=Symbol.for("react.suspense_list"),HS=Symbol.for("react.memo"),GS=Symbol.for("react.lazy"),cee=Symbol.for("react.offscreen"),M8;M8=Symbol.for("react.module.reference");function Is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _I:switch(e=e.type,e){case NS:case BS:case jS:case WS:case qS:return e;default:switch(e=e&&e.$$typeof,e){case lee:case US:case VS:case GS:case HS:case FS:return e;default:return t}}case xI:return t}}}dn.ContextConsumer=US;dn.ContextProvider=FS;dn.Element=_I;dn.ForwardRef=VS;dn.Fragment=NS;dn.Lazy=GS;dn.Memo=HS;dn.Portal=xI;dn.Profiler=BS;dn.StrictMode=jS;dn.Suspense=WS;dn.SuspenseList=qS;dn.isAsyncMode=function(){return!1};dn.isConcurrentMode=function(){return!1};dn.isContextConsumer=function(e){return Is(e)===US};dn.isContextProvider=function(e){return Is(e)===FS};dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_I};dn.isForwardRef=function(e){return Is(e)===VS};dn.isFragment=function(e){return Is(e)===NS};dn.isLazy=function(e){return Is(e)===GS};dn.isMemo=function(e){return Is(e)===HS};dn.isPortal=function(e){return Is(e)===xI};dn.isProfiler=function(e){return Is(e)===BS};dn.isStrictMode=function(e){return Is(e)===jS};dn.isSuspense=function(e){return Is(e)===WS};dn.isSuspenseList=function(e){return Is(e)===qS};dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===NS||e===BS||e===jS||e===WS||e===qS||e===cee||typeof e=="object"&&e!==null&&(e.$$typeof===GS||e.$$typeof===HS||e.$$typeof===FS||e.$$typeof===US||e.$$typeof===VS||e.$$typeof===M8||e.getModuleId!==void 0)};dn.typeOf=Is;A8.exports=dn;var uee=A8.exports;const fee=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function dee(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,d,h,g,v,b;function M(I,T){return d=I,h=T,g=e(d,h),v=t(n,h),b=r(g,v,h),a=!0,b}function A(){return g=e(d,h),t.dependsOnOwnProps&&(v=t(n,h)),b=r(g,v,h),b}function w(){return e.dependsOnOwnProps&&(g=e(d,h)),t.dependsOnOwnProps&&(v=t(n,h)),b=r(g,v,h),b}function P(){const I=e(d,h),T=!s(I,g);return g=I,T&&(b=r(g,v,h)),b}function O(I,T){const R=!o(T,h),z=!i(I,d,T,h);return d=I,h=T,R&&z?A():R?w():z?P():b}return function(T,R){return a?O(T,R):M(T,R)}}function hee(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,o=g_(t,fee);const s=r(e,o),a=n(e,o),d=i(e,o);return dee(s,a,d,e,o)}function pee(e,t){const r={};for(const n in e){const i=e[n];typeof i=="function"&&(r[n]=(...o)=>t(i(...o)))}return r}function eA(e){return function(r){const n=e(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function LN(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function O8(e,t){return function(n,{displayName:i}){const o=function(a,d){return o.dependsOnOwnProps?o.mapToProps(a,d):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,d){o.mapToProps=e,o.dependsOnOwnProps=LN(e);let h=o(a,d);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=LN(h),h=o(a,d)),h},o}}function bI(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function mee(e){return e&&typeof e=="object"?eA(t=>pee(e,t)):e?typeof e=="function"?O8(e):bI(e,"mapDispatchToProps"):eA(t=>({dispatch:t}))}function gee(e){return e?typeof e=="function"?O8(e):bI(e,"mapStateToProps"):eA(()=>({}))}function yee(e,t,r){return vn({},r,e,t)}function vee(e){return function(r,{displayName:n,areMergedPropsEqual:i}){let o=!1,s;return function(d,h,g){const v=e(d,h,g);return o?i(v,s)||(s=v):(o=!0,s=v),s}}}function _ee(e){return e?typeof e=="function"?vee(e):bI(e,"mergeProps"):()=>yee}function xee(){const e=WQ();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const zN={notify(){},get:()=>[]};function I8(e,t){let r,n=zN;function i(v){return d(),n.subscribe(v)}function o(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function a(){return!!r}function d(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=xee())}function h(){r&&(r(),r=void 0,n.clear(),n=zN)}const g={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>n};return g}const bee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W1=bee?W.useLayoutEffect:W.useEffect;function NN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xT(e,t){if(NN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!NN(e[r[i]],t[r[i]]))return!1;return!0}const wee=["reactReduxForwardedRef"];let R8=w8;const See=e=>{R8=e},Eee=[null,null];function Cee(e,t,r){W1(()=>e(...t),r)}function Tee(e,t,r,n,i,o){e.current=n,r.current=!1,i.current&&(i.current=null,o())}function kee(e,t,r,n,i,o,s,a,d,h,g){if(!e)return()=>{};let v=!1,b=null;const M=()=>{if(v||!a.current)return;const w=t.getState();let P,O;try{P=n(w,i.current)}catch(I){O=I,b=I}O||(b=null),P===o.current?s.current||h():(o.current=P,d.current=P,s.current=!0,g())};return r.onStateChange=M,r.trySubscribe(),M(),()=>{if(v=!0,r.tryUnsubscribe(),r.onStateChange=null,b)throw b}}function Pee(e,t){return e===t}function Aee(e,t,r,{pure:n,areStatesEqual:i=Pee,areOwnPropsEqual:o=xT,areStatePropsEqual:s=xT,areMergedPropsEqual:a=xT,forwardRef:d=!1,context:h=Jc}={}){const g=h,v=gee(e),b=mee(t),M=_ee(r),A=!!e;return P=>{const O=P.displayName||P.name||"Component",I=`Connect(${O})`,T={shouldHandleStateChanges:A,displayName:I,wrappedComponentName:O,WrappedComponent:P,initMapStateToProps:v,initMapDispatchToProps:b,initMergeProps:M,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function R(V){const[Z,ie,ne]=W.useMemo(()=>{const{reactReduxForwardedRef:Fe}=V,Re=g_(V,wee);return[V.context,Fe,Re]},[V]),ae=W.useMemo(()=>Z&&Z.Consumer&&uee.isContextConsumer(W.createElement(Z.Consumer,null))?Z:g,[Z,g]),de=W.useContext(ae),pe=!!V.store&&!!V.store.getState&&!!V.store.dispatch,Pe=!!de&&!!de.store,be=pe?V.store:de.store,he=Pe?de.getServerState:be.getState,ve=W.useMemo(()=>hee(be.dispatch,T),[be]),[Se,ye]=W.useMemo(()=>{if(!A)return Eee;const Fe=I8(be,pe?void 0:de.subscription),Re=Fe.notifyNestedSubs.bind(Fe);return[Fe,Re]},[be,pe,de]),Ie=W.useMemo(()=>pe?de:vn({},de,{subscription:Se}),[pe,de,Se]),Xe=W.useRef(),Ee=W.useRef(ne),De=W.useRef(),Oe=W.useRef(!1);W.useRef(!1);const Ge=W.useRef(!1),Be=W.useRef();W1(()=>(Ge.current=!0,()=>{Ge.current=!1}),[]);const at=W.useMemo(()=>()=>De.current&&ne===Ee.current?De.current:ve(be.getState(),ne),[be,ne]),nt=W.useMemo(()=>Re=>Se?kee(A,be,Se,ve,Ee,Xe,Oe,Ge,De,ye,Re):()=>{},[Se]);Cee(Tee,[Ee,Xe,Oe,ne,De,ye]);let Ve;try{Ve=R8(nt,at,he?()=>ve(he(),ne):at)}catch(Fe){throw Be.current&&(Fe.message+=`
The error may be correlated with this previous error:
${Be.current.stack}

`),Fe}W1(()=>{Be.current=void 0,De.current=void 0,Xe.current=Ve});const Je=W.useMemo(()=>W.createElement(P,vn({},Ve,{ref:ie})),[ie,P,Ve]);return W.useMemo(()=>A?W.createElement(ae.Provider,{value:Ie},Je):Je,[ae,Je,Ie])}const j=W.memo(R);if(j.WrappedComponent=P,j.displayName=R.displayName=I,d){const Z=W.forwardRef(function(ne,ae){return W.createElement(j,vn({},ne,{reactReduxForwardedRef:ae}))});return Z.displayName=I,Z.WrappedComponent=P,DN(Z,P)}return DN(j,P)}}function Mee({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const s=W.useMemo(()=>{const h=I8(e);return{store:e,subscription:h,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[e,n,i,o]),a=W.useMemo(()=>e.getState(),[e]);W1(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const d=t||Jc;return W.createElement(d.Provider,{value:s},r)}function $8(e=Jc){const t=e===Jc?b8:hI(e);return function(){const{store:n}=t();return n}}const Oee=$8();function Iee(e=Jc){const t=e===Jc?Oee:$8(e);return function(){return t().dispatch}}const nc=Iee();HQ(FQ.useSyncExternalStoreWithSelector);See(y8.useSyncExternalStore);VQ(cu.unstable_batchedUpdates);function al(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Cf(e){return!!e&&!!e[Hn]}function Qc(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Fee}(e)||Array.isArray(e)||!!e[qN]||!!(!((t=e.constructor)===null||t===void 0)&&t[qN])||wI(e)||SI(e))}function Xd(e,t,r){r===void 0&&(r=!1),lg(e)===0?(r?Object.keys:om)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function lg(e){var t=e[Hn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:wI(e)?2:SI(e)?3:0}function im(e,t){return lg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ree(e,t){return lg(e)===2?e.get(t):e[t]}function D8(e,t,r){var n=lg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function L8(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function wI(e){return jee&&e instanceof Map}function SI(e){return Bee&&e instanceof Set}function vd(e){return e.o||e.t}function EI(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=N8(e);delete t[Hn];for(var r=om(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function CI(e,t){return t===void 0&&(t=!1),TI(e)||Cf(e)||!Qc(e)||(lg(e)>1&&(e.set=e.add=e.clear=e.delete=$ee),Object.freeze(e),t&&Xd(e,function(r,n){return CI(n,!0)},!0)),e}function $ee(){al(2)}function TI(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Hl(e){var t=iA[e];return t||al(18,e),t}function Dee(e,t){iA[e]||(iA[e]=t)}function tA(){return p0}function bT(e,t){t&&(Hl("Patches"),e.u=[],e.s=[],e.v=t)}function q1(e){rA(e),e.p.forEach(Lee),e.p=null}function rA(e){e===p0&&(p0=e.l)}function jN(e){return p0={p:[],l:p0,h:e,m:!0,_:0}}function Lee(e){var t=e[Hn];t.i===0||t.i===1?t.j():t.g=!0}function wT(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Hl("ES5").S(t,e,n),n?(r[Hn].P&&(q1(t),al(4)),Qc(e)&&(e=H1(t,e),t.l||G1(t,e)),t.u&&Hl("Patches").M(r[Hn].t,e,t.u,t.s)):e=H1(t,r,[]),q1(t),t.u&&t.v(t.u,t.s),e!==z8?e:void 0}function H1(e,t,r){if(TI(t))return t;var n=t[Hn];if(!n)return Xd(t,function(a,d){return BN(e,n,t,a,d,r)},!0),t;if(n.A!==e)return t;if(!n.P)return G1(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=EI(n.k):n.o,o=i,s=!1;n.i===3&&(o=new Set(i),i.clear(),s=!0),Xd(o,function(a,d){return BN(e,n,i,a,d,r,s)}),G1(e,i,!1),r&&e.u&&Hl("Patches").N(n,r,e.u,e.s)}return n.o}function BN(e,t,r,n,i,o,s){if(Cf(i)){var a=H1(e,i,o&&t&&t.i!==3&&!im(t.R,n)?o.concat(n):void 0);if(D8(r,n,a),!Cf(a))return;e.m=!1}else s&&r.add(i);if(Qc(i)&&!TI(i)){if(!e.h.D&&e._<1)return;H1(e,i),t&&t.A.l||G1(e,i)}}function G1(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&CI(t,r)}function ST(e,t){var r=e[Hn];return(r?vd(r):e)[t]}function FN(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Ku(e){e.P||(e.P=!0,e.l&&Ku(e.l))}function ET(e){e.o||(e.o=EI(e.t))}function nA(e,t,r){var n=wI(t)?Hl("MapSet").F(t,r):SI(t)?Hl("MapSet").T(t,r):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:tA(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},d=a,h=m0;s&&(d=[a],h=hv);var g=Proxy.revocable(d,h),v=g.revoke,b=g.proxy;return a.k=b,a.j=v,b}(t,r):Hl("ES5").J(t,r);return(r?r.A:tA()).p.push(n),n}function zee(e){return Cf(e)||al(22,e),function t(r){if(!Qc(r))return r;var n,i=r[Hn],o=lg(r);if(i){if(!i.P&&(i.i<4||!Hl("ES5").K(i)))return i.t;i.I=!0,n=UN(r,o),i.I=!1}else n=UN(r,o);return Xd(n,function(s,a){i&&Ree(i.t,s)===a||D8(n,s,t(a))}),o===3?new Set(n):n}(e)}function UN(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return EI(e)}function Nee(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var d=this[Hn];return m0.get(d,o)},set:function(d){var h=this[Hn];m0.set(h,o,d)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Hn];if(!a.P)switch(a.i){case 5:n(a)&&Ku(a);break;case 4:r(a)&&Ku(a)}}}function r(o){for(var s=o.t,a=o.k,d=om(a),h=d.length-1;h>=0;h--){var g=d[h];if(g!==Hn){var v=s[g];if(v===void 0&&!im(s,g))return!0;var b=a[g],M=b&&b[Hn];if(M?M.t!==v:!L8(b,v))return!0}}var A=!!s[Hn];return d.length!==om(s).length+(A?0:1)}function n(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var d=0;d<s.length;d++)if(!s.hasOwnProperty(d))return!0;return!1}var i={};Dee("ES5",{J:function(o,s){var a=Array.isArray(o),d=function(g,v){if(g){for(var b=Array(v.length),M=0;M<v.length;M++)Object.defineProperty(b,""+M,e(M,!0));return b}var A=N8(v);delete A[Hn];for(var w=om(A),P=0;P<w.length;P++){var O=w[P];A[O]=e(O,g||!!A[O].enumerable)}return Object.create(Object.getPrototypeOf(v),A)}(a,o),h={i:a?5:4,A:s?s.A:tA(),P:!1,I:!1,R:{},l:s,t:o,k:d,o:null,g:!1,C:!1};return Object.defineProperty(d,Hn,{value:h,writable:!0}),d},S:function(o,s,a){a?Cf(s)&&s[Hn].A===o&&t(o.p):(o.u&&function d(h){if(h&&typeof h=="object"){var g=h[Hn];if(g){var v=g.t,b=g.k,M=g.R,A=g.i;if(A===4)Xd(b,function(T){T!==Hn&&(v[T]!==void 0||im(v,T)?M[T]||d(b[T]):(M[T]=!0,Ku(g)))}),Xd(v,function(T){b[T]!==void 0||im(b,T)||(M[T]=!1,Ku(g))});else if(A===5){if(n(g)&&(Ku(g),M.length=!0),b.length<v.length)for(var w=b.length;w<v.length;w++)M[w]=!1;else for(var P=v.length;P<b.length;P++)M[P]=!0;for(var O=Math.min(b.length,v.length),I=0;I<O;I++)b.hasOwnProperty(I)||(M[I]=!0),M[I]===void 0&&d(b[I])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var VN,p0,kI=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",jee=typeof Map<"u",Bee=typeof Set<"u",WN=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",z8=kI?Symbol.for("immer-nothing"):((VN={})["immer-nothing"]=!0,VN),qN=kI?Symbol.for("immer-draftable"):"__$immer_draftable",Hn=kI?Symbol.for("immer-state"):"__$immer_state",Fee=""+Object.prototype.constructor,om=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,N8=Object.getOwnPropertyDescriptors||function(e){var t={};return om(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},iA={},m0={get:function(e,t){if(t===Hn)return e;var r=vd(e);if(!im(r,t))return function(i,o,s){var a,d=FN(o,s);return d?"value"in d?d.value:(a=d.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Qc(n)?n:n===ST(e.t,t)?(ET(e),e.o[t]=nA(e.A.h,n,e)):n},has:function(e,t){return t in vd(e)},ownKeys:function(e){return Reflect.ownKeys(vd(e))},set:function(e,t,r){var n=FN(vd(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=ST(vd(e),t),o=i==null?void 0:i[Hn];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(L8(r,i)&&(r!==void 0||im(e.t,t)))return!0;ET(e),Ku(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return ST(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,ET(e),Ku(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=vd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){al(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){al(12)}},hv={};Xd(m0,function(e,t){hv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),hv.deleteProperty=function(e,t){return hv.set.call(this,e,t,void 0)},hv.set=function(e,t,r){return m0.set.call(this,e[0],t,r,e[0])};var Uee=function(){function e(r){var n=this;this.O=WN,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var d=n;return function(w){var P=this;w===void 0&&(w=a);for(var O=arguments.length,I=Array(O>1?O-1:0),T=1;T<O;T++)I[T-1]=arguments[T];return d.produce(w,function(R){var z;return(z=o).call.apply(z,[P,R].concat(I))})}}var h;if(typeof o!="function"&&al(6),s!==void 0&&typeof s!="function"&&al(7),Qc(i)){var g=jN(n),v=nA(n,i,void 0),b=!0;try{h=o(v),b=!1}finally{b?q1(g):rA(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(w){return bT(g,s),wT(w,g)},function(w){throw q1(g),w}):(bT(g,s),wT(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===z8&&(h=void 0),n.D&&CI(h,!0),s){var M=[],A=[];Hl("Patches").M(i,h,M,A),s(M,A)}return h}al(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,v=Array(g>1?g-1:0),b=1;b<g;b++)v[b-1]=arguments[b];return n.produceWithPatches(h,function(M){return i.apply(void 0,[M].concat(v))})};var s,a,d=n.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&d instanceof Promise?d.then(function(h){return[h,s,a]}):[d,s,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Qc(r)||al(8),Cf(r)&&(r=zee(r));var n=jN(this),i=nA(this,r,void 0);return i[Hn].C=!0,rA(n),i},t.finishDraft=function(r,n){var i=r&&r[Hn],o=i.A;return bT(o,n),wT(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!WN&&al(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Hl("Patches").$;return Cf(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},e}(),Ka=new Uee,j8=Ka.produce;Ka.produceWithPatches.bind(Ka);Ka.setAutoFreeze.bind(Ka);Ka.setUseProxies.bind(Ka);Ka.applyPatches.bind(Ka);Ka.createDraft.bind(Ka);Ka.finishDraft.bind(Ka);function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function Vee(e,t){if(g0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B8(e){var t=Vee(e,"string");return g0(t)==="symbol"?t:String(t)}function Wee(e,t,r){return t=B8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ao(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var YN=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),CT=function(){return Math.random().toString(36).substring(7).split("").join(".")},Y1={INIT:"@@redux/INIT"+CT(),REPLACE:"@@redux/REPLACE"+CT(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+CT()}};function qee(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function F8(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ao(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ao(1));return r(F8)(e,t)}if(typeof e!="function")throw new Error(Ao(2));var i=e,o=t,s=[],a=s,d=!1;function h(){a===s&&(a=s.slice())}function g(){if(d)throw new Error(Ao(3));return o}function v(w){if(typeof w!="function")throw new Error(Ao(4));if(d)throw new Error(Ao(5));var P=!0;return h(),a.push(w),function(){if(P){if(d)throw new Error(Ao(6));P=!1,h();var I=a.indexOf(w);a.splice(I,1),s=null}}}function b(w){if(!qee(w))throw new Error(Ao(7));if(typeof w.type>"u")throw new Error(Ao(8));if(d)throw new Error(Ao(9));try{d=!0,o=i(o,w)}finally{d=!1}for(var P=s=a,O=0;O<P.length;O++){var I=P[O];I()}return w}function M(w){if(typeof w!="function")throw new Error(Ao(10));i=w,b({type:Y1.REPLACE})}function A(){var w,P=v;return w={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(Ao(11));function T(){I.next&&I.next(g())}T();var R=P(T);return{unsubscribe:R}}},w[YN]=function(){return this},w}return b({type:Y1.INIT}),n={dispatch:b,subscribe:v,getState:g,replaceReducer:M},n[YN]=A,n}function Hee(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Y1.INIT});if(typeof n>"u")throw new Error(Ao(12));if(typeof r(void 0,{type:Y1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ao(13))})}function U8(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),s;try{Hee(r)}catch(a){s=a}return function(d,h){if(d===void 0&&(d={}),s)throw s;for(var g=!1,v={},b=0;b<o.length;b++){var M=o[b],A=r[M],w=d[M],P=A(w,h);if(typeof P>"u")throw h&&h.type,new Error(Ao(14));v[M]=P,g=g||P!==w}return g=g||o.length!==Object.keys(d).length,g?v:d}}function K1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Gee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(Ao(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(d){return d(s)});return o=K1.apply(void 0,a)(i.dispatch),GN(GN({},i),{},{dispatch:o})}}}function V8(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var W8=V8();W8.withExtraArgument=V8;const KN=W8;var q8=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yee=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},km=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Kee=Object.defineProperty,Zee=Object.defineProperties,Xee=Object.getOwnPropertyDescriptors,ZN=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,XN=function(e,t,r){return t in e?Kee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},pf=function(e,t){for(var r in t||(t={}))Jee.call(t,r)&&XN(e,r,t[r]);if(ZN)for(var n=0,i=ZN(t);n<i.length;n++){var r=i[n];Qee.call(t,r)&&XN(e,r,t[r])}return e},TT=function(e,t){return Zee(e,Xee(t))},ete=function(e,t,r){return new Promise(function(n,i){var o=function(d){try{a(r.next(d))}catch(h){i(h)}},s=function(d){try{a(r.throw(d))}catch(h){i(h)}},a=function(d){return d.done?n(d.value):Promise.resolve(d.value).then(o,s)};a((r=r.apply(e,t)).next())})},tte=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?K1:K1.apply(null,arguments)};function rte(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var nte=function(e){q8(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,km([void 0],r[0].concat(this)))):new(t.bind.apply(t,km([void 0],r.concat(this))))},t}(Array),ite=function(e){q8(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,km([void 0],r[0].concat(this)))):new(t.bind.apply(t,km([void 0],r.concat(this))))},t}(Array);function oA(e){return Qc(e)?j8(e,function(){}):e}function ote(e){return typeof e=="boolean"}function ate(){return function(t){return ste(t)}}function ste(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new nte;return r&&(ote(r)?n.push(KN):n.push(KN.withExtraArgument(r.extraArgument))),n}var lte=!0;function cte(e){var t=ate(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,s=o===void 0?t():o,a=r.devTools,d=a===void 0?!0:a,h=r.preloadedState,g=h===void 0?void 0:h,v=r.enhancers,b=v===void 0?void 0:v,M;if(typeof i=="function")M=i;else if(rte(i))M=U8(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var A=s;typeof A=="function"&&(A=A(t));var w=Gee.apply(void 0,A),P=K1;d&&(P=tte(pf({trace:!lte},typeof d=="object"&&d)));var O=new ite(w),I=O;Array.isArray(b)?I=km([w],b):typeof b=="function"&&(I=b(O));var T=P.apply(void 0,I);return F8(M,g,T)}function mf(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return pf(pf({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function H8(e){var t={},r=[],n,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return r.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function ute(e){return typeof e=="function"}function fte(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?H8(t):[t,r,n],o=i[0],s=i[1],a=i[2],d;if(ute(e))d=function(){return oA(e())};else{var h=oA(e);d=function(){return h}}function g(v,b){v===void 0&&(v=d());var M=km([o[b.type]],s.filter(function(A){var w=A.matcher;return w(b)}).map(function(A){var w=A.reducer;return w}));return M.filter(function(A){return!!A}).length===0&&(M=[a]),M.reduce(function(A,w){if(w)if(Cf(A)){var P=A,O=w(P,b);return O===void 0?A:O}else{if(Qc(A))return j8(A,function(I){return w(I,b)});var O=w(A,b);if(O===void 0){if(A===null)return A;throw Error("A case reducer on a non-draftable value must not return undefined")}return O}return A},v)}return g.getInitialState=d,g}function dte(e,t){return e+"/"+t}function y_(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:oA(e.initialState),n=e.reducers||{},i=Object.keys(n),o={},s={},a={};i.forEach(function(g){var v=n[g],b=dte(t,g),M,A;"reducer"in v?(M=v.reducer,A=v.prepare):M=v,o[g]=M,s[b]=M,a[g]=A?mf(b,A):mf(b)});function d(){var g=typeof e.extraReducers=="function"?H8(e.extraReducers):[e.extraReducers],v=g[0],b=v===void 0?{}:v,M=g[1],A=M===void 0?[]:M,w=g[2],P=w===void 0?void 0:w,O=pf(pf({},b),s);return fte(r,function(I){for(var T in O)I.addCase(T,O[T]);for(var R=0,z=A;R<z.length;R++){var j=z[R];I.addMatcher(j.matcher,j.reducer)}P&&I.addDefaultCase(P)})}var h;return{name:t,reducer:function(g,v){return h||(h=d()),h(g,v)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=d()),h.getInitialState()}}}var hte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pte=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=hte[Math.random()*64|0];return t},mte=["name","message","stack","code"],kT=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),JN=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),gte=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=mte;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,r,n){var i=mf(t+"/fulfilled",function(h,g,v,b){return{payload:h,meta:TT(pf({},b||{}),{arg:v,requestId:g,requestStatus:"fulfilled"})}}),o=mf(t+"/pending",function(h,g,v){return{payload:void 0,meta:TT(pf({},v||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=mf(t+"/rejected",function(h,g,v,b,M){return{payload:b,error:(n&&n.serializeError||gte)(h||"Rejected"),meta:TT(pf({},M||{}),{arg:v,requestId:g,rejectedWithValue:!!b,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function d(h){return function(g,v,b){var M=n!=null&&n.idGenerator?n.idGenerator(h):pte(),A=new a,w;function P(I){w=I,A.abort()}var O=function(){return ete(this,null,function(){var I,T,R,z,j,V,Z;return Yee(this,function(ie){switch(ie.label){case 0:return ie.trys.push([0,4,,5]),z=(I=n==null?void 0:n.condition)==null?void 0:I.call(n,h,{getState:v,extra:b}),vte(z)?[4,z]:[3,2];case 1:z=ie.sent(),ie.label=2;case 2:if(z===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return j=new Promise(function(ne,ae){return A.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:w||"Aborted"})})}),g(o(M,h,(T=n==null?void 0:n.getPendingMeta)==null?void 0:T.call(n,{requestId:M,arg:h},{getState:v,extra:b}))),[4,Promise.race([j,Promise.resolve(r(h,{dispatch:g,getState:v,extra:b,requestId:M,signal:A.signal,abort:P,rejectWithValue:function(ne,ae){return new kT(ne,ae)},fulfillWithValue:function(ne,ae){return new JN(ne,ae)}})).then(function(ne){if(ne instanceof kT)throw ne;return ne instanceof JN?i(ne.payload,M,h,ne.meta):i(ne,M,h)})])];case 3:return R=ie.sent(),[3,5];case 4:return V=ie.sent(),R=V instanceof kT?s(null,M,h,V.payload,V.meta):s(V,M,h),[3,5];case 5:return Z=n&&!n.dispatchConditionRejection&&s.match(R)&&R.meta.condition,Z||g(R),[2,R]}})})}();return Object.assign(O,{abort:P,requestId:M,arg:h,unwrap:function(){return O.then(yte)}})}}return Object.assign(d,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function yte(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function vte(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var PI="listenerMiddleware";mf(PI+"/add");mf(PI+"/removeAll");mf(PI+"/remove");var QN;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Nee();const{reducer:_te,actions:xte}=y_({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:bte,actions:Lc}=y_({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(r=>e.items[r.id]=r)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(r=>e.items[r.id]=r)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:wte,actions:PT}=y_({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(r=>{e.positions[r.deviceId]=r,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(r=>{e.camera[r.deviceId]=r})}}}),Ste=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let r=0;r<e.length;r++){console.log("uav - "+r),t[r]={},e[r].hasOwnProperty("uav")&&(t[r].uav=e[r].uav),t[r].id=r,t[r].name=e[r].name,t[r].wp=[],t[r].attributes={};for(let n=0;n<e[r].wp.length;n++)t[r].wp[n]={},t[r].wp[n].pos=e[r].wp[n].pos,t[r].wp[n].yaw=e[r].wp[n].yaw,t[r].wp[n].gimbal=e[r].wp[n].gimbal,e[r].wp[n].hasOwnProperty("action")&&(t[r].wp[n].action=e[r].wp[n].action);e[r].hasOwnProperty("attributes")?(console.log("have atribute"),e[r].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[r].attributes.mode_landing=e[r].attributes.mode_landing),e[r].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e[r].attributes.mode_yaw),e[r].attributes.hasOwnProperty("mode_gimbal")&&(t[r].attributes.mode_gimbal=e[r].attributes.mode_gimbal),e[r].attributes.hasOwnProperty("mode_trace")&&(t[r].attributes.mode_trace=e[r].attributes.mode_trace),e[r].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e[r].attributes.idle_vel)):(e[r].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[r].attributes.mode_landing=e[r].mode_landing),e[r].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e[r].mode_yaw),e[r].hasOwnProperty("mode_gimbal")&&(t[r].attributes.mode_gimbal=e[r].mode_gimbal),e[r].hasOwnProperty("mode_trace")&&(t[r].attributes.mode_trace=e[r].mode_trace),e[r].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e[r].idle_vel))}return console.log("-------------------"),console.log(t),t},Ete=e=>{let t=[];console.log("mission < 3");for(let r=1;r<=e.uav_n;r++)if(e.hasOwnProperty("uav_"+r)){let n=r-1;console.log("uav - "+n),t[n]={},t[n].id=n,t[n].uav="uav_"+r,t[n].name="uav_"+r,t[n].wp=[],t[n].attributes={};for(let i=0;i<e["uav_"+r].wp_n;i++)t[n].wp[i]={},e["uav_"+r]["wp_"+i].length==3?(t[n].wp[i].yaw=0,t[n].wp[i].pos=e["uav_"+r]["wp_"+i]):(t[n].wp[i].yaw=e["uav_"+r]["wp_"+i][3],t[n].wp[i].pos=e["uav_"+r]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[n].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e.idle_vel),e["uav_"+r].hasOwnProperty("attributes")?(e["uav_"+r].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[n].attributes.mode_landing=e["uav_"+r].attributes.mode_landing),e["uav_"+r].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e["uav_"+r].attributes.mode_yaw),e["uav_"+r].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e["uav_"+r].attributes.idle_vel)):(e["uav_"+r].hasOwnProperty("mode_landing")&&(t[n].attributes.mode_landing=e["uav_"+r].mode_landing),e["uav_"+r].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e["uav_"+r].mode_yaw),e["uav_"+r].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e["uav_"+r].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:Cte,actions:Qu}=y_({name:"mission",initialState:{name:"Mission no loaded",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},updateMission(e,t){e.name=t.payload.name;let r=1;t.payload.mission.version=="3"?(e.home=t.payload.mission.route[r].wp[0].pos,e.route=Ste(t.payload.mission.route)):(e.home=t.payload.mission["uav_"+r].wp_0,e.route=Ete(t.payload.mission))},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:Tte,actions:hb}=y_({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const r=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",n=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,r!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-n),[i.longitude,i.latitude]])}else e.history={}})}}}),e3=3,kte=1500,Pte=()=>e=>{const t=[];let r=!1,n=0;return setInterval(()=>{r?(t.length<e3&&(r=!1),cu.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(n>e3&&(r=!0),n=0)},kte),i=>i.type==="devices/update"||i.type==="positions/update"?r?(t.push(i),null):(n+=1,e(i)):e(i)},Ate=U8({errors:_te,devices:bte,data:wte,mission:Cte,session:Tte}),Mte=cte({reducer:Ate,middleware:e=>e().concat(Pte)}),Ote={black:"#000",white:"#fff"},Jd=Ote,Ite={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Rc=Ite,Rte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},up=Rte,$te={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},G8=$te,Dte={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},fp=Dte,Lte={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},dp=Lte,zte={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},il=zte,Nte={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},AI=Nte,jte={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ly=jte,Bte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Gl=Bte,zy={white:Jd.white,background:Gl[50],primary:G8[900],secondary:il[800],positive:il[500],medium:AI[700],negative:Rc[500],neutral:Gl[500],geometry:"#3bb2d0"},Fte={background:{default:zy.background},primary:{main:zy.primary},secondary:{main:zy.secondary,contrastText:zy.white},colors:zy};var MI={exports:{}};MI.exports=Y8;MI.exports.parse=Y8;MI.exports.stringify=K8;var t3=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,r3=new RegExp("^"+t3.source+"(\\s"+t3.source+"){1,}");function Y8(e){var t=e.split(";"),r=t.pop(),n=(t.shift()||"").split("=").pop(),i=0;function o(I){var T=r.substring(i).match(I);return T?(i+=T[0].length,T[0]):null}function s(I){return I&&n.match(/\d+/)&&(I.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+n}}),I}function a(){o(/^\s*/)}function d(){a();for(var I=0,T=[],R=[T],z=T,j;j=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(r3);){if(j==="(")R.push(z),z=[],R[R.length-1].push(z),I++;else if(j===")"){if(z.length===0||(z=R.pop(),!z))return null;if(I--,I===0)break}else if(j===",")z=[],R[R.length-1].push(z);else if(!j.split(/\s/g).some(isNaN))Array.prototype.push.apply(z,j.split(/\s/g).map(parseFloat));else return null;a()}return I!==0?null:T}function h(){for(var I=[],T,R;R=o(r3)||o(/^(,)/);)R===","?(I.push(T),T=[]):R.split(/\s/g).some(isNaN)||(T||(T=[]),Array.prototype.push.apply(T,R.split(/\s/g).map(parseFloat))),a();if(T)I.push(T);else return null;return I.length?I:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var I=h();return!I||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:I[0]}}function v(){if(!o(/^(multipoint)/i))return null;a();var I=r.substring(r.indexOf("(")+1,r.length-1).replace(/\(/g,"").replace(/\)/g,"");r="MULTIPOINT ("+I+")";var T=d();return T?(a(),{type:"MultiPoint",coordinates:T}):null}function b(){if(!o(/^(multilinestring)/i))return null;a();var I=d();return I?(a(),{type:"MultiLineString",coordinates:I}):null}function M(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var I=h();return!I||!o(/^(\))/)?null:{type:"LineString",coordinates:I}}function A(){if(!o(/^(polygon(\sz)?)/i))return null;a();var I=d();return I?{type:"Polygon",coordinates:I}:null}function w(){if(!o(/^(multipolygon)/i))return null;a();var I=d();return I?{type:"MultiPolygon",coordinates:I}:null}function P(){var I=[],T;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;T=O();)I.push(T),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:I}:null}function O(){return g()||M()||A()||v()||b()||w()||P()}return s(O())}function K8(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function r(s){return s.map(t).join(", ")}function n(s){return s.map(r).map(o).join(", ")}function i(s){return s.map(n).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+r(e.coordinates)+")";case"Polygon":return"POLYGON ("+n(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+r(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+n(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(K8).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const AT=e=>new Promise(t=>{const r=new Image;r.onload=()=>t(r),r.src=e}),n3=(e,t)=>{const r=document.createElement("canvas");r.width=e.width*devicePixelRatio,r.height=e.height*devicePixelRatio,r.style.width=`${e.width}px`,r.style.height=`${e.height}px`;const n=r.getContext("2d");return n.save(),n.fillStyle=t,n.globalAlpha=1,n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.globalAlpha=1,n.drawImage(e,0,0,r.width,r.height),n.restore(),r},pb=(e,t,r)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const i=n.getContext("2d");if(i.drawImage(e,0,0,n.width,n.height),t){const s=n.width*.5,a=n.height*.5;i.drawImage(n3(t,r),(n.width-s)/2,(n.height-a)/2,s,a)}else r&&(console.log("entro"),i.drawImage(n3(e,r),0,0,n.width,n.height));return i.getImageData(0,0,n.width,n.height)},gf=e=>{var s;const t=new Set,{layers:r}=e.getStyle();(s=r==null?void 0:r.forEach)==null||s.call(r,a=>{var d,h,g;(g=(h=(d=a.layout)==null?void 0:d["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const n=[...t],i=n.find(a=>a.includes("Regular"));if(i)return[i];const o=n.find(Boolean);return o?[o]:["Roboto Regular"]},Ute="/assets/background-53c65562.svg",Vte="/assets/direction-2fdacc6e.svg",MT="/assets/plane-4238c02c.svg",Wte="/assets/helicopter-651bc896.svg",qte="/assets/drone1-b9b242c5.svg",Hte="/assets/drone2-e1a01f63.svg",i3="/assets/drone3-e4211ef1.svg",y0={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},Z1={helicopter:Wte,plane:MT,drone:qte,dji:Hte,px4:MT,catec:i3,fuvex:i3,default:MT},Z8=e=>Z1.hasOwnProperty(e)?e:"default",Cp={},Gte=async()=>{const e=await AT(Ute);Cp.background=await pb(e),Cp.direction=await pb(await AT(Vte)),Object.keys(y0).forEach(t=>{Cp[`background-${t}`]=pb(e,null,y0[t])}),await Promise.all(Object.keys(Z1).map(async t=>{const r=[];["primary","positive","negative","neutral"].forEach(n=>{r.push(AT(Z1[t]).then(i=>{Cp[`${t}-${n}`]=pb(e,i,Fte.colors[n])}))}),await Promise.all(r)})),console.log("preload icon"),console.log(Cp)};function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function Cd(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function X8(e){if(!Cd(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=X8(e[r])}),t}function Sa(e,t,r={clone:!0}){const n=r.clone?am({},e):e;return Cd(e)&&Cd(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Cd(t[i])&&i in e&&Cd(e[i])?n[i]=Sa(e[i],t[i],r):r.clone?n[i]=Cd(t[i])?X8(t[i]):t[i]:n[i]=t[i])}),n}var J8={exports:{}},Yte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kte=Yte,Zte=Kte;function Q8(){}function eV(){}eV.resetWarningCache=Q8;var Xte=function(){function e(n,i,o,s,a,d){if(d!==Zte){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eV,resetWarningCache:Q8};return r.PropTypes=r,r};J8.exports=Xte();var OI=J8.exports;const Tr=Kr(OI);function Tf(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function wt(e){if(typeof e!="string")throw new Error(Tf(7));return e.charAt(0).toUpperCase()+e.slice(1)}function aA(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function II(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function Jte(e,t){return()=>null}function r1(e,t){return W.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function ji(e){return e&&e.ownerDocument||document}function kf(e){return ji(e).defaultView||window}function Qte(e,t){return()=>null}function X1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const ere=typeof window<"u"?W.useLayoutEffect:W.useEffect,hl=ere;let o3=0;function tre(e){const[t,r]=W.useState(e),n=e||t;return W.useEffect(()=>{t==null&&(o3+=1,r(`mui-${o3}`))},[t]),n}const a3=y1["useId".toString()];function RI(e){if(a3!==void 0){const t=a3();return e??t}return tre(e)}function rre(e,t,r,n,i){return null}function v0({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=W.useRef(e!==void 0),[o,s]=W.useState(t),a=i?e:o,d=W.useCallback(h=>{i||s(h)},[]);return[a,d]}function ll(e){const t=W.useRef(e);return hl(()=>{t.current=e}),W.useCallback((...r)=>(0,t.current)(...r),[])}function li(...e){return W.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{X1(r,t)})},e)}let YS=!0,sA=!1,s3;const nre={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ire(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&nre[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function ore(e){e.metaKey||e.altKey||e.ctrlKey||(YS=!0)}function OT(){YS=!1}function are(){this.visibilityState==="hidden"&&sA&&(YS=!0)}function sre(e){e.addEventListener("keydown",ore,!0),e.addEventListener("mousedown",OT,!0),e.addEventListener("pointerdown",OT,!0),e.addEventListener("touchstart",OT,!0),e.addEventListener("visibilitychange",are,!0)}function lre(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return YS||ire(t)}function KS(){const e=W.useCallback(i=>{i!=null&&sre(i.ownerDocument)},[]),t=W.useRef(!1);function r(){return t.current?(sA=!0,window.clearTimeout(s3),s3=window.setTimeout(()=>{sA=!1},100),t.current=!1,!0):!1}function n(i){return lre(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function tV(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const cre=e=>{const t=W.useRef({});return W.useEffect(()=>{t.current=e}),t.current},rV=cre;function $I(e,t){const r=am({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=am({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},o=t[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=am({},o),Object.keys(i).forEach(s=>{r[n][s]=$I(i[s],o[s])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function lr(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),r&&r[s]&&o.push(r[s])}return o},[]).join(" ")}),n}const l3=e=>e,ure=()=>{let e=l3;return{configure(t){e=t},generate(t){return e(t)},reset(){e=l3}}},fre=ure(),DI=fre,dre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function or(e,t,r="Mui"){const n=dre[t];return n?`${r}-${n}`:`${DI.generate(e)}-${t}`}function ar(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=or(e,i,r)}),n}const Qd="$$material";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(this,arguments)}function Nt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function nV(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var hre=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pre=nV(function(e){return hre.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function mre(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function gre(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var yre=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gre(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=mre(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ko="-ms-",J1="-moz-",en="-webkit-",iV="comm",LI="rule",zI="decl",vre="@import",oV="@keyframes",_re="@layer",xre=Math.abs,ZS=String.fromCharCode,bre=Object.assign;function wre(e,t){return so(e,0)^45?(((t<<2^so(e,0))<<2^so(e,1))<<2^so(e,2))<<2^so(e,3):0}function aV(e){return e.trim()}function Sre(e,t){return(e=t.exec(e))?e[0]:e}function tn(e,t,r){return e.replace(t,r)}function lA(e,t){return e.indexOf(t)}function so(e,t){return e.charCodeAt(t)|0}function _0(e,t,r){return e.slice(t,r)}function Dl(e){return e.length}function NI(e){return e.length}function mb(e,t){return t.push(e),e}function Ere(e,t){return e.map(t).join("")}var XS=1,Pm=1,sV=0,Ta=0,Ai=0,cg="";function JS(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:XS,column:Pm,length:s,return:""}}function Ny(e,t){return bre(JS("",null,null,"",null,null,0),e,{length:-e.length},t)}function Cre(){return Ai}function Tre(){return Ai=Ta>0?so(cg,--Ta):0,Pm--,Ai===10&&(Pm=1,XS--),Ai}function Ha(){return Ai=Ta<sV?so(cg,Ta++):0,Pm++,Ai===10&&(Pm=1,XS++),Ai}function Yl(){return so(cg,Ta)}function n1(){return Ta}function v_(e,t){return _0(cg,e,t)}function x0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lV(e){return XS=Pm=1,sV=Dl(cg=e),Ta=0,[]}function cV(e){return cg="",e}function i1(e){return aV(v_(Ta-1,cA(e===91?e+2:e===40?e+1:e)))}function kre(e){for(;(Ai=Yl())&&Ai<33;)Ha();return x0(e)>2||x0(Ai)>3?"":" "}function Pre(e,t){for(;--t&&Ha()&&!(Ai<48||Ai>102||Ai>57&&Ai<65||Ai>70&&Ai<97););return v_(e,n1()+(t<6&&Yl()==32&&Ha()==32))}function cA(e){for(;Ha();)switch(Ai){case e:return Ta;case 34:case 39:e!==34&&e!==39&&cA(Ai);break;case 40:e===41&&cA(e);break;case 92:Ha();break}return Ta}function Are(e,t){for(;Ha()&&e+Ai!==47+10;)if(e+Ai===42+42&&Yl()===47)break;return"/*"+v_(t,Ta-1)+"*"+ZS(e===47?e:Ha())}function Mre(e){for(;!x0(Yl());)Ha();return v_(e,Ta)}function Ore(e){return cV(o1("",null,null,null,[""],e=lV(e),0,[0],e))}function o1(e,t,r,n,i,o,s,a,d){for(var h=0,g=0,v=s,b=0,M=0,A=0,w=1,P=1,O=1,I=0,T="",R=i,z=o,j=n,V=T;P;)switch(A=I,I=Ha()){case 40:if(A!=108&&so(V,v-1)==58){lA(V+=tn(i1(I),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:V+=i1(I);break;case 9:case 10:case 13:case 32:V+=kre(A);break;case 92:V+=Pre(n1()-1,7);continue;case 47:switch(Yl()){case 42:case 47:mb(Ire(Are(Ha(),n1()),t,r),d);break;default:V+="/"}break;case 123*w:a[h++]=Dl(V)*O;case 125*w:case 59:case 0:switch(I){case 0:case 125:P=0;case 59+g:O==-1&&(V=tn(V,/\f/g,"")),M>0&&Dl(V)-v&&mb(M>32?u3(V+";",n,r,v-1):u3(tn(V," ","")+";",n,r,v-2),d);break;case 59:V+=";";default:if(mb(j=c3(V,t,r,h,g,i,a,T,R=[],z=[],v),o),I===123)if(g===0)o1(V,t,j,j,R,o,v,a,z);else switch(b===99&&so(V,3)===110?100:b){case 100:case 108:case 109:case 115:o1(e,j,j,n&&mb(c3(e,j,j,0,0,i,a,T,i,R=[],v),z),i,z,v,a,n?R:z);break;default:o1(V,j,j,j,[""],z,0,a,z)}}h=g=M=0,w=O=1,T=V="",v=s;break;case 58:v=1+Dl(V),M=A;default:if(w<1){if(I==123)--w;else if(I==125&&w++==0&&Tre()==125)continue}switch(V+=ZS(I),I*w){case 38:O=g>0?1:(V+="\f",-1);break;case 44:a[h++]=(Dl(V)-1)*O,O=1;break;case 64:Yl()===45&&(V+=i1(Ha())),b=Yl(),g=v=Dl(T=V+=Mre(n1())),I++;break;case 45:A===45&&Dl(V)==2&&(w=0)}}return o}function c3(e,t,r,n,i,o,s,a,d,h,g){for(var v=i-1,b=i===0?o:[""],M=NI(b),A=0,w=0,P=0;A<n;++A)for(var O=0,I=_0(e,v+1,v=xre(w=s[A])),T=e;O<M;++O)(T=aV(w>0?b[O]+" "+I:tn(I,/&\f/g,b[O])))&&(d[P++]=T);return JS(e,t,r,i===0?LI:a,d,h,g)}function Ire(e,t,r){return JS(e,t,r,iV,ZS(Cre()),_0(e,2,-2),0)}function u3(e,t,r,n){return JS(e,t,r,zI,_0(e,0,n),_0(e,n+1,-1),n)}function sm(e,t){for(var r="",n=NI(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function Rre(e,t,r,n){switch(e.type){case _re:if(e.children.length)break;case vre:case zI:return e.return=e.return||e.value;case iV:return"";case oV:return e.return=e.value+"{"+sm(e.children,n)+"}";case LI:e.value=e.props.join(",")}return Dl(r=sm(e.children,n))?e.return=e.value+"{"+r+"}":""}function $re(e){var t=NI(e);return function(r,n,i,o){for(var s="",a=0;a<t;a++)s+=e[a](r,n,i,o)||"";return s}}function Dre(e){return function(t){t.root||(t=t.return)&&e(t)}}var Lre=function(t,r,n){for(var i=0,o=0;i=o,o=Yl(),i===38&&o===12&&(r[n]=1),!x0(o);)Ha();return v_(t,Ta)},zre=function(t,r){var n=-1,i=44;do switch(x0(i)){case 0:i===38&&Yl()===12&&(r[n]=1),t[n]+=Lre(Ta-1,r,n);break;case 2:t[n]+=i1(i);break;case 4:if(i===44){t[++n]=Yl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=ZS(i)}while(i=Ha());return t},Nre=function(t,r){return cV(zre(lV(t),r))},f3=new WeakMap,jre=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!f3.get(n))&&!i){f3.set(t,!0);for(var o=[],s=Nre(r,o),a=n.props,d=0,h=0;d<s.length;d++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[d]?s[d].replace(/&\f/g,a[g]):a[g]+" "+s[d]}}},Bre=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function uV(e,t){switch(wre(e,t)){case 5103:return en+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return en+e+J1+e+ko+e+e;case 6828:case 4268:return en+e+ko+e+e;case 6165:return en+e+ko+"flex-"+e+e;case 5187:return en+e+tn(e,/(\w+).+(:[^]+)/,en+"box-$1$2"+ko+"flex-$1$2")+e;case 5443:return en+e+ko+"flex-item-"+tn(e,/flex-|-self/,"")+e;case 4675:return en+e+ko+"flex-line-pack"+tn(e,/align-content|flex-|-self/,"")+e;case 5548:return en+e+ko+tn(e,"shrink","negative")+e;case 5292:return en+e+ko+tn(e,"basis","preferred-size")+e;case 6060:return en+"box-"+tn(e,"-grow","")+en+e+ko+tn(e,"grow","positive")+e;case 4554:return en+tn(e,/([^-])(transform)/g,"$1"+en+"$2")+e;case 6187:return tn(tn(tn(e,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),e,"")+e;case 5495:case 3959:return tn(e,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return tn(tn(e,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+ko+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+e+e;case 4095:case 3583:case 4068:case 2532:return tn(e,/(.+)-inline(.+)/,en+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Dl(e)-1-t>6)switch(so(e,t+1)){case 109:if(so(e,t+4)!==45)break;case 102:return tn(e,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+J1+(so(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~lA(e,"stretch")?uV(tn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(so(e,t+1)!==115)break;case 6444:switch(so(e,Dl(e)-3-(~lA(e,"!important")&&10))){case 107:return tn(e,":",":"+en)+e;case 101:return tn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(so(e,14)===45?"inline-":"")+"box$3$1"+en+"$2$3$1"+ko+"$2box$3")+e}break;case 5936:switch(so(e,t+11)){case 114:return en+e+ko+tn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return en+e+ko+tn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return en+e+ko+tn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return en+e+ko+e+e}return e}var Fre=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case zI:t.return=uV(t.value,t.length);break;case oV:return sm([Ny(t,{value:tn(t.value,"@","@"+en)})],i);case LI:if(t.length)return Ere(t.props,function(o){switch(Sre(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sm([Ny(t,{props:[tn(o,/:(read-\w+)/,":"+J1+"$1")]})],i);case"::placeholder":return sm([Ny(t,{props:[tn(o,/:(plac\w+)/,":"+en+"input-$1")]}),Ny(t,{props:[tn(o,/:(plac\w+)/,":"+J1+"$1")]}),Ny(t,{props:[tn(o,/:(plac\w+)/,ko+"input-$1")]})],i)}return""})}},Ure=[Fre],fV=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var P=w.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=t.stylisPlugins||Ure,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var P=w.getAttribute("data-emotion").split(" "),O=1;O<P.length;O++)o[P[O]]=!0;a.push(w)});var d,h=[jre,Bre];{var g,v=[Rre,Dre(function(w){g.insert(w)})],b=$re(h.concat(i,v)),M=function(P){return sm(Ore(P),b)};d=function(P,O,I,T){g=I,M(P?P+"{"+O.styles+"}":O.styles),T&&(A.inserted[O.name]=!0)}}var A={key:r,sheet:new yre({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:d};return A.sheet.hydrate(a),A},Vre=!0;function Wre(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var dV=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Vre===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},hV=function(t,r,n){dV(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function qre(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Hre={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gre=/[A-Z]|^ms/g,Yre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pV=function(t){return t.charCodeAt(1)===45},d3=function(t){return t!=null&&typeof t!="boolean"},IT=nV(function(e){return pV(e)?e:e.replace(Gre,"-$&").toLowerCase()}),h3=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Yre,function(n,i,o){return Ll={name:i,styles:o,next:Ll},i})}return Hre[t]!==1&&!pV(t)&&typeof r=="number"&&r!==0?r+"px":r};function b0(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ll={name:r.name,styles:r.styles,next:Ll},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ll={name:n.name,styles:n.styles,next:Ll},n=n.next;var i=r.styles+";";return i}return Kre(e,t,r)}case"function":{if(e!==void 0){var o=Ll,s=r(e);return Ll=o,b0(e,t,s)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function Kre(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=b0(e,t,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":d3(s)&&(n+=IT(o)+":"+h3(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)d3(s[a])&&(n+=IT(o)+":"+h3(o,s[a])+";");else{var d=b0(e,t,s);switch(o){case"animation":case"animationName":{n+=IT(o)+":"+d+";";break}default:n+=o+"{"+d+"}"}}}return n}var p3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ll,jI=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Ll=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=b0(n,r,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=b0(n,r,t[a]),i&&(o+=s[a]);p3.lastIndex=0;for(var d="",h;(h=p3.exec(o))!==null;)d+="-"+h[1];var g=qre(o)+d;return{name:g,styles:o,next:Ll}},Zre=function(t){return t()},mV=y1["useInsertionEffect"]?y1["useInsertionEffect"]:!1,Xre=mV||Zre,m3=mV||W.useLayoutEffect,gV=W.createContext(typeof HTMLElement<"u"?fV({key:"css"}):null),Jre=gV.Provider,yV=function(t){return W.forwardRef(function(r,n){var i=W.useContext(gV);return t(r,i,n)})},QS=W.createContext({}),Qre=yV(function(e,t){var r=e.styles,n=jI([r],void 0,W.useContext(QS)),i=W.useRef();return m3(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,d=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),d!==null&&(a=!0,d.setAttribute("data-emotion",o),s.hydrate([d])),i.current=[s,a],function(){s.flush()}},[t]),m3(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&hV(t,n.next,!0),s.tags.length){var d=s.tags[s.tags.length-1].nextElementSibling;s.before=d,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function ene(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jI(t)}var BI=function(){var t=ene.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},tne=pre,rne=function(t){return t!=="theme"},g3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?tne:rne},y3=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},nne=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return dV(r,n,i),Xre(function(){return hV(r,n,i)}),null},ine=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,s;r!==void 0&&(o=r.label,s=r.target);var a=y3(t,r,n),d=a||g3(i),h=!d("as");return function(){var g=arguments,v=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)v.push.apply(v,g);else{v.push(g[0][0]);for(var b=g.length,M=1;M<b;M++)v.push(g[M],g[0][M])}var A=yV(function(w,P,O){var I=h&&w.as||i,T="",R=[],z=w;if(w.theme==null){z={};for(var j in w)z[j]=w[j];z.theme=W.useContext(QS)}typeof w.className=="string"?T=Wre(P.registered,R,w.className):w.className!=null&&(T=w.className+" ");var V=jI(v.concat(R),P.registered,z);T+=P.key+"-"+V.name,s!==void 0&&(T+=" "+s);var Z=h&&a===void 0?g3(I):d,ie={};for(var ne in w)h&&ne==="as"||Z(ne)&&(ie[ne]=w[ne]);return ie.className=T,ie.ref=O,W.createElement(W.Fragment,null,W.createElement(nne,{cache:P,serialized:V,isStringTag:typeof I=="string"}),W.createElement(I,ie))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=v,A.__emotion_forwardProp=a,Object.defineProperty(A,"toString",{value:function(){return"."+s}}),A.withComponent=function(w,P){return e(w,vn({},r,P,{shouldForwardProp:y3(A,P,!0)})).apply(void 0,v)},A}},one=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uA=ine.bind();one.forEach(function(e){uA[e]=uA(e)});let fA;typeof document=="object"&&(fA=fV({key:"css",prepend:!0}));function ane(e){const{injectFirst:t,children:r}=e;return t&&fA?F.jsx(Jre,{value:fA,children:r}):r}function sne(e){return e==null||Object.keys(e).length===0}function lne(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(sne(i)?r:i):t;return F.jsx(Qre,{styles:n})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vV(e,t){return uA(e,t)}const cne=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gn.apply(this,arguments)}function ch(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const une=["values","unit","step"],fne=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>gn({},r,{[n.key]:n.val}),{})};function dne(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=ch(e,une),o=fne(t),s=Object.keys(o);function a(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${r})`}function d(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-n/100}${r})`}function h(b,M){const A=s.indexOf(M);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${r}) and (max-width:${(A!==-1&&typeof t[s[A]]=="number"?t[s[A]]:M)-n/100}${r})`}function g(b){return s.indexOf(b)+1<s.length?h(b,s[s.indexOf(b)+1]):a(b)}function v(b){const M=s.indexOf(b);return M===0?a(s[1]):M===s.length-1?d(s[M]):h(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return gn({keys:s,values:o,up:a,down:d,between:h,only:g,not:v,unit:r},i)}const hne={borderRadius:4},pne=hne;function $v(e,t){return t?Sa(e,t,{clone:!1}):e}const FI={xs:0,sm:600,md:900,lg:1200,xl:1536},v3={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${FI[e]}px)`};function eu(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||v3;return t.reduce((s,a,d)=>(s[o.up(o.keys[d])]=r(t[d]),s),{})}if(typeof t=="object"){const o=n.breakpoints||v3;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||FI).indexOf(a)!==-1){const d=o.up(a);s[d]=r(t[a],a)}else{const d=a;s[d]=t[d]}return s},{})}return r(t)}function mne(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function gne(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function Am(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function Q1(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=Am(e,r)||n,t&&(i=t(i,n,e)),i}function rn(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],d=s.theme,h=Am(d,n)||{};return eu(s,a,v=>{let b=Q1(h,i,v);return v===b&&typeof v=="string"&&(b=Q1(h,i,`${t}${v==="default"?"":wt(v)}`,v)),r===!1?b:{[r]:b}})};return o.propTypes={},o.filterProps=[t],o}function yne(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const vne={m:"margin",p:"padding"},_ne={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},xne=yne(e=>{if(e.length>2)if(_3[e])e=_3[e];else return[e];const[t,r]=e.split(""),n=vne[t],i=_ne[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),UI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],VI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...UI,...VI];function __(e,t,r,n){var i;const o=(i=Am(e,t,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function _V(e){return __(e,"spacing",8)}function x_(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function bne(e,t){return r=>e.reduce((n,i)=>(n[i]=x_(t,r),n),{})}function wne(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=xne(r),o=bne(i,n),s=e[r];return eu(e,s,o)}function xV(e,t){const r=_V(e.theme);return Object.keys(e).map(n=>wne(e,t,n,r)).reduce($v,{})}function di(e){return xV(e,UI)}di.propTypes={};di.filterProps=UI;function hi(e){return xV(e,VI)}hi.propTypes={};hi.filterProps=VI;function Sne(e=8){if(e.mui)return e;const t=_V({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function e2(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?$v(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function jl(e){return typeof e!="number"?e:`${e}px solid`}const Ene=rn({prop:"border",themeKey:"borders",transform:jl}),Cne=rn({prop:"borderTop",themeKey:"borders",transform:jl}),Tne=rn({prop:"borderRight",themeKey:"borders",transform:jl}),kne=rn({prop:"borderBottom",themeKey:"borders",transform:jl}),Pne=rn({prop:"borderLeft",themeKey:"borders",transform:jl}),Ane=rn({prop:"borderColor",themeKey:"palette"}),Mne=rn({prop:"borderTopColor",themeKey:"palette"}),One=rn({prop:"borderRightColor",themeKey:"palette"}),Ine=rn({prop:"borderBottomColor",themeKey:"palette"}),Rne=rn({prop:"borderLeftColor",themeKey:"palette"}),t2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=__(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:x_(t,n)});return eu(e,e.borderRadius,r)}return null};t2.propTypes={};t2.filterProps=["borderRadius"];e2(Ene,Cne,Tne,kne,Pne,Ane,Mne,One,Ine,Rne,t2);const r2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=__(e.theme,"spacing",8),r=n=>({gap:x_(t,n)});return eu(e,e.gap,r)}return null};r2.propTypes={};r2.filterProps=["gap"];const n2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=__(e.theme,"spacing",8),r=n=>({columnGap:x_(t,n)});return eu(e,e.columnGap,r)}return null};n2.propTypes={};n2.filterProps=["columnGap"];const i2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=__(e.theme,"spacing",8),r=n=>({rowGap:x_(t,n)});return eu(e,e.rowGap,r)}return null};i2.propTypes={};i2.filterProps=["rowGap"];const $ne=rn({prop:"gridColumn"}),Dne=rn({prop:"gridRow"}),Lne=rn({prop:"gridAutoFlow"}),zne=rn({prop:"gridAutoColumns"}),Nne=rn({prop:"gridAutoRows"}),jne=rn({prop:"gridTemplateColumns"}),Bne=rn({prop:"gridTemplateRows"}),Fne=rn({prop:"gridTemplateAreas"}),Une=rn({prop:"gridArea"});e2(r2,n2,i2,$ne,Dne,Lne,zne,Nne,jne,Bne,Fne,Une);function lm(e,t){return t==="grey"?t:e}const Vne=rn({prop:"color",themeKey:"palette",transform:lm}),Wne=rn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:lm}),qne=rn({prop:"backgroundColor",themeKey:"palette",transform:lm});e2(Vne,Wne,qne);function Fa(e){return e<=1&&e!==0?`${e*100}%`:e}const Hne=rn({prop:"width",transform:Fa}),WI=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n;return{maxWidth:((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||FI[r]||Fa(r)}};return eu(e,e.maxWidth,t)}return null};WI.filterProps=["maxWidth"];const Gne=rn({prop:"minWidth",transform:Fa}),Yne=rn({prop:"height",transform:Fa}),Kne=rn({prop:"maxHeight",transform:Fa}),Zne=rn({prop:"minHeight",transform:Fa});rn({prop:"size",cssProperty:"width",transform:Fa});rn({prop:"size",cssProperty:"height",transform:Fa});const Xne=rn({prop:"boxSizing"});e2(Hne,WI,Gne,Yne,Kne,Zne,Xne);const Jne={border:{themeKey:"borders",transform:jl},borderTop:{themeKey:"borders",transform:jl},borderRight:{themeKey:"borders",transform:jl},borderBottom:{themeKey:"borders",transform:jl},borderLeft:{themeKey:"borders",transform:jl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:t2},color:{themeKey:"palette",transform:lm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:lm},backgroundColor:{themeKey:"palette",transform:lm},p:{style:hi},pt:{style:hi},pr:{style:hi},pb:{style:hi},pl:{style:hi},px:{style:hi},py:{style:hi},padding:{style:hi},paddingTop:{style:hi},paddingRight:{style:hi},paddingBottom:{style:hi},paddingLeft:{style:hi},paddingX:{style:hi},paddingY:{style:hi},paddingInline:{style:hi},paddingInlineStart:{style:hi},paddingInlineEnd:{style:hi},paddingBlock:{style:hi},paddingBlockStart:{style:hi},paddingBlockEnd:{style:hi},m:{style:di},mt:{style:di},mr:{style:di},mb:{style:di},ml:{style:di},mx:{style:di},my:{style:di},margin:{style:di},marginTop:{style:di},marginRight:{style:di},marginBottom:{style:di},marginLeft:{style:di},marginX:{style:di},marginY:{style:di},marginInline:{style:di},marginInlineStart:{style:di},marginInlineEnd:{style:di},marginBlock:{style:di},marginBlockStart:{style:di},marginBlockEnd:{style:di},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:r2},rowGap:{style:i2},columnGap:{style:n2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fa},maxWidth:{style:WI},minWidth:{transform:Fa},height:{transform:Fa},maxHeight:{transform:Fa},minHeight:{transform:Fa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},o2=Jne;function Qne(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function eie(e,t){return typeof e=="function"?e(t):e}function tie(){function e(r,n,i,o){const s={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:d=r,themeKey:h,transform:g,style:v}=a;if(n==null)return null;if(h==="typography"&&n==="inherit")return{[r]:n};const b=Am(i,h)||{};return v?v(s):eu(s,n,A=>{let w=Q1(b,g,A);return A===w&&typeof A=="string"&&(w=Q1(b,g,`${r}${A==="default"?"":wt(A)}`,A)),d===!1?w:{[d]:w}})}function t(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const s=(n=o.unstable_sxConfig)!=null?n:o2;function a(d){let h=d;if(typeof d=="function")h=d(o);else if(typeof d!="object")return d;if(!h)return null;const g=mne(o.breakpoints),v=Object.keys(g);let b=g;return Object.keys(h).forEach(M=>{const A=eie(h[M],o);if(A!=null)if(typeof A=="object")if(s[M])b=$v(b,e(M,A,o,s));else{const w=eu({theme:o},A,P=>({[M]:P}));Qne(w,A)?b[M]=t({sx:A,theme:o}):b=$v(b,w)}else b=$v(b,e(M,A,o,s))}),gne(v,b)}return Array.isArray(i)?i.map(a):a(i)}return t}const bV=tie();bV.filterProps=["sx"];const a2=bV,rie=["breakpoints","palette","spacing","shape"];function s2(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=ch(e,rie),a=dne(r),d=Sne(i);let h=Sa({breakpoints:a,direction:"ltr",components:{},palette:gn({mode:"light"},n),spacing:d,shape:gn({},pne,o)},s);return h=t.reduce((g,v)=>Sa(g,v),h),h.unstable_sxConfig=gn({},o2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(v){return a2({sx:v,theme:this})},h}function nie(e){return Object.keys(e).length===0}function qI(e=null){const t=W.useContext(QS);return!t||nie(t)?e:t}const iie=s2();function l2(e=iie){return qI(e)}function oie({styles:e,themeId:t,defaultTheme:r={}}){const n=l2(r),i=typeof e=="function"?e(t&&n[t]||n):e;return F.jsx(lne,{styles:i})}const aie=["sx"],sie=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:o2;return Object.keys(e).forEach(o=>{i[o]?n.systemProps[o]=e[o]:n.otherProps[o]=e[o]}),n};function wV(e){const{sx:t}=e,r=ch(e,aie),{systemProps:n,otherProps:i}=sie(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Cd(a)?gn({},n,a):n}:o=gn({},n,t),gn({},i,{sx:o})}function SV(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=SV(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function EV(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=SV(e))&&(n&&(n+=" "),n+=t);return n}const lie=["className","component"];function cie(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,o=vV("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(a2);return W.forwardRef(function(d,h){const g=l2(r),v=wV(d),{className:b,component:M="div"}=v,A=ch(v,lie);return F.jsx(o,gn({as:M,ref:h,className:EV(b,i?i(n):n),theme:t&&g[t]||g},A))})}const uie=["variant"];function x3(e){return e.length===0}function CV(e){const{variant:t}=e,r=ch(e,uie);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=x3(n)?e[i]:wt(e[i]):n+=`${x3(n)?i:wt(i)}${wt(e[i].toString())}`}),n}const fie=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function die(e){return Object.keys(e).length===0}function hie(e){return typeof e=="string"&&e.charCodeAt(0)>96}const pie=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,mie=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const o=CV(i.props);n[o]=i.style}),n},gie=(e,t,r,n)=>{var i;const{ownerState:o={}}=e,s=[],a=r==null||(i=r.components)==null||(i=i[n])==null?void 0:i.variants;return a&&a.forEach(d=>{let h=!0;Object.keys(d.props).forEach(g=>{o[g]!==d.props[g]&&e[g]!==d.props[g]&&(h=!1)}),h&&s.push(t[CV(d.props)])}),s};function Dv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const yie=s2(),vie=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function jy({defaultTheme:e,theme:t,themeId:r}){return die(t)?e:t[r]||t}function _ie(e){return e?(t,r)=>r[e]:null}function TV(e={}){const{themeId:t,defaultTheme:r=yie,rootShouldForwardProp:n=Dv,slotShouldForwardProp:i=Dv}=e,o=s=>a2(gn({},s,{theme:jy(gn({},s,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{cne(s,R=>R.filter(z=>!(z!=null&&z.__mui_systemSx)));const{name:d,slot:h,skipVariantsResolver:g,skipSx:v,overridesResolver:b=_ie(vie(h))}=a,M=ch(a,fie),A=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,w=v||!1;let P,O=Dv;h==="Root"||h==="root"?O=n:h?O=i:hie(s)&&(O=void 0);const I=vV(s,gn({shouldForwardProp:O,label:P},M)),T=(R,...z)=>{const j=z?z.map(ne=>typeof ne=="function"&&ne.__emotion_real!==ne?ae=>ne(gn({},ae,{theme:jy(gn({},ae,{defaultTheme:r,themeId:t}))})):ne):[];let V=R;d&&b&&j.push(ne=>{const ae=jy(gn({},ne,{defaultTheme:r,themeId:t})),de=pie(d,ae);if(de){const pe={};return Object.entries(de).forEach(([Pe,be])=>{pe[Pe]=typeof be=="function"?be(gn({},ne,{theme:ae})):be}),b(ne,pe)}return null}),d&&!A&&j.push(ne=>{const ae=jy(gn({},ne,{defaultTheme:r,themeId:t}));return gie(ne,mie(d,ae),ae,d)}),w||j.push(o);const Z=j.length-z.length;if(Array.isArray(R)&&Z>0){const ne=new Array(Z).fill("");V=[...R,...ne],V.raw=[...R.raw,...ne]}else typeof R=="function"&&R.__emotion_real!==R&&(V=ne=>R(gn({},ne,{theme:jy(gn({},ne,{defaultTheme:r,themeId:t}))})));const ie=I(V,...j);return s.muiName&&(ie.muiName=s.muiName),ie};return I.withConfig&&(T.withConfig=I.withConfig),T}}const xie=TV(),bie=xie;function wie(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:$I(t.components[r].defaultProps,n)}function kV({props:e,name:t,defaultTheme:r,themeId:n}){let i=l2(r);return n&&(i=i[n]||i),wie({theme:i,name:t,props:e})}function HI(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function Sie(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function eh(e){if(e.type)return e;if(e.charAt(0)==="#")return eh(Sie(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Tf(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Tf(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function c2(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function Eie(e){e=eh(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(h,g=(h+r/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const d=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",d.push(t[3])),c2({type:a,values:d})}function dA(e){e=eh(e);let t=e.type==="hsl"||e.type==="hsla"?eh(Eie(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Cie(e,t){const r=dA(e),n=dA(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function zn(e,t){return e=eh(e),t=HI(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,c2(e)}function GI(e,t){if(e=eh(e),t=HI(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return c2(e)}function YI(e,t){if(e=eh(e),t=HI(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return c2(e)}function Tie(e,t=.15){return dA(e)>.5?GI(e,t):YI(e,t)}function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hA.apply(this,arguments)}const kie=W.createContext(null),PV=kie;function KI(){return W.useContext(PV)}const Pie=typeof Symbol=="function"&&Symbol.for,AV=Pie?Symbol.for("mui.nested"):"__THEME_NESTED__";function Aie(e,t){return typeof t=="function"?t(e):hA({},e,t)}function Mie(e){const{children:t,theme:r}=e,n=KI(),i=W.useMemo(()=>{const o=n===null?r:Aie(n,r);return o!=null&&(o[AV]=n!==null),o},[r,n]);return F.jsx(PV.Provider,{value:i,children:t})}const b3={};function w3(e,t,r,n=!1){return W.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const o=r(i),s=e?gn({},t,{[e]:o}):o;return n?()=>s:s}return e?gn({},t,{[e]:r}):gn({},t,r)},[e,t,r,n])}function Oie(e){const{children:t,theme:r,themeId:n}=e,i=qI(b3),o=KI()||b3,s=w3(n,i,r),a=w3(n,o,r,!0);return F.jsx(Mie,{theme:a,children:F.jsx(QS.Provider,{value:s,children:t})})}const Iie=["className","component","disableGutters","fixed","maxWidth","classes"],Rie=s2(),$ie=bie("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${wt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),Die=e=>kV({props:e,name:"MuiContainer",defaultTheme:Rie}),Lie=(e,t)=>{const r=d=>or(t,d),{classes:n,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${wt(String(s))}`,i&&"fixed",o&&"disableGutters"]};return lr(a,r,n)};function zie(e={}){const{createStyledComponent:t=$ie,useThemeProps:r=Die,componentName:n="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>gn({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((d,h)=>{const g=h,v=s.breakpoints.values[g];return v!==0&&(d[s.breakpoints.up(g)]={maxWidth:`${v}${s.breakpoints.unit}`}),d},{}),({theme:s,ownerState:a})=>gn({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return W.forwardRef(function(a,d){const h=r(a),{className:g,component:v="div",disableGutters:b=!1,fixed:M=!1,maxWidth:A="lg"}=h,w=ch(h,Iie),P=gn({},h,{component:v,disableGutters:b,fixed:M,maxWidth:A}),O=Lie(P,n);return F.jsx(i,gn({as:v,ownerState:P,className:EV(O.root,g),ref:d},w))})}function Nie(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const jie=["mode","contrastThreshold","tonalOffset"],S3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jd.white,default:Jd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},RT={text:{primary:Jd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E3(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=YI(e.main,i):t==="dark"&&(e.dark=GI(e.main,o)))}function Bie(e="light"){return e==="dark"?{main:fp[200],light:fp[50],dark:fp[400]}:{main:fp[700],light:fp[400],dark:fp[800]}}function Fie(e="light"){return e==="dark"?{main:up[200],light:up[50],dark:up[400]}:{main:up[500],light:up[300],dark:up[700]}}function Uie(e="light"){return e==="dark"?{main:Rc[500],light:Rc[300],dark:Rc[700]}:{main:Rc[700],light:Rc[400],dark:Rc[800]}}function Vie(e="light"){return e==="dark"?{main:dp[400],light:dp[300],dark:dp[700]}:{main:dp[700],light:dp[500],dark:dp[900]}}function Wie(e="light"){return e==="dark"?{main:il[400],light:il[300],dark:il[700]}:{main:il[800],light:il[500],dark:il[900]}}function qie(e="light"){return e==="dark"?{main:Ly[400],light:Ly[300],dark:Ly[700]}:{main:"#ed6c02",light:Ly[500],dark:Ly[900]}}function Hie(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=Nt(e,jie),o=e.primary||Bie(t),s=e.secondary||Fie(t),a=e.error||Uie(t),d=e.info||Vie(t),h=e.success||Wie(t),g=e.warning||qie(t);function v(w){return Cie(w,RT.text.primary)>=r?RT.text.primary:S3.text.primary}const b=({color:w,name:P,mainShade:O=500,lightShade:I=300,darkShade:T=700})=>{if(w=oe({},w),!w.main&&w[O]&&(w.main=w[O]),!w.hasOwnProperty("main"))throw new Error(Tf(11,P?` (${P})`:"",O));if(typeof w.main!="string")throw new Error(Tf(12,P?` (${P})`:"",JSON.stringify(w.main)));return E3(w,"light",I,n),E3(w,"dark",T,n),w.contrastText||(w.contrastText=v(w.main)),w},M={dark:RT,light:S3};return Sa(oe({common:oe({},Jd),mode:t,primary:b({color:o,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:a,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:d,name:"info"}),success:b({color:h,name:"success"}),grey:Gl,contrastThreshold:r,getContrastText:v,augmentColor:b,tonalOffset:n},M[t]),i)}const Gie=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Yie(e){return Math.round(e*1e5)/1e5}const C3={textTransform:"uppercase"},T3='"Roboto", "Helvetica", "Arial", sans-serif';function Kie(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=T3,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:g,pxToRem:v}=r,b=Nt(r,Gie),M=i/14,A=v||(O=>`${O/h*M}rem`),w=(O,I,T,R,z)=>oe({fontFamily:n,fontWeight:O,fontSize:A(I),lineHeight:T},n===T3?{letterSpacing:`${Yie(R/I)}em`}:{},z,g),P={h1:w(o,96,1.167,-1.5),h2:w(o,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(a,14,1.75,.4,C3),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,C3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Sa(oe({htmlFontSize:h,pxToRem:A,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:d},P),b,{clone:!1})}const Zie=.2,Xie=.14,Jie=.12;function Vn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Zie})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Xie})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Jie})`].join(",")}const Qie=["none",Vn(0,2,1,-1,0,1,1,0,0,1,3,0),Vn(0,3,1,-2,0,2,2,0,0,1,5,0),Vn(0,3,3,-2,0,3,4,0,0,1,8,0),Vn(0,2,4,-1,0,4,5,0,0,1,10,0),Vn(0,3,5,-1,0,5,8,0,0,1,14,0),Vn(0,3,5,-1,0,6,10,0,0,1,18,0),Vn(0,4,5,-2,0,7,10,1,0,2,16,1),Vn(0,5,5,-3,0,8,10,1,0,3,14,2),Vn(0,5,6,-3,0,9,12,1,0,3,16,2),Vn(0,6,6,-3,0,10,14,1,0,4,18,3),Vn(0,6,7,-4,0,11,15,1,0,4,20,3),Vn(0,7,8,-4,0,12,17,2,0,5,22,4),Vn(0,7,8,-4,0,13,19,2,0,5,24,4),Vn(0,7,9,-4,0,14,21,2,0,5,26,4),Vn(0,8,9,-5,0,15,22,2,0,6,28,5),Vn(0,8,10,-5,0,16,24,2,0,6,30,5),Vn(0,8,11,-5,0,17,26,2,0,6,32,5),Vn(0,9,11,-5,0,18,28,2,0,7,34,6),Vn(0,9,12,-6,0,19,29,2,0,7,36,6),Vn(0,10,13,-6,0,20,31,3,0,8,38,7),Vn(0,10,13,-6,0,21,33,3,0,8,40,7),Vn(0,10,14,-6,0,22,35,3,0,8,42,7),Vn(0,11,14,-7,0,23,36,3,0,9,44,8),Vn(0,11,15,-7,0,24,38,3,0,9,46,8)],eoe=Qie,toe=["duration","easing","delay"],roe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},MV={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function k3(e){return`${Math.round(e)}ms`}function noe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function ioe(e){const t=oe({},roe,e.easing),r=oe({},MV,e.duration);return oe({getAutoHeightDuration:noe,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:a=t.easeInOut,delay:d=0}=o;return Nt(o,toe),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:k3(s)} ${a} ${typeof d=="string"?d:k3(d)}`).join(",")}},e,{easing:t,duration:r})}const ooe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},aoe=ooe,soe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ZI(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,s=Nt(e,soe);if(e.vars)throw new Error(Tf(18));const a=Hie(n),d=s2(e);let h=Sa(d,{mixins:Nie(d.breakpoints,r),palette:a,shadows:eoe.slice(),typography:Kie(a,o),transitions:ioe(i),zIndex:oe({},aoe)});return h=Sa(h,s),h=t.reduce((g,v)=>Sa(g,v),h),h.unstable_sxConfig=oe({},o2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(v){return a2({sx:v,theme:this})},h}const loe=ZI(),u2=loe;function Lf(){const e=l2(u2);return e[Qd]||e}function sr({props:e,name:t}){return kV({props:e,name:t,defaultTheme:u2,themeId:Qd})}const gl=e=>Dv(e)&&e!=="classes",coe=Dv,uoe=TV({themeId:Qd,defaultTheme:u2,rootShouldForwardProp:gl}),Et=uoe,foe=["theme"];function doe(e){let{theme:t}=e,r=Nt(e,foe);const n=t[Qd];return F.jsx(Oie,oe({},r,{themeId:n?Qd:void 0,theme:n||t}))}const hoe=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},P3=hoe;function OV(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=OV(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Ft(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=OV(e))&&(n&&(n+=" "),n+=t);return n}function poe(e){return or("MuiSvgIcon",e)}ar("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const moe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],goe=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${wt(t)}`,`fontSize${wt(r)}`]};return lr(i,poe,n)},yoe=Et("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${wt(r.color)}`],t[`fontSize${wt(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,s,a,d,h,g,v,b,M,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(d=a.pxToRem)==null?void 0:d.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(v=(b=(e.vars||e).palette)==null||(b=b[t.color])==null?void 0:b.main)!=null?v:{action:(M=(e.vars||e).palette)==null||(M=M.action)==null?void 0:M.active,disabled:(A=(e.vars||e).palette)==null||(A=A.action)==null?void 0:A.disabled,inherit:void 0}[t.color]}}),IV=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:v,viewBox:b="0 0 24 24"}=n,M=Nt(n,moe),A=W.isValidElement(i)&&i.type==="svg",w=oe({},n,{color:s,component:a,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:b,hasSvgAsChild:A}),P={};g||(P.viewBox=b);const O=goe(w);return F.jsxs(yoe,oe({as:a,className:Ft(O.root,o),focusable:"false",color:h,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:r},P,M,A&&i.props,{ownerState:w,children:[A?i.props.children:i,v?F.jsx("title",{children:v}):null]}))});IV.muiName="SvgIcon";const A3=IV;function XI(e,t){function r(n,i){return F.jsx(A3,oe({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=A3.muiName,W.memo(W.forwardRef(r))}const voe={configure:e=>{DI.configure(e)}},_oe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:wt,createChainedFunction:aA,createSvgIcon:XI,debounce:II,deprecatedPropType:Jte,isMuiElement:r1,ownerDocument:ji,ownerWindow:kf,requirePropFactory:Qte,setRef:X1,unstable_ClassNameGenerator:voe,unstable_useEnhancedEffect:hl,unstable_useId:RI,unsupportedProp:rre,useControlled:v0,useEventCallback:ll,useForkRef:li,useIsFocusVisible:KS},Symbol.toStringTag,{value:"Module"}));var xn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=Symbol.for("react.element"),QI=Symbol.for("react.portal"),f2=Symbol.for("react.fragment"),d2=Symbol.for("react.strict_mode"),h2=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),xoe=Symbol.for("react.server_context"),g2=Symbol.for("react.forward_ref"),y2=Symbol.for("react.suspense"),v2=Symbol.for("react.suspense_list"),_2=Symbol.for("react.memo"),x2=Symbol.for("react.lazy"),boe=Symbol.for("react.offscreen"),RV;RV=Symbol.for("react.module.reference");function Rs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JI:switch(e=e.type,e){case f2:case h2:case d2:case y2:case v2:return e;default:switch(e=e&&e.$$typeof,e){case xoe:case m2:case g2:case x2:case _2:case p2:return e;default:return t}}case QI:return t}}}xn.ContextConsumer=m2;xn.ContextProvider=p2;xn.Element=JI;xn.ForwardRef=g2;xn.Fragment=f2;xn.Lazy=x2;xn.Memo=_2;xn.Portal=QI;xn.Profiler=h2;xn.StrictMode=d2;xn.Suspense=y2;xn.SuspenseList=v2;xn.isAsyncMode=function(){return!1};xn.isConcurrentMode=function(){return!1};xn.isContextConsumer=function(e){return Rs(e)===m2};xn.isContextProvider=function(e){return Rs(e)===p2};xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JI};xn.isForwardRef=function(e){return Rs(e)===g2};xn.isFragment=function(e){return Rs(e)===f2};xn.isLazy=function(e){return Rs(e)===x2};xn.isMemo=function(e){return Rs(e)===_2};xn.isPortal=function(e){return Rs(e)===QI};xn.isProfiler=function(e){return Rs(e)===h2};xn.isStrictMode=function(e){return Rs(e)===d2};xn.isSuspense=function(e){return Rs(e)===y2};xn.isSuspenseList=function(e){return Rs(e)===v2};xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===f2||e===h2||e===d2||e===y2||e===v2||e===boe||typeof e=="object"&&e!==null&&(e.$$typeof===x2||e.$$typeof===_2||e.$$typeof===p2||e.$$typeof===m2||e.$$typeof===g2||e.$$typeof===RV||e.getModuleId!==void 0)};xn.typeOf=Rs;function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pA(e,t)}function b_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pA(e,t)}const M3={disabled:!1},ew=qe.createContext(null);var woe=function(t){return t.scrollTop},pv="unmounted",_d="exited",xd="entering",Tp="entered",mA="exiting",uu=function(e){b_(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?a?(d=_d,o.appearStatus=xd):d=Tp:n.unmountOnExit||n.mountOnEnter?d=pv:d=_d,o.state={status:d},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===pv?{status:_d}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==xd&&s!==Tp&&(o=xd):(s===xd||s===Tp)&&(o=mA)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===xd){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:db.findDOMNode(this);s&&woe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_d&&this.setState({status:pv})},r.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,d=this.props.nodeRef?[a]:[db.findDOMNode(this),a],h=d[0],g=d[1],v=this.getTimeouts(),b=a?v.appear:v.enter;if(!i&&!s||M3.disabled){this.safeSetState({status:Tp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:xd},function(){o.props.onEntering(h,g),o.onTransitionEnd(b,function(){o.safeSetState({status:Tp},function(){o.props.onEntered(h,g)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:db.findDOMNode(this);if(!o||M3.disabled){this.safeSetState({status:_d},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:mA},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:_d},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:db.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=d[0],g=d[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===pv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=g_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qe.createElement(ew.Provider,{value:null},typeof s=="function"?s(i,a):qe.cloneElement(qe.Children.only(s),a))},t}(qe.Component);uu.contextType=ew;uu.propTypes={};function hp(){}uu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hp,onEntering:hp,onEntered:hp,onExit:hp,onExiting:hp,onExited:hp};uu.UNMOUNTED=pv;uu.EXITED=_d;uu.ENTERING=xd;uu.ENTERED=Tp;uu.EXITING=mA;const eR=uu;function w0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tR(e,t){var r=function(o){return t&&W.isValidElement(o)?t(o):o},n=Object.create(null);return e&&W.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Soe(e,t){e=e||{},t=t||{};function r(g){return g in t?t[g]:e[g]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var d in t){if(n[d])for(s=0;s<n[d].length;s++){var h=n[d][s];a[n[d][s]]=r(h)}a[d]=r(d)}for(s=0;s<i.length;s++)a[i[s]]=r(i[s]);return a}function Md(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Eoe(e,t){return tR(e.children,function(r){return W.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Md(r,"appear",e),enter:Md(r,"enter",e),exit:Md(r,"exit",e)})})}function Coe(e,t,r){var n=tR(e.children),i=Soe(t,n);return Object.keys(i).forEach(function(o){var s=i[o];if(W.isValidElement(s)){var a=o in t,d=o in n,h=t[o],g=W.isValidElement(h)&&!h.props.in;d&&(!a||g)?i[o]=W.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:Md(s,"exit",e),enter:Md(s,"enter",e)}):!d&&a&&!g?i[o]=W.cloneElement(s,{in:!1}):d&&a&&W.isValidElement(h)&&(i[o]=W.cloneElement(s,{onExited:r.bind(null,s),in:h.props.in,exit:Md(s,"exit",e),enter:Md(s,"enter",e)}))}}),i}var Toe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},koe={component:"div",childFactory:function(t){return t}},rR=function(e){b_(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=o.handleExited.bind(w0(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,d=o.firstRender;return{children:d?Eoe(i,a):Coe(i,s,a),firstRender:!1}},r.handleExited=function(i,o){var s=tR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var d=vn({},a.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=g_(i,["component","childFactory"]),d=this.state.contextValue,h=Toe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?qe.createElement(ew.Provider,{value:d},h):qe.createElement(ew.Provider,{value:d},qe.createElement(o,a,h))},t}(qe.Component);rR.propTypes={};rR.defaultProps=koe;const Poe=rR,$V=e=>e.scrollTop;function Mm(e,t){var r,n;const{timeout:i,easing:o,style:s={}}=e;return{duration:(r=s.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=s.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function Aoe(e){return or("MuiCollapse",e)}ar("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Moe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Ooe=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return lr(n,Aoe,r)},Ioe=Et("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>oe({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&oe({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Roe=Et("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>oe({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),$oe=Et("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>oe({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),DV=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:d,easing:h,in:g,onEnter:v,onEntered:b,onEntering:M,onExit:A,onExited:w,onExiting:P,orientation:O="vertical",style:I,timeout:T=MV.standard,TransitionComponent:R=eR}=n,z=Nt(n,Moe),j=oe({},n,{orientation:O,collapsedSize:a}),V=Ooe(j),Z=Lf(),ie=W.useRef(),ne=W.useRef(null),ae=W.useRef(),de=typeof a=="number"?`${a}px`:a,pe=O==="horizontal",Pe=pe?"width":"height";W.useEffect(()=>()=>{clearTimeout(ie.current)},[]);const be=W.useRef(null),he=li(r,be),ve=Be=>at=>{if(Be){const nt=be.current;at===void 0?Be(nt):Be(nt,at)}},Se=()=>ne.current?ne.current[pe?"clientWidth":"clientHeight"]:0,ye=ve((Be,at)=>{ne.current&&pe&&(ne.current.style.position="absolute"),Be.style[Pe]=de,v&&v(Be,at)}),Ie=ve((Be,at)=>{const nt=Se();ne.current&&pe&&(ne.current.style.position="");const{duration:Ve,easing:Je}=Mm({style:I,timeout:T,easing:h},{mode:"enter"});if(T==="auto"){const ct=Z.transitions.getAutoHeightDuration(nt);Be.style.transitionDuration=`${ct}ms`,ae.current=ct}else Be.style.transitionDuration=typeof Ve=="string"?Ve:`${Ve}ms`;Be.style[Pe]=`${nt}px`,Be.style.transitionTimingFunction=Je,M&&M(Be,at)}),Xe=ve((Be,at)=>{Be.style[Pe]="auto",b&&b(Be,at)}),Ee=ve(Be=>{Be.style[Pe]=`${Se()}px`,A&&A(Be)}),De=ve(w),Oe=ve(Be=>{const at=Se(),{duration:nt,easing:Ve}=Mm({style:I,timeout:T,easing:h},{mode:"exit"});if(T==="auto"){const Je=Z.transitions.getAutoHeightDuration(at);Be.style.transitionDuration=`${Je}ms`,ae.current=Je}else Be.style.transitionDuration=typeof nt=="string"?nt:`${nt}ms`;Be.style[Pe]=de,Be.style.transitionTimingFunction=Ve,P&&P(Be)}),Ge=Be=>{T==="auto"&&(ie.current=setTimeout(Be,ae.current||0)),i&&i(be.current,Be)};return F.jsx(R,oe({in:g,onEnter:ye,onEntered:Xe,onEntering:Ie,onExit:Ee,onExited:De,onExiting:Oe,addEndListener:Ge,nodeRef:be,timeout:T==="auto"?null:T},z,{children:(Be,at)=>F.jsx(Ioe,oe({as:d,className:Ft(V.root,s,{entered:V.entered,exited:!g&&de==="0px"&&V.hidden}[Be]),style:oe({[pe?"minWidth":"minHeight"]:de},I),ownerState:oe({},j,{state:Be}),ref:he},at,{children:F.jsx(Roe,{ownerState:oe({},j,{state:Be}),className:V.wrapper,ref:ne,children:F.jsx($oe,{ownerState:oe({},j,{state:Be}),className:V.wrapperInner,children:o})})}))}))});DV.muiSupportAuto=!0;const Doe=DV;function Loe(e){return or("MuiPaper",e)}ar("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const zoe=["className","component","elevation","square","variant"],Noe=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return lr(o,Loe,i)},joe=Et("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return oe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${zn("#fff",P3(t.elevation))}, ${zn("#fff",P3(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),Boe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:d="elevation"}=n,h=Nt(n,zoe),g=oe({},n,{component:o,elevation:s,square:a,variant:d}),v=Noe(g);return F.jsx(joe,oe({as:o,ownerState:g,className:Ft(v.root,i),ref:r},h))}),tu=Boe,Foe=W.createContext({}),LV=Foe;function Uoe(e){return or("MuiAccordion",e)}const Voe=ar("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),gb=Voe,Woe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],qoe=e=>{const{classes:t,square:r,expanded:n,disabled:i,disableGutters:o}=e;return lr({root:["root",!r&&"rounded",n&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Uoe,t)},Hoe=Et(tu,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${gb.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${gb.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${gb.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>oe({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${gb.expanded}`]:{margin:"16px 0"}})),Goe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:d=!1,expanded:h,onChange:g,square:v=!1,TransitionComponent:b=Doe,TransitionProps:M}=n,A=Nt(n,Woe),[w,P]=v0({controlled:h,default:s,name:"Accordion",state:"expanded"}),O=W.useCallback(V=>{P(!w),g&&g(V,!w)},[w,g,P]),[I,...T]=W.Children.toArray(i),R=W.useMemo(()=>({expanded:w,disabled:a,disableGutters:d,toggle:O}),[w,a,d,O]),z=oe({},n,{square:v,disabled:a,disableGutters:d,expanded:w}),j=qoe(z);return F.jsxs(Hoe,oe({className:Ft(j.root,o),ref:r,ownerState:z,square:v},A,{children:[F.jsx(LV.Provider,{value:R,children:I}),F.jsx(b,oe({in:w,timeout:"auto"},M,{children:F.jsx("div",{"aria-labelledby":I.props.id,id:I.props["aria-controls"],role:"region",className:j.region,children:T})}))]}))}),mv=Goe;function Yoe(e){return or("MuiAccordionDetails",e)}ar("MuiAccordionDetails",["root"]);const Koe=["className"],Zoe=e=>{const{classes:t}=e;return lr({root:["root"]},Yoe,t)},Xoe=Et("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Joe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAccordionDetails"}),{className:i}=n,o=Nt(n,Koe),s=n,a=Zoe(s);return F.jsx(Xoe,oe({className:Ft(a.root,i),ref:r,ownerState:s},o))}),gv=Joe;function Qoe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:d,timeout:h}=e,[g,v]=W.useState(!1),b=Ft(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),M={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},A=Ft(r.child,g&&r.childLeaving,n&&r.childPulsate);return!a&&!g&&v(!0),W.useEffect(()=>{if(!a&&d!=null){const w=setTimeout(d,h);return()=>{clearTimeout(w)}}},[d,a,h]),F.jsx("span",{className:b,style:M,children:F.jsx("span",{className:A})})}const eae=ar("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),hs=eae,tae=["center","classes","className"];let b2=e=>e,O3,I3,R3,$3;const gA=550,rae=80,nae=BI(O3||(O3=b2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),iae=BI(I3||(I3=b2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),oae=BI(R3||(R3=b2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),aae=Et("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),sae=Et(Qoe,{name:"MuiTouchRipple",slot:"Ripple"})($3||($3=b2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),hs.rippleVisible,nae,gA,({theme:e})=>e.transitions.easing.easeInOut,hs.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,hs.child,hs.childLeaving,iae,gA,({theme:e})=>e.transitions.easing.easeInOut,hs.childPulsate,oae,({theme:e})=>e.transitions.easing.easeInOut),lae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,a=Nt(n,tae),[d,h]=W.useState([]),g=W.useRef(0),v=W.useRef(null);W.useEffect(()=>{v.current&&(v.current(),v.current=null)},[d]);const b=W.useRef(!1),M=W.useRef(0),A=W.useRef(null),w=W.useRef(null);W.useEffect(()=>()=>{M.current&&clearTimeout(M.current)},[]);const P=W.useCallback(R=>{const{pulsate:z,rippleX:j,rippleY:V,rippleSize:Z,cb:ie}=R;h(ne=>[...ne,F.jsx(sae,{classes:{ripple:Ft(o.ripple,hs.ripple),rippleVisible:Ft(o.rippleVisible,hs.rippleVisible),ripplePulsate:Ft(o.ripplePulsate,hs.ripplePulsate),child:Ft(o.child,hs.child),childLeaving:Ft(o.childLeaving,hs.childLeaving),childPulsate:Ft(o.childPulsate,hs.childPulsate)},timeout:gA,pulsate:z,rippleX:j,rippleY:V,rippleSize:Z},g.current)]),g.current+=1,v.current=ie},[o]),O=W.useCallback((R={},z={},j=()=>{})=>{const{pulsate:V=!1,center:Z=i||z.pulsate,fakeElement:ie=!1}=z;if((R==null?void 0:R.type)==="mousedown"&&b.current){b.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(b.current=!0);const ne=ie?null:w.current,ae=ne?ne.getBoundingClientRect():{width:0,height:0,left:0,top:0};let de,pe,Pe;if(Z||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)de=Math.round(ae.width/2),pe=Math.round(ae.height/2);else{const{clientX:be,clientY:he}=R.touches&&R.touches.length>0?R.touches[0]:R;de=Math.round(be-ae.left),pe=Math.round(he-ae.top)}if(Z)Pe=Math.sqrt((2*ae.width**2+ae.height**2)/3),Pe%2===0&&(Pe+=1);else{const be=Math.max(Math.abs((ne?ne.clientWidth:0)-de),de)*2+2,he=Math.max(Math.abs((ne?ne.clientHeight:0)-pe),pe)*2+2;Pe=Math.sqrt(be**2+he**2)}R!=null&&R.touches?A.current===null&&(A.current=()=>{P({pulsate:V,rippleX:de,rippleY:pe,rippleSize:Pe,cb:j})},M.current=setTimeout(()=>{A.current&&(A.current(),A.current=null)},rae)):P({pulsate:V,rippleX:de,rippleY:pe,rippleSize:Pe,cb:j})},[i,P]),I=W.useCallback(()=>{O({},{pulsate:!0})},[O]),T=W.useCallback((R,z)=>{if(clearTimeout(M.current),(R==null?void 0:R.type)==="touchend"&&A.current){A.current(),A.current=null,M.current=setTimeout(()=>{T(R,z)});return}A.current=null,h(j=>j.length>0?j.slice(1):j),v.current=z},[]);return W.useImperativeHandle(r,()=>({pulsate:I,start:O,stop:T}),[I,O,T]),F.jsx(aae,oe({className:Ft(hs.root,o.root,s),ref:w},a,{children:F.jsx(Poe,{component:null,exit:!0,children:d})}))}),cae=lae;function uae(e){return or("MuiButtonBase",e)}const fae=ar("MuiButtonBase",["root","disabled","focusVisible"]),dae=fae,hae=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],pae=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,s=lr({root:["root",t&&"disabled",r&&"focusVisible"]},uae,i);return r&&n&&(s.root+=` ${n}`),s},mae=Et("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dae.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),gae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:d="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:v=!1,focusRipple:b=!1,LinkComponent:M="a",onBlur:A,onClick:w,onContextMenu:P,onDragLeave:O,onFocus:I,onFocusVisible:T,onKeyDown:R,onKeyUp:z,onMouseDown:j,onMouseLeave:V,onMouseUp:Z,onTouchEnd:ie,onTouchMove:ne,onTouchStart:ae,tabIndex:de=0,TouchRippleProps:pe,touchRippleRef:Pe,type:be}=n,he=Nt(n,hae),ve=W.useRef(null),Se=W.useRef(null),ye=li(Se,Pe),{isFocusVisibleRef:Ie,onFocus:Xe,onBlur:Ee,ref:De}=KS(),[Oe,Ge]=W.useState(!1);h&&Oe&&Ge(!1),W.useImperativeHandle(i,()=>({focusVisible:()=>{Ge(!0),ve.current.focus()}}),[]);const[Be,at]=W.useState(!1);W.useEffect(()=>{at(!0)},[]);const nt=Be&&!g&&!h;W.useEffect(()=>{Oe&&b&&!g&&Be&&Se.current.pulsate()},[g,b,Oe,Be]);function Ve(Jt,Ke,At=v){return ll(Rt=>(Ke&&Ke(Rt),!At&&Se.current&&Se.current[Jt](Rt),!0))}const Je=Ve("start",j),ct=Ve("stop",P),Fe=Ve("stop",O),Re=Ve("stop",Z),St=Ve("stop",Jt=>{Oe&&Jt.preventDefault(),V&&V(Jt)}),Zt=Ve("start",ae),Ot=Ve("stop",ie),zt=Ve("stop",ne),Mr=Ve("stop",Jt=>{Ee(Jt),Ie.current===!1&&Ge(!1),A&&A(Jt)},!1),Vr=ll(Jt=>{ve.current||(ve.current=Jt.currentTarget),Xe(Jt),Ie.current===!0&&(Ge(!0),T&&T(Jt)),I&&I(Jt)}),pr=()=>{const Jt=ve.current;return d&&d!=="button"&&!(Jt.tagName==="A"&&Jt.href)},Sr=W.useRef(!1),cr=ll(Jt=>{b&&!Sr.current&&Oe&&Se.current&&Jt.key===" "&&(Sr.current=!0,Se.current.stop(Jt,()=>{Se.current.start(Jt)})),Jt.target===Jt.currentTarget&&pr()&&Jt.key===" "&&Jt.preventDefault(),R&&R(Jt),Jt.target===Jt.currentTarget&&pr()&&Jt.key==="Enter"&&!h&&(Jt.preventDefault(),w&&w(Jt))}),Er=ll(Jt=>{b&&Jt.key===" "&&Se.current&&Oe&&!Jt.defaultPrevented&&(Sr.current=!1,Se.current.stop(Jt,()=>{Se.current.pulsate(Jt)})),z&&z(Jt),w&&Jt.target===Jt.currentTarget&&pr()&&Jt.key===" "&&!Jt.defaultPrevented&&w(Jt)});let an=d;an==="button"&&(he.href||he.to)&&(an=M);const ut={};an==="button"?(ut.type=be===void 0?"button":be,ut.disabled=h):(!he.href&&!he.to&&(ut.role="button"),h&&(ut["aria-disabled"]=h));const Or=li(r,De,ve),Xr=oe({},n,{centerRipple:o,component:d,disabled:h,disableRipple:g,disableTouchRipple:v,focusRipple:b,tabIndex:de,focusVisible:Oe}),mr=pae(Xr);return F.jsxs(mae,oe({as:an,className:Ft(mr.root,a),ownerState:Xr,onBlur:Mr,onClick:w,onContextMenu:ct,onFocus:Vr,onKeyDown:cr,onKeyUp:Er,onMouseDown:Je,onMouseLeave:St,onMouseUp:Re,onDragLeave:Fe,onTouchEnd:Ot,onTouchMove:zt,onTouchStart:Zt,ref:Or,tabIndex:h?-1:de,type:be},ut,he,{children:[s,nt?F.jsx(cae,oe({ref:ye,center:o},pe)):null]}))}),w_=gae;function yae(e){return or("MuiAccordionSummary",e)}const vae=ar("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Fp=vae,_ae=["children","className","expandIcon","focusVisibleClassName","onClick"],xae=e=>{const{classes:t,expanded:r,disabled:n,disableGutters:i}=e;return lr({root:["root",r&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},yae,t)},bae=Et(w_,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const r={duration:e.transitions.duration.shortest};return oe({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],r),[`&.${Fp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Fp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Fp.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Fp.expanded}`]:{minHeight:64}})}),wae=Et("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>oe({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Fp.expanded}`]:{margin:"20px 0"}})),Sae=Et("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Fp.expanded}`]:{transform:"rotate(180deg)"}})),Eae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:d}=n,h=Nt(n,_ae),{disabled:g=!1,disableGutters:v,expanded:b,toggle:M}=W.useContext(LV),A=O=>{M&&M(O),d&&d(O)},w=oe({},n,{expanded:b,disabled:g,disableGutters:v}),P=xae(w);return F.jsxs(bae,oe({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":b,className:Ft(P.root,o),focusVisibleClassName:Ft(P.focusVisible,a),onClick:A,ref:r,ownerState:w},h,{children:[F.jsx(wae,{className:P.content,ownerState:w,children:i}),s&&F.jsx(Sae,{className:P.expandIconWrapper,ownerState:w,children:s})]}))}),yv=Eae;function Cae(e){return or("MuiIconButton",e)}const Tae=ar("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),kae=Tae,Pae=["edge","children","className","color","disabled","disableFocusRipple","size"],Aae=e=>{const{classes:t,disabled:r,color:n,edge:i,size:o}=e,s={root:["root",r&&"disabled",n!=="default"&&`color${wt(n)}`,i&&`edge${wt(i)}`,`size${wt(o)}`]};return lr(s,Cae,t)},Mae=Et(w_,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${wt(r.color)}`],r.edge&&t[`edge${wt(r.edge)}`],t[`size${wt(r.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":oe({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${kae.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Oae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:d=!1,disableFocusRipple:h=!1,size:g="medium"}=n,v=Nt(n,Pae),b=oe({},n,{edge:i,color:a,disabled:d,disableFocusRipple:h,size:g}),M=Aae(b);return F.jsx(Mae,oe({className:Ft(M.root,s),centerRipple:!0,focusRipple:!h,disabled:d,ref:r,ownerState:b},v,{children:o}))}),cn=Oae;function Iae(e){return or("MuiTypography",e)}ar("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Rae=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],$ae=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${wt(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return lr(a,Iae,s)},Dae=Et("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${wt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>oe({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),D3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},zae=e=>Lae[e]||e,Nae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTypography"}),i=zae(n.color),o=wV(oe({},n,{color:i})),{align:s="inherit",className:a,component:d,gutterBottom:h=!1,noWrap:g=!1,paragraph:v=!1,variant:b="body1",variantMapping:M=D3}=o,A=Nt(o,Rae),w=oe({},o,{align:s,color:i,className:a,component:d,gutterBottom:h,noWrap:g,paragraph:v,variant:b,variantMapping:M}),P=d||(v?"p":M[b]||D3[b])||"span",O=$ae(w);return F.jsx(Dae,oe({as:P,ref:r,ownerState:w,className:Ft(O.root,a)},A))}),ln=Nae;function jae(e){return or("MuiAppBar",e)}ar("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const Bae=["className","color","enableColorOnDark","position"],Fae=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${wt(t)}`,`position${wt(r)}`]};return lr(i,jae,n)},yb=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Uae=Et(tu,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${wt(r.position)}`],t[`color${wt(r.color)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return oe({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&oe({},t.color==="default"&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&oe({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&oe({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:yb(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:yb(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:yb(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:yb(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Vae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=n,d=Nt(n,Bae),h=oe({},n,{color:o,position:a,enableColorOnDark:s}),g=Fae(h);return F.jsx(Uae,oe({square:!0,component:"header",ownerState:h,elevation:4,className:Ft(g.root,i,a==="fixed"&&"mui-fixed"),ref:r},d))}),zV=Vae;function S0(e){return typeof e=="string"}function vv(e,t,r){return e===void 0||S0(e)?t:oe({},t,{ownerState:oe({},t.ownerState,r)})}const Wae={disableDefaultClasses:!1},qae=W.createContext(Wae);function NV(e){const{disableDefaultClasses:t}=W.useContext(qae);return r=>t?"":e(r)}function nR(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function yA(e,t,r){return typeof e=="function"?e(t,r):e}function L3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Hae(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const M=Ft(i==null?void 0:i.className,n==null?void 0:n.className,o,r==null?void 0:r.className),A=oe({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),w=oe({},r,i,n);return M.length>0&&(w.className=M),Object.keys(A).length>0&&(w.style=A),{props:w,internalRef:void 0}}const s=nR(oe({},i,n)),a=L3(n),d=L3(i),h=t(s),g=Ft(h==null?void 0:h.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),v=oe({},h==null?void 0:h.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),b=oe({},h,r,d,a);return g.length>0&&(b.className=g),Object.keys(v).length>0&&(b.style=v),{props:b,internalRef:h.ref}}const Gae=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ql(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=Nt(e,Gae),a=o?{}:yA(n,i),{props:d,internalRef:h}=Hae(oe({},s,{externalSlotProps:a})),g=li(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return vv(r,oe({},d,{ref:g}),i)}function Yae(e){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:i=!1}=e,o=rV({badgeContent:t,max:n});let s=r;r===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:d=n}=s?o:e,h=a&&Number(a)>d?`${d}+`:a;return{badgeContent:a,invisible:s,max:d,displayValue:h}}function z3(e){return e.substring(2).toLowerCase()}function Kae(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Zae(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=W.useRef(!1),a=W.useRef(null),d=W.useRef(!1),h=W.useRef(!1);W.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const g=li(t.ref,a),v=ll(A=>{const w=h.current;h.current=!1;const P=ji(a.current);if(!d.current||!a.current||"clientX"in A&&Kae(A,P))return;if(s.current){s.current=!1;return}let O;A.composedPath?O=A.composedPath().indexOf(a.current)>-1:O=!P.documentElement.contains(A.target)||a.current.contains(A.target),!O&&(r||!w)&&i(A)}),b=A=>w=>{h.current=!0;const P=t.props[A];P&&P(w)},M={ref:g};return o!==!1&&(M[o]=b(o)),W.useEffect(()=>{if(o!==!1){const A=z3(o),w=ji(a.current),P=()=>{s.current=!0};return w.addEventListener(A,v),w.addEventListener("touchmove",P),()=>{w.removeEventListener(A,v),w.removeEventListener("touchmove",P)}}},[v,o]),n!==!1&&(M[n]=b(n)),W.useEffect(()=>{if(n!==!1){const A=z3(n),w=ji(a.current);return w.addEventListener(A,v),()=>{w.removeEventListener(A,v)}}},[v,n]),F.jsx(W.Fragment,{children:W.cloneElement(t,M)})}const Xae=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Jae(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Qae(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function ese(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Qae(e))}function tse(e){const t=[],r=[];return Array.from(e.querySelectorAll(Xae)).forEach((n,i)=>{const o=Jae(n);o===-1||!ese(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function rse(){return!0}function nse(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=tse,isEnabled:s=rse,open:a}=e,d=W.useRef(!1),h=W.useRef(null),g=W.useRef(null),v=W.useRef(null),b=W.useRef(null),M=W.useRef(!1),A=W.useRef(null),w=li(t.ref,A),P=W.useRef(null);W.useEffect(()=>{!a||!A.current||(M.current=!r)},[r,a]),W.useEffect(()=>{if(!a||!A.current)return;const T=ji(A.current);return A.current.contains(T.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),M.current&&A.current.focus()),()=>{i||(v.current&&v.current.focus&&(d.current=!0,v.current.focus()),v.current=null)}},[a]),W.useEffect(()=>{if(!a||!A.current)return;const T=ji(A.current),R=V=>{const{current:Z}=A;if(Z!==null){if(!T.hasFocus()||n||!s()||d.current){d.current=!1;return}if(!Z.contains(T.activeElement)){if(V&&b.current!==V.target||T.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!M.current)return;let ae=[];if((T.activeElement===h.current||T.activeElement===g.current)&&(ae=o(A.current)),ae.length>0){var ie,ne;const de=!!((ie=P.current)!=null&&ie.shiftKey&&((ne=P.current)==null?void 0:ne.key)==="Tab"),pe=ae[0],Pe=ae[ae.length-1];typeof pe!="string"&&typeof Pe!="string"&&(de?Pe.focus():pe.focus())}else Z.focus()}}},z=V=>{P.current=V,!(n||!s()||V.key!=="Tab")&&T.activeElement===A.current&&V.shiftKey&&(d.current=!0,g.current&&g.current.focus())};T.addEventListener("focusin",R),T.addEventListener("keydown",z,!0);const j=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&R(null)},50);return()=>{clearInterval(j),T.removeEventListener("focusin",R),T.removeEventListener("keydown",z,!0)}},[r,n,i,s,a,o]);const O=T=>{v.current===null&&(v.current=T.relatedTarget),M.current=!0,b.current=T.target;const R=t.props.onFocus;R&&R(T)},I=T=>{v.current===null&&(v.current=T.relatedTarget),M.current=!0};return F.jsxs(W.Fragment,{children:[F.jsx("div",{tabIndex:a?0:-1,onFocus:I,ref:h,"data-testid":"sentinelStart"}),W.cloneElement(t,{ref:w,onFocus:O}),F.jsx("div",{tabIndex:a?0:-1,onFocus:I,ref:g,"data-testid":"sentinelEnd"})]})}var Ea="top",Ps="bottom",As="right",Ca="left",iR="auto",S_=[Ea,Ps,As,Ca],Om="start",E0="end",ise="clippingParents",jV="viewport",By="popper",ose="reference",N3=S_.reduce(function(e,t){return e.concat([t+"-"+Om,t+"-"+E0])},[]),BV=[].concat(S_,[iR]).reduce(function(e,t){return e.concat([t,t+"-"+Om,t+"-"+E0])},[]),ase="beforeRead",sse="read",lse="afterRead",cse="beforeMain",use="main",fse="afterMain",dse="beforeWrite",hse="write",pse="afterWrite",mse=[ase,sse,lse,cse,use,fse,dse,hse,pse];function ec(e){return e?(e.nodeName||"").toLowerCase():null}function Za(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function th(e){var t=Za(e).Element;return e instanceof t||e instanceof Element}function bs(e){var t=Za(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function oR(e){if(typeof ShadowRoot>"u")return!1;var t=Za(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function gse(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!bs(o)||!ec(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function yse(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=s.reduce(function(d,h){return d[h]="",d},{});!bs(i)||!ec(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(d){i.removeAttribute(d)}))})}}const vse={name:"applyStyles",enabled:!0,phase:"write",fn:gse,effect:yse,requires:["computeStyles"]};function Kl(e){return e.split("-")[0]}var Fd=Math.max,tw=Math.min,Im=Math.round;function vA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function FV(){return!/^((?!chrome|android).)*safari/i.test(vA())}function Rm(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&bs(e)&&(i=e.offsetWidth>0&&Im(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Im(n.height)/e.offsetHeight||1);var s=th(e)?Za(e):window,a=s.visualViewport,d=!FV()&&r,h=(n.left+(d&&a?a.offsetLeft:0))/i,g=(n.top+(d&&a?a.offsetTop:0))/o,v=n.width/i,b=n.height/o;return{width:v,height:b,top:g,right:h+v,bottom:g+b,left:h,x:h,y:g}}function aR(e){var t=Rm(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function UV(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&oR(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ru(e){return Za(e).getComputedStyle(e)}function _se(e){return["table","td","th"].indexOf(ec(e))>=0}function zf(e){return((th(e)?e.ownerDocument:e.document)||window.document).documentElement}function w2(e){return ec(e)==="html"?e:e.assignedSlot||e.parentNode||(oR(e)?e.host:null)||zf(e)}function j3(e){return!bs(e)||ru(e).position==="fixed"?null:e.offsetParent}function xse(e){var t=/firefox/i.test(vA()),r=/Trident/i.test(vA());if(r&&bs(e)){var n=ru(e);if(n.position==="fixed")return null}var i=w2(e);for(oR(i)&&(i=i.host);bs(i)&&["html","body"].indexOf(ec(i))<0;){var o=ru(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function E_(e){for(var t=Za(e),r=j3(e);r&&_se(r)&&ru(r).position==="static";)r=j3(r);return r&&(ec(r)==="html"||ec(r)==="body"&&ru(r).position==="static")?t:r||xse(e)||t}function sR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lv(e,t,r){return Fd(e,tw(t,r))}function bse(e,t,r){var n=Lv(e,t,r);return n>r?r:n}function VV(){return{top:0,right:0,bottom:0,left:0}}function WV(e){return Object.assign({},VV(),e)}function qV(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var wse=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,WV(typeof t!="number"?t:qV(t,S_))};function Sse(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=Kl(r.placement),d=sR(a),h=[Ca,As].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var v=wse(i.padding,r),b=aR(o),M=d==="y"?Ea:Ca,A=d==="y"?Ps:As,w=r.rects.reference[g]+r.rects.reference[d]-s[d]-r.rects.popper[g],P=s[d]-r.rects.reference[d],O=E_(o),I=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,T=w/2-P/2,R=v[M],z=I-b[g]-v[A],j=I/2-b[g]/2+T,V=Lv(R,j,z),Z=d;r.modifiersData[n]=(t={},t[Z]=V,t.centerOffset=V-j,t)}}function Ese(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||UV(t.elements.popper,i)&&(t.elements.arrow=i))}const Cse={name:"arrow",enabled:!0,phase:"main",fn:Sse,effect:Ese,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $m(e){return e.split("-")[1]}var Tse={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kse(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Im(r*i)/i||0,y:Im(n*i)/i||0}}function B3(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,d=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,v=e.isFixed,b=s.x,M=b===void 0?0:b,A=s.y,w=A===void 0?0:A,P=typeof g=="function"?g({x:M,y:w}):{x:M,y:w};M=P.x,w=P.y;var O=s.hasOwnProperty("x"),I=s.hasOwnProperty("y"),T=Ca,R=Ea,z=window;if(h){var j=E_(r),V="clientHeight",Z="clientWidth";if(j===Za(r)&&(j=zf(r),ru(j).position!=="static"&&a==="absolute"&&(V="scrollHeight",Z="scrollWidth")),j=j,i===Ea||(i===Ca||i===As)&&o===E0){R=Ps;var ie=v&&j===z&&z.visualViewport?z.visualViewport.height:j[V];w-=ie-n.height,w*=d?1:-1}if(i===Ca||(i===Ea||i===Ps)&&o===E0){T=As;var ne=v&&j===z&&z.visualViewport?z.visualViewport.width:j[Z];M-=ne-n.width,M*=d?1:-1}}var ae=Object.assign({position:a},h&&Tse),de=g===!0?kse({x:M,y:w},Za(r)):{x:M,y:w};if(M=de.x,w=de.y,d){var pe;return Object.assign({},ae,(pe={},pe[R]=I?"0":"",pe[T]=O?"0":"",pe.transform=(z.devicePixelRatio||1)<=1?"translate("+M+"px, "+w+"px)":"translate3d("+M+"px, "+w+"px, 0)",pe))}return Object.assign({},ae,(t={},t[R]=I?w+"px":"",t[T]=O?M+"px":"",t.transform="",t))}function Pse(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,d=a===void 0?!0:a,h={placement:Kl(t.placement),variation:$m(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,B3(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,B3(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Ase={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pse,data:{}};var vb={passive:!0};function Mse(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,d=Za(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",r.update,vb)}),a&&d.addEventListener("resize",r.update,vb),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",r.update,vb)}),a&&d.removeEventListener("resize",r.update,vb)}}const Ose={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mse,data:{}};var Ise={left:"right",right:"left",bottom:"top",top:"bottom"};function a1(e){return e.replace(/left|right|bottom|top/g,function(t){return Ise[t]})}var Rse={start:"end",end:"start"};function F3(e){return e.replace(/start|end/g,function(t){return Rse[t]})}function lR(e){var t=Za(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function cR(e){return Rm(zf(e)).left+lR(e).scrollLeft}function $se(e,t){var r=Za(e),n=zf(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,d=0;if(i){o=i.width,s=i.height;var h=FV();(h||!h&&t==="fixed")&&(a=i.offsetLeft,d=i.offsetTop)}return{width:o,height:s,x:a+cR(e),y:d}}function Dse(e){var t,r=zf(e),n=lR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Fd(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Fd(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+cR(e),d=-n.scrollTop;return ru(i||r).direction==="rtl"&&(a+=Fd(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:d}}function uR(e){var t=ru(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function HV(e){return["html","body","#document"].indexOf(ec(e))>=0?e.ownerDocument.body:bs(e)&&uR(e)?e:HV(w2(e))}function zv(e,t){var r;t===void 0&&(t=[]);var n=HV(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Za(n),s=i?[o].concat(o.visualViewport||[],uR(n)?n:[]):n,a=t.concat(s);return i?a:a.concat(zv(w2(s)))}function _A(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Lse(e,t){var r=Rm(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function U3(e,t,r){return t===jV?_A($se(e,r)):th(t)?Lse(t,r):_A(Dse(zf(e)))}function zse(e){var t=zv(w2(e)),r=["absolute","fixed"].indexOf(ru(e).position)>=0,n=r&&bs(e)?E_(e):e;return th(n)?t.filter(function(i){return th(i)&&UV(i,n)&&ec(i)!=="body"}):[]}function Nse(e,t,r,n){var i=t==="clippingParents"?zse(e):[].concat(t),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(d,h){var g=U3(e,h,n);return d.top=Fd(g.top,d.top),d.right=tw(g.right,d.right),d.bottom=tw(g.bottom,d.bottom),d.left=Fd(g.left,d.left),d},U3(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GV(e){var t=e.reference,r=e.element,n=e.placement,i=n?Kl(n):null,o=n?$m(n):null,s=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,d;switch(i){case Ea:d={x:s,y:t.y-r.height};break;case Ps:d={x:s,y:t.y+t.height};break;case As:d={x:t.x+t.width,y:a};break;case Ca:d={x:t.x-r.width,y:a};break;default:d={x:t.x,y:t.y}}var h=i?sR(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Om:d[h]=d[h]-(t[g]/2-r[g]/2);break;case E0:d[h]=d[h]+(t[g]/2-r[g]/2);break}}return d}function C0(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,s=o===void 0?e.strategy:o,a=r.boundary,d=a===void 0?ise:a,h=r.rootBoundary,g=h===void 0?jV:h,v=r.elementContext,b=v===void 0?By:v,M=r.altBoundary,A=M===void 0?!1:M,w=r.padding,P=w===void 0?0:w,O=WV(typeof P!="number"?P:qV(P,S_)),I=b===By?ose:By,T=e.rects.popper,R=e.elements[A?I:b],z=Nse(th(R)?R:R.contextElement||zf(e.elements.popper),d,g,s),j=Rm(e.elements.reference),V=GV({reference:j,element:T,strategy:"absolute",placement:i}),Z=_A(Object.assign({},T,V)),ie=b===By?Z:j,ne={top:z.top-ie.top+O.top,bottom:ie.bottom-z.bottom+O.bottom,left:z.left-ie.left+O.left,right:ie.right-z.right+O.right},ae=e.modifiersData.offset;if(b===By&&ae){var de=ae[i];Object.keys(ne).forEach(function(pe){var Pe=[As,Ps].indexOf(pe)>=0?1:-1,be=[Ea,Ps].indexOf(pe)>=0?"y":"x";ne[pe]+=de[be]*Pe})}return ne}function jse(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,d=r.allowedAutoPlacements,h=d===void 0?BV:d,g=$m(n),v=g?a?N3:N3.filter(function(A){return $m(A)===g}):S_,b=v.filter(function(A){return h.indexOf(A)>=0});b.length===0&&(b=v);var M=b.reduce(function(A,w){return A[w]=C0(e,{placement:w,boundary:i,rootBoundary:o,padding:s})[Kl(w)],A},{});return Object.keys(M).sort(function(A,w){return M[A]-M[w]})}function Bse(e){if(Kl(e)===iR)return[];var t=a1(e);return[F3(e),t,F3(t)]}function Fse(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,d=r.fallbackPlacements,h=r.padding,g=r.boundary,v=r.rootBoundary,b=r.altBoundary,M=r.flipVariations,A=M===void 0?!0:M,w=r.allowedAutoPlacements,P=t.options.placement,O=Kl(P),I=O===P,T=d||(I||!A?[a1(P)]:Bse(P)),R=[P].concat(T).reduce(function(Oe,Ge){return Oe.concat(Kl(Ge)===iR?jse(t,{placement:Ge,boundary:g,rootBoundary:v,padding:h,flipVariations:A,allowedAutoPlacements:w}):Ge)},[]),z=t.rects.reference,j=t.rects.popper,V=new Map,Z=!0,ie=R[0],ne=0;ne<R.length;ne++){var ae=R[ne],de=Kl(ae),pe=$m(ae)===Om,Pe=[Ea,Ps].indexOf(de)>=0,be=Pe?"width":"height",he=C0(t,{placement:ae,boundary:g,rootBoundary:v,altBoundary:b,padding:h}),ve=Pe?pe?As:Ca:pe?Ps:Ea;z[be]>j[be]&&(ve=a1(ve));var Se=a1(ve),ye=[];if(o&&ye.push(he[de]<=0),a&&ye.push(he[ve]<=0,he[Se]<=0),ye.every(function(Oe){return Oe})){ie=ae,Z=!1;break}V.set(ae,ye)}if(Z)for(var Ie=A?3:1,Xe=function(Ge){var Be=R.find(function(at){var nt=V.get(at);if(nt)return nt.slice(0,Ge).every(function(Ve){return Ve})});if(Be)return ie=Be,"break"},Ee=Ie;Ee>0;Ee--){var De=Xe(Ee);if(De==="break")break}t.placement!==ie&&(t.modifiersData[n]._skip=!0,t.placement=ie,t.reset=!0)}}const Use={name:"flip",enabled:!0,phase:"main",fn:Fse,requiresIfExists:["offset"],data:{_skip:!1}};function V3(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function W3(e){return[Ea,As,Ps,Ca].some(function(t){return e[t]>=0})}function Vse(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=C0(t,{elementContext:"reference"}),a=C0(t,{altBoundary:!0}),d=V3(s,n),h=V3(a,i,o),g=W3(d),v=W3(h);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const Wse={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vse};function qse(e,t,r){var n=Kl(e),i=[Ca,Ea].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ca,As].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function Hse(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,s=BV.reduce(function(g,v){return g[v]=qse(v,t.rects,o),g},{}),a=s[t.placement],d=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=s}const Gse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Hse};function Yse(e){var t=e.state,r=e.name;t.modifiersData[r]=GV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Kse={name:"popperOffsets",enabled:!0,phase:"read",fn:Yse,data:{}};function Zse(e){return e==="x"?"y":"x"}function Xse(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,d=r.boundary,h=r.rootBoundary,g=r.altBoundary,v=r.padding,b=r.tether,M=b===void 0?!0:b,A=r.tetherOffset,w=A===void 0?0:A,P=C0(t,{boundary:d,rootBoundary:h,padding:v,altBoundary:g}),O=Kl(t.placement),I=$m(t.placement),T=!I,R=sR(O),z=Zse(R),j=t.modifiersData.popperOffsets,V=t.rects.reference,Z=t.rects.popper,ie=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,ne=typeof ie=="number"?{mainAxis:ie,altAxis:ie}:Object.assign({mainAxis:0,altAxis:0},ie),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,de={x:0,y:0};if(j){if(o){var pe,Pe=R==="y"?Ea:Ca,be=R==="y"?Ps:As,he=R==="y"?"height":"width",ve=j[R],Se=ve+P[Pe],ye=ve-P[be],Ie=M?-Z[he]/2:0,Xe=I===Om?V[he]:Z[he],Ee=I===Om?-Z[he]:-V[he],De=t.elements.arrow,Oe=M&&De?aR(De):{width:0,height:0},Ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:VV(),Be=Ge[Pe],at=Ge[be],nt=Lv(0,V[he],Oe[he]),Ve=T?V[he]/2-Ie-nt-Be-ne.mainAxis:Xe-nt-Be-ne.mainAxis,Je=T?-V[he]/2+Ie+nt+at+ne.mainAxis:Ee+nt+at+ne.mainAxis,ct=t.elements.arrow&&E_(t.elements.arrow),Fe=ct?R==="y"?ct.clientTop||0:ct.clientLeft||0:0,Re=(pe=ae==null?void 0:ae[R])!=null?pe:0,St=ve+Ve-Re-Fe,Zt=ve+Je-Re,Ot=Lv(M?tw(Se,St):Se,ve,M?Fd(ye,Zt):ye);j[R]=Ot,de[R]=Ot-ve}if(a){var zt,Mr=R==="x"?Ea:Ca,Vr=R==="x"?Ps:As,pr=j[z],Sr=z==="y"?"height":"width",cr=pr+P[Mr],Er=pr-P[Vr],an=[Ea,Ca].indexOf(O)!==-1,ut=(zt=ae==null?void 0:ae[z])!=null?zt:0,Or=an?cr:pr-V[Sr]-Z[Sr]-ut+ne.altAxis,Xr=an?pr+V[Sr]+Z[Sr]-ut-ne.altAxis:Er,mr=M&&an?bse(Or,pr,Xr):Lv(M?Or:cr,pr,M?Xr:Er);j[z]=mr,de[z]=mr-pr}t.modifiersData[n]=de}}const Jse={name:"preventOverflow",enabled:!0,phase:"main",fn:Xse,requiresIfExists:["offset"]};function Qse(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ele(e){return e===Za(e)||!bs(e)?lR(e):Qse(e)}function tle(e){var t=e.getBoundingClientRect(),r=Im(t.width)/e.offsetWidth||1,n=Im(t.height)/e.offsetHeight||1;return r!==1||n!==1}function rle(e,t,r){r===void 0&&(r=!1);var n=bs(t),i=bs(t)&&tle(t),o=zf(t),s=Rm(e,i,r),a={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!r)&&((ec(t)!=="body"||uR(o))&&(a=ele(t)),bs(t)?(d=Rm(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=cR(o))),{x:s.left+a.scrollLeft-d.x,y:s.top+a.scrollTop-d.y,width:s.width,height:s.height}}function nle(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var d=t.get(a);d&&i(d)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function ile(e){var t=nle(e);return mse.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function ole(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function ale(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var q3={placement:"bottom",modifiers:[],strategy:"absolute"};function H3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function sle(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?q3:i;return function(a,d,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},q3,o),modifiersData:{},elements:{reference:a,popper:d},attributes:{},styles:{}},v=[],b=!1,M={state:g,setOptions:function(O){var I=typeof O=="function"?O(g.options):O;w(),g.options=Object.assign({},o,g.options,I),g.scrollParents={reference:th(a)?zv(a):a.contextElement?zv(a.contextElement):[],popper:zv(d)};var T=ile(ale([].concat(n,g.options.modifiers)));return g.orderedModifiers=T.filter(function(R){return R.enabled}),A(),M.update()},forceUpdate:function(){if(!b){var O=g.elements,I=O.reference,T=O.popper;if(H3(I,T)){g.rects={reference:rle(I,E_(T),g.options.strategy==="fixed"),popper:aR(T)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(ne){return g.modifiersData[ne.name]=Object.assign({},ne.data)});for(var R=0;R<g.orderedModifiers.length;R++){if(g.reset===!0){g.reset=!1,R=-1;continue}var z=g.orderedModifiers[R],j=z.fn,V=z.options,Z=V===void 0?{}:V,ie=z.name;typeof j=="function"&&(g=j({state:g,options:Z,name:ie,instance:M})||g)}}}},update:ole(function(){return new Promise(function(P){M.forceUpdate(),P(g)})}),destroy:function(){w(),b=!0}};if(!H3(a,d))return M;M.setOptions(h).then(function(P){!b&&h.onFirstUpdate&&h.onFirstUpdate(P)});function A(){g.orderedModifiers.forEach(function(P){var O=P.name,I=P.options,T=I===void 0?{}:I,R=P.effect;if(typeof R=="function"){var z=R({state:g,name:O,instance:M,options:T}),j=function(){};v.push(z||j)}})}function w(){v.forEach(function(P){return P()}),v=[]}return M}}var lle=[Ose,Kse,Ase,vse,Gse,Use,Jse,Cse,Wse],cle=sle({defaultModifiers:lle});function ule(e){return typeof e=="function"?e():e}const YV=W.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[s,a]=W.useState(null),d=li(W.isValidElement(n)?n.ref:null,r);if(hl(()=>{o||a(ule(i)||document.body)},[i,o]),hl(()=>{if(s&&!o)return X1(r,s),()=>{X1(r,null)}},[r,s,o]),o){if(W.isValidElement(n)){const h={ref:d};return W.cloneElement(n,h)}return F.jsx(W.Fragment,{children:n})}return F.jsx(W.Fragment,{children:s&&cu.createPortal(n,s)})});function fle(e){return or("MuiPopper",e)}ar("MuiPopper",["root"]);const dle=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],hle=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ple(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function xA(e){return typeof e=="function"?e():e}function mle(e){return e.nodeType!==void 0}const gle=()=>lr({root:["root"]},NV(fle)),yle={},vle=W.forwardRef(function(t,r){var n;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:d,open:h,placement:g,popperOptions:v,popperRef:b,slotProps:M={},slots:A={},TransitionProps:w}=t,P=Nt(t,dle),O=W.useRef(null),I=li(O,r),T=W.useRef(null),R=li(T,b),z=W.useRef(R);hl(()=>{z.current=R},[R]),W.useImperativeHandle(b,()=>T.current,[]);const j=ple(g,s),[V,Z]=W.useState(j),[ie,ne]=W.useState(xA(i));W.useEffect(()=>{T.current&&T.current.forceUpdate()}),W.useEffect(()=>{i&&ne(xA(i))},[i]),hl(()=>{if(!ie||!h)return;const be=Se=>{Z(Se.placement)};let he=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Se})=>{be(Se)}}];d!=null&&(he=he.concat(d)),v&&v.modifiers!=null&&(he=he.concat(v.modifiers));const ve=cle(ie,O.current,oe({placement:j},v,{modifiers:he}));return z.current(ve),()=>{ve.destroy(),z.current(null)}},[ie,a,d,h,v,j]);const ae={placement:V};w!==null&&(ae.TransitionProps=w);const de=gle(),pe=(n=A.root)!=null?n:"div",Pe=Ql({elementType:pe,externalSlotProps:M.root,externalForwardedProps:P,additionalProps:{role:"tooltip",ref:I},ownerState:t,className:de.root});return F.jsx(pe,oe({},Pe,{children:typeof o=="function"?o(ae):o}))}),_le=W.forwardRef(function(t,r){const{anchorEl:n,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:d=!1,modifiers:h,open:g,placement:v="bottom",popperOptions:b=yle,popperRef:M,style:A,transition:w=!1,slotProps:P={},slots:O={}}=t,I=Nt(t,hle),[T,R]=W.useState(!0),z=()=>{R(!1)},j=()=>{R(!0)};if(!d&&!g&&(!w||T))return null;let V;if(o)V=o;else if(n){const ne=xA(n);V=ne&&mle(ne)?ji(ne).body:ji(null).body}const Z=!g&&d&&(!w||T)?"none":void 0,ie=w?{in:g,onEnter:z,onExited:j}:void 0;return F.jsx(YV,{disablePortal:a,container:V,children:F.jsx(vle,oe({anchorEl:n,direction:s,disablePortal:a,modifiers:h,ref:r,open:w?!T:g,placement:v,popperOptions:b,popperRef:M,slotProps:P,slots:O},I,{style:oe({position:"fixed",top:0,left:0,display:Z},A),TransitionProps:ie,children:i}))})});function xle(e){const t=ji(e);return t.body===e?kf(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Nv(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function G3(e){return parseInt(kf(e).getComputedStyle(e).paddingRight,10)||0}function ble(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function Y3(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,d=!ble(s);a&&d&&Nv(s,i)})}function $T(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function wle(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(xle(n)){const s=tV(ji(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${G3(n)+s}px`;const a=ji(n).querySelectorAll(".mui-fixed");[].forEach.call(a,d=>{r.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${G3(d)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=ji(n).body;else{const s=n.parentElement,a=kf(n);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Sle(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class Ele{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Nv(t.modalRef,!1);const i=Sle(r);Y3(r,t.mount,t.modalRef,i,!0);const o=$T(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=$T(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=wle(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=$T(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Nv(t.modalRef,r),Y3(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Nv(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Cle(e){return typeof e=="function"?e():e}function Tle(e){return e?e.props.hasOwnProperty("in"):!1}const kle=new Ele;function Ple(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=kle,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:d,onClose:h,open:g,rootRef:v}=e,b=W.useRef({}),M=W.useRef(null),A=W.useRef(null),w=li(A,v),[P,O]=W.useState(!g),I=Tle(d);let T=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(T=!1);const R=()=>ji(M.current),z=()=>(b.current.modalRef=A.current,b.current.mount=M.current,b.current),j=()=>{i.mount(z(),{disableScrollLock:n}),A.current&&(A.current.scrollTop=0)},V=ll(()=>{const he=Cle(t)||R().body;i.add(z(),he),A.current&&j()}),Z=W.useCallback(()=>i.isTopModal(z()),[i]),ie=ll(he=>{M.current=he,he&&(g&&Z()?j():A.current&&Nv(A.current,T))}),ne=W.useCallback(()=>{i.remove(z(),T)},[T,i]);W.useEffect(()=>()=>{ne()},[ne]),W.useEffect(()=>{g?V():(!I||!o)&&ne()},[g,ne,I,o,V]);const ae=he=>ve=>{var Se;(Se=he.onKeyDown)==null||Se.call(he,ve),!(ve.key!=="Escape"||!Z())&&(r||(ve.stopPropagation(),h&&h(ve,"escapeKeyDown")))},de=he=>ve=>{var Se;(Se=he.onClick)==null||Se.call(he,ve),ve.target===ve.currentTarget&&h&&h(ve,"backdropClick")};return{getRootProps:(he={})=>{const ve=nR(e);delete ve.onTransitionEnter,delete ve.onTransitionExited;const Se=oe({},ve,he);return oe({role:"presentation"},Se,{onKeyDown:ae(Se),ref:w})},getBackdropProps:(he={})=>{const ve=he;return oe({"aria-hidden":!0},ve,{onClick:de(ve),open:g})},getTransitionProps:()=>{const he=()=>{O(!1),s&&s()},ve=()=>{O(!0),a&&a(),o&&ne()};return{onEnter:aA(he,d.props.onEnter),onExited:aA(ve,d.props.onExited)}},rootRef:w,portalRef:ie,isTopModal:Z,exited:P,hasTransition:I}}function Ale(e){return or("MuiModal",e)}ar("MuiModal",["root","hidden","backdrop"]);const Mle=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],Ole=e=>{const{open:t,exited:r}=e;return lr({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},NV(Ale))},Ile=W.forwardRef(function(t,r){var n;const{children:i,closeAfterTransition:o=!1,container:s,disableAutoFocus:a=!1,disableEnforceFocus:d=!1,disableEscapeKeyDown:h=!1,disablePortal:g=!1,disableRestoreFocus:v=!1,disableScrollLock:b=!1,hideBackdrop:M=!1,keepMounted:A=!1,onBackdropClick:w,open:P,slotProps:O={},slots:I={}}=t,T=Nt(t,Mle),R=oe({},t,{closeAfterTransition:o,disableAutoFocus:a,disableEnforceFocus:d,disableEscapeKeyDown:h,disablePortal:g,disableRestoreFocus:v,disableScrollLock:b,hideBackdrop:M,keepMounted:A}),{getRootProps:z,getBackdropProps:j,getTransitionProps:V,portalRef:Z,isTopModal:ie,exited:ne,hasTransition:ae}=Ple(oe({},R,{rootRef:r})),de=oe({},R,{exited:ne,hasTransition:ae}),pe=Ole(de),Pe={};if(i.props.tabIndex===void 0&&(Pe.tabIndex="-1"),ae){const{onEnter:ye,onExited:Ie}=V();Pe.onEnter=ye,Pe.onExited=Ie}const be=(n=I.root)!=null?n:"div",he=Ql({elementType:be,externalSlotProps:O.root,externalForwardedProps:T,getSlotProps:z,className:pe.root,ownerState:de}),ve=I.backdrop,Se=Ql({elementType:ve,externalSlotProps:O.backdrop,getSlotProps:ye=>j(oe({},ye,{onClick:Ie=>{w&&w(Ie),ye!=null&&ye.onClick&&ye.onClick(Ie)}})),className:pe.backdrop,ownerState:de});return!A&&!P&&(!ae||ne)?null:F.jsx(YV,{ref:Z,container:s,disablePortal:g,children:F.jsxs(be,oe({},he,{children:[!M&&ve?F.jsx(ve,oe({},Se)):null,F.jsx(nse,{disableEnforceFocus:d,disableAutoFocus:a,disableRestoreFocus:v,isEnabled:ie,open:P,children:W.cloneElement(i,Pe)})]}))})});function Rle(e){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:i,resumeHideDuration:o}=e,s=W.useRef();W.useEffect(()=>{if(!i)return;function O(I){I.defaultPrevented||(I.key==="Escape"||I.key==="Esc")&&(n==null||n(I,"escapeKeyDown"))}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[i,n]);const a=ll((O,I)=>{n==null||n(O,I)}),d=ll(O=>{!n||O==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},O))});W.useEffect(()=>(i&&d(t),()=>{clearTimeout(s.current)}),[i,t,d]);const h=O=>{n==null||n(O,"clickaway")},g=()=>{clearTimeout(s.current)},v=W.useCallback(()=>{t!=null&&d(o??t*.5)},[t,o,d]),b=O=>I=>{const T=O.onBlur;T==null||T(I),v()},M=O=>I=>{const T=O.onFocus;T==null||T(I),g()},A=O=>I=>{const T=O.onMouseEnter;T==null||T(I),g()},w=O=>I=>{const T=O.onMouseLeave;T==null||T(I),v()};return W.useEffect(()=>{if(!r&&i)return window.addEventListener("focus",v),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",g)}},[r,v,i]),{getRootProps:(O={})=>{const I=nR(e),T=oe({},I,O);return oe({role:"presentation"},T,{onBlur:b(T),onFocus:M(T),onMouseEnter:A(T),onMouseLeave:w(T)})},onClickAway:h}}const $le=["onChange","maxRows","minRows","style","value"];function _b(e){return parseInt(e,10)||0}const Dle={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function K3(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const Lle=W.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:s,value:a}=t,d=Nt(t,$le),{current:h}=W.useRef(a!=null),g=W.useRef(null),v=li(r,g),b=W.useRef(null),M=W.useRef(0),[A,w]=W.useState({outerHeightStyle:0}),P=W.useCallback(()=>{const z=g.current,V=kf(z).getComputedStyle(z);if(V.width==="0px")return{outerHeightStyle:0};const Z=b.current;Z.style.width=V.width,Z.value=z.value||t.placeholder||"x",Z.value.slice(-1)===`
`&&(Z.value+=" ");const ie=V.boxSizing,ne=_b(V.paddingBottom)+_b(V.paddingTop),ae=_b(V.borderBottomWidth)+_b(V.borderTopWidth),de=Z.scrollHeight;Z.value="x";const pe=Z.scrollHeight;let Pe=de;o&&(Pe=Math.max(Number(o)*pe,Pe)),i&&(Pe=Math.min(Number(i)*pe,Pe)),Pe=Math.max(Pe,pe);const be=Pe+(ie==="border-box"?ne+ae:0),he=Math.abs(Pe-de)<=1;return{outerHeightStyle:be,overflow:he}},[i,o,t.placeholder]),O=(z,j)=>{const{outerHeightStyle:V,overflow:Z}=j;return M.current<20&&(V>0&&Math.abs((z.outerHeightStyle||0)-V)>1||z.overflow!==Z)?(M.current+=1,{overflow:Z,outerHeightStyle:V}):z},I=W.useCallback(()=>{const z=P();K3(z)||w(j=>O(j,z))},[P]),T=()=>{const z=P();K3(z)||cu.flushSync(()=>{w(j=>O(j,z))})};W.useEffect(()=>{const z=II(()=>{M.current=0,g.current&&T()});let j;const V=g.current,Z=kf(V);return Z.addEventListener("resize",z),typeof ResizeObserver<"u"&&(j=new ResizeObserver(z),j.observe(V)),()=>{z.clear(),Z.removeEventListener("resize",z),j&&j.disconnect()}}),hl(()=>{I()}),W.useEffect(()=>{M.current=0},[a]);const R=z=>{M.current=0,h||I(),n&&n(z)};return F.jsxs(W.Fragment,{children:[F.jsx("textarea",oe({value:a,onChange:R,ref:v,rows:o,style:oe({height:A.outerHeightStyle,overflow:A.overflow?"hidden":void 0},s)},d)),F.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:b,tabIndex:-1,style:oe({},Dle.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),zle=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Nle=Et(_le,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),jle=W.forwardRef(function(t,r){var n;const i=qI(),o=sr({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:d,componentsProps:h,container:g,disablePortal:v,keepMounted:b,modifiers:M,open:A,placement:w,popperOptions:P,popperRef:O,transition:I,slots:T,slotProps:R}=o,z=Nt(o,zle),j=(n=T==null?void 0:T.root)!=null?n:d==null?void 0:d.Root,V=oe({anchorEl:s,container:g,disablePortal:v,keepMounted:b,modifiers:M,open:A,placement:w,popperOptions:P,popperRef:O,transition:I},z);return F.jsx(Nle,oe({as:a,direction:i==null?void 0:i.direction,slots:{root:j},slotProps:R??h},V,{ref:r}))}),KV=jle;function uh({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const Ble=W.createContext(void 0),S2=Ble;function Nf(){return W.useContext(S2)}function ZV(e){return F.jsx(oie,oe({},e,{defaultTheme:u2,themeId:Qd}))}function Z3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function rw(e,t=!1){return e&&(Z3(e.value)&&e.value!==""||t&&Z3(e.defaultValue)&&e.defaultValue!=="")}function Fle(e){return e.startAdornment}function Ule(e){return or("MuiInputBase",e)}const Vle=ar("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Dm=Vle,Wle=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],E2=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${wt(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},C2=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},qle=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:d,hiddenLabel:h,multiline:g,readOnly:v,size:b,startAdornment:M,type:A}=e,w={root:["root",`color${wt(r)}`,n&&"disabled",i&&"error",d&&"fullWidth",s&&"focused",a&&"formControl",b==="small"&&"sizeSmall",g&&"multiline",M&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",v&&"readOnly"],input:["input",n&&"disabled",A==="search"&&"inputTypeSearch",g&&"inputMultiline",b==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",M&&"inputAdornedStart",o&&"inputAdornedEnd",v&&"readOnly"]};return lr(w,Ule,t)},T2=Et("div",{name:"MuiInputBase",slot:"Root",overridesResolver:E2})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Dm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&oe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),k2=Et("input",{name:"MuiInputBase",slot:"Input",overridesResolver:C2})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=oe({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return oe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Dm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Dm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Hle=F.jsx(ZV,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Gle=W.forwardRef(function(t,r){var n;const i=sr({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:d,components:h={},componentsProps:g={},defaultValue:v,disabled:b,disableInjectingGlobalStyles:M,endAdornment:A,fullWidth:w=!1,id:P,inputComponent:O="input",inputProps:I={},inputRef:T,maxRows:R,minRows:z,multiline:j=!1,name:V,onBlur:Z,onChange:ie,onClick:ne,onFocus:ae,onKeyDown:de,onKeyUp:pe,placeholder:Pe,readOnly:be,renderSuffix:he,rows:ve,slotProps:Se={},slots:ye={},startAdornment:Ie,type:Xe="text",value:Ee}=i,De=Nt(i,Wle),Oe=I.value!=null?I.value:Ee,{current:Ge}=W.useRef(Oe!=null),Be=W.useRef(),at=W.useCallback(mr=>{},[]),nt=li(Be,T,I.ref,at),[Ve,Je]=W.useState(!1),ct=Nf(),Fe=uh({props:i,muiFormControl:ct,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Fe.focused=ct?ct.focused:Ve,W.useEffect(()=>{!ct&&b&&Ve&&(Je(!1),Z&&Z())},[ct,b,Ve,Z]);const Re=ct&&ct.onFilled,St=ct&&ct.onEmpty,Zt=W.useCallback(mr=>{rw(mr)?Re&&Re():St&&St()},[Re,St]);hl(()=>{Ge&&Zt({value:Oe})},[Oe,Zt,Ge]);const Ot=mr=>{if(Fe.disabled){mr.stopPropagation();return}ae&&ae(mr),I.onFocus&&I.onFocus(mr),ct&&ct.onFocus?ct.onFocus(mr):Je(!0)},zt=mr=>{Z&&Z(mr),I.onBlur&&I.onBlur(mr),ct&&ct.onBlur?ct.onBlur(mr):Je(!1)},Mr=(mr,...Jt)=>{if(!Ge){const Ke=mr.target||Be.current;if(Ke==null)throw new Error(Tf(1));Zt({value:Ke.value})}I.onChange&&I.onChange(mr,...Jt),ie&&ie(mr,...Jt)};W.useEffect(()=>{Zt(Be.current)},[]);const Vr=mr=>{Be.current&&mr.currentTarget===mr.target&&Be.current.focus(),ne&&!Fe.disabled&&ne(mr)};let pr=O,Sr=I;j&&pr==="input"&&(ve?Sr=oe({type:void 0,minRows:ve,maxRows:ve},Sr):Sr=oe({type:void 0,maxRows:R,minRows:z},Sr),pr=Lle);const cr=mr=>{Zt(mr.animationName==="mui-auto-fill-cancel"?Be.current:{value:"x"})};W.useEffect(()=>{ct&&ct.setAdornedStart(!!Ie)},[ct,Ie]);const Er=oe({},i,{color:Fe.color||"primary",disabled:Fe.disabled,endAdornment:A,error:Fe.error,focused:Fe.focused,formControl:ct,fullWidth:w,hiddenLabel:Fe.hiddenLabel,multiline:j,size:Fe.size,startAdornment:Ie,type:Xe}),an=qle(Er),ut=ye.root||h.Root||T2,Or=Se.root||g.root||{},Xr=ye.input||h.Input||k2;return Sr=oe({},Sr,(n=Se.input)!=null?n:g.input),F.jsxs(W.Fragment,{children:[!M&&Hle,F.jsxs(ut,oe({},Or,!S0(ut)&&{ownerState:oe({},Er,Or.ownerState)},{ref:r,onClick:Vr},De,{className:Ft(an.root,Or.className,d,be&&"MuiInputBase-readOnly"),children:[Ie,F.jsx(S2.Provider,{value:null,children:F.jsx(Xr,oe({ownerState:Er,"aria-invalid":Fe.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:v,disabled:Fe.disabled,id:P,onAnimationStart:cr,name:V,placeholder:Pe,readOnly:be,required:Fe.required,rows:ve,value:Oe,onKeyDown:de,onKeyUp:pe,type:Xe},Sr,!S0(Xr)&&{as:pr,ownerState:oe({},Er,Sr.ownerState)},{ref:nt,className:Ft(an.input,Sr.className,be&&"MuiInputBase-readOnly"),onBlur:zt,onChange:Mr,onFocus:Ot}))}),A,he?he(oe({},Fe,{startAdornment:Ie})):null]}))]})}),fR=Gle;function Yle(e){return or("MuiInput",e)}const Kle=oe({},Dm,ar("MuiInput",["root","underline","input"])),Fy=Kle;function Zle(e){return or("MuiOutlinedInput",e)}const Xle=oe({},Dm,ar("MuiOutlinedInput",["root","notchedOutline","input"])),Lu=Xle;function Jle(e){return or("MuiFilledInput",e)}const Qle=oe({},Dm,ar("MuiFilledInput",["root","underline","input"])),hd=Qle,ece=XI(F.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),tce=XI(F.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rce(e){return or("MuiAvatar",e)}ar("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const nce=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ice=e=>{const{classes:t,variant:r,colorDefault:n}=e;return lr({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},rce,t)},oce=Et("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&oe({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),ace=Et("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),sce=Et(tce,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function lce({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[i,o]=W.useState(!1);return W.useEffect(()=>{if(!r&&!n)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=r,n&&(a.srcset=n),()=>{s=!1}},[e,t,r,n]),i}const cce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:d,sizes:h,src:g,srcSet:v,variant:b="circular"}=n,M=Nt(n,nce);let A=null;const w=lce(oe({},d,{src:g,srcSet:v})),P=g||v,O=P&&w!=="error",I=oe({},n,{colorDefault:!O,component:a,variant:b}),T=ice(I);return O?A=F.jsx(ace,oe({alt:i,src:g,srcSet:v,sizes:h,ownerState:I,className:T.img},d)):o!=null?A=o:P&&i?A=i[0]:A=F.jsx(sce,{ownerState:I,className:T.fallback}),F.jsx(oce,oe({as:a,ownerState:I,className:Ft(T.root,s),ref:r},M,{children:A}))}),uce=cce,fce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],dce={entering:{opacity:1},entered:{opacity:1}},hce=W.forwardRef(function(t,r){const n=Lf(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:d,in:h,onEnter:g,onEntered:v,onEntering:b,onExit:M,onExited:A,onExiting:w,style:P,timeout:O=i,TransitionComponent:I=eR}=t,T=Nt(t,fce),R=W.useRef(null),z=li(R,a.ref,r),j=Pe=>be=>{if(Pe){const he=R.current;be===void 0?Pe(he):Pe(he,be)}},V=j(b),Z=j((Pe,be)=>{$V(Pe);const he=Mm({style:P,timeout:O,easing:d},{mode:"enter"});Pe.style.webkitTransition=n.transitions.create("opacity",he),Pe.style.transition=n.transitions.create("opacity",he),g&&g(Pe,be)}),ie=j(v),ne=j(w),ae=j(Pe=>{const be=Mm({style:P,timeout:O,easing:d},{mode:"exit"});Pe.style.webkitTransition=n.transitions.create("opacity",be),Pe.style.transition=n.transitions.create("opacity",be),M&&M(Pe)}),de=j(A),pe=Pe=>{o&&o(R.current,Pe)};return F.jsx(I,oe({appear:s,in:h,nodeRef:R,onEnter:Z,onEntered:ie,onEntering:V,onExit:ae,onExited:de,onExiting:ne,addEndListener:pe,timeout:O},T,{children:(Pe,be)=>W.cloneElement(a,oe({style:oe({opacity:0,visibility:Pe==="exited"&&!h?"hidden":void 0},dce[Pe],P,a.props.style),ref:z},be))}))}),pce=hce;function mce(e){return or("MuiBackdrop",e)}ar("MuiBackdrop",["root","invisible"]);const gce=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],yce=e=>{const{classes:t,invisible:r}=e;return lr({root:["root",r&&"invisible"]},mce,t)},vce=Et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>oe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),_ce=W.forwardRef(function(t,r){var n,i,o;const s=sr({props:t,name:"MuiBackdrop"}),{children:a,className:d,component:h="div",components:g={},componentsProps:v={},invisible:b=!1,open:M,slotProps:A={},slots:w={},TransitionComponent:P=pce,transitionDuration:O}=s,I=Nt(s,gce),T=oe({},s,{component:h,invisible:b}),R=yce(T),z=(n=A.root)!=null?n:v.root;return F.jsx(P,oe({in:M,timeout:O},I,{children:F.jsx(vce,oe({"aria-hidden":!0},z,{as:(i=(o=w.root)!=null?o:g.Root)!=null?i:h,className:Ft(R.root,d,z==null?void 0:z.className),ownerState:oe({},T,z==null?void 0:z.ownerState),classes:R,ref:r,children:a}))}))}),xce=_ce;function bce(e){return or("MuiBadge",e)}const wce=ar("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),zu=wce,Sce=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],DT=10,LT=4,Ece=e=>{const{color:t,anchorOrigin:r,invisible:n,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${wt(r.vertical)}${wt(r.horizontal)}`,`anchorOrigin${wt(r.vertical)}${wt(r.horizontal)}${wt(i)}`,`overlap${wt(i)}`,t!=="default"&&`color${wt(t)}`]};return lr(a,bce,s)},Cce=Et("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Tce=Et("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${wt(r.anchorOrigin.vertical)}${wt(r.anchorOrigin.horizontal)}${wt(r.overlap)}`],r.color!=="default"&&t[`color${wt(r.color)}`],r.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>oe({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:DT*2,lineHeight:1,padding:"0 6px",height:DT*2,borderRadius:DT,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:LT,height:LT*2,minWidth:LT*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${zu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),kce=W.forwardRef(function(t,r){var n,i,o,s,a,d;const h=sr({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:v,component:b,components:M={},componentsProps:A={},children:w,overlap:P="rectangular",color:O="default",invisible:I=!1,max:T=99,badgeContent:R,slots:z,slotProps:j,showZero:V=!1,variant:Z="standard"}=h,ie=Nt(h,Sce),{badgeContent:ne,invisible:ae,max:de,displayValue:pe}=Yae({max:T,invisible:I,badgeContent:R,showZero:V}),Pe=rV({anchorOrigin:g,color:O,overlap:P,variant:Z,badgeContent:R}),be=ae||ne==null&&Z!=="dot",{color:he=O,overlap:ve=P,anchorOrigin:Se=g,variant:ye=Z}=be?Pe:h,Ie=ye!=="dot"?pe:void 0,Xe=oe({},h,{badgeContent:ne,invisible:be,max:de,displayValue:Ie,showZero:V,anchorOrigin:Se,color:he,overlap:ve,variant:ye}),Ee=Ece(Xe),De=(n=(i=z==null?void 0:z.root)!=null?i:M.Root)!=null?n:Cce,Oe=(o=(s=z==null?void 0:z.badge)!=null?s:M.Badge)!=null?o:Tce,Ge=(a=j==null?void 0:j.root)!=null?a:A.root,Be=(d=j==null?void 0:j.badge)!=null?d:A.badge,at=Ql({elementType:De,externalSlotProps:Ge,externalForwardedProps:ie,additionalProps:{ref:r,as:b},ownerState:Xe,className:Ft(Ge==null?void 0:Ge.className,Ee.root,v)}),nt=Ql({elementType:Oe,externalSlotProps:Be,ownerState:Xe,className:Ft(Ee.badge,Be==null?void 0:Be.className)});return F.jsxs(De,oe({},at,{children:[w,F.jsx(Oe,oe({},nt,{children:Ie}))]}))}),Pce=kce,Ace=ZI(),Mce=cie({themeId:Qd,defaultTheme:Ace,defaultClassName:"MuiBox-root",generateClassName:DI.generate}),Bu=Mce;function Oce(e){return or("MuiButton",e)}const Ice=ar("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),xb=Ice,Rce=W.createContext({}),XV=Rce,$ce=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Dce=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${wt(t)}`,`size${wt(i)}`,`${o}Size${wt(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${wt(i)}`],endIcon:["endIcon",`iconSize${wt(i)}`]},d=lr(a,Oce,s);return oe({},s,d)},JV=e=>oe({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Lce=Et(w_,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${wt(r.color)}`],t[`size${wt(r.size)}`],t[`${r.variant}Size${wt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return oe({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":oe({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:zn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${xb.focusVisible}`]:oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${xb.disabled}`]:oe({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${zn(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${xb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${xb.disabled}`]:{boxShadow:"none"}}),zce=Et("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${wt(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},JV(e))),Nce=Et("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${wt(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},JV(e))),jce=W.forwardRef(function(t,r){const n=W.useContext(XV),i=$I(n,t),o=sr({props:i,name:"MuiButton"}),{children:s,color:a="primary",component:d="button",className:h,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:b=!1,endIcon:M,focusVisibleClassName:A,fullWidth:w=!1,size:P="medium",startIcon:O,type:I,variant:T="text"}=o,R=Nt(o,$ce),z=oe({},o,{color:a,component:d,disabled:g,disableElevation:v,disableFocusRipple:b,fullWidth:w,size:P,type:I,variant:T}),j=Dce(z),V=O&&F.jsx(zce,{className:j.startIcon,ownerState:z,children:O}),Z=M&&F.jsx(Nce,{className:j.endIcon,ownerState:z,children:M});return F.jsxs(Lce,oe({ownerState:z,className:Ft(n.className,j.root,h),component:d,disabled:g,focusRipple:!b,focusVisibleClassName:Ft(j.focusVisible,A),ref:r,type:I},R,{classes:j,children:[V,s,Z]}))}),Wn=jce;function Bce(e){return or("MuiButtonGroup",e)}const Fce=ar("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),Bl=Fce,Uce=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Vce=(e,t)=>{const{ownerState:r}=e;return[{[`& .${Bl.grouped}`]:t.grouped},{[`& .${Bl.grouped}`]:t[`grouped${wt(r.orientation)}`]},{[`& .${Bl.grouped}`]:t[`grouped${wt(r.variant)}`]},{[`& .${Bl.grouped}`]:t[`grouped${wt(r.variant)}${wt(r.orientation)}`]},{[`& .${Bl.grouped}`]:t[`grouped${wt(r.variant)}${wt(r.color)}`]},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},Wce=e=>{const{classes:t,color:r,disabled:n,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,d={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${wt(s)}`,`grouped${wt(a)}`,`grouped${wt(a)}${wt(s)}`,`grouped${wt(a)}${wt(r)}`,n&&"disabled"]};return lr(d,Bce,t)},qce=Et("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Vce})(({theme:e,ownerState:t})=>oe({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Bl.grouped}`]:oe({minWidth:40,"&:not(:first-of-type)":oe({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":oe({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Bl.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Bl.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:zn(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Bl.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Bl.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":oe({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":oe({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),Hce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:d=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:v=!1,fullWidth:b=!1,orientation:M="horizontal",size:A="medium",variant:w="outlined"}=n,P=Nt(n,Uce),O=oe({},n,{color:s,component:a,disabled:d,disableElevation:h,disableFocusRipple:g,disableRipple:v,fullWidth:b,orientation:M,size:A,variant:w}),I=Wce(O),T=W.useMemo(()=>({className:I.grouped,color:s,disabled:d,disableElevation:h,disableFocusRipple:g,disableRipple:v,fullWidth:b,size:A,variant:w}),[s,d,h,g,v,b,A,w,I.grouped]);return F.jsx(qce,oe({as:a,role:"group",className:Ft(I.root,o),ref:r,ownerState:O},P,{children:F.jsx(XV.Provider,{value:T,children:i})}))}),Gce=Hce;function Yce(e){return or("MuiCard",e)}ar("MuiCard",["root"]);const Kce=["className","raised"],Zce=e=>{const{classes:t}=e;return lr({root:["root"]},Yce,t)},Xce=Et(tu,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Jce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=n,s=Nt(n,Kce),a=oe({},n,{raised:o}),d=Zce(a);return F.jsx(Xce,oe({className:Ft(d.root,i),elevation:o?8:void 0,ref:r,ownerState:a},s))}),C_=Jce;function Qce(e){return or("MuiCardActions",e)}ar("MuiCardActions",["root","spacing"]);const eue=["disableSpacing","className"],tue=e=>{const{classes:t,disableSpacing:r}=e;return lr({root:["root",!r&&"spacing"]},Qce,t)},rue=Et("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>oe({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),nue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=n,s=Nt(n,eue),a=oe({},n,{disableSpacing:i}),d=tue(a);return F.jsx(rue,oe({className:Ft(d.root,o),ownerState:a,ref:r},s))}),iue=nue;function oue(e){return or("MuiCardContent",e)}ar("MuiCardContent",["root"]);const aue=["className","component"],sue=e=>{const{classes:t}=e;return lr({root:["root"]},oue,t)},lue=Et("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),cue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=n,s=Nt(n,aue),a=oe({},n,{component:o}),d=sue(a);return F.jsx(lue,oe({as:o,className:Ft(d.root,i),ownerState:a,ref:r},s))}),uue=cue;function fue(e){return or("MuiCardMedia",e)}ar("MuiCardMedia",["root","media","img"]);const due=["children","className","component","image","src","style"],hue=e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e;return lr({root:["root",r&&"media",n&&"img"]},fue,t)},pue=Et("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:i}=r;return[t.root,n&&t.media,i&&t.img]}})(({ownerState:e})=>oe({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),mue=["video","audio","picture","iframe","img"],gue=["picture","img"],yue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:d,style:h}=n,g=Nt(n,due),v=mue.indexOf(s)!==-1,b=!v&&a?oe({backgroundImage:`url("${a}")`},h):h,M=oe({},n,{component:s,isMediaComponent:v,isImageComponent:gue.indexOf(s)!==-1}),A=hue(M);return F.jsx(pue,oe({className:Ft(A.root,o),as:s,role:!v&&a?"img":void 0,ref:r,style:b,ownerState:M,src:v?a||d:void 0},g,{children:i}))}),vue=yue,_ue=zie({createStyledComponent:Et("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${wt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>sr({props:e,name:"MuiContainer"})}),QV=_ue,xue=(e,t)=>oe({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),bue=e=>oe({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),wue=(e,t=!1)=>{var r;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var d;n[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(d=a.palette)==null?void 0:d.mode}});let i=oe({html:xue(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:oe({margin:0},bue(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const o=(r=e.components)==null||(r=r.MuiCssBaseline)==null?void 0:r.styleOverrides;return o&&(i=[i,o]),i};function Sue(e){const t=sr({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return F.jsxs(W.Fragment,{children:[F.jsx(ZV,{styles:i=>wue(i,n)}),r]})}const Eue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Cue=Et("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>oe({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Tue=Et(xce,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),kue=W.forwardRef(function(t,r){var n,i,o,s,a,d;const h=sr({name:"MuiModal",props:t}),{BackdropComponent:g=Tue,BackdropProps:v,classes:b,className:M,closeAfterTransition:A=!1,children:w,container:P,component:O,components:I={},componentsProps:T={},disableAutoFocus:R=!1,disableEnforceFocus:z=!1,disableEscapeKeyDown:j=!1,disablePortal:V=!1,disableRestoreFocus:Z=!1,disableScrollLock:ie=!1,hideBackdrop:ne=!1,keepMounted:ae=!1,onBackdropClick:de,onClose:pe,open:Pe,slotProps:be,slots:he,theme:ve}=h,Se=Nt(h,Eue),[ye,Ie]=W.useState(!0),Xe={container:P,closeAfterTransition:A,disableAutoFocus:R,disableEnforceFocus:z,disableEscapeKeyDown:j,disablePortal:V,disableRestoreFocus:Z,disableScrollLock:ie,hideBackdrop:ne,keepMounted:ae,onBackdropClick:de,onClose:pe,open:Pe},Ee=oe({},h,Xe,{exited:ye}),De=(n=(i=he==null?void 0:he.root)!=null?i:I.Root)!=null?n:Cue,Oe=(o=(s=he==null?void 0:he.backdrop)!=null?s:I.Backdrop)!=null?o:g,Ge=(a=be==null?void 0:be.root)!=null?a:T.root,Be=(d=be==null?void 0:be.backdrop)!=null?d:T.backdrop;return F.jsx(Ile,oe({slots:{root:De,backdrop:Oe},slotProps:{root:()=>oe({},yA(Ge,Ee),!S0(De)&&{as:O,theme:ve},{className:Ft(M,Ge==null?void 0:Ge.className,b==null?void 0:b.root,!Ee.open&&Ee.exited&&(b==null?void 0:b.hidden))}),backdrop:()=>oe({},v,yA(Be,Ee),{className:Ft(Be==null?void 0:Be.className,v==null?void 0:v.className,b==null?void 0:b.backdrop)})},onTransitionEnter:()=>Ie(!1),onTransitionExited:()=>Ie(!0),ref:r},Se,Xe,{children:w}))}),Pue=kue;function Aue(e){return or("MuiDivider",e)}const Mue=ar("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),X3=Mue,Oue=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Iue=e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:s,textAlign:a,variant:d}=e;return lr({root:["root",t&&"absolute",d,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Aue,n)},Rue=Et("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>oe({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:zn(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>oe({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>oe({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),$ue=Et("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>oe({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),eW=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:d=!1,light:h=!1,orientation:g="horizontal",role:v=a!=="hr"?"separator":void 0,textAlign:b="center",variant:M="fullWidth"}=n,A=Nt(n,Oue),w=oe({},n,{absolute:i,component:a,flexItem:d,light:h,orientation:g,role:v,textAlign:b,variant:M}),P=Iue(w);return F.jsx(Rue,oe({as:a,className:Ft(P.root,s),role:v,ref:r,ownerState:w},A,{children:o?F.jsx($ue,{className:P.wrapper,ownerState:w,children:o}):null}))});eW.muiSkipListHighlight=!0;const J3=eW,Due=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Lue=e=>{const{classes:t,disableUnderline:r}=e,i=lr({root:["root",!r&&"underline"],input:["input"]},Jle,t);return oe({},t,i)},zue=Et(T2,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...E2(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return oe({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${hd.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${hd.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hd.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hd.disabled}, .${hd.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${hd.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&oe({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),Nue=Et(k2,{name:"MuiFilledInput",slot:"Input",overridesResolver:C2})(({theme:e,ownerState:t})=>oe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),tW=W.forwardRef(function(t,r){var n,i,o,s;const a=sr({props:t,name:"MuiFilledInput"}),{components:d={},componentsProps:h,fullWidth:g=!1,inputComponent:v="input",multiline:b=!1,slotProps:M,slots:A={},type:w="text"}=a,P=Nt(a,Due),O=oe({},a,{fullWidth:g,inputComponent:v,multiline:b,type:w}),I=Lue(a),T={root:{ownerState:O},input:{ownerState:O}},R=M??h?Sa(M??h,T):T,z=(n=(i=A.root)!=null?i:d.Root)!=null?n:zue,j=(o=(s=A.input)!=null?s:d.Input)!=null?o:Nue;return F.jsx(fR,oe({slots:{root:z,input:j},componentsProps:R,fullWidth:g,inputComponent:v,multiline:b,ref:r,type:w},P,{classes:I}))});tW.muiName="Input";const rW=tW;function jue(e){return or("MuiFormControl",e)}ar("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Bue=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Fue=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${wt(r)}`,n&&"fullWidth"]};return lr(i,jue,t)},Uue=Et("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,t[`margin${wt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>oe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Vue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:d=!1,error:h=!1,focused:g,fullWidth:v=!1,hiddenLabel:b=!1,margin:M="none",required:A=!1,size:w="medium",variant:P="outlined"}=n,O=Nt(n,Bue),I=oe({},n,{color:s,component:a,disabled:d,error:h,fullWidth:v,hiddenLabel:b,margin:M,required:A,size:w,variant:P}),T=Fue(I),[R,z]=W.useState(()=>{let pe=!1;return i&&W.Children.forEach(i,Pe=>{if(!r1(Pe,["Input","Select"]))return;const be=r1(Pe,["Select"])?Pe.props.input:Pe;be&&Fle(be.props)&&(pe=!0)}),pe}),[j,V]=W.useState(()=>{let pe=!1;return i&&W.Children.forEach(i,Pe=>{r1(Pe,["Input","Select"])&&(rw(Pe.props,!0)||rw(Pe.props.inputProps,!0))&&(pe=!0)}),pe}),[Z,ie]=W.useState(!1);d&&Z&&ie(!1);const ne=g!==void 0&&!d?g:Z;let ae;const de=W.useMemo(()=>({adornedStart:R,setAdornedStart:z,color:s,disabled:d,error:h,filled:j,focused:ne,fullWidth:v,hiddenLabel:b,size:w,onBlur:()=>{ie(!1)},onEmpty:()=>{V(!1)},onFilled:()=>{V(!0)},onFocus:()=>{ie(!0)},registerEffect:ae,required:A,variant:P}),[R,s,d,h,j,ne,v,b,ae,A,w,P]);return F.jsx(S2.Provider,{value:de,children:F.jsx(Uue,oe({as:a,ownerState:I,className:Ft(T.root,o),ref:r},O,{children:i}))})}),T0=Vue;function Wue(e){return or("MuiFormGroup",e)}ar("MuiFormGroup",["root","row","error"]);const que=["className","row"],Hue=e=>{const{classes:t,row:r,error:n}=e;return lr({root:["root",r&&"row",n&&"error"]},Wue,t)},Gue=Et("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>oe({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Yue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=n,s=Nt(n,que),a=Nf(),d=uh({props:n,muiFormControl:a,states:["error"]}),h=oe({},n,{row:o,error:d.error}),g=Hue(h);return F.jsx(Gue,oe({className:Ft(g.root,i),ownerState:h,ref:r},s))}),Kue=Yue;function Zue(e){return or("MuiFormHelperText",e)}const Xue=ar("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Q3=Xue;var e5;const Jue=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Que=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:a,required:d}=e,h={root:["root",i&&"disabled",o&&"error",n&&`size${wt(n)}`,r&&"contained",a&&"focused",s&&"filled",d&&"required"]};return lr(h,Zue,t)},efe=Et("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${wt(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Q3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Q3.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),tfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=n,a=Nt(n,Jue),d=Nf(),h=uh({props:n,muiFormControl:d,states:["variant","size","disabled","error","filled","focused","required"]}),g=oe({},n,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),v=Que(g);return F.jsx(efe,oe({as:s,ownerState:g,className:Ft(v.root,o),ref:r},a,{children:i===" "?e5||(e5=F.jsx("span",{className:"notranslate",children:"​"})):i}))}),rfe=tfe;function nfe(e){return or("MuiFormLabel",e)}const ife=ar("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),jv=ife,ofe=["children","className","color","component","disabled","error","filled","focused","required"],afe=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:a}=e,d={root:["root",`color${wt(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return lr(d,nfe,t)},sfe=Et("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${jv.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${jv.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${jv.error}`]:{color:(e.vars||e).palette.error.main}})),lfe=Et("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${jv.error}`]:{color:(e.vars||e).palette.error.main}})),cfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=n,a=Nt(n,ofe),d=Nf(),h=uh({props:n,muiFormControl:d,states:["color","required","focused","disabled","error","filled"]}),g=oe({},n,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),v=afe(g);return F.jsxs(sfe,oe({as:s,ownerState:g,className:Ft(v.root,o),ref:r},a,{children:[i,h.required&&F.jsxs(lfe,{ownerState:g,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]}))}),ufe=cfe,ffe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function bA(e){return`scale(${e}, ${e**2})`}const dfe={entering:{opacity:1,transform:bA(1)},entered:{opacity:1,transform:"none"}},zT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),nW=W.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:s,in:a,onEnter:d,onEntered:h,onEntering:g,onExit:v,onExited:b,onExiting:M,style:A,timeout:w="auto",TransitionComponent:P=eR}=t,O=Nt(t,ffe),I=W.useRef(),T=W.useRef(),R=Lf(),z=W.useRef(null),j=li(z,o.ref,r),V=be=>he=>{if(be){const ve=z.current;he===void 0?be(ve):be(ve,he)}},Z=V(g),ie=V((be,he)=>{$V(be);const{duration:ve,delay:Se,easing:ye}=Mm({style:A,timeout:w,easing:s},{mode:"enter"});let Ie;w==="auto"?(Ie=R.transitions.getAutoHeightDuration(be.clientHeight),T.current=Ie):Ie=ve,be.style.transition=[R.transitions.create("opacity",{duration:Ie,delay:Se}),R.transitions.create("transform",{duration:zT?Ie:Ie*.666,delay:Se,easing:ye})].join(","),d&&d(be,he)}),ne=V(h),ae=V(M),de=V(be=>{const{duration:he,delay:ve,easing:Se}=Mm({style:A,timeout:w,easing:s},{mode:"exit"});let ye;w==="auto"?(ye=R.transitions.getAutoHeightDuration(be.clientHeight),T.current=ye):ye=he,be.style.transition=[R.transitions.create("opacity",{duration:ye,delay:ve}),R.transitions.create("transform",{duration:zT?ye:ye*.666,delay:zT?ve:ve||ye*.333,easing:Se})].join(","),be.style.opacity=0,be.style.transform=bA(.75),v&&v(be)}),pe=V(b),Pe=be=>{w==="auto"&&(I.current=setTimeout(be,T.current||0)),n&&n(z.current,be)};return W.useEffect(()=>()=>{clearTimeout(I.current)},[]),F.jsx(P,oe({appear:i,in:a,nodeRef:z,onEnter:ie,onEntered:ne,onEntering:Z,onExit:de,onExited:pe,onExiting:ae,addEndListener:Pe,timeout:w==="auto"?null:w},O,{children:(be,he)=>W.cloneElement(o,oe({style:oe({opacity:0,transform:bA(.75),visibility:be==="exited"&&!a?"hidden":void 0},dfe[be],A,o.props.style),ref:j},he))}))});nW.muiSupportAuto=!0;const nw=nW,hfe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],pfe=e=>{const{classes:t,disableUnderline:r}=e,i=lr({root:["root",!r&&"underline"],input:["input"]},Yle,t);return oe({},t,i)},mfe=Et(T2,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...E2(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),oe({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fy.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fy.disabled}, .${Fy.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Fy.disabled}:before`]:{borderBottomStyle:"dotted"}})}),gfe=Et(k2,{name:"MuiInput",slot:"Input",overridesResolver:C2})({}),iW=W.forwardRef(function(t,r){var n,i,o,s;const a=sr({props:t,name:"MuiInput"}),{disableUnderline:d,components:h={},componentsProps:g,fullWidth:v=!1,inputComponent:b="input",multiline:M=!1,slotProps:A,slots:w={},type:P="text"}=a,O=Nt(a,hfe),I=pfe(a),R={root:{ownerState:{disableUnderline:d}}},z=A??g?Sa(A??g,R):R,j=(n=(i=w.root)!=null?i:h.Root)!=null?n:mfe,V=(o=(s=w.input)!=null?s:h.Input)!=null?o:gfe;return F.jsx(fR,oe({slots:{root:j,input:V},slotProps:z,fullWidth:v,inputComponent:b,multiline:M,ref:r,type:P},O,{classes:I}))});iW.muiName="Input";const oW=iW;function yfe(e){return or("MuiInputAdornment",e)}const vfe=ar("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),t5=vfe;var r5;const _fe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],xfe=(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${wt(r.position)}`],r.disablePointerEvents===!0&&t.disablePointerEvents,t[r.variant]]},bfe=e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:n,position:i,size:o,variant:s}=e,a={root:["root",r&&"disablePointerEvents",i&&`position${wt(i)}`,s,n&&"hiddenLabel",o&&`size${wt(o)}`]};return lr(a,yfe,t)},wfe=Et("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:xfe})(({theme:e,ownerState:t})=>oe({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${t5.positionStart}&:not(.${t5.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Sfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:d=!1,position:h,variant:g}=n,v=Nt(n,_fe),b=Nf()||{};let M=g;g&&b.variant,b&&!M&&(M=b.variant);const A=oe({},n,{hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:a,position:h,variant:M}),w=bfe(A);return F.jsx(S2.Provider,{value:null,children:F.jsx(wfe,oe({as:s,ownerState:A,className:Ft(w.root,o),ref:r},v,{children:typeof i=="string"&&!d?F.jsx(ln,{color:"text.secondary",children:i}):F.jsxs(W.Fragment,{children:[h==="start"?r5||(r5=F.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})}),Efe=Sfe;function Cfe(e){return or("MuiInputLabel",e)}ar("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Tfe=["disableAnimation","margin","shrink","variant","className"],kfe=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:a}=e,h=lr({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n==="small"&&"sizeSmall",s],asterisk:[a&&"asterisk"]},Cfe,t);return oe({},t,h)},Pfe=Et(ufe,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${jv.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&oe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Afe=W.forwardRef(function(t,r){const n=sr({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=n,a=Nt(n,Tfe),d=Nf();let h=o;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const g=uh({props:n,muiFormControl:d,states:["size","variant","required"]}),v=oe({},n,{disableAnimation:i,formControl:d,shrink:h,size:g.size,variant:g.variant,required:g.required}),b=kfe(v);return F.jsx(Pfe,oe({"data-shrink":h,ownerState:v,ref:r,className:Ft(b.root,s)},a,{classes:b}))}),k0=Afe;function Mfe(e){return or("MuiLink",e)}const Ofe=ar("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Ife=Ofe,aW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Rfe=e=>aW[e]||e,$fe=({theme:e,ownerState:t})=>{const r=Rfe(t.color),n=Am(e,`palette.${r}`,!1)||t.color,i=Am(e,`palette.${r}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:zn(n,.4)},Dfe=$fe,Lfe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],zfe=e=>{const{classes:t,component:r,focusVisible:n,underline:i}=e,o={root:["root",`underline${wt(i)}`,r==="button"&&"button",n&&"focusVisible"]};return lr(o,Mfe,t)},Nfe=Et(ln,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${wt(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>oe({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&oe({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:Dfe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ife.focusVisible}`]:{outline:"auto"}})),jfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:d,TypographyClasses:h,underline:g="always",variant:v="inherit",sx:b}=n,M=Nt(n,Lfe),{isFocusVisibleRef:A,onBlur:w,onFocus:P,ref:O}=KS(),[I,T]=W.useState(!1),R=li(r,O),z=ie=>{w(ie),A.current===!1&&T(!1),a&&a(ie)},j=ie=>{P(ie),A.current===!0&&T(!0),d&&d(ie)},V=oe({},n,{color:o,component:s,focusVisible:I,underline:g,variant:v}),Z=zfe(V);return F.jsx(Nfe,oe({color:o,className:Ft(Z.root,i),classes:h,component:s,onBlur:z,onFocus:j,ref:R,ownerState:V,variant:v,sx:[...Object.keys(aW).includes(o)?[]:[{color:o}],...Array.isArray(b)?b:[b]]},M))}),Bfe=jfe,Ffe=W.createContext({}),rh=Ffe;function Ufe(e){return or("MuiList",e)}ar("MuiList",["root","padding","dense","subheader"]);const Vfe=["children","className","component","dense","disablePadding","subheader"],Wfe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return lr({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Ufe,t)},qfe=Et("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>oe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Hfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:d=!1,subheader:h}=n,g=Nt(n,Vfe),v=W.useMemo(()=>({dense:a}),[a]),b=oe({},n,{component:s,dense:a,disablePadding:d}),M=Wfe(b);return F.jsx(rh.Provider,{value:v,children:F.jsxs(qfe,oe({as:s,className:Ft(M.root,o),ref:r,ownerState:b},g,{children:[h,i]}))})}),Gfe=Hfe;function Yfe(e){return or("MuiListItemButton",e)}const Kfe=ar("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Uy=Kfe,Zfe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Xfe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},Jfe=e=>{const{alignItems:t,classes:r,dense:n,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=lr({root:["root",n&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Yfe,r);return oe({},r,h)},Qfe=Et(w_,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Xfe})(({theme:e,ownerState:t})=>oe({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Uy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Uy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Uy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Uy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),ede=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:d=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:v,selected:b=!1,className:M}=n,A=Nt(n,Zfe),w=W.useContext(rh),P=W.useMemo(()=>({dense:d||w.dense||!1,alignItems:i,disableGutters:h}),[i,w.dense,d,h]),O=W.useRef(null);hl(()=>{o&&O.current&&O.current.focus()},[o]);const I=oe({},n,{alignItems:i,dense:P.dense,disableGutters:h,divider:g,selected:b}),T=Jfe(I),R=li(O,r);return F.jsx(rh.Provider,{value:P,children:F.jsx(Qfe,oe({ref:R,href:A.href||A.to,component:(A.href||A.to)&&s==="div"?"button":s,focusVisibleClassName:Ft(T.focusVisible,v),ownerState:I,className:Ft(T.root,M)},A,{classes:T,children:a}))})}),tde=ede;function rde(e){return or("MuiListItemAvatar",e)}ar("MuiListItemAvatar",["root","alignItemsFlexStart"]);const nde=["className"],ide=e=>{const{alignItems:t,classes:r}=e;return lr({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},rde,r)},ode=Et("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>oe({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),ade=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiListItemAvatar"}),{className:i}=n,o=Nt(n,nde),s=W.useContext(rh),a=oe({},n,{alignItems:s.alignItems}),d=ide(a);return F.jsx(ode,oe({className:Ft(d.root,i),ownerState:a,ref:r},o))}),sde=ade,lde=ar("MuiListItemIcon",["root","alignItemsFlexStart"]),n5=lde;function cde(e){return or("MuiListItemText",e)}const ude=ar("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),iw=ude,fde=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],dde=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:o}=e;return lr({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},cde,t)},hde=Et("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${iw.primary}`]:t.primary},{[`& .${iw.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>oe({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),pde=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:d,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:v}=n,b=Nt(n,fde),{dense:M}=W.useContext(rh);let A=d??i,w=g;const P=oe({},n,{disableTypography:s,inset:a,primary:!!A,secondary:!!w,dense:M}),O=dde(P);return A!=null&&A.type!==ln&&!s&&(A=F.jsx(ln,oe({variant:M?"body2":"body1",className:O.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:A}))),w!=null&&w.type!==ln&&!s&&(w=F.jsx(ln,oe({variant:"body2",className:O.secondary,color:"text.secondary",display:"block"},v,{children:w}))),F.jsxs(hde,oe({className:Ft(O.root,o),ownerState:P,ref:r},b,{children:[A,w]}))}),mde=pde,gde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function NT(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function i5(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function sW(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function Vy(e,t,r,n,i,o){let s=!1,a=i(e,t,t?r:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const d=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!sW(a,o)||d)a=i(e,a,r);else return a.focus(),!0}return!1}const yde=W.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:g,variant:v="selectedMenu"}=t,b=Nt(t,gde),M=W.useRef(null),A=W.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});hl(()=>{i&&M.current.focus()},[i]),W.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(T,R)=>{const z=!M.current.style.width;if(T.clientHeight<M.current.clientHeight&&z){const j=`${tV(ji(T))}px`;M.current.style[R.direction==="rtl"?"paddingLeft":"paddingRight"]=j,M.current.style.width=`calc(100% + ${j})`}return M.current}}),[]);const w=T=>{const R=M.current,z=T.key,j=ji(R).activeElement;if(z==="ArrowDown")T.preventDefault(),Vy(R,j,h,d,NT);else if(z==="ArrowUp")T.preventDefault(),Vy(R,j,h,d,i5);else if(z==="Home")T.preventDefault(),Vy(R,null,h,d,NT);else if(z==="End")T.preventDefault(),Vy(R,null,h,d,i5);else if(z.length===1){const V=A.current,Z=z.toLowerCase(),ie=performance.now();V.keys.length>0&&(ie-V.lastTime>500?(V.keys=[],V.repeating=!0,V.previousKeyMatched=!0):V.repeating&&Z!==V.keys[0]&&(V.repeating=!1)),V.lastTime=ie,V.keys.push(Z);const ne=j&&!V.repeating&&sW(j,V);V.previousKeyMatched&&(ne||Vy(R,j,!1,d,NT,V))?T.preventDefault():V.previousKeyMatched=!1}g&&g(T)},P=li(M,r);let O=-1;W.Children.forEach(s,(T,R)=>{if(!W.isValidElement(T)){O===R&&(O+=1,O>=s.length&&(O=-1));return}T.props.disabled||(v==="selectedMenu"&&T.props.selected||O===-1)&&(O=R),O===R&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(O+=1,O>=s.length&&(O=-1))});const I=W.Children.map(s,(T,R)=>{if(R===O){const z={};return o&&(z.autoFocus=!0),T.props.tabIndex===void 0&&v==="selectedMenu"&&(z.tabIndex=0),W.cloneElement(T,z)}return T});return F.jsx(Gfe,oe({role:"menu",ref:P,className:a,onKeyDown:w,tabIndex:i?0:-1},b,{children:I}))}),vde=yde;function _de(e){return or("MuiPopover",e)}ar("MuiPopover",["root","paper"]);const xde=["onEntering"],bde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],wde=["slotProps"];function o5(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function a5(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function s5(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function jT(e){return typeof e=="function"?e():e}const Sde=e=>{const{classes:t}=e;return lr({root:["root"],paper:["paper"]},_de,t)},Ede=Et(Pue,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lW=Et(tu,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Cde=W.forwardRef(function(t,r){var n,i,o;const s=sr({props:t,name:"MuiPopover"}),{action:a,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:v="anchorEl",children:b,className:M,container:A,elevation:w=8,marginThreshold:P=16,open:O,PaperProps:I={},slots:T,slotProps:R,transformOrigin:z={vertical:"top",horizontal:"left"},TransitionComponent:j=nw,transitionDuration:V="auto",TransitionProps:{onEntering:Z}={}}=s,ie=Nt(s.TransitionProps,xde),ne=Nt(s,bde),ae=(n=R==null?void 0:R.paper)!=null?n:I,de=W.useRef(),pe=li(de,ae.ref),Pe=oe({},s,{anchorOrigin:h,anchorReference:v,elevation:w,marginThreshold:P,externalPaperSlotProps:ae,transformOrigin:z,TransitionComponent:j,transitionDuration:V,TransitionProps:ie}),be=Sde(Pe),he=W.useCallback(()=>{if(v==="anchorPosition")return g;const Fe=jT(d),St=(Fe&&Fe.nodeType===1?Fe:ji(de.current).body).getBoundingClientRect();return{top:St.top+o5(St,h.vertical),left:St.left+a5(St,h.horizontal)}},[d,h.horizontal,h.vertical,g,v]),ve=W.useCallback(Fe=>({vertical:o5(Fe,z.vertical),horizontal:a5(Fe,z.horizontal)}),[z.horizontal,z.vertical]),Se=W.useCallback(Fe=>{const Re={width:Fe.offsetWidth,height:Fe.offsetHeight},St=ve(Re);if(v==="none")return{top:null,left:null,transformOrigin:s5(St)};const Zt=he();let Ot=Zt.top-St.vertical,zt=Zt.left-St.horizontal;const Mr=Ot+Re.height,Vr=zt+Re.width,pr=kf(jT(d)),Sr=pr.innerHeight-P,cr=pr.innerWidth-P;if(Ot<P){const Er=Ot-P;Ot-=Er,St.vertical+=Er}else if(Mr>Sr){const Er=Mr-Sr;Ot-=Er,St.vertical+=Er}if(zt<P){const Er=zt-P;zt-=Er,St.horizontal+=Er}else if(Vr>cr){const Er=Vr-cr;zt-=Er,St.horizontal+=Er}return{top:`${Math.round(Ot)}px`,left:`${Math.round(zt)}px`,transformOrigin:s5(St)}},[d,v,he,ve,P]),[ye,Ie]=W.useState(O),Xe=W.useCallback(()=>{const Fe=de.current;if(!Fe)return;const Re=Se(Fe);Re.top!==null&&(Fe.style.top=Re.top),Re.left!==null&&(Fe.style.left=Re.left),Fe.style.transformOrigin=Re.transformOrigin,Ie(!0)},[Se]),Ee=(Fe,Re)=>{Z&&Z(Fe,Re),Xe()},De=()=>{Ie(!1)};W.useEffect(()=>{O&&Xe()}),W.useImperativeHandle(a,()=>O?{updatePosition:()=>{Xe()}}:null,[O,Xe]),W.useEffect(()=>{if(!O)return;const Fe=II(()=>{Xe()}),Re=kf(d);return Re.addEventListener("resize",Fe),()=>{Fe.clear(),Re.removeEventListener("resize",Fe)}},[d,O,Xe]);let Oe=V;V==="auto"&&!j.muiSupportAuto&&(Oe=void 0);const Ge=A||(d?ji(jT(d)).body:void 0),Be=(i=T==null?void 0:T.root)!=null?i:Ede,at=(o=T==null?void 0:T.paper)!=null?o:lW,nt=Ql({elementType:at,externalSlotProps:oe({},ae,{style:ye?ae.style:oe({},ae.style,{opacity:0})}),additionalProps:{elevation:w,ref:pe},ownerState:Pe,className:Ft(be.paper,ae==null?void 0:ae.className)}),Ve=Ql({elementType:Be,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:ne,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Ge,open:O},ownerState:Pe,className:Ft(be.root,M)}),{slotProps:Je}=Ve,ct=Nt(Ve,wde);return F.jsx(Be,oe({},ct,!S0(Be)&&{slotProps:Je},{children:F.jsx(j,oe({appear:!0,in:O,onEntering:Ee,onExited:De,timeout:Oe},ie,{children:F.jsx(at,oe({},nt,{children:b}))}))}))}),Tde=Cde;function kde(e){return or("MuiMenu",e)}ar("MuiMenu",["root","paper","list"]);const Pde=["onEntering"],Ade=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Mde={vertical:"top",horizontal:"right"},Ode={vertical:"top",horizontal:"left"},Ide=e=>{const{classes:t}=e;return lr({root:["root"],paper:["paper"],list:["list"]},kde,t)},Rde=Et(Tde,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$de=Et(lW,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Dde=Et(vde,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Lde=W.forwardRef(function(t,r){var n,i;const o=sr({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:d,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:v,open:b,PaperProps:M={},PopoverClasses:A,transitionDuration:w="auto",TransitionProps:{onEntering:P}={},variant:O="selectedMenu",slots:I={},slotProps:T={}}=o,R=Nt(o.TransitionProps,Pde),z=Nt(o,Ade),j=Lf(),V=j.direction==="rtl",Z=oe({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:P,PaperProps:M,transitionDuration:w,TransitionProps:R,variant:O}),ie=Ide(Z),ne=s&&!h&&b,ae=W.useRef(null),de=(ye,Ie)=>{ae.current&&ae.current.adjustStyleForScrollbar(ye,j),P&&P(ye,Ie)},pe=ye=>{ye.key==="Tab"&&(ye.preventDefault(),v&&v(ye,"tabKeyDown"))};let Pe=-1;W.Children.map(a,(ye,Ie)=>{W.isValidElement(ye)&&(ye.props.disabled||(O==="selectedMenu"&&ye.props.selected||Pe===-1)&&(Pe=Ie))});const be=(n=I.paper)!=null?n:$de,he=(i=T.paper)!=null?i:M,ve=Ql({elementType:I.root,externalSlotProps:T.root,ownerState:Z,className:[ie.root,d]}),Se=Ql({elementType:be,externalSlotProps:he,ownerState:Z,className:ie.paper});return F.jsx(Rde,oe({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:V?"right":"left"},transformOrigin:V?Mde:Ode,slots:{paper:be,root:I.root},slotProps:{root:ve,paper:Se},open:b,ref:r,transitionDuration:w,TransitionProps:oe({onEntering:de},R),ownerState:Z},z,{classes:A,children:F.jsx(Dde,oe({onKeyDown:pe,actions:ae,autoFocus:s&&(Pe===-1||h),autoFocusItem:ne,variant:O},g,{className:Ft(ie.list,g.className),children:a}))}))}),cW=Lde;function zde(e){return or("MuiMenuItem",e)}const Nde=ar("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Wy=Nde,jde=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Bde=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},Fde=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:o,classes:s}=e,d=lr({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},zde,s);return oe({},s,d)},Ude=Et(w_,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Bde})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Wy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Wy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Wy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Wy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Wy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${X3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${X3.inset}`]:{marginLeft:52},[`& .${iw.root}`]:{marginTop:0,marginBottom:0},[`& .${iw.inset}`]:{paddingLeft:36},[`& .${n5.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&oe({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${n5.root} svg`]:{fontSize:"1.25rem"}}))),Vde=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:d=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:v,className:b}=n,M=Nt(n,jde),A=W.useContext(rh),w=W.useMemo(()=>({dense:s||A.dense||!1,disableGutters:d}),[A.dense,s,d]),P=W.useRef(null);hl(()=>{i&&P.current&&P.current.focus()},[i]);const O=oe({},n,{dense:w.dense,divider:a,disableGutters:d}),I=Fde(n),T=li(P,r);let R;return n.disabled||(R=v!==void 0?v:-1),F.jsx(rh.Provider,{value:w,children:F.jsx(Ude,oe({ref:T,role:g,tabIndex:R,component:o,focusVisibleClassName:Ft(I.focusVisible,h),className:Ft(I.root,b)},M,{ownerState:O,classes:I}))})}),ma=Vde;function Wde(e){return or("MuiNativeSelect",e)}const qde=ar("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),dR=qde,Hde=["className","disabled","error","IconComponent","inputRef","variant"],Gde=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e,a={select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${wt(r)}`,o&&"iconOpen",n&&"disabled"]};return lr(a,Wde,t)},uW=({ownerState:e,theme:t})=>oe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":oe({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${dR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Yde=Et("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:gl,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${dR.multiple}`]:t.multiple}]}})(uW),fW=({ownerState:e,theme:t})=>oe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${dR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Kde=Et("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${wt(r.variant)}`],r.open&&t.iconOpen]}})(fW),Zde=W.forwardRef(function(t,r){const{className:n,disabled:i,error:o,IconComponent:s,inputRef:a,variant:d="standard"}=t,h=Nt(t,Hde),g=oe({},t,{disabled:i,variant:d,error:o}),v=Gde(g);return F.jsxs(W.Fragment,{children:[F.jsx(Yde,oe({ownerState:g,className:Ft(v.select,n),disabled:i,ref:a||r},h)),t.multiple?null:F.jsx(Kde,{as:s,ownerState:g,className:v.icon})]})}),Xde=Zde;var l5;const Jde=["children","classes","className","label","notched"],Qde=Et("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ehe=Et("legend")(({ownerState:e,theme:t})=>oe({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&oe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function the(e){const{className:t,label:r,notched:n}=e,i=Nt(e,Jde),o=r!=null&&r!=="",s=oe({},e,{notched:n,withLabel:o});return F.jsx(Qde,oe({"aria-hidden":!0,className:t,ownerState:s},i,{children:F.jsx(ehe,{ownerState:s,children:o?F.jsx("span",{children:r}):l5||(l5=F.jsx("span",{className:"notranslate",children:"​"}))})}))}const rhe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],nhe=e=>{const{classes:t}=e,n=lr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Zle,t);return oe({},t,n)},ihe=Et(T2,{shouldForwardProp:e=>gl(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:E2})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return oe({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Lu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Lu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Lu.focused} .${Lu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Lu.error} .${Lu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Lu.disabled} .${Lu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&oe({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),ohe=Et(the,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),ahe=Et(k2,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:C2})(({theme:e,ownerState:t})=>oe({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),dW=W.forwardRef(function(t,r){var n,i,o,s,a;const d=sr({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:v="input",label:b,multiline:M=!1,notched:A,slots:w={},type:P="text"}=d,O=Nt(d,rhe),I=nhe(d),T=Nf(),R=uh({props:d,muiFormControl:T,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),z=oe({},d,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:T,fullWidth:g,hiddenLabel:R.hiddenLabel,multiline:M,size:R.size,type:P}),j=(n=(i=w.root)!=null?i:h.Root)!=null?n:ihe,V=(o=(s=w.input)!=null?s:h.Input)!=null?o:ahe;return F.jsx(fR,oe({slots:{root:j,input:V},renderSuffix:Z=>F.jsx(ohe,{ownerState:z,className:I.notchedOutline,label:b!=null&&b!==""&&R.required?a||(a=F.jsxs(W.Fragment,{children:[b," ","*"]})):b,notched:typeof A<"u"?A:!!(Z.startAdornment||Z.filled||Z.focused)}),fullWidth:g,inputComponent:v,multiline:M,ref:r,type:P},O,{classes:oe({},I,{notchedOutline:null})}))});dW.muiName="Input";const hR=dW;function she(e){return or("MuiSelect",e)}const lhe=ar("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),qy=lhe;var c5;const che=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],uhe=Et("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${qy.select}`]:t.select},{[`&.${qy.select}`]:t[r.variant]},{[`&.${qy.error}`]:t.error},{[`&.${qy.multiple}`]:t.multiple}]}})(uW,{[`&.${qy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),fhe=Et("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${wt(r.variant)}`],r.open&&t.iconOpen]}})(fW),dhe=Et("input",{shouldForwardProp:e=>coe(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function u5(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function hhe(e){return e==null||typeof e=="string"&&!e.trim()}const phe=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e,a={select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${wt(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return lr(a,she,t)},mhe=W.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:d,defaultOpen:h,defaultValue:g,disabled:v,displayEmpty:b,error:M=!1,IconComponent:A,inputRef:w,labelId:P,MenuProps:O={},multiple:I,name:T,onBlur:R,onChange:z,onClose:j,onFocus:V,onOpen:Z,open:ie,readOnly:ne,renderValue:ae,SelectDisplayProps:de={},tabIndex:pe,value:Pe,variant:be="standard"}=t,he=Nt(t,che),[ve,Se]=v0({controlled:Pe,default:g,name:"Select"}),[ye,Ie]=v0({controlled:ie,default:h,name:"Select"}),Xe=W.useRef(null),Ee=W.useRef(null),[De,Oe]=W.useState(null),{current:Ge}=W.useRef(ie!=null),[Be,at]=W.useState(),nt=li(r,w),Ve=W.useCallback(Ke=>{Ee.current=Ke,Ke&&Oe(Ke)},[]),Je=De==null?void 0:De.parentNode;W.useImperativeHandle(nt,()=>({focus:()=>{Ee.current.focus()},node:Xe.current,value:ve}),[ve]),W.useEffect(()=>{h&&ye&&De&&!Ge&&(at(s?null:Je.clientWidth),Ee.current.focus())},[De,s]),W.useEffect(()=>{o&&Ee.current.focus()},[o]),W.useEffect(()=>{if(!P)return;const Ke=ji(Ee.current).getElementById(P);if(Ke){const At=()=>{getSelection().isCollapsed&&Ee.current.focus()};return Ke.addEventListener("click",At),()=>{Ke.removeEventListener("click",At)}}},[P]);const ct=(Ke,At)=>{Ke?Z&&Z(At):j&&j(At),Ge||(at(s?null:Je.clientWidth),Ie(Ke))},Fe=Ke=>{Ke.button===0&&(Ke.preventDefault(),Ee.current.focus(),ct(!0,Ke))},Re=Ke=>{ct(!1,Ke)},St=W.Children.toArray(a),Zt=Ke=>{const At=St.find(Rt=>Rt.props.value===Ke.target.value);At!==void 0&&(Se(At.props.value),z&&z(Ke,At))},Ot=Ke=>At=>{let Rt;if(At.currentTarget.hasAttribute("tabindex")){if(I){Rt=Array.isArray(ve)?ve.slice():[];const Jr=ve.indexOf(Ke.props.value);Jr===-1?Rt.push(Ke.props.value):Rt.splice(Jr,1)}else Rt=Ke.props.value;if(Ke.props.onClick&&Ke.props.onClick(At),ve!==Rt&&(Se(Rt),z)){const Jr=At.nativeEvent||At,to=new Jr.constructor(Jr.type,Jr);Object.defineProperty(to,"target",{writable:!0,value:{value:Rt,name:T}}),z(to,Ke)}I||ct(!1,At)}},zt=Ke=>{ne||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ke.key)!==-1&&(Ke.preventDefault(),ct(!0,Ke))},Mr=De!==null&&ye,Vr=Ke=>{!Mr&&R&&(Object.defineProperty(Ke,"target",{writable:!0,value:{value:ve,name:T}}),R(Ke))};delete he["aria-invalid"];let pr,Sr;const cr=[];let Er=!1;(rw({value:ve})||b)&&(ae?pr=ae(ve):Er=!0);const an=St.map(Ke=>{if(!W.isValidElement(Ke))return null;let At;if(I){if(!Array.isArray(ve))throw new Error(Tf(2));At=ve.some(Rt=>u5(Rt,Ke.props.value)),At&&Er&&cr.push(Ke.props.children)}else At=u5(ve,Ke.props.value),At&&Er&&(Sr=Ke.props.children);return W.cloneElement(Ke,{"aria-selected":At?"true":"false",onClick:Ot(Ke),onKeyUp:Rt=>{Rt.key===" "&&Rt.preventDefault(),Ke.props.onKeyUp&&Ke.props.onKeyUp(Rt)},role:"option",selected:At,value:void 0,"data-value":Ke.props.value})});Er&&(I?cr.length===0?pr=null:pr=cr.reduce((Ke,At,Rt)=>(Ke.push(At),Rt<cr.length-1&&Ke.push(", "),Ke),[]):pr=Sr);let ut=Be;!s&&Ge&&De&&(ut=Je.clientWidth);let Or;typeof pe<"u"?Or=pe:Or=v?null:0;const Xr=de.id||(T?`mui-component-select-${T}`:void 0),mr=oe({},t,{variant:be,value:ve,open:Mr,error:M}),Jt=phe(mr);return F.jsxs(W.Fragment,{children:[F.jsx(uhe,oe({ref:Ve,tabIndex:Or,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":Mr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[P,Xr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:zt,onMouseDown:v||ne?null:Fe,onBlur:Vr,onFocus:V},de,{ownerState:mr,className:Ft(de.className,Jt.select,d),id:Xr,children:hhe(pr)?c5||(c5=F.jsx("span",{className:"notranslate",children:"​"})):pr})),F.jsx(dhe,oe({"aria-invalid":M,value:Array.isArray(ve)?ve.join(","):ve,name:T,ref:Xe,"aria-hidden":!0,onChange:Zt,tabIndex:-1,disabled:v,className:Jt.nativeInput,autoFocus:o,ownerState:mr},he)),F.jsx(fhe,{as:A,className:Jt.icon,ownerState:mr}),F.jsx(cW,oe({id:`menu-${T||""}`,anchorEl:Je,open:Mr,onClose:Re,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},O,{MenuListProps:oe({"aria-labelledby":P,role:"listbox",disableListWrap:!0},O.MenuListProps),PaperProps:oe({},O.PaperProps,{style:oe({minWidth:ut},O.PaperProps!=null?O.PaperProps.style:null)}),children:an}))]})}),ghe=mhe,yhe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],vhe=e=>{const{classes:t}=e;return t},pR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>gl(e)&&e!=="variant",slot:"Root"},_he=Et(oW,pR)(""),xhe=Et(hR,pR)(""),bhe=Et(rW,pR)(""),hW=W.forwardRef(function(t,r){const n=sr({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:g=ece,id:v,input:b,inputProps:M,label:A,labelId:w,MenuProps:P,multiple:O=!1,native:I=!1,onClose:T,onOpen:R,open:z,renderValue:j,SelectDisplayProps:V,variant:Z="outlined"}=n,ie=Nt(n,yhe),ne=I?Xde:ghe,ae=Nf(),de=uh({props:n,muiFormControl:ae,states:["variant","error"]}),pe=de.variant||Z,Pe=oe({},n,{variant:pe,classes:s}),be=vhe(Pe),he=b||{standard:F.jsx(_he,{ownerState:Pe}),outlined:F.jsx(xhe,{label:A,ownerState:Pe}),filled:F.jsx(bhe,{ownerState:Pe})}[pe],ve=li(r,he.ref);return F.jsx(W.Fragment,{children:W.cloneElement(he,oe({inputComponent:ne,inputProps:oe({children:o,error:de.error,IconComponent:g,variant:pe,type:void 0,multiple:O},I?{id:v}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:w,MenuProps:P,onClose:T,onOpen:R,open:z,renderValue:j,SelectDisplayProps:oe({id:v},V)},M,{classes:M?Sa(be,M.classes):be},b?b.props.inputProps:{})},O&&I&&pe==="outlined"?{notched:!0}:{},{ref:ve,className:Ft(he.props.className,a)},!b&&{variant:pe},ie))})});hW.muiName="Select";const P0=hW;function whe(e){return or("MuiSnackbarContent",e)}ar("MuiSnackbarContent",["root","message","action"]);const She=["action","className","message","role"],Ehe=e=>{const{classes:t}=e;return lr({root:["root"],action:["action"],message:["message"]},whe,t)},Che=Et(tu,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=Tie(e.palette.background.default,t);return oe({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),The=Et("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),khe=Et("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Phe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=n,d=Nt(n,She),h=n,g=Ehe(h);return F.jsxs(Che,oe({role:a,square:!0,elevation:6,className:Ft(g.root,o),ownerState:h,ref:r},d,{children:[F.jsx(The,{className:g.message,ownerState:h,children:s}),i?F.jsx(khe,{className:g.action,ownerState:h,children:i}):null]}))}),Ahe=Phe;function Mhe(e){return or("MuiSnackbar",e)}ar("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Ohe=["onEnter","onExited"],Ihe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Rhe=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${wt(r.vertical)}${wt(r.horizontal)}`]};return lr(n,Mhe,t)},f5=Et("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${wt(r.anchorOrigin.vertical)}${wt(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return oe({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:oe({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),$he=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiSnackbar"}),i=Lf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:d}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:v,ClickAwayListenerProps:b,ContentProps:M,disableWindowBlurListener:A=!1,message:w,open:P,TransitionComponent:O=nw,transitionDuration:I=o,TransitionProps:{onEnter:T,onExited:R}={}}=n,z=Nt(n.TransitionProps,Ohe),j=Nt(n,Ihe),V=oe({},n,{anchorOrigin:{vertical:a,horizontal:d},autoHideDuration:h,disableWindowBlurListener:A,TransitionComponent:O,transitionDuration:I}),Z=Rhe(V),{getRootProps:ie,onClickAway:ne}=Rle(oe({},V)),[ae,de]=W.useState(!0),pe=Ql({elementType:f5,getSlotProps:ie,externalForwardedProps:j,ownerState:V,additionalProps:{ref:r},className:[Z.root,v]}),Pe=he=>{de(!0),R&&R(he)},be=(he,ve)=>{de(!1),T&&T(he,ve)};return!P&&ae?null:F.jsx(Zae,oe({onClickAway:ne},b,{children:F.jsx(f5,oe({},pe,{children:F.jsx(O,oe({appear:!0,in:P,timeout:I,direction:a==="top"?"down":"up",onEnter:be,onExited:Pe},z,{children:g||F.jsx(Ahe,oe({message:w,action:s},M))}))}))}))}),Dhe=$he;function Lhe(e){return or("MuiTooltip",e)}const zhe=ar("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ef=zhe,Nhe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function jhe(e){return Math.round(e*1e5)/1e5}const Bhe=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:i,placement:o}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${wt(o.split("-")[0])}`],arrow:["arrow"]};return lr(s,Lhe,t)},Fhe=Et(KV,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>oe({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${ef.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ef.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ef.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ef.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Uhe=Et("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${wt(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>oe({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:zn(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${jhe(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${ef.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${ef.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${ef.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${ef.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Vhe=Et("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:zn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let bb=!1,BT=null,Hy={x:0,y:0};function wb(e,t){return r=>{t&&t(r),e(r)}}const Whe=W.forwardRef(function(t,r){var n,i,o,s,a,d,h,g,v,b,M,A,w,P,O,I,T,R,z;const j=sr({props:t,name:"MuiTooltip"}),{arrow:V=!1,children:Z,components:ie={},componentsProps:ne={},describeChild:ae=!1,disableFocusListener:de=!1,disableHoverListener:pe=!1,disableInteractive:Pe=!1,disableTouchListener:be=!1,enterDelay:he=100,enterNextDelay:ve=0,enterTouchDelay:Se=700,followCursor:ye=!1,id:Ie,leaveDelay:Xe=0,leaveTouchDelay:Ee=1500,onClose:De,onOpen:Oe,open:Ge,placement:Be="bottom",PopperComponent:at,PopperProps:nt={},slotProps:Ve={},slots:Je={},title:ct,TransitionComponent:Fe=nw,TransitionProps:Re}=j,St=Nt(j,Nhe),Zt=W.isValidElement(Z)?Z:F.jsx("span",{children:Z}),Ot=Lf(),zt=Ot.direction==="rtl",[Mr,Vr]=W.useState(),[pr,Sr]=W.useState(null),cr=W.useRef(!1),Er=Pe||ye,an=W.useRef(),ut=W.useRef(),Or=W.useRef(),Xr=W.useRef(),[mr,Jt]=v0({controlled:Ge,default:!1,name:"Tooltip",state:"open"});let Ke=mr;const At=RI(Ie),Rt=W.useRef(),Jr=W.useCallback(()=>{Rt.current!==void 0&&(document.body.style.WebkitUserSelect=Rt.current,Rt.current=void 0),clearTimeout(Xr.current)},[]);W.useEffect(()=>()=>{clearTimeout(an.current),clearTimeout(ut.current),clearTimeout(Or.current),Jr()},[Jr]);const to=mt=>{clearTimeout(BT),bb=!0,Jt(!0),Oe&&!Ke&&Oe(mt)},Xt=ll(mt=>{clearTimeout(BT),BT=setTimeout(()=>{bb=!1},800+Xe),Jt(!1),De&&Ke&&De(mt),clearTimeout(an.current),an.current=setTimeout(()=>{cr.current=!1},Ot.transitions.duration.shortest)}),po=mt=>{cr.current&&mt.type!=="touchstart"||(Mr&&Mr.removeAttribute("title"),clearTimeout(ut.current),clearTimeout(Or.current),he||bb&&ve?ut.current=setTimeout(()=>{to(mt)},bb?ve:he):to(mt))},jo=mt=>{clearTimeout(ut.current),clearTimeout(Or.current),Or.current=setTimeout(()=>{Xt(mt)},Xe)},{isFocusVisibleRef:ka,onBlur:mo,onFocus:rs,ref:gi}=KS(),[,Wr]=W.useState(!1),xl=mt=>{mo(mt),ka.current===!1&&(Wr(!1),jo(mt))},Bo=mt=>{Mr||Vr(mt.currentTarget),rs(mt),ka.current===!0&&(Wr(!0),po(mt))},me=mt=>{cr.current=!0;const $r=Zt.props;$r.onTouchStart&&$r.onTouchStart(mt)},X=po,Q=jo,se=mt=>{me(mt),clearTimeout(Or.current),clearTimeout(an.current),Jr(),Rt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Xr.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Rt.current,po(mt)},Se)},_e=mt=>{Zt.props.onTouchEnd&&Zt.props.onTouchEnd(mt),Jr(),clearTimeout(Or.current),Or.current=setTimeout(()=>{Xt(mt)},Ee)};W.useEffect(()=>{if(!Ke)return;function mt($r){($r.key==="Escape"||$r.key==="Esc")&&Xt($r)}return document.addEventListener("keydown",mt),()=>{document.removeEventListener("keydown",mt)}},[Xt,Ke]);const Te=li(Zt.ref,gi,Vr,r);!ct&&ct!==0&&(Ke=!1);const Le=W.useRef(),Ae=mt=>{const $r=Zt.props;$r.onMouseMove&&$r.onMouseMove(mt),Hy={x:mt.clientX,y:mt.clientY},Le.current&&Le.current.update()},ke={},je=typeof ct=="string";ae?(ke.title=!Ke&&je&&!pe?ct:null,ke["aria-describedby"]=Ke?At:null):(ke["aria-label"]=je?ct:null,ke["aria-labelledby"]=Ke&&!je?At:null);const Qe=oe({},ke,St,Zt.props,{className:Ft(St.className,Zt.props.className),onTouchStart:me,ref:Te},ye?{onMouseMove:Ae}:{}),et={};be||(Qe.onTouchStart=se,Qe.onTouchEnd=_e),pe||(Qe.onMouseOver=wb(X,Qe.onMouseOver),Qe.onMouseLeave=wb(Q,Qe.onMouseLeave),Er||(et.onMouseOver=X,et.onMouseLeave=Q)),de||(Qe.onFocus=wb(Bo,Qe.onFocus),Qe.onBlur=wb(xl,Qe.onBlur),Er||(et.onFocus=Bo,et.onBlur=xl));const it=W.useMemo(()=>{var mt;let $r=[{name:"arrow",enabled:!!pr,options:{element:pr,padding:4}}];return(mt=nt.popperOptions)!=null&&mt.modifiers&&($r=$r.concat(nt.popperOptions.modifiers)),oe({},nt.popperOptions,{modifiers:$r})},[pr,nt]),Vt=oe({},j,{isRtl:zt,arrow:V,disableInteractive:Er,placement:Be,PopperComponentProp:at,touch:cr.current}),nr=Bhe(Vt),Dt=(n=(i=Je.popper)!=null?i:ie.Popper)!=null?n:Fhe,Wt=(o=(s=(a=Je.transition)!=null?a:ie.Transition)!=null?s:Fe)!=null?o:nw,rr=(d=(h=Je.tooltip)!=null?h:ie.Tooltip)!=null?d:Uhe,Pr=(g=(v=Je.arrow)!=null?v:ie.Arrow)!=null?g:Vhe,Br=vv(Dt,oe({},nt,(b=Ve.popper)!=null?b:ne.popper,{className:Ft(nr.popper,nt==null?void 0:nt.className,(M=(A=Ve.popper)!=null?A:ne.popper)==null?void 0:M.className)}),Vt),gr=vv(Wt,oe({},Re,(w=Ve.transition)!=null?w:ne.transition),Vt),Ar=vv(rr,oe({},(P=Ve.tooltip)!=null?P:ne.tooltip,{className:Ft(nr.tooltip,(O=(I=Ve.tooltip)!=null?I:ne.tooltip)==null?void 0:O.className)}),Vt),Fi=vv(Pr,oe({},(T=Ve.arrow)!=null?T:ne.arrow,{className:Ft(nr.arrow,(R=(z=Ve.arrow)!=null?z:ne.arrow)==null?void 0:R.className)}),Vt);return F.jsxs(W.Fragment,{children:[W.cloneElement(Zt,Qe),F.jsx(Dt,oe({as:at??KV,placement:Be,anchorEl:ye?{getBoundingClientRect:()=>({top:Hy.y,left:Hy.x,right:Hy.x,bottom:Hy.y,width:0,height:0})}:Mr,popperRef:Le,open:Mr?Ke:!1,id:At,transition:!0},et,Br,{popperOptions:it,children:({TransitionProps:mt})=>F.jsx(Wt,oe({timeout:Ot.transitions.duration.shorter},mt,gr,{children:F.jsxs(rr,oe({},Ar,{children:[ct,V?F.jsx(Pr,oe({},Fi,{ref:Sr})):null]}))}))}))]})}),kp=Whe,qhe=W.createContext(),pW=qhe;function Hhe(e){return or("MuiTable",e)}ar("MuiTable",["root","stickyHeader"]);const Ghe=["className","component","padding","size","stickyHeader"],Yhe=e=>{const{classes:t,stickyHeader:r}=e;return lr({root:["root",r&&"stickyHeader"]},Hhe,t)},Khe=Et("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>oe({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":oe({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),d5="table",Zhe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTable"}),{className:i,component:o=d5,padding:s="normal",size:a="medium",stickyHeader:d=!1}=n,h=Nt(n,Ghe),g=oe({},n,{component:o,padding:s,size:a,stickyHeader:d}),v=Yhe(g),b=W.useMemo(()=>({padding:s,size:a,stickyHeader:d}),[s,a,d]);return F.jsx(pW.Provider,{value:b,children:F.jsx(Khe,oe({as:o,role:o===d5?null:"table",ref:r,className:Ft(v.root,i),ownerState:g},h))})}),mW=Zhe,Xhe=W.createContext(),P2=Xhe;function Jhe(e){return or("MuiTableBody",e)}ar("MuiTableBody",["root"]);const Qhe=["className","component"],epe=e=>{const{classes:t}=e;return lr({root:["root"]},Jhe,t)},tpe=Et("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),rpe={variant:"body"},h5="tbody",npe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableBody"}),{className:i,component:o=h5}=n,s=Nt(n,Qhe),a=oe({},n,{component:o}),d=epe(a);return F.jsx(P2.Provider,{value:rpe,children:F.jsx(tpe,oe({className:Ft(d.root,i),as:o,ref:r,role:o===h5?null:"rowgroup",ownerState:a},s))})}),gW=npe;function ipe(e){return or("MuiTableCell",e)}const ope=ar("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ape=ope,spe=["align","className","component","padding","scope","size","sortDirection","variant"],lpe=e=>{const{classes:t,variant:r,align:n,padding:i,size:o,stickyHeader:s}=e,a={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${wt(n)}`,i!=="normal"&&`padding${wt(i)}`,`size${wt(o)}`]};return lr(a,ipe,t)},cpe=Et("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${wt(r.size)}`],r.padding!=="normal"&&t[`padding${wt(r.padding)}`],r.align!=="inherit"&&t[`align${wt(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>oe({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?YI(zn(e.palette.divider,1),.88):GI(zn(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${ape.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),upe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:d,size:h,sortDirection:g,variant:v}=n,b=Nt(n,spe),M=W.useContext(pW),A=W.useContext(P2),w=A&&A.variant==="head";let P;s?P=s:P=w?"th":"td";let O=d;P==="td"?O=void 0:!O&&w&&(O="col");const I=v||A&&A.variant,T=oe({},n,{align:i,component:P,padding:a||(M&&M.padding?M.padding:"normal"),size:h||(M&&M.size?M.size:"medium"),sortDirection:g,stickyHeader:I==="head"&&M&&M.stickyHeader,variant:I}),R=lpe(T);let z=null;return g&&(z=g==="asc"?"ascending":"descending"),F.jsx(cpe,oe({as:P,ref:r,className:Ft(R.root,o),"aria-sort":z,scope:O,ownerState:T},b))}),Js=upe;function fpe(e){return or("MuiTableHead",e)}ar("MuiTableHead",["root"]);const dpe=["className","component"],hpe=e=>{const{classes:t}=e;return lr({root:["root"]},fpe,t)},ppe=Et("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),mpe={variant:"head"},p5="thead",gpe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableHead"}),{className:i,component:o=p5}=n,s=Nt(n,dpe),a=oe({},n,{component:o}),d=hpe(a);return F.jsx(P2.Provider,{value:mpe,children:F.jsx(ppe,oe({as:o,className:Ft(d.root,i),ref:r,role:o===p5?null:"rowgroup",ownerState:a},s))})}),ype=gpe;function vpe(e){return or("MuiToolbar",e)}ar("MuiToolbar",["root","gutters","regular","dense"]);const _pe=["className","component","disableGutters","variant"],xpe=e=>{const{classes:t,disableGutters:r,variant:n}=e;return lr({root:["root",!r&&"gutters",n]},vpe,t)},bpe=Et("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),wpe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=n,d=Nt(n,_pe),h=oe({},n,{component:o,disableGutters:s,variant:a}),g=xpe(h);return F.jsx(bpe,oe({as:o,className:Ft(g.root,i),ref:r,ownerState:h},d))}),A2=wpe;function Spe(e){return or("MuiTableRow",e)}const Epe=ar("MuiTableRow",["root","selected","hover","head","footer"]),m5=Epe,Cpe=["className","component","hover","selected"],Tpe=e=>{const{classes:t,selected:r,hover:n,head:i,footer:o}=e;return lr({root:["root",r&&"selected",n&&"hover",i&&"head",o&&"footer"]},Spe,t)},kpe=Et("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${m5.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${m5.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),g5="tr",Ppe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableRow"}),{className:i,component:o=g5,hover:s=!1,selected:a=!1}=n,d=Nt(n,Cpe),h=W.useContext(P2),g=oe({},n,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),v=Tpe(g);return F.jsx(kpe,oe({as:o,ref:r,className:Ft(v.root,i),role:o===g5?null:"row",ownerState:g},d))}),s1=Ppe;function Ape(e){return or("MuiTextField",e)}ar("MuiTextField",["root"]);const Mpe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Ope={standard:oW,filled:rW,outlined:hR},Ipe=e=>{const{classes:t}=e;return lr({root:["root"]},Ape,t)},Rpe=Et(T0,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$pe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:d="primary",defaultValue:h,disabled:g=!1,error:v=!1,FormHelperTextProps:b,fullWidth:M=!1,helperText:A,id:w,InputLabelProps:P,inputProps:O,InputProps:I,inputRef:T,label:R,maxRows:z,minRows:j,multiline:V=!1,name:Z,onBlur:ie,onChange:ne,onClick:ae,onFocus:de,placeholder:pe,required:Pe=!1,rows:be,select:he=!1,SelectProps:ve,type:Se,value:ye,variant:Ie="outlined"}=n,Xe=Nt(n,Mpe),Ee=oe({},n,{autoFocus:o,color:d,disabled:g,error:v,fullWidth:M,multiline:V,required:Pe,select:he,variant:Ie}),De=Ipe(Ee),Oe={};Ie==="outlined"&&(P&&typeof P.shrink<"u"&&(Oe.notched=P.shrink),Oe.label=R),he&&((!ve||!ve.native)&&(Oe.id=void 0),Oe["aria-describedby"]=void 0);const Ge=ct=>{!g&&ae&&(ct.stopPropagation(),ae(ct))},Be=RI(w),at=A&&Be?`${Be}-helper-text`:void 0,nt=R&&Be?`${Be}-label`:void 0,Ve=Ope[Ie],Je=F.jsx(Ve,oe({"aria-describedby":at,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:M,multiline:V,name:Z,rows:be,maxRows:z,minRows:j,type:Se,value:ye,id:Be,inputRef:T,onBlur:ie,onChange:ne,onFocus:de,onClick:Ge,placeholder:pe,inputProps:O},Oe,I));return F.jsxs(Rpe,oe({className:Ft(De.root,a),disabled:g,error:v,fullWidth:M,ref:r,required:Pe,color:d,variant:Ie,ownerState:Ee,onClick:Ge},Xe,{children:[R!=null&&R!==""&&F.jsx(k0,oe({htmlFor:Be,id:nt},P,{children:R})),he?F.jsx(P0,oe({"aria-describedby":at,id:Be,labelId:nt,value:ye,input:Je},ve,{children:s})):Je,A&&F.jsx(rfe,oe({id:at},b,{children:A}))]}))}),da=$pe,M2=(e,t)=>{const r=nc(),n=W.useRef();W.useEffect(()=>(e().then(i=>n.current=i).catch(i=>r(xte.push(i.message))),()=>{const i=n.current;i&&i()}),[...t,r])};function yW(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}var y5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T_=(typeof window>"u"?"undefined":y5(window))==="object"&&(typeof document>"u"?"undefined":y5(document))==="object"&&document.nodeType===9;function v5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B8(n.key),n)}}function vW(e,t,r){return t&&v5(e.prototype,t),r&&v5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Dpe={}.constructor;function wA(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(wA);if(e.constructor!==Dpe)return e;var t={};for(var r in e)t[r]=wA(e[r]);return t}function mR(e,t,r){e===void 0&&(e="unnamed");var n=r.jss,i=wA(t),o=n.plugins.onCreateRule(e,i,r);return o||(e[0],null)}var _5=function(t,r){for(var n="",i=0;i<t.length&&t[i]!=="!important";i++)n&&(n+=r),n+=t[i];return n},Ud=function(t){if(!Array.isArray(t))return t;var r="";if(Array.isArray(t[0]))for(var n=0;n<t.length&&t[n]!=="!important";n++)r&&(r+=", "),r+=_5(t[n]," ");else r=_5(t,", ");return t[t.length-1]==="!important"&&(r+=" !important"),r};function ug(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Gy(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function A0(e,t,r){r===void 0&&(r={});var n="";if(!t)return n;var i=r,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;r.format===!1&&(s=-1/0);var d=ug(r),h=d.linebreak,g=d.space;if(e&&s++,a)if(Array.isArray(a))for(var v=0;v<a.length;v++){var b=a[v];for(var M in b){var A=b[M];A!=null&&(n&&(n+=h),n+=Gy(M+":"+g+Ud(A)+";",s))}}else for(var w in a){var P=a[w];P!=null&&(n&&(n+=h),n+=Gy(w+":"+g+Ud(P)+";",s))}for(var O in t){var I=t[O];I!=null&&O!=="fallbacks"&&(n&&(n+=h),n+=Gy(O+":"+g+Ud(I)+";",s))}return!n&&!r.allowEmpty||!e?n:(s--,n&&(n=""+h+n+h),Gy(""+e+g+"{"+n,s)+Gy("}",s))}var Lpe=/([[\].#*$><+~=|^:(),"'`\s])/g,x5=typeof CSS<"u"&&CSS.escape,gR=function(e){return x5?x5(e):e.replace(Lpe,"\\$1")},_W=function(){function e(r,n,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=r,this.options=i,this.style=n,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(n,i,o){if(i===void 0)return this.style[n];var s=o?o.force:!1;if(!s&&this.style[n]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,n,this));var d=a==null||a===!1,h=n in this.style;if(d&&!h&&!s)return this;var g=d&&h;if(g?delete this.style[n]:this.style[n]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,a),this;var v=this.options.sheet;return v&&v.attached,this},e}(),SA=function(e){b_(t,e);function t(n,i,o){var s;s=e.call(this,n,i,o)||this;var a=o.selector,d=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:d!==!1&&(s.id=g(w0(w0(s)),h),s.selectorText="."+gR(s.id)),s}var r=t.prototype;return r.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},r.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=Ud(s))}return i},r.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?vn({},i,{allowEmpty:!0}):i;return A0(this.selectorText,this.style,a)},vW(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(_W),zpe={onCreateRule:function(t,r,n){return t[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new SA(t,r,n)}},FT={indent:1,children:!0},Npe=/@([\w-]+)/,jpe=function(){function e(r,n,i){this.type="conditional",this.isProcessed=!1,this.key=r;var o=r.match(Npe);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new O2(vn({},i,{parent:this}));for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(n){return this.rules.get(n)},t.indexOf=function(n){return this.rules.indexOf(n)},t.addRule=function(n,i,o){var s=this.rules.add(n,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(n,i,o){var s=this.rules.replace(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(n){n===void 0&&(n=FT);var i=ug(n),o=i.linebreak;if(n.indent==null&&(n.indent=FT.indent),n.children==null&&(n.children=FT.children),n.children===!1)return this.query+" {}";var s=this.rules.toString(n);return s?this.query+" {"+o+s+o+"}":""},e}(),Bpe=/@container|@media|@supports\s+/,Fpe={onCreateRule:function(t,r,n){return Bpe.test(t)?new jpe(t,r,n):null}},UT={indent:1,children:!0},Upe=/@keyframes\s+([\w-]+)/,EA=function(){function e(r,n,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=r.match(Upe);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,d=i.generateId;this.id=s===!1?this.name:gR(d(this,a)),this.rules=new O2(vn({},i,{parent:this}));for(var h in n)this.rules.add(h,n[h],vn({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(n){n===void 0&&(n=UT);var i=ug(n),o=i.linebreak;if(n.indent==null&&(n.indent=UT.indent),n.children==null&&(n.children=UT.children),n.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(n);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),Vpe=/@keyframes\s+/,Wpe=/\$([\w-]+)/g,CA=function(t,r){return typeof t=="string"?t.replace(Wpe,function(n,i){return i in r?r[i]:n}):t},b5=function(t,r,n){var i=t[r],o=CA(i,n);o!==i&&(t[r]=o)},qpe={onCreateRule:function(t,r,n){return typeof t=="string"&&Vpe.test(t)?new EA(t,r,n):null},onProcessStyle:function(t,r,n){return r.type!=="style"||!n||("animation-name"in t&&b5(t,"animation-name",n.keyframes),"animation"in t&&b5(t,"animation",n.keyframes)),t},onChangeValue:function(t,r,n){var i=n.options.sheet;if(!i)return t;switch(r){case"animation":return CA(t,i.keyframes);case"animation-name":return CA(t,i.keyframes);default:return t}}},Hpe=function(e){b_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?vn({},i,{allowEmpty:!0}):i;return A0(this.key,this.style,a)},t}(_W),Gpe={onCreateRule:function(t,r,n){return n.parent&&n.parent.type==="keyframes"?new Hpe(t,r,n):null}},Ype=function(){function e(r,n,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var t=e.prototype;return t.toString=function(n){var i=ug(n),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=A0(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return A0(this.at,this.style,n)},e}(),Kpe=/@font-face/,Zpe={onCreateRule:function(t,r,n){return Kpe.test(t)?new Ype(t,r,n):null}},Xpe=function(){function e(r,n,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var t=e.prototype;return t.toString=function(n){return A0(this.key,this.style,n)},e}(),Jpe={onCreateRule:function(t,r,n){return t==="@viewport"||t==="@-ms-viewport"?new Xpe(t,r,n):null}},Qpe=function(){function e(r,n,i){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=i}var t=e.prototype;return t.toString=function(n){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),eme={"@charset":!0,"@import":!0,"@namespace":!0},tme={onCreateRule:function(t,r,n){return t in eme?new Qpe(t,r,n):null}},w5=[zpe,Fpe,qpe,Gpe,Zpe,Jpe,tme],rme={process:!0},S5={force:!0,process:!0},O2=function(){function e(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var t=e.prototype;return t.add=function(n,i,o){var s=this.options,a=s.parent,d=s.sheet,h=s.jss,g=s.Renderer,v=s.generateId,b=s.scoped,M=vn({classes:this.classes,parent:a,sheet:d,jss:h,Renderer:g,generateId:v,scoped:b,name:n,keyframes:this.keyframes,selector:void 0},o),A=n;n in this.raw&&(A=n+"-d"+this.counter++),this.raw[A]=i,A in this.classes&&(M.selector="."+gR(this.classes[A]));var w=mR(A,i,M);if(!w)return null;this.register(w);var P=M.index===void 0?this.index.length:M.index;return this.index.splice(P,0,w),w},t.replace=function(n,i,o){var s=this.get(n),a=this.index.indexOf(s);s&&this.remove(s);var d=o;return a!==-1&&(d=vn({},o,{index:a})),this.add(n,i,d)},t.get=function(n){return this.map[n]},t.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},t.indexOf=function(n){return this.index.indexOf(n)},t.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},t.register=function(n){this.map[n.key]=n,n instanceof SA?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof EA&&this.keyframes&&(this.keyframes[n.name]=n.id)},t.unregister=function(n){delete this.map[n.key],n instanceof SA?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof EA&&delete this.keyframes[n.name]},t.update=function(){var n,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(n,i,o){o===void 0&&(o=rme);var s=this.options,a=s.jss.plugins,d=s.sheet;if(n.rules instanceof e){n.rules.update(i,o);return}var h=n.style;if(a.onUpdate(i,n,d,o),o.process&&h&&h!==n.style){a.onProcessStyle(n.style,n,d);for(var g in n.style){var v=n.style[g],b=h[g];v!==b&&n.prop(g,v,S5)}for(var M in h){var A=n.style[M],w=h[M];A==null&&A!==w&&n.prop(M,null,S5)}}},t.toString=function(n){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=ug(n),d=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],v=g.toString(n);!v&&!s||(i&&(i+=d),i+=v)}return i},e}(),xW=function(){function e(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=vn({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new O2(this.options);for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(n,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(n,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(n,i,o){var s=this.rules.get(n);if(!s)return this.addRule(n,i,o);var a=this.rules.replace(n,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},t.addRules=function(n,i){var o=[];for(var s in n){var a=this.addRule(s,n[s],i);a&&o.push(a)}return o},t.getRule=function(n){return this.rules.get(n)},t.deleteRule=function(n){var i=typeof n=="object"?n:this.rules.get(n);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(n){return this.rules.indexOf(n)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},t.updateOne=function(n,i,o){return this.rules.updateOne(n,i,o),this},t.toString=function(n){return this.rules.toString(n)},e}(),nme=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(n,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](n,i,o);if(a)return a}return null},t.onProcessRule=function(n){if(!n.isProcessed){for(var i=n.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](n,i);n.style&&this.onProcessStyle(n.style,n,i),n.isProcessed=!0}},t.onProcessStyle=function(n,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(n){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](n)},t.onUpdate=function(n,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](n,i,o,s)},t.onChangeValue=function(n,i,o){for(var s=n,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(n,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(n)===-1&&(o.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var d in a)d in s&&s[d].push(a[d]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ime=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(n){var i=this.registry,o=n.options.index;if(i.indexOf(n)===-1){if(i.length===0||o>=this.index){i.push(n);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,n);return}}},t.reset=function(){this.registry=[]},t.remove=function(n){var i=this.registry.indexOf(n);this.registry.splice(i,1)},t.toString=function(n){for(var i=n===void 0?{}:n,o=i.attached,s=g_(i,["attached"]),a=ug(s),d=a.linebreak,h="",g=0;g<this.registry.length;g++){var v=this.registry[g];o!=null&&v.attached!==o||(h&&(h+=d),h+=v.toString(s))}return h},vW(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),Bv=new ime,TA=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),kA="2f1acc6c3a606b082e5eef5e54414ffb";TA[kA]==null&&(TA[kA]=0);var E5=TA[kA]++,C5=function(t){t===void 0&&(t={});var r=0,n=function(o,s){r+=1;var a="",d="";return s&&(s.options.classNamePrefix&&(d=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(d||"c")+E5+a+r:d+o.key+"-"+E5+(a?"-"+a:"")+"-"+r};return n},bW=function(t){var r;return function(){return r||(r=t()),r}},ome=function(t,r){try{return t.attributeStyleMap?t.attributeStyleMap.get(r):t.style.getPropertyValue(r)}catch{return""}},ame=function(t,r,n){try{var i=n;if(Array.isArray(n)&&(i=Ud(n)),t.attributeStyleMap)t.attributeStyleMap.set(r,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(r,s,o>-1?"important":"")}}catch{return!1}return!0},sme=function(t,r){try{t.attributeStyleMap?t.attributeStyleMap.delete(r):t.style.removeProperty(r)}catch{}},lme=function(t,r){return t.selectorText=r,t.selectorText===r},wW=bW(function(){return document.querySelector("head")});function cme(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}function ume(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}function fme(e){for(var t=wW(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===e)return n}return null}function dme(e){var t=Bv.registry;if(t.length>0){var r=cme(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=ume(t,e),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&typeof n=="string"){var i=fme(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function hme(e,t){var r=t.insertionPoint,n=dme(t);if(n!==!1&&n.parent){n.parent.insertBefore(e,n.node);return}if(r&&typeof r.nodeType=="number"){var i=r,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}wW().appendChild(e)}var pme=bW(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),T5=function(t,r,n){try{"insertRule"in t?t.insertRule(r,n):"appendRule"in t&&t.appendRule(r)}catch{return!1}return t.cssRules[n]},k5=function(t,r){var n=t.cssRules.length;return r===void 0||r>n?n:r},mme=function(){var t=document.createElement("style");return t.textContent=`
`,t},gme=function(){function e(r){this.getPropertyValue=ome,this.setProperty=ame,this.removeProperty=sme,this.setSelector=lme,this.hasInsertedRules=!1,this.cssRules=[],r&&Bv.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},i=n.media,o=n.meta,s=n.element;this.element=s||mme(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=pme();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){hme(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},t.insertRules=function(n,i){for(var o=0;o<n.index.length;o++)this.insertRule(n.index[o],o,i)},t.insertRule=function(n,i,o){if(o===void 0&&(o=this.element.sheet),n.rules){var s=n,a=o;if(n.type==="conditional"||n.type==="keyframes"){var d=k5(o,i);if(a=T5(o,s.toString({children:!1}),d),a===!1)return!1;this.refCssRule(n,d,a)}return this.insertRules(s.rules,a),a}var h=n.toString();if(!h)return!1;var g=k5(o,i),v=T5(o,h,g);return v===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,g,v),v)},t.refCssRule=function(n,i,o){n.renderable=o,n.options.parent instanceof xW&&this.cssRules.splice(i,0,o)},t.deleteRule=function(n){var i=this.element.sheet,o=this.indexOf(n);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(n){return this.cssRules.indexOf(n)},t.replaceRule=function(n,i){var o=this.indexOf(n);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),yme=0,vme=function(){function e(r){this.id=yme++,this.version="10.10.0",this.plugins=new nme,this.options={id:{minify:!1},createGenerateId:C5,Renderer:T_?gme:null,plugins:[]},this.generateId=C5({minify:!1});for(var n=0;n<w5.length;n++)this.plugins.use(w5[n],{queue:"internal"});this.setup(r)}var t=e.prototype;return t.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=vn({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},t.createStyleSheet=function(n,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=Bv.index===0?0:Bv.index+1);var a=new xW(n,vn({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(n){return n.detach(),Bv.remove(n),this},t.createRule=function(n,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof n=="object")return this.createRule(void 0,n,i);var s=vn({},o,{name:n,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=mR(n,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){n.plugins.use(a)}),this},e}(),SW=function(t){return new vme(t)},yR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function EW(e){var t=null;for(var r in e){var n=e[r],i=typeof n;if(i==="function")t||(t={}),t[r]=n;else if(i==="object"&&n!==null&&!Array.isArray(n)){var o=EW(n);o&&(t||(t={}),t[r]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */SW();function CW(e={}){const{baseClasses:t,newClasses:r,Component:n}=e;if(!r)return t;const i=yf({},t);return Object.keys(r).forEach(o=>{r[o]&&(i[o]=`${t[o]} ${r[o]}`)}),i}const _me={set:(e,t,r,n)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:(e,t,r)=>{const n=e.get(t);return n?n.get(r):void 0},delete:(e,t,r)=>{e.get(t).delete(r)}},Up=_me;function xme(){var e;const t=KI();return(e=t==null?void 0:t.$$material)!=null?e:t}const bme=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function wme(e={}){const{disableGlobal:t=!1,productionPrefix:r="jss",seed:n=""}=e,i=n===""?"":`${n}-`;let o=0;const s=()=>(o+=1,o);return(a,d)=>{const h=d.options.name;if(h&&h.indexOf("Mui")===0&&!d.options.link&&!t){if(bme.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!d.options.theme[AV]||n!==""?g:`${g}-${s()}`}return`${i}${r}${s()}`}}var TW=Date.now(),VT="fnValues"+TW,WT="fnStyle"+ ++TW,Sme=function(){return{onCreateRule:function(r,n,i){if(typeof n!="function")return null;var o=mR(r,{},i);return o[WT]=n,o},onProcessStyle:function(r,n){if(VT in n||WT in n)return r;var i={};for(var o in r){var s=r[o];typeof s=="function"&&(delete r[o],i[o]=s)}return n[VT]=i,r},onUpdate:function(r,n,i,o){var s=n,a=s[WT];a&&(s.style=a(r)||{});var d=s[VT];if(d)for(var h in d)s.prop(h,d[h](r),o)}}};const Eme=Sme;var vf="@global",PA="@global ",Cme=function(){function e(r,n,i){this.type="global",this.at=vf,this.isProcessed=!1,this.key=r,this.options=i,this.rules=new O2(vn({},i,{parent:this}));for(var o in n)this.rules.add(o,n[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(n){return this.rules.get(n)},t.addRule=function(n,i,o){var s=this.rules.add(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(n,i,o){var s=this.rules.replace(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(n){return this.rules.indexOf(n)},t.toString=function(n){return this.rules.toString(n)},e}(),Tme=function(){function e(r,n,i){this.type="global",this.at=vf,this.isProcessed=!1,this.key=r,this.options=i;var o=r.substr(PA.length);this.rule=i.jss.createRule(o,n,vn({},i,{parent:this}))}var t=e.prototype;return t.toString=function(n){return this.rule?this.rule.toString(n):""},e}(),kme=/\s*,\s*/g;function kW(e,t){for(var r=e.split(kme),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}function Pme(e,t){var r=e.options,n=e.style,i=n?n[vf]:null;if(i){for(var o in i)t.addRule(o,i[o],vn({},r,{selector:kW(o,e.selector)}));delete n[vf]}}function Ame(e,t){var r=e.options,n=e.style;for(var i in n)if(!(i[0]!=="@"||i.substr(0,vf.length)!==vf)){var o=kW(i.substr(vf.length),e.selector);t.addRule(o,n[i],vn({},r,{selector:o})),delete n[i]}}function Mme(){function e(r,n,i){if(!r)return null;if(r===vf)return new Cme(r,n,i);if(r[0]==="@"&&r.substr(0,PA.length)===PA)return new Tme(r,n,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=r),null}function t(r,n){r.type!=="style"||!n||(Pme(r,n),Ame(r,n))}return{onCreateRule:e,onProcessRule:t}}var P5=/\s*,\s*/g,Ome=/&/g,Ime=/\$([\w-]+)/g;function Rme(){function e(i,o){return function(s,a){var d=i.getRule(a)||o&&o.getRule(a);return d?d.selector:a}}function t(i,o){for(var s=o.split(P5),a=i.split(P5),d="",h=0;h<s.length;h++)for(var g=s[h],v=0;v<a.length;v++){var b=a[v];d&&(d+=", "),d+=b.indexOf("&")!==-1?b.replace(Ome,g):g+" "+b}return d}function r(i,o,s){if(s)return vn({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var d=vn({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete d.name,d}function n(i,o,s){if(o.type!=="style")return i;var a=o,d=a.options.parent,h,g;for(var v in i){var b=v.indexOf("&")!==-1,M=v[0]==="@";if(!(!b&&!M)){if(h=r(a,d,h),b){var A=t(v,a.selector);g||(g=e(d,s)),A=A.replace(Ime,g);var w=a.key+"-"+v;"replaceRule"in d?d.replaceRule(w,i[v],vn({},h,{selector:A})):d.addRule(w,i[v],vn({},h,{selector:A}))}else M&&d.addRule(v,{},h).addRule(a.key,i[v],{selector:a.selector});delete i[v]}}return i}return{onProcessStyle:n}}var $me=/[A-Z]/g,Dme=/^ms-/,qT={};function Lme(e){return"-"+e.toLowerCase()}function PW(e){if(qT.hasOwnProperty(e))return qT[e];var t=e.replace($me,Lme);return qT[e]=Dme.test(t)?"-"+t:t}function ow(e){var t={};for(var r in e){var n=r.indexOf("--")===0?r:PW(r);t[n]=e[r]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ow):t.fallbacks=ow(e.fallbacks)),t}function zme(){function e(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=ow(r[n]);return r}return ow(r)}function t(r,n,i){if(n.indexOf("--")===0)return r;var o=PW(n);return n===o?r:(i.prop(o,r),null)}return{onProcessStyle:e,onChangeValue:t}}var st=yR&&CSS?CSS.px:"px",Sb=yR&&CSS?CSS.ms:"ms",pp=yR&&CSS?CSS.percent:"%",Nme={"animation-delay":Sb,"animation-duration":Sb,"background-position":st,"background-position-x":st,"background-position-y":st,"background-size":st,border:st,"border-bottom":st,"border-bottom-left-radius":st,"border-bottom-right-radius":st,"border-bottom-width":st,"border-left":st,"border-left-width":st,"border-radius":st,"border-right":st,"border-right-width":st,"border-top":st,"border-top-left-radius":st,"border-top-right-radius":st,"border-top-width":st,"border-width":st,"border-block":st,"border-block-end":st,"border-block-end-width":st,"border-block-start":st,"border-block-start-width":st,"border-block-width":st,"border-inline":st,"border-inline-end":st,"border-inline-end-width":st,"border-inline-start":st,"border-inline-start-width":st,"border-inline-width":st,"border-start-start-radius":st,"border-start-end-radius":st,"border-end-start-radius":st,"border-end-end-radius":st,margin:st,"margin-bottom":st,"margin-left":st,"margin-right":st,"margin-top":st,"margin-block":st,"margin-block-end":st,"margin-block-start":st,"margin-inline":st,"margin-inline-end":st,"margin-inline-start":st,padding:st,"padding-bottom":st,"padding-left":st,"padding-right":st,"padding-top":st,"padding-block":st,"padding-block-end":st,"padding-block-start":st,"padding-inline":st,"padding-inline-end":st,"padding-inline-start":st,"mask-position-x":st,"mask-position-y":st,"mask-size":st,height:st,width:st,"min-height":st,"max-height":st,"min-width":st,"max-width":st,bottom:st,left:st,top:st,right:st,inset:st,"inset-block":st,"inset-block-end":st,"inset-block-start":st,"inset-inline":st,"inset-inline-end":st,"inset-inline-start":st,"box-shadow":st,"text-shadow":st,"column-gap":st,"column-rule":st,"column-rule-width":st,"column-width":st,"font-size":st,"font-size-delta":st,"letter-spacing":st,"text-decoration-thickness":st,"text-indent":st,"text-stroke":st,"text-stroke-width":st,"word-spacing":st,motion:st,"motion-offset":st,outline:st,"outline-offset":st,"outline-width":st,perspective:st,"perspective-origin-x":pp,"perspective-origin-y":pp,"transform-origin":pp,"transform-origin-x":pp,"transform-origin-y":pp,"transform-origin-z":pp,"transition-delay":Sb,"transition-duration":Sb,"vertical-align":st,"flex-basis":st,"shape-margin":st,size:st,gap:st,grid:st,"grid-gap":st,"row-gap":st,"grid-row-gap":st,"grid-column-gap":st,"grid-template-rows":st,"grid-template-columns":st,"grid-auto-rows":st,"grid-auto-columns":st,"box-shadow-x":st,"box-shadow-y":st,"box-shadow-blur":st,"box-shadow-spread":st,"font-line-height":st,"text-shadow-x":st,"text-shadow-y":st,"text-shadow-blur":st};function AW(e){var t=/(-[a-z])/g,r=function(s){return s[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}var jme=AW(Nme);function Fv(e,t,r){if(t==null)return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Fv(e,t[n],r);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=Fv(i,t[i],r);else for(var o in t)t[o]=Fv(e+"-"+o,t[o],r);else if(typeof t=="number"&&isNaN(t)===!1){var s=r[e]||jme[e];return s&&!(t===0&&s===st)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function Bme(e){e===void 0&&(e={});var t=AW(e);function r(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=Fv(s,i[s],t);return i}function n(i,o){return Fv(o,i,t)}return{onProcessStyle:r,onChangeValue:n}}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fme(e){if(Array.isArray(e))return AA(e)}function Ume(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vme(e,t){if(e){if(typeof e=="string")return AA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AA(e,t)}}function Wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qme(e){return Fme(e)||Ume(e)||Vme(e)||Wme()}var _v="",MA="",MW="",OW="",Hme=T_&&"ontouchstart"in document.documentElement;if(T_){var HT={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Gme=document.createElement("p"),GT=Gme.style,Yme="Transform";for(var YT in HT)if(YT+Yme in GT){_v=YT,MA=HT[YT];break}_v==="Webkit"&&"msHyphens"in GT&&(_v="ms",MA=HT.ms,OW="edge"),_v==="Webkit"&&"-apple-trailing-word"in GT&&(MW="apple")}var wr={js:_v,css:MA,vendor:MW,browser:OW,isTouch:Hme};function Kme(e){return e[1]==="-"||wr.js==="ms"?e:"@"+wr.css+"keyframes"+e.substr(10)}var Zme={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:wr.js==="ms"?"-webkit-"+t:wr.css+t}},Xme={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:wr.js==="Webkit"?wr.css+"print-"+t:t}},Jme=/[-\s]+(.)?/g;function Qme(e,t){return t?t.toUpperCase():""}function vR(e){return e.replace(Jme,Qme)}function Pf(e){return vR("-"+e)}var ege={noPrefill:["mask"],supportedProperty:function(t,r){if(!/^mask/.test(t))return!1;if(wr.js==="Webkit"){var n="mask-image";if(vR(n)in r)return t;if(wr.js+Pf(n)in r)return wr.css+t}return t}},tge={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:wr.vendor==="apple"&&!wr.isTouch?wr.css+t:t}},rge={noPrefill:["transform"],supportedProperty:function(t,r,n){return t!=="transform"?!1:n.transform?t:wr.css+t}},nge={noPrefill:["transition"],supportedProperty:function(t,r,n){return t!=="transition"?!1:n.transition?t:wr.css+t}},ige={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:wr.js==="Webkit"||wr.js==="ms"&&wr.browser!=="edge"?wr.css+t:t}},oge={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:wr.js==="Moz"||wr.js==="ms"||wr.vendor==="apple"?wr.css+t:t}},age={supportedProperty:function(t,r){if(!/^break-/.test(t))return!1;if(wr.js==="Webkit"){var n="WebkitColumn"+Pf(t);return n in r?wr.css+"column-"+t:!1}if(wr.js==="Moz"){var i="page"+Pf(t);return i in r?"page-"+t:!1}return!1}},sge={supportedProperty:function(t,r){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(wr.js==="Moz")return t;var n=t.replace("-inline","");return wr.js+Pf(n)in r?wr.css+n:!1}},lge={supportedProperty:function(t,r){return vR(t)in r?t:!1}},cge={supportedProperty:function(t,r){var n=Pf(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:wr.js+n in r?wr.css+t:wr.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+t:!1}},uge={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:wr.js==="ms"?""+wr.css+t:t}},fge={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:wr.js==="ms"?wr.css+"scroll-chaining":t}},dge={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},hge={supportedProperty:function(t,r){var n=dge[t];return n&&wr.js+Pf(n)in r?wr.css+n:!1}},IW={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},pge=Object.keys(IW),mge=function(t){return wr.css+t},gge={supportedProperty:function(t,r,n){var i=n.multiple;if(pge.indexOf(t)>-1){var o=IW[t];if(!Array.isArray(o))return wr.js+Pf(o)in r?wr.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(wr.js+Pf(o[0])in r))return!1;return o.map(mge)}return!1}},RW=[Zme,Xme,ege,tge,rge,nge,ige,oge,age,sge,lge,cge,uge,fge,hge,gge],A5=RW.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),yge=RW.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,qme(t.noPrefill)),e},[]),xv,Td={};if(T_){xv=document.createElement("p");var KT=window.getComputedStyle(document.documentElement,"");for(var ZT in KT)isNaN(ZT)||(Td[KT[ZT]]=KT[ZT]);yge.forEach(function(e){return delete Td[e]})}function OA(e,t){if(t===void 0&&(t={}),!xv)return e;if(Td[e]!=null)return Td[e];(e==="transition"||e==="transform")&&(t[e]=e in xv.style);for(var r=0;r<A5.length&&(Td[e]=A5[r](e,xv.style,t),!Td[e]);r++);try{xv.style[e]=""}catch{return!1}return Td[e]}var mp={},vge={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},_ge=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Fu;function xge(e,t,r){if(t==="var")return"var";if(t==="all")return"all";if(r==="all")return", all";var n=t?OA(t):", "+OA(r);return n||t||r}T_&&(Fu=document.createElement("p"));function M5(e,t){var r=t;if(!Fu||e==="content")return t;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=e+r;if(mp[n]!=null)return mp[n];try{Fu.style[e]=r}catch{return mp[n]=!1,!1}if(vge[e])r=r.replace(_ge,xge);else if(Fu.style[e]===""&&(r=wr.css+r,r==="-ms-flex"&&(Fu.style[e]="-ms-flexbox"),Fu.style[e]=r,Fu.style[e]===""))return mp[n]=!1,!1;return Fu.style[e]="",mp[n]=r,mp[n]}function bge(){function e(i){if(i.type==="keyframes"){var o=i;o.at=Kme(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,d=OA(o);d&&d!==o&&(a=!0);var h=!1,g=M5(d,Ud(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[d||o]=g||s)}return i}function r(i,o){return o.type!=="style"?i:t(i)}function n(i,o){return M5(o,Ud(i))||i}return{onProcessRule:e,onProcessStyle:r,onChangeValue:n}}function wge(){var e=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var i={},o=Object.keys(r).sort(e),s=0;s<o.length;s++)i[o[s]]=r[o[s]];return i}}}function Sge(){return{plugins:[Eme(),Mme(),Rme(),zme(),Bme(),typeof window>"u"?null:bge(),wge()]}}const Ege=SW(Sge()),Cge=wme(),Tge=new Map,kge={disableGeneration:!1,generateClassName:Cge,jss:Ege,sheetsCache:null,sheetsManager:Tge,sheetsRegistry:null},Pge=W.createContext(kge);let O5=-1e9;function Age(){return O5+=1,O5}const Mge=["variant"];function I5(e){return e.length===0}function Oge(e){const{variant:t}=e,r=yW(e,Mge);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=I5(n)?e[i]:wt(e[i]):n+=`${I5(n)?i:wt(i)}${wt(e[i].toString())}`}),n}const Ige={},Rge=Ige;function $ge(e){const t=typeof e=="function";return{create:(r,n)=>{let i;try{i=t?e(r):e}catch(d){throw d}if(!n||!r.components||!r.components[n]||!r.components[n].styleOverrides&&!r.components[n].variants)return i;const o=r.components[n].styleOverrides||{},s=r.components[n].variants||[],a=yf({},i);return Object.keys(o).forEach(d=>{a[d]=Sa(a[d]||{},o[d])}),s.forEach(d=>{const h=Oge(d.props);a[h]=Sa(a[h]||{},d.style)}),a},options:{}}}const Dge=["name","classNamePrefix","Component","defaultTheme"];function Lge({state:e,stylesOptions:t},r,n){if(t.disableGeneration)return r||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),r!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=r,i=!0),i&&(e.cacheClasses.value=CW({baseClasses:e.cacheClasses.lastJSS,newClasses:r,Component:n})),e.cacheClasses.value}function zge({state:e,theme:t,stylesOptions:r,stylesCreator:n,name:i},o){if(r.disableGeneration)return;let s=Up.get(r.sheetsManager,n,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Up.set(r.sheetsManager,n,t,s));const a=yf({},n.options,r,{theme:t,flip:typeof r.flip=="boolean"?r.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const d=r.sheetsRegistry;if(s.refs===0){let h;r.sheetsCache&&(h=Up.get(r.sheetsCache,n,t));const g=n.create(t,i);h||(h=r.jss.createStyleSheet(g,yf({link:!1},a)),h.attach(),r.sheetsCache&&Up.set(r.sheetsCache,n,t,h)),d&&d.add(h),s.staticSheet=h,s.dynamicStyles=EW(g)}if(s.dynamicStyles){const h=r.jss.createStyleSheet(s.dynamicStyles,yf({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=CW({baseClasses:s.staticSheet.classes,newClasses:h.classes}),d&&d.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function Nge({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function jge({state:e,theme:t,stylesOptions:r,stylesCreator:n}){if(r.disableGeneration)return;const i=Up.get(r.sheetsManager,n,t);i.refs-=1;const o=r.sheetsRegistry;i.refs===0&&(Up.delete(r.sheetsManager,n,t),r.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function Bge(e,t){const r=W.useRef([]);let n;const i=W.useMemo(()=>({}),t);r.current!==i&&(r.current=i,n=e()),W.useEffect(()=>()=>{n&&n()},[i])}function Lo(e,t={}){const{name:r,classNamePrefix:n,Component:i,defaultTheme:o=Rge}=t,s=yW(t,Dge),a=$ge(e),d=r||n||"makeStyles";return a.options={index:Age(),name:r,meta:d,classNamePrefix:d},(g={})=>{const v=xme()||o,b=yf({},W.useContext(Pge),s),M=W.useRef(),A=W.useRef();return Bge(()=>{const P={name:r,state:{},stylesCreator:a,stylesOptions:b,theme:v};return zge(P,g),A.current=!1,M.current=P,()=>{jge(P)}},[v,a]),W.useEffect(()=>{A.current&&Nge(M.current,g),A.current=!0}),Lge(M.current,g.classes,i)}}const R5=4e3,Fge=()=>{const e=nc(),t=W.useRef(),[r,n]=W.useState(!0),i=()=>{const o=window.location.protocol==="https:"?"wss:":"ws:",s=new WebSocket(`${o}//${window.location.host}/api/socket`);t.current=s,console.log("funcion web socket"),s.onopen=()=>{e(hb.updateSocket(!0)),console.log("funcion web socket open")},s.onclose=async a=>{if(console.log("funcion web socket close"),e(hb.updateSocket(!1)),a.code!==R5){try{const d=await fetch("/api/devices");d.ok&&e(Lc.update(await d.json()));const h=await fetch("/api/positions");h.ok&&e(PT.updatePositions(await h.json())),d.status===401||h.status}catch{}setTimeout(()=>i(),6e4)}},s.onmessage=a=>{const d=JSON.parse(a.data);d.devices&&(d.devices.length>0?e(Lc.update(d.devices)):e(Lc.clear())),d.positions&&e(PT.updatePositions(d.positions)),d.camera&&e(PT.updateCamera(d.camera)),d.server&&(d.server.rosState==="connect"?e(hb.updateServer(!0)):e(hb.updateServer(!1)))}};return M2(async()=>r?(n(!1),(await fetch("/api/devices",{method:"GET"})).ok,console.log("primera conexion --s"),i(),()=>{const s=t.current;s&&s.close(R5)}):null,[]),F.jsx(F.Fragment,{})},Uge=Aee()(Fge),Vge=Lo(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),Wge=()=>{const e=Vge();return Lf(),F.jsxs(F.Fragment,{children:[F.jsx(Uge,{}),F.jsx("div",{className:e.page,children:F.jsx(_Q,{})})]})},qge=()=>{const{search:e}=TS();return W.useMemo(()=>new URLSearchParams(e),[e])};var $W={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(lv,function(){var r,n,i;function o(a,d){if(!r)r=d;else if(!n)n=d;else{var h="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",g={};r(g),i=d(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function d(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var h=g;function g(u,l){this.x=u,this.y=l}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,f=u.y-this.y;return l*l+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),f=Math.sin(u),m=f*this.x+l*this.y;return this.x=l*this.x-f*this.y,this.y=m,this},_rotateAround:function(u,l){var f=Math.cos(u),m=Math.sin(u),_=l.y+m*(this.x-l.x)+f*(this.y-l.y);return this.x=l.x+f*(this.x-l.x)-m*(this.y-l.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(u){return u instanceof g?u:Array.isArray(u)?new g(u[0],u[1]):u};var v=d(h),b=M;function M(u,l,f,m){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=f,this.p2y=m}M.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,m=0;m<8;m++){var _=this.sampleCurveX(f)-u;if(Math.abs(_)<l)return f;var E=this.sampleCurveDerivativeX(f);if(Math.abs(E)<1e-6)break;f-=_/E}var k=0,$=1;for(f=u,m=0;m<20&&(_=this.sampleCurveX(f),!(Math.abs(_-u)<l));m++)u>_?k=f:$=f,f=.5*($-k)+k;return f},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var A=d(b);function w(u,l,f,m){const _=new A(u,l,f,m);return function(E){return _.solve(E)}}const P=w(.25,.1,.25,1);function O(u,l,f){return Math.min(f,Math.max(l,u))}function I(u,l,f){const m=f-l,_=((u-l)%m+m)%m+l;return _===l?f:_}function T(u,...l){for(const f of l)for(const m in f)u[m]=f[m];return u}let R=1;function z(u,l,f){const m={};for(const _ in u)m[_]=l.call(f||this,u[_],_,u);return m}function j(u,l,f){const m={};for(const _ in u)l.call(f||this,u[_],_,u)&&(m[_]=u[_]);return m}function V(u){return Array.isArray(u)?u.map(V):typeof u=="object"&&u?z(u,V):u}const Z={};function ie(u){Z[u]||(typeof console<"u"&&console.warn(u),Z[u]=!0)}function ne(u,l,f){return(f.y-u.y)*(l.x-u.x)>(l.y-u.y)*(f.x-u.x)}function ae(u){let l=0;for(let f,m,_=0,E=u.length,k=E-1;_<E;k=_++)f=u[_],m=u[k],l+=(m.x-f.x)*(f.y+m.y);return l}function de(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let pe=null;function Pe(u){if(pe==null){const l=u.navigator?u.navigator.userAgent:null;pe=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return pe}function be(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ve,Se;const ye={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),f=l.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,f.drawImage(u,0,0,u.width,u.height),f},resolveURL:u=>(ve||(ve=document.createElement("a")),ve.href=u,ve.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Se==null&&(Se=matchMedia("(prefers-reduced-motion: reduce)")),Se.matches)}},Ie={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class Xe extends Error{constructor(l,f,m,_){super(`AJAXError: ${f} (${l}): ${m}`),this.status=l,this.statusText=f,this.url=m,this.body=_}}const Ee=de()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,De=u=>Ie.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function Oe(u,l){const f=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:Ee(),signal:f.signal});let _=!1,E=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),E||fetch(m).then(k=>k.ok?($=>{(u.type==="arrayBuffer"||u.type==="image"?$.arrayBuffer():u.type==="json"?$.json():$.text()).then(N=>{E||(_=!0,l(null,N,$.headers.get("Cache-Control"),$.headers.get("Expires")))}).catch(N=>{E||l(new Error(N.message))})})(k):k.blob().then($=>l(new Xe(k.status,k.statusText,u.url,$)))).catch(k=>{k.code!==20&&l(new Error(k.message))}),{cancel:()=>{E=!0,_||f.abort()}}}const Ge=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(de()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!de())return(De(u.url)||Oe)(u,l)}if(!(/^file:/.test(f=u.url)||/^file:/.test(Ee())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Oe(u,l);if(de()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var f;return function(m,_){const E=new XMLHttpRequest;E.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(E.responseType="arraybuffer");for(const k in m.headers)E.setRequestHeader(k,m.headers[k]);return m.type==="json"&&(E.responseType="text",E.setRequestHeader("Accept","application/json")),E.withCredentials=m.credentials==="include",E.onerror=()=>{_(new Error(E.statusText))},E.onload=()=>{if((E.status>=200&&E.status<300||E.status===0)&&E.response!==null){let k=E.response;if(m.type==="json")try{k=JSON.parse(E.response)}catch($){return _($)}_(null,k,E.getResponseHeader("Cache-Control"),E.getResponseHeader("Expires"))}else{const k=new Blob([E.response],{type:E.getResponseHeader("Content-Type")});_(new Xe(E.status,E.statusText,m.url,k))}},E.send(m.body),{cancel:()=>E.abort()}}(u,l)},Be=function(u,l){return Ge(T(u,{type:"arrayBuffer"}),l)};function at(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),f=window.location;return l.protocol===f.protocol&&l.host===f.host}function nt(u,l,f){f[u]&&f[u].indexOf(l)!==-1||(f[u]=f[u]||[],f[u].push(l))}function Ve(u,l,f){if(f&&f[u]){const m=f[u].indexOf(l);m!==-1&&f[u].splice(m,1)}}class Je{constructor(l,f={}){T(this,f),this.type=l}}class ct extends Je{constructor(l,f={}){super("error",T({error:l},f))}}class Fe{on(l,f){return this._listeners=this._listeners||{},nt(l,f,this._listeners),this}off(l,f){return Ve(l,f,this._listeners),Ve(l,f,this._oneTimeListeners),this}once(l,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},nt(l,f,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,f){typeof l=="string"&&(l=new Je(l,f||{}));const m=l.type;if(this.listens(m)){l.target=this;const _=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const $ of _)$.call(this,l);const E=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const $ of E)Ve(m,$,this._oneTimeListeners),$.call(this,l);const k=this._eventedParent;k&&(T(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),k.fire(l))}else l instanceof ct&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,f){return this._eventedParent=l,this._eventedParentData=f,this}}var Re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const St=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Zt(u,l){const f={};for(const m in u)m!=="ref"&&(f[m]=u[m]);return St.forEach(m=>{m in l&&(f[m]=l[m])}),f}function Ot(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let f=0;f<u.length;f++)if(!Ot(u[f],l[f]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const f in u)if(!Ot(u[f],l[f]))return!1;return!0}return u===l}const zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Mr(u,l,f){f.push({command:zt.addSource,args:[u,l[u]]})}function Vr(u,l,f){l.push({command:zt.removeSource,args:[u]}),f[u]=!0}function pr(u,l,f,m){Vr(u,f,m),Mr(u,l,f)}function Sr(u,l,f){let m;for(m in u[f])if(Object.prototype.hasOwnProperty.call(u[f],m)&&m!=="data"&&!Ot(u[f][m],l[f][m]))return!1;for(m in l[f])if(Object.prototype.hasOwnProperty.call(l[f],m)&&m!=="data"&&!Ot(u[f][m],l[f][m]))return!1;return!0}function cr(u,l,f,m,_,E){let k;for(k in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,k)&&(Ot(u[k],l[k])||f.push({command:E,args:[m,k,l[k],_]}));for(k in l)Object.prototype.hasOwnProperty.call(l,k)&&!Object.prototype.hasOwnProperty.call(u,k)&&(Ot(u[k],l[k])||f.push({command:E,args:[m,k,l[k],_]}))}function Er(u){return u.id}function an(u,l){return u[l.id]=l,u}class ut{constructor(l,f,m,_){this.message=(l?`${l}: `:"")+m,_&&(this.identifier=_),f!=null&&f.__line__&&(this.line=f.__line__)}}function Or(u,...l){for(const f of l)for(const m in f)u[m]=f[m];return u}class Xr extends Error{constructor(l,f){super(f),this.message=f,this.key=l}}class mr{constructor(l,f=[]){this.parent=l,this.bindings={};for(const[m,_]of f)this.bindings[m]=_}concat(l){return new mr(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Jt={kind:"null"},Ke={kind:"number"},At={kind:"string"},Rt={kind:"boolean"},Jr={kind:"color"},to={kind:"object"},Xt={kind:"value"},po={kind:"collator"},jo={kind:"formatted"},ka={kind:"padding"},mo={kind:"resolvedImage"},rs={kind:"variableAnchorOffsetCollection"};function gi(u,l){return{kind:"array",itemType:u,N:l}}function Wr(u){if(u.kind==="array"){const l=Wr(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const xl=[Jt,Ke,At,Rt,Jr,jo,to,gi(Xt),ka,mo,rs];function Bo(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Bo(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const f of xl)if(!Bo(f,l))return null}}return`Expected ${Wr(u)} but found ${Wr(l)} instead.`}function me(u,l){return l.some(f=>f.kind===u.kind)}function X(u,l){return l.some(f=>f==="null"?u===null:f==="array"?Array.isArray(u):f==="object"?u&&!Array.isArray(u)&&typeof u=="object":f===typeof u)}function Q(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const se=.96422,_e=.82521,Te=4/29,Le=6/29,Ae=3*Le*Le,ke=Le*Le*Le,je=Math.PI/180,Qe=180/Math.PI;function et(u){return(u%=360)<0&&(u+=360),u}function it([u,l,f,m]){let _,E;const k=nr((.2225045*(u=Vt(u))+.7168786*(l=Vt(l))+.0606169*(f=Vt(f)))/1);u===l&&l===f?_=E=k:(_=nr((.4360747*u+.3850649*l+.1430804*f)/se),E=nr((.0139322*u+.0971045*l+.7141733*f)/_e));const $=116*k-16;return[$<0?0:$,500*(_-k),200*(k-E),m]}function Vt(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function nr(u){return u>ke?Math.pow(u,1/3):u/Ae+Te}function Dt([u,l,f,m]){let _=(u+16)/116,E=isNaN(l)?_:_+l/500,k=isNaN(f)?_:_-f/200;return _=1*rr(_),E=se*rr(E),k=_e*rr(k),[Wt(3.1338561*E-1.6168667*_-.4906146*k),Wt(-.9787684*E+1.9161415*_+.033454*k),Wt(.0719453*E-.2289914*_+1.4052427*k),m]}function Wt(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function rr(u){return u>Le?u*u*u:Ae*(u-Te)}function Pr(u){return parseInt(u.padEnd(2,u),16)/255}function Br(u,l){return gr(l?u/100:u,0,1)}function gr(u,l,f){return Math.min(Math.max(l,u),f)}function Ar(u){return!u.some(Number.isNaN)}const Fi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class mt{constructor(l,f,m,_=1,E=!0){this.r=l,this.g=f,this.b=m,this.a=_,E||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[l,f,m,_]))}static parse(l){if(l instanceof mt)return l;if(typeof l!="string")return;const f=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const _=Fi[m];if(_){const[k,$,N]=_;return[k/255,$/255,N/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const k=m.length<6?1:2;let $=1;return[Pr(m.slice($,$+=k)),Pr(m.slice($,$+=k)),Pr(m.slice($,$+=k)),Pr(m.slice($,$+k)||"ff")]}if(m.startsWith("rgb")){const k=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(k){const[$,N,U,G,K,J,te,re,fe,xe,Ce,Ne]=k,Me=[G||" ",te||" ",xe].join("");if(Me==="  "||Me==="  /"||Me===",,"||Me===",,,"){const Ue=[U,J,fe].join(""),He=Ue==="%%%"?100:Ue===""?255:0;if(He){const rt=[gr(+N/He,0,1),gr(+K/He,0,1),gr(+re/He,0,1),Ce?Br(+Ce,Ne):1];if(Ar(rt))return rt}}return}}const E=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[k,$,N,U,G,K,J,te,re]=E,fe=[N||" ",G||" ",J].join("");if(fe==="  "||fe==="  /"||fe===",,"||fe===",,,"){const xe=[+$,gr(+U,0,100),gr(+K,0,100),te?Br(+te,re):1];if(Ar(xe))return function([Ce,Ne,Me,Ue]){function He(rt){const kt=(rt+Ce/30)%12,Bt=Ne*Math.min(Me,1-Me);return Me-Bt*Math.max(-1,Math.min(kt-3,9-kt,1))}return Ce=et(Ce),Ne/=100,Me/=100,[He(0),He(8),He(4),Ue]}(xe)}}}(l);return f?new mt(...f,!1):void 0}get rgb(){const{r:l,g:f,b:m,a:_}=this,E=_||1/0;return this.overwriteGetter("rgb",[l/E,f/E,m/E,_])}get hcl(){return this.overwriteGetter("hcl",function(l){const[f,m,_,E]=it(l),k=Math.sqrt(m*m+_*_);return[Math.round(1e4*k)?et(Math.atan2(_,m)*Qe):NaN,k,f,E]}(this.rgb))}get lab(){return this.overwriteGetter("lab",it(this.rgb))}overwriteGetter(l,f){return Object.defineProperty(this,l,{value:f}),f}toString(){const[l,f,m,_]=this.rgb;return`rgba(${[l,f,m].map(E=>Math.round(255*E)).join(",")},${_})`}}mt.black=new mt(0,0,0,1),mt.white=new mt(1,1,1,1),mt.transparent=new mt(0,0,0,0),mt.red=new mt(1,0,0,1);class $r{constructor(l,f,m){this.sensitivity=l?f?"variant":"case":f?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,f){return this.collator.compare(l,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ri{constructor(l,f,m,_,E){this.text=l,this.image=f,this.scale=m,this.fontStack=_,this.textColor=E}}class Zn{constructor(l){this.sections=l}static fromString(l){return new Zn([new Ri(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Zn?l:Zn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Fo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Fo)return l;if(typeof l=="number")return new Fo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const f of l)if(typeof f!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Fo(l)}}toString(){return JSON.stringify(this.values)}}const zE=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ui{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ui)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let f=0;f<l.length;f+=2){const m=l[f],_=l[f+1];if(typeof m!="string"||!zE.has(m)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new Ui(l)}}toString(){return JSON.stringify(this.values)}}class aa{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new aa({name:l,available:!1}):null}}function G_(u,l,f,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof f=="number"&&f>=0&&f<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,f,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,f,m]:[u,l,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function yh(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof mt||u instanceof $r||u instanceof Zn||u instanceof Fo||u instanceof Ui||u instanceof aa)return!0;if(Array.isArray(u)){for(const l of u)if(!yh(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!yh(u[l]))return!1;return!0}return!1}function Xn(u){if(u===null)return Jt;if(typeof u=="string")return At;if(typeof u=="boolean")return Rt;if(typeof u=="number")return Ke;if(u instanceof mt)return Jr;if(u instanceof $r)return po;if(u instanceof Zn)return jo;if(u instanceof Fo)return ka;if(u instanceof Ui)return rs;if(u instanceof aa)return mo;if(Array.isArray(u)){const l=u.length;let f;for(const m of u){const _=Xn(m);if(f){if(f===_)continue;f=Xt;break}f=_}return gi(f||Xt,l)}return to}function bl(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof mt||u instanceof Zn||u instanceof Fo||u instanceof Ui||u instanceof aa?u.toString():JSON.stringify(u)}class cc{constructor(l,f){this.type=l,this.value=f}static parse(l,f){if(l.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!yh(l[1]))return f.error("invalid value");const m=l[1];let _=Xn(m);const E=f.expectedType;return _.kind!=="array"||_.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(_=E),new cc(_,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Jn{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const vh={string:At,number:Ke,boolean:Rt,object:to};class Vi{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let m,_=1;const E=l[0];if(E==="array"){let $,N;if(l.length>2){const U=l[1];if(typeof U!="string"||!(U in vh)||U==="object")return f.error('The item type argument of "array" must be one of string, number, boolean',1);$=vh[U],_++}else $=Xt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return f.error('The length argument to "array" must be a positive integer literal',2);N=l[2],_++}m=gi($,N)}else{if(!vh[E])throw new Error(`Types doesn't contain name = ${E}`);m=vh[E]}const k=[];for(;_<l.length;_++){const $=f.parse(l[_],_,Xt);if(!$)return null;k.push($)}return new Vi(m,k)}evaluate(l){for(let f=0;f<this.args.length;f++){const m=this.args[f].evaluate(l);if(!Bo(this.type,Xn(m)))return m;if(f===this.args.length-1)throw new Jn(`Expected value to be of type ${Wr(this.type)}, but found ${Wr(Xn(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const _h={"to-boolean":Rt,"to-color":Jr,"to-number":Ke,"to-string":At};class ns{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");const m=l[0];if(!_h[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return f.error("Expected one argument.");const _=_h[m],E=[];for(let k=1;k<l.length;k++){const $=f.parse(l[k],k,Xt);if(!$)return null;E.push($)}return new ns(_,E)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let f,m;for(const _ of this.args){if(f=_.evaluate(l),m=null,f instanceof mt)return f;if(typeof f=="string"){const E=l.parseColor(f);if(E)return E}else if(Array.isArray(f)&&(m=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:G_(f[0],f[1],f[2],f[3]),!m))return new mt(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new Jn(m||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"padding":{let f;for(const m of this.args){f=m.evaluate(l);const _=Fo.parse(f);if(_)return _}throw new Jn(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(const m of this.args){f=m.evaluate(l);const _=Ui.parse(f);if(_)return _}throw new Jn(`Could not parse variableAnchorOffsetCollection from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(const m of this.args){if(f=m.evaluate(l),f===null)return 0;const _=Number(f);if(!isNaN(_))return _}throw new Jn(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return Zn.fromString(bl(this.args[0].evaluate(l)));case"resolvedImage":return aa.fromString(bl(this.args[0].evaluate(l)));default:return bl(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Hf=["Unknown","Point","LineString","Polygon"];class qr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Hf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let f=this._parseColorCache[l];return f||(f=this._parseColorCache[l]=mt.parse(l)),f}}class xh{constructor(l,f,m=[],_,E=new mr,k=[]){this.registry=l,this.path=m,this.key=m.map($=>`[${$}]`).join(""),this.scope=E,this.errors=k,this.expectedType=_,this._isConstant=f}parse(l,f,m,_,E={}){return f?this.concat(f,m,_)._parse(l,E):this._parse(l,E)}_parse(l,f){function m(_,E,k){return k==="assert"?new Vi(E,[_]):k==="coerce"?new ns(E,[_]):_}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=l[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[_];if(E){let k=E.parse(l,this);if(!k)return null;if(this.expectedType){const $=this.expectedType,N=k.type;if($.kind!=="string"&&$.kind!=="number"&&$.kind!=="boolean"&&$.kind!=="object"&&$.kind!=="array"||N.kind!=="value")if($.kind!=="color"&&$.kind!=="formatted"&&$.kind!=="resolvedImage"||N.kind!=="value"&&N.kind!=="string")if($.kind!=="padding"||N.kind!=="value"&&N.kind!=="number"&&N.kind!=="array")if($.kind!=="variableAnchorOffsetCollection"||N.kind!=="value"&&N.kind!=="array"){if(this.checkSubtype($,N))return null}else k=m(k,$,f.typeAnnotation||"coerce");else k=m(k,$,f.typeAnnotation||"coerce");else k=m(k,$,f.typeAnnotation||"coerce");else k=m(k,$,f.typeAnnotation||"assert")}if(!(k instanceof cc)&&k.type.kind!=="resolvedImage"&&this._isConstant(k)){const $=new qr;try{k=new cc(k.type,k.evaluate($))}catch(N){return this.error(N.message),null}}return k}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,f,m){const _=typeof l=="number"?this.path.concat(l):this.path,E=m?this.scope.concat(m):this.scope;return new xh(this.registry,this._isConstant,_,f||null,E,this.errors)}error(l,...f){const m=`${this.key}${f.map(_=>`[${_}]`).join("")}`;this.errors.push(new Xr(m,l))}checkSubtype(l,f){const m=Bo(l,f);return m&&this.error(m),m}}class pu{constructor(l,f,m){this.type=po,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=f}static parse(l,f){if(l.length!==2)return f.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return f.error("Collator options argument must be an object.");const _=f.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,Rt);if(!_)return null;const E=f.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,Rt);if(!E)return null;let k=null;return m.locale&&(k=f.parse(m.locale,1,At),!k)?null:new pu(_,E,k)}evaluate(l){return new $r(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const wl=8192;function bh(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function Gf(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function NE(u,l){const f=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,_=Math.pow(2,l.z);return[Math.round(f*_*wl),Math.round(m*_*wl)]}function Y_(u,l,f){const m=u[0]-l[0],_=u[1]-l[1],E=u[0]-f[0],k=u[1]-f[1];return m*k-E*_==0&&m*E<=0&&_*k<=0}function wh(u,l){let f=!1;for(let k=0,$=l.length;k<$;k++){const N=l[k];for(let U=0,G=N.length;U<G-1;U++){if(Y_(u,N[U],N[U+1]))return!1;(_=N[U])[1]>(m=u)[1]!=(E=N[U+1])[1]>m[1]&&m[0]<(E[0]-_[0])*(m[1]-_[1])/(E[1]-_[1])+_[0]&&(f=!f)}}var m,_,E;return f}function jE(u,l){for(let f=0;f<l.length;f++)if(wh(u,l[f]))return!0;return!1}function K_(u,l,f,m){const _=m[0]-f[0],E=m[1]-f[1],k=(u[0]-f[0])*E-_*(u[1]-f[1]),$=(l[0]-f[0])*E-_*(l[1]-f[1]);return k>0&&$<0||k<0&&$>0}function BE(u,l,f){for(const U of f)for(let G=0;G<U.length-1;++G)if(($=[(k=U[G+1])[0]-(E=U[G])[0],k[1]-E[1]])[0]*(N=[(_=l)[0]-(m=u)[0],_[1]-m[1]])[1]-$[1]*N[0]!=0&&K_(m,_,E,k)&&K_(E,k,m,_))return!0;var m,_,E,k,$,N;return!1}function Z_(u,l){for(let f=0;f<u.length;++f)if(!wh(u[f],l))return!1;for(let f=0;f<u.length-1;++f)if(BE(u[f],u[f+1],l))return!1;return!0}function X_(u,l){for(let f=0;f<l.length;f++)if(Z_(u,l[f]))return!0;return!1}function Sh(u,l,f){const m=[];for(let _=0;_<u.length;_++){const E=[];for(let k=0;k<u[_].length;k++){const $=NE(u[_][k],f);bh(l,$),E.push($)}m.push(E)}return m}function J_(u,l,f){const m=[];for(let _=0;_<u.length;_++){const E=Sh(u[_],l,f);m.push(E)}return m}function Q_(u,l,f,m){if(u[0]<f[0]||u[0]>f[2]){const _=.5*m;let E=u[0]-f[0]>_?-m:f[0]-u[0]>_?m:0;E===0&&(E=u[0]-f[2]>_?-m:f[2]-u[0]>_?m:0),u[0]+=E}bh(l,u)}function Eh(u,l,f,m){const _=Math.pow(2,m.z)*wl,E=[m.x*wl,m.y*wl],k=[];for(const $ of u)for(const N of $){const U=[N.x+E[0],N.y+E[1]];Q_(U,l,f,_),k.push(U)}return k}function ex(u,l,f,m){const _=Math.pow(2,m.z)*wl,E=[m.x*wl,m.y*wl],k=[];for(const N of u){const U=[];for(const G of N){const K=[G.x+E[0],G.y+E[1]];bh(l,K),U.push(K)}k.push(U)}if(l[2]-l[0]<=_/2){($=l)[0]=$[1]=1/0,$[2]=$[3]=-1/0;for(const N of k)for(const U of N)Q_(U,l,f,_)}var $;return k}class uc{constructor(l,f){this.type=Rt,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(yh(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let _=0;_<m.features.length;++_){const E=m.features[_].geometry.type;if(E==="Polygon"||E==="MultiPolygon")return new uc(m,m.features[_].geometry)}else if(m.type==="Feature"){const _=m.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new uc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new uc(m,m)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,m){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],k=f.canonicalID();if(m.type==="Polygon"){const $=Sh(m.coordinates,E,k),N=Eh(f.geometry(),_,E,k);if(!Gf(_,E))return!1;for(const U of N)if(!wh(U,$))return!1}if(m.type==="MultiPolygon"){const $=J_(m.coordinates,E,k),N=Eh(f.geometry(),_,E,k);if(!Gf(_,E))return!1;for(const U of N)if(!jE(U,$))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,m){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],k=f.canonicalID();if(m.type==="Polygon"){const $=Sh(m.coordinates,E,k),N=ex(f.geometry(),_,E,k);if(!Gf(_,E))return!1;for(const U of N)if(!Z_(U,$))return!1}if(m.type==="MultiPolygon"){const $=J_(m.coordinates,E,k),N=ex(f.geometry(),_,E,k);if(!Gf(_,E))return!1;for(const U of N)if(!X_(U,$))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Ch{constructor(l,f){this.type=f.type,this.name=l,this.boundExpression=f}static parse(l,f){if(l.length!==2||typeof l[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");const m=l[1];return f.scope.has(m)?new Ch(m,f.scope.get(m)):f.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Uo{constructor(l,f,m,_){this.name=l,this.type=f,this._evaluate=m,this.args=_}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,f){const m=l[0],_=Uo.definitions[m];if(!_)return f.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(_)?_[0]:_.type,k=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,$=k.filter(([U])=>!Array.isArray(U)||U.length===l.length-1);let N=null;for(const[U,G]of $){N=new xh(f.registry,Yf,f.path,null,f.scope);const K=[];let J=!1;for(let te=1;te<l.length;te++){const re=l[te],fe=Array.isArray(U)?U[te-1]:U.type,xe=N.parse(re,1+K.length,fe);if(!xe){J=!0;break}K.push(xe)}if(!J)if(Array.isArray(U)&&U.length!==K.length)N.error(`Expected ${U.length} arguments, but found ${K.length} instead.`);else{for(let te=0;te<K.length;te++){const re=Array.isArray(U)?U[te]:U.type,fe=K[te];N.concat(te+1).checkSubtype(re,fe.type)}if(N.errors.length===0)return new Uo(m,E,G,K)}}if($.length===1)f.errors.push(...N.errors);else{const U=($.length?$:k).map(([K])=>{return J=K,Array.isArray(J)?`(${J.map(Wr).join(", ")})`:`(${Wr(J.type)}...)`;var J}).join(" | "),G=[];for(let K=1;K<l.length;K++){const J=f.parse(l[K],1+G.length);if(!J)return null;G.push(Wr(J.type))}f.error(`Expected arguments of type ${U}, but found (${G.join(", ")}) instead.`)}return null}static register(l,f){Uo.definitions=f;for(const m in f)l[m]=Uo}}function Yf(u){if(u instanceof Ch)return Yf(u.boundExpression);if(u instanceof Uo&&u.name==="error"||u instanceof pu||u instanceof uc)return!1;const l=u instanceof ns||u instanceof Vi;let f=!0;return u.eachChild(m=>{f=l?f&&Yf(m):f&&m instanceof cc}),!!f&&Th(u)&&Zf(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Th(u){if(u instanceof Uo&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof uc)return!1;let l=!0;return u.eachChild(f=>{l&&!Th(f)&&(l=!1)}),l}function Kf(u){if(u instanceof Uo&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(f=>{l&&!Kf(f)&&(l=!1)}),l}function Zf(u,l){if(u instanceof Uo&&l.indexOf(u.name)>=0)return!1;let f=!0;return u.eachChild(m=>{f&&!Zf(m,l)&&(f=!1)}),f}function Xf(u,l){const f=u.length-1;let m,_,E=0,k=f,$=0;for(;E<=k;)if($=Math.floor((E+k)/2),m=u[$],_=u[$+1],m<=l){if($===f||l<_)return $;E=$+1}else{if(!(m>l))throw new Jn("Input is not a number.");k=$-1}return 0}class Jf{constructor(l,f,m){this.type=l,this.input=f,this.labels=[],this.outputs=[];for(const[_,E]of m)this.labels.push(_),this.outputs.push(E)}static parse(l,f){if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");const m=f.parse(l[1],1,Ke);if(!m)return null;const _=[];let E=null;f.expectedType&&f.expectedType.kind!=="value"&&(E=f.expectedType);for(let k=1;k<l.length;k+=2){const $=k===1?-1/0:l[k],N=l[k+1],U=k,G=k+1;if(typeof $!="number")return f.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(_.length&&_[_.length-1][0]>=$)return f.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',U);const K=f.parse(N,G,E);if(!K)return null;E=E||K.type,_.push([$,K])}return new Jf(E,m,_)}evaluate(l){const f=this.labels,m=this.outputs;if(f.length===1)return m[0].evaluate(l);const _=this.input.evaluate(l);if(_<=f[0])return m[0].evaluate(l);const E=f.length;return _>=f[E-1]?m[E-1].evaluate(l):m[Xf(f,_)].evaluate(l)}eachChild(l){l(this.input);for(const f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function fc(u,l,f){return u+f*(l-u)}function kh(u,l,f){return u.map((m,_)=>fc(m,l[_],f))}const Vo={number:fc,color:function(u,l,f,m="rgb"){switch(m){case"rgb":{const[_,E,k,$]=kh(u.rgb,l.rgb,f);return new mt(_,E,k,$,!1)}case"hcl":{const[_,E,k,$]=u.hcl,[N,U,G,K]=l.hcl;let J,te;if(isNaN(_)||isNaN(N))isNaN(_)?isNaN(N)?J=NaN:(J=N,k!==1&&k!==0||(te=U)):(J=_,G!==1&&G!==0||(te=E));else{let Ne=N-_;N>_&&Ne>180?Ne-=360:N<_&&_-N>180&&(Ne+=360),J=_+f*Ne}const[re,fe,xe,Ce]=function([Ne,Me,Ue,He]){return Ne=isNaN(Ne)?0:Ne*je,Dt([Ue,Math.cos(Ne)*Me,Math.sin(Ne)*Me,He])}([J,te??fc(E,U,f),fc(k,G,f),fc($,K,f)]);return new mt(re,fe,xe,Ce,!1)}case"lab":{const[_,E,k,$]=Dt(kh(u.lab,l.lab,f));return new mt(_,E,k,$,!1)}}},array:kh,padding:function(u,l,f){return new Fo(kh(u.values,l.values,f))},variableAnchorOffsetCollection:function(u,l,f){const m=u.values,_=l.values;if(m.length!==_.length)throw new Jn(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const E=[];for(let k=0;k<m.length;k+=2){if(m[k]!==_[k])throw new Jn(`Cannot interpolate values containing mismatched anchors. from[${k}]: ${m[k]}, to[${k}]: ${_[k]}`);E.push(m[k]);const[$,N]=m[k+1],[U,G]=_[k+1];E.push([fc($,U,f),fc(N,G,f)])}return new Ui(E)}};class Wo{constructor(l,f,m,_,E){this.type=l,this.operator=f,this.interpolation=m,this.input=_,this.labels=[],this.outputs=[];for(const[k,$]of E)this.labels.push(k),this.outputs.push($)}static interpolationFactor(l,f,m,_){let E=0;if(l.name==="exponential")E=Ig(f,l.base,m,_);else if(l.name==="linear")E=Ig(f,1,m,_);else if(l.name==="cubic-bezier"){const k=l.controlPoints;E=new A(k[0],k[1],k[2],k[3]).solve(Ig(f,1,m,_))}return E}static parse(l,f){let[m,_,E,...k]=l;if(!Array.isArray(_)||_.length===0)return f.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){const U=_[1];if(typeof U!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:U}}else{if(_[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const U=_.slice(1);if(U.length!==4||U.some(G=>typeof G!="number"||G<0||G>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:U}}}if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(E=f.parse(E,2,Ke),!E)return null;const $=[];let N=null;m==="interpolate-hcl"||m==="interpolate-lab"?N=Jr:f.expectedType&&f.expectedType.kind!=="value"&&(N=f.expectedType);for(let U=0;U<k.length;U+=2){const G=k[U],K=k[U+1],J=U+3,te=U+4;if(typeof G!="number")return f.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',J);if($.length&&$[$.length-1][0]>=G)return f.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',J);const re=f.parse(K,te,N);if(!re)return null;N=N||re.type,$.push([G,re])}return Q(N,Ke)||Q(N,Jr)||Q(N,ka)||Q(N,rs)||Q(N,gi(Ke))?new Wo(N,m,_,E,$):f.error(`Type ${Wr(N)} is not interpolatable.`)}evaluate(l){const f=this.labels,m=this.outputs;if(f.length===1)return m[0].evaluate(l);const _=this.input.evaluate(l);if(_<=f[0])return m[0].evaluate(l);const E=f.length;if(_>=f[E-1])return m[E-1].evaluate(l);const k=Xf(f,_),$=Wo.interpolationFactor(this.interpolation,_,f[k],f[k+1]),N=m[k].evaluate(l),U=m[k+1].evaluate(l);switch(this.operator){case"interpolate":return Vo[this.type.kind](N,U,$);case"interpolate-hcl":return Vo.color(N,U,$,"hcl");case"interpolate-lab":return Vo.color(N,U,$,"lab")}}eachChild(l){l(this.input);for(const f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Ig(u,l,f,m){const _=m-f,E=u-f;return _===0?0:l===1?E/_:(Math.pow(l,E)-1)/(Math.pow(l,_)-1)}class Ph{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expectected at least one argument.");let m=null;const _=f.expectedType;_&&_.kind!=="value"&&(m=_);const E=[];for(const $ of l.slice(1)){const N=f.parse($,1+E.length,m,void 0,{typeAnnotation:"omit"});if(!N)return null;m=m||N.type,E.push(N)}if(!m)throw new Error("No output type");const k=_&&E.some($=>Bo(_,$.type));return new Ph(k?Xt:m,E)}evaluate(l){let f,m=null,_=0;for(const E of this.args)if(_++,m=E.evaluate(l),m&&m instanceof aa&&!m.available&&(f||(f=m.name),m=null,_===this.args.length&&(m=f)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class mu{constructor(l,f){this.type=f.type,this.bindings=[].concat(l),this.result=f}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const f of this.bindings)l(f[1]);l(this.result)}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let E=1;E<l.length-1;E+=2){const k=l[E];if(typeof k!="string")return f.error(`Expected string, but found ${typeof k} instead.`,E);if(/[^a-zA-Z0-9_]/.test(k))return f.error("Variable names must contain only alphanumeric characters or '_'.",E);const $=f.parse(l[E+1],E+1);if(!$)return null;m.push([k,$])}const _=f.parse(l[l.length-1],l.length-1,f.expectedType,m);return _?new mu(m,_):null}outputDefined(){return this.result.outputDefined()}}class gu{constructor(l,f,m){this.type=l,this.index=f,this.input=m}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Ke),_=f.parse(l[2],2,gi(f.expectedType||Xt));return m&&_?new gu(_.type.itemType,m,_):null}evaluate(l){const f=this.index.evaluate(l),m=this.input.evaluate(l);if(f<0)throw new Jn(`Array index out of bounds: ${f} < 0.`);if(f>=m.length)throw new Jn(`Array index out of bounds: ${f} > ${m.length-1}.`);if(f!==Math.floor(f))throw new Jn(`Array index must be an integer, but found ${f} instead.`);return m[f]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Dr{constructor(l,f){this.type=Rt,this.needle=l,this.haystack=f}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Xt),_=f.parse(l[2],2,Xt);return m&&_?me(m.type,[Rt,At,Ke,Jt,Xt])?new Dr(m,_):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(m.type)} instead`):null}evaluate(l){const f=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!X(f,["boolean","string","number","null"]))throw new Jn(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(Xn(f))} instead.`);if(!X(m,["string","array"]))throw new Jn(`Expected second argument to be of type array or string, but found ${Wr(Xn(m))} instead.`);return m.indexOf(f)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Ah{constructor(l,f,m){this.type=Ke,this.needle=l,this.haystack=f,this.fromIndex=m}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Xt),_=f.parse(l[2],2,Xt);if(!m||!_)return null;if(!me(m.type,[Rt,At,Ke,Jt,Xt]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(m.type)} instead`);if(l.length===4){const E=f.parse(l[3],3,Ke);return E?new Ah(m,_,E):null}return new Ah(m,_)}evaluate(l){const f=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!X(f,["boolean","string","number","null"]))throw new Jn(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(Xn(f))} instead.`);if(!X(m,["string","array"]))throw new Jn(`Expected second argument to be of type array or string, but found ${Wr(Xn(m))} instead.`);if(this.fromIndex){const _=this.fromIndex.evaluate(l);return m.indexOf(f,_)}return m.indexOf(f)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Rg{constructor(l,f,m,_,E,k){this.inputType=l,this.type=f,this.input=m,this.cases=_,this.outputs=E,this.otherwise=k}static parse(l,f){if(l.length<5)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return f.error("Expected an even number of arguments.");let m,_;f.expectedType&&f.expectedType.kind!=="value"&&(_=f.expectedType);const E={},k=[];for(let U=2;U<l.length-1;U+=2){let G=l[U];const K=l[U+1];Array.isArray(G)||(G=[G]);const J=f.concat(U);if(G.length===0)return J.error("Expected at least one branch label.");for(const re of G){if(typeof re!="number"&&typeof re!="string")return J.error("Branch labels must be numbers or strings.");if(typeof re=="number"&&Math.abs(re)>Number.MAX_SAFE_INTEGER)return J.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof re=="number"&&Math.floor(re)!==re)return J.error("Numeric branch labels must be integer values.");if(m){if(J.checkSubtype(m,Xn(re)))return null}else m=Xn(re);if(E[String(re)]!==void 0)return J.error("Branch labels must be unique.");E[String(re)]=k.length}const te=f.parse(K,U,_);if(!te)return null;_=_||te.type,k.push(te)}const $=f.parse(l[1],1,Xt);if(!$)return null;const N=f.parse(l[l.length-1],l.length-1,_);return N?$.type.kind!=="value"&&f.concat(1).checkSubtype(m,$.type)?null:new Rg(m,_,$,E,k,N):null}evaluate(l){const f=this.input.evaluate(l);return(Xn(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class $g{constructor(l,f,m){this.type=l,this.branches=f,this.otherwise=m}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return f.error("Expected an odd number of arguments.");let m;f.expectedType&&f.expectedType.kind!=="value"&&(m=f.expectedType);const _=[];for(let k=1;k<l.length-1;k+=2){const $=f.parse(l[k],k,Rt);if(!$)return null;const N=f.parse(l[k+1],k+1,m);if(!N)return null;_.push([$,N]),m=m||N.type}const E=f.parse(l[l.length-1],l.length-1,m);if(!E)return null;if(!m)throw new Error("Can't infer output type");return new $g(m,_,E)}evaluate(l){for(const[f,m]of this.branches)if(f.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[f,m]of this.branches)l(f),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class Mh{constructor(l,f,m,_){this.type=l,this.input=f,this.beginIndex=m,this.endIndex=_}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Xt),_=f.parse(l[2],2,Ke);if(!m||!_)return null;if(!me(m.type,[gi(Xt),At,Xt]))return f.error(`Expected first argument to be of type array or string, but found ${Wr(m.type)} instead`);if(l.length===4){const E=f.parse(l[3],3,Ke);return E?new Mh(m.type,m,_,E):null}return new Mh(m.type,m,_)}evaluate(l){const f=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!X(f,["string","array"]))throw new Jn(`Expected first argument to be of type array or string, but found ${Wr(Xn(f))} instead.`);if(this.endIndex){const _=this.endIndex.evaluate(l);return f.slice(m,_)}return f.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function tx(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function rx(u,l,f,m){return m.compare(l,f)===0}function yu(u,l,f){const m=u!=="=="&&u!=="!=";return class DW{constructor(E,k,$){this.type=Rt,this.lhs=E,this.rhs=k,this.collator=$,this.hasUntypedArgument=E.type.kind==="value"||k.type.kind==="value"}static parse(E,k){if(E.length!==3&&E.length!==4)return k.error("Expected two or three arguments.");const $=E[0];let N=k.parse(E[1],1,Xt);if(!N)return null;if(!tx($,N.type))return k.concat(1).error(`"${$}" comparisons are not supported for type '${Wr(N.type)}'.`);let U=k.parse(E[2],2,Xt);if(!U)return null;if(!tx($,U.type))return k.concat(2).error(`"${$}" comparisons are not supported for type '${Wr(U.type)}'.`);if(N.type.kind!==U.type.kind&&N.type.kind!=="value"&&U.type.kind!=="value")return k.error(`Cannot compare types '${Wr(N.type)}' and '${Wr(U.type)}'.`);m&&(N.type.kind==="value"&&U.type.kind!=="value"?N=new Vi(U.type,[N]):N.type.kind!=="value"&&U.type.kind==="value"&&(U=new Vi(N.type,[U])));let G=null;if(E.length===4){if(N.type.kind!=="string"&&U.type.kind!=="string"&&N.type.kind!=="value"&&U.type.kind!=="value")return k.error("Cannot use collator to compare non-string types.");if(G=k.parse(E[3],3,po),!G)return null}return new DW(N,U,G)}evaluate(E){const k=this.lhs.evaluate(E),$=this.rhs.evaluate(E);if(m&&this.hasUntypedArgument){const N=Xn(k),U=Xn($);if(N.kind!==U.kind||N.kind!=="string"&&N.kind!=="number")throw new Jn(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${N.kind}, ${U.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const N=Xn(k),U=Xn($);if(N.kind!=="string"||U.kind!=="string")return l(E,k,$)}return this.collator?f(E,k,$,this.collator.evaluate(E)):l(E,k,$)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const FE=yu("==",function(u,l,f){return l===f},rx),UE=yu("!=",function(u,l,f){return l!==f},function(u,l,f,m){return!rx(0,l,f,m)}),VE=yu("<",function(u,l,f){return l<f},function(u,l,f,m){return m.compare(l,f)<0}),WE=yu(">",function(u,l,f){return l>f},function(u,l,f,m){return m.compare(l,f)>0}),qE=yu("<=",function(u,l,f){return l<=f},function(u,l,f,m){return m.compare(l,f)<=0}),HE=yu(">=",function(u,l,f){return l>=f},function(u,l,f,m){return m.compare(l,f)>=0});class Dg{constructor(l,f,m,_,E){this.type=At,this.number=l,this.locale=f,this.currency=m,this.minFractionDigits=_,this.maxFractionDigits=E}static parse(l,f){if(l.length!==3)return f.error("Expected two arguments.");const m=f.parse(l[1],1,Ke);if(!m)return null;const _=l[2];if(typeof _!="object"||Array.isArray(_))return f.error("NumberFormat options argument must be an object.");let E=null;if(_.locale&&(E=f.parse(_.locale,1,At),!E))return null;let k=null;if(_.currency&&(k=f.parse(_.currency,1,At),!k))return null;let $=null;if(_["min-fraction-digits"]&&($=f.parse(_["min-fraction-digits"],1,Ke),!$))return null;let N=null;return _["max-fraction-digits"]&&(N=f.parse(_["max-fraction-digits"],1,Ke),!N)?null:new Dg(m,E,k,$,N)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Oh{constructor(l){this.type=jo,this.sections=l}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return f.error("First argument must be an image or text section.");const _=[];let E=!1;for(let k=1;k<=l.length-1;++k){const $=l[k];if(E&&typeof $=="object"&&!Array.isArray($)){E=!1;let N=null;if($["font-scale"]&&(N=f.parse($["font-scale"],1,Ke),!N))return null;let U=null;if($["text-font"]&&(U=f.parse($["text-font"],1,gi(At)),!U))return null;let G=null;if($["text-color"]&&(G=f.parse($["text-color"],1,Jr),!G))return null;const K=_[_.length-1];K.scale=N,K.font=U,K.textColor=G}else{const N=f.parse(l[k],1,Xt);if(!N)return null;const U=N.type.kind;if(U!=="string"&&U!=="value"&&U!=="null"&&U!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,_.push({content:N,scale:null,font:null,textColor:null})}}return new Oh(_)}evaluate(l){return new Zn(this.sections.map(f=>{const m=f.content.evaluate(l);return Xn(m)===mo?new Ri("",m,null,null,null):new Ri(bl(m),null,f.scale?f.scale.evaluate(l):null,f.font?f.font.evaluate(l).join(","):null,f.textColor?f.textColor.evaluate(l):null)}))}eachChild(l){for(const f of this.sections)l(f.content),f.scale&&l(f.scale),f.font&&l(f.font),f.textColor&&l(f.textColor)}outputDefined(){return!1}}class Lg{constructor(l){this.type=mo,this.input=l}static parse(l,f){if(l.length!==2)return f.error("Expected two arguments.");const m=f.parse(l[1],1,At);return m?new Lg(m):f.error("No image name provided.")}evaluate(l){const f=this.input.evaluate(l),m=aa.fromString(f);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(f)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class zg{constructor(l){this.type=Ke,this.input=l}static parse(l,f){if(l.length!==2)return f.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=f.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${Wr(m.type)} instead.`):new zg(m):null}evaluate(l){const f=this.input.evaluate(l);if(typeof f=="string"||Array.isArray(f))return f.length;throw new Jn(`Expected value to be of type string or array, but found ${Wr(Xn(f))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const vu={"==":FE,"!=":UE,">":WE,"<":VE,">=":HE,"<=":qE,array:Vi,at:gu,boolean:Vi,case:$g,coalesce:Ph,collator:pu,format:Oh,image:Lg,in:Dr,"index-of":Ah,interpolate:Wo,"interpolate-hcl":Wo,"interpolate-lab":Wo,length:zg,let:mu,literal:cc,match:Rg,number:Vi,"number-format":Dg,object:Vi,slice:Mh,step:Jf,string:Vi,"to-boolean":ns,"to-color":ns,"to-number":ns,"to-string":ns,var:Ch,within:uc};function nx(u,[l,f,m,_]){l=l.evaluate(u),f=f.evaluate(u),m=m.evaluate(u);const E=_?_.evaluate(u):1,k=G_(l,f,m,E);if(k)throw new Jn(k);return new mt(l/255,f/255,m/255,E,!1)}function ix(u,l){return u in l}function Ng(u,l){const f=l[u];return f===void 0?null:f}function dc(u){return{type:u}}function ox(u){return{result:"success",value:u}}function _u(u){return{result:"error",value:u}}function xu(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function ax(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function jg(u){return!!u.expression&&u.expression.interpolated}function Nr(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Ih(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function GE(u){return u}function sx(u,l){const f=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",_=m||!(m||u.property!==void 0),E=u.type||(jg(l)?"exponential":"interval");if(f||l.type==="padding"){const G=f?mt.parse:Fo.parse;(u=Or({},u)).stops&&(u.stops=u.stops.map(K=>[K[0],G(K[1])])),u.default=G(u.default?u.default:l.default)}if(u.colorSpace&&(k=u.colorSpace)!=="rgb"&&k!=="hcl"&&k!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var k;let $,N,U;if(E==="exponential")$=lx;else if(E==="interval")$=KE;else if(E==="categorical"){$=YE,N=Object.create(null);for(const G of u.stops)N[G[0]]=G[1];U=typeof u.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);$=ZE}if(m){const G={},K=[];for(let re=0;re<u.stops.length;re++){const fe=u.stops[re],xe=fe[0].zoom;G[xe]===void 0&&(G[xe]={zoom:xe,type:u.type,property:u.property,default:u.default,stops:[]},K.push(xe)),G[xe].stops.push([fe[0].value,fe[1]])}const J=[];for(const re of K)J.push([G[re].zoom,sx(G[re],l)]);const te={name:"linear"};return{kind:"composite",interpolationType:te,interpolationFactor:Wo.interpolationFactor.bind(void 0,te),zoomStops:J.map(re=>re[0]),evaluate:({zoom:re},fe)=>lx({stops:J,base:u.base},l,re).evaluate(re,fe)}}if(_){const G=E==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:G,interpolationFactor:Wo.interpolationFactor.bind(void 0,G),zoomStops:u.stops.map(K=>K[0]),evaluate:({zoom:K})=>$(u,l,K,N,U)}}return{kind:"source",evaluate(G,K){const J=K&&K.properties?K.properties[u.property]:void 0;return J===void 0?hc(u.default,l.default):$(u,l,J,N,U)}}}function hc(u,l,f){return u!==void 0?u:l!==void 0?l:f!==void 0?f:void 0}function YE(u,l,f,m,_){return hc(typeof f===_?m[f]:void 0,u.default,l.default)}function KE(u,l,f){if(Nr(f)!=="number")return hc(u.default,l.default);const m=u.stops.length;if(m===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[m-1][0])return u.stops[m-1][1];const _=Xf(u.stops.map(E=>E[0]),f);return u.stops[_][1]}function lx(u,l,f){const m=u.base!==void 0?u.base:1;if(Nr(f)!=="number")return hc(u.default,l.default);const _=u.stops.length;if(_===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[_-1][0])return u.stops[_-1][1];const E=Xf(u.stops.map(G=>G[0]),f),k=function(G,K,J,te){const re=te-J,fe=G-J;return re===0?0:K===1?fe/re:(Math.pow(K,fe)-1)/(Math.pow(K,re)-1)}(f,m,u.stops[E][0],u.stops[E+1][0]),$=u.stops[E][1],N=u.stops[E+1][1],U=Vo[l.type]||GE;return typeof $.evaluate=="function"?{evaluate(...G){const K=$.evaluate.apply(void 0,G),J=N.evaluate.apply(void 0,G);if(K!==void 0&&J!==void 0)return U(K,J,k,u.colorSpace)}}:U($,N,k,u.colorSpace)}function ZE(u,l,f){switch(l.type){case"color":f=mt.parse(f);break;case"formatted":f=Zn.fromString(f.toString());break;case"resolvedImage":f=aa.fromString(f.toString());break;case"padding":f=Fo.parse(f);break;default:Nr(f)===l.type||l.type==="enum"&&l.values[f]||(f=void 0)}return hc(f,u.default,l.default)}Uo.register(vu,{error:[{kind:"error"},[At],(u,[l])=>{throw new Jn(l.evaluate(u))}],typeof:[At,[Xt],(u,[l])=>Wr(Xn(l.evaluate(u)))],"to-rgba":[gi(Ke,4),[Jr],(u,[l])=>{const[f,m,_,E]=l.evaluate(u).rgb;return[255*f,255*m,255*_,E]}],rgb:[Jr,[Ke,Ke,Ke],nx],rgba:[Jr,[Ke,Ke,Ke,Ke],nx],has:{type:Rt,overloads:[[[At],(u,[l])=>ix(l.evaluate(u),u.properties())],[[At,to],(u,[l,f])=>ix(l.evaluate(u),f.evaluate(u))]]},get:{type:Xt,overloads:[[[At],(u,[l])=>Ng(l.evaluate(u),u.properties())],[[At,to],(u,[l,f])=>Ng(l.evaluate(u),f.evaluate(u))]]},"feature-state":[Xt,[At],(u,[l])=>Ng(l.evaluate(u),u.featureState||{})],properties:[to,[],u=>u.properties()],"geometry-type":[At,[],u=>u.geometryType()],id:[Xt,[],u=>u.id()],zoom:[Ke,[],u=>u.globals.zoom],"heatmap-density":[Ke,[],u=>u.globals.heatmapDensity||0],"line-progress":[Ke,[],u=>u.globals.lineProgress||0],accumulated:[Xt,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Ke,dc(Ke),(u,l)=>{let f=0;for(const m of l)f+=m.evaluate(u);return f}],"*":[Ke,dc(Ke),(u,l)=>{let f=1;for(const m of l)f*=m.evaluate(u);return f}],"-":{type:Ke,overloads:[[[Ke,Ke],(u,[l,f])=>l.evaluate(u)-f.evaluate(u)],[[Ke],(u,[l])=>-l.evaluate(u)]]},"/":[Ke,[Ke,Ke],(u,[l,f])=>l.evaluate(u)/f.evaluate(u)],"%":[Ke,[Ke,Ke],(u,[l,f])=>l.evaluate(u)%f.evaluate(u)],ln2:[Ke,[],()=>Math.LN2],pi:[Ke,[],()=>Math.PI],e:[Ke,[],()=>Math.E],"^":[Ke,[Ke,Ke],(u,[l,f])=>Math.pow(l.evaluate(u),f.evaluate(u))],sqrt:[Ke,[Ke],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))],log2:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[Ke,[Ke],(u,[l])=>Math.sin(l.evaluate(u))],cos:[Ke,[Ke],(u,[l])=>Math.cos(l.evaluate(u))],tan:[Ke,[Ke],(u,[l])=>Math.tan(l.evaluate(u))],asin:[Ke,[Ke],(u,[l])=>Math.asin(l.evaluate(u))],acos:[Ke,[Ke],(u,[l])=>Math.acos(l.evaluate(u))],atan:[Ke,[Ke],(u,[l])=>Math.atan(l.evaluate(u))],min:[Ke,dc(Ke),(u,l)=>Math.min(...l.map(f=>f.evaluate(u)))],max:[Ke,dc(Ke),(u,l)=>Math.max(...l.map(f=>f.evaluate(u)))],abs:[Ke,[Ke],(u,[l])=>Math.abs(l.evaluate(u))],round:[Ke,[Ke],(u,[l])=>{const f=l.evaluate(u);return f<0?-Math.round(-f):Math.round(f)}],floor:[Ke,[Ke],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[Ke,[Ke],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[Rt,[At,Xt],(u,[l,f])=>u.properties()[l.value]===f.value],"filter-id-==":[Rt,[Xt],(u,[l])=>u.id()===l.value],"filter-type-==":[Rt,[At],(u,[l])=>u.geometryType()===l.value],"filter-<":[Rt,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m<_}],"filter-id-<":[Rt,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f<m}],"filter->":[Rt,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m>_}],"filter-id->":[Rt,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f>m}],"filter-<=":[Rt,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m<=_}],"filter-id-<=":[Rt,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f<=m}],"filter->=":[Rt,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m>=_}],"filter-id->=":[Rt,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f>=m}],"filter-has":[Rt,[Xt],(u,[l])=>l.value in u.properties()],"filter-has-id":[Rt,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Rt,[gi(At)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[Rt,[gi(Xt)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[Rt,[At,gi(Xt)],(u,[l,f])=>f.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[Rt,[At,gi(Xt)],(u,[l,f])=>function(m,_,E,k){for(;E<=k;){const $=E+k>>1;if(_[$]===m)return!0;_[$]>m?k=$-1:E=$+1}return!1}(u.properties()[l.value],f.value,0,f.value.length-1)],all:{type:Rt,overloads:[[[Rt,Rt],(u,[l,f])=>l.evaluate(u)&&f.evaluate(u)],[dc(Rt),(u,l)=>{for(const f of l)if(!f.evaluate(u))return!1;return!0}]]},any:{type:Rt,overloads:[[[Rt,Rt],(u,[l,f])=>l.evaluate(u)||f.evaluate(u)],[dc(Rt),(u,l)=>{for(const f of l)if(f.evaluate(u))return!0;return!1}]]},"!":[Rt,[Rt],(u,[l])=>!l.evaluate(u)],"is-supported-script":[Rt,[At],(u,[l])=>{const f=u.globals&&u.globals.isSupportedScript;return!f||f(l.evaluate(u))}],upcase:[At,[At],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[At,[At],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[At,dc(Xt),(u,l)=>l.map(f=>bl(f.evaluate(u))).join("")],"resolved-locale":[At,[po],(u,[l])=>l.evaluate(u).resolvedLocale()]});class Pn{constructor(l,f){var m;this.expression=l,this._warningHistory={},this._evaluator=new qr,this._defaultValue=f?(m=f).type==="color"&&Ih(m.default)?new mt(0,0,0,0):m.type==="color"?mt.parse(m.default)||null:m.type==="padding"?Fo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?Ui.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(l,f,m,_,E,k){return this._evaluator.globals=l,this._evaluator.feature=f,this._evaluator.featureState=m,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=k,this.expression.evaluate(this._evaluator)}evaluate(l,f,m,_,E,k){this._evaluator.globals=l,this._evaluator.feature=f||null,this._evaluator.featureState=m||null,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=k||null;try{const $=this.expression.evaluate(this._evaluator);if($==null||typeof $=="number"&&$!=$)return this._defaultValue;if(this._enumValues&&!($ in this._enumValues))throw new Jn(`Expected value to be one of ${Object.keys(this._enumValues).map(N=>JSON.stringify(N)).join(", ")}, but found ${JSON.stringify($)} instead.`);return $}catch($){return this._warningHistory[$.message]||(this._warningHistory[$.message]=!0,typeof console<"u"&&console.warn($.message)),this._defaultValue}}}function Rh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in vu}function _r(u,l){const f=new xh(vu,Yf,[],l?function(_){const E={color:Jr,string:At,number:Ke,enum:At,boolean:Rt,formatted:jo,padding:ka,resolvedImage:mo,variableAnchorOffsetCollection:rs};return _.type==="array"?gi(E[_.value]||Xt,_.length):E[_.type]}(l):void 0),m=f.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?ox(new Pn(m,l)):_u(f.errors)}class Qf{constructor(l,f){this.kind=l,this._styleExpression=f,this.isStateDependent=l!=="constant"&&!Kf(f.expression)}evaluateWithoutErrorHandling(l,f,m,_,E,k){return this._styleExpression.evaluateWithoutErrorHandling(l,f,m,_,E,k)}evaluate(l,f,m,_,E,k){return this._styleExpression.evaluate(l,f,m,_,E,k)}}class hn{constructor(l,f,m,_){this.kind=l,this.zoomStops=m,this._styleExpression=f,this.isStateDependent=l!=="camera"&&!Kf(f.expression),this.interpolationType=_}evaluateWithoutErrorHandling(l,f,m,_,E,k){return this._styleExpression.evaluateWithoutErrorHandling(l,f,m,_,E,k)}evaluate(l,f,m,_,E,k){return this._styleExpression.evaluate(l,f,m,_,E,k)}interpolationFactor(l,f,m){return this.interpolationType?Wo.interpolationFactor(this.interpolationType,l,f,m):0}}function pn(u,l){const f=_r(u,l);if(f.result==="error")return f;const m=f.value.expression,_=Th(m);if(!_&&!xu(l))return _u([new Xr("","data expressions not supported")]);const E=Zf(m,["zoom"]);if(!E&&!ax(l))return _u([new Xr("","zoom expressions not supported")]);const k=ed(m);return k||E?k instanceof Xr?_u([k]):k instanceof Wo&&!jg(l)?_u([new Xr("",'"interpolate" expressions cannot be used with this property')]):ox(k?new hn(_?"camera":"composite",f.value,k.labels,k instanceof Wo?k.interpolation:void 0):new Qf(_?"constant":"source",f.value)):_u([new Xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class pc{constructor(l,f){this._parameters=l,this._specification=f,Or(this,sx(this._parameters,this._specification))}static deserialize(l){return new pc(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function ed(u){let l=null;if(u instanceof mu)l=ed(u.result);else if(u instanceof Ph){for(const f of u.args)if(l=ed(f),l)break}else(u instanceof Jf||u instanceof Wo)&&u.input instanceof Uo&&u.input.name==="zoom"&&(l=u);return l instanceof Xr||u.eachChild(f=>{const m=ed(f);m instanceof Xr?l=m:!l&&m?l=new Xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new Xr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Bg(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!Bg(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const XE={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fg(u){if(u==null)return{filter:()=>!0,needGeometry:!1};Bg(u)||(u=td(u));const l=_r(u,XE);if(l.result==="error")throw new Error(l.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,m,_)=>l.value.evaluate(f,m,{},_),needGeometry:Ug(u)}}function JE(u,l){return u<l?-1:u>l?1:0}function Ug(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Ug(u[l]))return!0;return!1}function td(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?$h(u[1],u[2],"=="):l==="!="?Lh($h(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?$h(u[1],u[2],l):l==="any"?(f=u.slice(1),["any"].concat(f.map(td))):l==="all"?["all"].concat(u.slice(1).map(td)):l==="none"?["all"].concat(u.slice(1).map(td).map(Lh)):l==="in"?Vg(u[1],u.slice(2)):l==="!in"?Lh(Vg(u[1],u.slice(2))):l==="has"?Dh(u[1]):l==="!has"?Lh(Dh(u[1])):l!=="within"||u;var f}function $h(u,l,f){switch(u){case"$type":return[`filter-type-${f}`,l];case"$id":return[`filter-id-${f}`,l];default:return[`filter-${f}`,u,l]}}function Vg(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(f=>typeof f!=typeof l[0])?["filter-in-large",u,["literal",l.sort(JE)]]:["filter-in-small",u,["literal",l]]}}function Dh(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function Lh(u){return["!",u]}function Wg(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let _="[";for(const E of u)_+=`${Wg(E)},`;return`${_}]`}const f=Object.keys(u).sort();let m="{";for(let _=0;_<f.length;_++)m+=`${JSON.stringify(f[_])}:${Wg(u[f[_]])},`;return`${m}}`}function QE(u){let l="";for(const f of St)l+=`/${Wg(u[f])}`;return l}function cx(u){const l=u.value;return l?[new ut(u.key,l,"constants have been deprecated as of v8")]:[]}function Qn(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function mc(u){if(Array.isArray(u))return u.map(mc);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const f in u)l[f]=mc(u[f]);return l}return Qn(u)}function sa(u){const l=u.key,f=u.value,m=u.valueSpec||{},_=u.objectElementValidators||{},E=u.style,k=u.styleSpec,$=u.validateSpec;let N=[];const U=Nr(f);if(U!=="object")return[new ut(l,f,`object expected, ${U} found`)];for(const G in f){const K=G.split(".")[0],J=m[K]||m["*"];let te;if(_[K])te=_[K];else if(m[K])te=$;else if(_["*"])te=_["*"];else{if(!m["*"]){N.push(new ut(l,f[G],`unknown property "${G}"`));continue}te=$}N=N.concat(te({key:(l&&`${l}.`)+G,value:f[G],valueSpec:J,style:E,styleSpec:k,object:f,objectKey:G,validateSpec:$},f))}for(const G in m)_[G]||m[G].required&&m[G].default===void 0&&f[G]===void 0&&N.push(new ut(l,f,`missing required property "${G}"`));return N}function qg(u){const l=u.value,f=u.valueSpec,m=u.style,_=u.styleSpec,E=u.key,k=u.arrayElementValidator||u.validateSpec;if(Nr(l)!=="array")return[new ut(E,l,`array expected, ${Nr(l)} found`)];if(f.length&&l.length!==f.length)return[new ut(E,l,`array length ${f.length} expected, length ${l.length} found`)];if(f["min-length"]&&l.length<f["min-length"])return[new ut(E,l,`array length at least ${f["min-length"]} expected, length ${l.length} found`)];let $={type:f.value,values:f.values};_.$version<7&&($.function=f.function),Nr(f.value)==="object"&&($=f.value);let N=[];for(let U=0;U<l.length;U++)N=N.concat(k({array:l,arrayIndex:U,value:l[U],valueSpec:$,validateSpec:u.validateSpec,style:m,styleSpec:_,key:`${E}[${U}]`}));return N}function zh(u){const l=u.key,f=u.value,m=u.valueSpec;let _=Nr(f);return _==="number"&&f!=f&&(_="NaN"),_!=="number"?[new ut(l,f,`number expected, ${_} found`)]:"minimum"in m&&f<m.minimum?[new ut(l,f,`${f} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&f>m.maximum?[new ut(l,f,`${f} is greater than the maximum value ${m.maximum}`)]:[]}function Hg(u){const l=u.valueSpec,f=Qn(u.value.type);let m,_,E,k={};const $=f!=="categorical"&&u.value.property===void 0,N=!$,U=Nr(u.value.stops)==="array"&&Nr(u.value.stops[0])==="array"&&Nr(u.value.stops[0][0])==="object",G=sa({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(te){if(f==="identity")return[new ut(te.key,te.value,'identity function may not have a "stops" property')];let re=[];const fe=te.value;return re=re.concat(qg({key:te.key,value:fe,valueSpec:te.valueSpec,validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec,arrayElementValidator:K})),Nr(fe)==="array"&&fe.length===0&&re.push(new ut(te.key,fe,"array must have at least one stop")),re},default:function(te){return te.validateSpec({key:te.key,value:te.value,valueSpec:l,validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec})}}});return f==="identity"&&$&&G.push(new ut(u.key,u.value,'missing required property "property"')),f==="identity"||u.value.stops||G.push(new ut(u.key,u.value,'missing required property "stops"')),f==="exponential"&&u.valueSpec.expression&&!jg(u.valueSpec)&&G.push(new ut(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(N&&!xu(u.valueSpec)?G.push(new ut(u.key,u.value,"property functions not supported")):$&&!ax(u.valueSpec)&&G.push(new ut(u.key,u.value,"zoom functions not supported"))),f!=="categorical"&&!U||u.value.property!==void 0||G.push(new ut(u.key,u.value,'"property" property is required')),G;function K(te){let re=[];const fe=te.value,xe=te.key;if(Nr(fe)!=="array")return[new ut(xe,fe,`array expected, ${Nr(fe)} found`)];if(fe.length!==2)return[new ut(xe,fe,`array length 2 expected, length ${fe.length} found`)];if(U){if(Nr(fe[0])!=="object")return[new ut(xe,fe,`object expected, ${Nr(fe[0])} found`)];if(fe[0].zoom===void 0)return[new ut(xe,fe,"object stop key must have zoom")];if(fe[0].value===void 0)return[new ut(xe,fe,"object stop key must have value")];if(E&&E>Qn(fe[0].zoom))return[new ut(xe,fe[0].zoom,"stop zoom values must appear in ascending order")];Qn(fe[0].zoom)!==E&&(E=Qn(fe[0].zoom),_=void 0,k={}),re=re.concat(sa({key:`${xe}[0]`,value:fe[0],valueSpec:{zoom:{}},validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec,objectElementValidators:{zoom:zh,value:J}}))}else re=re.concat(J({key:`${xe}[0]`,value:fe[0],valueSpec:{},validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec},fe));return Rh(mc(fe[1]))?re.concat([new ut(`${xe}[1]`,fe[1],"expressions are not allowed in function stops.")]):re.concat(te.validateSpec({key:`${xe}[1]`,value:fe[1],valueSpec:l,validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec}))}function J(te,re){const fe=Nr(te.value),xe=Qn(te.value),Ce=te.value!==null?te.value:re;if(m){if(fe!==m)return[new ut(te.key,Ce,`${fe} stop domain type must match previous stop domain type ${m}`)]}else m=fe;if(fe!=="number"&&fe!=="string"&&fe!=="boolean")return[new ut(te.key,Ce,"stop domain value must be a number, string, or boolean")];if(fe!=="number"&&f!=="categorical"){let Ne=`number expected, ${fe} found`;return xu(l)&&f===void 0&&(Ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ut(te.key,Ce,Ne)]}return f!=="categorical"||fe!=="number"||isFinite(xe)&&Math.floor(xe)===xe?f!=="categorical"&&fe==="number"&&_!==void 0&&xe<_?[new ut(te.key,Ce,"stop domain values must appear in ascending order")]:(_=xe,f==="categorical"&&xe in k?[new ut(te.key,Ce,"stop domain values must be unique")]:(k[xe]=!0,[])):[new ut(te.key,Ce,`integer expected, found ${xe}`)]}}function zs(u){const l=(u.expressionContext==="property"?pn:_r)(mc(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new ut(`${u.key}${m.key}`,u.value,m.message));const f=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!f.outputDefined())return[new ut(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Kf(f))return[new ut(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!Kf(f))return[new ut(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Zf(f,["zoom","feature-state"]))return[new ut(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Th(f))return[new ut(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rd(u){const l=u.key,f=u.value,m=u.valueSpec,_=[];return Array.isArray(m.values)?m.values.indexOf(Qn(f))===-1&&_.push(new ut(l,f,`expected one of [${m.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(m.values).indexOf(Qn(f))===-1&&_.push(new ut(l,f,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(f)} found`)),_}function Nh(u){return Bg(mc(u.value))?zs(Or({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ux(u)}function ux(u){const l=u.value,f=u.key;if(Nr(l)!=="array")return[new ut(f,l,`array expected, ${Nr(l)} found`)];const m=u.styleSpec;let _,E=[];if(l.length<1)return[new ut(f,l,"filter array must have at least 1 element")];switch(E=E.concat(rd({key:`${f}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Qn(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Qn(l[1])==="$type"&&E.push(new ut(f,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&E.push(new ut(f,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(_=Nr(l[1]),_!=="string"&&E.push(new ut(`${f}[1]`,l[1],`string expected, ${_} found`)));for(let k=2;k<l.length;k++)_=Nr(l[k]),Qn(l[1])==="$type"?E=E.concat(rd({key:`${f}[${k}]`,value:l[k],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&E.push(new ut(`${f}[${k}]`,l[k],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let k=1;k<l.length;k++)E=E.concat(ux({key:`${f}[${k}]`,value:l[k],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":_=Nr(l[1]),l.length!==2?E.push(new ut(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="string"&&E.push(new ut(`${f}[1]`,l[1],`string expected, ${_} found`));break;case"within":_=Nr(l[1]),l.length!==2?E.push(new ut(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="object"&&E.push(new ut(`${f}[1]`,l[1],`object expected, ${_} found`))}return E}function jh(u,l){const f=u.key,m=u.validateSpec,_=u.style,E=u.styleSpec,k=u.value,$=u.objectKey,N=E[`${l}_${u.layerType}`];if(!N)return[];const U=$.match(/^(.*)-transition$/);if(l==="paint"&&U&&N[U[1]]&&N[U[1]].transition)return m({key:f,value:k,valueSpec:E.transition,style:_,styleSpec:E});const G=u.valueSpec||N[$];if(!G)return[new ut(f,k,`unknown property "${$}"`)];let K;if(Nr(k)==="string"&&xu(G)&&!G.tokens&&(K=/^{([^}]+)}$/.exec(k)))return[new ut(f,k,`"${$}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(K[1])} }\`.`)];const J=[];return u.layerType==="symbol"&&($==="text-field"&&_&&!_.glyphs&&J.push(new ut(f,k,'use of "text-field" requires a style "glyphs" property')),$==="text-font"&&Ih(mc(k))&&Qn(k.type)==="identity"&&J.push(new ut(f,k,'"text-font" does not support identity functions'))),J.concat(m({key:u.key,value:k,valueSpec:G,style:_,styleSpec:E,expressionContext:"property",propertyType:l,propertyKey:$}))}function nd(u){return jh(u,"paint")}function Bh(u){return jh(u,"layout")}function Fh(u){let l=[];const f=u.value,m=u.key,_=u.style,E=u.styleSpec;f.type||f.ref||l.push(new ut(m,f,'either "type" or "ref" is required'));let k=Qn(f.type);const $=Qn(f.ref);if(f.id){const N=Qn(f.id);for(let U=0;U<u.arrayIndex;U++){const G=_.layers[U];Qn(G.id)===N&&l.push(new ut(m,f.id,`duplicate layer id "${f.id}", previously used at line ${G.id.__line__}`))}}if("ref"in f){let N;["type","source","source-layer","filter","layout"].forEach(U=>{U in f&&l.push(new ut(m,f[U],`"${U}" is prohibited for ref layers`))}),_.layers.forEach(U=>{Qn(U.id)===$&&(N=U)}),N?N.ref?l.push(new ut(m,f.ref,"ref cannot reference another ref layer")):k=Qn(N.type):l.push(new ut(m,f.ref,`ref layer "${$}" not found`))}else if(k!=="background")if(f.source){const N=_.sources&&_.sources[f.source],U=N&&Qn(N.type);N?U==="vector"&&k==="raster"?l.push(new ut(m,f.source,`layer "${f.id}" requires a raster source`)):U==="raster"&&k!=="raster"?l.push(new ut(m,f.source,`layer "${f.id}" requires a vector source`)):U!=="vector"||f["source-layer"]?U==="raster-dem"&&k!=="hillshade"?l.push(new ut(m,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):k!=="line"||!f.paint||!f.paint["line-gradient"]||U==="geojson"&&N.lineMetrics||l.push(new ut(m,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new ut(m,f,`layer "${f.id}" must specify a "source-layer"`)):l.push(new ut(m,f.source,`source "${f.source}" not found`))}else l.push(new ut(m,f,'missing required property "source"'));return l=l.concat(sa({key:m,value:f,valueSpec:E.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:f.type,valueSpec:E.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:f,objectKey:"type"}),filter:Nh,layout:N=>sa({layer:f,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":U=>Bh(Or({layerType:k},U))}}),paint:N=>sa({layer:f,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":U=>nd(Or({layerType:k},U))}})}})),l}function gc(u){const l=u.value,f=u.key,m=Nr(l);return m!=="string"?[new ut(f,l,`string expected, ${m} found`)]:[]}const id={promoteId:function({key:u,value:l}){if(Nr(l)==="string")return gc({key:u,value:l});{const f=[];for(const m in l)f.push(...gc({key:`${u}.${m}`,value:l[m]}));return f}}};function fx(u){const l=u.value,f=u.key,m=u.styleSpec,_=u.style,E=u.validateSpec;if(!l.type)return[new ut(f,l,'"type" is required')];const k=Qn(l.type);let $;switch(k){case"vector":case"raster":case"raster-dem":return $=sa({key:f,value:l,valueSpec:m[`source_${k.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:id,validateSpec:E}),$;case"geojson":if($=sa({key:f,value:l,valueSpec:m.source_geojson,style:_,styleSpec:m,validateSpec:E,objectElementValidators:id}),l.cluster)for(const N in l.clusterProperties){const[U,G]=l.clusterProperties[N],K=typeof U=="string"?[U,["accumulated"],["get",N]]:U;$.push(...zs({key:`${f}.${N}.map`,value:G,validateSpec:E,expressionContext:"cluster-map"})),$.push(...zs({key:`${f}.${N}.reduce`,value:K,validateSpec:E,expressionContext:"cluster-reduce"}))}return $;case"video":return sa({key:f,value:l,valueSpec:m.source_video,style:_,validateSpec:E,styleSpec:m});case"image":return sa({key:f,value:l,valueSpec:m.source_image,style:_,validateSpec:E,styleSpec:m});case"canvas":return[new ut(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rd({key:`${f}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:E,styleSpec:m})}}function dx(u){const l=u.value,f=u.styleSpec,m=f.light,_=u.style;let E=[];const k=Nr(l);if(l===void 0)return E;if(k!=="object")return E=E.concat([new ut("light",l,`object expected, ${k} found`)]),E;for(const $ in l){const N=$.match(/^(.*)-transition$/);E=E.concat(N&&m[N[1]]&&m[N[1]].transition?u.validateSpec({key:$,value:l[$],valueSpec:f.transition,validateSpec:u.validateSpec,style:_,styleSpec:f}):m[$]?u.validateSpec({key:$,value:l[$],valueSpec:m[$],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new ut($,l[$],`unknown property "${$}"`)])}return E}function hx(u){const l=u.value,f=u.styleSpec,m=f.terrain,_=u.style;let E=[];const k=Nr(l);if(l===void 0)return E;if(k!=="object")return E=E.concat([new ut("terrain",l,`object expected, ${k} found`)]),E;for(const $ in l)E=E.concat(m[$]?u.validateSpec({key:$,value:l[$],valueSpec:m[$],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new ut($,l[$],`unknown property "${$}"`)]);return E}function px(u){let l=[];const f=u.value,m=u.key;if(Array.isArray(f)){const _=[],E=[];for(const k in f)f[k].id&&_.includes(f[k].id)&&l.push(new ut(m,f,`all the sprites' ids must be unique, but ${f[k].id} is duplicated`)),_.push(f[k].id),f[k].url&&E.includes(f[k].url)&&l.push(new ut(m,f,`all the sprites' URLs must be unique, but ${f[k].url} is duplicated`)),E.push(f[k].url),l=l.concat(sa({key:`${m}[${k}]`,value:f[k],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return gc({key:m,value:f})}const mx={"*":()=>[],array:qg,boolean:function(u){const l=u.value,f=u.key,m=Nr(l);return m!=="boolean"?[new ut(f,l,`boolean expected, ${m} found`)]:[]},number:zh,color:function(u){const l=u.key,f=u.value,m=Nr(f);return m!=="string"?[new ut(l,f,`color expected, ${m} found`)]:mt.parse(String(f))?[]:[new ut(l,f,`color expected, "${f}" found`)]},constants:cx,enum:rd,filter:Nh,function:Hg,layer:Fh,object:sa,source:fx,light:dx,terrain:hx,string:gc,formatted:function(u){return gc(u).length===0?[]:zs(u)},resolvedImage:function(u){return gc(u).length===0?[]:zs(u)},padding:function(u){const l=u.key,f=u.value;if(Nr(f)==="array"){if(f.length<1||f.length>4)return[new ut(l,f,`padding requires 1 to 4 values; ${f.length} values found`)];const m={type:"number"};let _=[];for(let E=0;E<f.length;E++)_=_.concat(u.validateSpec({key:`${l}[${E}]`,value:f[E],validateSpec:u.validateSpec,valueSpec:m}));return _}return zh({key:l,value:f,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,f=u.value,m=Nr(f),_=u.styleSpec;if(m!=="array"||f.length<1||f.length%2!=0)return[new ut(l,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let k=0;k<f.length;k+=2)E=E.concat(rd({key:`${l}[${k}]`,value:f[k],valueSpec:_.layout_symbol["text-anchor"]})),E=E.concat(qg({key:`${l}[${k+1}]`,value:f[k+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:_}));return E},sprite:px};function Sl(u){const l=u.value,f=u.valueSpec,m=u.styleSpec;return u.validateSpec=Sl,f.expression&&Ih(Qn(l))?Hg(u):f.expression&&Rh(mc(l))?zs(u):f.type&&mx[f.type]?mx[f.type](u):sa(Or({},u,{valueSpec:f.type?m[f.type]:f}))}function od(u){const l=u.value,f=u.key,m=gc(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new ut(f,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new ut(f,l,'"glyphs" url must include a "{range}" token'))),m}function ei(u,l=Re){let f=[];return f=f.concat(Sl({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:Sl,objectElementValidators:{glyphs:od,"*":()=>[]}})),u.constants&&(f=f.concat(cx({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:Sl}))),gx(f)}function la(u){return function(l){return u({...l,validateSpec:Sl})}}function gx(u){return[].concat(u).sort((l,f)=>l.line-f.line)}function Ns(u){return function(...l){return gx(u.apply(this,l))}}ei.source=Ns(la(fx)),ei.sprite=Ns(la(px)),ei.glyphs=Ns(la(od)),ei.light=Ns(la(dx)),ei.terrain=Ns(la(hx)),ei.layer=Ns(la(Fh)),ei.filter=Ns(la(Nh)),ei.paintProperty=Ns(la(nd)),ei.layoutProperty=Ns(la(Bh));const ad=ei,sd=ad.light,eC=ad.paintProperty,Gg=ad.layoutProperty;function yx(u,l){let f=!1;if(l&&l.length)for(const m of l)u.fire(new ct(new Error(m.message))),f=!0;return f}class yc{constructor(l,f,m){const _=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const k=new Int32Array(this.arrayBuffer);l=k[0],this.d=(f=k[1])+2*(m=k[2]);for(let N=0;N<this.d*this.d;N++){const U=k[3+N],G=k[3+N+1];_.push(U===G?null:k.subarray(U,G))}const $=k[3+_.length+1];this.keys=k.subarray(k[3+_.length],$),this.bboxes=k.subarray($),this.insert=this._insertReadonly}else{this.d=f+2*m;for(let k=0;k<this.d*this.d;k++)_.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=l,this.padding=m,this.scale=f/l,this.uid=0;const E=m/f*l;this.min=-E,this.max=l+E}insert(l,f,m,_,E){this._forEachCell(f,m,_,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,f,m,_,E,k){this.cells[E].push(k)}query(l,f,m,_,E){const k=this.min,$=this.max;if(l<=k&&f<=k&&$<=m&&$<=_&&!E)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(l,f,m,_,this._queryCell,N,{},E),N}}_queryCell(l,f,m,_,E,k,$,N){const U=this.cells[E];if(U!==null){const G=this.keys,K=this.bboxes;for(let J=0;J<U.length;J++){const te=U[J];if($[te]===void 0){const re=4*te;(N?N(K[re+0],K[re+1],K[re+2],K[re+3]):l<=K[re+2]&&f<=K[re+3]&&m>=K[re+0]&&_>=K[re+1])?($[te]=!0,k.push(G[te])):$[te]=!1}}}}_forEachCell(l,f,m,_,E,k,$,N){const U=this._convertToCellCoord(l),G=this._convertToCellCoord(f),K=this._convertToCellCoord(m),J=this._convertToCellCoord(_);for(let te=U;te<=K;te++)for(let re=G;re<=J;re++){const fe=this.d*re+te;if((!N||N(this._convertFromCellCoord(te),this._convertFromCellCoord(re),this._convertFromCellCoord(te+1),this._convertFromCellCoord(re+1)))&&E.call(this,l,f,m,_,fe,k,$,N))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,f=3+this.cells.length+1+1;let m=0;for(let k=0;k<this.cells.length;k++)m+=this.cells[k].length;const _=new Int32Array(f+m+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let E=f;for(let k=0;k<l.length;k++){const $=l[k];_[3+k]=E,_.set($,E),E+=$.length}return _[3+l.length]=E,_.set(this.keys,E),E+=this.keys.length,_[3+l.length+1]=E,_.set(this.bboxes,E),E+=this.bboxes.length,_.buffer}static serialize(l,f){const m=l.toArrayBuffer();return f&&f.push(m),{buffer:m}}static deserialize(l){return new yc(l.buffer)}}const El={};function Pt(u,l,f={}){if(El[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),El[u]={klass:l,omit:f.omit||[],shallow:f.shallow||[]}}Pt("Object",Object),Pt("TransferableGridIndex",yc),Pt("Color",mt),Pt("Error",Error),Pt("AJAXError",Xe),Pt("ResolvedImage",aa),Pt("StylePropertyFunction",pc),Pt("StyleExpression",Pn,{omit:["_evaluator"]}),Pt("ZoomDependentExpression",hn),Pt("ZoomConstantExpression",Qf),Pt("CompoundExpression",Uo,{omit:["_evaluate"]});for(const u in vu)vu[u]._classRegistryKey||Pt(`Expression_${u}`,vu[u]);function vx(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function vc(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(vx(u)||be(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const f=u;return l&&l.push(f.buffer),f}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const f=[];for(const m of u)f.push(vc(m,l));return f}if(typeof u=="object"){const f=u.constructor,m=f._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!El[m])throw new Error(`${m} is not registered.`);const _=f.serialize?f.serialize(u,l):{};if(f.serialize){if(l&&_===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in u){if(!u.hasOwnProperty(E)||El[m].omit.indexOf(E)>=0)continue;const k=u[E];_[E]=El[m].shallow.indexOf(E)>=0?k:vc(k,l)}u instanceof Error&&(_.message=u.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(_.$name=m),_}throw new Error("can't serialize object of type "+typeof u)}function bu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||vx(u)||be(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(bu);if(typeof u=="object"){const l=u.$name||"Object";if(!El[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:f}=El[l];if(!f)throw new Error(`can't deserialize unregistered class ${l}`);if(f.deserialize)return f.deserialize(u);const m=Object.create(f.prototype);for(const _ of Object.keys(u)){if(_==="$name")continue;const E=u[_];m[_]=El[l].shallow.indexOf(_)>=0?E:bu(E)}return m}throw new Error("can't deserialize object of type "+typeof u)}class Uh{constructor(){this.first=!0}update(l,f){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=f),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const Tt={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Vh(u){for(const l of u)if(wu(l.charCodeAt(0)))return!0;return!1}function tC(u){for(const l of u)if(!Yg(l.charCodeAt(0)))return!1;return!0}function Yg(u){return!(Tt.Arabic(u)||Tt["Arabic Supplement"](u)||Tt["Arabic Extended-A"](u)||Tt["Arabic Presentation Forms-A"](u)||Tt["Arabic Presentation Forms-B"](u))}function wu(u){return!(u!==746&&u!==747&&(u<4352||!(Tt["Bopomofo Extended"](u)||Tt.Bopomofo(u)||Tt["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Tt["CJK Compatibility Ideographs"](u)||Tt["CJK Compatibility"](u)||Tt["CJK Radicals Supplement"](u)||Tt["CJK Strokes"](u)||!(!Tt["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Tt["CJK Unified Ideographs Extension A"](u)||Tt["CJK Unified Ideographs"](u)||Tt["Enclosed CJK Letters and Months"](u)||Tt["Hangul Compatibility Jamo"](u)||Tt["Hangul Jamo Extended-A"](u)||Tt["Hangul Jamo Extended-B"](u)||Tt["Hangul Jamo"](u)||Tt["Hangul Syllables"](u)||Tt.Hiragana(u)||Tt["Ideographic Description Characters"](u)||Tt.Kanbun(u)||Tt["Kangxi Radicals"](u)||Tt["Katakana Phonetic Extensions"](u)||Tt.Katakana(u)&&u!==12540||!(!Tt["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Tt["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Tt["Unified Canadian Aboriginal Syllabics"](u)||Tt["Unified Canadian Aboriginal Syllabics Extended"](u)||Tt["Vertical Forms"](u)||Tt["Yijing Hexagram Symbols"](u)||Tt["Yi Syllables"](u)||Tt["Yi Radicals"](u))))}function Kg(u){return!(wu(u)||function(l){return!!(Tt["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Tt["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Tt["Letterlike Symbols"](l)||Tt["Number Forms"](l)||Tt["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Tt["Control Pictures"](l)&&l!==9251||Tt["Optical Character Recognition"](l)||Tt["Enclosed Alphanumerics"](l)||Tt["Geometric Shapes"](l)||Tt["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Tt["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Tt["CJK Symbols and Punctuation"](l)||Tt.Katakana(l)||Tt["Private Use Area"](l)||Tt["CJK Compatibility Forms"](l)||Tt["Small Form Variants"](l)||Tt["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function _x(u){return u>=1424&&u<=2303||Tt["Arabic Presentation Forms-A"](u)||Tt["Arabic Presentation Forms-B"](u)}function xx(u,l){return!(!l&&_x(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Tt.Khmer(u))}function rC(u){for(const l of u)if(_x(l.charCodeAt(0)))return!0;return!1}const ld="deferred",Zg="loading",Xg="loaded";let Jg=null,go="unavailable",js=null;const bx=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(go="error"),Jg&&Jg(u)};function Qg(){ey.fire(new Je("pluginStateChange",{pluginStatus:go,pluginURL:js}))}const ey=new Fe,ty=function(){return go},wx=function(){if(go!==ld||!js)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");go=Zg,Qg(),js&&Be({url:js},u=>{u?bx(u):(go=Xg,Qg())})},ca={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>go===Xg||ca.applyArabicShaping!=null,isLoading:()=>go===Zg,setState(u){if(!de())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");go=u.pluginStatus,js=u.pluginURL},isParsed(){if(!de())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ca.applyArabicShaping!=null&&ca.processBidirectionalText!=null&&ca.processStyledBidirectionalText!=null},getPluginURL(){if(!de())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return js}};class wn{constructor(l,f){this.zoom=l,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Uh,this.transition={})}isSupportedScript(l){return function(f,m){for(const _ of f)if(!xx(_.charCodeAt(0),m))return!1;return!0}(l,ca.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,f=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*f}}}class _c{constructor(l,f){this.property=l,this.value=f,this.expression=function(m,_){if(Ih(m))return new pc(m,_);if(Rh(m)){const E=pn(m,_);if(E.result==="error")throw new Error(E.value.map(k=>`${k.key}: ${k.message}`).join(", "));return E.value}{let E=m;return _.type==="color"&&typeof m=="string"?E=mt.parse(m):_.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(E=Ui.parse(m)):E=Fo.parse(m),{kind:"constant",evaluate:()=>E}}}(f===void 0?l.specification.default:f,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,f,m){return this.property.possiblyEvaluate(this,l,f,m)}}class ry{constructor(l){this.property=l,this.value=new _c(l,void 0)}transitioned(l,f){return new Sx(this.property,this.value,f,T({},l.transition,this.transition),l.now)}untransitioned(){return new Sx(this.property,this.value,null,{},0)}}class Wh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return V(this._values[l].value.value)}setValue(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ry(this._values[l].property)),this._values[l].value=new _c(this._values[l].property,f===null?void 0:V(f))}getTransition(l){return V(this._values[l].transition)}setTransition(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ry(this._values[l].property)),this._values[l].transition=V(f)||void 0}serialize(){const l={};for(const f of Object.keys(this._values)){const m=this.getValue(f);m!==void 0&&(l[f]=m);const _=this.getTransition(f);_!==void 0&&(l[`${f}-transition`]=_)}return l}transitioned(l,f){const m=new Ex(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].transitioned(l,f._values[_]);return m}untransitioned(){const l=new Ex(this._properties);for(const f of Object.keys(this._values))l._values[f]=this._values[f].untransitioned();return l}}class Sx{constructor(l,f,m,_,E){this.property=l,this.value=f,this.begin=E+_.delay||0,this.end=this.begin+_.duration||0,l.specification.transition&&(_.delay||_.duration)&&(this.prior=m)}possiblyEvaluate(l,f,m){const _=l.now||0,E=this.value.possiblyEvaluate(l,f,m),k=this.prior;if(k){if(_>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(_<this.begin)return k.possiblyEvaluate(l,f,m);{const $=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(k.possiblyEvaluate(l,f,m),E,function(N){if(N<=0)return 0;if(N>=1)return 1;const U=N*N,G=U*N;return 4*(N<.5?G:3*(N-U)+G-.75)}($))}}return E}}class Ex{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,f,m){const _=new qh(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(l,f,m);return _}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Cx{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return V(this._values[l].value)}setValue(l,f){this._values[l]=new _c(this._values[l].property,f===null?void 0:V(f))}serialize(){const l={};for(const f of Object.keys(this._values)){const m=this.getValue(f);m!==void 0&&(l[f]=m)}return l}possiblyEvaluate(l,f,m){const _=new qh(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(l,f,m);return _}}class Pa{constructor(l,f,m){this.property=l,this.value=f,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,f,m,_){return this.property.evaluate(this.value,this.parameters,l,f,m,_)}}class qh{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class qt{constructor(l){this.specification=l}possiblyEvaluate(l,f){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(f)}interpolate(l,f,m){const _=Vo[this.specification.type];return _?_(l,f,m):l}}class Qt{constructor(l,f){this.specification=l,this.overrides=f}possiblyEvaluate(l,f,m,_){return new Pa(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(f,null,{},m,_)}:l.expression,f)}interpolate(l,f,m){if(l.value.kind!=="constant"||f.value.kind!=="constant")return l;if(l.value.value===void 0||f.value.value===void 0)return new Pa(this,{kind:"constant",value:void 0},l.parameters);const _=Vo[this.specification.type];if(_){const E=_(l.value.value,f.value.value,m);return new Pa(this,{kind:"constant",value:E},l.parameters)}return l}evaluate(l,f,m,_,E,k){return l.kind==="constant"?l.value:l.evaluate(f,m,_,E,k)}}class Hh extends Qt{possiblyEvaluate(l,f,m,_){if(l.value===void 0)return new Pa(this,{kind:"constant",value:void 0},f);if(l.expression.kind==="constant"){const E=l.expression.evaluate(f,null,{},m,_),k=l.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,$=this._calculate(k,k,k,f);return new Pa(this,{kind:"constant",value:$},f)}if(l.expression.kind==="camera"){const E=this._calculate(l.expression.evaluate({zoom:f.zoom-1}),l.expression.evaluate({zoom:f.zoom}),l.expression.evaluate({zoom:f.zoom+1}),f);return new Pa(this,{kind:"constant",value:E},f)}return new Pa(this,l.expression,f)}evaluate(l,f,m,_,E,k){if(l.kind==="source"){const $=l.evaluate(f,m,_,E,k);return this._calculate($,$,$,f)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(f.zoom)-1},m,_),l.evaluate({zoom:Math.floor(f.zoom)},m,_),l.evaluate({zoom:Math.floor(f.zoom)+1},m,_),f):l.value}_calculate(l,f,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:m,to:f}}interpolate(l){return l}}class ny{constructor(l){this.specification=l}possiblyEvaluate(l,f,m,_){if(l.value!==void 0){if(l.expression.kind==="constant"){const E=l.expression.evaluate(f,null,{},m,_);return this._calculate(E,E,E,f)}return this._calculate(l.expression.evaluate(new wn(Math.floor(f.zoom-1),f)),l.expression.evaluate(new wn(Math.floor(f.zoom),f)),l.expression.evaluate(new wn(Math.floor(f.zoom+1),f)),f)}}_calculate(l,f,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:m,to:f}}interpolate(l){return l}}class iy{constructor(l){this.specification=l}possiblyEvaluate(l,f,m,_){return!!l.expression.evaluate(f,null,{},m,_)}interpolate(){return!1}}class yi{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const f in l){const m=l[f];m.specification.overridable&&this.overridableProperties.push(f);const _=this.defaultPropertyValues[f]=new _c(m,void 0),E=this.defaultTransitionablePropertyValues[f]=new ry(m);this.defaultTransitioningPropertyValues[f]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=_.possiblyEvaluate({})}}}Pt("DataDrivenProperty",Qt),Pt("DataConstantProperty",qt),Pt("CrossFadedDataDrivenProperty",Hh),Pt("CrossFadedProperty",ny),Pt("ColorRampProperty",iy);const Tx="-transition";class is extends Fe{constructor(l,f){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),f.layout&&(this._unevaluatedLayout=new Cx(f.layout)),f.paint)){this._transitionablePaint=new Wh(f.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qh(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,f,m={}){f!=null&&this._validate(Gg,`layers.${this.id}.layout.${l}`,l,f,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,f):this.visibility=f)}getPaintProperty(l){return l.endsWith(Tx)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,f,m={}){if(f!=null&&this._validate(eC,`layers.${this.id}.paint.${l}`,l,f,m))return!1;if(l.endsWith(Tx))return this._transitionablePaint.setTransition(l.slice(0,-11),f||void 0),!1;{const _=this._transitionablePaint._values[l],E=_.property.specification["property-type"]==="cross-faded-data-driven",k=_.value.isDataDriven(),$=_.value;this._transitionablePaint.setValue(l,f),this._handleSpecialPaintPropertyUpdate(l);const N=this._transitionablePaint._values[l].value;return N.isDataDriven()||k||E||this._handleOverridablePaintPropertyUpdate(l,$,N)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,f,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,f){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,f)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),j(l,(f,m)=>!(f===void 0||m==="layout"&&!Object.keys(f).length||m==="paint"&&!Object.keys(f).length))}_validate(l,f,m,_,E={}){return(!E||E.validate!==!1)&&yx(this,l.call(ad,{key:f,layerType:this.type,objectKey:m,value:_,styleSpec:Re,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const f=this.paint.get(l);if(f instanceof Pa&&xu(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}const nC={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Su{constructor(l,f){this._structArray=l,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class An{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,f){return l._trim(),f&&(l.isTransferred=!0,f.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const f=Object.create(this.prototype);return f.arrayBuffer=l.arrayBuffer,f.length=l.length,f.capacity=l.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ti(u,l=1){let f=0,m=0;return{members:u.map(_=>{const E=nC[_.type].BYTES_PER_ELEMENT,k=f=Bs(f,Math.max(l,E)),$=_.components||1;return m=Math.max(m,E),f+=E*$,{name:_.name,type:_.type,components:$,offset:k}}),size:Bs(f,Math.max(m,l)),alignment:l}}function Bs(u,l){return Math.ceil(u/l)*l}class Eu extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f){const m=this.length;return this.resize(m+1),this.emplace(m,l,f)}emplace(l,f,m){const _=2*l;return this.int16[_+0]=f,this.int16[_+1]=m,l}}Eu.prototype.bytesPerElement=4,Pt("StructArrayLayout2i4",Eu);class Cu extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.int16[E+0]=f,this.int16[E+1]=m,this.int16[E+2]=_,l}}Cu.prototype.bytesPerElement=6,Pt("StructArrayLayout3i6",Cu);class Gh extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,f,m,_)}emplace(l,f,m,_,E){const k=4*l;return this.int16[k+0]=f,this.int16[k+1]=m,this.int16[k+2]=_,this.int16[k+3]=E,l}}Gh.prototype.bytesPerElement=8,Pt("StructArrayLayout4i8",Gh);class cd extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k){const $=this.length;return this.resize($+1),this.emplace($,l,f,m,_,E,k)}emplace(l,f,m,_,E,k,$){const N=6*l;return this.int16[N+0]=f,this.int16[N+1]=m,this.int16[N+2]=_,this.int16[N+3]=E,this.int16[N+4]=k,this.int16[N+5]=$,l}}cd.prototype.bytesPerElement=12,Pt("StructArrayLayout2i4i12",cd);class oy extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k){const $=this.length;return this.resize($+1),this.emplace($,l,f,m,_,E,k)}emplace(l,f,m,_,E,k,$){const N=4*l,U=8*l;return this.int16[N+0]=f,this.int16[N+1]=m,this.uint8[U+4]=_,this.uint8[U+5]=E,this.uint8[U+6]=k,this.uint8[U+7]=$,l}}oy.prototype.bytesPerElement=8,Pt("StructArrayLayout2i4ub8",oy);class Cl extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f){const m=this.length;return this.resize(m+1),this.emplace(m,l,f)}emplace(l,f,m){const _=2*l;return this.float32[_+0]=f,this.float32[_+1]=m,l}}Cl.prototype.bytesPerElement=8,Pt("StructArrayLayout2f8",Cl);class xc extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,N,U,G){const K=this.length;return this.resize(K+1),this.emplace(K,l,f,m,_,E,k,$,N,U,G)}emplace(l,f,m,_,E,k,$,N,U,G,K){const J=10*l;return this.uint16[J+0]=f,this.uint16[J+1]=m,this.uint16[J+2]=_,this.uint16[J+3]=E,this.uint16[J+4]=k,this.uint16[J+5]=$,this.uint16[J+6]=N,this.uint16[J+7]=U,this.uint16[J+8]=G,this.uint16[J+9]=K,l}}xc.prototype.bytesPerElement=20,Pt("StructArrayLayout10ui20",xc);class ay extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,N,U,G,K,J){const te=this.length;return this.resize(te+1),this.emplace(te,l,f,m,_,E,k,$,N,U,G,K,J)}emplace(l,f,m,_,E,k,$,N,U,G,K,J,te){const re=12*l;return this.int16[re+0]=f,this.int16[re+1]=m,this.int16[re+2]=_,this.int16[re+3]=E,this.uint16[re+4]=k,this.uint16[re+5]=$,this.uint16[re+6]=N,this.uint16[re+7]=U,this.int16[re+8]=G,this.int16[re+9]=K,this.int16[re+10]=J,this.int16[re+11]=te,l}}ay.prototype.bytesPerElement=24,Pt("StructArrayLayout4i4ui4i24",ay);class Yh extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.float32[E+0]=f,this.float32[E+1]=m,this.float32[E+2]=_,l}}Yh.prototype.bytesPerElement=12,Pt("StructArrayLayout3f12",Yh);class bc extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint32[1*l+0]=f,l}}bc.prototype.bytesPerElement=4,Pt("StructArrayLayout1ul4",bc);class sy extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,N,U){const G=this.length;return this.resize(G+1),this.emplace(G,l,f,m,_,E,k,$,N,U)}emplace(l,f,m,_,E,k,$,N,U,G){const K=10*l,J=5*l;return this.int16[K+0]=f,this.int16[K+1]=m,this.int16[K+2]=_,this.int16[K+3]=E,this.int16[K+4]=k,this.int16[K+5]=$,this.uint32[J+3]=N,this.uint16[K+8]=U,this.uint16[K+9]=G,l}}sy.prototype.bytesPerElement=20,Pt("StructArrayLayout6i1ul2ui20",sy);class ly extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k){const $=this.length;return this.resize($+1),this.emplace($,l,f,m,_,E,k)}emplace(l,f,m,_,E,k,$){const N=6*l;return this.int16[N+0]=f,this.int16[N+1]=m,this.int16[N+2]=_,this.int16[N+3]=E,this.int16[N+4]=k,this.int16[N+5]=$,l}}ly.prototype.bytesPerElement=12,Pt("StructArrayLayout2i2i2i12",ly);class Kh extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E){const k=this.length;return this.resize(k+1),this.emplace(k,l,f,m,_,E)}emplace(l,f,m,_,E,k){const $=4*l,N=8*l;return this.float32[$+0]=f,this.float32[$+1]=m,this.float32[$+2]=_,this.int16[N+6]=E,this.int16[N+7]=k,l}}Kh.prototype.bytesPerElement=16,Pt("StructArrayLayout2f1f2i16",Kh);class cy extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,f,m,_)}emplace(l,f,m,_,E){const k=12*l,$=3*l;return this.uint8[k+0]=f,this.uint8[k+1]=m,this.float32[$+1]=_,this.float32[$+2]=E,l}}cy.prototype.bytesPerElement=12,Pt("StructArrayLayout2ub2f12",cy);class Zh extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.uint16[E+0]=f,this.uint16[E+1]=m,this.uint16[E+2]=_,l}}Zh.prototype.bytesPerElement=6,Pt("StructArrayLayout3ui6",Zh);class zr extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe,xe,Ce){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe,xe,Ce)}emplace(l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe,xe,Ce,Ne){const Me=24*l,Ue=12*l,He=48*l;return this.int16[Me+0]=f,this.int16[Me+1]=m,this.uint16[Me+2]=_,this.uint16[Me+3]=E,this.uint32[Ue+2]=k,this.uint32[Ue+3]=$,this.uint32[Ue+4]=N,this.uint16[Me+10]=U,this.uint16[Me+11]=G,this.uint16[Me+12]=K,this.float32[Ue+7]=J,this.float32[Ue+8]=te,this.uint8[He+36]=re,this.uint8[He+37]=fe,this.uint8[He+38]=xe,this.uint32[Ue+10]=Ce,this.int16[Me+22]=Ne,l}}zr.prototype.bytesPerElement=48,Pt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",zr);class S extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe,xe,Ce,Ne,Me,Ue,He,rt,kt,Bt,Ct,bt,gt,It){const _t=this.length;return this.resize(_t+1),this.emplace(_t,l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe,xe,Ce,Ne,Me,Ue,He,rt,kt,Bt,Ct,bt,gt,It)}emplace(l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe,xe,Ce,Ne,Me,Ue,He,rt,kt,Bt,Ct,bt,gt,It,_t){const ht=32*l,Kt=16*l;return this.int16[ht+0]=f,this.int16[ht+1]=m,this.int16[ht+2]=_,this.int16[ht+3]=E,this.int16[ht+4]=k,this.int16[ht+5]=$,this.int16[ht+6]=N,this.int16[ht+7]=U,this.uint16[ht+8]=G,this.uint16[ht+9]=K,this.uint16[ht+10]=J,this.uint16[ht+11]=te,this.uint16[ht+12]=re,this.uint16[ht+13]=fe,this.uint16[ht+14]=xe,this.uint16[ht+15]=Ce,this.uint16[ht+16]=Ne,this.uint16[ht+17]=Me,this.uint16[ht+18]=Ue,this.uint16[ht+19]=He,this.uint16[ht+20]=rt,this.uint16[ht+21]=kt,this.uint16[ht+22]=Bt,this.uint32[Kt+12]=Ct,this.float32[Kt+13]=bt,this.float32[Kt+14]=gt,this.uint16[ht+30]=It,this.uint16[ht+31]=_t,l}}S.prototype.bytesPerElement=64,Pt("StructArrayLayout8i15ui1ul2f2ui64",S);class c extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.float32[1*l+0]=f,l}}c.prototype.bytesPerElement=4,Pt("StructArrayLayout1f4",c);class p extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.uint16[6*l+0]=f,this.float32[E+1]=m,this.float32[E+2]=_,l}}p.prototype.bytesPerElement=12,Pt("StructArrayLayout1ui2f12",p);class y extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=4*l;return this.uint32[2*l+0]=f,this.uint16[E+2]=m,this.uint16[E+3]=_,l}}y.prototype.bytesPerElement=8,Pt("StructArrayLayout1ul2ui8",y);class x extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f){const m=this.length;return this.resize(m+1),this.emplace(m,l,f)}emplace(l,f,m){const _=2*l;return this.uint16[_+0]=f,this.uint16[_+1]=m,l}}x.prototype.bytesPerElement=4,Pt("StructArrayLayout2ui4",x);class C extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint16[1*l+0]=f,l}}C.prototype.bytesPerElement=2,Pt("StructArrayLayout1ui2",C);class D extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,f,m,_)}emplace(l,f,m,_,E){const k=4*l;return this.float32[k+0]=f,this.float32[k+1]=m,this.float32[k+2]=_,this.float32[k+3]=E,l}}D.prototype.bytesPerElement=16,Pt("StructArrayLayout4f16",D);class L extends Su{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new v(this.anchorPointX,this.anchorPointY)}}L.prototype.size=20;class B extends sy{get(l){return new L(this,l)}}Pt("CollisionBoxArray",B);class q extends Su{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}q.prototype.size=48;class H extends zr{get(l){return new q(this,l)}}Pt("PlacedSymbolArray",H);class Y extends Su{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Y.prototype.size=64;class ee extends S{get(l){return new Y(this,l)}}Pt("SymbolInstanceArray",ee);class ue extends c{getoffsetX(l){return this.float32[1*l+0]}}Pt("GlyphOffsetArray",ue);class ce extends Cu{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Pt("SymbolLineVertexArray",ce);class ge extends Su{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ge.prototype.size=12;class le extends p{get(l){return new ge(this,l)}}Pt("TextAnchorOffsetArray",le);class $e extends Su{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}$e.prototype.size=8;class We extends y{get(l){return new $e(this,l)}}Pt("FeatureIndexArray",We);class we extends Eu{}class ze extends Eu{}class Ye extends Eu{}class Ze extends cd{}class tt extends oy{}class dt extends Cl{}class ot extends xc{}class pt extends ay{}class jt extends Yh{}class xr extends bc{}class xt extends ly{}class er extends cy{}class $t extends Zh{}class sn extends x{}const vr=ti([{name:"a_pos",components:2,type:"Int16"}],4),{members:dr}=vr;class tr{constructor(l=[]){this.segments=l}prepareSegment(l,f,m,_){let E=this.segments[this.segments.length-1];return l>tr.MAX_VERTEX_ARRAY_LENGTH&&ie(`Max vertices per segment is ${tr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!E||E.vertexLength+l>tr.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==_)&&(E={vertexOffset:f.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},_!==void 0&&(E.sortKey=_),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const l of this.segments)for(const f in l.vaos)l.vaos[f].destroy()}static simpleSegment(l,f,m,_){return new tr([{vertexOffset:l,primitiveOffset:f,vertexLength:m,primitiveLength:_,vaos:{},sortKey:0}])}}function Bn(u,l){return 256*(u=O(Math.floor(u),0,255))+O(Math.floor(l),0,255)}tr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Pt("SegmentVector",tr);const Hr=ti([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ro={exports:{}},Ei={exports:{}};Ei.exports=function(u,l){var f,m,_,E,k,$,N,U;for(m=u.length-(f=3&u.length),_=l,k=3432918353,$=461845907,U=0;U<m;)N=255&u.charCodeAt(U)|(255&u.charCodeAt(++U))<<8|(255&u.charCodeAt(++U))<<16|(255&u.charCodeAt(++U))<<24,++U,_=27492+(65535&(E=5*(65535&(_=(_^=N=(65535&(N=(N=(65535&N)*k+(((N>>>16)*k&65535)<<16)&4294967295)<<15|N>>>17))*$+(((N>>>16)*$&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(N=0,f){case 3:N^=(255&u.charCodeAt(U+2))<<16;case 2:N^=(255&u.charCodeAt(U+1))<<8;case 1:_^=N=(65535&(N=(N=(65535&(N^=255&u.charCodeAt(U)))*k+(((N>>>16)*k&65535)<<16)&4294967295)<<15|N>>>17))*$+(((N>>>16)*$&65535)<<16)&4294967295}return _^=u.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var ri=Ei.exports,yo={exports:{}};yo.exports=function(u,l){for(var f,m=u.length,_=l^m,E=0;m>=4;)f=1540483477*(65535&(f=255&u.charCodeAt(E)|(255&u.charCodeAt(++E))<<8|(255&u.charCodeAt(++E))<<16|(255&u.charCodeAt(++E))<<24))+((1540483477*(f>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),m-=4,++E;switch(m){case 3:_^=(255&u.charCodeAt(E+2))<<16;case 2:_^=(255&u.charCodeAt(E+1))<<8;case 1:_=1540483477*(65535&(_^=255&u.charCodeAt(E)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var Aa=ri,Fs=yo.exports;ro.exports=Aa,ro.exports.murmur3=Aa,ro.exports.murmur2=Fs;var Us=d(ro.exports);class Tl{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,f,m,_){this.ids.push(wc(l)),this.positions.push(f,m,_)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const f=wc(l);let m=0,_=this.ids.length-1;for(;m<_;){const k=m+_>>1;this.ids[k]>=f?_=k:m=k+1}const E=[];for(;this.ids[m]===f;)E.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return E}static serialize(l,f){const m=new Float64Array(l.ids),_=new Uint32Array(l.positions);return kl(m,_,0,m.length-1),f&&f.push(m.buffer,_.buffer),{ids:m,positions:_}}static deserialize(l){const f=new Tl;return f.ids=l.ids,f.positions=l.positions,f.indexed=!0,f}}function wc(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Us(String(u))}function kl(u,l,f,m){for(;f<m;){const _=u[f+m>>1];let E=f-1,k=m+1;for(;;){do E++;while(u[E]<_);do k--;while(u[k]>_);if(E>=k)break;Ci(u,E,k),Ci(l,3*E,3*k),Ci(l,3*E+1,3*k+1),Ci(l,3*E+2,3*k+2)}k-f<m-k?(kl(u,l,f,k),f=k+1):(kl(u,l,k+1,m),m=k)}}function Ci(u,l,f){const m=u[l];u[l]=u[f],u[f]=m}Pt("FeaturePositionMap",Tl);class Fn{constructor(l,f){this.gl=l.gl,this.location=f}}class Ti extends Fn{constructor(l,f){super(l,f),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Tu extends Fn{constructor(l,f){super(l,f),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class ci extends Fn{constructor(l,f){super(l,f),this.current=mt.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const ki=new Float32Array(16);function vo(u){return[Bn(255*u.r,255*u.g),Bn(255*u.b,255*u.a)]}class Mn{constructor(l,f,m){this.value=l,this.uniformNames=f.map(_=>`u_${_}`),this.type=m}setUniform(l,f,m){l.set(m.constantOr(this.value))}getBinding(l,f,m){return this.type==="color"?new ci(l,f):new Ti(l,f)}}class ku{constructor(l,f){this.uniformNames=f.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=l.tlbr}setUniform(l,f,m,_){const E=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&l.set(E)}getBinding(l,f,m){return m.substr(0,9)==="u_pattern"?new Tu(l,f):new Ti(l,f)}}class Vs{constructor(l,f,m,_){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=f.map(E=>({name:`a_${E}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(l,f,m,_,E){const k=this.paintVertexArray.length,$=this.expression.evaluate(new wn(0),f,{},_,[],E);this.paintVertexArray.resize(l),this._setPaintValue(k,l,$)}updatePaintArray(l,f,m,_){const E=this.expression.evaluate({zoom:0},m,_);this._setPaintValue(l,f,E)}_setPaintValue(l,f,m){if(this.type==="color"){const _=vo(m);for(let E=l;E<f;E++)this.paintVertexArray.emplace(E,_[0],_[1])}else{for(let _=l;_<f;_++)this.paintVertexArray.emplace(_,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ma{constructor(l,f,m,_,E,k){this.expression=l,this.uniformNames=f.map($=>`u_${$}_t`),this.type=m,this.useIntegerZoom=_,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=f.map($=>({name:`a_${$}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new k}populatePaintArray(l,f,m,_,E){const k=this.expression.evaluate(new wn(this.zoom),f,{},_,[],E),$=this.expression.evaluate(new wn(this.zoom+1),f,{},_,[],E),N=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(N,l,k,$)}updatePaintArray(l,f,m,_){const E=this.expression.evaluate({zoom:this.zoom},m,_),k=this.expression.evaluate({zoom:this.zoom+1},m,_);this._setPaintValue(l,f,E,k)}_setPaintValue(l,f,m,_){if(this.type==="color"){const E=vo(m),k=vo(_);for(let $=l;$<f;$++)this.paintVertexArray.emplace($,E[0],E[1],k[0],k[1])}else{for(let E=l;E<f;E++)this.paintVertexArray.emplace(E,m,_);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,f){const m=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,_=O(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(_)}getBinding(l,f,m){return new Ti(l,f)}}class Pl{constructor(l,f,m,_,E,k){this.expression=l,this.type=f,this.useIntegerZoom=m,this.zoom=_,this.layerId=k,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(l,f,m){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(_,l,f.patterns&&f.patterns[this.layerId],m)}updatePaintArray(l,f,m,_,E){this._setPaintValues(l,f,m.patterns&&m.patterns[this.layerId],E)}_setPaintValues(l,f,m,_){if(!_||!m)return;const{min:E,mid:k,max:$}=m,N=_[E],U=_[k],G=_[$];if(N&&U&&G)for(let K=l;K<f;K++)this.zoomInPaintVertexArray.emplace(K,U.tl[0],U.tl[1],U.br[0],U.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],U.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(K,U.tl[0],U.tl[1],U.br[0],U.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],U.pixelRatio,G.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Hr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Hr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class kx{constructor(l,f,m){this.binders={},this._buffers=[];const _=[];for(const E in l.paint._values){if(!m(E))continue;const k=l.paint.get(E);if(!(k instanceof Pa&&xu(k.property.specification)))continue;const $=Pu(E,l.type),N=k.value,U=k.property.specification.type,G=k.property.useIntegerZoom,K=k.property.specification["property-type"],J=K==="cross-faded"||K==="cross-faded-data-driven";if(N.kind==="constant")this.binders[E]=J?new ku(N.value,$):new Mn(N.value,$,U),_.push(`/u_${E}`);else if(N.kind==="source"||J){const te=uy(E,U,"source");this.binders[E]=J?new Pl(N,U,G,f,te,l.id):new Vs(N,$,U,te),_.push(`/a_${E}`)}else{const te=uy(E,U,"composite");this.binders[E]=new Ma(N,$,U,G,f,te),_.push(`/z_${E}`)}}this.cacheKey=_.sort().join("")}getMaxValue(l){const f=this.binders[l];return f instanceof Vs||f instanceof Ma?f.maxValue:0}populatePaintArrays(l,f,m,_,E){for(const k in this.binders){const $=this.binders[k];($ instanceof Vs||$ instanceof Ma||$ instanceof Pl)&&$.populatePaintArray(l,f,m,_,E)}}setConstantPatternPositions(l,f){for(const m in this.binders){const _=this.binders[m];_ instanceof ku&&_.setConstantPatternPositions(l,f)}}updatePaintArrays(l,f,m,_,E){let k=!1;for(const $ in l){const N=f.getPositions($);for(const U of N){const G=m.feature(U.index);for(const K in this.binders){const J=this.binders[K];if((J instanceof Vs||J instanceof Ma||J instanceof Pl)&&J.expression.isStateDependent===!0){const te=_.paint.get(K);J.expression=te.value,J.updatePaintArray(U.start,U.end,G,l[$],E),k=!0}}}}return k}defines(){const l=[];for(const f in this.binders){const m=this.binders[f];(m instanceof Mn||m instanceof ku)&&l.push(...m.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return l}getBinderAttributes(){const l=[];for(const f in this.binders){const m=this.binders[f];if(m instanceof Vs||m instanceof Ma)for(let _=0;_<m.paintVertexAttributes.length;_++)l.push(m.paintVertexAttributes[_].name);else if(m instanceof Pl)for(let _=0;_<Hr.members.length;_++)l.push(Hr.members[_].name)}return l}getBinderUniforms(){const l=[];for(const f in this.binders){const m=this.binders[f];if(m instanceof Mn||m instanceof ku||m instanceof Ma)for(const _ of m.uniformNames)l.push(_)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,f){const m=[];for(const _ in this.binders){const E=this.binders[_];if(E instanceof Mn||E instanceof ku||E instanceof Ma){for(const k of E.uniformNames)if(f[k]){const $=E.getBinding(l,f[k],k);m.push({name:k,property:_,binding:$})}}}return m}setUniforms(l,f,m,_){for(const{name:E,property:k,binding:$}of f)this.binders[k].setUniform($,_,m.get(k),E)}updatePaintBuffers(l){this._buffers=[];for(const f in this.binders){const m=this.binders[f];if(l&&m instanceof Pl){const _=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(m instanceof Vs||m instanceof Ma)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const f in this.binders){const m=this.binders[f];(m instanceof Vs||m instanceof Ma||m instanceof Pl)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const f=this.binders[l];(f instanceof Vs||f instanceof Ma||f instanceof Pl)&&f.destroy()}}}class Sc{constructor(l,f,m=()=>!0){this.programConfigurations={};for(const _ of l)this.programConfigurations[_.id]=new kx(_,f,m);this.needsUpload=!1,this._featureMap=new Tl,this._bufferOffset=0}populatePaintArrays(l,f,m,_,E,k){for(const $ in this.programConfigurations)this.programConfigurations[$].populatePaintArrays(l,f,_,E,k);f.id!==void 0&&this._featureMap.add(f.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,f,m,_){for(const E of m)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(l,this._featureMap,f,E,_)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const f in this.programConfigurations)this.programConfigurations[f].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function Pu(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function uy(u,l,f){const m={color:{source:Cl,composite:D},number:{source:c,composite:Cl}},_=function(E){return{"line-pattern":{source:ot,composite:ot},"fill-pattern":{source:ot,composite:ot},"fill-extrusion-pattern":{source:ot,composite:ot}}[E]}(u);return _&&_[f]||m[l][f]}Pt("ConstantBinder",Mn),Pt("CrossFadedConstantBinder",ku),Pt("SourceExpressionBinder",Vs),Pt("CrossFadedCompositeBinder",Pl),Pt("CompositeExpressionBinder",Ma),Pt("ProgramConfiguration",kx,{omit:["_buffers"]}),Pt("ProgramConfigurationSet",Sc);const On=8192,Xh=Math.pow(2,14)-1,Jh=-Xh-1;function Al(u){const l=On/u.extent,f=u.loadGeometry();for(let m=0;m<f.length;m++){const _=f[m];for(let E=0;E<_.length;E++){const k=_[E],$=Math.round(k.x*l),N=Math.round(k.y*l);k.x=O($,Jh,Xh),k.y=O(N,Jh,Xh),($<k.x||$>k.x+1||N<k.y||N>k.y+1)&&ie("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function Ws(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?Al(u):[]}}function Px(u,l,f,m,_){u.emplaceBack(2*l+(m+1)/2,2*f+(_+1)/2)}class iC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new ze,this.indexArray=new $t,this.segments=new tr,this.programConfigurations=new Sc(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){const _=this.layers[0],E=[];let k=null,$=!1;_.type==="circle"&&(k=_.layout.get("circle-sort-key"),$=!k.isConstant());for(const{feature:N,id:U,index:G,sourceLayerIndex:K}of l){const J=this.layers[0]._featureFilter.needGeometry,te=Ws(N,J);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),te,m))continue;const re=$?k.evaluate(te,{},m):void 0,fe={id:U,properties:N.properties,type:N.type,sourceLayerIndex:K,index:G,geometry:J?te.geometry:Al(N),patterns:{},sortKey:re};E.push(fe)}$&&E.sort((N,U)=>N.sortKey-U.sortKey);for(const N of E){const{geometry:U,index:G,sourceLayerIndex:K}=N,J=l[G].feature;this.addFeature(N,U,G,m),f.featureIndex.insert(J,U,G,K,this.index)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,dr),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,f,m,_){for(const E of f)for(const k of E){const $=k.x,N=k.y;if($<0||$>=On||N<0||N>=On)continue;const U=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),G=U.vertexLength;Px(this.layoutVertexArray,$,N,-1,-1),Px(this.layoutVertexArray,$,N,1,-1),Px(this.layoutVertexArray,$,N,1,1),Px(this.layoutVertexArray,$,N,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+3,G+2),U.vertexLength+=4,U.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},_)}}function zD(u,l){for(let f=0;f<u.length;f++)if(Qh(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(Qh(u,l[f]))return!0;return!!oC(u,l)}function uY(u,l,f){return!!Qh(u,l)||!!aC(l,u,f)}function ND(u,l){if(u.length===1)return BD(l,u[0]);for(let f=0;f<l.length;f++){const m=l[f];for(let _=0;_<m.length;_++)if(Qh(u,m[_]))return!0}for(let f=0;f<u.length;f++)if(BD(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(oC(u,l[f]))return!0;return!1}function fY(u,l,f){if(u.length>1){if(oC(u,l))return!0;for(let m=0;m<l.length;m++)if(aC(l[m],u,f))return!0}for(let m=0;m<u.length;m++)if(aC(u[m],l,f))return!0;return!1}function oC(u,l){if(u.length===0||l.length===0)return!1;for(let f=0;f<u.length-1;f++){const m=u[f],_=u[f+1];for(let E=0;E<l.length-1;E++)if(dY(m,_,l[E],l[E+1]))return!0}return!1}function dY(u,l,f,m){return ne(u,f,m)!==ne(l,f,m)&&ne(u,l,f)!==ne(u,l,m)}function aC(u,l,f){const m=f*f;if(l.length===1)return u.distSqr(l[0])<m;for(let _=1;_<l.length;_++)if(jD(u,l[_-1],l[_])<m)return!0;return!1}function jD(u,l,f){const m=l.distSqr(f);if(m===0)return u.distSqr(l);const _=((u.x-l.x)*(f.x-l.x)+(u.y-l.y)*(f.y-l.y))/m;return u.distSqr(_<0?l:_>1?f:f.sub(l)._mult(_)._add(l))}function BD(u,l){let f,m,_,E=!1;for(let k=0;k<u.length;k++){f=u[k];for(let $=0,N=f.length-1;$<f.length;N=$++)m=f[$],_=f[N],m.y>l.y!=_.y>l.y&&l.x<(_.x-m.x)*(l.y-m.y)/(_.y-m.y)+m.x&&(E=!E)}return E}function Qh(u,l){let f=!1;for(let m=0,_=u.length-1;m<u.length;_=m++){const E=u[m],k=u[_];E.y>l.y!=k.y>l.y&&l.x<(k.x-E.x)*(l.y-E.y)/(k.y-E.y)+E.x&&(f=!f)}return f}function hY(u,l,f){const m=f[0],_=f[2];if(u.x<m.x&&l.x<m.x||u.x>_.x&&l.x>_.x||u.y<m.y&&l.y<m.y||u.y>_.y&&l.y>_.y)return!1;const E=ne(u,l,f[0]);return E!==ne(u,l,f[1])||E!==ne(u,l,f[2])||E!==ne(u,l,f[3])}function fy(u,l,f){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:f.programConfigurations.get(l.id).getMaxValue(u)}function Ax(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Mx(u,l,f,m,_){if(!l[0]&&!l[1])return u;const E=v.convert(l)._mult(_);f==="viewport"&&E._rotate(-m);const k=[];for(let $=0;$<u.length;$++)k.push(u[$].sub(E));return k}let FD,UD;Pt("CircleBucket",iC,{omit:["layers"]});var pY={get paint(){return UD=UD||new yi({"circle-radius":new Qt(Re.paint_circle["circle-radius"]),"circle-color":new Qt(Re.paint_circle["circle-color"]),"circle-blur":new Qt(Re.paint_circle["circle-blur"]),"circle-opacity":new Qt(Re.paint_circle["circle-opacity"]),"circle-translate":new qt(Re.paint_circle["circle-translate"]),"circle-translate-anchor":new qt(Re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qt(Re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qt(Re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qt(Re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qt(Re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qt(Re.paint_circle["circle-stroke-opacity"])})},get layout(){return FD=FD||new yi({"circle-sort-key":new Qt(Re.layout_circle["circle-sort-key"])})}},_o=1e-6,ep=typeof Float32Array<"u"?Float32Array:Array;function sC(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function VD(u,l,f){var m=l[0],_=l[1],E=l[2],k=l[3],$=l[4],N=l[5],U=l[6],G=l[7],K=l[8],J=l[9],te=l[10],re=l[11],fe=l[12],xe=l[13],Ce=l[14],Ne=l[15],Me=f[0],Ue=f[1],He=f[2],rt=f[3];return u[0]=Me*m+Ue*$+He*K+rt*fe,u[1]=Me*_+Ue*N+He*J+rt*xe,u[2]=Me*E+Ue*U+He*te+rt*Ce,u[3]=Me*k+Ue*G+He*re+rt*Ne,u[4]=(Me=f[4])*m+(Ue=f[5])*$+(He=f[6])*K+(rt=f[7])*fe,u[5]=Me*_+Ue*N+He*J+rt*xe,u[6]=Me*E+Ue*U+He*te+rt*Ce,u[7]=Me*k+Ue*G+He*re+rt*Ne,u[8]=(Me=f[8])*m+(Ue=f[9])*$+(He=f[10])*K+(rt=f[11])*fe,u[9]=Me*_+Ue*N+He*J+rt*xe,u[10]=Me*E+Ue*U+He*te+rt*Ce,u[11]=Me*k+Ue*G+He*re+rt*Ne,u[12]=(Me=f[12])*m+(Ue=f[13])*$+(He=f[14])*K+(rt=f[15])*fe,u[13]=Me*_+Ue*N+He*J+rt*xe,u[14]=Me*E+Ue*U+He*te+rt*Ce,u[15]=Me*k+Ue*G+He*re+rt*Ne,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var dy,mY=VD;function Ox(u,l,f){var m=l[0],_=l[1],E=l[2],k=l[3];return u[0]=f[0]*m+f[4]*_+f[8]*E+f[12]*k,u[1]=f[1]*m+f[5]*_+f[9]*E+f[13]*k,u[2]=f[2]*m+f[6]*_+f[10]*E+f[14]*k,u[3]=f[3]*m+f[7]*_+f[11]*E+f[15]*k,u}dy=new ep(4),ep!=Float32Array&&(dy[0]=0,dy[1]=0,dy[2]=0,dy[3]=0);class gY extends is{constructor(l){super(l,pY)}createBucket(l){return new iC(l)}queryRadius(l){const f=l;return fy("circle-radius",this,f)+fy("circle-stroke-width",this,f)+Ax(this.paint.get("circle-translate"))}queryIntersectsFeature(l,f,m,_,E,k,$,N){const U=Mx(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),k.angle,$),G=this.paint.get("circle-radius").evaluate(f,m)+this.paint.get("circle-stroke-width").evaluate(f,m),K=this.paint.get("circle-pitch-alignment")==="map",J=K?U:function(re,fe){return re.map(xe=>WD(xe,fe))}(U,N),te=K?G*$:G;for(const re of _)for(const fe of re){const xe=K?fe:WD(fe,N);let Ce=te;const Ne=Ox([],[fe.x,fe.y,0,1],N);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ce*=Ne[3]/k.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ce*=k.cameraToCenterDistance/Ne[3]),uY(J,xe,Ce))return!0}return!1}}function WD(u,l){const f=Ox([],[u.x,u.y,0,1],l);return new v(f[0]/f[3],f[1]/f[3])}class qD extends iC{}let HD;Pt("HeatmapBucket",qD,{omit:["layers"]});var yY={get paint(){return HD=HD||new yi({"heatmap-radius":new Qt(Re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qt(Re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qt(Re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new iy(Re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qt(Re.paint_heatmap["heatmap-opacity"])})}};function lC(u,{width:l,height:f},m,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==l*f*m)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${l*f*m}`)}else _=new Uint8Array(l*f*m);return u.width=l,u.height=f,u.data=_,u}function GD(u,{width:l,height:f},m){if(l===u.width&&f===u.height)return;const _=lC({},{width:l,height:f},m);cC(u,_,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,f)},m),u.width=l,u.height=f,u.data=_.data}function cC(u,l,f,m,_,E){if(_.width===0||_.height===0)return l;if(_.width>u.width||_.height>u.height||f.x>u.width-_.width||f.y>u.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>l.width||_.height>l.height||m.x>l.width-_.width||m.y>l.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const k=u.data,$=l.data;if(k===$)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<_.height;N++){const U=((f.y+N)*u.width+f.x)*E,G=((m.y+N)*l.width+m.x)*E;for(let K=0;K<_.width*E;K++)$[G+K]=k[U+K]}return l}class hy{constructor(l,f){lC(this,l,1,f)}resize(l){GD(this,l,1)}clone(){return new hy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,m,_,E){cC(l,f,m,_,E,1)}}class Oa{constructor(l,f){lC(this,l,4,f)}resize(l){GD(this,l,4)}replace(l,f){f?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Oa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,m,_,E){cC(l,f,m,_,E,4)}}function YD(u){const l={},f=u.resolution||256,m=u.clips?u.clips.length:1,_=u.image||new Oa({width:f,height:m});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);const E=(k,$,N)=>{l[u.evaluationKey]=N;const U=u.expression.evaluate(l);_.data[k+$+0]=Math.floor(255*U.r/U.a),_.data[k+$+1]=Math.floor(255*U.g/U.a),_.data[k+$+2]=Math.floor(255*U.b/U.a),_.data[k+$+3]=Math.floor(255*U.a)};if(u.clips)for(let k=0,$=0;k<m;++k,$+=4*f)for(let N=0,U=0;N<f;N++,U+=4){const G=N/(f-1),{start:K,end:J}=u.clips[k];E($,U,K*(1-G)+J*G)}else for(let k=0,$=0;k<f;k++,$+=4)E(0,$,k/(f-1));return _}Pt("AlphaImage",hy),Pt("RGBAImage",Oa);class vY extends is{createBucket(l){return new qD(l)}constructor(l){super(l,yY),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=YD({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let KD;var _Y={get paint(){return KD=KD||new yi({"hillshade-illumination-direction":new qt(Re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new qt(Re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qt(Re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qt(Re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qt(Re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qt(Re.paint_hillshade["hillshade-accent-color"])})}};class xY extends is{constructor(l){super(l,_Y)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const bY=ti([{name:"a_pos",components:2,type:"Int16"}],4),{members:wY}=bY;var uC={exports:{}};function Ix(u,l,f){f=f||2;var m,_,E,k,$,N,U,G=l&&l.length,K=G?l[0]*f:u.length,J=ZD(u,0,K,f,!0),te=[];if(!J||J.next===J.prev)return te;if(G&&(J=function(fe,xe,Ce,Ne){var Me,Ue,He,rt=[];for(Me=0,Ue=xe.length;Me<Ue;Me++)(He=ZD(fe,xe[Me]*Ne,Me<Ue-1?xe[Me+1]*Ne:fe.length,Ne,!1))===He.next&&(He.steiner=!0),rt.push(MY(He));for(rt.sort(kY),Me=0;Me<rt.length;Me++)Ce=PY(rt[Me],Ce);return Ce}(u,l,J,f)),u.length>80*f){m=E=u[0],_=k=u[1];for(var re=f;re<K;re+=f)($=u[re])<m&&(m=$),(N=u[re+1])<_&&(_=N),$>E&&(E=$),N>k&&(k=N);U=(U=Math.max(E-m,k-_))!==0?32767/U:0}return py(J,te,f,m,_,U,0),te}function ZD(u,l,f,m,_){var E,k;if(_===hC(u,l,f,m)>0)for(E=l;E<f;E+=m)k=QD(E,u[E],u[E+1],k);else for(E=f-m;E>=l;E-=m)k=QD(E,u[E],u[E+1],k);return k&&Rx(k,k.next)&&(gy(k),k=k.next),k}function ud(u,l){if(!u)return u;l||(l=u);var f,m=u;do if(f=!1,m.steiner||!Rx(m,m.next)&&ni(m.prev,m,m.next)!==0)m=m.next;else{if(gy(m),(m=l=m.prev)===m.next)break;f=!0}while(f||m!==l);return l}function py(u,l,f,m,_,E,k){if(u){!k&&E&&function(G,K,J,te){var re=G;do re.z===0&&(re.z=fC(re.x,re.y,K,J,te)),re.prevZ=re.prev,re.nextZ=re.next,re=re.next;while(re!==G);re.prevZ.nextZ=null,re.prevZ=null,function(fe){var xe,Ce,Ne,Me,Ue,He,rt,kt,Bt=1;do{for(Ce=fe,fe=null,Ue=null,He=0;Ce;){for(He++,Ne=Ce,rt=0,xe=0;xe<Bt&&(rt++,Ne=Ne.nextZ);xe++);for(kt=Bt;rt>0||kt>0&&Ne;)rt!==0&&(kt===0||!Ne||Ce.z<=Ne.z)?(Me=Ce,Ce=Ce.nextZ,rt--):(Me=Ne,Ne=Ne.nextZ,kt--),Ue?Ue.nextZ=Me:fe=Me,Me.prevZ=Ue,Ue=Me;Ce=Ne}Ue.nextZ=null,Bt*=2}while(He>1)}(re)}(u,m,_,E);for(var $,N,U=u;u.prev!==u.next;)if($=u.prev,N=u.next,E?EY(u,m,_,E):SY(u))l.push($.i/f|0),l.push(u.i/f|0),l.push(N.i/f|0),gy(u),u=N.next,U=N.next;else if((u=N)===U){k?k===1?py(u=CY(ud(u),l,f),l,f,m,_,E,2):k===2&&TY(u,l,f,m,_,E):py(ud(u),l,f,m,_,E,1);break}}}function SY(u){var l=u.prev,f=u,m=u.next;if(ni(l,f,m)>=0)return!1;for(var _=l.x,E=f.x,k=m.x,$=l.y,N=f.y,U=m.y,G=_<E?_<k?_:k:E<k?E:k,K=$<N?$<U?$:U:N<U?N:U,J=_>E?_>k?_:k:E>k?E:k,te=$>N?$>U?$:U:N>U?N:U,re=m.next;re!==l;){if(re.x>=G&&re.x<=J&&re.y>=K&&re.y<=te&&tp(_,$,E,N,k,U,re.x,re.y)&&ni(re.prev,re,re.next)>=0)return!1;re=re.next}return!0}function EY(u,l,f,m){var _=u.prev,E=u,k=u.next;if(ni(_,E,k)>=0)return!1;for(var $=_.x,N=E.x,U=k.x,G=_.y,K=E.y,J=k.y,te=$<N?$<U?$:U:N<U?N:U,re=G<K?G<J?G:J:K<J?K:J,fe=$>N?$>U?$:U:N>U?N:U,xe=G>K?G>J?G:J:K>J?K:J,Ce=fC(te,re,l,f,m),Ne=fC(fe,xe,l,f,m),Me=u.prevZ,Ue=u.nextZ;Me&&Me.z>=Ce&&Ue&&Ue.z<=Ne;){if(Me.x>=te&&Me.x<=fe&&Me.y>=re&&Me.y<=xe&&Me!==_&&Me!==k&&tp($,G,N,K,U,J,Me.x,Me.y)&&ni(Me.prev,Me,Me.next)>=0||(Me=Me.prevZ,Ue.x>=te&&Ue.x<=fe&&Ue.y>=re&&Ue.y<=xe&&Ue!==_&&Ue!==k&&tp($,G,N,K,U,J,Ue.x,Ue.y)&&ni(Ue.prev,Ue,Ue.next)>=0))return!1;Ue=Ue.nextZ}for(;Me&&Me.z>=Ce;){if(Me.x>=te&&Me.x<=fe&&Me.y>=re&&Me.y<=xe&&Me!==_&&Me!==k&&tp($,G,N,K,U,J,Me.x,Me.y)&&ni(Me.prev,Me,Me.next)>=0)return!1;Me=Me.prevZ}for(;Ue&&Ue.z<=Ne;){if(Ue.x>=te&&Ue.x<=fe&&Ue.y>=re&&Ue.y<=xe&&Ue!==_&&Ue!==k&&tp($,G,N,K,U,J,Ue.x,Ue.y)&&ni(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.nextZ}return!0}function CY(u,l,f){var m=u;do{var _=m.prev,E=m.next.next;!Rx(_,E)&&XD(_,m,m.next,E)&&my(_,E)&&my(E,_)&&(l.push(_.i/f|0),l.push(m.i/f|0),l.push(E.i/f|0),gy(m),gy(m.next),m=u=E),m=m.next}while(m!==u);return ud(m)}function TY(u,l,f,m,_,E){var k=u;do{for(var $=k.next.next;$!==k.prev;){if(k.i!==$.i&&OY(k,$)){var N=JD(k,$);return k=ud(k,k.next),N=ud(N,N.next),py(k,l,f,m,_,E,0),void py(N,l,f,m,_,E,0)}$=$.next}k=k.next}while(k!==u)}function kY(u,l){return u.x-l.x}function PY(u,l){var f=function(_,E){var k,$=E,N=_.x,U=_.y,G=-1/0;do{if(U<=$.y&&U>=$.next.y&&$.next.y!==$.y){var K=$.x+(U-$.y)*($.next.x-$.x)/($.next.y-$.y);if(K<=N&&K>G&&(G=K,k=$.x<$.next.x?$:$.next,K===N))return k}$=$.next}while($!==E);if(!k)return null;var J,te=k,re=k.x,fe=k.y,xe=1/0;$=k;do N>=$.x&&$.x>=re&&N!==$.x&&tp(U<fe?N:G,U,re,fe,U<fe?G:N,U,$.x,$.y)&&(J=Math.abs(U-$.y)/(N-$.x),my($,_)&&(J<xe||J===xe&&($.x>k.x||$.x===k.x&&AY(k,$)))&&(k=$,xe=J)),$=$.next;while($!==te);return k}(u,l);if(!f)return l;var m=JD(f,u);return ud(m,m.next),ud(f,f.next)}function AY(u,l){return ni(u.prev,u,l.prev)<0&&ni(l.next,u,u.next)<0}function fC(u,l,f,m,_){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-f)*_|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*_|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function MY(u){var l=u,f=u;do(l.x<f.x||l.x===f.x&&l.y<f.y)&&(f=l),l=l.next;while(l!==u);return f}function tp(u,l,f,m,_,E,k,$){return(_-k)*(l-$)>=(u-k)*(E-$)&&(u-k)*(m-$)>=(f-k)*(l-$)&&(f-k)*(E-$)>=(_-k)*(m-$)}function OY(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(f,m){var _=f;do{if(_.i!==f.i&&_.next.i!==f.i&&_.i!==m.i&&_.next.i!==m.i&&XD(_,_.next,f,m))return!0;_=_.next}while(_!==f);return!1}(u,l)&&(my(u,l)&&my(l,u)&&function(f,m){var _=f,E=!1,k=(f.x+m.x)/2,$=(f.y+m.y)/2;do _.y>$!=_.next.y>$&&_.next.y!==_.y&&k<(_.next.x-_.x)*($-_.y)/(_.next.y-_.y)+_.x&&(E=!E),_=_.next;while(_!==f);return E}(u,l)&&(ni(u.prev,u,l.prev)||ni(u,l.prev,l))||Rx(u,l)&&ni(u.prev,u,u.next)>0&&ni(l.prev,l,l.next)>0)}function ni(u,l,f){return(l.y-u.y)*(f.x-l.x)-(l.x-u.x)*(f.y-l.y)}function Rx(u,l){return u.x===l.x&&u.y===l.y}function XD(u,l,f,m){var _=Dx(ni(u,l,f)),E=Dx(ni(u,l,m)),k=Dx(ni(f,m,u)),$=Dx(ni(f,m,l));return _!==E&&k!==$||!(_!==0||!$x(u,f,l))||!(E!==0||!$x(u,m,l))||!(k!==0||!$x(f,u,m))||!($!==0||!$x(f,l,m))}function $x(u,l,f){return l.x<=Math.max(u.x,f.x)&&l.x>=Math.min(u.x,f.x)&&l.y<=Math.max(u.y,f.y)&&l.y>=Math.min(u.y,f.y)}function Dx(u){return u>0?1:u<0?-1:0}function my(u,l){return ni(u.prev,u,u.next)<0?ni(u,l,u.next)>=0&&ni(u,u.prev,l)>=0:ni(u,l,u.prev)<0||ni(u,u.next,l)<0}function JD(u,l){var f=new dC(u.i,u.x,u.y),m=new dC(l.i,l.x,l.y),_=u.next,E=l.prev;return u.next=l,l.prev=u,f.next=_,_.prev=f,m.next=f,f.prev=m,E.next=m,m.prev=E,m}function QD(u,l,f,m){var _=new dC(u,l,f);return m?(_.next=m.next,_.prev=m,m.next.prev=_,m.next=_):(_.prev=_,_.next=_),_}function gy(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function dC(u,l,f){this.i=u,this.x=l,this.y=f,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hC(u,l,f,m){for(var _=0,E=l,k=f-m;E<f;E+=m)_+=(u[k]-u[E])*(u[E+1]+u[k+1]),k=E;return _}uC.exports=Ix,uC.exports.default=Ix,Ix.deviation=function(u,l,f,m){var _=l&&l.length,E=Math.abs(hC(u,0,_?l[0]*f:u.length,f));if(_)for(var k=0,$=l.length;k<$;k++)E-=Math.abs(hC(u,l[k]*f,k<$-1?l[k+1]*f:u.length,f));var N=0;for(k=0;k<m.length;k+=3){var U=m[k]*f,G=m[k+1]*f,K=m[k+2]*f;N+=Math.abs((u[U]-u[K])*(u[G+1]-u[U+1])-(u[U]-u[G])*(u[K+1]-u[U+1]))}return E===0&&N===0?0:Math.abs((N-E)/E)},Ix.flatten=function(u){for(var l=u[0][0].length,f={vertices:[],holes:[],dimensions:l},m=0,_=0;_<u.length;_++){for(var E=0;E<u[_].length;E++)for(var k=0;k<l;k++)f.vertices.push(u[_][E][k]);_>0&&f.holes.push(m+=u[_-1].length)}return f};var eL=d(uC.exports);function IY(u,l,f,m,_){tL(u,l,f||0,m||u.length-1,_||RY)}function tL(u,l,f,m,_){for(;m>f;){if(m-f>600){var E=m-f+1,k=l-f+1,$=Math.log(E),N=.5*Math.exp(2*$/3),U=.5*Math.sqrt($*N*(E-N)/E)*(k-E/2<0?-1:1);tL(u,l,Math.max(f,Math.floor(l-k*N/E+U)),Math.min(m,Math.floor(l+(E-k)*N/E+U)),_)}var G=u[l],K=f,J=m;for(yy(u,f,l),_(u[m],G)>0&&yy(u,f,m);K<J;){for(yy(u,K,J),K++,J--;_(u[K],G)<0;)K++;for(;_(u[J],G)>0;)J--}_(u[f],G)===0?yy(u,f,J):yy(u,++J,m),J<=l&&(f=J+1),l<=J&&(m=J-1)}}function yy(u,l,f){var m=u[l];u[l]=u[f],u[f]=m}function RY(u,l){return u<l?-1:u>l?1:0}function pC(u,l){const f=u.length;if(f<=1)return[u];const m=[];let _,E;for(let k=0;k<f;k++){const $=ae(u[k]);$!==0&&(u[k].area=Math.abs($),E===void 0&&(E=$<0),E===$<0?(_&&m.push(_),_=[u[k]]):_.push(u[k]))}if(_&&m.push(_),l>1)for(let k=0;k<m.length;k++)m[k].length<=l||(IY(m[k],l,1,m[k].length-1,$Y),m[k]=m[k].slice(0,l));return m}function $Y(u,l){return l.area-u.area}function mC(u,l,f){const m=f.patternDependencies;let _=!1;for(const E of l){const k=E.paint.get(`${u}-pattern`);k.isConstant()||(_=!0);const $=k.constantOr(null);$&&(_=!0,m[$.to]=!0,m[$.from]=!0)}return _}function gC(u,l,f,m,_){const E=_.patternDependencies;for(const k of l){const $=k.paint.get(`${u}-pattern`).value;if($.kind!=="constant"){let N=$.evaluate({zoom:m-1},f,{},_.availableImages),U=$.evaluate({zoom:m},f,{},_.availableImages),G=$.evaluate({zoom:m+1},f,{},_.availableImages);N=N&&N.name?N.name:N,U=U&&U.name?U.name:U,G=G&&G.name?G.name:G,E[N]=!0,E[U]=!0,E[G]=!0,f.patterns[k.id]={min:N,mid:U,max:G}}}return f}class yC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ye,this.indexArray=new $t,this.indexArray2=new sn,this.programConfigurations=new Sc(l.layers,l.zoom),this.segments=new tr,this.segments2=new tr,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){this.hasPattern=mC("fill",this.layers,f);const _=this.layers[0].layout.get("fill-sort-key"),E=!_.isConstant(),k=[];for(const{feature:$,id:N,index:U,sourceLayerIndex:G}of l){const K=this.layers[0]._featureFilter.needGeometry,J=Ws($,K);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),J,m))continue;const te=E?_.evaluate(J,{},m,f.availableImages):void 0,re={id:N,properties:$.properties,type:$.type,sourceLayerIndex:G,index:U,geometry:K?J.geometry:Al($),patterns:{},sortKey:te};k.push(re)}E&&k.sort(($,N)=>$.sortKey-N.sortKey);for(const $ of k){const{geometry:N,index:U,sourceLayerIndex:G}=$;if(this.hasPattern){const K=gC("fill",this.layers,$,this.zoom,f);this.patternFeatures.push(K)}else this.addFeature($,N,U,m,{});f.featureIndex.insert(l[U].feature,N,U,G,this.index)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}addFeatures(l,f,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,wY),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,f,m,_,E){for(const k of pC(f,500)){let $=0;for(const te of k)$+=te.length;const N=this.segments.prepareSegment($,this.layoutVertexArray,this.indexArray),U=N.vertexLength,G=[],K=[];for(const te of k){if(te.length===0)continue;te!==k[0]&&K.push(G.length/2);const re=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),fe=re.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(fe+te.length-1,fe),G.push(te[0].x),G.push(te[0].y);for(let xe=1;xe<te.length;xe++)this.layoutVertexArray.emplaceBack(te[xe].x,te[xe].y),this.indexArray2.emplaceBack(fe+xe-1,fe+xe),G.push(te[xe].x),G.push(te[xe].y);re.vertexLength+=te.length,re.primitiveLength+=te.length}const J=eL(G,K);for(let te=0;te<J.length;te+=3)this.indexArray.emplaceBack(U+J[te],U+J[te+1],U+J[te+2]);N.vertexLength+=$,N.primitiveLength+=J.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,E,_)}}let rL,nL;Pt("FillBucket",yC,{omit:["layers","patternFeatures"]});var DY={get paint(){return nL=nL||new yi({"fill-antialias":new qt(Re.paint_fill["fill-antialias"]),"fill-opacity":new Qt(Re.paint_fill["fill-opacity"]),"fill-color":new Qt(Re.paint_fill["fill-color"]),"fill-outline-color":new Qt(Re.paint_fill["fill-outline-color"]),"fill-translate":new qt(Re.paint_fill["fill-translate"]),"fill-translate-anchor":new qt(Re.paint_fill["fill-translate-anchor"]),"fill-pattern":new Hh(Re.paint_fill["fill-pattern"])})},get layout(){return rL=rL||new yi({"fill-sort-key":new Qt(Re.layout_fill["fill-sort-key"])})}};class LY extends is{constructor(l){super(l,DY)}recalculate(l,f){super.recalculate(l,f);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new yC(l)}queryRadius(){return Ax(this.paint.get("fill-translate"))}queryIntersectsFeature(l,f,m,_,E,k,$){return ND(Mx(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),k.angle,$),_)}isTileClipped(){return!0}}const zY=ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),NY=ti([{name:"a_centroid",components:2,type:"Int16"}],4),{members:jY}=zY;var Au={},BY=h,iL=rp;function rp(u,l,f,m,_){this.properties={},this.extent=f,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=_,u.readFields(FY,this,l)}function FY(u,l,f){u==1?l.id=f.readVarint():u==2?function(m,_){for(var E=m.readVarint()+m.pos;m.pos<E;){var k=_._keys[m.readVarint()],$=_._values[m.readVarint()];_.properties[k]=$}}(f,l):u==3?l.type=f.readVarint():u==4&&(l._geometry=f.pos)}function UY(u){for(var l,f,m=0,_=0,E=u.length,k=E-1;_<E;k=_++)m+=((f=u[k]).x-(l=u[_]).x)*(l.y+f.y);return m}rp.types=["Unknown","Point","LineString","Polygon"],rp.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,f=u.readVarint()+u.pos,m=1,_=0,E=0,k=0,$=[];u.pos<f;){if(_<=0){var N=u.readVarint();m=7&N,_=N>>3}if(_--,m===1||m===2)E+=u.readSVarint(),k+=u.readSVarint(),m===1&&(l&&$.push(l),l=[]),l.push(new BY(E,k));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&$.push(l),$},rp.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,f=1,m=0,_=0,E=0,k=1/0,$=-1/0,N=1/0,U=-1/0;u.pos<l;){if(m<=0){var G=u.readVarint();f=7&G,m=G>>3}if(m--,f===1||f===2)(_+=u.readSVarint())<k&&(k=_),_>$&&($=_),(E+=u.readSVarint())<N&&(N=E),E>U&&(U=E);else if(f!==7)throw new Error("unknown command "+f)}return[k,N,$,U]},rp.prototype.toGeoJSON=function(u,l,f){var m,_,E=this.extent*Math.pow(2,f),k=this.extent*u,$=this.extent*l,N=this.loadGeometry(),U=rp.types[this.type];function G(te){for(var re=0;re<te.length;re++){var fe=te[re];te[re]=[360*(fe.x+k)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(fe.y+$)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var K=[];for(m=0;m<N.length;m++)K[m]=N[m][0];G(N=K);break;case 2:for(m=0;m<N.length;m++)G(N[m]);break;case 3:for(N=function(te){var re=te.length;if(re<=1)return[te];for(var fe,xe,Ce=[],Ne=0;Ne<re;Ne++){var Me=UY(te[Ne]);Me!==0&&(xe===void 0&&(xe=Me<0),xe===Me<0?(fe&&Ce.push(fe),fe=[te[Ne]]):fe.push(te[Ne]))}return fe&&Ce.push(fe),Ce}(N),m=0;m<N.length;m++)for(_=0;_<N[m].length;_++)G(N[m][_])}N.length===1?N=N[0]:U="Multi"+U;var J={type:"Feature",geometry:{type:U,coordinates:N},properties:this.properties};return"id"in this&&(J.id=this.id),J};var VY=iL,oL=aL;function aL(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(WY,this,l),this.length=this._features.length}function WY(u,l,f){u===15?l.version=f.readVarint():u===1?l.name=f.readString():u===5?l.extent=f.readVarint():u===2?l._features.push(f.pos):u===3?l._keys.push(f.readString()):u===4&&l._values.push(function(m){for(var _=null,E=m.readVarint()+m.pos;m.pos<E;){var k=m.readVarint()>>3;_=k===1?m.readString():k===2?m.readFloat():k===3?m.readDouble():k===4?m.readVarint64():k===5?m.readVarint():k===6?m.readSVarint():k===7?m.readBoolean():null}return _}(f))}aL.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new VY(this._pbf,l,this.extent,this._keys,this._values)};var qY=oL;function HY(u,l,f){if(u===3){var m=new qY(f,f.readVarint()+f.pos);m.length&&(l[m.name]=m)}}Au.VectorTile=function(u,l){this.layers=u.readFields(HY,{},l)},Au.VectorTileFeature=iL,Au.VectorTileLayer=oL;const GY=Au.VectorTileFeature.types,vC=Math.pow(2,13);function vy(u,l,f,m,_,E,k,$){u.emplaceBack(l,f,2*Math.floor(m*vC)+k,_*vC*2,E*vC*2,Math.round($))}class _C{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ze,this.centroidVertexArray=new we,this.indexArray=new $t,this.programConfigurations=new Sc(l.layers,l.zoom),this.segments=new tr,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){this.features=[],this.hasPattern=mC("fill-extrusion",this.layers,f);for(const{feature:_,id:E,index:k,sourceLayerIndex:$}of l){const N=this.layers[0]._featureFilter.needGeometry,U=Ws(_,N);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),U,m))continue;const G={id:E,sourceLayerIndex:$,index:k,geometry:N?U.geometry:Al(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(gC("fill-extrusion",this.layers,G,this.zoom,f)):this.addFeature(G,G.geometry,k,m,{}),f.featureIndex.insert(_,G.geometry,k,$,this.index,!0)}}addFeatures(l,f,m){for(const _ of this.features){const{geometry:E}=_;this.addFeature(_,E,_.index,f,m)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,jY),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,NY.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,f,m,_,E){const k={x:0,y:0,vertexCount:0};for(const $ of pC(f,500)){let N=0;for(const re of $)N+=re.length;let U=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const re of $){if(re.length===0||KY(re))continue;let fe=0;for(let xe=0;xe<re.length;xe++){const Ce=re[xe];if(xe>=1){const Ne=re[xe-1];if(!YY(Ce,Ne)){U.vertexLength+4>tr.MAX_VERTEX_ARRAY_LENGTH&&(U=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Me=Ce.sub(Ne)._perp()._unit(),Ue=Ne.dist(Ce);fe+Ue>32768&&(fe=0),vy(this.layoutVertexArray,Ce.x,Ce.y,Me.x,Me.y,0,0,fe),vy(this.layoutVertexArray,Ce.x,Ce.y,Me.x,Me.y,0,1,fe),k.x+=2*Ce.x,k.y+=2*Ce.y,k.vertexCount+=2,fe+=Ue,vy(this.layoutVertexArray,Ne.x,Ne.y,Me.x,Me.y,0,0,fe),vy(this.layoutVertexArray,Ne.x,Ne.y,Me.x,Me.y,0,1,fe),k.x+=2*Ne.x,k.y+=2*Ne.y,k.vertexCount+=2;const He=U.vertexLength;this.indexArray.emplaceBack(He,He+2,He+1),this.indexArray.emplaceBack(He+1,He+2,He+3),U.vertexLength+=4,U.primitiveLength+=2}}}}if(U.vertexLength+N>tr.MAX_VERTEX_ARRAY_LENGTH&&(U=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray)),GY[l.type]!=="Polygon")continue;const G=[],K=[],J=U.vertexLength;for(const re of $)if(re.length!==0){re!==$[0]&&K.push(G.length/2);for(let fe=0;fe<re.length;fe++){const xe=re[fe];vy(this.layoutVertexArray,xe.x,xe.y,0,0,1,1,0),k.x+=xe.x,k.y+=xe.y,k.vertexCount+=1,G.push(xe.x),G.push(xe.y)}}const te=eL(G,K);for(let re=0;re<te.length;re+=3)this.indexArray.emplaceBack(J+te[re],J+te[re+2],J+te[re+1]);U.primitiveLength+=te.length/3,U.vertexLength+=N}for(let $=0;$<k.vertexCount;$++)this.centroidVertexArray.emplaceBack(Math.floor(k.x/k.vertexCount),Math.floor(k.y/k.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,E,_)}}function YY(u,l){return u.x===l.x&&(u.x<0||u.x>On)||u.y===l.y&&(u.y<0||u.y>On)}function KY(u){return u.every(l=>l.x<0)||u.every(l=>l.x>On)||u.every(l=>l.y<0)||u.every(l=>l.y>On)}let sL;Pt("FillExtrusionBucket",_C,{omit:["layers","features"]});var ZY={get paint(){return sL=sL||new yi({"fill-extrusion-opacity":new qt(Re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qt(Re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qt(Re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qt(Re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Hh(Re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qt(Re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qt(Re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qt(Re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class XY extends is{constructor(l){super(l,ZY)}createBucket(l){return new _C(l)}queryRadius(){return Ax(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,f,m,_,E,k,$,N){const U=Mx(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),k.angle,$),G=this.paint.get("fill-extrusion-height").evaluate(f,m),K=this.paint.get("fill-extrusion-base").evaluate(f,m),J=function(re,fe,xe,Ce){const Ne=[];for(const Me of re){const Ue=[Me.x,Me.y,0,1];Ox(Ue,Ue,fe),Ne.push(new v(Ue[0]/Ue[3],Ue[1]/Ue[3]))}return Ne}(U,N),te=function(re,fe,xe,Ce){const Ne=[],Me=[],Ue=Ce[8]*fe,He=Ce[9]*fe,rt=Ce[10]*fe,kt=Ce[11]*fe,Bt=Ce[8]*xe,Ct=Ce[9]*xe,bt=Ce[10]*xe,gt=Ce[11]*xe;for(const It of re){const _t=[],ht=[];for(const Kt of It){const Ut=Kt.x,yr=Kt.y,mn=Ce[0]*Ut+Ce[4]*yr+Ce[12],Sn=Ce[1]*Ut+Ce[5]*yr+Ce[13],_i=Ce[2]*Ut+Ce[6]*yr+Ce[14],ua=Ce[3]*Ut+Ce[7]*yr+Ce[15],xo=_i+rt,ui=ua+kt,Pi=mn+Bt,qi=Sn+Ct,Ho=_i+bt,bo=ua+gt,fi=new v((mn+Ue)/ui,(Sn+He)/ui);fi.z=xo/ui,_t.push(fi);const xi=new v(Pi/bo,qi/bo);xi.z=Ho/bo,ht.push(xi)}Ne.push(_t),Me.push(ht)}return[Ne,Me]}(_,K,G,N);return function(re,fe,xe){let Ce=1/0;ND(xe,fe)&&(Ce=lL(xe,fe[0]));for(let Ne=0;Ne<fe.length;Ne++){const Me=fe[Ne],Ue=re[Ne];for(let He=0;He<Me.length-1;He++){const rt=Me[He],kt=[rt,Me[He+1],Ue[He+1],Ue[He],rt];zD(xe,kt)&&(Ce=Math.min(Ce,lL(xe,kt)))}}return Ce!==1/0&&Ce}(te[0],te[1],J)}}function _y(u,l){return u.x*l.x+u.y*l.y}function lL(u,l){if(u.length===1){let f=0;const m=l[f++];let _;for(;!_||m.equals(_);)if(_=l[f++],!_)return 1/0;for(;f<l.length;f++){const E=l[f],k=u[0],$=_.sub(m),N=E.sub(m),U=k.sub(m),G=_y($,$),K=_y($,N),J=_y(N,N),te=_y(U,$),re=_y(U,N),fe=G*J-K*K,xe=(J*te-K*re)/fe,Ce=(G*re-K*te)/fe,Ne=m.z*(1-xe-Ce)+_.z*xe+E.z*Ce;if(isFinite(Ne))return Ne}return 1/0}{let f=1/0;for(const m of l)f=Math.min(f,m.z);return f}}const JY=ti([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:QY}=JY,eK=ti([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:tK}=eK,rK=Au.VectorTileFeature.types,nK=Math.cos(Math.PI/180*37.5),cL=Math.pow(2,14)/.5;class xC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new tt,this.layoutVertexArray2=new dt,this.indexArray=new $t,this.programConfigurations=new Sc(l.layers,l.zoom),this.segments=new tr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){this.hasPattern=mC("line",this.layers,f);const _=this.layers[0].layout.get("line-sort-key"),E=!_.isConstant(),k=[];for(const{feature:$,id:N,index:U,sourceLayerIndex:G}of l){const K=this.layers[0]._featureFilter.needGeometry,J=Ws($,K);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),J,m))continue;const te=E?_.evaluate(J,{},m):void 0,re={id:N,properties:$.properties,type:$.type,sourceLayerIndex:G,index:U,geometry:K?J.geometry:Al($),patterns:{},sortKey:te};k.push(re)}E&&k.sort(($,N)=>$.sortKey-N.sortKey);for(const $ of k){const{geometry:N,index:U,sourceLayerIndex:G}=$;if(this.hasPattern){const K=gC("line",this.layers,$,this.zoom,f);this.patternFeatures.push(K)}else this.addFeature($,N,U,m,{});f.featureIndex.insert(l[U].feature,N,U,G,this.index)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}addFeatures(l,f,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,tK)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,QY),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,f,m,_,E){const k=this.layers[0].layout,$=k.get("line-join").evaluate(l,{}),N=k.get("line-cap"),U=k.get("line-miter-limit"),G=k.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const K of f)this.addLine(K,l,$,N,U,G);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,E,_)}addLine(l,f,m,_,E,k){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ce=0;Ce<l.length-1;Ce++)this.totalDistance+=l[Ce].dist(l[Ce+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const $=rK[f.type]==="Polygon";let N=l.length;for(;N>=2&&l[N-1].equals(l[N-2]);)N--;let U=0;for(;U<N-1&&l[U].equals(l[U+1]);)U++;if(N<($?3:2))return;m==="bevel"&&(E=1.05);const G=this.overscaling<=16?15*On/(512*this.overscaling):0,K=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let J,te,re,fe,xe;this.e1=this.e2=-1,$&&(J=l[N-2],xe=l[U].sub(J)._unit()._perp());for(let Ce=U;Ce<N;Ce++){if(re=Ce===N-1?$?l[U+1]:void 0:l[Ce+1],re&&l[Ce].equals(re))continue;xe&&(fe=xe),J&&(te=J),J=l[Ce],xe=re?re.sub(J)._unit()._perp():fe,fe=fe||xe;let Ne=fe.add(xe);Ne.x===0&&Ne.y===0||Ne._unit();const Me=fe.x*xe.x+fe.y*xe.y,Ue=Ne.x*xe.x+Ne.y*xe.y,He=Ue!==0?1/Ue:1/0,rt=2*Math.sqrt(2-2*Ue),kt=Ue<nK&&te&&re,Bt=fe.x*xe.y-fe.y*xe.x>0;if(kt&&Ce>U){const gt=J.dist(te);if(gt>2*G){const It=J.sub(J.sub(te)._mult(G/gt)._round());this.updateDistance(te,It),this.addCurrentVertex(It,fe,0,0,K),te=It}}const Ct=te&&re;let bt=Ct?m:$?"butt":_;if(Ct&&bt==="round"&&(He<k?bt="miter":He<=2&&(bt="fakeround")),bt==="miter"&&He>E&&(bt="bevel"),bt==="bevel"&&(He>2&&(bt="flipbevel"),He<E&&(bt="miter")),te&&this.updateDistance(te,J),bt==="miter")Ne._mult(He),this.addCurrentVertex(J,Ne,0,0,K);else if(bt==="flipbevel"){if(He>100)Ne=xe.mult(-1);else{const gt=He*fe.add(xe).mag()/fe.sub(xe).mag();Ne._perp()._mult(gt*(Bt?-1:1))}this.addCurrentVertex(J,Ne,0,0,K),this.addCurrentVertex(J,Ne.mult(-1),0,0,K)}else if(bt==="bevel"||bt==="fakeround"){const gt=-Math.sqrt(He*He-1),It=Bt?gt:0,_t=Bt?0:gt;if(te&&this.addCurrentVertex(J,fe,It,_t,K),bt==="fakeround"){const ht=Math.round(180*rt/Math.PI/20);for(let Kt=1;Kt<ht;Kt++){let Ut=Kt/ht;if(Ut!==.5){const mn=Ut-.5;Ut+=Ut*mn*(Ut-1)*((1.0904+Me*(Me*(3.55645-1.43519*Me)-3.2452))*mn*mn+(.848013+Me*(.215638*Me-1.06021)))}const yr=xe.sub(fe)._mult(Ut)._add(fe)._unit()._mult(Bt?-1:1);this.addHalfVertex(J,yr.x,yr.y,!1,Bt,0,K)}}re&&this.addCurrentVertex(J,xe,-It,-_t,K)}else if(bt==="butt")this.addCurrentVertex(J,Ne,0,0,K);else if(bt==="square"){const gt=te?1:-1;this.addCurrentVertex(J,Ne,gt,gt,K)}else bt==="round"&&(te&&(this.addCurrentVertex(J,fe,0,0,K),this.addCurrentVertex(J,fe,1,1,K,!0)),re&&(this.addCurrentVertex(J,xe,-1,-1,K,!0),this.addCurrentVertex(J,xe,0,0,K)));if(kt&&Ce<N-1){const gt=J.dist(re);if(gt>2*G){const It=J.add(re.sub(J)._mult(G/gt)._round());this.updateDistance(J,It),this.addCurrentVertex(It,xe,0,0,K),J=It}}}}addCurrentVertex(l,f,m,_,E,k=!1){const $=f.y*_-f.x,N=-f.y-f.x*_;this.addHalfVertex(l,f.x+f.y*m,f.y-f.x*m,k,!1,m,E),this.addHalfVertex(l,$,N,k,!0,-_,E),this.distance>cL/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,f,m,_,E,k))}addHalfVertex({x:l,y:f},m,_,E,k,$,N){const U=.5*(this.lineClips?this.scaledDistance*(cL-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(E?1:0),(f<<1)+(k?1:0),Math.round(63*m)+128,Math.round(63*_)+128,1+($===0?0:$<0?-1:1)|(63&U)<<2,U>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,G),N.primitiveLength++),k?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,f){this.distance+=l.dist(f),this.updateScaledDistance()}}let uL,fL;Pt("LineBucket",xC,{omit:["layers","patternFeatures"]});var dL={get paint(){return fL=fL||new yi({"line-opacity":new Qt(Re.paint_line["line-opacity"]),"line-color":new Qt(Re.paint_line["line-color"]),"line-translate":new qt(Re.paint_line["line-translate"]),"line-translate-anchor":new qt(Re.paint_line["line-translate-anchor"]),"line-width":new Qt(Re.paint_line["line-width"]),"line-gap-width":new Qt(Re.paint_line["line-gap-width"]),"line-offset":new Qt(Re.paint_line["line-offset"]),"line-blur":new Qt(Re.paint_line["line-blur"]),"line-dasharray":new ny(Re.paint_line["line-dasharray"]),"line-pattern":new Hh(Re.paint_line["line-pattern"]),"line-gradient":new iy(Re.paint_line["line-gradient"])})},get layout(){return uL=uL||new yi({"line-cap":new qt(Re.layout_line["line-cap"]),"line-join":new Qt(Re.layout_line["line-join"]),"line-miter-limit":new qt(Re.layout_line["line-miter-limit"]),"line-round-limit":new qt(Re.layout_line["line-round-limit"]),"line-sort-key":new Qt(Re.layout_line["line-sort-key"])})}};class iK extends Qt{possiblyEvaluate(l,f){return f=new wn(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(l,f)}evaluate(l,f,m,_){return f=T({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(l,f,m,_)}}let Lx;class oK extends is{constructor(l){super(l,dL),this.gradientVersion=0,Lx||(Lx=new iK(dL.paint.properties["line-width"].specification),Lx.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){l==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Jf,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,f){super.recalculate(l,f),this.paint._values["line-floorwidth"]=Lx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new xC(l)}queryRadius(l){const f=l,m=hL(fy("line-width",this,f),fy("line-gap-width",this,f)),_=fy("line-offset",this,f);return m/2+Math.abs(_)+Ax(this.paint.get("line-translate"))}queryIntersectsFeature(l,f,m,_,E,k,$){const N=Mx(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),k.angle,$),U=$/2*hL(this.paint.get("line-width").evaluate(f,m),this.paint.get("line-gap-width").evaluate(f,m)),G=this.paint.get("line-offset").evaluate(f,m);return G&&(_=function(K,J){const te=[];for(let re=0;re<K.length;re++){const fe=K[re],xe=[];for(let Ce=0;Ce<fe.length;Ce++){const Ne=fe[Ce-1],Me=fe[Ce],Ue=fe[Ce+1],He=Ce===0?new v(0,0):Me.sub(Ne)._unit()._perp(),rt=Ce===fe.length-1?new v(0,0):Ue.sub(Me)._unit()._perp(),kt=He._add(rt)._unit(),Bt=kt.x*rt.x+kt.y*rt.y;Bt!==0&&kt._mult(1/Bt),xe.push(kt._mult(J)._add(Me))}te.push(xe)}return te}(_,G*$)),function(K,J,te){for(let re=0;re<J.length;re++){const fe=J[re];if(K.length>=3){for(let xe=0;xe<fe.length;xe++)if(Qh(K,fe[xe]))return!0}if(fY(K,fe,te))return!0}return!1}(N,_,U)}isTileClipped(){return!0}}function hL(u,l){return l>0?l+2*u:u}const aK=ti([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),sK=ti([{name:"a_projected_pos",components:3,type:"Float32"}],4);ti([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const lK=ti([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);ti([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const pL=ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),cK=ti([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function uK(u,l,f){return u.sections.forEach(m=>{m.text=function(_,E,k){const $=E.layout.get("text-transform").evaluate(k,{});return $==="uppercase"?_=_.toLocaleUpperCase():$==="lowercase"&&(_=_.toLocaleLowerCase()),ca.applyArabicShaping&&(_=ca.applyArabicShaping(_)),_}(m.text,l,f)}),u}ti([{name:"triangle",components:3,type:"Uint16"}]),ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ti([{type:"Float32",name:"offsetX"}]),ti([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ti([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const xy={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var vi=24,mL=Qr,gL=function(u,l,f,m,_){var E,k,$=8*_-m-1,N=(1<<$)-1,U=N>>1,G=-7,K=f?_-1:0,J=f?-1:1,te=u[l+K];for(K+=J,E=te&(1<<-G)-1,te>>=-G,G+=$;G>0;E=256*E+u[l+K],K+=J,G-=8);for(k=E&(1<<-G)-1,E>>=-G,G+=m;G>0;k=256*k+u[l+K],K+=J,G-=8);if(E===0)E=1-U;else{if(E===N)return k?NaN:1/0*(te?-1:1);k+=Math.pow(2,m),E-=U}return(te?-1:1)*k*Math.pow(2,E-m)},yL=function(u,l,f,m,_,E){var k,$,N,U=8*E-_-1,G=(1<<U)-1,K=G>>1,J=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,te=m?0:E-1,re=m?1:-1,fe=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?($=isNaN(l)?1:0,k=G):(k=Math.floor(Math.log(l)/Math.LN2),l*(N=Math.pow(2,-k))<1&&(k--,N*=2),(l+=k+K>=1?J/N:J*Math.pow(2,1-K))*N>=2&&(k++,N/=2),k+K>=G?($=0,k=G):k+K>=1?($=(l*N-1)*Math.pow(2,_),k+=K):($=l*Math.pow(2,K-1)*Math.pow(2,_),k=0));_>=8;u[f+te]=255&$,te+=re,$/=256,_-=8);for(k=k<<_|$,U+=_;U>0;u[f+te]=255&k,te+=re,k/=256,U-=8);u[f+te-re]|=128*fe};function Qr(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}Qr.Varint=0,Qr.Fixed64=1,Qr.Bytes=2,Qr.Fixed32=5;var bC=4294967296,vL=1/bC,_L=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ec(u){return u.type===Qr.Bytes?u.readVarint()+u.pos:u.pos+1}function np(u,l,f){return f?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function xL(u,l,f){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));f.realloc(m);for(var _=f.pos-1;_>=u;_--)f.buf[_+m]=f.buf[_]}function fK(u,l){for(var f=0;f<u.length;f++)l.writeVarint(u[f])}function dK(u,l){for(var f=0;f<u.length;f++)l.writeSVarint(u[f])}function hK(u,l){for(var f=0;f<u.length;f++)l.writeFloat(u[f])}function pK(u,l){for(var f=0;f<u.length;f++)l.writeDouble(u[f])}function mK(u,l){for(var f=0;f<u.length;f++)l.writeBoolean(u[f])}function gK(u,l){for(var f=0;f<u.length;f++)l.writeFixed32(u[f])}function yK(u,l){for(var f=0;f<u.length;f++)l.writeSFixed32(u[f])}function vK(u,l){for(var f=0;f<u.length;f++)l.writeFixed64(u[f])}function _K(u,l){for(var f=0;f<u.length;f++)l.writeSFixed64(u[f])}function zx(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function ip(u,l,f){u[f]=l,u[f+1]=l>>>8,u[f+2]=l>>>16,u[f+3]=l>>>24}function bL(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}Qr.prototype={destroy:function(){this.buf=null},readFields:function(u,l,f){for(f=f||this.length;this.pos<f;){var m=this.readVarint(),_=m>>3,E=this.pos;this.type=7&m,u(_,l,this),this.pos===E&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=zx(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=bL(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=zx(this.buf,this.pos)+zx(this.buf,this.pos+4)*bC;return this.pos+=8,u},readSFixed64:function(){var u=zx(this.buf,this.pos)+bL(this.buf,this.pos+4)*bC;return this.pos+=8,u},readFloat:function(){var u=gL(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=gL(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,f,m=this.buf;return l=127&(f=m[this.pos++]),f<128?l:(l|=(127&(f=m[this.pos++]))<<7,f<128?l:(l|=(127&(f=m[this.pos++]))<<14,f<128?l:(l|=(127&(f=m[this.pos++]))<<21,f<128?l:function(_,E,k){var $,N,U=k.buf;if($=(112&(N=U[k.pos++]))>>4,N<128||($|=(127&(N=U[k.pos++]))<<3,N<128)||($|=(127&(N=U[k.pos++]))<<10,N<128)||($|=(127&(N=U[k.pos++]))<<17,N<128)||($|=(127&(N=U[k.pos++]))<<24,N<128)||($|=(1&(N=U[k.pos++]))<<31,N<128))return np(_,$,E);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(f=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&_L?function(f,m,_){return _L.decode(f.subarray(m,_))}(this.buf,l,u):function(f,m,_){for(var E="",k=m;k<_;){var $,N,U,G=f[k],K=null,J=G>239?4:G>223?3:G>191?2:1;if(k+J>_)break;J===1?G<128&&(K=G):J===2?(192&($=f[k+1]))==128&&(K=(31&G)<<6|63&$)<=127&&(K=null):J===3?(N=f[k+2],(192&($=f[k+1]))==128&&(192&N)==128&&((K=(15&G)<<12|(63&$)<<6|63&N)<=2047||K>=55296&&K<=57343)&&(K=null)):J===4&&(N=f[k+2],U=f[k+3],(192&($=f[k+1]))==128&&(192&N)==128&&(192&U)==128&&((K=(15&G)<<18|(63&$)<<12|(63&N)<<6|63&U)<=65535||K>=1114112)&&(K=null)),K===null?(K=65533,J=1):K>65535&&(K-=65536,E+=String.fromCharCode(K>>>10&1023|55296),K=56320|1023&K),E+=String.fromCharCode(K),k+=J}return E}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==Qr.Bytes)return u.push(this.readVarint(l));var f=Ec(this);for(u=u||[];this.pos<f;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==Qr.Bytes)return u.push(this.readSVarint());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==Qr.Bytes)return u.push(this.readBoolean());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==Qr.Bytes)return u.push(this.readFloat());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==Qr.Bytes)return u.push(this.readDouble());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==Qr.Bytes)return u.push(this.readFixed32());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==Qr.Bytes)return u.push(this.readSFixed32());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==Qr.Bytes)return u.push(this.readFixed64());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==Qr.Bytes)return u.push(this.readSFixed64());var l=Ec(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===Qr.Varint)for(;this.buf[this.pos++]>127;);else if(l===Qr.Bytes)this.pos=this.readVarint()+this.pos;else if(l===Qr.Fixed32)this.pos+=4;else{if(l!==Qr.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var f=new Uint8Array(l);f.set(this.buf),this.buf=f,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),ip(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),ip(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),ip(this.buf,-1&u,this.pos),ip(this.buf,Math.floor(u*vL),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),ip(this.buf,-1&u,this.pos),ip(this.buf,Math.floor(u*vL),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,f){var m,_;if(l>=0?(m=l%4294967296|0,_=l/4294967296|0):(_=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,_=_+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),function(E,k,$){$.buf[$.pos++]=127&E|128,E>>>=7,$.buf[$.pos++]=127&E|128,E>>>=7,$.buf[$.pos++]=127&E|128,E>>>=7,$.buf[$.pos++]=127&E|128,$.buf[$.pos]=127&(E>>>=7)}(m,0,f),function(E,k){var $=(7&E)<<4;k.buf[k.pos++]|=$|((E>>>=3)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E)))))}(_,f)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,_,E){for(var k,$,N=0;N<_.length;N++){if((k=_.charCodeAt(N))>55295&&k<57344){if(!$){k>56319||N+1===_.length?(m[E++]=239,m[E++]=191,m[E++]=189):$=k;continue}if(k<56320){m[E++]=239,m[E++]=191,m[E++]=189,$=k;continue}k=$-55296<<10|k-56320|65536,$=null}else $&&(m[E++]=239,m[E++]=191,m[E++]=189,$=null);k<128?m[E++]=k:(k<2048?m[E++]=k>>6|192:(k<65536?m[E++]=k>>12|224:(m[E++]=k>>18|240,m[E++]=k>>12&63|128),m[E++]=k>>6&63|128),m[E++]=63&k|128)}return E}(this.buf,u,this.pos);var f=this.pos-l;f>=128&&xL(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeFloat:function(u){this.realloc(4),yL(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),yL(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var f=0;f<l;f++)this.buf[this.pos++]=u[f]},writeRawMessage:function(u,l){this.pos++;var f=this.pos;u(l,this);var m=this.pos-f;m>=128&&xL(f,m,this),this.pos=f-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,f){this.writeTag(u,Qr.Bytes),this.writeRawMessage(l,f)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,fK,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,dK,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,mK,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,hK,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,pK,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,gK,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,yK,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,vK,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,_K,l)},writeBytesField:function(u,l){this.writeTag(u,Qr.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,Qr.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,Qr.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,Qr.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,Qr.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,Qr.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,Qr.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,Qr.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,Qr.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,Qr.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var wC=d(mL);const SC=3;function xK(u,l,f){u===1&&f.readMessage(bK,l)}function bK(u,l,f){if(u===3){const{id:m,bitmap:_,width:E,height:k,left:$,top:N,advance:U}=f.readMessage(wK,{});l.push({id:m,bitmap:new hy({width:E+2*SC,height:k+2*SC},_),metrics:{width:E,height:k,left:$,top:N,advance:U}})}}function wK(u,l,f){u===1?l.id=f.readVarint():u===2?l.bitmap=f.readBytes():u===3?l.width=f.readVarint():u===4?l.height=f.readVarint():u===5?l.left=f.readSVarint():u===6?l.top=f.readSVarint():u===7&&(l.advance=f.readVarint())}const wL=SC;function SL(u){let l=0,f=0;for(const k of u)l+=k.w*k.h,f=Math.max(f,k.w);u.sort((k,$)=>$.h-k.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),f),h:1/0}];let _=0,E=0;for(const k of u)for(let $=m.length-1;$>=0;$--){const N=m[$];if(!(k.w>N.w||k.h>N.h)){if(k.x=N.x,k.y=N.y,E=Math.max(E,k.y+k.h),_=Math.max(_,k.x+k.w),k.w===N.w&&k.h===N.h){const U=m.pop();$<m.length&&(m[$]=U)}else k.h===N.h?(N.x+=k.w,N.w-=k.w):k.w===N.w?(N.y+=k.h,N.h-=k.h):(m.push({x:N.x+k.w,y:N.y,w:N.w-k.w,h:k.h}),N.y+=k.h,N.h-=k.h);break}}return{w:_,h:E,fill:l/(_*E)||0}}const qo=1;class EC{constructor(l,{pixelRatio:f,version:m,stretchX:_,stretchY:E,content:k}){this.paddedRect=l,this.pixelRatio=f,this.stretchX=_,this.stretchY=E,this.content=k,this.version=m}get tl(){return[this.paddedRect.x+qo,this.paddedRect.y+qo]}get br(){return[this.paddedRect.x+this.paddedRect.w-qo,this.paddedRect.y+this.paddedRect.h-qo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*qo)/this.pixelRatio,(this.paddedRect.h-2*qo)/this.pixelRatio]}}class EL{constructor(l,f){const m={},_={};this.haveRenderCallbacks=[];const E=[];this.addImages(l,m,E),this.addImages(f,_,E);const{w:k,h:$}=SL(E),N=new Oa({width:k||1,height:$||1});for(const U in l){const G=l[U],K=m[U].paddedRect;Oa.copy(G.data,N,{x:0,y:0},{x:K.x+qo,y:K.y+qo},G.data)}for(const U in f){const G=f[U],K=_[U].paddedRect,J=K.x+qo,te=K.y+qo,re=G.data.width,fe=G.data.height;Oa.copy(G.data,N,{x:0,y:0},{x:J,y:te},G.data),Oa.copy(G.data,N,{x:0,y:fe-1},{x:J,y:te-1},{width:re,height:1}),Oa.copy(G.data,N,{x:0,y:0},{x:J,y:te+fe},{width:re,height:1}),Oa.copy(G.data,N,{x:re-1,y:0},{x:J-1,y:te},{width:1,height:fe}),Oa.copy(G.data,N,{x:0,y:0},{x:J+re,y:te},{width:1,height:fe})}this.image=N,this.iconPositions=m,this.patternPositions=_}addImages(l,f,m){for(const _ in l){const E=l[_],k={x:0,y:0,w:E.data.width+2*qo,h:E.data.height+2*qo};m.push(k),f[_]=new EC(k,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(l,f){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),f),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),f)}patchUpdatedImage(l,f,m){if(!l||!f||l.version===f.version)return;l.version=f.version;const[_,E]=l.tl;m.update(f.data,void 0,{x:_,y:E})}}var Mu;Pt("ImagePosition",EC),Pt("ImageAtlas",EL),a.WritingMode=void 0,(Mu=a.WritingMode||(a.WritingMode={}))[Mu.none=0]="none",Mu[Mu.horizontal=1]="horizontal",Mu[Mu.vertical=2]="vertical",Mu[Mu.horizontalOnly=3]="horizontalOnly";const by=-17;class wy{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,f){const m=new wy;return m.scale=l||1,m.fontStack=f,m}static forImage(l){const f=new wy;return f.imageName=l,f}}class op{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,f){const m=new op;for(let _=0;_<l.sections.length;_++){const E=l.sections[_];E.image?m.addImageSection(E):m.addTextSection(E,f)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let f="";for(let m=0;m<l.length;m++){const _=l.charCodeAt(m+1)||null,E=l.charCodeAt(m-1)||null;f+=_&&Kg(_)&&!xy[l[m+1]]||E&&Kg(E)&&!xy[l[m-1]]||!xy[l[m]]?l[m]:xy[l[m]]}return f}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&jx[this.text.charCodeAt(m)];m++)l++;let f=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&jx[this.text.charCodeAt(m)];m--)f--;this.text=this.text.substring(l,f),this.sectionIndex=this.sectionIndex.slice(l,f)}substring(l,f){const m=new op;return m.text=this.text.substring(l,f),m.sectionIndex=this.sectionIndex.slice(l,f),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,f)=>Math.max(l,this.sections[f].scale),0)}addTextSection(l,f){this.text+=l.text,this.sections.push(wy.forText(l.scale,l.fontStack||f));const m=this.sections.length-1;for(let _=0;_<l.text.length;++_)this.sectionIndex.push(m)}addImageSection(l){const f=l.image?l.image.name:"";if(f.length===0)return void ie("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(wy.forImage(f)),this.sectionIndex.push(this.sections.length-1)):ie("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Nx(u,l,f,m,_,E,k,$,N,U,G,K,J,te,re,fe){const xe=op.fromFeature(u,_);let Ce;K===a.WritingMode.vertical&&xe.verticalizePunctuation();const{processBidirectionalText:Ne,processStyledBidirectionalText:Me}=ca;if(Ne&&xe.sections.length===1){Ce=[];const rt=Ne(xe.toString(),CC(xe,U,E,l,m,te,re));for(const kt of rt){const Bt=new op;Bt.text=kt,Bt.sections=xe.sections;for(let Ct=0;Ct<kt.length;Ct++)Bt.sectionIndex.push(0);Ce.push(Bt)}}else if(Me){Ce=[];const rt=Me(xe.text,xe.sectionIndex,CC(xe,U,E,l,m,te,re));for(const kt of rt){const Bt=new op;Bt.text=kt[0],Bt.sectionIndex=kt[1],Bt.sections=xe.sections,Ce.push(Bt)}}else Ce=function(rt,kt){const Bt=[],Ct=rt.text;let bt=0;for(const gt of kt)Bt.push(rt.substring(bt,gt)),bt=gt;return bt<Ct.length&&Bt.push(rt.substring(bt,Ct.length)),Bt}(xe,CC(xe,U,E,l,m,te,re));const Ue=[],He={positionedLines:Ue,text:xe.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:K,iconsInText:!1,verticalizable:!1};return function(rt,kt,Bt,Ct,bt,gt,It,_t,ht,Kt,Ut,yr){let mn=0,Sn=by,_i=0,ua=0;const xo=_t==="right"?1:_t==="left"?0:.5;let ui=0;for(const fi of bt){fi.trim();const xi=fi.getMaxScale(),no=(xi-1)*vi,wo={positionedGlyphs:[],lineOffset:0};rt.positionedLines[ui]=wo;const Go=wo.positionedGlyphs;let Yo=0;if(!fi.length()){Sn+=gt,++ui;continue}for(let Hi=0;Hi<fi.length();Hi++){const Cr=fi.getSection(Hi),fa=fi.getSectionIndex(Hi),Gi=fi.getCharCode(Hi);let So=0,os=null,qs=null,Hs=null,Cc=vi;const as=!(ht===a.WritingMode.horizontal||!Ut&&!wu(Gi)||Ut&&(jx[Gi]||(Pi=Gi,Tt.Arabic(Pi)||Tt["Arabic Supplement"](Pi)||Tt["Arabic Extended-A"](Pi)||Tt["Arabic Presentation Forms-A"](Pi)||Tt["Arabic Presentation Forms-B"](Pi))));if(Cr.imageName){const Ra=Ct[Cr.imageName];if(!Ra)continue;Hs=Cr.imageName,rt.iconsInText=rt.iconsInText||!0,qs=Ra.paddedRect;const Ko=Ra.displaySize;Cr.scale=Cr.scale*vi/yr,os={width:Ko[0],height:Ko[1],left:qo,top:-wL,advance:as?Ko[1]:Ko[0]},So=no+(vi-Ko[1]*Cr.scale),Cc=os.advance;const Tc=as?Ko[0]*Cr.scale-vi*xi:Ko[1]*Cr.scale-vi*xi;Tc>0&&Tc>Yo&&(Yo=Tc)}else{const Ra=Bt[Cr.fontStack],Ko=Ra&&Ra[Gi];if(Ko&&Ko.rect)qs=Ko.rect,os=Ko.metrics;else{const Tc=kt[Cr.fontStack],ky=Tc&&Tc[Gi];if(!ky)continue;os=ky.metrics}So=(xi-Cr.scale)*vi}as?(rt.verticalizable=!0,Go.push({glyph:Gi,imageName:Hs,x:mn,y:Sn+So,vertical:as,scale:Cr.scale,fontStack:Cr.fontStack,sectionIndex:fa,metrics:os,rect:qs}),mn+=Cc*Cr.scale+Kt):(Go.push({glyph:Gi,imageName:Hs,x:mn,y:Sn+So,vertical:as,scale:Cr.scale,fontStack:Cr.fontStack,sectionIndex:fa,metrics:os,rect:qs}),mn+=os.advance*Cr.scale+Kt)}Go.length!==0&&(_i=Math.max(mn-Kt,_i),CK(Go,0,Go.length-1,xo,Yo)),mn=0;const Un=gt*xi+Yo;wo.lineOffset=Math.max(Yo,no),Sn+=Un,ua=Math.max(Un,ua),++ui}var Pi;const qi=Sn-by,{horizontalAlign:Ho,verticalAlign:bo}=TC(It);(function(fi,xi,no,wo,Go,Yo,Un,Hi,Cr){const fa=(xi-no)*Go;let Gi=0;Gi=Yo!==Un?-Hi*wo-by:(-wo*Cr+.5)*Un;for(const So of fi)for(const os of So.positionedGlyphs)os.x+=fa,os.y+=Gi})(rt.positionedLines,xo,Ho,bo,_i,ua,gt,qi,bt.length),rt.top+=-bo*qi,rt.bottom=rt.top+qi,rt.left+=-Ho*_i,rt.right=rt.left+_i}(He,l,f,m,Ce,k,$,N,K,U,J,fe),!function(rt){for(const kt of rt)if(kt.positionedGlyphs.length!==0)return!1;return!0}(Ue)&&He}const jx={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},SK={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function CL(u,l,f,m,_,E){if(l.imageName){const k=m[l.imageName];return k?k.displaySize[0]*l.scale*vi/E+_:0}{const k=f[l.fontStack],$=k&&k[u];return $?$.metrics.advance*l.scale+_:0}}function TL(u,l,f,m){const _=Math.pow(u-l,2);return m?u<l?_/2:2*_:_+Math.abs(f)*f}function EK(u,l,f){let m=0;return u===10&&(m-=1e4),f&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function kL(u,l,f,m,_,E){let k=null,$=TL(l,f,_,E);for(const N of m){const U=TL(l-N.x,f,_,E)+N.badness;U<=$&&(k=N,$=U)}return{index:u,x:l,priorBreak:k,badness:$}}function PL(u){return u?PL(u.priorBreak).concat(u.index):[]}function CC(u,l,f,m,_,E,k){if(E!=="point")return[];if(!u)return[];const $=[],N=function(J,te,re,fe,xe,Ce){let Ne=0;for(let Me=0;Me<J.length();Me++){const Ue=J.getSection(Me);Ne+=CL(J.getCharCode(Me),Ue,fe,xe,te,Ce)}return Ne/Math.max(1,Math.ceil(Ne/re))}(u,l,f,m,_,k),U=u.text.indexOf("​")>=0;let G=0;for(let J=0;J<u.length();J++){const te=u.getSection(J),re=u.getCharCode(J);if(jx[re]||(G+=CL(re,te,m,_,l,k)),J<u.length()-1){const fe=!((K=re)<11904||!(Tt["Bopomofo Extended"](K)||Tt.Bopomofo(K)||Tt["CJK Compatibility Forms"](K)||Tt["CJK Compatibility Ideographs"](K)||Tt["CJK Compatibility"](K)||Tt["CJK Radicals Supplement"](K)||Tt["CJK Strokes"](K)||Tt["CJK Symbols and Punctuation"](K)||Tt["CJK Unified Ideographs Extension A"](K)||Tt["CJK Unified Ideographs"](K)||Tt["Enclosed CJK Letters and Months"](K)||Tt["Halfwidth and Fullwidth Forms"](K)||Tt.Hiragana(K)||Tt["Ideographic Description Characters"](K)||Tt["Kangxi Radicals"](K)||Tt["Katakana Phonetic Extensions"](K)||Tt.Katakana(K)||Tt["Vertical Forms"](K)||Tt["Yi Radicals"](K)||Tt["Yi Syllables"](K)));(SK[re]||fe||te.imageName)&&$.push(kL(J+1,G,N,$,EK(re,u.getCharCode(J+1),fe&&U),!1))}}var K;return PL(kL(u.length(),G,N,$,0,!0))}function TC(u){let l=.5,f=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0}return{horizontalAlign:l,verticalAlign:f}}function CK(u,l,f,m,_){if(!m&&!_)return;const E=u[f],k=(u[f].x+E.metrics.advance*E.scale)*m;for(let $=l;$<=f;$++)u[$].x-=k,u[$].y+=_}function TK(u,l,f){const{horizontalAlign:m,verticalAlign:_}=TC(f),E=l[0]-u.displaySize[0]*m,k=l[1]-u.displaySize[1]*_;return{image:u,top:k,bottom:k+u.displaySize[1],left:E,right:E+u.displaySize[0]}}function AL(u,l,f,m,_,E){const k=u.image;let $;if(k.content){const xe=k.content,Ce=k.pixelRatio||1;$=[xe[0]/Ce,xe[1]/Ce,k.displaySize[0]-xe[2]/Ce,k.displaySize[1]-xe[3]/Ce]}const N=l.left*E,U=l.right*E;let G,K,J,te;f==="width"||f==="both"?(te=_[0]+N-m[3],K=_[0]+U+m[1]):(te=_[0]+(N+U-k.displaySize[0])/2,K=te+k.displaySize[0]);const re=l.top*E,fe=l.bottom*E;return f==="height"||f==="both"?(G=_[1]+re-m[0],J=_[1]+fe+m[2]):(G=_[1]+(re+fe-k.displaySize[1])/2,J=G+k.displaySize[1]),{image:k,top:G,right:K,bottom:J,left:te,collisionPadding:$}}const Sy=255,Ml=128,Ou=Sy*Ml;function ML(u,l){const{expression:f}=l;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new wn(u+1))};if(f.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:_}=f;let E=0;for(;E<m.length&&m[E]<=u;)E++;E=Math.max(0,E-1);let k=E;for(;k<m.length&&m[k]<u+1;)k++;k=Math.min(m.length-1,k);const $=m[E],N=m[k];return f.kind==="composite"?{kind:"composite",minZoom:$,maxZoom:N,interpolationType:_}:{kind:"camera",minZoom:$,maxZoom:N,minSize:f.evaluate(new wn($)),maxSize:f.evaluate(new wn(N)),interpolationType:_}}}function kC(u,l,f){let m="never";const _=u.get(l);return _?m=_:u.get(f)&&(m="always"),m}const kK=Au.VectorTileFeature.types,PK=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Bx(u,l,f,m,_,E,k,$,N,U,G,K,J){const te=$?Math.min(Ou,Math.round($[0])):0,re=$?Math.min(Ou,Math.round($[1])):0;u.emplaceBack(l,f,Math.round(32*m),Math.round(32*_),E,k,(te<<1)+(N?1:0),re,16*U,16*G,256*K,256*J)}function PC(u,l,f){u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f)}function AK(u){for(const l of u.sections)if(rC(l.text))return!0;return!1}class AC{constructor(l){this.layoutVertexArray=new pt,this.indexArray=new $t,this.programConfigurations=l,this.segments=new tr,this.dynamicLayoutVertexArray=new jt,this.opacityVertexArray=new xr,this.hasVisibleVertices=!1,this.placedSymbolArray=new H}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,f,m,_){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,aK.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,sK.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,PK,!0),this.opacityVertexBuffer.itemSize=1),(m||_)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Pt("SymbolBuffers",AC);class MC{constructor(l,f,m){this.layoutVertexArray=new l,this.layoutAttributes=f,this.indexArray=new m,this.segments=new tr,this.collisionVertexArray=new er}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,lK.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Pt("CollisionBuffers",MC);class ap{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(k=>k.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sC([]),this.placementViewportMatrix=sC([]);const f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ML(this.zoom,f["text-size"]),this.iconSizeData=ML(this.zoom,f["icon-size"]);const m=this.layers[0].layout,_=m.get("symbol-sort-key"),E=m.get("symbol-z-order");this.canOverlap=kC(m,"text-overlap","text-allow-overlap")!=="never"||kC(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(k=>a.WritingMode[k])),this.stateDependentLayerIds=this.layers.filter(k=>k.isStateDependent()).map(k=>k.id),this.sourceID=l.sourceID}createArrays(){this.text=new AC(new Sc(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new AC(new Sc(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new ue,this.lineVertexArray=new ce,this.symbolInstances=new ee,this.textAnchorOffsets=new le}calculateGlyphDependencies(l,f,m,_,E){for(let k=0;k<l.length;k++)if(f[l.charCodeAt(k)]=!0,(m||_)&&E){const $=xy[l.charAt(k)];$&&(f[$.charCodeAt(0)]=!0)}}populate(l,f,m){const _=this.layers[0],E=_.layout,k=E.get("text-font"),$=E.get("text-field"),N=E.get("icon-image"),U=($.value.kind!=="constant"||$.value.value instanceof Zn&&!$.value.value.isEmpty()||$.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),G=N.value.kind!=="constant"||!!N.value.value||Object.keys(N.parameters).length>0,K=E.get("symbol-sort-key");if(this.features=[],!U&&!G)return;const J=f.iconDependencies,te=f.glyphDependencies,re=f.availableImages,fe=new wn(this.zoom);for(const{feature:xe,id:Ce,index:Ne,sourceLayerIndex:Me}of l){const Ue=_._featureFilter.needGeometry,He=Ws(xe,Ue);if(!_._featureFilter.filter(fe,He,m))continue;let rt,kt;if(Ue||(He.geometry=Al(xe)),U){const Ct=_.getValueAndResolveTokens("text-field",He,m,re),bt=Zn.factory(Ct);AK(bt)&&(this.hasRTLText=!0),(!this.hasRTLText||ty()==="unavailable"||this.hasRTLText&&ca.isParsed())&&(rt=uK(bt,_,He))}if(G){const Ct=_.getValueAndResolveTokens("icon-image",He,m,re);kt=Ct instanceof aa?Ct:aa.fromString(Ct)}if(!rt&&!kt)continue;const Bt=this.sortFeaturesByKey?K.evaluate(He,{},m):void 0;if(this.features.push({id:Ce,text:rt,icon:kt,index:Ne,sourceLayerIndex:Me,geometry:He.geometry,properties:xe.properties,type:kK[xe.type],sortKey:Bt}),kt&&(J[kt.name]=!0),rt){const Ct=k.evaluate(He,{},m).join(","),bt=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const gt of rt.sections)if(gt.image)J[gt.image.name]=!0;else{const It=Vh(rt.toString()),_t=gt.fontStack||Ct,ht=te[_t]=te[_t]||{};this.calculateGlyphDependencies(gt.text,ht,bt,this.allowVerticalPlacement,It)}}}E.get("symbol-placement")==="line"&&(this.features=function(xe){const Ce={},Ne={},Me=[];let Ue=0;function He(Ct){Me.push(xe[Ct]),Ue++}function rt(Ct,bt,gt){const It=Ne[Ct];return delete Ne[Ct],Ne[bt]=It,Me[It].geometry[0].pop(),Me[It].geometry[0]=Me[It].geometry[0].concat(gt[0]),It}function kt(Ct,bt,gt){const It=Ce[bt];return delete Ce[bt],Ce[Ct]=It,Me[It].geometry[0].shift(),Me[It].geometry[0]=gt[0].concat(Me[It].geometry[0]),It}function Bt(Ct,bt,gt){const It=gt?bt[0][bt[0].length-1]:bt[0][0];return`${Ct}:${It.x}:${It.y}`}for(let Ct=0;Ct<xe.length;Ct++){const bt=xe[Ct],gt=bt.geometry,It=bt.text?bt.text.toString():null;if(!It){He(Ct);continue}const _t=Bt(It,gt),ht=Bt(It,gt,!0);if(_t in Ne&&ht in Ce&&Ne[_t]!==Ce[ht]){const Kt=kt(_t,ht,gt),Ut=rt(_t,ht,Me[Kt].geometry);delete Ce[_t],delete Ne[ht],Ne[Bt(It,Me[Ut].geometry,!0)]=Ut,Me[Kt].geometry=null}else _t in Ne?rt(_t,ht,gt):ht in Ce?kt(_t,ht,gt):(He(Ct),Ce[_t]=Ue-1,Ne[ht]=Ue-1)}return Me.filter(Ct=>Ct.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((xe,Ce)=>xe.sortKey-Ce.sortKey)}update(l,f,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,f,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,f,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,f){const m=this.lineVertexArray.length;if(l.segment!==void 0){let _=l.dist(f[l.segment+1]),E=l.dist(f[l.segment]);const k={};for(let $=l.segment+1;$<f.length;$++)k[$]={x:f[$].x,y:f[$].y,tileUnitDistanceFromAnchor:_},$<f.length-1&&(_+=f[$+1].dist(f[$]));for(let $=l.segment||0;$>=0;$--)k[$]={x:f[$].x,y:f[$].y,tileUnitDistanceFromAnchor:E},$>0&&(E+=f[$-1].dist(f[$]));for(let $=0;$<f.length;$++){const N=k[$];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,f,m,_,E,k,$,N,U,G,K,J){const te=l.indexArray,re=l.layoutVertexArray,fe=l.segments.prepareSegment(4*f.length,re,te,this.canOverlap?k.sortKey:void 0),xe=this.glyphOffsetArray.length,Ce=fe.vertexLength,Ne=this.allowVerticalPlacement&&$===a.WritingMode.vertical?Math.PI/2:0,Me=k.text&&k.text.sections;for(let Ue=0;Ue<f.length;Ue++){const{tl:He,tr:rt,bl:kt,br:Bt,tex:Ct,pixelOffsetTL:bt,pixelOffsetBR:gt,minFontScaleX:It,minFontScaleY:_t,glyphOffset:ht,isSDF:Kt,sectionIndex:Ut}=f[Ue],yr=fe.vertexLength,mn=ht[1];Bx(re,N.x,N.y,He.x,mn+He.y,Ct.x,Ct.y,m,Kt,bt.x,bt.y,It,_t),Bx(re,N.x,N.y,rt.x,mn+rt.y,Ct.x+Ct.w,Ct.y,m,Kt,gt.x,bt.y,It,_t),Bx(re,N.x,N.y,kt.x,mn+kt.y,Ct.x,Ct.y+Ct.h,m,Kt,bt.x,gt.y,It,_t),Bx(re,N.x,N.y,Bt.x,mn+Bt.y,Ct.x+Ct.w,Ct.y+Ct.h,m,Kt,gt.x,gt.y,It,_t),PC(l.dynamicLayoutVertexArray,N,Ne),te.emplaceBack(yr,yr+1,yr+2),te.emplaceBack(yr+1,yr+2,yr+3),fe.vertexLength+=4,fe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ht[0]),Ue!==f.length-1&&Ut===f[Ue+1].sectionIndex||l.programConfigurations.populatePaintArrays(re.length,k,k.index,{},J,Me&&Me[Ut])}l.placedSymbolArray.emplaceBack(N.x,N.y,xe,this.glyphOffsetArray.length-xe,Ce,U,G,N.segment,m?m[0]:0,m?m[1]:0,_[0],_[1],$,0,!1,0,K)}_addCollisionDebugVertex(l,f,m,_,E,k){return f.emplaceBack(0,0),l.emplaceBack(m.x,m.y,_,E,Math.round(k.x),Math.round(k.y))}addCollisionDebugVertices(l,f,m,_,E,k,$){const N=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),U=N.vertexLength,G=E.layoutVertexArray,K=E.collisionVertexArray,J=$.anchorX,te=$.anchorY;this._addCollisionDebugVertex(G,K,k,J,te,new v(l,f)),this._addCollisionDebugVertex(G,K,k,J,te,new v(m,f)),this._addCollisionDebugVertex(G,K,k,J,te,new v(m,_)),this._addCollisionDebugVertex(G,K,k,J,te,new v(l,_)),N.vertexLength+=4;const re=E.indexArray;re.emplaceBack(U,U+1),re.emplaceBack(U+1,U+2),re.emplaceBack(U+2,U+3),re.emplaceBack(U+3,U),N.primitiveLength+=4}addDebugCollisionBoxes(l,f,m,_){for(let E=l;E<f;E++){const k=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(k.x1,k.y1,k.x2,k.y2,_?this.textCollisionBox:this.iconCollisionBox,k.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new MC(xt,pL.members,sn),this.iconCollisionBox=new MC(xt,pL.members,sn);for(let l=0;l<this.symbolInstances.length;l++){const f=this.symbolInstances.get(l);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(l,f,m,_,E,k,$,N,U){const G={};for(let K=f;K<m;K++){const J=l.get(K);G.textBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},G.textFeatureIndex=J.featureIndex;break}for(let K=_;K<E;K++){const J=l.get(K);G.verticalTextBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},G.verticalTextFeatureIndex=J.featureIndex;break}for(let K=k;K<$;K++){const J=l.get(K);G.iconBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},G.iconFeatureIndex=J.featureIndex;break}for(let K=N;K<U;K++){const J=l.get(K);G.verticalIconBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},G.verticalIconFeatureIndex=J.featureIndex;break}return G}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){const m=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,f){const m=l.placedSymbolArray.get(f),_=m.vertexStartIndex+4*m.numGlyphs;for(let E=m.vertexStartIndex;E<_;E+=4)l.indexArray.emplaceBack(E,E+1,E+2),l.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const f=Math.sin(l),m=Math.cos(l),_=[],E=[],k=[];for(let $=0;$<this.symbolInstances.length;++$){k.push($);const N=this.symbolInstances.get($);_.push(0|Math.round(f*N.anchorX+m*N.anchorY)),E.push(N.featureIndex)}return k.sort(($,N)=>_[$]-_[N]||E[N]-E[$]),k}addToSortKeyRanges(l,f){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===f?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const f of this.symbolInstanceIndexes){const m=this.symbolInstances.get(f);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((_,E,k)=>{_>=0&&k.indexOf(_)===E&&this.addIndicesForPlacedSymbol(this.text,_)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let OL,IL;Pt("SymbolBucket",ap,{omit:["layers","collisionBoxArray","features","compareText"]}),ap.MAX_GLYPHS=65535,ap.addDynamicAttributes=PC;var OC={get paint(){return IL=IL||new yi({"icon-opacity":new Qt(Re.paint_symbol["icon-opacity"]),"icon-color":new Qt(Re.paint_symbol["icon-color"]),"icon-halo-color":new Qt(Re.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qt(Re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qt(Re.paint_symbol["icon-halo-blur"]),"icon-translate":new qt(Re.paint_symbol["icon-translate"]),"icon-translate-anchor":new qt(Re.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qt(Re.paint_symbol["text-opacity"]),"text-color":new Qt(Re.paint_symbol["text-color"],{runtimeType:Jr,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Qt(Re.paint_symbol["text-halo-color"]),"text-halo-width":new Qt(Re.paint_symbol["text-halo-width"]),"text-halo-blur":new Qt(Re.paint_symbol["text-halo-blur"]),"text-translate":new qt(Re.paint_symbol["text-translate"]),"text-translate-anchor":new qt(Re.paint_symbol["text-translate-anchor"])})},get layout(){return OL=OL||new yi({"symbol-placement":new qt(Re.layout_symbol["symbol-placement"]),"symbol-spacing":new qt(Re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qt(Re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qt(Re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qt(Re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qt(Re.layout_symbol["icon-allow-overlap"]),"icon-overlap":new qt(Re.layout_symbol["icon-overlap"]),"icon-ignore-placement":new qt(Re.layout_symbol["icon-ignore-placement"]),"icon-optional":new qt(Re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qt(Re.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qt(Re.layout_symbol["icon-size"]),"icon-text-fit":new qt(Re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qt(Re.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qt(Re.layout_symbol["icon-image"]),"icon-rotate":new Qt(Re.layout_symbol["icon-rotate"]),"icon-padding":new Qt(Re.layout_symbol["icon-padding"]),"icon-keep-upright":new qt(Re.layout_symbol["icon-keep-upright"]),"icon-offset":new Qt(Re.layout_symbol["icon-offset"]),"icon-anchor":new Qt(Re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qt(Re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qt(Re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qt(Re.layout_symbol["text-rotation-alignment"]),"text-field":new Qt(Re.layout_symbol["text-field"]),"text-font":new Qt(Re.layout_symbol["text-font"]),"text-size":new Qt(Re.layout_symbol["text-size"]),"text-max-width":new Qt(Re.layout_symbol["text-max-width"]),"text-line-height":new qt(Re.layout_symbol["text-line-height"]),"text-letter-spacing":new Qt(Re.layout_symbol["text-letter-spacing"]),"text-justify":new Qt(Re.layout_symbol["text-justify"]),"text-radial-offset":new Qt(Re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qt(Re.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Qt(Re.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Qt(Re.layout_symbol["text-anchor"]),"text-max-angle":new qt(Re.layout_symbol["text-max-angle"]),"text-writing-mode":new qt(Re.layout_symbol["text-writing-mode"]),"text-rotate":new Qt(Re.layout_symbol["text-rotate"]),"text-padding":new qt(Re.layout_symbol["text-padding"]),"text-keep-upright":new qt(Re.layout_symbol["text-keep-upright"]),"text-transform":new Qt(Re.layout_symbol["text-transform"]),"text-offset":new Qt(Re.layout_symbol["text-offset"]),"text-allow-overlap":new qt(Re.layout_symbol["text-allow-overlap"]),"text-overlap":new qt(Re.layout_symbol["text-overlap"]),"text-ignore-placement":new qt(Re.layout_symbol["text-ignore-placement"]),"text-optional":new qt(Re.layout_symbol["text-optional"])})}};class RL{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Jt,this.defaultValue=l}evaluate(l){if(l.formattedSection){const f=this.defaultValue.property.overrides;if(f&&f.hasOverride(l.formattedSection))return f.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Pt("FormatSectionOverride",RL,{omit:["defaultValue"]});class Fx extends is{constructor(l){super(l,OC)}recalculate(l,f){if(super.recalculate(l,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const _=[];for(const E of m)_.indexOf(E)<0&&_.push(E);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,f,m,_){const E=this.layout.get(l).evaluate(f,{},m,_),k=this._unevaluatedLayout._values[l];return k.isDataDriven()||Rh(k.value)||!E?E:function($,N){return N.replace(/{([^{}]+)}/g,(U,G)=>G in $?String($[G]):"")}(f.properties,E)}createBucket(l){return new ap(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of OC.paint.overridableProperties){if(!Fx.hasPaintOverride(this.layout,l))continue;const f=this.paint.get(l),m=new RL(f),_=new Pn(m,f.property.specification);let E=null;E=f.value.kind==="constant"||f.value.kind==="source"?new Qf("source",_):new hn("composite",_,f.value.zoomStops),this.paint._values[l]=new Pa(f.property,E,f.parameters)}}_handleOverridablePaintPropertyUpdate(l,f,m){return!(!this.layout||f.isDataDriven()||m.isDataDriven())&&Fx.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,f){const m=l.get("text-field"),_=OC.paint.properties[f];let E=!1;const k=$=>{for(const N of $)if(_.overrides&&_.overrides.hasOverride(N))return void(E=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Zn)k(m.value.value.sections);else if(m.value.kind==="source"){const $=U=>{E||(U instanceof cc&&Xn(U.value)===jo?k(U.value.sections):U instanceof Oh?k(U.sections):U.eachChild($))},N=m.value;N._styleExpression&&$(N._styleExpression.expression)}return E}}let $L;var MK={get paint(){return $L=$L||new yi({"background-color":new qt(Re.paint_background["background-color"]),"background-pattern":new ny(Re.paint_background["background-pattern"]),"background-opacity":new qt(Re.paint_background["background-opacity"])})}};class OK extends is{constructor(l){super(l,MK)}}let DL;var IK={get paint(){return DL=DL||new yi({"raster-opacity":new qt(Re.paint_raster["raster-opacity"]),"raster-hue-rotate":new qt(Re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qt(Re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qt(Re.paint_raster["raster-brightness-max"]),"raster-saturation":new qt(Re.paint_raster["raster-saturation"]),"raster-contrast":new qt(Re.paint_raster["raster-contrast"]),"raster-resampling":new qt(Re.paint_raster["raster-resampling"]),"raster-fade-duration":new qt(Re.paint_raster["raster-fade-duration"])})}};class RK extends is{constructor(l){super(l,IK)}}class $K extends is{constructor(l){super(l,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class DK{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const IC=63710088e-1;class Iu{constructor(l,f){if(isNaN(l)||isNaN(f))throw new Error(`Invalid LngLat object: (${l}, ${f})`);if(this.lng=+l,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Iu(I(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const f=Math.PI/180,m=this.lat*f,_=l.lat*f,E=Math.sin(m)*Math.sin(_)+Math.cos(m)*Math.cos(_)*Math.cos((l.lng-this.lng)*f);return IC*Math.acos(Math.min(E,1))}static convert(l){if(l instanceof Iu)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Iu(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Iu(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const LL=2*Math.PI*IC;function zL(u){return LL*Math.cos(u*Math.PI/180)}function NL(u){return(180+u)/360}function jL(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function BL(u,l){return u/zL(l)}function RC(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Ux{constructor(l,f,m=0){this.x=+l,this.y=+f,this.z=+m}static fromLngLat(l,f=0){const m=Iu.convert(l);return new Ux(NL(m.lng),jL(m.lat),BL(f,m.lat))}toLngLat(){return new Iu(360*this.x-180,RC(this.y))}toAltitude(){return this.z*zL(RC(this.y))}meterInMercatorCoordinateUnits(){return 1/LL*(l=RC(this.y),1/Math.cos(l*Math.PI/180));var l}}function FL(u,l,f){var m=2*Math.PI*6378137/256/Math.pow(2,f);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class $C{constructor(l,f,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||f<0||f>=Math.pow(2,l))throw new Error(`x=${f}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=f,this.y=m,this.key=Ey(0,l,l,f,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,f,m){const _=(k=this.y,$=this.z,N=FL(256*(E=this.x),256*(k=Math.pow(2,$)-k-1),$),U=FL(256*(E+1),256*(k+1),$),N[0]+","+N[1]+","+U[0]+","+U[1]);var E,k,$,N,U;const G=function(K,J,te){let re,fe="";for(let xe=K;xe>0;xe--)re=1<<xe-1,fe+=(J&re?1:0)+(te&re?2:0);return fe}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,_)}isChildOf(l){const f=this.z-l.z;return f>0&&l.x===this.x>>f&&l.y===this.y>>f}getTilePoint(l){const f=Math.pow(2,this.z);return new v((l.x*f-this.x)*On,(l.y*f-this.y)*On)}toString(){return`${this.z}/${this.x}/${this.y}`}}class UL{constructor(l,f){this.wrap=l,this.canonical=f,this.key=Ey(l,f.z,f.z,f.x,f.y)}}class Ia{constructor(l,f,m,_,E){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=f,this.canonical=new $C(m,+_,+E),this.key=Ey(f,l,m,_,E)}clone(){return new Ia(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-l;return l>this.canonical.z?new Ia(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ia(l,this.wrap,l,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(l,f){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Ey(this.wrap*+f,l,this.canonical.z,this.canonical.x,this.canonical.y):Ey(this.wrap*+f,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const f=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>f&&l.canonical.y===this.canonical.y>>f}children(l){if(this.overscaledZ>=l)return[new Ia(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const f=this.canonical.z+1,m=2*this.canonical.x,_=2*this.canonical.y;return[new Ia(f,this.wrap,f,m,_),new Ia(f,this.wrap,f,m+1,_),new Ia(f,this.wrap,f,m,_+1),new Ia(f,this.wrap,f,m+1,_+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Ia(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Ia(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new UL(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Ux(l.x-this.wrap,l.y))}}function Ey(u,l,f,m,_){(u*=2)<0&&(u=-1*u-1);const E=1<<f;return(E*E*u+E*_+m).toString(36)+f.toString(36)+l.toString(36)}Pt("CanonicalTileID",$C),Pt("OverscaledTileID",Ia,{omit:["posMatrix"]});class VL{constructor(l,f,m){if(this.uid=l,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(m&&m!=="mapbox"&&m!=="terrarium")return void ie(`"${m}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=f.height;const _=this.dim=f.height-2;this.data=new Uint32Array(f.data.buffer),this.encoding=m||"mapbox";for(let E=0;E<_;E++)this.data[this._idx(-1,E)]=this.data[this._idx(0,E)],this.data[this._idx(_,E)]=this.data[this._idx(_-1,E)],this.data[this._idx(E,-1)]=this.data[this._idx(E,0)],this.data[this._idx(E,_)]=this.data[this._idx(E,_-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(_,-1)]=this.data[this._idx(_-1,0)],this.data[this._idx(-1,_)]=this.data[this._idx(0,_-1)],this.data[this._idx(_,_)]=this.data[this._idx(_-1,_-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let E=0;E<_;E++)for(let k=0;k<_;k++){const $=this.get(E,k);$>this.max&&(this.max=$),$<this.min&&(this.min=$)}}get(l,f){const m=new Uint8Array(this.data.buffer),_=4*this._idx(l,f);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(m[_],m[_+1],m[_+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,f){if(l<-1||l>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(l+1)}_unpackMapbox(l,f,m){return(256*l*256+256*f+m)/10-1e4}_unpackTerrarium(l,f,m){return 256*l+f+m/256-32768}getPixels(){return new Oa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,f,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let _=f*this.dim,E=f*this.dim+this.dim,k=m*this.dim,$=m*this.dim+this.dim;switch(f){case-1:_=E-1;break;case 1:E=_+1}switch(m){case-1:k=$-1;break;case 1:$=k+1}const N=-f*this.dim,U=-m*this.dim;for(let G=k;G<$;G++)for(let K=_;K<E;K++)this.data[this._idx(K,G)]=l.data[this._idx(K+N,G+U)]}}Pt("DEMData",VL);class WL{constructor(l){this._stringToNumber={},this._numberToString=[];for(let f=0;f<l.length;f++){const m=l[f];this._stringToNumber[m]=f,this._numberToString[f]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class qL{constructor(l,f,m,_,E){this.type="Feature",this._vectorTileFeature=l,l._z=f,l._x=m,l._y=_,this.properties=l.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(l[f]=this[f]);return l}}class HL{constructor(l,f){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new yc(On,16,0),this.grid3D=new yc(On,16,0),this.featureIndexArray=new We,this.promoteId=f}insert(l,f,m,_,E,k){const $=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,_,E);const N=k?this.grid3D:this.grid;for(let U=0;U<f.length;U++){const G=f[U],K=[1/0,1/0,-1/0,-1/0];for(let J=0;J<G.length;J++){const te=G[J];K[0]=Math.min(K[0],te.x),K[1]=Math.min(K[1],te.y),K[2]=Math.max(K[2],te.x),K[3]=Math.max(K[3],te.y)}K[0]<On&&K[1]<On&&K[2]>=0&&K[3]>=0&&N.insert($,K[0],K[1],K[2],K[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Au.VectorTile(new wC(this.rawTileData)).layers,this.sourceLayerCoder=new WL(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,f,m,_){this.loadVTLayers();const E=l.params||{},k=On/l.tileSize/l.scale,$=Fg(E.filter),N=l.queryGeometry,U=l.queryPadding*k,G=YL(N),K=this.grid.query(G.minX-U,G.minY-U,G.maxX+U,G.maxY+U),J=YL(l.cameraQueryGeometry),te=this.grid3D.query(J.minX-U,J.minY-U,J.maxX+U,J.maxY+U,(xe,Ce,Ne,Me)=>function(Ue,He,rt,kt,Bt){for(const bt of Ue)if(He<=bt.x&&rt<=bt.y&&kt>=bt.x&&Bt>=bt.y)return!0;const Ct=[new v(He,rt),new v(He,Bt),new v(kt,Bt),new v(kt,rt)];if(Ue.length>2){for(const bt of Ct)if(Qh(Ue,bt))return!0}for(let bt=0;bt<Ue.length-1;bt++)if(hY(Ue[bt],Ue[bt+1],Ct))return!0;return!1}(l.cameraQueryGeometry,xe-U,Ce-U,Ne+U,Me+U));for(const xe of te)K.push(xe);K.sort(LK);const re={};let fe;for(let xe=0;xe<K.length;xe++){const Ce=K[xe];if(Ce===fe)continue;fe=Ce;const Ne=this.featureIndexArray.get(Ce);let Me=null;this.loadMatchingFeature(re,Ne.bucketIndex,Ne.sourceLayerIndex,Ne.featureIndex,$,E.layers,E.availableImages,f,m,_,(Ue,He,rt)=>(Me||(Me=Al(Ue)),He.queryIntersectsFeature(N,Ue,rt,Me,this.z,l.transform,k,l.pixelPosMatrix)))}return re}loadMatchingFeature(l,f,m,_,E,k,$,N,U,G,K){const J=this.bucketLayerIDs[f];if(k&&!function(xe,Ce){for(let Ne=0;Ne<xe.length;Ne++)if(Ce.indexOf(xe[Ne])>=0)return!0;return!1}(k,J))return;const te=this.sourceLayerCoder.decode(m),re=this.vtLayers[te].feature(_);if(E.needGeometry){const xe=Ws(re,!0);if(!E.filter(new wn(this.tileID.overscaledZ),xe,this.tileID.canonical))return}else if(!E.filter(new wn(this.tileID.overscaledZ),re))return;const fe=this.getId(re,te);for(let xe=0;xe<J.length;xe++){const Ce=J[xe];if(k&&k.indexOf(Ce)<0)continue;const Ne=N[Ce];if(!Ne)continue;let Me={};fe&&G&&(Me=G.getState(Ne.sourceLayer||"_geojsonTileLayer",fe));const Ue=T({},U[Ce]);Ue.paint=GL(Ue.paint,Ne.paint,re,Me,$),Ue.layout=GL(Ue.layout,Ne.layout,re,Me,$);const He=!K||K(re,Ne,Me);if(!He)continue;const rt=new qL(re,this.z,this.x,this.y,fe);rt.layer=Ue;let kt=l[Ce];kt===void 0&&(kt=l[Ce]=[]),kt.push({featureIndex:_,feature:rt,intersectionZ:He})}}lookupSymbolFeatures(l,f,m,_,E,k,$,N){const U={};this.loadVTLayers();const G=Fg(E);for(const K of l)this.loadMatchingFeature(U,m,_,K,G,k,$,N,f);return U}hasLayer(l){for(const f of this.bucketLayerIDs)for(const m of f)if(l===m)return!0;return!1}getId(l,f){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof m=="boolean"&&(m=Number(m))),m}}function GL(u,l,f,m,_){return z(u,(E,k)=>{const $=l instanceof qh?l.get(k):null;return $&&$.evaluate?$.evaluate(f,m,_):$})}function YL(u){let l=1/0,f=1/0,m=-1/0,_=-1/0;for(const E of u)l=Math.min(l,E.x),f=Math.min(f,E.y),m=Math.max(m,E.x),_=Math.max(_,E.y);return{minX:l,minY:f,maxX:m,maxY:_}}function LK(u,l){return l-u}function KL(u,l,f,m,_){const E=[];for(let k=0;k<u.length;k++){const $=u[k];let N;for(let U=0;U<$.length-1;U++){let G=$[U],K=$[U+1];G.x<l&&K.x<l||(G.x<l?G=new v(l,G.y+(l-G.x)/(K.x-G.x)*(K.y-G.y))._round():K.x<l&&(K=new v(l,G.y+(l-G.x)/(K.x-G.x)*(K.y-G.y))._round()),G.y<f&&K.y<f||(G.y<f?G=new v(G.x+(f-G.y)/(K.y-G.y)*(K.x-G.x),f)._round():K.y<f&&(K=new v(G.x+(f-G.y)/(K.y-G.y)*(K.x-G.x),f)._round()),G.x>=m&&K.x>=m||(G.x>=m?G=new v(m,G.y+(m-G.x)/(K.x-G.x)*(K.y-G.y))._round():K.x>=m&&(K=new v(m,G.y+(m-G.x)/(K.x-G.x)*(K.y-G.y))._round()),G.y>=_&&K.y>=_||(G.y>=_?G=new v(G.x+(_-G.y)/(K.y-G.y)*(K.x-G.x),_)._round():K.y>=_&&(K=new v(G.x+(_-G.y)/(K.y-G.y)*(K.x-G.x),_)._round()),N&&G.equals(N[N.length-1])||(N=[G],E.push(N)),N.push(K)))))}}return E}Pt("FeatureIndex",HL,{omit:["rawTileData","sourceLayerCoder"]});class Ru extends v{constructor(l,f,m,_){super(l,f),this.angle=m,_!==void 0&&(this.segment=_)}clone(){return new Ru(this.x,this.y,this.angle,this.segment)}}function ZL(u,l,f,m,_){if(l.segment===void 0||f===0)return!0;let E=l,k=l.segment+1,$=0;for(;$>-f/2;){if(k--,k<0)return!1;$-=u[k].dist(E),E=u[k]}$+=u[k].dist(u[k+1]),k++;const N=[];let U=0;for(;$<f/2;){const G=u[k],K=u[k+1];if(!K)return!1;let J=u[k-1].angleTo(G)-G.angleTo(K);for(J=Math.abs((J+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:$,angleDelta:J}),U+=J;$-N[0].distance>m;)U-=N.shift().angleDelta;if(U>_)return!1;k++,$+=G.dist(K)}return!0}function XL(u){let l=0;for(let f=0;f<u.length-1;f++)l+=u[f].dist(u[f+1]);return l}function JL(u,l,f){return u?.6*l*f:0}function QL(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function zK(u,l,f,m,_,E){const k=JL(f,_,E),$=QL(f,m)*E;let N=0;const U=XL(u)/2;for(let G=0;G<u.length-1;G++){const K=u[G],J=u[G+1],te=K.dist(J);if(N+te>U){const re=(U-N)/te,fe=Vo.number(K.x,J.x,re),xe=Vo.number(K.y,J.y,re),Ce=new Ru(fe,xe,J.angleTo(K),G);return Ce._round(),!k||ZL(u,Ce,$,k,l)?Ce:void 0}N+=te}}function NK(u,l,f,m,_,E,k,$,N){const U=JL(m,E,k),G=QL(m,_),K=G*k,J=u[0].x===0||u[0].x===N||u[0].y===0||u[0].y===N;return l-K<l/4&&(l=K+l/4),ez(u,J?l/2*$%l:(G/2+2*E)*k*$%l,l,U,f,K,J,!1,N)}function ez(u,l,f,m,_,E,k,$,N){const U=E/2,G=XL(u);let K=0,J=l-f,te=[];for(let re=0;re<u.length-1;re++){const fe=u[re],xe=u[re+1],Ce=fe.dist(xe),Ne=xe.angleTo(fe);for(;J+f<K+Ce;){J+=f;const Me=(J-K)/Ce,Ue=Vo.number(fe.x,xe.x,Me),He=Vo.number(fe.y,xe.y,Me);if(Ue>=0&&Ue<N&&He>=0&&He<N&&J-U>=0&&J+U<=G){const rt=new Ru(Ue,He,Ne,re);rt._round(),m&&!ZL(u,rt,E,m,_)||te.push(rt)}}K+=Ce}return $||te.length||k||(te=ez(u,K/2,f,m,_,E,k,!0,N)),te}Pt("Anchor",Ru);const sp=qo;function tz(u,l,f,m){const _=[],E=u.image,k=E.pixelRatio,$=E.paddedRect.w-2*sp,N=E.paddedRect.h-2*sp,U=u.right-u.left,G=u.bottom-u.top,K=E.stretchX||[[0,$]],J=E.stretchY||[[0,N]],te=(gt,It)=>gt+It[1]-It[0],re=K.reduce(te,0),fe=J.reduce(te,0),xe=$-re,Ce=N-fe;let Ne=0,Me=re,Ue=0,He=fe,rt=0,kt=xe,Bt=0,Ct=Ce;if(E.content&&m){const gt=E.content;Ne=Vx(K,0,gt[0]),Ue=Vx(J,0,gt[1]),Me=Vx(K,gt[0],gt[2]),He=Vx(J,gt[1],gt[3]),rt=gt[0]-Ne,Bt=gt[1]-Ue,kt=gt[2]-gt[0]-Me,Ct=gt[3]-gt[1]-He}const bt=(gt,It,_t,ht)=>{const Kt=Wx(gt.stretch-Ne,Me,U,u.left),Ut=qx(gt.fixed-rt,kt,gt.stretch,re),yr=Wx(It.stretch-Ue,He,G,u.top),mn=qx(It.fixed-Bt,Ct,It.stretch,fe),Sn=Wx(_t.stretch-Ne,Me,U,u.left),_i=qx(_t.fixed-rt,kt,_t.stretch,re),ua=Wx(ht.stretch-Ue,He,G,u.top),xo=qx(ht.fixed-Bt,Ct,ht.stretch,fe),ui=new v(Kt,yr),Pi=new v(Sn,yr),qi=new v(Sn,ua),Ho=new v(Kt,ua),bo=new v(Ut/k,mn/k),fi=new v(_i/k,xo/k),xi=l*Math.PI/180;if(xi){const Go=Math.sin(xi),Yo=Math.cos(xi),Un=[Yo,-Go,Go,Yo];ui._matMult(Un),Pi._matMult(Un),Ho._matMult(Un),qi._matMult(Un)}const no=gt.stretch+gt.fixed,wo=It.stretch+It.fixed;return{tl:ui,tr:Pi,bl:Ho,br:qi,tex:{x:E.paddedRect.x+sp+no,y:E.paddedRect.y+sp+wo,w:_t.stretch+_t.fixed-no,h:ht.stretch+ht.fixed-wo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:bo,pixelOffsetBR:fi,minFontScaleX:kt/k/U,minFontScaleY:Ct/k/G,isSDF:f}};if(m&&(E.stretchX||E.stretchY)){const gt=rz(K,xe,re),It=rz(J,Ce,fe);for(let _t=0;_t<gt.length-1;_t++){const ht=gt[_t],Kt=gt[_t+1];for(let Ut=0;Ut<It.length-1;Ut++)_.push(bt(ht,It[Ut],Kt,It[Ut+1]))}}else _.push(bt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$+1},{fixed:0,stretch:N+1}));return _}function Vx(u,l,f){let m=0;for(const _ of u)m+=Math.max(l,Math.min(f,_[1]))-Math.max(l,Math.min(f,_[0]));return m}function rz(u,l,f){const m=[{fixed:-sp,stretch:0}];for(const[_,E]of u){const k=m[m.length-1];m.push({fixed:_-k.stretch,stretch:k.stretch}),m.push({fixed:_-k.stretch,stretch:k.stretch+(E-_)})}return m.push({fixed:l+sp,stretch:f}),m}function Wx(u,l,f,m){return u/l*f+m}function qx(u,l,f,m){return u-l*f/m}class Hx{constructor(l,f,m,_,E,k,$,N,U,G){if(this.boxStartIndex=l.length,U){let K=k.top,J=k.bottom;const te=k.collisionPadding;te&&(K-=te[1],J+=te[3]);let re=J-K;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{let K=k.top*$-N[0],J=k.bottom*$+N[2],te=k.left*$-N[3],re=k.right*$+N[1];const fe=k.collisionPadding;if(fe&&(te-=fe[0]*$,K-=fe[1]*$,re+=fe[2]*$,J+=fe[3]*$),G){const xe=new v(te,K),Ce=new v(re,K),Ne=new v(te,J),Me=new v(re,J),Ue=G*Math.PI/180;xe._rotate(Ue),Ce._rotate(Ue),Ne._rotate(Ue),Me._rotate(Ue),te=Math.min(xe.x,Ce.x,Ne.x,Me.x),re=Math.max(xe.x,Ce.x,Ne.x,Me.x),K=Math.min(xe.y,Ce.y,Ne.y,Me.y),J=Math.max(xe.y,Ce.y,Ne.y,Me.y)}l.emplaceBack(f.x,f.y,te,K,re,J,m,_,E)}this.boxEndIndex=l.length}}class jK{constructor(l=[],f=BK){if(this.data=l,this.length=this.data.length,this.compare=f,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],f=this.data.pop();return this.length--,this.length>0&&(this.data[0]=f,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:f,compare:m}=this,_=f[l];for(;l>0;){const E=l-1>>1,k=f[E];if(m(_,k)>=0)break;f[l]=k,l=E}f[l]=_}_down(l){const{data:f,compare:m}=this,_=this.length>>1,E=f[l];for(;l<_;){let k=1+(l<<1),$=f[k];const N=k+1;if(N<this.length&&m(f[N],$)<0&&(k=N,$=f[N]),m($,E)>=0)break;f[l]=$,l=k}f[l]=E}}function BK(u,l){return u<l?-1:u>l?1:0}function FK(u,l=1,f=!1){let m=1/0,_=1/0,E=-1/0,k=-1/0;const $=u[0];for(let te=0;te<$.length;te++){const re=$[te];(!te||re.x<m)&&(m=re.x),(!te||re.y<_)&&(_=re.y),(!te||re.x>E)&&(E=re.x),(!te||re.y>k)&&(k=re.y)}const N=Math.min(E-m,k-_);let U=N/2;const G=new jK([],UK);if(N===0)return new v(m,_);for(let te=m;te<E;te+=N)for(let re=_;re<k;re+=N)G.push(new lp(te+U,re+U,U,u));let K=function(te){let re=0,fe=0,xe=0;const Ce=te[0];for(let Ne=0,Me=Ce.length,Ue=Me-1;Ne<Me;Ue=Ne++){const He=Ce[Ne],rt=Ce[Ue],kt=He.x*rt.y-rt.x*He.y;fe+=(He.x+rt.x)*kt,xe+=(He.y+rt.y)*kt,re+=3*kt}return new lp(fe/re,xe/re,0,te)}(u),J=G.length;for(;G.length;){const te=G.pop();(te.d>K.d||!K.d)&&(K=te,f&&console.log("found best %d after %d probes",Math.round(1e4*te.d)/1e4,J)),te.max-K.d<=l||(U=te.h/2,G.push(new lp(te.p.x-U,te.p.y-U,U,u)),G.push(new lp(te.p.x+U,te.p.y-U,U,u)),G.push(new lp(te.p.x-U,te.p.y+U,U,u)),G.push(new lp(te.p.x+U,te.p.y+U,U,u)),J+=4)}return f&&(console.log(`num probes: ${J}`),console.log(`best distance: ${K.d}`)),K.p}function UK(u,l){return l.max-u.max}function lp(u,l,f,m){this.p=new v(u,l),this.h=f,this.d=function(_,E){let k=!1,$=1/0;for(let N=0;N<E.length;N++){const U=E[N];for(let G=0,K=U.length,J=K-1;G<K;J=G++){const te=U[G],re=U[J];te.y>_.y!=re.y>_.y&&_.x<(re.x-te.x)*(_.y-te.y)/(re.y-te.y)+te.x&&(k=!k),$=Math.min($,jD(_,te,re))}}return(k?1:-1)*Math.sqrt($)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Wi;a.TextAnchorEnum=void 0,(Wi=a.TextAnchorEnum||(a.TextAnchorEnum={}))[Wi.center=1]="center",Wi[Wi.left=2]="left",Wi[Wi.right=3]="right",Wi[Wi.top=4]="top",Wi[Wi.bottom=5]="bottom",Wi[Wi["top-left"]=6]="top-left",Wi[Wi["top-right"]=7]="top-right",Wi[Wi["bottom-left"]=8]="bottom-left",Wi[Wi["bottom-right"]=9]="bottom-right";const $u=7,DC=Number.POSITIVE_INFINITY;function nz(u,l){return l[1]!==DC?function(f,m,_){let E=0,k=0;switch(m=Math.abs(m),_=Math.abs(_),f){case"top-right":case"top-left":case"top":k=_-$u;break;case"bottom-right":case"bottom-left":case"bottom":k=-_+$u}switch(f){case"top-right":case"bottom-right":case"right":E=-m;break;case"top-left":case"bottom-left":case"left":E=m}return[E,k]}(u,l[0],l[1]):function(f,m){let _=0,E=0;m<0&&(m=0);const k=m/Math.sqrt(2);switch(f){case"top-right":case"top-left":E=k-$u;break;case"bottom-right":case"bottom-left":E=-k+$u;break;case"bottom":E=-m+$u;break;case"top":E=m-$u}switch(f){case"top-right":case"bottom-right":_=-k;break;case"top-left":case"bottom-left":_=k;break;case"left":_=m;break;case"right":_=-m}return[_,E]}(u,l[0])}function iz(u,l,f){var m;const _=u.layout,E=(m=_.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},f);if(E){const $=E.values,N=[];for(let U=0;U<$.length;U+=2){const G=N[U]=$[U],K=$[U+1].map(J=>J*vi);G.startsWith("top")?K[1]-=$u:G.startsWith("bottom")&&(K[1]+=$u),N[U+1]=K}return new Ui(N)}const k=_.get("text-variable-anchor");if(k){let $;$=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(l,{},f)*vi,DC]:_.get("text-offset").evaluate(l,{},f).map(U=>U*vi);const N=[];for(const U of k)N.push(U,nz(U,$));return new Ui(N)}return null}function LC(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function VK(u,l,f,m,_,E,k,$,N,U,G){let K=E.textMaxSize.evaluate(l,{});K===void 0&&(K=k);const J=u.layers[0].layout,te=J.get("icon-offset").evaluate(l,{},G),re=az(f.horizontal),fe=k/24,xe=u.tilePixelRatio*fe,Ce=u.tilePixelRatio*K/24,Ne=u.tilePixelRatio*$,Me=u.tilePixelRatio*J.get("symbol-spacing"),Ue=J.get("text-padding")*u.tilePixelRatio,He=function(ht,Kt,Ut,yr=1){const mn=ht.get("icon-padding").evaluate(Kt,{},Ut),Sn=mn&&mn.values;return[Sn[0]*yr,Sn[1]*yr,Sn[2]*yr,Sn[3]*yr]}(J,l,G,u.tilePixelRatio),rt=J.get("text-max-angle")/180*Math.PI,kt=J.get("text-rotation-alignment")!=="viewport"&&J.get("symbol-placement")!=="point",Bt=J.get("icon-rotation-alignment")==="map"&&J.get("symbol-placement")!=="point",Ct=J.get("symbol-placement"),bt=Me/2,gt=J.get("icon-text-fit");let It;m&&gt!=="none"&&(u.allowVerticalPlacement&&f.vertical&&(It=AL(m,f.vertical,gt,J.get("icon-text-fit-padding"),te,fe)),re&&(m=AL(m,re,gt,J.get("icon-text-fit-padding"),te,fe)));const _t=(ht,Kt)=>{Kt.x<0||Kt.x>=On||Kt.y<0||Kt.y>=On||function(Ut,yr,mn,Sn,_i,ua,xo,ui,Pi,qi,Ho,bo,fi,xi,no,wo,Go,Yo,Un,Hi,Cr,fa,Gi,So,os){const qs=Ut.addToLineVertexArray(yr,mn);let Hs,Cc,as,Ra,Ko=0,Tc=0,ky=0,uz=0,WC=-1,qC=-1;const kc={};let fz=Us("");if(Ut.allowVerticalPlacement&&Sn.vertical){const io=ui.layout.get("text-rotate").evaluate(Cr,{},So)+90;as=new Hx(Pi,yr,qi,Ho,bo,Sn.vertical,fi,xi,no,io),xo&&(Ra=new Hx(Pi,yr,qi,Ho,bo,xo,Go,Yo,no,io))}if(_i){const io=ui.layout.get("icon-rotate").evaluate(Cr,{}),$a=ui.layout.get("icon-text-fit")!=="none",fd=tz(_i,io,Gi,$a),Ys=xo?tz(xo,io,Gi,$a):void 0;Cc=new Hx(Pi,yr,qi,Ho,bo,_i,Go,Yo,!1,io),Ko=4*fd.length;const dd=Ut.iconSizeData;let Ol=null;dd.kind==="source"?(Ol=[Ml*ui.layout.get("icon-size").evaluate(Cr,{})],Ol[0]>Ou&&ie(`${Ut.layerIds[0]}: Value for "icon-size" is >= ${Sy}. Reduce your "icon-size".`)):dd.kind==="composite"&&(Ol=[Ml*fa.compositeIconSizes[0].evaluate(Cr,{},So),Ml*fa.compositeIconSizes[1].evaluate(Cr,{},So)],(Ol[0]>Ou||Ol[1]>Ou)&&ie(`${Ut.layerIds[0]}: Value for "icon-size" is >= ${Sy}. Reduce your "icon-size".`)),Ut.addSymbols(Ut.icon,fd,Ol,Hi,Un,Cr,a.WritingMode.none,yr,qs.lineStartIndex,qs.lineLength,-1,So),WC=Ut.icon.placedSymbolArray.length-1,Ys&&(Tc=4*Ys.length,Ut.addSymbols(Ut.icon,Ys,Ol,Hi,Un,Cr,a.WritingMode.vertical,yr,qs.lineStartIndex,qs.lineLength,-1,So),qC=Ut.icon.placedSymbolArray.length-1)}const dz=Object.keys(Sn.horizontal);for(const io of dz){const $a=Sn.horizontal[io];if(!Hs){fz=Us($a.text);const Ys=ui.layout.get("text-rotate").evaluate(Cr,{},So);Hs=new Hx(Pi,yr,qi,Ho,bo,$a,fi,xi,no,Ys)}const fd=$a.positionedLines.length===1;if(ky+=oz(Ut,yr,$a,ua,ui,no,Cr,wo,qs,Sn.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,fd?dz:[io],kc,WC,fa,So),fd)break}Sn.vertical&&(uz+=oz(Ut,yr,Sn.vertical,ua,ui,no,Cr,wo,qs,a.WritingMode.vertical,["vertical"],kc,qC,fa,So));const HK=Hs?Hs.boxStartIndex:Ut.collisionBoxArray.length,GK=Hs?Hs.boxEndIndex:Ut.collisionBoxArray.length,YK=as?as.boxStartIndex:Ut.collisionBoxArray.length,KK=as?as.boxEndIndex:Ut.collisionBoxArray.length,ZK=Cc?Cc.boxStartIndex:Ut.collisionBoxArray.length,XK=Cc?Cc.boxEndIndex:Ut.collisionBoxArray.length,JK=Ra?Ra.boxStartIndex:Ut.collisionBoxArray.length,QK=Ra?Ra.boxEndIndex:Ut.collisionBoxArray.length;let Gs=-1;const Yx=(io,$a)=>io&&io.circleDiameter?Math.max(io.circleDiameter,$a):$a;Gs=Yx(Hs,Gs),Gs=Yx(as,Gs),Gs=Yx(Cc,Gs),Gs=Yx(Ra,Gs);const hz=Gs>-1?1:0;hz&&(Gs*=os/vi),Ut.glyphOffsetArray.length>=ap.MAX_GLYPHS&&ie("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cr.sortKey!==void 0&&Ut.addToSortKeyRanges(Ut.symbolInstances.length,Cr.sortKey);const eZ=iz(ui,Cr,So),[tZ,rZ]=function(io,$a){const fd=io.length,Ys=$a==null?void 0:$a.values;if((Ys==null?void 0:Ys.length)>0)for(let dd=0;dd<Ys.length;dd+=2){const Ol=Ys[dd+1];io.emplaceBack(a.TextAnchorEnum[Ys[dd]],Ol[0],Ol[1])}return[fd,io.length]}(Ut.textAnchorOffsets,eZ);Ut.symbolInstances.emplaceBack(yr.x,yr.y,kc.right>=0?kc.right:-1,kc.center>=0?kc.center:-1,kc.left>=0?kc.left:-1,kc.vertical||-1,WC,qC,fz,HK,GK,YK,KK,ZK,XK,JK,QK,qi,ky,uz,Ko,Tc,hz,0,fi,Gs,tZ,rZ)}(u,Kt,ht,f,m,_,It,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,xe,[Ue,Ue,Ue,Ue],kt,N,Ne,He,Bt,te,l,E,U,G,k)};if(Ct==="line")for(const ht of KL(l.geometry,0,0,On,On)){const Kt=NK(ht,Me,rt,f.vertical||re,m,24,Ce,u.overscaling,On);for(const Ut of Kt)re&&WK(u,re.text,bt,Ut)||_t(ht,Ut)}else if(Ct==="line-center"){for(const ht of l.geometry)if(ht.length>1){const Kt=zK(ht,rt,f.vertical||re,m,24,Ce);Kt&&_t(ht,Kt)}}else if(l.type==="Polygon")for(const ht of pC(l.geometry,0)){const Kt=FK(ht,16);_t(ht[0],new Ru(Kt.x,Kt.y,0))}else if(l.type==="LineString")for(const ht of l.geometry)_t(ht,new Ru(ht[0].x,ht[0].y,0));else if(l.type==="Point")for(const ht of l.geometry)for(const Kt of ht)_t([Kt],new Ru(Kt.x,Kt.y,0))}function oz(u,l,f,m,_,E,k,$,N,U,G,K,J,te,re){const fe=function(Ne,Me,Ue,He,rt,kt,Bt,Ct){const bt=He.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,gt=[];for(const It of Me.positionedLines)for(const _t of It.positionedGlyphs){if(!_t.rect)continue;const ht=_t.rect||{};let Kt=wL+1,Ut=!0,yr=1,mn=0;const Sn=(rt||Ct)&&_t.vertical,_i=_t.metrics.advance*_t.scale/2;if(Ct&&Me.verticalizable&&(mn=It.lineOffset/2-(_t.imageName?-(vi-_t.metrics.width*_t.scale)/2:(_t.scale-1)*vi)),_t.imageName){const Un=Bt[_t.imageName];Ut=Un.sdf,yr=Un.pixelRatio,Kt=qo/yr}const ua=rt?[_t.x+_i,_t.y]:[0,0];let xo=rt?[0,0]:[_t.x+_i+Ue[0],_t.y+Ue[1]-mn],ui=[0,0];Sn&&(ui=xo,xo=[0,0]);const Pi=(_t.metrics.left-Kt)*_t.scale-_i+xo[0],qi=(-_t.metrics.top-Kt)*_t.scale+xo[1],Ho=Pi+ht.w*_t.scale/yr,bo=qi+ht.h*_t.scale/yr,fi=new v(Pi,qi),xi=new v(Ho,qi),no=new v(Pi,bo),wo=new v(Ho,bo);if(Sn){const Un=new v(-_i,_i-by),Hi=-Math.PI/2,Cr=vi/2-_i,fa=new v(5-by-Cr,-(_t.imageName?Cr:0)),Gi=new v(...ui);fi._rotateAround(Hi,Un)._add(fa)._add(Gi),xi._rotateAround(Hi,Un)._add(fa)._add(Gi),no._rotateAround(Hi,Un)._add(fa)._add(Gi),wo._rotateAround(Hi,Un)._add(fa)._add(Gi)}if(bt){const Un=Math.sin(bt),Hi=Math.cos(bt),Cr=[Hi,-Un,Un,Hi];fi._matMult(Cr),xi._matMult(Cr),no._matMult(Cr),wo._matMult(Cr)}const Go=new v(0,0),Yo=new v(0,0);gt.push({tl:fi,tr:xi,bl:no,br:wo,tex:ht,writingMode:Me.writingMode,glyphOffset:ua,sectionIndex:_t.sectionIndex,isSDF:Ut,pixelOffsetTL:Go,pixelOffsetBR:Yo,minFontScaleX:0,minFontScaleY:0})}return gt}(0,f,$,_,E,k,m,u.allowVerticalPlacement),xe=u.textSizeData;let Ce=null;xe.kind==="source"?(Ce=[Ml*_.layout.get("text-size").evaluate(k,{})],Ce[0]>Ou&&ie(`${u.layerIds[0]}: Value for "text-size" is >= ${Sy}. Reduce your "text-size".`)):xe.kind==="composite"&&(Ce=[Ml*te.compositeTextSizes[0].evaluate(k,{},re),Ml*te.compositeTextSizes[1].evaluate(k,{},re)],(Ce[0]>Ou||Ce[1]>Ou)&&ie(`${u.layerIds[0]}: Value for "text-size" is >= ${Sy}. Reduce your "text-size".`)),u.addSymbols(u.text,fe,Ce,$,E,k,U,l,N.lineStartIndex,N.lineLength,J,re);for(const Ne of G)K[Ne]=u.text.placedSymbolArray.length-1;return 4*fe.length}function az(u){for(const l in u)return u[l];return null}function WK(u,l,f,m){const _=u.compareText;if(l in _){const E=_[l];for(let k=E.length-1;k>=0;k--)if(m.dist(E[k])<f)return!0}else _[l]=[];return _[l].push(m),!1}const sz=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class zC{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[f,m]=new Uint8Array(l,0,2);if(f!==219)throw new Error("Data does not appear to be in a KDBush format.");const _=m>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);const E=sz[15&m];if(!E)throw new Error("Unrecognized array type.");const[k]=new Uint16Array(l,2,1),[$]=new Uint32Array(l,4,1);return new zC($,k,E,l)}constructor(l,f=64,m=Float64Array,_){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const E=sz.indexOf(this.ArrayType),k=2*l*this.ArrayType.BYTES_PER_ELEMENT,$=l*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-$%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${m}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+$+N,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+k+$+N),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+$+N,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=l)}add(l,f){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=f,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return NC(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,f,m,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:k,nodeSize:$}=this,N=[0,E.length-1,0],U=[];for(;N.length;){const G=N.pop()||0,K=N.pop()||0,J=N.pop()||0;if(K-J<=$){for(let xe=J;xe<=K;xe++){const Ce=k[2*xe],Ne=k[2*xe+1];Ce>=l&&Ce<=m&&Ne>=f&&Ne<=_&&U.push(E[xe])}continue}const te=J+K>>1,re=k[2*te],fe=k[2*te+1];re>=l&&re<=m&&fe>=f&&fe<=_&&U.push(E[te]),(G===0?l<=re:f<=fe)&&(N.push(J),N.push(te-1),N.push(1-G)),(G===0?m>=re:_>=fe)&&(N.push(te+1),N.push(K),N.push(1-G))}return U}within(l,f,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:E,nodeSize:k}=this,$=[0,_.length-1,0],N=[],U=m*m;for(;$.length;){const G=$.pop()||0,K=$.pop()||0,J=$.pop()||0;if(K-J<=k){for(let xe=J;xe<=K;xe++)cz(E[2*xe],E[2*xe+1],l,f)<=U&&N.push(_[xe]);continue}const te=J+K>>1,re=E[2*te],fe=E[2*te+1];cz(re,fe,l,f)<=U&&N.push(_[te]),(G===0?l-m<=re:f-m<=fe)&&($.push(J),$.push(te-1),$.push(1-G)),(G===0?l+m>=re:f+m>=fe)&&($.push(te+1),$.push(K),$.push(1-G))}return N}}function NC(u,l,f,m,_,E){if(_-m<=f)return;const k=m+_>>1;lz(u,l,k,m,_,E),NC(u,l,f,m,k-1,1-E),NC(u,l,f,k+1,_,1-E)}function lz(u,l,f,m,_,E){for(;_>m;){if(_-m>600){const U=_-m+1,G=f-m+1,K=Math.log(U),J=.5*Math.exp(2*K/3),te=.5*Math.sqrt(K*J*(U-J)/U)*(G-U/2<0?-1:1);lz(u,l,f,Math.max(m,Math.floor(f-G*J/U+te)),Math.min(_,Math.floor(f+(U-G)*J/U+te)),E)}const k=l[2*f+E];let $=m,N=_;for(Cy(u,l,m,f),l[2*_+E]>k&&Cy(u,l,m,_);$<N;){for(Cy(u,l,$,N),$++,N--;l[2*$+E]<k;)$++;for(;l[2*N+E]>k;)N--}l[2*m+E]===k?Cy(u,l,m,N):(N++,Cy(u,l,N,_)),N<=f&&(m=N+1),f<=N&&(_=N-1)}}function Cy(u,l,f,m){jC(u,f,m),jC(l,2*f,2*m),jC(l,2*f+1,2*m+1)}function jC(u,l,f){const m=u[l];u[l]=u[f],u[f]=m}function cz(u,l,f,m){const _=u-f,E=l-m;return _*_+E*E}var BC;a.PerformanceMarkers=void 0,(BC=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",BC.load="load",BC.fullLoad="fullLoad";let Gx=null,Ty=[];const FC=1e3/60,UC="loadTime",VC="fullLoadTime",qK={mark(u){performance.mark(u)},frame(u){const l=u;Gx!=null&&Ty.push(l-Gx),Gx=l},clearMetrics(){Gx=null,Ty=[],performance.clearMeasures(UC),performance.clearMeasures(VC);for(const u in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure(UC,a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure(VC,a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName(UC)[0].duration,l=performance.getEntriesByName(VC)[0].duration,f=Ty.length,m=1/(Ty.reduce((E,k)=>E+k,0)/f/1e3),_=Ty.filter(E=>E>FC).reduce((E,k)=>E+(k-FC)/FC,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:_/(f+_)*100,totalFrames:f}}};a.AJAXError=Xe,a.ARRAY_TYPE=ep,a.Actor=class{constructor(u,l,f){this.receive=m=>{const _=m.data,E=_.id;if(E&&(!_.targetMapId||this.mapId===_.targetMapId))if(_.type==="<cancel>"){delete this.tasks[E];const k=this.cancelCallbacks[E];delete this.cancelCallbacks[E],k&&k()}else de()||_.mustQueue?(this.tasks[E]=_,this.taskQueue.push(E),this.invoker.trigger()):this.processTask(E,_)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),_=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),_&&this.processTask(m,_)},this.target=u,this.parent=l,this.mapId=f,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new DK(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=de()?u:window}send(u,l,f,m,_=!1){const E=Math.round(1e18*Math.random()).toString(36).substring(0,10);f&&(this.callbacks[E]=f);const k=Pe(this.globalScope)?void 0:[];return this.target.postMessage({id:E,type:u,hasCallback:!!f,targetMapId:m,mustQueue:_,sourceMapId:this.mapId,data:vc(l,k)},k),{cancel:()=>{f&&delete this.callbacks[E],this.target.postMessage({id:E,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const f=this.callbacks[u];delete this.callbacks[u],f&&(l.error?f(bu(l.error)):f(null,bu(l.data)))}else{let f=!1;const m=Pe(this.globalScope)?void 0:[],_=l.hasCallback?($,N)=>{f=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:$?vc($):null,data:vc(N,m)},m)}:$=>{f=!0};let E=null;const k=bu(l.data);if(this.parent[l.type])E=this.parent[l.type](l.sourceMapId,k,_);else if(this.parent.getWorkerSource){const $=l.type.split(".");E=this.parent.getWorkerSource(l.sourceMapId,$[0],k.source)[$[1]](k,_)}else _(new Error(`Could not find function ${l.type}`));!f&&E&&E.cancel&&(this.cancelCallbacks[u]=E.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=hy,a.CanonicalTileID=$C,a.CollisionBoxArray=B,a.CollisionCircleLayoutArray=class extends Kh{},a.Color=mt,a.DEMData=VL,a.DataConstantProperty=qt,a.DictionaryCoder=WL,a.EXTENT=On,a.ErrorEvent=ct,a.EvaluationParameters=wn,a.Event=Je,a.Evented=Fe,a.FeatureIndex=HL,a.FillBucket=yC,a.FillExtrusionBucket=_C,a.GeoJSONFeature=qL,a.ImageAtlas=EL,a.ImagePosition=EC,a.KDBush=zC,a.LineBucket=xC,a.LineStripIndexArray=class extends C{},a.LngLat=Iu,a.MercatorCoordinate=Ux,a.ONE_EM=vi,a.OverscaledTileID=Ia,a.PerformanceUtils=qK,a.Point=v,a.Pos3dArray=class extends Cu{},a.PosArray=we,a.Properties=yi,a.Protobuf=wC,a.QuadTriangleArray=class extends Zh{},a.RGBAImage=Oa,a.RasterBoundsArray=class extends Gh{},a.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.SegmentVector=tr,a.SymbolBucket=ap,a.Transitionable=Wh,a.TriangleIndexArray=$t,a.Uniform1f=Ti,a.Uniform1i=class extends Fn{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.Uniform2f=class extends Fn{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.Uniform3f=class extends Fn{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.Uniform4f=Tu,a.UniformColor=ci,a.UniformMatrix4f=class extends Fn{constructor(u,l){super(u,l),this.current=ki}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.UnwrappedTileID=UL,a.ValidationError=ut,a.ZoomHistory=Uh,a.addDynamicAttributes=PC,a.arrayBufferToImage=function(u,l){const f=new Image;f.onload=()=>{l(null,f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=he})},f.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});f.src=u.byteLength?URL.createObjectURL(m):he},a.arrayBufferToImageBitmap=function(u,l){const f=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(f).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.asyncAll=function(u,l,f){if(!u.length)return f(null,[]);let m=u.length;const _=new Array(u.length);let E=null;u.forEach((k,$)=>{l(k,(N,U)=>{N&&(E=N),_[$]=U,--m==0&&f(E,_)})})},a.bezier=w,a.browser=ye,a.clamp=O,a.clipLine=KL,a.clone=function(u){var l=new ep(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.clone$1=V,a.collisionCircleLayout=cK,a.config=Ie,a.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.create=function(){var u=new ep(16);return ep!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a.createExpression=_r,a.createFilter=Fg,a.createLayout=ti,a.createStyleLayer=function(u){if(u.type==="custom")return new $K(u);switch(u.type){case"background":return new OK(u);case"circle":return new gY(u);case"fill":return new LY(u);case"fill-extrusion":return new XY(u);case"heatmap":return new vY(u);case"hillshade":return new xY(u);case"line":return new oK(u);case"raster":return new RK(u);case"symbol":return new Fx(u)}},a.deepEqual=function u(l,f){if(Array.isArray(l)){if(!Array.isArray(f)||l.length!==f.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],f[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&f!==null){if(typeof f!="object"||Object.keys(l).length!==Object.keys(f).length)return!1;for(const m in l)if(!u(l[m],f[m]))return!1;return!0}return l===f},a.defaultEasing=P,a.derefLayers=function(u){u=u.slice();const l=Object.create(null);for(let f=0;f<u.length;f++)l[u[f].id]=u[f];for(let f=0;f<u.length;f++)"ref"in u[f]&&(u[f]=Zt(u[f],l[u[f].ref]));return u},a.diffStyles=function(u,l){if(!u)return[{command:zt.setStyle,args:[l]}];let f=[];try{if(!Ot(u.version,l.version))return[{command:zt.setStyle,args:[l]}];Ot(u.center,l.center)||f.push({command:zt.setCenter,args:[l.center]}),Ot(u.zoom,l.zoom)||f.push({command:zt.setZoom,args:[l.zoom]}),Ot(u.bearing,l.bearing)||f.push({command:zt.setBearing,args:[l.bearing]}),Ot(u.pitch,l.pitch)||f.push({command:zt.setPitch,args:[l.pitch]}),Ot(u.sprite,l.sprite)||f.push({command:zt.setSprite,args:[l.sprite]}),Ot(u.glyphs,l.glyphs)||f.push({command:zt.setGlyphs,args:[l.glyphs]}),Ot(u.transition,l.transition)||f.push({command:zt.setTransition,args:[l.transition]}),Ot(u.light,l.light)||f.push({command:zt.setLight,args:[l.light]});const m={},_=[];(function(k,$,N,U){let G;for(G in $=$||{},k=k||{})Object.prototype.hasOwnProperty.call(k,G)&&(Object.prototype.hasOwnProperty.call($,G)||Vr(G,N,U));for(G in $)Object.prototype.hasOwnProperty.call($,G)&&(Object.prototype.hasOwnProperty.call(k,G)?Ot(k[G],$[G])||(k[G].type==="geojson"&&$[G].type==="geojson"&&Sr(k,$,G)?N.push({command:zt.setGeoJSONSourceData,args:[G,$[G].data]}):pr(G,$,N,U)):Mr(G,$,N))})(u.sources,l.sources,_,m);const E=[];u.layers&&u.layers.forEach(k=>{m[k.source]?f.push({command:zt.removeLayer,args:[k.id]}):E.push(k)}),f=f.concat(_),function(k,$,N){$=$||[];const U=(k=k||[]).map(Er),G=$.map(Er),K=k.reduce(an,{}),J=$.reduce(an,{}),te=U.slice(),re=Object.create(null);let fe,xe,Ce,Ne,Me,Ue,He;for(fe=0,xe=0;fe<U.length;fe++)Ce=U[fe],Object.prototype.hasOwnProperty.call(J,Ce)?xe++:(N.push({command:zt.removeLayer,args:[Ce]}),te.splice(te.indexOf(Ce,xe),1));for(fe=0,xe=0;fe<G.length;fe++)Ce=G[G.length-1-fe],te[te.length-1-fe]!==Ce&&(Object.prototype.hasOwnProperty.call(K,Ce)?(N.push({command:zt.removeLayer,args:[Ce]}),te.splice(te.lastIndexOf(Ce,te.length-xe),1)):xe++,Ue=te[te.length-fe],N.push({command:zt.addLayer,args:[J[Ce],Ue]}),te.splice(te.length-fe,0,Ce),re[Ce]=!0);for(fe=0;fe<G.length;fe++)if(Ce=G[fe],Ne=K[Ce],Me=J[Ce],!re[Ce]&&!Ot(Ne,Me))if(Ot(Ne.source,Me.source)&&Ot(Ne["source-layer"],Me["source-layer"])&&Ot(Ne.type,Me.type)){for(He in cr(Ne.layout,Me.layout,N,Ce,null,zt.setLayoutProperty),cr(Ne.paint,Me.paint,N,Ce,null,zt.setPaintProperty),Ot(Ne.filter,Me.filter)||N.push({command:zt.setFilter,args:[Ce,Me.filter]}),Ot(Ne.minzoom,Me.minzoom)&&Ot(Ne.maxzoom,Me.maxzoom)||N.push({command:zt.setLayerZoomRange,args:[Ce,Me.minzoom,Me.maxzoom]}),Ne)Object.prototype.hasOwnProperty.call(Ne,He)&&He!=="layout"&&He!=="paint"&&He!=="filter"&&He!=="metadata"&&He!=="minzoom"&&He!=="maxzoom"&&(He.indexOf("paint.")===0?cr(Ne[He],Me[He],N,Ce,He.slice(6),zt.setPaintProperty):Ot(Ne[He],Me[He])||N.push({command:zt.setLayerProperty,args:[Ce,He,Me[He]]}));for(He in Me)Object.prototype.hasOwnProperty.call(Me,He)&&!Object.prototype.hasOwnProperty.call(Ne,He)&&He!=="layout"&&He!=="paint"&&He!=="filter"&&He!=="metadata"&&He!=="minzoom"&&He!=="maxzoom"&&(He.indexOf("paint.")===0?cr(Ne[He],Me[He],N,Ce,He.slice(6),zt.setPaintProperty):Ot(Ne[He],Me[He])||N.push({command:zt.setLayerProperty,args:[Ce,He,Me[He]]}))}else N.push({command:zt.removeLayer,args:[Ce]}),Ue=te[te.lastIndexOf(Ce)+1],N.push({command:zt.addLayer,args:[Me,Ue]})}(E,l.layers,f)}catch(m){console.warn("Unable to compute style diff:",m),f=[{command:zt.setStyle,args:[l]}]}return f},a.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.earthRadius=IC,a.emitValidationErrors=yx,a.emptyStyle=function(){const u={},l=Re.$version;for(const f in Re.$root){const m=Re.$root[f];if(m.required){let _=null;_=f==="version"?l:m.type==="array"?[]:{},_!=null&&(u[f]=_)}}return u},a.equals=function(u,l){var f=u[0],m=u[1],_=u[2],E=u[3],k=u[4],$=u[5],N=u[6],U=u[7],G=u[8],K=u[9],J=u[10],te=u[11],re=u[12],fe=u[13],xe=u[14],Ce=u[15],Ne=l[0],Me=l[1],Ue=l[2],He=l[3],rt=l[4],kt=l[5],Bt=l[6],Ct=l[7],bt=l[8],gt=l[9],It=l[10],_t=l[11],ht=l[12],Kt=l[13],Ut=l[14],yr=l[15];return Math.abs(f-Ne)<=_o*Math.max(1,Math.abs(f),Math.abs(Ne))&&Math.abs(m-Me)<=_o*Math.max(1,Math.abs(m),Math.abs(Me))&&Math.abs(_-Ue)<=_o*Math.max(1,Math.abs(_),Math.abs(Ue))&&Math.abs(E-He)<=_o*Math.max(1,Math.abs(E),Math.abs(He))&&Math.abs(k-rt)<=_o*Math.max(1,Math.abs(k),Math.abs(rt))&&Math.abs($-kt)<=_o*Math.max(1,Math.abs($),Math.abs(kt))&&Math.abs(N-Bt)<=_o*Math.max(1,Math.abs(N),Math.abs(Bt))&&Math.abs(U-Ct)<=_o*Math.max(1,Math.abs(U),Math.abs(Ct))&&Math.abs(G-bt)<=_o*Math.max(1,Math.abs(G),Math.abs(bt))&&Math.abs(K-gt)<=_o*Math.max(1,Math.abs(K),Math.abs(gt))&&Math.abs(J-It)<=_o*Math.max(1,Math.abs(J),Math.abs(It))&&Math.abs(te-_t)<=_o*Math.max(1,Math.abs(te),Math.abs(_t))&&Math.abs(re-ht)<=_o*Math.max(1,Math.abs(re),Math.abs(ht))&&Math.abs(fe-Kt)<=_o*Math.max(1,Math.abs(fe),Math.abs(Kt))&&Math.abs(xe-Ut)<=_o*Math.max(1,Math.abs(xe),Math.abs(Ut))&&Math.abs(Ce-yr)<=_o*Math.max(1,Math.abs(Ce),Math.abs(yr))},a.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:f},{lowerSize:m,upperSize:_}){return u.kind==="source"?m/Ml:u.kind==="composite"?Vo.number(m/Ml,_/Ml,f):l},a.evaluateSizeForZoom=function(u,l){let f=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:_,minZoom:E,maxZoom:k}=u,$=_?O(Wo.interpolationFactor(_,l,E,k),0,1):0;u.kind==="camera"?m=Vo.number(u.minSize,u.maxSize,$):f=$}return{uSizeT:f,uSize:m}},a.evented=ey,a.extend=T,a.filterObject=j,a.findLineIntersection=function(u,l,f,m){const _=l.y-u.y,E=l.x-u.x,k=m.y-f.y,$=m.x-f.x,N=k*E-$*_;if(N===0)return null;const U=($*(u.y-f.y)-k*(u.x-f.x))/N;return new v(u.x+U*E,u.y+U*_)},a.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.getAnchorAlignment=TC,a.getAnchorJustification=LC,a.getArrayBuffer=Be,a.getDefaultExportFromCjs=d,a.getJSON=function(u,l){return Ge(T(u,{type:"json"}),l)},a.getOverlapMode=kC,a.getProtocolAction=De,a.getRTLTextPluginStatus=ty,a.getReferrer=Ee,a.getVideo=function(u,l){const f=window.document.createElement("video");f.muted=!0,f.onloadstart=function(){l(null,f)};for(let m=0;m<u.length;m++){const _=window.document.createElement("source");at(u[m])||(f.crossOrigin="Anonymous"),_.src=u[m],f.appendChild(_)}return{cancel:()=>{}}},a.groupByLayout=function(u,l){const f={};for(let _=0;_<u.length;_++){const E=l&&l[u[_].id]||QE(u[_]);l&&(l[u[_].id]=E);let k=f[E];k||(k=f[E]=[]),k.push(u[_])}const m=[];for(const _ in f)m.push(f[_]);return m},a.identity=sC,a.interpolate=Vo,a.invert=function(u,l){var f=l[0],m=l[1],_=l[2],E=l[3],k=l[4],$=l[5],N=l[6],U=l[7],G=l[8],K=l[9],J=l[10],te=l[11],re=l[12],fe=l[13],xe=l[14],Ce=l[15],Ne=f*$-m*k,Me=f*N-_*k,Ue=f*U-E*k,He=m*N-_*$,rt=m*U-E*$,kt=_*U-E*N,Bt=G*fe-K*re,Ct=G*xe-J*re,bt=G*Ce-te*re,gt=K*xe-J*fe,It=K*Ce-te*fe,_t=J*Ce-te*xe,ht=Ne*_t-Me*It+Ue*gt+He*bt-rt*Ct+kt*Bt;return ht?(u[0]=($*_t-N*It+U*gt)*(ht=1/ht),u[1]=(_*It-m*_t-E*gt)*ht,u[2]=(fe*kt-xe*rt+Ce*He)*ht,u[3]=(J*rt-K*kt-te*He)*ht,u[4]=(N*bt-k*_t-U*Ct)*ht,u[5]=(f*_t-_*bt+E*Ct)*ht,u[6]=(xe*Ue-re*kt-Ce*Me)*ht,u[7]=(G*kt-J*Ue+te*Me)*ht,u[8]=(k*It-$*bt+U*Bt)*ht,u[9]=(m*bt-f*It-E*Bt)*ht,u[10]=(re*rt-fe*Ue+Ce*Ne)*ht,u[11]=(K*Ue-G*rt-te*Ne)*ht,u[12]=($*Ct-k*gt-N*Bt)*ht,u[13]=(f*gt-m*Ct+_*Bt)*ht,u[14]=(fe*Me-re*He-xe*Ne)*ht,u[15]=(G*He-K*Me+J*Ne)*ht,u):null},a.isImageBitmap=be,a.isSafari=Pe,a.isWorker=de,a.keysDifference=function(u,l){const f=[];for(const m in u)m in l||f.push(m);return f},a.lazyLoadRTLTextPlugin=function(){ca.isLoading()||ca.isLoaded()||ty()!=="deferred"||wx()},a.makeRequest=Ge,a.mapObject=z,a.mercatorXfromLng=NL,a.mercatorYfromLat=jL,a.mercatorZfromAltitude=BL,a.mul=mY,a.mul$1=function(u,l,f){return u[0]=l[0]*f[0],u[1]=l[1]*f[1],u[2]=l[2]*f[2],u[3]=l[3]*f[3],u},a.multiply=VD,a.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.operations=zt,a.ortho=function(u,l,f,m,_,E,k){var $=1/(l-f),N=1/(m-_),U=1/(E-k);return u[0]=-2*$,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*N,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*U,u[11]=0,u[12]=(l+f)*$,u[13]=(_+m)*N,u[14]=(k+E)*U,u[15]=1,u},a.parseCacheControl=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,m,_,E)=>{const k=_||E;return l[m]=!k||k.toLowerCase(),""}),l["max-age"]){const f=parseInt(l["max-age"],10);isNaN(f)?delete l["max-age"]:l["max-age"]=f}return l},a.parseGlyphPbf=function(u){return new wC(u).readFields(xK,[])},a.pbf=mL,a.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=On/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],f=l.layout,m=l._unevaluatedLayout._values,_={layoutIconSize:m["icon-size"].possiblyEvaluate(new wn(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new wn(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new wn(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:U,maxZoom:G}=u.bucket.textSizeData;_.compositeTextSizes=[m["text-size"].possiblyEvaluate(new wn(U),u.canonical),m["text-size"].possiblyEvaluate(new wn(G),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:U,maxZoom:G}=u.bucket.iconSizeData;_.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new wn(U),u.canonical),m["icon-size"].possiblyEvaluate(new wn(G),u.canonical)]}const E=f.get("text-line-height")*vi,k=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point",$=f.get("text-keep-upright"),N=f.get("text-size");for(const U of u.bucket.features){const G=f.get("text-font").evaluate(U,{},u.canonical).join(","),K=N.evaluate(U,{},u.canonical),J=_.layoutTextSize.evaluate(U,{},u.canonical),te=_.layoutIconSize.evaluate(U,{},u.canonical),re={horizontal:{},vertical:void 0},fe=U.text;let xe,Ce=[0,0];if(fe){const Ue=fe.toString(),He=f.get("text-letter-spacing").evaluate(U,{},u.canonical)*vi,rt=tC(Ue)?He:0,kt=f.get("text-anchor").evaluate(U,{},u.canonical),Bt=iz(l,U,u.canonical);if(!Bt){const _t=f.get("text-radial-offset").evaluate(U,{},u.canonical);Ce=_t?nz(kt,[_t*vi,DC]):f.get("text-offset").evaluate(U,{},u.canonical).map(ht=>ht*vi)}let Ct=k?"center":f.get("text-justify").evaluate(U,{},u.canonical);const bt=f.get("symbol-placement"),gt=bt==="point"?f.get("text-max-width").evaluate(U,{},u.canonical)*vi:0,It=()=>{u.bucket.allowVerticalPlacement&&Vh(Ue)&&(re.vertical=Nx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,E,kt,"left",rt,Ce,a.WritingMode.vertical,!0,bt,J,K))};if(!k&&Bt){const _t=new Set;if(Ct==="auto")for(let Kt=0;Kt<Bt.values.length;Kt+=2)_t.add(LC(Bt.values[Kt]));else _t.add(Ct);let ht=!1;for(const Kt of _t)if(!re.horizontal[Kt])if(ht)re.horizontal[Kt]=re.horizontal[0];else{const Ut=Nx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,E,"center",Kt,rt,Ce,a.WritingMode.horizontal,!1,bt,J,K);Ut&&(re.horizontal[Kt]=Ut,ht=Ut.positionedLines.length===1)}It()}else{Ct==="auto"&&(Ct=LC(kt));const _t=Nx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,E,kt,Ct,rt,Ce,a.WritingMode.horizontal,!1,bt,J,K);_t&&(re.horizontal[Ct]=_t),It(),Vh(Ue)&&k&&$&&(re.vertical=Nx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,E,kt,Ct,rt,Ce,a.WritingMode.vertical,!1,bt,J,K))}}let Ne=!1;if(U.icon&&U.icon.name){const Ue=u.imageMap[U.icon.name];Ue&&(xe=TK(u.imagePositions[U.icon.name],f.get("icon-offset").evaluate(U,{},u.canonical),f.get("icon-anchor").evaluate(U,{},u.canonical)),Ne=!!Ue.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Ne:u.bucket.sdfIcons!==Ne&&ie("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ue.pixelRatio!==u.bucket.pixelRatio||f.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Me=az(re.horizontal)||re.vertical;u.bucket.iconsInText=!!Me&&Me.iconsInText,(Me||xe)&&VK(u.bucket,U,re,xe,u.imageMap,_,J,te,Ce,Ne,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.perspective=function(u,l,f,m,_){var E,k=1/Math.tan(l/2);return u[0]=k/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=k,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=(_+m)*(E=1/(m-_)),u[14]=2*_*m*E):(u[10]=-1,u[14]=-2*m),u},a.pick=function(u,l){const f={};for(let m=0;m<l.length;m++){const _=l[m];_ in u&&(f[_]=u[_])}return f},a.plugin=ca,a.pointGeometry=h,a.polygonIntersectsPolygon=zD,a.potpack=SL,a.register=Pt,a.registerForPluginStateChange=function(u){return u({pluginStatus:go,pluginURL:js}),ey.on("pluginStateChange",u),u},a.renderColorRamp=YD,a.rotateX=function(u,l,f){var m=Math.sin(f),_=Math.cos(f),E=l[4],k=l[5],$=l[6],N=l[7],U=l[8],G=l[9],K=l[10],J=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=E*_+U*m,u[5]=k*_+G*m,u[6]=$*_+K*m,u[7]=N*_+J*m,u[8]=U*_-E*m,u[9]=G*_-k*m,u[10]=K*_-$*m,u[11]=J*_-N*m,u},a.rotateZ=function(u,l,f){var m=Math.sin(f),_=Math.cos(f),E=l[0],k=l[1],$=l[2],N=l[3],U=l[4],G=l[5],K=l[6],J=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=E*_+U*m,u[1]=k*_+G*m,u[2]=$*_+K*m,u[3]=N*_+J*m,u[4]=U*_-E*m,u[5]=G*_-k*m,u[6]=K*_-$*m,u[7]=J*_-N*m,u},a.sameOrigin=at,a.scale=function(u,l,f){var m=f[0],_=f[1],E=f[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*_,u[5]=l[5]*_,u[6]=l[6]*_,u[7]=l[7]*_,u[8]=l[8]*E,u[9]=l[9]*E,u[10]=l[10]*E,u[11]=l[11]*E,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.setRTLTextPlugin=function(u,l,f=!1){if(go===ld||go===Zg||go===Xg)throw new Error("setRTLTextPlugin cannot be called multiple times.");js=ye.resolveURL(u),go=ld,Jg=l,Qg(),f||wx()},a.sphericalToCartesian=function([u,l,f]){return l+=90,l*=Math.PI/180,f*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(f),y:u*Math.sin(l)*Math.sin(f),z:u*Math.cos(f)}},a.toEvaluationFeature=Ws,a.transformMat4=Ox,a.translate=function(u,l,f){var m,_,E,k,$,N,U,G,K,J,te,re,fe=f[0],xe=f[1],Ce=f[2];return l===u?(u[12]=l[0]*fe+l[4]*xe+l[8]*Ce+l[12],u[13]=l[1]*fe+l[5]*xe+l[9]*Ce+l[13],u[14]=l[2]*fe+l[6]*xe+l[10]*Ce+l[14],u[15]=l[3]*fe+l[7]*xe+l[11]*Ce+l[15]):(_=l[1],E=l[2],k=l[3],$=l[4],N=l[5],U=l[6],G=l[7],K=l[8],J=l[9],te=l[10],re=l[11],u[0]=m=l[0],u[1]=_,u[2]=E,u[3]=k,u[4]=$,u[5]=N,u[6]=U,u[7]=G,u[8]=K,u[9]=J,u[10]=te,u[11]=re,u[12]=m*fe+$*xe+K*Ce+l[12],u[13]=_*fe+N*xe+J*Ce+l[13],u[14]=E*fe+U*xe+te*Ce+l[14],u[15]=k*fe+G*xe+re*Ce+l[15]),u},a.triggerPluginCompletionEvent=bx,a.unicodeBlockLookup=Tt,a.uniqueId=function(){return R++},a.v8Spec=Re,a.validateCustomStyleLayer=function(u){const l=[],f=u.id;return f===void 0&&l.push({message:`layers.${f}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${f}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=sd,a.validateStyle=ad,a.vectorTile=Au,a.warnOnce=ie,a.wrap=I}),o(["./shared"],function(a){class d{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,Q){for(const _e of X){this._layerConfigs[_e.id]=_e;const Te=this._layers[_e.id]=a.createStyleLayer(_e);Te._featureFilter=a.createFilter(Te.filter),this.keyCache[_e.id]&&delete this.keyCache[_e.id]}for(const _e of Q)delete this.keyCache[_e],delete this._layerConfigs[_e],delete this._layers[_e];this.familiesBySource={};const se=a.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const _e of se){const Te=_e.map(et=>this._layers[et.id]),Le=Te[0];if(Le.visibility==="none")continue;const Ae=Le.source||"";let ke=this.familiesBySource[Ae];ke||(ke=this.familiesBySource[Ae]={});const je=Le.sourceLayer||"_geojsonTileLayer";let Qe=ke[je];Qe||(Qe=ke[je]=[]),Qe.push(Te)}}}class h{constructor(X){const Q={},se=[];for(const Ae in X){const ke=X[Ae],je=Q[Ae]={};for(const Qe in ke){const et=ke[+Qe];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const it={x:0,y:0,w:et.bitmap.width+2,h:et.bitmap.height+2};se.push(it),je[Qe]={rect:it,metrics:et.metrics}}}const{w:_e,h:Te}=a.potpack(se),Le=new a.AlphaImage({width:_e||1,height:Te||1});for(const Ae in X){const ke=X[Ae];for(const je in ke){const Qe=ke[+je];if(!Qe||Qe.bitmap.width===0||Qe.bitmap.height===0)continue;const et=Q[Ae][je].rect;a.AlphaImage.copy(Qe.bitmap,Le,{x:0,y:0},{x:et.x+1,y:et.y+1},Qe.bitmap)}}this.image=Le,this.positions=Q}}a.register("GlyphAtlas",h);class g{constructor(X){this.tileID=new a.OverscaledTileID(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.uid=X.uid,this.zoom=X.zoom,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.collectResourceTiming,this.returnDependencies=!!X.returnDependencies,this.promoteId=X.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(X,Q,se,_e,Te){this.status="parsing",this.data=X,this.collisionBoxArray=new a.CollisionBoxArray;const Le=new a.DictionaryCoder(Object.keys(X.layers).sort()),Ae=new a.FeatureIndex(this.tileID,this.promoteId);Ae.bucketLayerIDs=[];const ke={},je={featureIndex:Ae,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},Qe=Q.familiesBySource[this.source];for(const gr in Qe){const Ar=X.layers[gr];if(!Ar)continue;Ar.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${gr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Fi=Le.encode(gr),mt=[];for(let $r=0;$r<Ar.length;$r++){const Ri=Ar.feature($r),Zn=Ae.getId(Ri,gr);mt.push({feature:Ri,id:Zn,index:$r,sourceLayerIndex:Fi})}for(const $r of Qe[gr]){const Ri=$r[0];Ri.source!==this.source&&a.warnOnce(`layer.source = ${Ri.source} does not equal this.source = ${this.source}`),Ri.minzoom&&this.zoom<Math.floor(Ri.minzoom)||Ri.maxzoom&&this.zoom>=Ri.maxzoom||Ri.visibility!=="none"&&(v($r,this.zoom,se),(ke[Ri.id]=Ri.createBucket({index:Ae.bucketLayerIDs.length,layers:$r,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Fi,sourceID:this.source})).populate(mt,je,this.tileID.canonical),Ae.bucketLayerIDs.push($r.map(Zn=>Zn.id)))}}let et,it,Vt,nr;const Dt=a.mapObject(je.glyphDependencies,gr=>Object.keys(gr).map(Number));this.inFlightDependencies.forEach(gr=>gr==null?void 0:gr.cancel()),this.inFlightDependencies=[];const Wt=++this.dependencySentinel;Object.keys(Dt).length?this.inFlightDependencies.push(_e.send("getGlyphs",{uid:this.uid,stacks:Dt,source:this.source,tileID:this.tileID,type:"glyphs"},(gr,Ar)=>{Wt===this.dependencySentinel&&(et||(et=gr,it=Ar,Br.call(this)))})):it={};const rr=Object.keys(je.iconDependencies);rr.length?this.inFlightDependencies.push(_e.send("getImages",{icons:rr,source:this.source,tileID:this.tileID,type:"icons"},(gr,Ar)=>{Wt===this.dependencySentinel&&(et||(et=gr,Vt=Ar,Br.call(this)))})):Vt={};const Pr=Object.keys(je.patternDependencies);function Br(){if(et)return Te(et);if(it&&Vt&&nr){const gr=new h(it),Ar=new a.ImageAtlas(Vt,nr);for(const Fi in ke){const mt=ke[Fi];mt instanceof a.SymbolBucket?(v(mt.layers,this.zoom,se),a.performSymbolLayout({bucket:mt,glyphMap:it,glyphPositions:gr.positions,imageMap:Vt,imagePositions:Ar.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):mt.hasPattern&&(mt instanceof a.LineBucket||mt instanceof a.FillBucket||mt instanceof a.FillExtrusionBucket)&&(v(mt.layers,this.zoom,se),mt.addFeatures(je,this.tileID.canonical,Ar.patternPositions))}this.status="done",Te(null,{buckets:Object.values(ke).filter(Fi=>!Fi.isEmpty()),featureIndex:Ae,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Ar,glyphMap:this.returnDependencies?it:null,iconMap:this.returnDependencies?Vt:null,glyphPositions:this.returnDependencies?gr.positions:null})}}Pr.length?this.inFlightDependencies.push(_e.send("getImages",{icons:Pr,source:this.source,tileID:this.tileID,type:"patterns"},(gr,Ar)=>{Wt===this.dependencySentinel&&(et||(et=gr,nr=Ar,Br.call(this)))})):nr={},Br.call(this)}}function v(me,X,Q){const se=new a.EvaluationParameters(X);for(const _e of me)_e.recalculate(se,Q)}function b(me,X){const Q=a.getArrayBuffer(me.request,(se,_e,Te,Le)=>{se?X(se):_e&&X(null,{vectorTile:new a.vectorTile.VectorTile(new a.Protobuf(_e)),rawData:_e,cacheControl:Te,expires:Le})});return()=>{Q.cancel(),X()}}class M{constructor(X,Q,se,_e){this.actor=X,this.layerIndex=Q,this.availableImages=se,this.loadVectorData=_e||b,this.fetching={},this.loading={},this.loaded={}}loadTile(X,Q){const se=X.uid;this.loading||(this.loading={});const _e=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request),Te=this.loading[se]=new g(X);Te.abort=this.loadVectorData(X,(Le,Ae)=>{if(delete this.loading[se],Le||!Ae)return Te.status="done",this.loaded[se]=Te,Q(Le);const ke=Ae.rawData,je={};Ae.expires&&(je.expires=Ae.expires),Ae.cacheControl&&(je.cacheControl=Ae.cacheControl);const Qe={};if(_e){const et=_e.finish();et&&(Qe.resourceTiming=JSON.parse(JSON.stringify(et)))}Te.vectorTile=Ae.vectorTile,Te.parse(Ae.vectorTile,this.layerIndex,this.availableImages,this.actor,(et,it)=>{if(delete this.fetching[se],et||!it)return Q(et);Q(null,a.extend({rawTileData:ke.slice(0)},it,je,Qe))}),this.loaded=this.loaded||{},this.loaded[se]=Te,this.fetching[se]={rawTileData:ke,cacheControl:je,resourceTiming:Qe}})}reloadTile(X,Q){const se=this.loaded,_e=X.uid;if(se&&se[_e]){const Te=se[_e];Te.showCollisionBoxes=X.showCollisionBoxes,Te.status==="parsing"?Te.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,(Le,Ae)=>{if(Le||!Ae)return Q(Le,Ae);let ke;if(this.fetching[_e]){const{rawTileData:je,cacheControl:Qe,resourceTiming:et}=this.fetching[_e];delete this.fetching[_e],ke=a.extend({rawTileData:je.slice(0)},Ae,Qe,et)}else ke=Ae;Q(null,ke)}):Te.status==="done"&&(Te.vectorTile?Te.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,Q):Q())}}abortTile(X,Q){const se=this.loading,_e=X.uid;se&&se[_e]&&se[_e].abort&&(se[_e].abort(),delete se[_e]),Q()}removeTile(X,Q){const se=this.loaded,_e=X.uid;se&&se[_e]&&delete se[_e],Q()}}class A{constructor(){this.loaded={}}loadTile(X,Q){const{uid:se,encoding:_e,rawImageData:Te}=X,Le=a.isImageBitmap(Te)?this.getImageData(Te):Te,Ae=new a.DEMData(se,Le,_e);this.loaded=this.loaded||{},this.loaded[se]=Ae,Q(null,Ae)}getImageData(X){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(X.width,X.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=X.width,this.offscreenCanvas.height=X.height,this.offscreenCanvasContext.drawImage(X,0,0,X.width,X.height);const Q=this.offscreenCanvasContext.getImageData(-1,-1,X.width+2,X.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Q.width,height:Q.height},Q.data)}removeTile(X){const Q=this.loaded,se=X.uid;Q&&Q[se]&&delete Q[se]}}function w(me,X){if(me.length!==0){P(me[0],X);for(var Q=1;Q<me.length;Q++)P(me[Q],!X)}}function P(me,X){for(var Q=0,se=0,_e=0,Te=me.length,Le=Te-1;_e<Te;Le=_e++){var Ae=(me[_e][0]-me[Le][0])*(me[Le][1]+me[_e][1]),ke=Q+Ae;se+=Math.abs(Q)>=Math.abs(Ae)?Q-ke+Ae:Ae-ke+Q,Q=ke}Q+se>=0!=!!X&&me.reverse()}var O=a.getDefaultExportFromCjs(function me(X,Q){var se,_e=X&&X.type;if(_e==="FeatureCollection")for(se=0;se<X.features.length;se++)me(X.features[se],Q);else if(_e==="GeometryCollection")for(se=0;se<X.geometries.length;se++)me(X.geometries[se],Q);else if(_e==="Feature")me(X.geometry,Q);else if(_e==="Polygon")w(X.coordinates,Q);else if(_e==="MultiPolygon")for(se=0;se<X.coordinates.length;se++)w(X.coordinates[se],Q);return X});const I=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;var T={exports:{}},R=a.pointGeometry,z=a.vectorTile.VectorTileFeature,j=V;function V(me,X){this.options=X||{},this.features=me,this.length=me.length}function Z(me,X){this.id=typeof me.id=="number"?me.id:void 0,this.type=me.type,this.rawGeometry=me.type===1?[me.geometry]:me.geometry,this.properties=me.tags,this.extent=X||4096}V.prototype.feature=function(me){return new Z(this.features[me],this.options.extent)},Z.prototype.loadGeometry=function(){var me=this.rawGeometry;this.geometry=[];for(var X=0;X<me.length;X++){for(var Q=me[X],se=[],_e=0;_e<Q.length;_e++)se.push(new R(Q[_e][0],Q[_e][1]));this.geometry.push(se)}return this.geometry},Z.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var me=this.geometry,X=1/0,Q=-1/0,se=1/0,_e=-1/0,Te=0;Te<me.length;Te++)for(var Le=me[Te],Ae=0;Ae<Le.length;Ae++){var ke=Le[Ae];X=Math.min(X,ke.x),Q=Math.max(Q,ke.x),se=Math.min(se,ke.y),_e=Math.max(_e,ke.y)}return[X,se,Q,_e]},Z.prototype.toGeoJSON=z.prototype.toGeoJSON;var ie=a.pbf,ne=j;function ae(me){var X=new ie;return function(Q,se){for(var _e in Q.layers)se.writeMessage(3,de,Q.layers[_e])}(me,X),X.finish()}function de(me,X){var Q;X.writeVarintField(15,me.version||1),X.writeStringField(1,me.name||""),X.writeVarintField(5,me.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(Q=0;Q<me.length;Q++)se.feature=me.feature(Q),X.writeMessage(2,pe,se);var _e=se.keys;for(Q=0;Q<_e.length;Q++)X.writeStringField(3,_e[Q]);var Te=se.values;for(Q=0;Q<Te.length;Q++)X.writeMessage(4,Se,Te[Q])}function pe(me,X){var Q=me.feature;Q.id!==void 0&&X.writeVarintField(1,Q.id),X.writeMessage(2,Pe,me),X.writeVarintField(3,Q.type),X.writeMessage(4,ve,Q)}function Pe(me,X){var Q=me.feature,se=me.keys,_e=me.values,Te=me.keycache,Le=me.valuecache;for(var Ae in Q.properties){var ke=Q.properties[Ae],je=Te[Ae];if(ke!==null){je===void 0&&(se.push(Ae),Te[Ae]=je=se.length-1),X.writeVarint(je);var Qe=typeof ke;Qe!=="string"&&Qe!=="boolean"&&Qe!=="number"&&(ke=JSON.stringify(ke));var et=Qe+":"+ke,it=Le[et];it===void 0&&(_e.push(ke),Le[et]=it=_e.length-1),X.writeVarint(it)}}}function be(me,X){return(X<<3)+(7&me)}function he(me){return me<<1^me>>31}function ve(me,X){for(var Q=me.loadGeometry(),se=me.type,_e=0,Te=0,Le=Q.length,Ae=0;Ae<Le;Ae++){var ke=Q[Ae],je=1;se===1&&(je=ke.length),X.writeVarint(be(1,je));for(var Qe=se===3?ke.length-1:ke.length,et=0;et<Qe;et++){et===1&&se!==1&&X.writeVarint(be(2,Qe-1));var it=ke[et].x-_e,Vt=ke[et].y-Te;X.writeVarint(he(it)),X.writeVarint(he(Vt)),_e+=it,Te+=Vt}se===3&&X.writeVarint(be(7,1))}}function Se(me,X){var Q=typeof me;Q==="string"?X.writeStringField(1,me):Q==="boolean"?X.writeBooleanField(7,me):Q==="number"&&(me%1!=0?X.writeDoubleField(3,me):me<0?X.writeSVarintField(6,me):X.writeVarintField(5,me))}T.exports=ae,T.exports.fromVectorTileJs=ae,T.exports.fromGeojsonVt=function(me,X){X=X||{};var Q={};for(var se in me)Q[se]=new ne(me[se].features,X),Q[se].name=se,Q[se].version=X.version,Q[se].extent=X.extent;return ae({layers:Q})},T.exports.GeoJSONWrapper=ne;var ye=a.getDefaultExportFromCjs(T.exports);const Ie={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:me=>me},Xe=Math.fround||(Ee=new Float32Array(1),me=>(Ee[0]=+me,Ee[0]));var Ee;const De=3,Oe=5,Ge=6;class Be{constructor(X){this.options=Object.assign(Object.create(Ie),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:Q,minZoom:se,maxZoom:_e}=this.options;Q&&console.time("total time");const Te=`prepare ${X.length} points`;Q&&console.time(Te),this.points=X;const Le=[];for(let ke=0;ke<X.length;ke++){const je=X[ke];if(!je.geometry)continue;const[Qe,et]=je.geometry.coordinates,it=Xe(Ve(Qe)),Vt=Xe(Je(et));Le.push(it,Vt,1/0,ke,-1,1),this.options.reduce&&Le.push(0)}let Ae=this.trees[_e+1]=this._createTree(Le);Q&&console.timeEnd(Te);for(let ke=_e;ke>=se;ke--){const je=+Date.now();Ae=this.trees[ke]=this._createTree(this._cluster(Ae,ke)),Q&&console.log("z%d: %d clusters in %dms",ke,Ae.numItems,+Date.now()-je)}return Q&&console.timeEnd("total time"),this}getClusters(X,Q){let se=((X[0]+180)%360+360)%360-180;const _e=Math.max(-90,Math.min(90,X[1]));let Te=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Le=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)se=-180,Te=180;else if(se>Te){const et=this.getClusters([se,_e,180,Le],Q),it=this.getClusters([-180,_e,Te,Le],Q);return et.concat(it)}const Ae=this.trees[this._limitZoom(Q)],ke=Ae.range(Ve(se),Je(Le),Ve(Te),Je(_e)),je=Ae.data,Qe=[];for(const et of ke){const it=this.stride*et;Qe.push(je[it+Oe]>1?at(je,it,this.clusterProps):this.points[je[it+De]])}return Qe}getChildren(X){const Q=this._getOriginId(X),se=this._getOriginZoom(X),_e="No cluster with the specified id.",Te=this.trees[se];if(!Te)throw new Error(_e);const Le=Te.data;if(Q*this.stride>=Le.length)throw new Error(_e);const Ae=this.options.radius/(this.options.extent*Math.pow(2,se-1)),ke=Te.within(Le[Q*this.stride],Le[Q*this.stride+1],Ae),je=[];for(const Qe of ke){const et=Qe*this.stride;Le[et+4]===X&&je.push(Le[et+Oe]>1?at(Le,et,this.clusterProps):this.points[Le[et+De]])}if(je.length===0)throw new Error(_e);return je}getLeaves(X,Q,se){const _e=[];return this._appendLeaves(_e,X,Q=Q||10,se=se||0,0),_e}getTile(X,Q,se){const _e=this.trees[this._limitZoom(X)],Te=Math.pow(2,X),{extent:Le,radius:Ae}=this.options,ke=Ae/Le,je=(se-ke)/Te,Qe=(se+1+ke)/Te,et={features:[]};return this._addTileFeatures(_e.range((Q-ke)/Te,je,(Q+1+ke)/Te,Qe),_e.data,Q,se,Te,et),Q===0&&this._addTileFeatures(_e.range(1-ke/Te,je,1,Qe),_e.data,Te,se,Te,et),Q===Te-1&&this._addTileFeatures(_e.range(0,je,ke/Te,Qe),_e.data,-1,se,Te,et),et.features.length?et:null}getClusterExpansionZoom(X){let Q=this._getOriginZoom(X)-1;for(;Q<=this.options.maxZoom;){const se=this.getChildren(X);if(Q++,se.length!==1)break;X=se[0].properties.cluster_id}return Q}_appendLeaves(X,Q,se,_e,Te){const Le=this.getChildren(Q);for(const Ae of Le){const ke=Ae.properties;if(ke&&ke.cluster?Te+ke.point_count<=_e?Te+=ke.point_count:Te=this._appendLeaves(X,ke.cluster_id,se,_e,Te):Te<_e?Te++:X.push(Ae),X.length===se)break}return Te}_createTree(X){const Q=new a.KDBush(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<X.length;se+=this.stride)Q.add(X[se],X[se+1]);return Q.finish(),Q.data=X,Q}_addTileFeatures(X,Q,se,_e,Te,Le){for(const Ae of X){const ke=Ae*this.stride,je=Q[ke+Oe]>1;let Qe,et,it;if(je)Qe=nt(Q,ke,this.clusterProps),et=Q[ke],it=Q[ke+1];else{const Dt=this.points[Q[ke+De]];Qe=Dt.properties;const[Wt,rr]=Dt.geometry.coordinates;et=Ve(Wt),it=Je(rr)}const Vt={type:1,geometry:[[Math.round(this.options.extent*(et*Te-se)),Math.round(this.options.extent*(it*Te-_e))]],tags:Qe};let nr;nr=je||this.options.generateId?Q[ke+De]:this.points[Q[ke+De]].id,nr!==void 0&&(Vt.id=nr),Le.features.push(Vt)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,Q){const{radius:se,extent:_e,reduce:Te,minPoints:Le}=this.options,Ae=se/(_e*Math.pow(2,Q)),ke=X.data,je=[],Qe=this.stride;for(let et=0;et<ke.length;et+=Qe){if(ke[et+2]<=Q)continue;ke[et+2]=Q;const it=ke[et],Vt=ke[et+1],nr=X.within(ke[et],ke[et+1],Ae),Dt=ke[et+Oe];let Wt=Dt;for(const rr of nr){const Pr=rr*Qe;ke[Pr+2]>Q&&(Wt+=ke[Pr+Oe])}if(Wt>Dt&&Wt>=Le){let rr,Pr=it*Dt,Br=Vt*Dt,gr=-1;const Ar=((et/Qe|0)<<5)+(Q+1)+this.points.length;for(const Fi of nr){const mt=Fi*Qe;if(ke[mt+2]<=Q)continue;ke[mt+2]=Q;const $r=ke[mt+Oe];Pr+=ke[mt]*$r,Br+=ke[mt+1]*$r,ke[mt+4]=Ar,Te&&(rr||(rr=this._map(ke,et,!0),gr=this.clusterProps.length,this.clusterProps.push(rr)),Te(rr,this._map(ke,mt)))}ke[et+4]=Ar,je.push(Pr/Wt,Br/Wt,1/0,Ar,-1,Wt),Te&&je.push(gr)}else{for(let rr=0;rr<Qe;rr++)je.push(ke[et+rr]);if(Wt>1)for(const rr of nr){const Pr=rr*Qe;if(!(ke[Pr+2]<=Q)){ke[Pr+2]=Q;for(let Br=0;Br<Qe;Br++)je.push(ke[Pr+Br])}}}}return je}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,Q,se){if(X[Q+Oe]>1){const Le=this.clusterProps[X[Q+Ge]];return se?Object.assign({},Le):Le}const _e=this.points[X[Q+De]].properties,Te=this.options.map(_e);return se&&Te===_e?Object.assign({},Te):Te}}function at(me,X,Q){return{type:"Feature",id:me[X+De],properties:nt(me,X,Q),geometry:{type:"Point",coordinates:[(se=me[X],360*(se-.5)),ct(me[X+1])]}};var se}function nt(me,X,Q){const se=me[X+Oe],_e=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,Te=me[X+Ge],Le=Te===-1?{}:Object.assign({},Q[Te]);return Object.assign(Le,{cluster:!0,cluster_id:me[X+De],point_count:se,point_count_abbreviated:_e})}function Ve(me){return me/360+.5}function Je(me){const X=Math.sin(me*Math.PI/180),Q=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return Q<0?0:Q>1?1:Q}function ct(me){const X=(180-360*me)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function Fe(me,X,Q,se){for(var _e,Te=se,Le=Q-X>>1,Ae=Q-X,ke=me[X],je=me[X+1],Qe=me[Q],et=me[Q+1],it=X+3;it<Q;it+=3){var Vt=Re(me[it],me[it+1],ke,je,Qe,et);if(Vt>Te)_e=it,Te=Vt;else if(Vt===Te){var nr=Math.abs(it-Le);nr<Ae&&(_e=it,Ae=nr)}}Te>se&&(_e-X>3&&Fe(me,X,_e,se),me[_e+2]=Te,Q-_e>3&&Fe(me,_e,Q,se))}function Re(me,X,Q,se,_e,Te){var Le=_e-Q,Ae=Te-se;if(Le!==0||Ae!==0){var ke=((me-Q)*Le+(X-se)*Ae)/(Le*Le+Ae*Ae);ke>1?(Q=_e,se=Te):ke>0&&(Q+=Le*ke,se+=Ae*ke)}return(Le=me-Q)*Le+(Ae=X-se)*Ae}function St(me,X,Q,se){var _e={id:me===void 0?null:me,type:X,geometry:Q,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Te){var Le=Te.geometry,Ae=Te.type;if(Ae==="Point"||Ae==="MultiPoint"||Ae==="LineString")Zt(Te,Le);else if(Ae==="Polygon"||Ae==="MultiLineString")for(var ke=0;ke<Le.length;ke++)Zt(Te,Le[ke]);else if(Ae==="MultiPolygon")for(ke=0;ke<Le.length;ke++)for(var je=0;je<Le[ke].length;je++)Zt(Te,Le[ke][je])}(_e),_e}function Zt(me,X){for(var Q=0;Q<X.length;Q+=3)me.minX=Math.min(me.minX,X[Q]),me.minY=Math.min(me.minY,X[Q+1]),me.maxX=Math.max(me.maxX,X[Q]),me.maxY=Math.max(me.maxY,X[Q+1])}function Ot(me,X,Q,se){if(X.geometry){var _e=X.geometry.coordinates,Te=X.geometry.type,Le=Math.pow(Q.tolerance/((1<<Q.maxZoom)*Q.extent),2),Ae=[],ke=X.id;if(Q.promoteId?ke=X.properties[Q.promoteId]:Q.generateId&&(ke=se||0),Te==="Point")zt(_e,Ae);else if(Te==="MultiPoint")for(var je=0;je<_e.length;je++)zt(_e[je],Ae);else if(Te==="LineString")Mr(_e,Ae,Le,!1);else if(Te==="MultiLineString"){if(Q.lineMetrics){for(je=0;je<_e.length;je++)Mr(_e[je],Ae=[],Le,!1),me.push(St(ke,"LineString",Ae,X.properties));return}Vr(_e,Ae,Le,!1)}else if(Te==="Polygon")Vr(_e,Ae,Le,!0);else{if(Te!=="MultiPolygon"){if(Te==="GeometryCollection"){for(je=0;je<X.geometry.geometries.length;je++)Ot(me,{id:ke,geometry:X.geometry.geometries[je],properties:X.properties},Q,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(je=0;je<_e.length;je++){var Qe=[];Vr(_e[je],Qe,Le,!0),Ae.push(Qe)}}me.push(St(ke,Te,Ae,X.properties))}}function zt(me,X){X.push(pr(me[0])),X.push(Sr(me[1])),X.push(0)}function Mr(me,X,Q,se){for(var _e,Te,Le=0,Ae=0;Ae<me.length;Ae++){var ke=pr(me[Ae][0]),je=Sr(me[Ae][1]);X.push(ke),X.push(je),X.push(0),Ae>0&&(Le+=se?(_e*je-ke*Te)/2:Math.sqrt(Math.pow(ke-_e,2)+Math.pow(je-Te,2))),_e=ke,Te=je}var Qe=X.length-3;X[2]=1,Fe(X,0,Qe,Q),X[Qe+2]=1,X.size=Math.abs(Le),X.start=0,X.end=X.size}function Vr(me,X,Q,se){for(var _e=0;_e<me.length;_e++){var Te=[];Mr(me[_e],Te,Q,se),X.push(Te)}}function pr(me){return me/360+.5}function Sr(me){var X=Math.sin(me*Math.PI/180),Q=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return Q<0?0:Q>1?1:Q}function cr(me,X,Q,se,_e,Te,Le,Ae){if(se/=X,Te>=(Q/=X)&&Le<se)return me;if(Le<Q||Te>=se)return null;for(var ke=[],je=0;je<me.length;je++){var Qe=me[je],et=Qe.geometry,it=Qe.type,Vt=_e===0?Qe.minX:Qe.minY,nr=_e===0?Qe.maxX:Qe.maxY;if(Vt>=Q&&nr<se)ke.push(Qe);else if(!(nr<Q||Vt>=se)){var Dt=[];if(it==="Point"||it==="MultiPoint")Er(et,Dt,Q,se,_e);else if(it==="LineString")an(et,Dt,Q,se,_e,!1,Ae.lineMetrics);else if(it==="MultiLineString")Or(et,Dt,Q,se,_e,!1);else if(it==="Polygon")Or(et,Dt,Q,se,_e,!0);else if(it==="MultiPolygon")for(var Wt=0;Wt<et.length;Wt++){var rr=[];Or(et[Wt],rr,Q,se,_e,!0),rr.length&&Dt.push(rr)}if(Dt.length){if(Ae.lineMetrics&&it==="LineString"){for(Wt=0;Wt<Dt.length;Wt++)ke.push(St(Qe.id,it,Dt[Wt],Qe.tags));continue}it!=="LineString"&&it!=="MultiLineString"||(Dt.length===1?(it="LineString",Dt=Dt[0]):it="MultiLineString"),it!=="Point"&&it!=="MultiPoint"||(it=Dt.length===3?"Point":"MultiPoint"),ke.push(St(Qe.id,it,Dt,Qe.tags))}}}return ke.length?ke:null}function Er(me,X,Q,se,_e){for(var Te=0;Te<me.length;Te+=3){var Le=me[Te+_e];Le>=Q&&Le<=se&&(X.push(me[Te]),X.push(me[Te+1]),X.push(me[Te+2]))}}function an(me,X,Q,se,_e,Te,Le){for(var Ae,ke,je=ut(me),Qe=_e===0?mr:Jt,et=me.start,it=0;it<me.length-3;it+=3){var Vt=me[it],nr=me[it+1],Dt=me[it+2],Wt=me[it+3],rr=me[it+4],Pr=_e===0?Vt:nr,Br=_e===0?Wt:rr,gr=!1;Le&&(Ae=Math.sqrt(Math.pow(Vt-Wt,2)+Math.pow(nr-rr,2))),Pr<Q?Br>Q&&(ke=Qe(je,Vt,nr,Wt,rr,Q),Le&&(je.start=et+Ae*ke)):Pr>se?Br<se&&(ke=Qe(je,Vt,nr,Wt,rr,se),Le&&(je.start=et+Ae*ke)):Xr(je,Vt,nr,Dt),Br<Q&&Pr>=Q&&(ke=Qe(je,Vt,nr,Wt,rr,Q),gr=!0),Br>se&&Pr<=se&&(ke=Qe(je,Vt,nr,Wt,rr,se),gr=!0),!Te&&gr&&(Le&&(je.end=et+Ae*ke),X.push(je),je=ut(me)),Le&&(et+=Ae)}var Ar=me.length-3;Vt=me[Ar],nr=me[Ar+1],Dt=me[Ar+2],(Pr=_e===0?Vt:nr)>=Q&&Pr<=se&&Xr(je,Vt,nr,Dt),Ar=je.length-3,Te&&Ar>=3&&(je[Ar]!==je[0]||je[Ar+1]!==je[1])&&Xr(je,je[0],je[1],je[2]),je.length&&X.push(je)}function ut(me){var X=[];return X.size=me.size,X.start=me.start,X.end=me.end,X}function Or(me,X,Q,se,_e,Te){for(var Le=0;Le<me.length;Le++)an(me[Le],X,Q,se,_e,Te,!1)}function Xr(me,X,Q,se){me.push(X),me.push(Q),me.push(se)}function mr(me,X,Q,se,_e,Te){var Le=(Te-X)/(se-X);return me.push(Te),me.push(Q+(_e-Q)*Le),me.push(1),Le}function Jt(me,X,Q,se,_e,Te){var Le=(Te-Q)/(_e-Q);return me.push(X+(se-X)*Le),me.push(Te),me.push(1),Le}function Ke(me,X){for(var Q=[],se=0;se<me.length;se++){var _e,Te=me[se],Le=Te.type;if(Le==="Point"||Le==="MultiPoint"||Le==="LineString")_e=At(Te.geometry,X);else if(Le==="MultiLineString"||Le==="Polygon"){_e=[];for(var Ae=0;Ae<Te.geometry.length;Ae++)_e.push(At(Te.geometry[Ae],X))}else if(Le==="MultiPolygon")for(_e=[],Ae=0;Ae<Te.geometry.length;Ae++){for(var ke=[],je=0;je<Te.geometry[Ae].length;je++)ke.push(At(Te.geometry[Ae][je],X));_e.push(ke)}Q.push(St(Te.id,Le,_e,Te.tags))}return Q}function At(me,X){var Q=[];Q.size=me.size,me.start!==void 0&&(Q.start=me.start,Q.end=me.end);for(var se=0;se<me.length;se+=3)Q.push(me[se]+X,me[se+1],me[se+2]);return Q}function Rt(me,X){if(me.transformed)return me;var Q,se,_e,Te=1<<me.z,Le=me.x,Ae=me.y;for(Q=0;Q<me.features.length;Q++){var ke=me.features[Q],je=ke.geometry,Qe=ke.type;if(ke.geometry=[],Qe===1)for(se=0;se<je.length;se+=2)ke.geometry.push(Jr(je[se],je[se+1],X,Te,Le,Ae));else for(se=0;se<je.length;se++){var et=[];for(_e=0;_e<je[se].length;_e+=2)et.push(Jr(je[se][_e],je[se][_e+1],X,Te,Le,Ae));ke.geometry.push(et)}}return me.transformed=!0,me}function Jr(me,X,Q,se,_e,Te){return[Math.round(Q*(me*se-_e)),Math.round(Q*(X*se-Te))]}function to(me,X,Q,se,_e){for(var Te=X===_e.maxZoom?0:_e.tolerance/((1<<X)*_e.extent),Le={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Q,y:se,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ae=0;Ae<me.length;Ae++){Le.numFeatures++,Xt(Le,me[Ae],Te,_e);var ke=me[Ae].minX,je=me[Ae].minY,Qe=me[Ae].maxX,et=me[Ae].maxY;ke<Le.minX&&(Le.minX=ke),je<Le.minY&&(Le.minY=je),Qe>Le.maxX&&(Le.maxX=Qe),et>Le.maxY&&(Le.maxY=et)}return Le}function Xt(me,X,Q,se){var _e=X.geometry,Te=X.type,Le=[];if(Te==="Point"||Te==="MultiPoint")for(var Ae=0;Ae<_e.length;Ae+=3)Le.push(_e[Ae]),Le.push(_e[Ae+1]),me.numPoints++,me.numSimplified++;else if(Te==="LineString")po(Le,_e,me,Q,!1,!1);else if(Te==="MultiLineString"||Te==="Polygon")for(Ae=0;Ae<_e.length;Ae++)po(Le,_e[Ae],me,Q,Te==="Polygon",Ae===0);else if(Te==="MultiPolygon")for(var ke=0;ke<_e.length;ke++){var je=_e[ke];for(Ae=0;Ae<je.length;Ae++)po(Le,je[Ae],me,Q,!0,Ae===0)}if(Le.length){var Qe=X.tags||null;if(Te==="LineString"&&se.lineMetrics){for(var et in Qe={},X.tags)Qe[et]=X.tags[et];Qe.mapbox_clip_start=_e.start/_e.size,Qe.mapbox_clip_end=_e.end/_e.size}var it={geometry:Le,type:Te==="Polygon"||Te==="MultiPolygon"?3:Te==="LineString"||Te==="MultiLineString"?2:1,tags:Qe};X.id!==null&&(it.id=X.id),me.features.push(it)}}function po(me,X,Q,se,_e,Te){var Le=se*se;if(se>0&&X.size<(_e?Le:se))Q.numPoints+=X.length/3;else{for(var Ae=[],ke=0;ke<X.length;ke+=3)(se===0||X[ke+2]>Le)&&(Q.numSimplified++,Ae.push(X[ke]),Ae.push(X[ke+1])),Q.numPoints++;_e&&function(je,Qe){for(var et=0,it=0,Vt=je.length,nr=Vt-2;it<Vt;nr=it,it+=2)et+=(je[it]-je[nr])*(je[it+1]+je[nr+1]);if(et>0===Qe)for(it=0,Vt=je.length;it<Vt/2;it+=2){var Dt=je[it],Wt=je[it+1];je[it]=je[Vt-2-it],je[it+1]=je[Vt-1-it],je[Vt-2-it]=Dt,je[Vt-1-it]=Wt}}(Ae,Te),me.push(Ae)}}function jo(me,X){var Q=(X=this.options=function(_e,Te){for(var Le in Te)_e[Le]=Te[Le];return _e}(Object.create(this.options),X)).debug;if(Q&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(_e,Te){var Le=[];if(_e.type==="FeatureCollection")for(var Ae=0;Ae<_e.features.length;Ae++)Ot(Le,_e.features[Ae],Te,Ae);else Ot(Le,_e.type==="Feature"?_e:{geometry:_e},Te);return Le}(me,X);this.tiles={},this.tileCoords=[],Q&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(_e,Te){var Le=Te.buffer/Te.extent,Ae=_e,ke=cr(_e,1,-1-Le,Le,0,-1,2,Te),je=cr(_e,1,1-Le,2+Le,0,-1,2,Te);return(ke||je)&&(Ae=cr(_e,1,-Le,1+Le,0,-1,2,Te)||[],ke&&(Ae=Ke(ke,1).concat(Ae)),je&&(Ae=Ae.concat(Ke(je,-1)))),Ae}(se,X),se.length&&this.splitTile(se,0,0,0),Q&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ka(me,X,Q){return 32*((1<<me)*Q+X)+me}function mo(me,X){return X?me.properties[X]:me.id}function rs(me,X){if(me==null)return!0;if(me.type==="Feature")return mo(me,X)!=null;if(me.type==="FeatureCollection"){const Q=new Set;for(const se of me.features){const _e=mo(se,X);if(_e==null||Q.has(_e))return!1;Q.add(_e)}return!0}return!1}function gi(me,X){const Q=new Map;if(me!=null)if(me.type==="Feature")Q.set(mo(me,X),me);else for(const se of me.features)Q.set(mo(se,X),se);return Q}function Wr(me,X){const Q=me.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const se=this._geoJSONIndex.getTile(Q.z,Q.x,Q.y);if(!se)return X(null,null);const _e=new class{constructor(Le){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Le.length,this._features=Le}feature(Le){return new class{constructor(Ae){this._feature=Ae,this.extent=a.EXTENT,this.type=Ae.type,this.properties=Ae.tags,"id"in Ae&&!isNaN(Ae.id)&&(this.id=parseInt(Ae.id,10))}loadGeometry(){if(this._feature.type===1){const Ae=[];for(const ke of this._feature.geometry)Ae.push([new a.Point(ke[0],ke[1])]);return Ae}{const Ae=[];for(const ke of this._feature.geometry){const je=[];for(const Qe of ke)je.push(new a.Point(Qe[0],Qe[1]));Ae.push(je)}return Ae}}toGeoJSON(Ae,ke,je){return I.call(this,Ae,ke,je)}}(this._features[Le])}}(se.features);let Te=ye(_e);Te.byteOffset===0&&Te.byteLength===Te.buffer.byteLength||(Te=new Uint8Array(Te)),X(null,{vectorTile:_e,rawData:Te.buffer})}jo.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},jo.prototype.splitTile=function(me,X,Q,se,_e,Te,Le){for(var Ae=[me,X,Q,se],ke=this.options,je=ke.debug;Ae.length;){se=Ae.pop(),Q=Ae.pop(),X=Ae.pop(),me=Ae.pop();var Qe=1<<X,et=ka(X,Q,se),it=this.tiles[et];if(!it&&(je>1&&console.time("creation"),it=this.tiles[et]=to(me,X,Q,se,ke),this.tileCoords.push({z:X,x:Q,y:se}),je)){je>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,Q,se,it.numFeatures,it.numPoints,it.numSimplified),console.timeEnd("creation"));var Vt="z"+X;this.stats[Vt]=(this.stats[Vt]||0)+1,this.total++}if(it.source=me,_e){if(X===ke.maxZoom||X===_e)continue;var nr=1<<_e-X;if(Q!==Math.floor(Te/nr)||se!==Math.floor(Le/nr))continue}else if(X===ke.indexMaxZoom||it.numPoints<=ke.indexMaxPoints)continue;if(it.source=null,me.length!==0){je>1&&console.time("clipping");var Dt,Wt,rr,Pr,Br,gr,Ar=.5*ke.buffer/ke.extent,Fi=.5-Ar,mt=.5+Ar,$r=1+Ar;Dt=Wt=rr=Pr=null,Br=cr(me,Qe,Q-Ar,Q+mt,0,it.minX,it.maxX,ke),gr=cr(me,Qe,Q+Fi,Q+$r,0,it.minX,it.maxX,ke),me=null,Br&&(Dt=cr(Br,Qe,se-Ar,se+mt,1,it.minY,it.maxY,ke),Wt=cr(Br,Qe,se+Fi,se+$r,1,it.minY,it.maxY,ke),Br=null),gr&&(rr=cr(gr,Qe,se-Ar,se+mt,1,it.minY,it.maxY,ke),Pr=cr(gr,Qe,se+Fi,se+$r,1,it.minY,it.maxY,ke),gr=null),je>1&&console.timeEnd("clipping"),Ae.push(Dt||[],X+1,2*Q,2*se),Ae.push(Wt||[],X+1,2*Q,2*se+1),Ae.push(rr||[],X+1,2*Q+1,2*se),Ae.push(Pr||[],X+1,2*Q+1,2*se+1)}}},jo.prototype.getTile=function(me,X,Q){var se=this.options,_e=se.extent,Te=se.debug;if(me<0||me>24)return null;var Le=1<<me,Ae=ka(me,X=(X%Le+Le)%Le,Q);if(this.tiles[Ae])return Rt(this.tiles[Ae],_e);Te>1&&console.log("drilling down to z%d-%d-%d",me,X,Q);for(var ke,je=me,Qe=X,et=Q;!ke&&je>0;)je--,Qe=Math.floor(Qe/2),et=Math.floor(et/2),ke=this.tiles[ka(je,Qe,et)];return ke&&ke.source?(Te>1&&console.log("found parent tile z%d-%d-%d",je,Qe,et),Te>1&&console.time("drilling down"),this.splitTile(ke.source,je,Qe,et,me,X,Q),Te>1&&console.timeEnd("drilling down"),this.tiles[Ae]?Rt(this.tiles[Ae],_e):null):null};class xl extends M{constructor(X,Q,se,_e){super(X,Q,se,Wr),this._dataUpdateable=new Map,this.loadGeoJSON=(Te,Le)=>{const{promoteId:Ae}=Te;if(Te.request)return a.getJSON(Te.request,(ke,je,Qe,et)=>{this._dataUpdateable=rs(je,Ae)?gi(je,Ae):void 0,Le(ke,je,Qe,et)});if(typeof Te.data=="string")try{const ke=JSON.parse(Te.data);this._dataUpdateable=rs(ke,Ae)?gi(ke,Ae):void 0,Le(null,ke)}catch{Le(new Error(`Input data given to '${Te.source}' is not a valid GeoJSON object.`))}else Te.dataDiff?this._dataUpdateable?(function(ke,je,Qe){var et,it,Vt,nr;if(je.removeAll&&ke.clear(),je.remove)for(const Dt of je.remove)ke.delete(Dt);if(je.add)for(const Dt of je.add){const Wt=mo(Dt,Qe);Wt!=null&&ke.set(Wt,Dt)}if(je.update)for(const Dt of je.update){let Wt=ke.get(Dt.id);if(Wt==null)continue;const rr=!Dt.removeAllProperties&&(((et=Dt.removeProperties)===null||et===void 0?void 0:et.length)>0||((it=Dt.addOrUpdateProperties)===null||it===void 0?void 0:it.length)>0);if((Dt.newGeometry||Dt.removeAllProperties||rr)&&(Wt={...Wt},ke.set(Dt.id,Wt),rr&&(Wt.properties={...Wt.properties})),Dt.newGeometry&&(Wt.geometry=Dt.newGeometry),Dt.removeAllProperties)Wt.properties={};else if(((Vt=Dt.removeProperties)===null||Vt===void 0?void 0:Vt.length)>0)for(const Pr of Dt.removeProperties)Object.prototype.hasOwnProperty.call(Wt.properties,Pr)&&delete Wt.properties[Pr];if(((nr=Dt.addOrUpdateProperties)===null||nr===void 0?void 0:nr.length)>0)for(const{key:Pr,value:Br}of Dt.addOrUpdateProperties)Wt.properties[Pr]=Br}}(this._dataUpdateable,Te.dataDiff,Ae),Le(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Le(new Error(`Cannot update existing geojson data in ${Te.source}`)):Le(new Error(`Input data given to '${Te.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},_e&&(this.loadGeoJSON=_e)}loadData(X,Q){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const _e=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request);this._pendingCallback=Q,this._pendingRequest=this.loadGeoJSON(X,(Te,Le)=>{if(delete this._pendingCallback,delete this._pendingRequest,Te||!Le)return Q(Te);if(typeof Le!="object")return Q(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{O(Le,!0);try{if(X.filter){const ke=a.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ke.result==="error")throw new Error(ke.value.map(Qe=>`${Qe.key}: ${Qe.message}`).join(", "));Le={type:"FeatureCollection",features:Le.features.filter(Qe=>ke.value.evaluate({zoom:0},Qe))}}this._geoJSONIndex=X.cluster?new Be(function({superclusterOptions:ke,clusterProperties:je}){if(!je||!ke)return ke;const Qe={},et={},it={accumulated:null,zoom:0},Vt={properties:null},nr=Object.keys(je);for(const Dt of nr){const[Wt,rr]=je[Dt],Pr=a.createExpression(rr),Br=a.createExpression(typeof Wt=="string"?[Wt,["accumulated"],["get",Dt]]:Wt);Qe[Dt]=Pr.value,et[Dt]=Br.value}return ke.map=Dt=>{Vt.properties=Dt;const Wt={};for(const rr of nr)Wt[rr]=Qe[rr].evaluate(it,Vt);return Wt},ke.reduce=(Dt,Wt)=>{Vt.properties=Wt;for(const rr of nr)it.accumulated=Dt[rr],Dt[rr]=et[rr].evaluate(it,Vt)},ke}(X)).load(Le.features):function(ke,je){return new jo(ke,je)}(Le,X.geojsonVtOptions)}catch(ke){return Q(ke)}this.loaded={};const Ae={};if(_e){const ke=_e.finish();ke&&(Ae.resourceTiming={},Ae.resourceTiming[X.source]=JSON.parse(JSON.stringify(ke)))}Q(null,Ae)}})}reloadTile(X,Q){const se=this.loaded;return se&&se[X.uid]?super.reloadTile(X,Q):this.loadTile(X,Q)}removeSource(X,Q){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Q()}getClusterExpansionZoom(X,Q){try{Q(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(se){Q(se)}}getClusterChildren(X,Q){try{Q(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(se){Q(se)}}getClusterLeaves(X,Q){try{Q(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(se){Q(se)}}}class Bo{constructor(X){this.self=X,this.actor=new a.Actor(X,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:M,geojson:xl},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Q,se)=>{if(this.workerSourceTypes[Q])throw new Error(`Worker source with name "${Q}" already registered.`);this.workerSourceTypes[Q]=se},this.self.registerRTLTextPlugin=Q=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Q.applyArabicShaping,a.plugin.processBidirectionalText=Q.processBidirectionalText,a.plugin.processStyledBidirectionalText=Q.processStyledBidirectionalText}}setReferrer(X,Q){this.referrer=Q}setImages(X,Q,se){this.availableImages[X]=Q;for(const _e in this.workerSources[X]){const Te=this.workerSources[X][_e];for(const Le in Te)Te[Le].availableImages=Q}se()}setLayers(X,Q,se){this.getLayerIndex(X).replace(Q),se()}updateLayers(X,Q,se){this.getLayerIndex(X).update(Q.layers,Q.removedIds),se()}loadTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).loadTile(Q,se)}loadDEMTile(X,Q,se){this.getDEMWorkerSource(X,Q.source).loadTile(Q,se)}reloadTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).reloadTile(Q,se)}abortTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).abortTile(Q,se)}removeTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).removeTile(Q,se)}removeDEMTile(X,Q){this.getDEMWorkerSource(X,Q.source).removeTile(Q)}removeSource(X,Q,se){if(!this.workerSources[X]||!this.workerSources[X][Q.type]||!this.workerSources[X][Q.type][Q.source])return;const _e=this.workerSources[X][Q.type][Q.source];delete this.workerSources[X][Q.type][Q.source],_e.removeSource!==void 0?_e.removeSource(Q,se):se()}loadWorkerSource(X,Q,se){try{this.self.importScripts(Q.url),se()}catch(_e){se(_e.toString())}}syncRTLPluginState(X,Q,se){try{a.plugin.setState(Q);const _e=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&_e!=null){this.self.importScripts(_e);const Te=a.plugin.isParsed();se(Te?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_e}`),Te)}}catch(_e){se(_e.toString())}}getAvailableImages(X){let Q=this.availableImages[X];return Q||(Q=[]),Q}getLayerIndex(X){let Q=this.layerIndexes[X];return Q||(Q=this.layerIndexes[X]=new d),Q}getWorkerSource(X,Q,se){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][Q]||(this.workerSources[X][Q]={}),!this.workerSources[X][Q][se]){const _e={send:(Te,Le,Ae)=>{this.actor.send(Te,Le,Ae,X)}};this.workerSources[X][Q][se]=new this.workerSourceTypes[Q](_e,this.getLayerIndex(X),this.getAvailableImages(X))}return this.workerSources[X][Q][se]}getDEMWorkerSource(X,Q){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][Q]||(this.demWorkerSources[X][Q]=new A),this.demWorkerSources[X][Q]}}return a.isWorker()&&(self.worker=new Bo(self)),Bo}),o(["./shared"],function(a){var d="3.3.0";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,y){const x=window.document.createElement(c);return p!==void 0&&(x.className=p),y&&y.appendChild(x),x}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,y,x={}){c.addEventListener(p,y,"passive"in x?x:x.capture)}static removeEventListener(c,p,y,x={}){c.removeEventListener(p,y,"passive"in x?x:x.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const y=c.getBoundingClientRect();return new a.Point(p.clientX-y.left-c.clientLeft,p.clientY-y.top-c.clientTop)}static touchPos(c,p){const y=c.getBoundingClientRect(),x=[];for(let C=0;C<p.length;C++)x.push(new a.Point(p[C].clientX-y.left-c.clientLeft,p[C].clientY-y.top-c.clientTop));return x}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(S){!M&&b&&(A?w(S):v=S)}};let v,b,M=!1,A=!1;function w(S){const c=S.createTexture();S.bindTexture(S.TEXTURE_2D,c);try{if(S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,b),S.isContextLost())return;g.supported=!0}catch{}S.deleteTexture(c),M=!0}var P,O;typeof document<"u"&&(b=document.createElement("img"),b.onload=function(){v&&w(v),v=null,A=!0},b.onerror=function(){M=!0,v=null},b.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(S){let c,p,y,x;S.resetRequestQueue=()=>{c=[],p=0,y=0,x={}},S.addThrottleControl=q=>{const H=y++;return x[H]=q,H},S.removeThrottleControl=q=>{delete x[q],L()},S.getImage=(q,H,Y=!0)=>{g.supported&&(q.headers||(q.headers={}),q.headers.accept="image/webp,*/*");const ee={requestParameters:q,supportImageRefresh:Y,callback:H,cancelled:!1,completed:!1,cancel:()=>{ee.completed||ee.cancelled||(ee.cancelled=!0,ee.innerRequest&&(ee.innerRequest.cancel(),p--),L())}};return c.push(ee),L(),ee};const C=q=>{const{requestParameters:H,supportImageRefresh:Y,callback:ee}=q;return a.extend(H,{type:"image"}),(Y!==!1||a.isWorker()||a.getProtocolAction(H.url)||H.headers&&!Object.keys(H.headers).reduce((ue,ce)=>ue&&ce==="accept",!0)?a.makeRequest:B)(H,(ue,ce,ge,le)=>{D(q,ee,ue,ce,ge,le)})},D=(q,H,Y,ee,ue,ce)=>{Y?H(Y):ee instanceof HTMLImageElement||a.isImageBitmap(ee)?H(null,ee):ee&&((ge,le)=>{typeof createImageBitmap=="function"?a.arrayBufferToImageBitmap(ge,le):a.arrayBufferToImage(ge,le)})(ee,(ge,le)=>{ge!=null?H(ge):le!=null&&H(null,le,{cacheControl:ue,expires:ce})}),q.cancelled||(q.completed=!0,p--,L())},L=()=>{const q=(()=>{const H=Object.keys(x);let Y=!1;if(H.length>0){for(const ee of H)if(Y=x[ee](),Y)break}return Y})()?a.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let H=p;H<q&&c.length>0;H++){const Y=c.shift();if(Y.cancelled){H--;continue}const ee=C(Y);p++,Y.innerRequest=ee}},B=(q,H)=>{const Y=new Image,ee=q.url;let ue=!1;const ce=q.credentials;return ce&&ce==="include"?Y.crossOrigin="use-credentials":(ce&&ce==="same-origin"||!a.sameOrigin(ee))&&(Y.crossOrigin="anonymous"),Y.fetchPriority="high",Y.onload=()=>{H(null,Y),Y.onerror=Y.onload=null},Y.onerror=()=>{ue||H(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),Y.onerror=Y.onload=null},Y.src=ee,{cancel:()=>{ue=!0,Y.src=""}}}}(P||(P={})),P.resetRequestQueue(),function(S){S.Glyphs="Glyphs",S.Image="Image",S.Source="Source",S.SpriteImage="SpriteImage",S.SpriteJSON="SpriteJSON",S.Style="Style",S.Tile="Tile",S.Unknown="Unknown"}(O||(O={}));class I{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,y){const x=function(C){const D=C.match(T);if(!D)throw new Error(`Unable to parse URL "${C}"`);return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}(c);return x.path+=`${p}${y}`,function(C){const D=C.params.length?`?${C.params.join("&")}`:"";return`${C.protocol}://${C.authority}${C.path}${D}`}(x)}setTransformRequest(c){this._transformRequestFn=c}}const T=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function R(S){var c=new a.ARRAY_TYPE(3);return c[0]=S[0],c[1]=S[1],c[2]=S[2],c}var z,j=function(S,c,p){return S[0]=c[0]-p[0],S[1]=c[1]-p[1],S[2]=c[2]-p[2],S};z=new a.ARRAY_TYPE(3),a.ARRAY_TYPE!=Float32Array&&(z[0]=0,z[1]=0,z[2]=0);var V=function(S){var c=S[0],p=S[1];return c*c+p*p};function Z(S){const c=[];if(typeof S=="string")c.push({id:"default",url:S});else if(S&&S.length>0){const p=[];for(const{id:y,url:x}of S){const C=`${y}${x}`;p.indexOf(C)===-1&&(p.push(C),c.push({id:y,url:x}))}}return c}function ie(S,c,p,y,x){if(y)return void S(y);if(x!==Object.values(c).length||x!==Object.values(p).length)return;const C={};for(const D in c){C[D]={};const L=a.browser.getImageCanvasContext(p[D]),B=c[D];for(const q in B){const{width:H,height:Y,x:ee,y:ue,sdf:ce,pixelRatio:ge,stretchX:le,stretchY:$e,content:We}=B[q];C[D][q]={data:null,pixelRatio:ge,sdf:ce,stretchX:le,stretchY:$e,content:We,spriteData:{width:H,height:Y,x:ee,y:ue,context:L}}}}S(null,C)}(function(){var S=new a.ARRAY_TYPE(2);a.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0)})();class ne{constructor(c,p,y,x){this.context=c,this.format=y,this.texture=c.gl.createTexture(),this.update(p,x)}update(c,p,y){const{width:x,height:C}=c,D=!(this.size&&this.size[0]===x&&this.size[1]===C||y),{context:L}=this,{gl:B}=L;if(this.useMipmap=!!(p&&p.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),L.pixelStoreUnpackFlipY.set(!1),L.pixelStoreUnpack.set(1),L.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!p||p.premultiply!==!1)),D)this.size=[x,C],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,c):B.texImage2D(B.TEXTURE_2D,0,this.format,x,C,0,this.format,B.UNSIGNED_BYTE,c.data);else{const{x:q,y:H}=y||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?B.texSubImage2D(B.TEXTURE_2D,0,q,H,B.RGBA,B.UNSIGNED_BYTE,c):B.texSubImage2D(B.TEXTURE_2D,0,q,H,x,C,B.RGBA,B.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)}bind(c,p,y){const{context:x}=this,{gl:C}=x;C.bindTexture(C.TEXTURE_2D,this.texture),y!==C.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(y=C.LINEAR),c!==this.filter&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,c),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,y||c),this.filter=c),p!==this.wrap&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,p),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ae(S){const{userImage:c}=S;return!!(c&&c.render&&c.render())&&(S.data.replace(new Uint8Array(c.data.buffer)),!0)}class de extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:y}of this.requestors)this._notify(p,y);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const y=p.spriteData;p.data=new a.RGBAImage({width:y.width,height:y.height},y.context.getImageData(y.x,y.y,y.width,y.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let y=!0;const x=p.data||p.spriteData;return this._validateStretch(p.stretchX,x&&x.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),y=!1),this._validateStretch(p.stretchY,x&&x.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),y=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),y=!1),y}_validateStretch(c,p){if(!c)return!0;let y=0;for(const x of c){if(x[0]<y||x[1]<x[0]||p<x[1])return!1;y=x[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const y=p.spriteData,x=y&&y.width||p.data.width,C=y&&y.height||p.data.height;return!(c[0]<0||x<c[0]||c[1]<0||C<c[1]||c[2]<0||x<c[2]||c[3]<0||C<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,y=!0){const x=this.getImage(c);if(y&&(x.data.width!==p.data.width||x.data.height!==p.data.height))throw new Error(`size mismatch between old image (${x.data.width}x${x.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=x.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let y=!0;if(!this.isLoaded())for(const x of c)this.images[x]||(y=!1);this.isLoaded()||y?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const y={};for(const x of c){let C=this.getImage(x);C||(this.fire(new a.Event("styleimagemissing",{id:x})),C=this.getImage(x)),C?y[x]={data:C.data.clone(),pixelRatio:C.pixelRatio,sdf:C.sdf,version:C.version,stretchX:C.stretchX,stretchY:C.stretchY,content:C.content,hasRenderCallback:!!(C.userImage&&C.userImage.render)}:a.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,y)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],y=this.getImage(c);if(!y)return null;if(p&&p.position.version===y.version)return p.position;if(p)p.position.version=y.version;else{const x={w:y.data.width+2,h:y.data.height+2,x:0,y:0},C=new a.ImagePosition(x,y);this.patterns[c]={bin:x,position:C}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ne(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const C in this.patterns)c.push(this.patterns[C].bin);const{w:p,h:y}=a.potpack(c),x=this.atlasImage;x.resize({width:p||1,height:y||1});for(const C in this.patterns){const{bin:D}=this.patterns[C],L=D.x+1,B=D.y+1,q=this.getImage(C).data,H=q.width,Y=q.height;a.RGBAImage.copy(q,x,{x:0,y:0},{x:L,y:B},{width:H,height:Y}),a.RGBAImage.copy(q,x,{x:0,y:Y-1},{x:L,y:B-1},{width:H,height:1}),a.RGBAImage.copy(q,x,{x:0,y:0},{x:L,y:B+Y},{width:H,height:1}),a.RGBAImage.copy(q,x,{x:H-1,y:0},{x:L-1,y:B},{width:1,height:Y}),a.RGBAImage.copy(q,x,{x:0,y:0},{x:L+H,y:B},{width:1,height:Y})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const y=this.getImage(p);y||a.warnOnce(`Image with ID: "${p}" was not found`),ae(y)&&this.updateImage(p,y)}}}const pe=1e20;function Pe(S,c,p,y,x,C,D,L,B){for(let q=c;q<c+y;q++)be(S,p*C+q,C,x,D,L,B);for(let q=p;q<p+x;q++)be(S,q*C+c,1,y,D,L,B)}function be(S,c,p,y,x,C,D){C[0]=0,D[0]=-pe,D[1]=pe,x[0]=S[c];for(let L=1,B=0,q=0;L<y;L++){x[L]=S[c+L*p];const H=L*L;do{const Y=C[B];q=(x[L]-x[Y]+H-Y*Y)/(L-Y)/2}while(q<=D[B]&&--B>-1);B++,C[B]=L,D[B]=q,D[B+1]=pe}for(let L=0,B=0;L<y;L++){for(;D[B+1]<L;)B++;const q=C[B],H=L-q;S[c+L*p]=x[q]+H*H}}class he{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const y=[];for(const x in c)for(const C of c[x])y.push({stack:x,id:C});a.asyncAll(y,({stack:x,id:C},D)=>{let L=this.entries[x];L||(L=this.entries[x]={glyphs:{},requests:{},ranges:{}});let B=L.glyphs[C];if(B!==void 0)return void D(null,{stack:x,id:C,glyph:B});if(B=this._tinySDF(L,x,C),B)return L.glyphs[C]=B,void D(null,{stack:x,id:C,glyph:B});const q=Math.floor(C/256);if(256*q>65535)return void D(new Error("glyphs > 65535 not supported"));if(L.ranges[q])return void D(null,{stack:x,id:C,glyph:B});if(!this.url)return void D(new Error("glyphsUrl is not set"));let H=L.requests[q];H||(H=L.requests[q]=[],he.loadGlyphRange(x,q,this.url,this.requestManager,(Y,ee)=>{if(ee){for(const ue in ee)this._doesCharSupportLocalGlyph(+ue)||(L.glyphs[+ue]=ee[+ue]);L.ranges[q]=!0}for(const ue of H)ue(Y,ee);delete L.requests[q]})),H.push((Y,ee)=>{Y?D(Y):ee&&D(null,{stack:x,id:C,glyph:ee[C]||null})})},(x,C)=>{if(x)p(x);else if(C){const D={};for(const{stack:L,id:B,glyph:q}of C)(D[L]||(D[L]={}))[B]=q&&{id:q.id,bitmap:q.bitmap.clone(),metrics:q.metrics};p(null,D)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](c)||a.unicodeBlockLookup["Hangul Syllables"](c)||a.unicodeBlockLookup.Hiragana(c)||a.unicodeBlockLookup.Katakana(c))}_tinySDF(c,p,y){const x=this.localIdeographFontFamily;if(!x||!this._doesCharSupportLocalGlyph(y))return;let C=c.tinySDF;if(!C){let L="400";/bold/i.test(p)?L="900":/medium/i.test(p)?L="500":/light/i.test(p)&&(L="200"),C=c.tinySDF=new he.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:x,fontWeight:L})}const D=C.draw(String.fromCharCode(y));return{id:y,bitmap:new a.AlphaImage({width:D.width||30,height:D.height||30},D.data),metrics:{width:D.glyphWidth||24,height:D.glyphHeight||24,left:D.glyphLeft||0,top:D.glyphTop-27||-8,advance:D.glyphAdvance||24}}}}he.loadGlyphRange=function(S,c,p,y,x){const C=256*c,D=C+255,L=y.transformRequest(p.replace("{fontstack}",S).replace("{range}",`${C}-${D}`),O.Glyphs);a.getArrayBuffer(L,(B,q)=>{if(B)x(B);else if(q){const H={};for(const Y of a.parseGlyphPbf(q))H[Y.id]=Y;x(null,H)}})},he.TinySDF=class{constructor({fontSize:S=24,buffer:c=3,radius:p=8,cutoff:y=.25,fontFamily:x="sans-serif",fontWeight:C="normal",fontStyle:D="normal"}={}){this.buffer=c,this.cutoff=y,this.radius=p;const L=this.size=S+4*c,B=this._createCanvas(L),q=this.ctx=B.getContext("2d",{willReadFrequently:!0});q.font=`${D} ${C} ${S}px ${x}`,q.textBaseline="alphabetic",q.textAlign="left",q.fillStyle="black",this.gridOuter=new Float64Array(L*L),this.gridInner=new Float64Array(L*L),this.f=new Float64Array(L),this.z=new Float64Array(L+1),this.v=new Uint16Array(L)}_createCanvas(S){const c=document.createElement("canvas");return c.width=c.height=S,c}draw(S){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:y,actualBoundingBoxLeft:x,actualBoundingBoxRight:C}=this.ctx.measureText(S),D=Math.ceil(p),L=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(C-x))),B=Math.min(this.size-this.buffer,D+Math.ceil(y)),q=L+2*this.buffer,H=B+2*this.buffer,Y=Math.max(q*H,0),ee=new Uint8ClampedArray(Y),ue={data:ee,width:q,height:H,glyphWidth:L,glyphHeight:B,glyphTop:D,glyphLeft:0,glyphAdvance:c};if(L===0||B===0)return ue;const{ctx:ce,buffer:ge,gridInner:le,gridOuter:$e}=this;ce.clearRect(ge,ge,L,B),ce.fillText(S,ge,ge+D);const We=ce.getImageData(ge,ge,L,B);$e.fill(pe,0,Y),le.fill(0,0,Y);for(let we=0;we<B;we++)for(let ze=0;ze<L;ze++){const Ye=We.data[4*(we*L+ze)+3]/255;if(Ye===0)continue;const Ze=(we+ge)*q+ze+ge;if(Ye===1)$e[Ze]=0,le[Ze]=pe;else{const tt=.5-Ye;$e[Ze]=tt>0?tt*tt:0,le[Ze]=tt<0?tt*tt:0}}Pe($e,0,0,q,H,q,this.f,this.v,this.z),Pe(le,ge,ge,L,B,q,this.f,this.v,this.z);for(let we=0;we<Y;we++){const ze=Math.sqrt($e[we])-Math.sqrt(le[we]);ee[we]=Math.round(255-255*(ze/this.radius+this.cutoff))}return ue}};class ve{constructor(){this.specification=a.v8Spec.light.position}possiblyEvaluate(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))}interpolate(c,p,y){return{x:a.interpolate.number(c.x,p.x,y),y:a.interpolate.number(c.y,p.y,y),z:a.interpolate.number(c.z,p.z,y)}}}let Se,ye;class Ie extends a.Evented{constructor(c){super(),Se=Se||new a.Properties({anchor:new a.DataConstantProperty(a.v8Spec.light.anchor),position:new ve,color:new a.DataConstantProperty(a.v8Spec.light.color),intensity:new a.DataConstantProperty(a.v8Spec.light.intensity)}),this._transitionable=new a.Transitionable(Se),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.validateLight,c,p))for(const y in c){const x=c[y];y.endsWith("-transition")?this._transitionable.setTransition(y.slice(0,-11),x):this._transitionable.setValue(y,x)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,y){return(!y||y.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v8Spec})))}}class Xe{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const y=c.join(",")+String(p);return this.dashEntry[y]||(this.dashEntry[y]=this.addDash(c,p)),this.dashEntry[y]}getDashRanges(c,p,y){const x=[];let C=c.length%2==1?-c[c.length-1]*y:0,D=c[0]*y,L=!0;x.push({left:C,right:D,isDash:L,zeroLength:c[0]===0});let B=c[0];for(let q=1;q<c.length;q++){L=!L;const H=c[q];C=B*y,B+=H,D=B*y,x.push({left:C,right:D,isDash:L,zeroLength:H===0})}return x}addRoundDash(c,p,y){const x=p/2;for(let C=-y;C<=y;C++){const D=this.width*(this.nextRow+y+C);let L=0,B=c[L];for(let q=0;q<this.width;q++){q/B.right>1&&(B=c[++L]);const H=Math.abs(q-B.left),Y=Math.abs(q-B.right),ee=Math.min(H,Y);let ue;const ce=C/y*(x+1);if(B.isDash){const ge=x-Math.abs(ce);ue=Math.sqrt(ee*ee+ge*ge)}else ue=x-Math.sqrt(ee*ee+ce*ce);this.data[D+q]=Math.max(0,Math.min(255,ue+128))}}}addRegularDash(c){for(let L=c.length-1;L>=0;--L){const B=c[L],q=c[L+1];B.zeroLength?c.splice(L,1):q&&q.isDash===B.isDash&&(q.left=B.left,c.splice(L,1))}const p=c[0],y=c[c.length-1];p.isDash===y.isDash&&(p.left=y.left-this.width,y.right=p.right+this.width);const x=this.width*this.nextRow;let C=0,D=c[C];for(let L=0;L<this.width;L++){L/D.right>1&&(D=c[++C]);const B=Math.abs(L-D.left),q=Math.abs(L-D.right),H=Math.min(B,q);this.data[x+L]=Math.max(0,Math.min(255,(D.isDash?H:-H)+128))}}addDash(c,p){const y=p?7:0,x=2*y+1;if(this.nextRow+x>this.height)return a.warnOnce("LineAtlas out of space"),null;let C=0;for(let L=0;L<c.length;L++)C+=c[L];if(C!==0){const L=this.width/C,B=this.getDashRanges(c,this.width,L);p?this.addRoundDash(B,L,y):this.addRegularDash(B)}const D={y:(this.nextRow+y+.5)/this.height,height:2*y/this.height,width:C};return this.nextRow+=x,this.dirty=!0,D}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class Ee{constructor(c,p,y){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=y;const x=this.workerPool.acquire(y);for(let C=0;C<x.length;C++){const D=new Ee.Actor(x[C],p,y);D.name=`Worker ${C}`,this.actors.push(D)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,y){a.asyncAll(this.actors,(x,C)=>{x.send(c,p,C)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function De(S,c,p){const y=function(x,C){if(x)return p(x);if(C){const D=a.pick(a.extend(C,S),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);C.vector_layers&&(D.vectorLayers=C.vector_layers,D.vectorLayerIds=D.vectorLayers.map(L=>L.id)),p(null,D)}};return S.url?a.getJSON(c.transformRequest(S.url,O.Source),y):a.browser.frame(()=>y(null,S))}Ee.Actor=a.Actor;class Oe{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}extend(c){const p=this._sw,y=this._ne;let x,C;if(c instanceof a.LngLat)x=c,C=c;else{if(!(c instanceof Oe))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Oe.convert(c)):this.extend(a.LngLat.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.LngLat.convert(c)):this;if(x=c._sw,C=c._ne,!x||!C)return this}return p||y?(p.lng=Math.min(x.lng,p.lng),p.lat=Math.min(x.lat,p.lat),y.lng=Math.max(C.lng,y.lng),y.lat=Math.max(C.lat,y.lat)):(this._sw=new a.LngLat(x.lng,x.lat),this._ne=new a.LngLat(C.lng,C.lat)),this}getCenter(){return new a.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new a.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:y}=a.LngLat.convert(c);let x=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=y&&y<=this._ne.lat&&x}static convert(c){return c instanceof Oe?c:c&&new Oe(c)}static fromLngLat(c,p=0){const y=360*p/40075017,x=y/Math.cos(Math.PI/180*c.lat);return new Oe(new a.LngLat(c.lng-x,c.lat-y),new a.LngLat(c.lng+x,c.lat+y))}}class Ge{constructor(c,p,y){this.bounds=Oe.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=y||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),y=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),x=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),C=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),D=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=y&&c.x<C&&c.y>=x&&c.y<D}}class Be extends a.Evented{constructor(c,p,y,x){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=De(this._options,this.map._requestManager,(C,D)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),C?this.fire(new a.ErrorEvent(C)):D&&(a.extend(this,D),D.bounds&&(this.tileBounds=new Ge(D.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.extend({},this._options),this.id=c,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),x={request:this.map._requestManager.transformRequest(y,O.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function C(D,L){return delete c.request,c.aborted?p(null):D&&D.status!==404?p(D):(L&&L.resourceTiming&&(c.resourceTiming=L.resourceTiming),this.map._refreshExpiredTiles&&L&&c.setExpiryData(L),c.loadVectorData(L,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}x.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",x,C.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",x,C.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class at extends a.Evented{constructor(c,p,y,x){super(),this.id=c,this.dispatcher=y,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=De(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.ErrorEvent(c)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new Ge(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=P.getImage(this.map._requestManager.transformRequest(y,O.Tile),(x,C,D)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(x)c.state="errored",p(x);else if(C){this.map._refreshExpiredTiles&&D&&c.setExpiryData(D);const L=this.map.painter.context,B=L.gl;c.texture=this.map.painter.getTileTexture(C.width),c.texture?c.texture.update(C,{useMipmap:!0}):(c.texture=new ne(L,C,B.RGBA,{useMipmap:!0}),c.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),L.extTextureFilterAnisotropic&&B.texParameterf(B.TEXTURE_2D,L.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,L.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class nt extends at{constructor(c,p,y,x){super(c,p,y,x),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox"}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function x(C,D){C&&(c.state="errored",p(C)),D&&(c.dem=D,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.request=P.getImage(this.map._requestManager.transformRequest(y,O.Tile),(function(C,D){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(C)c.state="errored",p(C);else if(D){this.map._refreshExpiredTiles&&c.setExpiryData(D),delete D.cacheControl,delete D.expires;const L=a.isImageBitmap(D)&&(ye==null&&(ye=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),ye)?D:a.browser.getImageData(D,1),B={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:L,encoding:this.encoding};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",B,x.bind(this)))}}).bind(this),this.map._refreshExpiredTiles),c.neighboringTiles=this._getNeighboringTiles(c.tileID)}_getNeighboringTiles(c){const p=c.canonical,y=Math.pow(2,p.z),x=(p.x-1+y)%y,C=p.x===0?c.wrap-1:c.wrap,D=(p.x+1+y)%y,L=p.x+1===y?c.wrap+1:c.wrap,B={};return B[new a.OverscaledTileID(c.overscaledZ,C,p.z,x,p.y).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,L,p.z,D,p.y).key]={backfilled:!1},p.y>0&&(B[new a.OverscaledTileID(c.overscaledZ,C,p.z,x,p.y-1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,L,p.z,D,p.y-1).key]={backfilled:!1}),p.y+1<y&&(B[new a.OverscaledTileID(c.overscaledZ,C,p.z,x,p.y+1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,L,p.z,D,p.y+1).key]={backfilled:!1}),B}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Ve extends a.Evented{constructor(c,p,y,x){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.extend({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=y.getActor(),this.setEventedParent(x),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const C=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*C,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*C,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*C,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,y,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:y},x),this}_updateWorkerData(c){const p=a.extend({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.browser.resolveURL(this._data),O.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(y,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source"}));let C=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(C=x.resourceTiming[this.id].slice(0)),y)return void this.fire(new a.ErrorEvent(y));const D={dataType:"source"};this._collectResourceTiming&&C&&C.length>0&&a.extend(D,{resourceTiming:C}),this.fire(new a.Event("data",{...D,sourceDataType:"metadata"})),this.fire(new a.Event("data",{...D,sourceDataType:"content"}))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const y=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const x={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(y,x,(C,D)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):C?p(C):(c.loadVectorData(D,this.map.painter,y==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Je=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ct extends a.Evented{constructor(c,p,y,x){super(),this.load=(C,D)=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=P.getImage(this.map._requestManager.transformRequest(this.url,O.Image),(L,B)=>{this._request=null,this._loaded=!0,L?this.fire(new a.ErrorEvent(L)):B&&(this.image=B,C&&(this.coordinates=C),D&&D(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const C=this.map.painter.context,D=C.gl;this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,Je.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ne(C,this.image,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let L=!1;for(const B in this.tiles){const q=this.tiles[B];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,L=!0)}L&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=y,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(x){let C=1/0,D=1/0,L=-1/0,B=-1/0;for(const ee of x)C=Math.min(C,ee.x),D=Math.min(D,ee.y),L=Math.max(L,ee.x),B=Math.max(B,ee.y);const q=Math.max(L-C,B-D),H=Math.max(0,Math.floor(-Math.log(q)/Math.LN2)),Y=Math.pow(2,H);return new a.CanonicalTileID(H,Math.floor((C+L)/2*Y),Math.floor((D+B)/2*Y))}(p),this.minzoom=this.maxzoom=this.tileID.z;const y=p.map(x=>this.tileID.getTilePoint(x)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(y[0].x,y[0].y,0,0),this._boundsArray.emplaceBack(y[1].x,y[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(y[3].x,y[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(y[2].x,y[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class Fe extends ct{constructor(c,p,y,x){super(c,p,y,x),this.load=()=>{this._loaded=!1;const C=this.options;this.urls=[];for(const D of C.urls)this.urls.push(this.map._requestManager.transformRequest(D,O.Source).url);a.getVideo(this.urls,(D,L)=>{this._loaded=!0,D?this.fire(new a.ErrorEvent(D)):L&&(this.video=L,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const C=this.map.painter.context,D=C.gl;this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,Je.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.texSubImage2D(D.TEXTURE_2D,0,0,0,D.RGBA,D.UNSIGNED_BYTE,this.video)):(this.texture=new ne(C,this.video,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let L=!1;for(const B in this.tiles){const q=this.tiles[B];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,L=!0)}L&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Re extends ct{constructor(c,p,y,x){super(c,p,y,x),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let C=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,C=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,C=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const D=this.map.painter.context,L=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Je.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(C||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ne(D,this.canvas,L.RGBA,{premultiply:!0});let B=!1;for(const q in this.tiles){const H=this.tiles[q];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,B=!0)}B&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(C=>!Array.isArray(C)||C.length!==2||C.some(D=>typeof D!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const St={},Zt=S=>{switch(S){case"geojson":return Ve;case"image":return ct;case"raster":return at;case"raster-dem":return nt;case"vector":return Be;case"video":return Fe;case"canvas":return Re}return St[S]};function Ot(S,c){const p=a.create();return a.translate(p,p,[1,1,0]),a.scale(p,p,[.5*S.width,.5*S.height,1]),a.multiply(p,p,S.calculatePosMatrix(c.toUnwrapped()))}function zt(S,c,p,y,x,C){const D=function(Y,ee,ue){if(Y)for(const ce of Y){const ge=ee[ce];if(ge&&ge.source===ue&&ge.type==="fill-extrusion")return!0}else for(const ce in ee){const ge=ee[ce];if(ge.source===ue&&ge.type==="fill-extrusion")return!0}return!1}(x&&x.layers,c,S.id),L=C.maxPitchScaleFactor(),B=S.tilesIn(y,L,D);B.sort(Mr);const q=[];for(const Y of B)q.push({wrappedTileID:Y.tileID.wrapped().key,queryResults:Y.tile.queryRenderedFeatures(c,p,S._state,Y.queryGeometry,Y.cameraQueryGeometry,Y.scale,x,C,L,Ot(S.transform,Y.tileID))});const H=function(Y){const ee={},ue={};for(const ce of Y){const ge=ce.queryResults,le=ce.wrappedTileID,$e=ue[le]=ue[le]||{};for(const We in ge){const we=ge[We],ze=$e[We]=$e[We]||{},Ye=ee[We]=ee[We]||[];for(const Ze of we)ze[Ze.featureIndex]||(ze[Ze.featureIndex]=!0,Ye.push(Ze))}}return ee}(q);for(const Y in H)H[Y].forEach(ee=>{const ue=ee.feature,ce=S.getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=ce});return H}function Mr(S,c){const p=S.tileID,y=c.tileID;return p.overscaledZ-y.overscaledZ||p.canonical.y-y.canonical.y||p.wrap-y.wrap||p.canonical.x-y.canonical.x}class Vr{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,y){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(x,C){const D={};if(!C)return D;for(const L of x){const B=L.layerIds.map(q=>C.getLayer(q)).filter(Boolean);if(B.length!==0){L.layers=B,L.stateDependentLayerIds&&(L.stateDependentLayers=L.stateDependentLayerIds.map(q=>B.filter(H=>H.id===q)[0]));for(const q of B)D[q.id]=L}}return D}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const x in this.buckets){const C=this.buckets[x];if(C instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!y)break;C.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const x in this.buckets){const C=this.buckets[x];if(C instanceof a.SymbolBucket&&C.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const x in this.buckets){const C=this.buckets[x];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(x).queryRadius(C))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const y in this.buckets){const x=this.buckets[y];x.uploadPending()&&x.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ne(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ne(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,y,x,C,D,L,B,q,H){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:x,cameraQueryGeometry:C,scale:D,tileSize:this.tileSize,pixelPosMatrix:H,transform:B,params:L,queryPadding:this.queryPadding*q},c,p,y):{}}querySourceFeatures(c,p){const y=this.latestFeatureIndex;if(!y||!y.rawTileData)return;const x=y.loadVTLayers(),C=p&&p.sourceLayer?p.sourceLayer:"",D=x._geojsonTileLayer||x[C];if(!D)return;const L=a.createFilter(p&&p.filter),{z:B,x:q,y:H}=this.tileID.canonical,Y={z:B,x:q,y:H};for(let ee=0;ee<D.length;ee++){const ue=D.feature(ee);if(L.needGeometry){const le=a.toEvaluationFeature(ue,!0);if(!L.filter(new a.EvaluationParameters(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!L.filter(new a.EvaluationParameters(this.tileID.overscaledZ),ue))continue;const ce=y.getId(ue,C),ge=new a.GeoJSONFeature(ue,B,q,H,ce);ge.tile=Y,c.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const y=a.parseCacheControl(c.cacheControl);y["max-age"]&&(this.expirationTime=Date.now()+1e3*y["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const y=Date.now();let x=!1;if(this.expirationTime>y)x=!1;else if(p)if(this.expirationTime<p)x=!0;else{const C=this.expirationTime-p;C?this.expirationTime=y+Math.max(C,3e4):x=!0}else x=!0;x?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const y=this.latestFeatureIndex.loadVTLayers();for(const x in this.buckets){if(!p.style.hasLayer(x))continue;const C=this.buckets[x],D=C.layers[0].sourceLayer||"_geojsonTileLayer",L=y[D],B=c[D];if(!L||!B||Object.keys(B).length===0)continue;C.update(B,L,this.imageAtlas&&this.imageAtlas.patternPositions||{});const q=p&&p.style&&p.style.getLayer(x);q&&(this.queryPadding=Math.max(this.queryPadding,q.queryRadius(C)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.browser.now()+c}setDependencies(c,p){const y={};for(const x of p)y[x]=!0;this.dependencies[c]=y}hasDependency(c,p){for(const y of c){const x=this.dependencies[y];if(x){for(const C of p)if(x[C])return!0}}return!1}}class pr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,y){const x=c.wrapped().key;this.data[x]===void 0&&(this.data[x]=[]);const C={value:p,timeout:void 0};if(y!==void 0&&(C.timeout=setTimeout(()=>{this.remove(c,C)},y)),this.data[x].push(C),this.order.push(x),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const y=c.wrapped().key,x=p===void 0?0:this.data[y].indexOf(p),C=this.data[y][x];return this.data[y].splice(x,1),C.timeout&&clearTimeout(C.timeout),this.data[y].length===0&&delete this.data[y],this.onRemove(C.value),this.order.splice(this.order.indexOf(y),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const y in this.data)for(const x of this.data[y])c(x.value)||p.push(x);for(const y of p)this.remove(y.value.tileID,y)}}class Sr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,y){const x=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][x]=this.stateChanges[c][x]||{},a.extend(this.stateChanges[c][x],y),this.deletedStates[c]===null){this.deletedStates[c]={};for(const C in this.state[c])C!==x&&(this.deletedStates[c][C]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][x]===null){this.deletedStates[c][x]={};for(const C in this.state[c][x])y[C]||(this.deletedStates[c][x][C]=null)}else for(const C in y)this.deletedStates[c]&&this.deletedStates[c][x]&&this.deletedStates[c][x][C]===null&&delete this.deletedStates[c][x][C]}removeFeatureState(c,p,y){if(this.deletedStates[c]===null)return;const x=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},y&&p!==void 0)this.deletedStates[c][x]!==null&&(this.deletedStates[c][x]=this.deletedStates[c][x]||{},this.deletedStates[c][x][y]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][x])for(y in this.deletedStates[c][x]={},this.stateChanges[c][x])this.deletedStates[c][x][y]=null;else this.deletedStates[c][x]=null;else this.deletedStates[c]=null}getState(c,p){const y=String(p),x=a.extend({},(this.state[c]||{})[y],(this.stateChanges[c]||{})[y]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const C=this.deletedStates[c][p];if(C===null)return{};for(const D in C)delete x[D]}return x}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const y={};for(const x in this.stateChanges){this.state[x]=this.state[x]||{};const C={};for(const D in this.stateChanges[x])this.state[x][D]||(this.state[x][D]={}),a.extend(this.state[x][D],this.stateChanges[x][D]),C[D]=this.state[x][D];y[x]=C}for(const x in this.deletedStates){this.state[x]=this.state[x]||{};const C={};if(this.deletedStates[x]===null)for(const D in this.state[x])C[D]={},this.state[x][D]={};else for(const D in this.deletedStates[x]){if(this.deletedStates[x][D]===null)this.state[x][D]={};else for(const L of Object.keys(this.deletedStates[x][D]))delete this.state[x][D][L];C[D]=this.state[x][D]}y[x]=y[x]||{},a.extend(y[x],C)}if(this.stateChanges={},this.deletedStates={},Object.keys(y).length!==0)for(const x in c)c[x].setFeatureState(y,p)}}class cr extends a.Evented{constructor(c,p,y){super(),this.id=c,this.dispatcher=y,this.on("data",x=>{x.dataType==="source"&&x.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&x.dataType==="source"&&x.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((x,C,D,L)=>{const B=new(Zt(C.type))(x,C,D,L);if(B.id!==x)throw new Error(`Expected Source id to be ${x} instead of ${B.id}`);return B})(c,p,y,this),this._tiles={},this._cache=new pr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Sr,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const y=this._tiles[p];y.upload(c),y.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(Er).map(c=>c.key)}getRenderableIds(c){const p=[];for(const y in this._tiles)this._isIdRenderable(y,c)&&p.push(this._tiles[y]);return c?p.sort((y,x)=>{const C=y.tileID,D=x.tileID,L=new a.Point(C.canonical.x,C.canonical.y)._rotate(this.transform.angle),B=new a.Point(D.canonical.x,D.canonical.y)._rotate(this.transform.angle);return C.overscaledZ-D.overscaledZ||B.y-L.y||B.x-L.x}).map(y=>y.tileID.key):p.map(y=>y.tileID).sort(Er).map(y=>y.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const y=this._tiles[c];y&&(y.state!=="loading"&&(y.state=p),this._loadTile(y,this._tileLoaded.bind(this,y,c,p)))}_tileLoaded(c,p,y,x){if(x)return c.state="errored",void(x.status!==404?this._source.fire(new a.ErrorEvent(x,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.browser.now(),y==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let x=0;x<p.length;x++){const C=p[x];if(c.neighboringTiles&&c.neighboringTiles[C]){const D=this.getTileByID(C);y(c,D),y(D,c)}}function y(x,C){x.needsHillshadePrepare=!0,x.needsTerrainPrepare=!0;let D=C.tileID.canonical.x-x.tileID.canonical.x;const L=C.tileID.canonical.y-x.tileID.canonical.y,B=Math.pow(2,x.tileID.canonical.z),q=C.tileID.key;D===0&&L===0||Math.abs(L)>1||(Math.abs(D)>1&&(Math.abs(D+B)===1?D+=B:Math.abs(D-B)===1&&(D-=B)),C.dem&&x.dem&&(x.dem.backfillBorder(C.dem,D,L),x.neighboringTiles&&x.neighboringTiles[q]&&(x.neighboringTiles[q].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,y,x){for(const C in this._tiles){let D=this._tiles[C];if(x[C]||!D.hasData()||D.tileID.overscaledZ<=p||D.tileID.overscaledZ>y)continue;let L=D.tileID;for(;D&&D.tileID.overscaledZ>p+1;){const q=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[q.key],D&&D.hasData()&&(L=q)}let B=L;for(;B.overscaledZ>p;)if(B=B.scaledTo(B.overscaledZ-1),c[B.key]){x[L.key]=L;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const y=this._loadedParentTiles[c.key];return y&&y.tileID.overscaledZ>=p?y:null}for(let y=c.overscaledZ-1;y>=p;y--){const x=c.scaledTo(y),C=this._getLoadedTile(x);if(C)return C}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,y=Math.ceil(c.height/this._source.tileSize)+1,x=Math.floor(p*y*(this._maxTileCacheZoomLevels===null?a.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),C=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(C)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const y={};for(const x in this._tiles){const C=this._tiles[x];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+p),y[C.tileID.key]=C}this._tiles=y;for(const x in this._timers)clearTimeout(this._timers[x]),delete this._timers[x];for(const x in this._tiles)this._setTileReloadTimer(x,this._tiles[x])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let y;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(H=>new a.OverscaledTileID(H.canonical.z,H.wrap,H.canonical.z,H.canonical.x,H.canonical.y)):(y=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(y=y.filter(H=>this._source.hasTile(H)))):y=[];const x=c.coveringZoomLevel(this._source),C=Math.max(x-cr.maxOverzooming,this._source.minzoom),D=Math.max(x+cr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const H={};for(const Y of y)if(Y.canonical.z>this._source.minzoom){const ee=Y.scaledTo(Y.canonical.z-1);H[ee.key]=ee;const ue=Y.scaledTo(Math.max(this._source.minzoom,Math.min(Y.canonical.z,5)));H[ue.key]=ue}y=y.concat(Object.values(H))}const L=y.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,L&&this.fire(new a.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const B=this._updateRetainedTiles(y,x);if(an(this._source.type)){const H={},Y={},ee=Object.keys(B),ue=a.browser.now();for(const ce of ee){const ge=B[ce],le=this._tiles[ce];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=ue)continue;const $e=this.findLoadedParent(ge,C);$e&&(this._addTile($e.tileID),H[$e.tileID.key]=$e.tileID),Y[ce]=ge}this._retainLoadedChildren(Y,x,D,B);for(const ce in H)B[ce]||(this._coveredTiles[ce]=!0,B[ce]=H[ce]);if(p){const ce={},ge={};for(const le of y)this._tiles[le.key].hasData()?ce[le.key]=le:ge[le.key]=le;for(const le in ge){const $e=ge[le].children(this._source.maxzoom);this._tiles[$e[0].key]&&this._tiles[$e[1].key]&&this._tiles[$e[2].key]&&this._tiles[$e[3].key]&&(ce[$e[0].key]=B[$e[0].key]=$e[0],ce[$e[1].key]=B[$e[1].key]=$e[1],ce[$e[2].key]=B[$e[2].key]=$e[2],ce[$e[3].key]=B[$e[3].key]=$e[3],delete ge[le])}for(const le in ge){const $e=this.findLoadedParent(ge[le],this._source.minzoom);if($e){ce[$e.tileID.key]=B[$e.tileID.key]=$e.tileID;for(const We in ce)ce[We].isChildOf($e.tileID)&&delete ce[We]}}for(const le in this._tiles)ce[le]||(this._coveredTiles[le]=!0)}}for(const H in B)this._tiles[H].clearFadeHold();const q=a.keysDifference(this._tiles,B);for(const H of q){const Y=this._tiles[H];Y.hasSymbolBuckets&&!Y.holdingForFade()?Y.setHoldDuration(this.map._fadeDuration):Y.hasSymbolBuckets&&!Y.symbolFadeFinished()||this._removeTile(H)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const y={},x={},C=Math.max(p-cr.maxOverzooming,this._source.minzoom),D=Math.max(p+cr.maxUnderzooming,this._source.minzoom),L={};for(const B of c){const q=this._addTile(B);y[B.key]=B,q.hasData()||p<this._source.maxzoom&&(L[B.key]=B)}this._retainLoadedChildren(L,p,D,y);for(const B of c){let q=this._tiles[B.key];if(q.hasData())continue;if(p+1>this._source.maxzoom){const Y=B.children(this._source.maxzoom)[0],ee=this.getTile(Y);if(ee&&ee.hasData()){y[Y.key]=Y;continue}}else{const Y=B.children(this._source.maxzoom);if(y[Y[0].key]&&y[Y[1].key]&&y[Y[2].key]&&y[Y[3].key])continue}let H=q.wasRequested();for(let Y=B.overscaledZ-1;Y>=C;--Y){const ee=B.scaledTo(Y);if(x[ee.key])break;if(x[ee.key]=!0,q=this.getTile(ee),!q&&H&&(q=this._addTile(ee)),q){const ue=q.hasData();if((H||ue)&&(y[ee.key]=ee),H=q.wasRequested(),ue)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let y,x=this._tiles[c].tileID;for(;x.overscaledZ>0;){if(x.key in this._loadedParentTiles){y=this._loadedParentTiles[x.key];break}p.push(x.key);const C=x.scaledTo(x.overscaledZ-1);if(y=this._getLoadedTile(C),y)break;x=C}for(const C of p)this._loadedParentTiles[C]=y}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const y=p;return p||(p=new Vr(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,y||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const y=p.getExpiryTimeout();y&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},y))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,y){const x=[],C=this.transform;if(!C)return x;const D=y?C.getCameraQueryGeometry(c):c,L=c.map(ce=>C.pointCoordinate(ce,this.terrain)),B=D.map(ce=>C.pointCoordinate(ce,this.terrain)),q=this.getIds();let H=1/0,Y=1/0,ee=-1/0,ue=-1/0;for(const ce of B)H=Math.min(H,ce.x),Y=Math.min(Y,ce.y),ee=Math.max(ee,ce.x),ue=Math.max(ue,ce.y);for(let ce=0;ce<q.length;ce++){const ge=this._tiles[q[ce]];if(ge.holdingForFade())continue;const le=ge.tileID,$e=Math.pow(2,C.zoom-ge.tileID.overscaledZ),We=p*ge.queryPadding*a.EXTENT/ge.tileSize/$e,we=[le.getTilePoint(new a.MercatorCoordinate(H,Y)),le.getTilePoint(new a.MercatorCoordinate(ee,ue))];if(we[0].x-We<a.EXTENT&&we[0].y-We<a.EXTENT&&we[1].x+We>=0&&we[1].y+We>=0){const ze=L.map(Ze=>le.getTilePoint(Ze)),Ye=B.map(Ze=>le.getTilePoint(Ze));x.push({tile:ge,tileID:le,queryGeometry:ze,cameraQueryGeometry:Ye,scale:$e})}}return x}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(y=>this._tiles[y].tileID);for(const y of p)y.posMatrix=this.transform.calculatePosMatrix(y.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(an(this._source.type)){const c=a.browser.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,y){this._state.updateState(c=c||"_geojsonTileLayer",p,y)}removeFeatureState(c,p,y){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,y)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,y){const x=this._tiles[c];x&&x.setDependencies(p,y)}reloadTilesForDependencies(c,p){for(const y in this._tiles)this._tiles[y].hasDependency(c,p)&&this._reloadTile(y,"reloading");this._cache.filter(y=>!y.hasDependency(c,p))}}function Er(S,c){const p=Math.abs(2*S.wrap)-+(S.wrap<0),y=Math.abs(2*c.wrap)-+(c.wrap<0);return S.overscaledZ-c.overscaledZ||y-p||c.canonical.y-S.canonical.y||c.canonical.x-S.canonical.x}function an(S){return S==="raster"||S==="image"||S==="video"}cr.maxOverzooming=10,cr.maxUnderzooming=3;const ut="mapboxgl_preloaded_worker_pool";class Or{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Or.workerCount;)this.workers.push(new Worker(a.config.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ut]}numActive(){return Object.keys(this.active).length}}const Xr=Math.floor(a.browser.hardwareConcurrency/2);let mr;function Jt(){return mr||(mr=new Or),mr}Or.workerCount=a.isSafari(globalThis)?Math.max(Math.min(Xr,3),1):1;class Ke{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);let p=1,y=this._distances[p];const x=c*this.paddedLength+this.padding;for(;y<x&&p<this._distances.length;)y=this._distances[++p];const C=p-1,D=this._distances[C],L=y-D,B=L>0?(x-D)/L:0;return this.points[C].mult(1-B).add(this.points[p].mult(B))}}function At(S,c){let p=!0;return S==="always"||S!=="never"&&c!=="never"||(p=!1),p}class Rt{constructor(c,p,y){const x=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(c/y),this.yCellCount=Math.ceil(p/y);for(let D=0;D<this.xCellCount*this.yCellCount;D++)x.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,y,x,C){this._forEachCell(p,y,x,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(y),this.bboxes.push(x),this.bboxes.push(C)}insertCircle(c,p,y,x){this._forEachCell(p-x,y-x,p+x,y+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(y),this.circles.push(x)}_insertBoxCell(c,p,y,x,C,D){this.boxCells[C].push(D)}_insertCircleCell(c,p,y,x,C,D){this.circleCells[C].push(D)}_query(c,p,y,x,C,D,L){if(y<0||c>this.width||x<0||p>this.height)return[];const B=[];if(c<=0&&p<=0&&this.width<=y&&this.height<=x){if(C)return[{key:null,x1:c,y1:p,x2:y,y2:x}];for(let q=0;q<this.boxKeys.length;q++)B.push({key:this.boxKeys[q],x1:this.bboxes[4*q],y1:this.bboxes[4*q+1],x2:this.bboxes[4*q+2],y2:this.bboxes[4*q+3]});for(let q=0;q<this.circleKeys.length;q++){const H=this.circles[3*q],Y=this.circles[3*q+1],ee=this.circles[3*q+2];B.push({key:this.circleKeys[q],x1:H-ee,y1:Y-ee,x2:H+ee,y2:Y+ee})}}else this._forEachCell(c,p,y,x,this._queryCell,B,{hitTest:C,overlapMode:D,seenUids:{box:{},circle:{}}},L);return B}query(c,p,y,x){return this._query(c,p,y,x,!1,null)}hitTest(c,p,y,x,C,D){return this._query(c,p,y,x,!0,C,D).length>0}hitTestCircle(c,p,y,x,C){const D=c-y,L=c+y,B=p-y,q=p+y;if(L<0||D>this.width||q<0||B>this.height)return!1;const H=[];return this._forEachCell(D,B,L,q,this._queryCellCircle,H,{hitTest:!0,overlapMode:x,circle:{x:c,y:p,radius:y},seenUids:{box:{},circle:{}}},C),H.length>0}_queryCell(c,p,y,x,C,D,L,B){const{seenUids:q,hitTest:H,overlapMode:Y}=L,ee=this.boxCells[C];if(ee!==null){const ce=this.bboxes;for(const ge of ee)if(!q.box[ge]){q.box[ge]=!0;const le=4*ge,$e=this.boxKeys[ge];if(c<=ce[le+2]&&p<=ce[le+3]&&y>=ce[le+0]&&x>=ce[le+1]&&(!B||B($e))&&(!H||!At(Y,$e.overlapMode))&&(D.push({key:$e,x1:ce[le],y1:ce[le+1],x2:ce[le+2],y2:ce[le+3]}),H))return!0}}const ue=this.circleCells[C];if(ue!==null){const ce=this.circles;for(const ge of ue)if(!q.circle[ge]){q.circle[ge]=!0;const le=3*ge,$e=this.circleKeys[ge];if(this._circleAndRectCollide(ce[le],ce[le+1],ce[le+2],c,p,y,x)&&(!B||B($e))&&(!H||!At(Y,$e.overlapMode))){const We=ce[le],we=ce[le+1],ze=ce[le+2];if(D.push({key:$e,x1:We-ze,y1:we-ze,x2:We+ze,y2:we+ze}),H)return!0}}}return!1}_queryCellCircle(c,p,y,x,C,D,L,B){const{circle:q,seenUids:H,overlapMode:Y}=L,ee=this.boxCells[C];if(ee!==null){const ce=this.bboxes;for(const ge of ee)if(!H.box[ge]){H.box[ge]=!0;const le=4*ge,$e=this.boxKeys[ge];if(this._circleAndRectCollide(q.x,q.y,q.radius,ce[le+0],ce[le+1],ce[le+2],ce[le+3])&&(!B||B($e))&&!At(Y,$e.overlapMode))return D.push(!0),!0}}const ue=this.circleCells[C];if(ue!==null){const ce=this.circles;for(const ge of ue)if(!H.circle[ge]){H.circle[ge]=!0;const le=3*ge,$e=this.circleKeys[ge];if(this._circlesCollide(ce[le],ce[le+1],ce[le+2],q.x,q.y,q.radius)&&(!B||B($e))&&!At(Y,$e.overlapMode))return D.push(!0),!0}}}_forEachCell(c,p,y,x,C,D,L,B){const q=this._convertToXCellCoord(c),H=this._convertToYCellCoord(p),Y=this._convertToXCellCoord(y),ee=this._convertToYCellCoord(x);for(let ue=q;ue<=Y;ue++)for(let ce=H;ce<=ee;ce++)if(C.call(this,c,p,y,x,this.xCellCount*ce+ue,D,L,B))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,y,x,C,D){const L=x-c,B=C-p,q=y+D;return q*q>L*L+B*B}_circleAndRectCollide(c,p,y,x,C,D,L){const B=(D-x)/2,q=Math.abs(c-(x+B));if(q>B+y)return!1;const H=(L-C)/2,Y=Math.abs(p-(C+H));if(Y>H+y)return!1;if(q<=B||Y<=H)return!0;const ee=q-B,ue=Y-H;return ee*ee+ue*ue<=y*y}}function Jr(S,c,p,y,x){const C=a.create();return c?(a.scale(C,C,[1/x,1/x,1]),p||a.rotateZ(C,C,y.angle)):a.multiply(C,y.labelPlaneMatrix,S),C}function to(S,c,p,y,x){if(c){const C=a.clone(S);return a.scale(C,C,[x,x,1]),p||a.rotateZ(C,C,-y.angle),C}return y.glCoordMatrix}function Xt(S,c,p){let y;p?(y=[S.x,S.y,p(S.x,S.y),1],a.transformMat4(y,y,c)):(y=[S.x,S.y,0,1],_e(y,y,c));const x=y[3];return{point:new a.Point(y[0]/x,y[1]/x),signedDistanceFromCamera:x}}function po(S,c){return .5+S/c*.5}function jo(S,c){const p=S[0]/S[3],y=S[1]/S[3];return p>=-c[0]&&p<=c[0]&&y>=-c[1]&&y<=c[1]}function ka(S,c,p,y,x,C,D,L,B,q){const H=y?S.textSizeData:S.iconSizeData,Y=a.evaluateSizeForZoom(H,p.transform.zoom),ee=[256/p.width*2+1,256/p.height*2+1],ue=y?S.text.dynamicLayoutVertexArray:S.icon.dynamicLayoutVertexArray;ue.clear();const ce=S.lineVertexArray,ge=y?S.text.placedSymbolArray:S.icon.placedSymbolArray,le=p.transform.width/p.transform.height;let $e=!1;for(let We=0;We<ge.length;We++){const we=ge.get(We);if(we.hidden||we.writingMode===a.WritingMode.vertical&&!$e){se(we.numGlyphs,ue);continue}let ze;if($e=!1,q?(ze=[we.anchorX,we.anchorY,q(we.anchorX,we.anchorY),1],a.transformMat4(ze,ze,c)):(ze=[we.anchorX,we.anchorY,0,1],_e(ze,ze,c)),!jo(ze,ee)){se(we.numGlyphs,ue);continue}const Ye=po(p.transform.cameraToCenterDistance,ze[3]),Ze=a.evaluateSizeForFeature(H,Y,we),tt=D?Ze/Ye:Ze*Ye,dt=new a.Point(we.anchorX,we.anchorY),ot=Xt(dt,x,q).point,pt={projections:{},offsets:{}},jt=gi(we,tt,!1,L,c,x,C,S.glyphOffsetArray,ce,ue,ot,dt,pt,le,B,q);$e=jt.useVertical,(jt.notEnoughRoom||$e||jt.needsFlipping&&gi(we,tt,!0,L,c,x,C,S.glyphOffsetArray,ce,ue,ot,dt,pt,le,B,q).notEnoughRoom)&&se(we.numGlyphs,ue)}y?S.text.dynamicLayoutVertexBuffer.updateData(ue):S.icon.dynamicLayoutVertexBuffer.updateData(ue)}function mo(S,c,p,y,x,C,D,L,B,q,H,Y,ee){const ue=L.glyphStartIndex+L.numGlyphs,ce=L.lineStartIndex,ge=L.lineStartIndex+L.lineLength,le=c.getoffsetX(L.glyphStartIndex),$e=c.getoffsetX(ue-1),We=X(S*le,p,y,x,C,D,L.segment,ce,ge,B,q,H,Y,ee);if(!We)return null;const we=X(S*$e,p,y,x,C,D,L.segment,ce,ge,B,q,H,Y,ee);return we?{first:We,last:we}:null}function rs(S,c,p,y){return S===a.WritingMode.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*y?{useVertical:!0}:(S===a.WritingMode.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function gi(S,c,p,y,x,C,D,L,B,q,H,Y,ee,ue,ce,ge){const le=c/24,$e=S.lineOffsetX*le,We=S.lineOffsetY*le;let we;if(S.numGlyphs>1){const ze=S.glyphStartIndex+S.numGlyphs,Ye=S.lineStartIndex,Ze=S.lineStartIndex+S.lineLength,tt=mo(le,L,$e,We,p,H,Y,S,B,C,ee,ce,ge);if(!tt)return{notEnoughRoom:!0};const dt=Xt(tt.first.point,D,ge).point,ot=Xt(tt.last.point,D,ge).point;if(y&&!p){const pt=rs(S.writingMode,dt,ot,ue);if(pt)return pt}we=[tt.first];for(let pt=S.glyphStartIndex+1;pt<ze-1;pt++)we.push(X(le*L.getoffsetX(pt),$e,We,p,H,Y,S.segment,Ye,Ze,B,C,ee,ce,ge));we.push(tt.last)}else{if(y&&!p){const Ye=Xt(Y,x,ge).point,Ze=S.lineStartIndex+S.segment+1,tt=new a.Point(B.getx(Ze),B.gety(Ze)),dt=Xt(tt,x,ge),ot=dt.signedDistanceFromCamera>0?dt.point:Wr(Y,tt,Ye,1,x,ge),pt=rs(S.writingMode,Ye,ot,ue);if(pt)return pt}const ze=X(le*L.getoffsetX(S.glyphStartIndex),$e,We,p,H,Y,S.segment,S.lineStartIndex,S.lineStartIndex+S.lineLength,B,C,ee,ce,ge);if(!ze)return{notEnoughRoom:!0};we=[ze]}for(const ze of we)a.addDynamicAttributes(q,ze.point,ze.angle);return{}}function Wr(S,c,p,y,x,C){const D=Xt(S.add(S.sub(c)._unit()),x,C).point,L=p.sub(D);return p.add(L._mult(y/L.mag()))}function xl(S,c){const{projectionCache:p,lineVertexArray:y,labelPlaneMatrix:x,tileAnchorPoint:C,distanceFromAnchor:D,getElevation:L,previousVertex:B,direction:q,absOffsetX:H}=c;if(p.projections[S])return p.projections[S];const Y=new a.Point(y.getx(S),y.gety(S)),ee=Xt(Y,x,L);if(ee.signedDistanceFromCamera>0)return p.projections[S]=ee.point,ee.point;const ue=S-q;return Wr(D===0?C:new a.Point(y.getx(ue),y.gety(ue)),Y,B,H-D+1,x,L)}function Bo(S,c,p){return S._unit()._perp()._mult(c*p)}function me(S,c,p,y,x,C,D,L){const{projectionCache:B,direction:q}=L;if(B.offsets[S])return B.offsets[S];const H=p.add(c);if(S+q<y||S+q>=x)return B.offsets[S]=H,H;const Y=xl(S+q,L),ee=Bo(Y.sub(p),D,q),ue=p.add(ee),ce=Y.add(ee);return B.offsets[S]=a.findLineIntersection(C,H,ue,ce)||H,B.offsets[S]}function X(S,c,p,y,x,C,D,L,B,q,H,Y,ee,ue){const ce=y?S-c:S+c;let ge=ce>0?1:-1,le=0;y&&(ge*=-1,le=Math.PI),ge<0&&(le+=Math.PI);let $e,We,we=ge>0?L+D:L+D+1,ze=x,Ye=x,Ze=0,tt=0;const dt=Math.abs(ce),ot=[];let pt;for(;Ze+tt<=dt;){if(we+=ge,we<L||we>=B)return null;Ze+=tt,Ye=ze,We=$e;const xt={projectionCache:Y,lineVertexArray:q,labelPlaneMatrix:H,tileAnchorPoint:C,distanceFromAnchor:Ze,getElevation:ue,previousVertex:Ye,direction:ge,absOffsetX:dt};if(ze=xl(we,xt),p===0)ot.push(Ye),pt=ze.sub(Ye);else{let er;const $t=ze.sub(Ye);er=$t.mag()===0?Bo(xl(we+ge,xt).sub(ze),p,ge):Bo($t,p,ge),We||(We=Ye.add(er)),$e=me(we,er,ze,L,B,We,p,xt),ot.push(We),pt=$e.sub(We)}tt=pt.mag()}const jt=pt._mult((dt-Ze)/tt)._add(We||Ye),xr=le+Math.atan2(ze.y-Ye.y,ze.x-Ye.x);return ot.push(jt),{point:jt,angle:ee?xr:0,path:ot}}const Q=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(S,c){for(let p=0;p<S;p++){const y=c.length;c.resize(y+4),c.float32.set(Q,3*y)}}function _e(S,c,p){const y=c[0],x=c[1];return S[0]=p[0]*y+p[4]*x+p[12],S[1]=p[1]*y+p[5]*x+p[13],S[3]=p[3]*y+p[7]*x+p[15],S}const Te=100;class Le{constructor(c,p=new Rt(c.width+200,c.height+200,25),y=new Rt(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=y,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Te,this.screenBottomBoundary=c.height+Te,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,y,x,C,D){const L=this.projectAndGetPerspectiveRatio(x,c.anchorPointX,c.anchorPointY,D),B=y*L.perspectiveRatio,q=c.x1*B+L.point.x,H=c.y1*B+L.point.y,Y=c.x2*B+L.point.x,ee=c.y2*B+L.point.y;return!this.isInsideGrid(q,H,Y,ee)||p!=="always"&&this.grid.hitTest(q,H,Y,ee,p,C)||L.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[q,H,Y,ee],offscreen:this.isOffscreen(q,H,Y,ee)}}placeCollisionCircles(c,p,y,x,C,D,L,B,q,H,Y,ee,ue,ce){const ge=[],le=new a.Point(p.anchorX,p.anchorY),$e=Xt(le,D,ce),We=po(this.transform.cameraToCenterDistance,$e.signedDistanceFromCamera),we=(H?C/We:C*We)/a.ONE_EM,ze=Xt(le,L,ce).point,Ye=mo(we,x,p.lineOffsetX*we,p.lineOffsetY*we,!1,ze,le,p,y,L,{projections:{},offsets:{}},!1,ce);let Ze=!1,tt=!1,dt=!0;if(Ye){const ot=.5*ee*We+ue,pt=new a.Point(-100,-100),jt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),xr=new Ke,xt=Ye.first,er=Ye.last;let $t=[];for(let dr=xt.path.length-1;dr>=1;dr--)$t.push(xt.path[dr]);for(let dr=1;dr<er.path.length;dr++)$t.push(er.path[dr]);const sn=2.5*ot;if(B){const dr=$t.map(tr=>Xt(tr,B,ce));$t=dr.some(tr=>tr.signedDistanceFromCamera<=0)?[]:dr.map(tr=>tr.point)}let vr=[];if($t.length>0){const dr=$t[0].clone(),tr=$t[0].clone();for(let Bn=1;Bn<$t.length;Bn++)dr.x=Math.min(dr.x,$t[Bn].x),dr.y=Math.min(dr.y,$t[Bn].y),tr.x=Math.max(tr.x,$t[Bn].x),tr.y=Math.max(tr.y,$t[Bn].y);vr=dr.x>=pt.x&&tr.x<=jt.x&&dr.y>=pt.y&&tr.y<=jt.y?[$t]:tr.x<pt.x||dr.x>jt.x||tr.y<pt.y||dr.y>jt.y?[]:a.clipLine([$t],pt.x,pt.y,jt.x,jt.y)}for(const dr of vr){xr.reset(dr,.25*ot);let tr=0;tr=xr.length<=.5*ot?1:Math.ceil(xr.paddedLength/sn)+1;for(let Bn=0;Bn<tr;Bn++){const Hr=Bn/Math.max(tr-1,1),ro=xr.lerp(Hr),Ei=ro.x+Te,ri=ro.y+Te;ge.push(Ei,ri,ot,0);const yo=Ei-ot,Aa=ri-ot,Fs=Ei+ot,Us=ri+ot;if(dt=dt&&this.isOffscreen(yo,Aa,Fs,Us),tt=tt||this.isInsideGrid(yo,Aa,Fs,Us),c!=="always"&&this.grid.hitTestCircle(Ei,ri,ot,c,Y)&&(Ze=!0,!q))return{circles:[],offscreen:!1,collisionDetected:Ze}}}}return{circles:!q&&Ze||!tt||We<this.perspectiveRatioCutoff?[]:ge,offscreen:dt,collisionDetected:Ze}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let y=1/0,x=1/0,C=-1/0,D=-1/0;for(const H of c){const Y=new a.Point(H.x+Te,H.y+Te);y=Math.min(y,Y.x),x=Math.min(x,Y.y),C=Math.max(C,Y.x),D=Math.max(D,Y.y),p.push(Y)}const L=this.grid.query(y,x,C,D).concat(this.ignoredGrid.query(y,x,C,D)),B={},q={};for(const H of L){const Y=H.key;if(B[Y.bucketInstanceId]===void 0&&(B[Y.bucketInstanceId]={}),B[Y.bucketInstanceId][Y.featureIndex])continue;const ee=[new a.Point(H.x1,H.y1),new a.Point(H.x2,H.y1),new a.Point(H.x2,H.y2),new a.Point(H.x1,H.y2)];a.polygonIntersectsPolygon(p,ee)&&(B[Y.bucketInstanceId][Y.featureIndex]=!0,q[Y.bucketInstanceId]===void 0&&(q[Y.bucketInstanceId]=[]),q[Y.bucketInstanceId].push(Y.featureIndex))}return q}insertCollisionBox(c,p,y,x,C,D){(y?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:C,collisionGroupID:D,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,y,x,C,D){const L=y?this.ignoredGrid:this.grid,B={bucketInstanceId:x,featureIndex:C,collisionGroupID:D,overlapMode:p};for(let q=0;q<c.length;q+=4)L.insertCircle(B,c[q],c[q+1],c[q+2])}projectAndGetPerspectiveRatio(c,p,y,x){let C;return x?(C=[p,y,x(p,y),1],a.transformMat4(C,C,c)):(C=[p,y,0,1],_e(C,C,c)),{point:new a.Point((C[0]/C[3]+1)/2*this.transform.width+Te,(-C[1]/C[3]+1)/2*this.transform.height+Te),perspectiveRatio:.5+this.transform.cameraToCenterDistance/C[3]*.5}}isOffscreen(c,p,y,x){return y<Te||c>=this.screenRightBoundary||x<Te||p>this.screenBottomBoundary}isInsideGrid(c,p,y,x){return y>=0&&c<this.gridRightBoundary&&x>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c}}function Ae(S,c,p){return c*(a.EXTENT/(S.tileSize*Math.pow(2,p-S.tileID.overscaledZ)))}class ke{constructor(c,p,y,x){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):x&&y?1:0,this.placed=y}isHidden(){return this.opacity===0&&!this.placed}}class je{constructor(c,p,y,x,C){this.text=new ke(c?c.text:null,p,y,C),this.icon=new ke(c?c.icon:null,p,x,C)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Qe{constructor(c,p,y){this.text=c,this.icon=p,this.skipFade=y}}class et{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class it{constructor(c,p,y,x,C){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=y,this.bucketIndex=x,this.tileID=C}}class Vt{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:y=>y.collisionGroupID===p}}return this.collisionGroups[c]}}function nr(S,c,p,y,x){const{horizontalAlign:C,verticalAlign:D}=a.getAnchorAlignment(S);return new a.Point(-(C-.5)*c+y[0]*x,-(D-.5)*p+y[1]*x)}function Dt(S,c,p,y,x,C){const{x1:D,x2:L,y1:B,y2:q,anchorPointX:H,anchorPointY:Y}=S,ee=new a.Point(c,p);return y&&ee._rotate(x?C:-C),{x1:D+ee.x,y1:B+ee.y,x2:L+ee.x,y2:q+ee.y,anchorPointX:H,anchorPointY:Y}}class Wt{constructor(c,p,y,x,C){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new Le(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new Vt(x),this.collisionCircleArrays={},this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,y,x){const C=y.getBucket(p),D=y.latestFeatureIndex;if(!C||!D||p.id!==C.layerIds[0])return;const L=y.collisionBoxArray,B=C.layers[0].layout,q=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),H=y.tileSize/a.EXTENT,Y=this.transform.calculatePosMatrix(y.tileID.toUnwrapped()),ee=B.get("text-pitch-alignment")==="map",ue=B.get("text-rotation-alignment")==="map",ce=Ae(y,1,this.transform.zoom),ge=Jr(Y,ee,ue,this.transform,ce);let le=null;if(ee){const We=to(Y,ee,ue,this.transform,ce);le=a.multiply([],this.transform.labelPlaneMatrix,We)}this.retainedQueryData[C.bucketInstanceId]=new it(C.bucketInstanceId,D,C.sourceLayerIndex,C.index,y.tileID);const $e={bucket:C,layout:B,posMatrix:Y,textLabelPlaneMatrix:ge,labelToScreenMatrix:le,scale:q,textPixelRatio:H,holdingForFade:y.holdingForFade(),collisionBoxArray:L,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(C.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(x)for(const We of C.sortKeyRanges){const{sortKey:we,symbolInstanceStart:ze,symbolInstanceEnd:Ye}=We;c.push({sortKey:we,symbolInstanceStart:ze,symbolInstanceEnd:Ye,parameters:$e})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:$e})}attemptAnchorPlacement(c,p,y,x,C,D,L,B,q,H,Y,ee,ue,ce,ge,le){const $e=a.TextAnchorEnum[c.textAnchor],We=[c.textOffset0,c.textOffset1],we=nr($e,y,x,We,C),ze=this.collisionIndex.placeCollisionBox(Dt(p,we.x,we.y,D,L,this.transform.angle),Y,B,q,H.predicate,le);if((!ge||this.collisionIndex.placeCollisionBox(Dt(ge,we.x,we.y,D,L,this.transform.angle),Y,B,q,H.predicate,le).box.length!==0)&&ze.box.length>0){let Ye;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(Ye=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ee.crossTileID]={textOffset:We,width:y,height:x,anchor:$e,textBoxScale:C,prevAnchor:Ye},this.markUsedJustification(ue,$e,ee,ce),ue.allowVerticalPlacement&&(this.markUsedOrientation(ue,ce,ee),this.placedOrientations[ee.crossTileID]=ce),{shift:we,placedGlyphBoxes:ze}}}placeLayerBucketPart(c,p,y){const{bucket:x,layout:C,posMatrix:D,textLabelPlaneMatrix:L,labelToScreenMatrix:B,textPixelRatio:q,holdingForFade:H,collisionBoxArray:Y,partiallyEvaluatedTextSize:ee,collisionGroup:ue}=c.parameters,ce=C.get("text-optional"),ge=C.get("icon-optional"),le=a.getOverlapMode(C,"text-overlap","text-allow-overlap"),$e=le==="always",We=a.getOverlapMode(C,"icon-overlap","icon-allow-overlap"),we=We==="always",ze=C.get("text-rotation-alignment")==="map",Ye=C.get("text-pitch-alignment")==="map",Ze=C.get("icon-text-fit")!=="none",tt=C.get("symbol-z-order")==="viewport-y",dt=$e&&(we||!x.hasIconData()||ge),ot=we&&($e||!x.hasTextData()||ce);!x.collisionArrays&&Y&&x.deserializeCollisionBoxes(Y);const pt=this.retainedQueryData[x.bucketInstanceId].tileID,jt=this.terrain?(xt,er)=>this.terrain.getElevation(pt,xt,er):null,xr=(xt,er)=>{var $t,sn;if(p[xt.crossTileID])return;if(H)return void(this.placements[xt.crossTileID]=new Qe(!1,!1,!1));let vr=!1,dr=!1,tr=!0,Bn=null,Hr={box:null,offscreen:null},ro={box:null,offscreen:null},Ei=null,ri=null,yo=null,Aa=0,Fs=0,Us=0;er.textFeatureIndex?Aa=er.textFeatureIndex:xt.useRuntimeCollisionCircles&&(Aa=xt.featureIndex),er.verticalTextFeatureIndex&&(Fs=er.verticalTextFeatureIndex);const Tl=er.textBox;if(Tl){const Ci=ci=>{let ki=a.WritingMode.horizontal;if(x.allowVerticalPlacement&&!ci&&this.prevPlacement){const vo=this.prevPlacement.placedOrientations[xt.crossTileID];vo&&(this.placedOrientations[xt.crossTileID]=vo,ki=vo,this.markUsedOrientation(x,ki,xt))}return ki},Fn=(ci,ki)=>{if(x.allowVerticalPlacement&&xt.numVerticalGlyphVertices>0&&er.verticalTextBox){for(const vo of x.writingModes)if(vo===a.WritingMode.vertical?(Hr=ki(),ro=Hr):Hr=ci(),Hr&&Hr.box&&Hr.box.length)break}else Hr=ci()},Ti=xt.textAnchorOffsetStartIndex,Tu=xt.textAnchorOffsetEndIndex;if(Tu===Ti){const ci=(ki,vo)=>{const Mn=this.collisionIndex.placeCollisionBox(ki,le,q,D,ue.predicate,jt);return Mn&&Mn.box&&Mn.box.length&&(this.markUsedOrientation(x,vo,xt),this.placedOrientations[xt.crossTileID]=vo),Mn};Fn(()=>ci(Tl,a.WritingMode.horizontal),()=>{const ki=er.verticalTextBox;return x.allowVerticalPlacement&&xt.numVerticalGlyphVertices>0&&ki?ci(ki,a.WritingMode.vertical):{box:null,offscreen:null}}),Ci(Hr&&Hr.box&&Hr.box.length)}else{let ci=a.TextAnchorEnum[(sn=($t=this.prevPlacement)===null||$t===void 0?void 0:$t.variableOffsets[xt.crossTileID])===null||sn===void 0?void 0:sn.anchor];const ki=(Mn,ku,Vs)=>{const Ma=Mn.x2-Mn.x1,Pl=Mn.y2-Mn.y1,kx=xt.textBoxScale,Sc=Ze&&We==="never"?ku:null;let Pu={box:[],offscreen:!1},uy=le==="never"?1:2,On="never";ci&&uy++;for(let Xh=0;Xh<uy;Xh++){for(let Jh=Ti;Jh<Tu;Jh++){const Al=x.textAnchorOffsets.get(Jh);if(ci&&Al.textAnchor!==ci)continue;const Ws=this.attemptAnchorPlacement(Al,Mn,Ma,Pl,kx,ze,Ye,q,D,ue,On,xt,x,Vs,Sc,jt);if(Ws&&(Pu=Ws.placedGlyphBoxes,Pu&&Pu.box&&Pu.box.length))return vr=!0,Bn=Ws.shift,Pu}ci?ci=null:On=le}return Pu};Fn(()=>ki(Tl,er.iconBox,a.WritingMode.horizontal),()=>{const Mn=er.verticalTextBox;return x.allowVerticalPlacement&&!(Hr&&Hr.box&&Hr.box.length)&&xt.numVerticalGlyphVertices>0&&Mn?ki(Mn,er.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Hr&&(vr=Hr.box,tr=Hr.offscreen);const vo=Ci(Hr&&Hr.box);if(!vr&&this.prevPlacement){const Mn=this.prevPlacement.variableOffsets[xt.crossTileID];Mn&&(this.variableOffsets[xt.crossTileID]=Mn,this.markUsedJustification(x,Mn.anchor,xt,vo))}}}if(Ei=Hr,vr=Ei&&Ei.box&&Ei.box.length>0,tr=Ei&&Ei.offscreen,xt.useRuntimeCollisionCircles){const Ci=x.text.placedSymbolArray.get(xt.centerJustifiedTextSymbolIndex),Fn=a.evaluateSizeForFeature(x.textSizeData,ee,Ci),Ti=C.get("text-padding");ri=this.collisionIndex.placeCollisionCircles(le,Ci,x.lineVertexArray,x.glyphOffsetArray,Fn,D,L,B,y,Ye,ue.predicate,xt.collisionCircleDiameter,Ti,jt),ri.circles.length&&ri.collisionDetected&&!y&&a.warnOnce("Collisions detected, but collision boxes are not shown"),vr=$e||ri.circles.length>0&&!ri.collisionDetected,tr=tr&&ri.offscreen}if(er.iconFeatureIndex&&(Us=er.iconFeatureIndex),er.iconBox){const Ci=Fn=>{const Ti=Ze&&Bn?Dt(Fn,Bn.x,Bn.y,ze,Ye,this.transform.angle):Fn;return this.collisionIndex.placeCollisionBox(Ti,We,q,D,ue.predicate,jt)};ro&&ro.box&&ro.box.length&&er.verticalIconBox?(yo=Ci(er.verticalIconBox),dr=yo.box.length>0):(yo=Ci(er.iconBox),dr=yo.box.length>0),tr=tr&&yo.offscreen}const wc=ce||xt.numHorizontalGlyphVertices===0&&xt.numVerticalGlyphVertices===0,kl=ge||xt.numIconVertices===0;if(wc||kl?kl?wc||(dr=dr&&vr):vr=dr&&vr:dr=vr=dr&&vr,vr&&Ei&&Ei.box&&this.collisionIndex.insertCollisionBox(Ei.box,le,C.get("text-ignore-placement"),x.bucketInstanceId,ro&&ro.box&&Fs?Fs:Aa,ue.ID),dr&&yo&&this.collisionIndex.insertCollisionBox(yo.box,We,C.get("icon-ignore-placement"),x.bucketInstanceId,Us,ue.ID),ri&&(vr&&this.collisionIndex.insertCollisionCircles(ri.circles,le,C.get("text-ignore-placement"),x.bucketInstanceId,Aa,ue.ID),y)){const Ci=x.bucketInstanceId;let Fn=this.collisionCircleArrays[Ci];Fn===void 0&&(Fn=this.collisionCircleArrays[Ci]=new et);for(let Ti=0;Ti<ri.circles.length;Ti+=4)Fn.circles.push(ri.circles[Ti+0]),Fn.circles.push(ri.circles[Ti+1]),Fn.circles.push(ri.circles[Ti+2]),Fn.circles.push(ri.collisionDetected?1:0)}if(xt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(x.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[xt.crossTileID]=new Qe(vr||dt,dr||ot,tr||x.justReloaded),p[xt.crossTileID]=!0};if(tt){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const xt=x.getSortedSymbolIndexes(this.transform.angle);for(let er=xt.length-1;er>=0;--er){const $t=xt[er];xr(x.symbolInstances.get($t),x.collisionArrays[$t])}}else for(let xt=c.symbolInstanceStart;xt<c.symbolInstanceEnd;xt++)xr(x.symbolInstances.get(xt),x.collisionArrays[xt]);if(y&&x.bucketInstanceId in this.collisionCircleArrays){const xt=this.collisionCircleArrays[x.bucketInstanceId];a.invert(xt.invProjMatrix,D),xt.viewportMatrix=this.collisionIndex.getViewportMatrix()}x.justReloaded=!1}markUsedJustification(c,p,y,x){let C;C=x===a.WritingMode.vertical?y.verticalPlacedTextSymbolIndex:{left:y.leftJustifiedTextSymbolIndex,center:y.centerJustifiedTextSymbolIndex,right:y.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];const D=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex,y.verticalPlacedTextSymbolIndex];for(const L of D)L>=0&&(c.text.placedSymbolArray.get(L).crossTileID=C>=0&&L!==C?0:y.crossTileID)}markUsedOrientation(c,p,y){const x=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,C=p===a.WritingMode.vertical?p:0,D=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex];for(const L of D)c.text.placedSymbolArray.get(L).placedOrientation=x;y.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(y.verticalPlacedTextSymbolIndex).placedOrientation=C)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let y=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const x=p?p.symbolFadeChange(c):1,C=p?p.opacities:{},D=p?p.variableOffsets:{},L=p?p.placedOrientations:{};for(const B in this.placements){const q=this.placements[B],H=C[B];H?(this.opacities[B]=new je(H,x,q.text,q.icon),y=y||q.text!==H.text.placed||q.icon!==H.icon.placed):(this.opacities[B]=new je(null,x,q.text,q.icon,q.skipFade),y=y||q.text||q.icon)}for(const B in C){const q=C[B];if(!this.opacities[B]){const H=new je(q,x,!1,!1);H.isHidden()||(this.opacities[B]=H,y=y||q.text.placed||q.icon.placed)}}for(const B in D)this.variableOffsets[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.variableOffsets[B]=D[B]);for(const B in L)this.placedOrientations[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.placedOrientations[B]=L[B]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");y?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const y={};for(const x of p){const C=x.getBucket(c);C&&x.latestFeatureIndex&&c.id===C.layerIds[0]&&this.updateBucketOpacities(C,y,x.collisionBoxArray)}}updateBucketOpacities(c,p,y){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const x=c.layers[0],C=x.layout,D=new je(null,0,!1,!1,!0),L=C.get("text-allow-overlap"),B=C.get("icon-allow-overlap"),q=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),H=C.get("text-rotation-alignment")==="map",Y=C.get("text-pitch-alignment")==="map",ee=C.get("icon-text-fit")!=="none",ue=new je(null,0,L&&(B||!c.hasIconData()||C.get("icon-optional")),B&&(L||!c.hasTextData()||C.get("text-optional")),!0);!c.collisionArrays&&y&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(y);const ce=(ge,le,$e)=>{for(let We=0;We<le/4;We++)ge.opacityVertexArray.emplaceBack($e);ge.hasVisibleVertices=ge.hasVisibleVertices||$e!==Zn};for(let ge=0;ge<c.symbolInstances.length;ge++){const le=c.symbolInstances.get(ge),{numHorizontalGlyphVertices:$e,numVerticalGlyphVertices:We,crossTileID:we}=le;let ze=this.opacities[we];p[we]?ze=D:ze||(ze=ue,this.opacities[we]=ze),p[we]=!0;const Ye=le.numIconVertices>0,Ze=this.placedOrientations[le.crossTileID],tt=Ze===a.WritingMode.vertical,dt=Ze===a.WritingMode.horizontal||Ze===a.WritingMode.horizontalOnly;if($e>0||We>0){const ot=Ri(ze.text);ce(c.text,$e,tt?Zn:ot),ce(c.text,We,dt?Zn:ot);const pt=ze.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(xt=>{xt>=0&&(c.text.placedSymbolArray.get(xt).hidden=pt||tt?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=pt||dt?1:0);const jt=this.variableOffsets[le.crossTileID];jt&&this.markUsedJustification(c,jt.anchor,le,Ze);const xr=this.placedOrientations[le.crossTileID];xr&&(this.markUsedJustification(c,"left",le,xr),this.markUsedOrientation(c,xr,le))}if(Ye){const ot=Ri(ze.icon),pt=!(ee&&le.verticalPlacedIconSymbolIndex&&tt);le.placedIconSymbolIndex>=0&&(ce(c.icon,le.numIconVertices,pt?ot:Zn),c.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=ze.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ce(c.icon,le.numVerticalIconVertices,pt?Zn:ot),c.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=ze.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const ot=c.collisionArrays[ge];if(ot){let pt=new a.Point(0,0);if(ot.textBox||ot.verticalTextBox){let xr=!0;if(q){const xt=this.variableOffsets[we];xt?(pt=nr(xt.anchor,xt.width,xt.height,xt.textOffset,xt.textBoxScale),H&&pt._rotate(Y?this.transform.angle:-this.transform.angle)):xr=!1}ot.textBox&&rr(c.textCollisionBox.collisionVertexArray,ze.text.placed,!xr||tt,pt.x,pt.y),ot.verticalTextBox&&rr(c.textCollisionBox.collisionVertexArray,ze.text.placed,!xr||dt,pt.x,pt.y)}const jt=!!(!dt&&ot.verticalIconBox);ot.iconBox&&rr(c.iconCollisionBox.collisionVertexArray,ze.icon.placed,jt,ee?pt.x:0,ee?pt.y:0),ot.verticalIconBox&&rr(c.iconCollisionBox.collisionVertexArray,ze.icon.placed,!jt,ee?pt.x:0,ee?pt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ge.invProjMatrix,c.placementViewportMatrix=ge.viewportMatrix,c.collisionCircleArray=ge.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const y=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*y>c}setStale(){this.stale=!0}}function rr(S,c,p,y,x){S.emplaceBack(c?1:0,p?1:0,y||0,x||0),S.emplaceBack(c?1:0,p?1:0,y||0,x||0),S.emplaceBack(c?1:0,p?1:0,y||0,x||0),S.emplaceBack(c?1:0,p?1:0,y||0,x||0)}const Pr=Math.pow(2,25),Br=Math.pow(2,24),gr=Math.pow(2,17),Ar=Math.pow(2,16),Fi=Math.pow(2,9),mt=Math.pow(2,8),$r=Math.pow(2,1);function Ri(S){if(S.opacity===0&&!S.placed)return 0;if(S.opacity===1&&S.placed)return 4294967295;const c=S.placed?1:0,p=Math.floor(127*S.opacity);return p*Pr+c*Br+p*gr+c*Ar+p*Fi+c*mt+p*$r+c}const Zn=0;class Fo{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,y,x,C){const D=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(D,x,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((L,B)=>L.sortKey-B.sortKey));this._currentPartIndex<D.length;)if(p.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,y),this._currentPartIndex++,C())return!0;return!1}}class zE{constructor(c,p,y,x,C,D,L,B){this.placement=new Wt(c,p,D,L,B),this._currentPlacementIndex=y.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=C,this._done=!1}isDone(){return this._done}continuePlacement(c,p,y){const x=a.browser.now(),C=()=>!this._forceFullPlacement&&a.browser.now()-x>2;for(;this._currentPlacementIndex>=0;){const D=p[c[this._currentPlacementIndex]],L=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=L)&&(!D.maxzoom||D.maxzoom>L)){if(this._inProgressLayer||(this._inProgressLayer=new Fo(D)),this._inProgressLayer.continuePlacement(y[D.source],this.placement,this._showCollisionBoxes,D,C))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Ui=512/a.EXTENT/2;class aa{constructor(c,p,y){this.tileID=c,this.bucketInstanceId=y,this._symbolsByKey={};const x=new Map;for(let C=0;C<p.length;C++){const D=p.get(C),L=D.key,B=x.get(L);B?B.push(D):x.set(L,[D])}for(const[C,D]of x){const L={positions:D.map(B=>({x:Math.floor(B.anchorX*Ui),y:Math.floor(B.anchorY*Ui)})),crossTileIDs:D.map(B=>B.crossTileID)};if(L.positions.length>128){const B=new a.KDBush(L.positions.length,16,Uint16Array);for(const{x:q,y:H}of L.positions)B.add(q,H);B.finish(),delete L.positions,L.index=B}this._symbolsByKey[C]=L}}getScaledCoordinates(c,p){const{x:y,y:x,z:C}=this.tileID.canonical,{x:D,y:L,z:B}=p.canonical,q=Ui/Math.pow(2,B-C),H=(L*a.EXTENT+c.anchorY)*q,Y=x*a.EXTENT*Ui;return{x:Math.floor((D*a.EXTENT+c.anchorX)*q-y*a.EXTENT*Ui),y:Math.floor(H-Y)}}findMatches(c,p,y){const x=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let C=0;C<c.length;C++){const D=c.get(C);if(D.crossTileID)continue;const L=this._symbolsByKey[D.key];if(!L)continue;const B=this.getScaledCoordinates(D,p);if(L.index){const q=L.index.range(B.x-x,B.y-x,B.x+x,B.y+x).sort();for(const H of q){const Y=L.crossTileIDs[H];if(!y[Y]){y[Y]=!0,D.crossTileID=Y;break}}}else if(L.positions)for(let q=0;q<L.positions.length;q++){const H=L.positions[q],Y=L.crossTileIDs[q];if(Math.abs(H.x-B.x)<=x&&Math.abs(H.y-B.y)<=x&&!y[Y]){y[Y]=!0,D.crossTileID=Y;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class G_{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class yh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const y in this.indexes){const x=this.indexes[y],C={};for(const D in x){const L=x[D];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+p),C[L.tileID.key]=L}this.indexes[y]=C}this.lng=c}addBucket(c,p,y){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let C=0;C<p.symbolInstances.length;C++)p.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const x=this.usedCrossTileIDs[c.overscaledZ];for(const C in this.indexes){const D=this.indexes[C];if(Number(C)>c.overscaledZ)for(const L in D){const B=D[L];B.tileID.isChildOf(c)&&B.findMatches(p.symbolInstances,c,x)}else{const L=D[c.scaledTo(Number(C)).key];L&&L.findMatches(p.symbolInstances,c,x)}}for(let C=0;C<p.symbolInstances.length;C++){const D=p.symbolInstances.get(C);D.crossTileID||(D.crossTileID=y.generate(),x[D.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new aa(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const y of p.getCrossTileIDsLists())for(const x of y)delete this.usedCrossTileIDs[c][x]}removeStaleBuckets(c){let p=!1;for(const y in this.indexes){const x=this.indexes[y];for(const C in x)c[x[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,x[C]),delete x[C],p=!0)}return p}}class Xn{constructor(){this.layerIndexes={},this.crossTileIDs=new G_,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,y){let x=this.layerIndexes[c.id];x===void 0&&(x=this.layerIndexes[c.id]=new yh);let C=!1;const D={};x.handleWrapJump(y);for(const L of p){const B=L.getBucket(c);B&&c.id===B.layerIds[0]&&(B.bucketInstanceId||(B.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(L.tileID,B,this.crossTileIDs)&&(C=!0),D[B.bucketInstanceId]=!0)}return x.removeStaleBuckets(D)&&(C=!0),C}pruneUnusedLayers(c){const p={};c.forEach(y=>{p[y]=!0});for(const y in this.layerIndexes)p[y]||delete this.layerIndexes[y]}}const bl=(S,c)=>a.emitValidationErrors(S,c&&c.filter(p=>p.identifier!=="source.canvas")),cc=a.pick(a.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Jn=a.pick(a.operations,["setCenter","setZoom","setBearing","setPitch"]),vh=a.emptyStyle();class Vi extends a.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new Ee(Jt(),this,c._getMapId()),this.imageManager=new de,this.imageManager.setEventedParent(this),this.glyphManager=new he(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new Xe(256,512),this.crossTileSymbolIndex=new Xn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const y=this;this._rtlTextPluginCallback=Vi.registerForPluginStateChange(x=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(C,D)=>{if(a.triggerPluginCompletionEvent(C),D&&D.every(L=>L))for(const L in y.sourceCaches){const B=y.sourceCaches[L].getSource().type;B!=="vector"&&B!=="geojson"||y.sourceCaches[L].reload()}})}),this.on("data",x=>{if(x.dataType!=="source"||x.sourceDataType!=="metadata")return;const C=this.sourceCaches[x.sourceId];if(!C)return;const D=C.getSource();if(D&&D.vectorLayerIds)for(const L in this._layers){const B=this._layers[L];B.source===D.id&&this._validateLayer(B)}})}loadURL(c,p={},y){this.fire(new a.Event("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const x=this.map._requestManager.transformRequest(c,O.Style);this._request=a.getJSON(x,(C,D)=>{this._request=null,C?this.fire(new a.ErrorEvent(C)):D&&this._load(D,p,y)})}loadJSON(c,p={},y){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,y)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(vh,{validate:!1})}_load(c,p,y){const x=p.transformStyle?p.transformStyle(y,c):c;if(!p.validate||!bl(this,a.validateStyle(x))){this._loaded=!0,this.stylesheet=x;for(const C in x.sources)this.addSource(C,x.sources[C],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new Ie(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}}_createLayers(){const c=a.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const y=a.createStyleLayer(p);y.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=y}}_loadSprite(c,p=!1,y=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(x,C,D,L){const B=Z(x),q=B.length,H=D>1?"@2x":"",Y={},ee={},ue={};for(const{id:ce,url:ge}of B){const le=C.transformRequest(C.normalizeSpriteURL(ge,H,".json"),O.SpriteJSON),$e=`${ce}_${le.url}`;Y[$e]=a.getJSON(le,(ze,Ye)=>{delete Y[$e],ee[ce]=Ye,ie(L,ee,ue,ze,q)});const We=C.transformRequest(C.normalizeSpriteURL(ge,H,".png"),O.SpriteImage),we=`${ce}_${We.url}`;Y[we]=P.getImage(We,(ze,Ye)=>{delete Y[we],ue[ce]=Ye,ie(L,ee,ue,ze,q)})}return{cancel(){for(const ce of Object.values(Y))ce.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(x,C)=>{if(this._spriteRequest=null,x)this.fire(new a.ErrorEvent(x));else if(C)for(const D in C){this._spritesImagesIds[D]=[];const L=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(B=>!(B in C)):[];for(const B of L)this.imageManager.removeImage(B),this._changedImages[B]=!0;for(const B in C[D]){const q=D==="default"?B:`${D}:${B}`;this._spritesImagesIds[D].push(q),q in this.imageManager.images?this.imageManager.updateImage(q,C[D][B],!1):this.imageManager.addImage(q,C[D][B]),p&&(this._changedImages[q]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"})),y&&y(x)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const y=c.sourceLayer;if(!y)return;const x=p.getSource();(x.type==="geojson"||x.vectorLayerIds&&x.vectorLayerIds.indexOf(y)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${x.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const y=[];for(const x of c)p[x]&&y.push(p[x]);return y}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const y of p){const x=this._layers[y];x.type!=="custom"&&(c[y]=x.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),C=Object.keys(this._removedLayers);(x.length||C.length)&&this._updateWorkerLayers(x,C);for(const D in this._updatedSources){const L=this._updatedSources[D];if(L==="reload")this._reloadSource(D);else{if(L!=="clear")throw new Error(`Invalid action ${L}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const y={};for(const x in this.sourceCaches){const C=this.sourceCaches[x];y[x]=C.used,C.used=!1}for(const x of this._order){const C=this._layers[x];C.recalculate(c,this._availableImages),!C.isHidden(c.zoom)&&C.source&&(this.sourceCaches[C.source].used=!0)}for(const x in y){const C=this.sourceCaches[x];y[x]!==C.used&&C.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:x}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const y=this.serialize();if(c=p.transformStyle?p.transformStyle(y,c):c,bl(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=a.derefLayers(c.layers);const x=a.diffStyles(y,c).filter(D=>!(D.command in Jn));if(x.length===0)return!1;const C=x.filter(D=>!(D.command in cc));if(C.length>0)throw new Error(`Unimplemented: ${C.map(D=>D.command).join(", ")}.`);for(const D of x)D.command!=="setTransition"&&this[D.command].apply(this,D.args);return this.stylesheet=c,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,y={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.validateStyle.source,`sources.${c}`,p,null,y))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const x=this.sourceCaches[c]=new cr(c,p,this.dispatcher);x.style=this,x.setEventedParent(this,()=>({isSourceLoaded:x.loaded(),source:x.serialize(),sourceId:c})),x.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const y in this._layers)if(this._layers[y].source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${y}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const y=this.sourceCaches[c].getSource();if(y.type!=="geojson")throw new Error(`geojsonSource.type is ${y.type}, which is !== 'geojson`);y.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,y={}){this._checkLoaded();const x=c.id;if(this.getLayer(x))return void this.fire(new a.ErrorEvent(new Error(`Layer "${x}" already exists on this map.`)));let C;if(c.type==="custom"){if(bl(this,a.validateCustomStyleLayer(c)))return;C=a.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(x,c.source),c=a.clone$1(c),c=a.extend(c,{source:x})),this._validate(a.validateStyle.layer,`layers.${x}`,c,{arrayIndex:-1},y))return;C=a.createStyleLayer(c),this._validateLayer(C),C.setEventedParent(this,{layer:{id:x}})}const D=p?this._order.indexOf(p):this._order.length;if(p&&D===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${x}" before non-existing layer "${p}".`)));else{if(this._order.splice(D,0,x),this._layerOrderChanged=!0,this._layers[x]=C,this._removedLayers[x]&&C.source&&C.type!=="custom"){const L=this._removedLayers[x];delete this._removedLayers[x],L.type!==C.type?this._updatedSources[C.source]="clear":(this._updatedSources[C.source]="reload",this.sourceCaches[C.source].pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const y=this._order.indexOf(c);this._order.splice(y,1);const x=p?this._order.indexOf(p):this._order.length;p&&x===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(x,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const y=this._order.indexOf(c);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,y){this._checkLoaded();const x=this.getLayer(c);x?x.minzoom===p&&x.maxzoom===y||(p!=null&&(x.minzoom=p),y!=null&&(x.maxzoom=y),this._updateLayer(x)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,y={}){this._checkLoaded();const x=this.getLayer(c);if(x){if(!a.deepEqual(x.filter,p))return p==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(a.validateStyle.filter,`layers.${x.id}.filter`,p,null,y)||(x.filter=a.clone$1(p),this._updateLayer(x)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,p,y,x={}){this._checkLoaded();const C=this.getLayer(c);C?a.deepEqual(C.getLayoutProperty(p),y)||(C.setLayoutProperty(p,y,x),this._updateLayer(C)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const y=this.getLayer(c);if(y)return y.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,y,x={}){this._checkLoaded();const C=this.getLayer(c);C?a.deepEqual(C.getPaintProperty(p),y)||(C.setPaintProperty(p,y,x)&&this._updateLayer(C),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const y=c.source,x=c.sourceLayer,C=this.sourceCaches[y];if(C===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const D=C.getSource().type;D==="geojson"&&x?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||x?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),C.setFeatureState(x,c.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const y=c.source,x=this.sourceCaches[y];if(x===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const C=x.getSource().type,D=C==="vector"?c.sourceLayer:void 0;C!=="vector"||D?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):x.removeFeatureState(D,c.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,y=c.sourceLayer,x=this.sourceCaches[p];if(x!==void 0)return x.getSource().type!=="vector"||y?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),x.getFeatureState(y,c.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.mapObject(this.sourceCaches,x=>x.serialize()),p=this._serializeByIds(this._order),y=this.stylesheet;return a.filterObject({version:y.version,name:y.name,metadata:y.metadata,light:y.light,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:c,layers:p},x=>x!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=D=>this._layers[D].type==="fill-extrusion",y={},x=[];for(let D=this._order.length-1;D>=0;D--){const L=this._order[D];if(p(L)){y[L]=D;for(const B of c){const q=B[L];if(q)for(const H of q)x.push(H)}}}x.sort((D,L)=>L.intersectionZ-D.intersectionZ);const C=[];for(let D=this._order.length-1;D>=0;D--){const L=this._order[D];if(p(L))for(let B=x.length-1;B>=0;B--){const q=x[B].feature;if(y[q.layer.id]<D)break;C.push(q),x.pop()}else for(const B of c){const q=B[L];if(q)for(const H of q)C.push(H.feature)}}return C}queryRenderedFeatures(c,p,y){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);const x={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const L of p.layers){const B=this._layers[L];if(!B)return this.fire(new a.ErrorEvent(new Error(`The layer '${L}' does not exist in the map's style and cannot be queried for features.`))),[];x[B.source]=!0}}const C=[];p.availableImages=this._availableImages;const D=this._serializedAllLayers();for(const L in this.sourceCaches)p.layers&&!x[L]||C.push(zt(this.sourceCaches[L],this._layers,D,c,p,y));return this.placement&&C.push(function(L,B,q,H,Y,ee,ue){const ce={},ge=ee.queryRenderedSymbols(H),le=[];for(const $e of Object.keys(ge).map(Number))le.push(ue[$e]);le.sort(Mr);for(const $e of le){const We=$e.featureIndex.lookupSymbolFeatures(ge[$e.bucketInstanceId],B,$e.bucketIndex,$e.sourceLayerIndex,Y.filter,Y.layers,Y.availableImages,L);for(const we in We){const ze=ce[we]=ce[we]||[],Ye=We[we];Ye.sort((Ze,tt)=>{const dt=$e.featureSortOrder;if(dt){const ot=dt.indexOf(Ze.featureIndex);return dt.indexOf(tt.featureIndex)-ot}return tt.featureIndex-Ze.featureIndex});for(const Ze of Ye)ze.push(Ze)}}for(const $e in ce)ce[$e].forEach(We=>{const we=We.feature,ze=q[L[$e].source].getFeatureState(we.layer["source-layer"],we.id);we.source=we.layer.source,we.layer["source-layer"]&&(we.sourceLayer=we.layer["source-layer"]),we.state=ze});return ce}(this._layers,D,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(C)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p);const y=this.sourceCaches[c];return y?function(x,C){const D=x.getRenderableIds().map(q=>x.getTileByID(q)),L=[],B={};for(let q=0;q<D.length;q++){const H=D[q],Y=H.tileID.canonical.key;B[Y]||(B[Y]=!0,H.querySourceFeatures(L,C))}return L}(y,p):[]}addSourceType(c,p,y){return Zt(c)?y(new Error(`A source type called "${c}" already exists.`)):(((x,C)=>{St[x]=C})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const y=this.light.getLight();let x=!1;for(const D in c)if(!a.deepEqual(c[D],y[D])){x=!0;break}if(!x)return;const C={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(C)}_validate(c,p,y,x,C={}){return(!C||C.validate!==!1)&&bl(this,c.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:y,styleSpec:a.v8Spec},x)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const y=this.sourceCaches[p];y.setEventedParent(null),y.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,y,x,C=!1){let D=!1,L=!1;const B={};for(const q of this._order){const H=this._layers[q];if(H.type!=="symbol")continue;if(!B[H.source]){const ee=this.sourceCaches[H.source];B[H.source]=ee.getRenderableIds(!0).map(ue=>ee.getTileByID(ue)).sort((ue,ce)=>ce.tileID.overscaledZ-ue.tileID.overscaledZ||(ue.tileID.isLessThan(ce.tileID)?-1:1))}const Y=this.crossTileSymbolIndex.addLayer(H,B[H.source],c.center.lng);D=D||Y}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((C=C||this._layerOrderChanged||y===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),c.zoom))&&(this.pauseablePlacement=new zE(c,this.map.terrain,this._order,C,p,y,x,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,B),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),L=!0),D&&this.pauseablePlacement.placement.setStale()),L||D)for(const q of this._order){const H=this._layers[q];H.type==="symbol"&&this.placement.updateLayerOpacities(H,B[H.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,y){this.imageManager.getImages(p.icons,y),this._updateTilesForChangedImages();const x=this.sourceCaches[p.source];x&&x.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,y){this.glyphManager.getGlyphs(p.stacks,y);const x=this.sourceCaches[p.source];x&&x.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,y){return a.makeRequest(p,y)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.validateStyle.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,y={},x){this._checkLoaded();const C=[{id:c,url:p}],D=[...Z(this.stylesheet.sprite),...C];this._validate(a.validateStyle.sprite,"sprite",D,null,y)||(this.stylesheet.sprite=D,this._loadSprite(C,!0,x))}removeSprite(c){this._checkLoaded();const p=Z(this.stylesheet.sprite);if(p.find(y=>y.id===c)){if(this._spritesImagesIds[c])for(const y of this._spritesImagesIds[c])this.imageManager.removeImage(y),this._changedImages[y]=!0;p.splice(p.findIndex(y=>y.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}else this.fire(new a.ErrorEvent(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return Z(this.stylesheet.sprite)}setSprite(c,p={},y){this._checkLoaded(),c&&this._validate(a.validateStyle.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,y):(this._unloadSprite(),y&&y(null)))}}Vi.registerForPluginStateChange=a.registerForPluginStateChange;var _h=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),ns="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Hf={prelude:qr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:qr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:qr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:qr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:qr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:qr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:qr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:qr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:qr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:qr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:qr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:qr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:qr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:qr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:qr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:qr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:qr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:qr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:qr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:qr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:qr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:qr("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ns),terrainDepth:qr("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ns),terrainCoords:qr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ns)};function qr(S,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=c.match(/attribute ([\w]+) ([\w]+)/g),x=S.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=C?C.concat(x):x,L={};return{fragmentSource:S=S.replace(p,(B,q,H,Y,ee)=>(L[ee]=!0,q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
varying ${H} ${Y} ${ee};
#else
uniform ${H} ${Y} u_${ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ee}
    ${H} ${Y} ${ee} = u_${ee};
#endif
`)),vertexSource:c=c.replace(p,(B,q,H,Y,ee)=>{const ue=Y==="float"?"vec2":"vec4",ce=ee.match(/color/)?"color":ue;return L[ee]?q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${H} ${ue} a_${ee};
varying ${H} ${Y} ${ee};
#else
uniform ${H} ${Y} u_${ee};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${H} ${Y} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${ce}(a_${ee}, u_${ee}_t);
#else
    ${H} ${Y} ${ee} = u_${ee};
#endif
`:q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${H} ${ue} a_${ee};
#else
uniform ${H} ${Y} u_${ee};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${H} ${Y} ${ee} = a_${ee};
#else
    ${H} ${Y} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${H} ${Y} ${ee} = unpack_mix_${ce}(a_${ee}, u_${ee}_t);
#else
    ${H} ${Y} ${ee} = u_${ee};
#endif
`}),staticAttributes:y,staticUniforms:D}}class xh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,y,x,C,D,L,B,q){this.context=c;let H=this.boundPaintVertexBuffers.length!==x.length;for(let Y=0;!H&&Y<x.length;Y++)this.boundPaintVertexBuffers[Y]!==x[Y]&&(H=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==y||H||this.boundIndexBuffer!==C||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==L||this.boundDynamicVertexBuffer2!==B||this.boundDynamicVertexBuffer3!==q?this.freshBind(p,y,x,C,D,L,B,q):(c.bindVertexArray.set(this.vao),L&&L.bind(),C&&C.dynamicDraw&&C.bind(),B&&B.bind(),q&&q.bind())}freshBind(c,p,y,x,C,D,L,B){const q=c.numAttributes,H=this.context,Y=H.gl;this.vao&&this.destroy(),this.vao=H.createVertexArray(),H.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=x,this.boundVertexOffset=C,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=L,this.boundDynamicVertexBuffer3=B,p.enableAttributes(Y,c);for(const ee of y)ee.enableAttributes(Y,c);D&&D.enableAttributes(Y,c),L&&L.enableAttributes(Y,c),B&&B.enableAttributes(Y,c),p.bind(),p.setVertexAttribPointers(Y,c,C);for(const ee of y)ee.bind(),ee.setVertexAttribPointers(Y,c,C);D&&(D.bind(),D.setVertexAttribPointers(Y,c,C)),x&&x.bind(),L&&(L.bind(),L.setVertexAttribPointers(Y,c,C)),B&&(B.bind(),B.setVertexAttribPointers(Y,c,C)),H.currentNumAttributes=q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function pu(S){const c=[];for(let p=0;p<S.length;p++){if(S[p]===null)continue;const y=S[p].split(" ");c.push(y.pop())}return c}class wl{constructor(c,p,y,x,C,D){const L=c.gl;this.program=L.createProgram();const B=pu(p.staticAttributes),q=y?y.getBinderAttributes():[],H=B.concat(q),Y=Hf.prelude.staticUniforms?pu(Hf.prelude.staticUniforms):[],ee=p.staticUniforms?pu(p.staticUniforms):[],ue=y?y.getBinderUniforms():[],ce=Y.concat(ee).concat(ue),ge=[];for(const Ze of ce)ge.indexOf(Ze)<0&&ge.push(Ze);const le=y?y.defines():[];C&&le.push("#define OVERDRAW_INSPECTOR;"),D&&le.push("#define TERRAIN3D;");const $e=le.concat(Hf.prelude.fragmentSource,p.fragmentSource).join(`
`),We=le.concat(Hf.prelude.vertexSource,p.vertexSource).join(`
`),we=L.createShader(L.FRAGMENT_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);L.shaderSource(we,$e),L.compileShader(we),L.attachShader(this.program,we);const ze=L.createShader(L.VERTEX_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);L.shaderSource(ze,We),L.compileShader(ze),L.attachShader(this.program,ze),this.attributes={};const Ye={};this.numAttributes=H.length;for(let Ze=0;Ze<this.numAttributes;Ze++)H[Ze]&&(L.bindAttribLocation(this.program,Ze,H[Ze]),this.attributes[H[Ze]]=Ze);L.linkProgram(this.program),L.deleteShader(ze),L.deleteShader(we);for(let Ze=0;Ze<ge.length;Ze++){const tt=ge[Ze];if(tt&&!Ye[tt]){const dt=L.getUniformLocation(this.program,tt);dt&&(Ye[tt]=dt)}}this.fixedUniforms=x(c,Ye),this.terrainUniforms=((Ze,tt)=>({u_depth:new a.Uniform1i(Ze,tt.u_depth),u_terrain:new a.Uniform1i(Ze,tt.u_terrain),u_terrain_dim:new a.Uniform1f(Ze,tt.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Ze,tt.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Ze,tt.u_terrain_unpack),u_terrain_exaggeration:new a.Uniform1f(Ze,tt.u_terrain_exaggeration)}))(c,Ye),this.binderUniforms=y?y.getUniforms(c,Ye):[]}draw(c,p,y,x,C,D,L,B,q,H,Y,ee,ue,ce,ge,le,$e,We){const we=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(y),c.setStencilMode(x),c.setColorMode(C),c.setCullFace(D),B){c.activeTexture.set(we.TEXTURE2),we.bindTexture(we.TEXTURE_2D,B.depthTexture),c.activeTexture.set(we.TEXTURE3),we.bindTexture(we.TEXTURE_2D,B.texture);for(const Ye in this.terrainUniforms)this.terrainUniforms[Ye].set(B[Ye])}for(const Ye in this.fixedUniforms)this.fixedUniforms[Ye].set(L[Ye]);ge&&ge.setUniforms(c,this.binderUniforms,ue,{zoom:ce});let ze=0;switch(p){case we.LINES:ze=2;break;case we.TRIANGLES:ze=3;break;case we.LINE_STRIP:ze=1}for(const Ye of ee.get()){const Ze=Ye.vaos||(Ye.vaos={});(Ze[q]||(Ze[q]=new xh)).bind(c,this,H,ge?ge.getPaintVertexBuffers():[],Y,Ye.vertexOffset,le,$e,We),we.drawElements(p,Ye.primitiveLength*ze,we.UNSIGNED_SHORT,Ye.primitiveOffset*ze*2)}}}function bh(S,c,p){const y=1/Ae(p,1,c.transform.tileZoom),x=Math.pow(2,p.tileID.overscaledZ),C=p.tileSize*Math.pow(2,c.transform.tileZoom)/x,D=C*(p.tileID.canonical.x+p.tileID.wrap*x),L=C*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[y,S.fromScale,S.toScale],u_fade:S.t,u_pixel_coord_upper:[D>>16,L>>16],u_pixel_coord_lower:[65535&D,65535&L]}}const Gf=(S,c,p,y)=>{const x=c.style.light,C=x.properties.get("position"),D=[C.x,C.y,C.z],L=function(){var q=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(q[1]=0,q[2]=0,q[3]=0,q[5]=0,q[6]=0,q[7]=0),q[0]=1,q[4]=1,q[8]=1,q}();x.properties.get("anchor")==="viewport"&&function(q,H){var Y=Math.sin(H),ee=Math.cos(H);q[0]=ee,q[1]=Y,q[2]=0,q[3]=-Y,q[4]=ee,q[5]=0,q[6]=0,q[7]=0,q[8]=1}(L,-c.transform.angle),function(q,H,Y){var ee=H[0],ue=H[1],ce=H[2];q[0]=ee*Y[0]+ue*Y[3]+ce*Y[6],q[1]=ee*Y[1]+ue*Y[4]+ce*Y[7],q[2]=ee*Y[2]+ue*Y[5]+ce*Y[8]}(D,D,L);const B=x.properties.get("color");return{u_matrix:S,u_lightpos:D,u_lightintensity:x.properties.get("intensity"),u_lightcolor:[B.r,B.g,B.b],u_vertical_gradient:+p,u_opacity:y}},NE=(S,c,p,y,x,C,D)=>a.extend(Gf(S,c,p,y),bh(C,c,D),{u_height_factor:-Math.pow(2,x.overscaledZ)/D.tileSize/8}),Y_=S=>({u_matrix:S}),wh=(S,c,p,y)=>a.extend(Y_(S),bh(p,c,y)),jE=(S,c)=>({u_matrix:S,u_world:c}),K_=(S,c,p,y,x)=>a.extend(wh(S,c,p,y),{u_world:x}),BE=(S,c,p,y)=>{const x=S.transform;let C,D;if(y.paint.get("circle-pitch-alignment")==="map"){const L=Ae(p,1,x.zoom);C=!0,D=[L,L]}else C=!1,D=x.pixelsToGLUnits;return{u_camera_to_center_distance:x.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:S.translatePosMatrix(c.posMatrix,p,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+C,u_device_pixel_ratio:S.pixelRatio,u_extrude_scale:D}},Z_=(S,c,p)=>{const y=Ae(p,1,c.zoom),x=Math.pow(2,c.zoom-p.tileID.overscaledZ),C=p.tileID.overscaleFactor();return{u_matrix:S,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[c.pixelsToGLUnits[0]/(y*x),c.pixelsToGLUnits[1]/(y*x)],u_overscale_factor:C}},X_=(S,c,p=1)=>({u_matrix:S,u_color:c,u_overlay:0,u_overlay_scale:p}),Sh=S=>({u_matrix:S}),J_=(S,c,p,y)=>({u_matrix:S,u_extrude_scale:Ae(c,1,p),u_intensity:y});function Q_(S,c){const p=Math.pow(2,c.canonical.z),y=c.canonical.y;return[new a.MercatorCoordinate(0,y/p).toLngLat().lat,new a.MercatorCoordinate(0,(y+1)/p).toLngLat().lat]}const Eh=(S,c,p,y)=>{const x=S.transform;return{u_matrix:Yf(S,c,p,y),u_ratio:1/Ae(c,1,x.zoom),u_device_pixel_ratio:S.pixelRatio,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},ex=(S,c,p,y,x)=>a.extend(Eh(S,c,p,x),{u_image:0,u_image_height:y}),uc=(S,c,p,y,x)=>{const C=S.transform,D=Uo(c,C);return{u_matrix:Yf(S,c,p,x),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Ae(c,1,C.zoom),u_device_pixel_ratio:S.pixelRatio,u_image:0,u_scale:[D,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},Ch=(S,c,p,y,x,C)=>{const D=S.lineAtlas,L=Uo(c,S.transform),B=p.layout.get("line-cap")==="round",q=D.getDash(y.from,B),H=D.getDash(y.to,B),Y=q.width*x.fromScale,ee=H.width*x.toScale;return a.extend(Eh(S,c,p,C),{u_patternscale_a:[L/Y,-q.height/2],u_patternscale_b:[L/ee,-H.height/2],u_sdfgamma:D.width/(256*Math.min(Y,ee)*S.pixelRatio)/2,u_image:0,u_tex_y_a:q.y,u_tex_y_b:H.y,u_mix:x.t})};function Uo(S,c){return 1/Ae(S,1,c.tileZoom)}function Yf(S,c,p,y){return S.translatePosMatrix(y?y.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Th=(S,c,p,y,x)=>{return{u_matrix:S,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(D=x.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(C=x.paint.get("raster-contrast"),C>0?1/(1-C):1+C),u_spin_weights:Kf(x.paint.get("raster-hue-rotate"))};var C,D};function Kf(S){S*=Math.PI/180;const c=Math.sin(S),p=Math.cos(S);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const Zf=(S,c,p,y,x,C,D,L,B,q)=>{const H=x.transform;return{u_is_size_zoom_constant:+(S==="constant"||S==="source"),u_is_size_feature_constant:+(S==="constant"||S==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:H.cameraToCenterDistance,u_pitch:H.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:H.width/H.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:C,u_label_plane_matrix:D,u_coord_matrix:L,u_is_text:+B,u_pitch_with_map:+y,u_texsize:q,u_texture:0}},Xf=(S,c,p,y,x,C,D,L,B,q,H)=>{const Y=x.transform;return a.extend(Zf(S,c,p,y,x,C,D,L,B,q),{u_gamma_scale:y?Math.cos(Y._pitch)*Y.cameraToCenterDistance:1,u_device_pixel_ratio:x.pixelRatio,u_is_halo:+H})},Jf=(S,c,p,y,x,C,D,L,B,q)=>a.extend(Xf(S,c,p,y,x,C,D,L,!0,B,!0),{u_texsize_icon:q,u_texture_icon:1}),fc=(S,c,p)=>({u_matrix:S,u_opacity:c,u_color:p}),kh=(S,c,p,y,x,C)=>a.extend(function(D,L,B,q){const H=B.imageManager.getPattern(D.from.toString()),Y=B.imageManager.getPattern(D.to.toString()),{width:ee,height:ue}=B.imageManager.getPixelSize(),ce=Math.pow(2,q.tileID.overscaledZ),ge=q.tileSize*Math.pow(2,B.transform.tileZoom)/ce,le=ge*(q.tileID.canonical.x+q.tileID.wrap*ce),$e=ge*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:H.tl,u_pattern_br_a:H.br,u_pattern_tl_b:Y.tl,u_pattern_br_b:Y.br,u_texsize:[ee,ue],u_mix:L.t,u_pattern_size_a:H.displaySize,u_pattern_size_b:Y.displaySize,u_scale_a:L.fromScale,u_scale_b:L.toScale,u_tile_units_to_pixels:1/Ae(q,1,B.transform.tileZoom),u_pixel_coord_upper:[le>>16,$e>>16],u_pixel_coord_lower:[65535&le,65535&$e]}}(y,C,p,x),{u_matrix:S,u_opacity:c}),Vo={fillExtrusion:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_lightpos:new a.Uniform3f(S,c.u_lightpos),u_lightintensity:new a.Uniform1f(S,c.u_lightintensity),u_lightcolor:new a.Uniform3f(S,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(S,c.u_vertical_gradient),u_opacity:new a.Uniform1f(S,c.u_opacity)}),fillExtrusionPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_lightpos:new a.Uniform3f(S,c.u_lightpos),u_lightintensity:new a.Uniform1f(S,c.u_lightintensity),u_lightcolor:new a.Uniform3f(S,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(S,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(S,c.u_height_factor),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade),u_opacity:new a.Uniform1f(S,c.u_opacity)}),fill:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),fillPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),fillOutline:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world)}),fillOutlinePattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),circle:(S,c)=>({u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(S,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(S,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),collisionBox:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(S,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(S,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(S,c.u_overscale_factor)}),collisionCircle:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_inv_matrix:new a.UniformMatrix4f(S,c.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(S,c.u_viewport_size)}),debug:(S,c)=>({u_color:new a.UniformColor(S,c.u_color),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_overlay:new a.Uniform1i(S,c.u_overlay),u_overlay_scale:new a.Uniform1f(S,c.u_overlay_scale)}),clippingMask:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),heatmap:(S,c)=>({u_extrude_scale:new a.Uniform1f(S,c.u_extrude_scale),u_intensity:new a.Uniform1f(S,c.u_intensity),u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),heatmapTexture:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world),u_image:new a.Uniform1i(S,c.u_image),u_color_ramp:new a.Uniform1i(S,c.u_color_ramp),u_opacity:new a.Uniform1f(S,c.u_opacity)}),hillshade:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_latrange:new a.Uniform2f(S,c.u_latrange),u_light:new a.Uniform2f(S,c.u_light),u_shadow:new a.UniformColor(S,c.u_shadow),u_highlight:new a.UniformColor(S,c.u_highlight),u_accent:new a.UniformColor(S,c.u_accent)}),hillshadePrepare:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_dimension:new a.Uniform2f(S,c.u_dimension),u_zoom:new a.Uniform1f(S,c.u_zoom),u_unpack:new a.Uniform4f(S,c.u_unpack)}),line:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels)}),lineGradient:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_image:new a.Uniform1i(S,c.u_image),u_image_height:new a.Uniform1f(S,c.u_image_height)}),linePattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texsize:new a.Uniform2f(S,c.u_texsize),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_image:new a.Uniform1i(S,c.u_image),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),lineSDF:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(S,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(S,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(S,c.u_sdfgamma),u_image:new a.Uniform1i(S,c.u_image),u_tex_y_a:new a.Uniform1f(S,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(S,c.u_tex_y_b),u_mix:new a.Uniform1f(S,c.u_mix)}),raster:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_tl_parent:new a.Uniform2f(S,c.u_tl_parent),u_scale_parent:new a.Uniform1f(S,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(S,c.u_buffer_scale),u_fade_t:new a.Uniform1f(S,c.u_fade_t),u_opacity:new a.Uniform1f(S,c.u_opacity),u_image0:new a.Uniform1i(S,c.u_image0),u_image1:new a.Uniform1i(S,c.u_image1),u_brightness_low:new a.Uniform1f(S,c.u_brightness_low),u_brightness_high:new a.Uniform1f(S,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(S,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(S,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(S,c.u_spin_weights)}),symbolIcon:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texture:new a.Uniform1i(S,c.u_texture)}),symbolSDF:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texture:new a.Uniform1i(S,c.u_texture),u_gamma_scale:new a.Uniform1f(S,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(S,c.u_is_halo)}),symbolTextAndIcon:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texsize_icon:new a.Uniform2f(S,c.u_texsize_icon),u_texture:new a.Uniform1i(S,c.u_texture),u_texture_icon:new a.Uniform1i(S,c.u_texture_icon),u_gamma_scale:new a.Uniform1f(S,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(S,c.u_is_halo)}),background:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_opacity:new a.Uniform1f(S,c.u_opacity),u_color:new a.UniformColor(S,c.u_color)}),backgroundPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_opacity:new a.Uniform1f(S,c.u_opacity),u_image:new a.Uniform1i(S,c.u_image),u_pattern_tl_a:new a.Uniform2f(S,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(S,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(S,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(S,c.u_pattern_br_b),u_texsize:new a.Uniform2f(S,c.u_texsize),u_mix:new a.Uniform1f(S,c.u_mix),u_pattern_size_a:new a.Uniform2f(S,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(S,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(S,c.u_scale_a),u_scale_b:new a.Uniform1f(S,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(S,c.u_tile_units_to_pixels)}),terrain:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texture:new a.Uniform1i(S,c.u_texture),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)}),terrainDepth:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)}),terrainCoords:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texture:new a.Uniform1i(S,c.u_texture),u_terrain_coords_id:new a.Uniform1f(S,c.u_terrain_coords_id),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)})};class Wo{constructor(c,p,y){this.context=c;const x=c.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ig={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ph{constructor(c,p,y,x){this.length=p.length,this.attributes=y,this.itemSize=p.bytesPerElement,this.dynamicDraw=x,this.context=c;const C=c.gl;this.buffer=C.createBuffer(),c.bindVertexBuffer.set(this.buffer),C.bufferData(C.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let y=0;y<this.attributes.length;y++){const x=p.attributes[this.attributes[y].name];x!==void 0&&c.enableVertexAttribArray(x)}}setVertexAttribPointers(c,p,y){for(let x=0;x<this.attributes.length;x++){const C=this.attributes[x],D=p.attributes[C.name];D!==void 0&&c.vertexAttribPointer(D,C.components,c[Ig[C.type]],!1,this.itemSize,C.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const mu=new WeakMap;function gu(S){if(mu.has(S))return mu.get(S);{const c=S.getParameter(S.VERSION).startsWith("WebGL 2.0");return mu.set(S,c),c}}class Dr{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ah extends Dr{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Rg extends Dr{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class $g extends Dr{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Mh extends Dr{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class tx extends Dr{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class rx extends Dr{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class yu extends Dr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class FE extends Dr{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class UE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class VE extends Dr{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class WE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class qE extends Dr{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class HE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Dg extends Dr{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Oh extends Dr{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Lg extends Dr{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class zg extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class vu extends Dr{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class nx extends Dr{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class ix extends Dr{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class Ng extends Dr{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class dc extends Dr{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class ox extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class _u extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class xu extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class ax extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class jg extends Dr{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Nr extends Dr{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const y=this.gl;gu(y)?y.bindVertexArray(c):(p=y.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class Ih extends Dr{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class GE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class sx extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class hc extends Dr{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class YE extends hc{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class KE extends hc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class lx extends hc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class ZE{constructor(c,p,y,x,C){this.context=c,this.width=p,this.height=y;const D=c.gl,L=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new YE(c,L),x)this.depthAttachment=C?new lx(c,L):new KE(c,L);else if(C)throw new Error("Stencil cannot be setted without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const y=this.depthAttachment.get();y&&c.deleteRenderbuffer(y)}c.deleteFramebuffer(this.framebuffer)}}class Pn{constructor(c,p,y){this.blendFunction=c,this.blendColor=p,this.mask=y}}Pn.Replace=[1,0],Pn.disabled=new Pn(Pn.Replace,a.Color.transparent,[!1,!1,!1,!1]),Pn.unblended=new Pn(Pn.Replace,a.Color.transparent,[!0,!0,!0,!0]),Pn.alphaBlended=new Pn([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Rh{constructor(c){var p,y;if(this.gl=c,this.clearColor=new Ah(this),this.clearDepth=new Rg(this),this.clearStencil=new $g(this),this.colorMask=new Mh(this),this.depthMask=new tx(this),this.stencilMask=new rx(this),this.stencilFunc=new yu(this),this.stencilOp=new FE(this),this.stencilTest=new UE(this),this.depthRange=new VE(this),this.depthTest=new WE(this),this.depthFunc=new qE(this),this.blend=new HE(this),this.blendFunc=new Dg(this),this.blendColor=new Oh(this),this.blendEquation=new Lg(this),this.cullFace=new zg(this),this.cullFaceSide=new vu(this),this.frontFace=new nx(this),this.program=new ix(this),this.activeTexture=new Ng(this),this.viewport=new dc(this),this.bindFramebuffer=new ox(this),this.bindRenderbuffer=new _u(this),this.bindTexture=new xu(this),this.bindVertexBuffer=new ax(this),this.bindElementBuffer=new jg(this),this.bindVertexArray=new Nr(this),this.pixelStoreUnpack=new Ih(this),this.pixelStoreUnpackPremultiplyAlpha=new GE(this),this.pixelStoreUnpackFlipY=new sx(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),gu(c)){this.HALF_FLOAT=c.HALF_FLOAT;const x=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:x==null?void 0:x.RGBA16F_EXT,this.RGB16F=(y=c.RGB16F)!==null&&y!==void 0?y:x==null?void 0:x.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const x=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=x==null?void 0:x.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Wo(this,c,p)}createVertexBuffer(c,p,y){return new Ph(this,c,p,y)}createRenderbuffer(c,p,y){const x=this.gl,C=x.createRenderbuffer();return this.bindRenderbuffer.set(C),x.renderbufferStorage(x.RENDERBUFFER,c,p,y),this.bindRenderbuffer.set(null),C}createFramebuffer(c,p,y,x){return new ZE(this,c,p,y,x)}clear({color:c,depth:p,stencil:y}){const x=this.gl;let C=0;c&&(C|=x.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(C|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),y!==void 0&&(C|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),x.clear(C)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.deepEqual(c.blendFunction,Pn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return gu(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return gu(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class _r{constructor(c,p,y){this.func=c,this.mask=p,this.range=y}}_r.ReadOnly=!1,_r.ReadWrite=!0,_r.disabled=new _r(519,_r.ReadOnly,[0,1]);const Qf=7680;class hn{constructor(c,p,y,x,C,D){this.test=c,this.ref=p,this.mask=y,this.fail=x,this.depthFail=C,this.pass=D}}hn.disabled=new hn({func:519,mask:0},0,0,Qf,Qf,Qf);class pn{constructor(c,p,y){this.enable=c,this.mode=p,this.frontFace=y}}let pc;function ed(S,c,p,y,x,C,D){const L=S.context,B=L.gl,q=S.useProgram("collisionBox"),H=[];let Y=0,ee=0;for(let we=0;we<y.length;we++){const ze=y[we],Ye=c.getTile(ze),Ze=Ye.getBucket(p);if(!Ze)continue;let tt=ze.posMatrix;x[0]===0&&x[1]===0||(tt=S.translatePosMatrix(ze.posMatrix,Ye,x,C));const dt=D?Ze.textCollisionBox:Ze.iconCollisionBox,ot=Ze.collisionCircleArray;if(ot.length>0){const pt=a.create(),jt=tt;a.mul(pt,Ze.placementInvProjMatrix,S.transform.glCoordMatrix),a.mul(pt,pt,Ze.placementViewportMatrix),H.push({circleArray:ot,circleOffset:ee,transform:jt,invTransform:pt,coord:ze}),Y+=ot.length/4,ee=Y}dt&&q.draw(L,B.LINES,_r.disabled,hn.disabled,S.colorModeForRenderPass(),pn.disabled,Z_(tt,S.transform,Ye),S.style.map.terrain&&S.style.map.terrain.getTerrainData(ze),p.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,null,S.transform.zoom,null,null,dt.collisionVertexBuffer)}if(!D||!H.length)return;const ue=S.useProgram("collisionCircle"),ce=new a.CollisionCircleLayoutArray;ce.resize(4*Y),ce._trim();let ge=0;for(const we of H)for(let ze=0;ze<we.circleArray.length/4;ze++){const Ye=4*ze,Ze=we.circleArray[Ye+0],tt=we.circleArray[Ye+1],dt=we.circleArray[Ye+2],ot=we.circleArray[Ye+3];ce.emplace(ge++,Ze,tt,dt,ot,0),ce.emplace(ge++,Ze,tt,dt,ot,1),ce.emplace(ge++,Ze,tt,dt,ot,2),ce.emplace(ge++,Ze,tt,dt,ot,3)}(!pc||pc.length<2*Y)&&(pc=function(we){const ze=2*we,Ye=new a.QuadTriangleArray;Ye.resize(ze),Ye._trim();for(let Ze=0;Ze<ze;Ze++){const tt=6*Ze;Ye.uint16[tt+0]=4*Ze+0,Ye.uint16[tt+1]=4*Ze+1,Ye.uint16[tt+2]=4*Ze+2,Ye.uint16[tt+3]=4*Ze+2,Ye.uint16[tt+4]=4*Ze+3,Ye.uint16[tt+5]=4*Ze+0}return Ye}(Y));const le=L.createIndexBuffer(pc,!0),$e=L.createVertexBuffer(ce,a.collisionCircleLayout.members,!0);for(const we of H){const ze={u_matrix:we.transform,u_inv_matrix:we.invTransform,u_camera_to_center_distance:(We=S.transform).cameraToCenterDistance,u_viewport_size:[We.width,We.height]};ue.draw(L,B.TRIANGLES,_r.disabled,hn.disabled,S.colorModeForRenderPass(),pn.disabled,ze,S.style.map.terrain&&S.style.map.terrain.getTerrainData(we.coord),p.id,$e,le,a.SegmentVector.simpleSegment(0,2*we.circleOffset,we.circleArray.length,we.circleArray.length/2),null,S.transform.zoom,null,null,null)}var We;$e.destroy(),le.destroy()}pn.disabled=new pn(!1,1029,2305),pn.backCCW=new pn(!0,1029,2305);const Bg=a.identity(new Float32Array(16));function XE(S,c,p,y,x,C){const{horizontalAlign:D,verticalAlign:L}=a.getAnchorAlignment(S);return new a.Point((-(D-.5)*c/x+y[0])*C,(-(L-.5)*p/x+y[1])*C)}function Fg(S,c,p,y,x,C,D,L,B,q,H){const Y=S.text.placedSymbolArray,ee=S.text.dynamicLayoutVertexArray,ue=S.icon.dynamicLayoutVertexArray,ce={};ee.clear();for(let ge=0;ge<Y.length;ge++){const le=Y.get(ge),$e=le.hidden||!le.crossTileID||S.allowVerticalPlacement&&!le.placedOrientation?null:y[le.crossTileID];if($e){const We=new a.Point(le.anchorX,le.anchorY),we=Xt(We,p?D:C,H),ze=po(x.cameraToCenterDistance,we.signedDistanceFromCamera);let Ye=a.evaluateSizeForFeature(S.textSizeData,B,le)*ze/a.ONE_EM;p&&(Ye*=S.tilePixelRatio/L);const{width:Ze,height:tt,anchor:dt,textOffset:ot,textBoxScale:pt}=$e,jt=XE(dt,Ze,tt,ot,pt,Ye),xr=p?Xt(We.add(jt),C,H).point:we.point.add(c?jt.rotate(-x.angle):jt),xt=S.allowVerticalPlacement&&le.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let er=0;er<le.numGlyphs;er++)a.addDynamicAttributes(ee,xr,xt);q&&le.associatedIconIndex>=0&&(ce[le.associatedIconIndex]={shiftedAnchor:xr,angle:xt})}else se(le.numGlyphs,ee)}if(q){ue.clear();const ge=S.icon.placedSymbolArray;for(let le=0;le<ge.length;le++){const $e=ge.get(le);if($e.hidden)se($e.numGlyphs,ue);else{const We=ce[le];if(We)for(let we=0;we<$e.numGlyphs;we++)a.addDynamicAttributes(ue,We.shiftedAnchor,We.angle);else se($e.numGlyphs,ue)}}S.icon.dynamicLayoutVertexBuffer.updateData(ue)}S.text.dynamicLayoutVertexBuffer.updateData(ee)}function JE(S,c,p){return p.iconsInText&&c?"symbolTextAndIcon":S?"symbolSDF":"symbolIcon"}function Ug(S,c,p,y,x,C,D,L,B,q,H,Y){const ee=S.context,ue=ee.gl,ce=S.transform,ge=L==="map",le=B==="map",$e=L!=="viewport"&&p.layout.get("symbol-placement")!=="point",We=ge&&!le&&!$e,we=!p.layout.get("symbol-sort-key").isConstant();let ze=!1;const Ye=S.depthModeForSublayer(0,_r.ReadOnly),Ze=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),tt=[];for(const dt of y){const ot=c.getTile(dt),pt=ot.getBucket(p);if(!pt)continue;const jt=x?pt.text:pt.icon;if(!jt||!jt.segments.get().length||!jt.hasVisibleVertices)continue;const xr=jt.programConfigurations.get(p.id),xt=x||pt.sdfIcons,er=x?pt.textSizeData:pt.iconSizeData,$t=le||ce.pitch!==0,sn=S.useProgram(JE(xt,x,pt),xr),vr=a.evaluateSizeForZoom(er,ce.zoom),dr=S.style.map.terrain&&S.style.map.terrain.getTerrainData(dt);let tr,Bn,Hr,ro,Ei=[0,0],ri=null;if(x)Bn=ot.glyphAtlasTexture,Hr=ue.LINEAR,tr=ot.glyphAtlasTexture.size,pt.iconsInText&&(Ei=ot.imageAtlasTexture.size,ri=ot.imageAtlasTexture,ro=$t||S.options.rotating||S.options.zooming||er.kind==="composite"||er.kind==="camera"?ue.LINEAR:ue.NEAREST);else{const ci=p.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;Bn=ot.imageAtlasTexture,Hr=xt||S.options.rotating||S.options.zooming||ci||$t?ue.LINEAR:ue.NEAREST,tr=ot.imageAtlasTexture.size}const yo=Ae(ot,1,S.transform.zoom),Aa=Jr(dt.posMatrix,le,ge,S.transform,yo),Fs=to(dt.posMatrix,le,ge,S.transform,yo),Us=Ze&&pt.hasTextData(),Tl=p.layout.get("icon-text-fit")!=="none"&&Us&&pt.hasIconData();if($e){const ci=S.style.map.terrain?(vo,Mn)=>S.style.map.terrain.getElevation(dt,vo,Mn):null,ki=p.layout.get("text-rotation-alignment")==="map";ka(pt,dt.posMatrix,S,x,Aa,Fs,le,q,ki,ci)}const wc=S.translatePosMatrix(dt.posMatrix,ot,C,D),kl=$e||x&&Ze||Tl?Bg:Aa,Ci=S.translatePosMatrix(Fs,ot,C,D,!0),Fn=xt&&p.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ti;Ti=xt?pt.iconsInText?Jf(er.kind,vr,We,le,S,wc,kl,Ci,tr,Ei):Xf(er.kind,vr,We,le,S,wc,kl,Ci,x,tr,!0):Zf(er.kind,vr,We,le,S,wc,kl,Ci,x,tr);const Tu={program:sn,buffers:jt,uniformValues:Ti,atlasTexture:Bn,atlasTextureIcon:ri,atlasInterpolation:Hr,atlasInterpolationIcon:ro,isSDF:xt,hasHalo:Fn};if(we&&pt.canOverlap){ze=!0;const ci=jt.segments.get();for(const ki of ci)tt.push({segments:new a.SegmentVector([ki]),sortKey:ki.sortKey,state:Tu,terrainData:dr})}else tt.push({segments:jt.segments,sortKey:0,state:Tu,terrainData:dr})}ze&&tt.sort((dt,ot)=>dt.sortKey-ot.sortKey);for(const dt of tt){const ot=dt.state;if(ee.activeTexture.set(ue.TEXTURE0),ot.atlasTexture.bind(ot.atlasInterpolation,ue.CLAMP_TO_EDGE),ot.atlasTextureIcon&&(ee.activeTexture.set(ue.TEXTURE1),ot.atlasTextureIcon&&ot.atlasTextureIcon.bind(ot.atlasInterpolationIcon,ue.CLAMP_TO_EDGE)),ot.isSDF){const pt=ot.uniformValues;ot.hasHalo&&(pt.u_is_halo=1,td(ot.buffers,dt.segments,p,S,ot.program,Ye,H,Y,pt,dt.terrainData)),pt.u_is_halo=0}td(ot.buffers,dt.segments,p,S,ot.program,Ye,H,Y,ot.uniformValues,dt.terrainData)}}function td(S,c,p,y,x,C,D,L,B,q){const H=y.context;x.draw(H,H.gl.TRIANGLES,C,D,L,pn.disabled,B,q,p.id,S.layoutVertexBuffer,S.indexBuffer,c,p.paint,y.transform.zoom,S.programConfigurations.get(p.id),S.dynamicLayoutVertexBuffer,S.opacityVertexBuffer)}function $h(S,c,p,y,x){if(!p||!y||!y.imageAtlas)return;const C=y.imageAtlas.patternPositions;let D=C[p.to.toString()],L=C[p.from.toString()];if(!D||!L){const B=x.getPaintProperty(c);D=C[B],L=C[B]}D&&L&&S.setConstantPatternPositions(D,L)}function Vg(S,c,p,y,x,C,D){const L=S.context.gl,B="fill-pattern",q=p.paint.get(B),H=q&&q.constantOr(1),Y=p.getCrossfadeParameters();let ee,ue,ce,ge,le;D?(ue=H&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=L.LINES):(ue=H?"fillPattern":"fill",ee=L.TRIANGLES);const $e=q.constantOr(null);for(const We of y){const we=c.getTile(We);if(H&&!we.patternsLoaded())continue;const ze=we.getBucket(p);if(!ze)continue;const Ye=ze.programConfigurations.get(p.id),Ze=S.useProgram(ue,Ye),tt=S.style.map.terrain&&S.style.map.terrain.getTerrainData(We);H&&(S.context.activeTexture.set(L.TEXTURE0),we.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),Ye.updatePaintBuffers(Y)),$h(Ye,B,$e,we,p);const dt=tt?We:null,ot=S.translatePosMatrix(dt?dt.posMatrix:We.posMatrix,we,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(D){ge=ze.indexBuffer2,le=ze.segments2;const pt=[L.drawingBufferWidth,L.drawingBufferHeight];ce=ue==="fillOutlinePattern"&&H?K_(ot,S,Y,we,pt):jE(ot,pt)}else ge=ze.indexBuffer,le=ze.segments,ce=H?wh(ot,S,Y,we):Y_(ot);Ze.draw(S.context,ee,x,S.stencilModeForClipping(We),C,pn.disabled,ce,tt,p.id,ze.layoutVertexBuffer,ge,le,p.paint,S.transform.zoom,Ye)}}function Dh(S,c,p,y,x,C,D){const L=S.context,B=L.gl,q="fill-extrusion-pattern",H=p.paint.get(q),Y=H.constantOr(1),ee=p.getCrossfadeParameters(),ue=p.paint.get("fill-extrusion-opacity"),ce=H.constantOr(null);for(const ge of y){const le=c.getTile(ge),$e=le.getBucket(p);if(!$e)continue;const We=S.style.map.terrain&&S.style.map.terrain.getTerrainData(ge),we=$e.programConfigurations.get(p.id),ze=S.useProgram(Y?"fillExtrusionPattern":"fillExtrusion",we);Y&&(S.context.activeTexture.set(B.TEXTURE0),le.imageAtlasTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE),we.updatePaintBuffers(ee)),$h(we,q,ce,le,p);const Ye=S.translatePosMatrix(ge.posMatrix,le,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ze=p.paint.get("fill-extrusion-vertical-gradient"),tt=Y?NE(Ye,S,Ze,ue,ge,ee,le):Gf(Ye,S,Ze,ue);ze.draw(L,L.gl.TRIANGLES,x,C,D,pn.backCCW,tt,We,p.id,$e.layoutVertexBuffer,$e.indexBuffer,$e.segments,p.paint,S.transform.zoom,we,S.style.map.terrain&&$e.centroidVertexBuffer)}}function Lh(S,c,p,y,x,C,D){const L=S.context,B=L.gl,q=p.fbo;if(!q)return;const H=S.useProgram("hillshade"),Y=S.style.map.terrain&&S.style.map.terrain.getTerrainData(c);L.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,q.colorAttachment.get()),H.draw(L,B.TRIANGLES,x,C,D,pn.disabled,((ee,ue,ce,ge)=>{const le=ce.paint.get("hillshade-shadow-color"),$e=ce.paint.get("hillshade-highlight-color"),We=ce.paint.get("hillshade-accent-color");let we=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(we-=ee.transform.angle);const ze=!ee.options.moving;return{u_matrix:ge?ge.posMatrix:ee.transform.calculatePosMatrix(ue.tileID.toUnwrapped(),ze),u_image:0,u_latrange:Q_(0,ue.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),we],u_shadow:le,u_highlight:$e,u_accent:We}})(S,p,y,Y?c:null),Y,y.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments)}function Wg(S,c,p,y,x,C){const D=S.context,L=D.gl,B=c.dem;if(B&&B.data){const q=B.dim,H=B.stride,Y=B.getPixels();if(D.activeTexture.set(L.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||S.getTileTexture(H),c.demTexture){const ue=c.demTexture;ue.update(Y,{premultiply:!1}),ue.bind(L.NEAREST,L.CLAMP_TO_EDGE)}else c.demTexture=new ne(D,Y,L.RGBA,{premultiply:!1}),c.demTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE);D.activeTexture.set(L.TEXTURE0);let ee=c.fbo;if(!ee){const ue=new ne(D,{width:q,height:q,data:null},L.RGBA);ue.bind(L.LINEAR,L.CLAMP_TO_EDGE),ee=c.fbo=D.createFramebuffer(q,q,!0,!1),ee.colorAttachment.set(ue.texture)}D.bindFramebuffer.set(ee.framebuffer),D.viewport.set([0,0,q,q]),S.useProgram("hillshadePrepare").draw(D,L.TRIANGLES,y,x,C,pn.disabled,((ue,ce)=>{const ge=ce.stride,le=a.create();return a.ortho(le,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(le,le,[0,-a.EXTENT,0]),{u_matrix:le,u_image:1,u_dimension:[ge,ge],u_zoom:ue.overscaledZ,u_unpack:ce.getUnpackVector()}})(c.tileID,B),null,p.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function QE(S,c,p,y,x,C){const D=y.paint.get("raster-fade-duration");if(!C&&D>0){const L=a.browser.now(),B=(L-S.timeAdded)/D,q=c?(L-c.timeAdded)/D:-1,H=p.getSource(),Y=x.coveringZoomLevel({tileSize:H.tileSize,roundZoom:H.roundZoom}),ee=!c||Math.abs(c.tileID.overscaledZ-Y)>Math.abs(S.tileID.overscaledZ-Y),ue=ee&&S.refreshedUponExpiration?1:a.clamp(ee?B:1-q,0,1);return S.refreshedUponExpiration&&B>=1&&(S.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ue}:{opacity:ue,mix:0}}return{opacity:1,mix:0}}const cx=new a.Color(1,0,0,1),Qn=new a.Color(0,1,0,1),mc=new a.Color(0,0,1,1),sa=new a.Color(1,0,1,1),qg=new a.Color(0,1,1,1);function zh(S,c,p,y){zs(S,0,c+p/2,S.transform.width,p,y)}function Hg(S,c,p,y){zs(S,c-p/2,0,p,S.transform.height,y)}function zs(S,c,p,y,x,C){const D=S.context,L=D.gl;L.enable(L.SCISSOR_TEST),L.scissor(c*S.pixelRatio,p*S.pixelRatio,y*S.pixelRatio,x*S.pixelRatio),D.clear({color:C}),L.disable(L.SCISSOR_TEST)}function rd(S,c,p){const y=S.context,x=y.gl,C=p.posMatrix,D=S.useProgram("debug"),L=_r.disabled,B=hn.disabled,q=S.colorModeForRenderPass(),H="$debug",Y=S.style.map.terrain&&S.style.map.terrain.getTerrainData(p);y.activeTexture.set(x.TEXTURE0);const ee=c.getTileByID(p.key).latestRawTileData,ue=Math.floor((ee&&ee.byteLength||0)/1024),ce=c.getTile(p).tileSize,ge=512/Math.min(ce,512)*(p.overscaledZ/S.transform.zoom)*.5;let le=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(le+=` => ${p.overscaledZ}`),function($e,We){$e.initDebugOverlayCanvas();const we=$e.debugOverlayCanvas,ze=$e.context.gl,Ye=$e.debugOverlayCanvas.getContext("2d");Ye.clearRect(0,0,we.width,we.height),Ye.shadowColor="white",Ye.shadowBlur=2,Ye.lineWidth=1.5,Ye.strokeStyle="white",Ye.textBaseline="top",Ye.font="bold 36px Open Sans, sans-serif",Ye.fillText(We,5,5),Ye.strokeText(We,5,5),$e.debugOverlayTexture.update(we),$e.debugOverlayTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE)}(S,`${le} ${ue}kB`),D.draw(y,x.TRIANGLES,L,B,Pn.alphaBlended,pn.disabled,X_(C,a.Color.transparent,ge),null,H,S.debugBuffer,S.quadTriangleIndexBuffer,S.debugSegments),D.draw(y,x.LINE_STRIP,L,B,q,pn.disabled,X_(C,a.Color.red),Y,H,S.debugBuffer,S.tileBorderIndexBuffer,S.debugSegments)}function Nh(S,c,p){const y=S.context,x=y.gl,C=S.colorModeForRenderPass(),D=new _r(x.LEQUAL,_r.ReadWrite,S.depthRangeFor3D),L=S.useProgram("terrain"),B=c.getTerrainMesh();y.bindFramebuffer.set(null),y.viewport.set([0,0,S.width,S.height]);for(const q of p){const H=S.renderToTexture.getTexture(q),Y=c.getTerrainData(q.tileID);y.activeTexture.set(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,H.texture);const ee={u_matrix:S.transform.calculatePosMatrix(q.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(S.transform.zoom)};L.draw(y,x.TRIANGLES,D,hn.disabled,C,pn.backCCW,ee,Y,"terrain",B.vertexBuffer,B.indexBuffer,B.segments)}}class ux{constructor(c,p){this.context=new Rh(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=cr.maxUnderzooming+cr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Xn}resize(c,p,y){if(this.width=Math.floor(c*y),this.height=Math.floor(p*y),this.pixelRatio=y,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style._order)this.style._layers[x].resize()}setup(){const c=this.context,p=new a.PosArray;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,_h.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const y=new a.PosArray;y.emplaceBack(0,0),y.emplaceBack(a.EXTENT,0),y.emplaceBack(0,a.EXTENT),y.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(y,_h.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const x=new a.RasterBoundsArray;x.emplaceBack(0,0,0,0),x.emplaceBack(a.EXTENT,0,a.EXTENT,0),x.emplaceBack(0,a.EXTENT,0,a.EXTENT),x.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(x,Je.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const C=new a.PosArray;C.emplaceBack(0,0),C.emplaceBack(1,0),C.emplaceBack(0,1),C.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(C,_h.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const D=new a.LineStripIndexArray;D.emplaceBack(0),D.emplaceBack(1),D.emplaceBack(3),D.emplaceBack(2),D.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(D);const L=new a.TriangleIndexArray;L.emplaceBack(0,1,2),L.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(L);const B=this.context.gl;this.stencilClearMode=new hn({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const y=a.create();a.ortho(y,0,this.width,this.height,0,0,1),a.scale(y,y,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,_r.disabled,this.stencilClearMode,Pn.disabled,pn.disabled,Sh(y),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const y=this.context,x=y.gl;this.nextStencilID+p.length>256&&this.clearStencil(),y.setColorMode(Pn.disabled),y.setDepthMode(_r.disabled);const C=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of p){const L=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,B=this.style.map.terrain&&this.style.map.terrain.getTerrainData(D);C.draw(y,x.TRIANGLES,_r.disabled,new hn({func:x.ALWAYS,mask:0},L,255,x.KEEP,x.KEEP,x.REPLACE),Pn.disabled,pn.disabled,Sh(D.posMatrix),B,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new hn({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new hn({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,y=c.sort((D,L)=>L.overscaledZ-D.overscaledZ),x=y[y.length-1].overscaledZ,C=y[0].overscaledZ-x+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();const D={};for(let L=0;L<C;L++)D[L+x]=new hn({func:p.GEQUAL,mask:255},L+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=C,[D,y]}return[{[x]:hn.disabled},y]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Pn([c.CONSTANT_COLOR,c.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Pn.unblended:Pn.alphaBlended}depthModeForSublayer(c,p,y){if(!this.opaquePassEnabledForLayer())return _r.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new _r(y||this.context.gl.LEQUAL,p,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();const y=this.style._order,x=this.style.sourceCaches,C={},D={},L={};for(const B in x){const q=x[B];q.used&&q.prepare(this.context),C[B]=q.getVisibleCoordinates(),D[B]=C[B].slice().reverse(),L[B]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let B=0;B<y.length;B++)if(this.style._layers[y[B]].is3D()){this.opaquePassCutoff=B;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const B=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||B.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(q,H){const Y=q.context,ee=Y.gl,ue=Pn.unblended,ce=new _r(ee.LEQUAL,_r.ReadWrite,[0,1]),ge=H.getTerrainMesh(),le=H.sourceCache.getRenderableTiles(),$e=q.useProgram("terrainDepth");Y.bindFramebuffer.set(H.getFramebuffer("depth").framebuffer),Y.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),Y.clear({color:a.Color.transparent,depth:1});for(const We of le){const we=H.getTerrainData(We.tileID),ze={u_matrix:q.transform.calculatePosMatrix(We.tileID.toUnwrapped()),u_ele_delta:H.getMeshFrameDelta(q.transform.zoom)};$e.draw(Y,ee.TRIANGLES,ce,hn.disabled,ue,pn.backCCW,ze,we,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments)}Y.bindFramebuffer.set(null),Y.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain),function(q,H){const Y=q.context,ee=Y.gl,ue=Pn.unblended,ce=new _r(ee.LEQUAL,_r.ReadWrite,[0,1]),ge=H.getTerrainMesh(),le=H.getCoordsTexture(),$e=H.sourceCache.getRenderableTiles(),We=q.useProgram("terrainCoords");Y.bindFramebuffer.set(H.getFramebuffer("coords").framebuffer),Y.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),Y.clear({color:a.Color.transparent,depth:1}),H.coordsIndex=[];for(const we of $e){const ze=H.getTerrainData(we.tileID);Y.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,le.texture);const Ye={u_matrix:q.transform.calculatePosMatrix(we.tileID.toUnwrapped()),u_terrain_coords_id:(255-H.coordsIndex.length)/255,u_texture:0,u_ele_delta:H.getMeshFrameDelta(q.transform.zoom)};We.draw(Y,ee.TRIANGLES,ce,hn.disabled,ue,pn.backCCW,Ye,ze,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments),H.coordsIndex.push(we.tileID.key)}Y.bindFramebuffer.set(null),Y.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const B of y){const q=this.style._layers[B];if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const H=D[q.source];(q.type==="custom"||H.length)&&this.renderLayer(this,x[q.source],q,H)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const B=this.style._layers[y[this.currentLayer]],q=x[B.source],H=C[B.source];this._renderTileClippingMasks(B,H),this.renderLayer(this,q,B,H)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const B=this.style._layers[y[this.currentLayer]],q=x[B.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(B))continue;const H=(B.type==="symbol"?L:D)[B.source];this._renderTileClippingMasks(B,C[B.source]),this.renderLayer(this,q,B,H)}if(this.options.showTileBoundaries){const B=function(q,H){let Y=null;const ee=Object.values(q._layers).flatMap(le=>le.source&&!le.isHidden(H)?[q.sourceCaches[le.source]]:[]),ue=ee.filter(le=>le.getSource().type==="vector"),ce=ee.filter(le=>le.getSource().type!=="vector"),ge=le=>{(!Y||Y.getSource().maxzoom<le.getSource().maxzoom)&&(Y=le)};return ue.forEach(le=>ge(le)),Y||ce.forEach(le=>ge(le)),Y}(this.style,this.transform.zoom);B&&function(q,H,Y){for(let ee=0;ee<Y.length;ee++)rd(q,H,Y[ee])}(this,B,B.getVisibleCoordinates())}this.options.showPadding&&function(B){const q=B.transform.padding;zh(B,B.transform.height-(q.top||0),3,cx),zh(B,q.bottom||0,3,Qn),Hg(B,q.left||0,3,mc),Hg(B,B.transform.width-(q.right||0),3,sa);const H=B.transform.centerPoint;(function(Y,ee,ue,ce){zs(Y,ee-1,ue-10,2,20,ce),zs(Y,ee-10,ue-1,20,2,ce)})(B,H.x,B.transform.height-H.y,qg)}(this),this.context.setDefault()}renderLayer(c,p,y,x){if(!y.isHidden(this.transform.zoom)&&(y.type==="background"||y.type==="custom"||(x||[]).length))switch(this.id=y.id,y.type){case"symbol":(function(C,D,L,B,q){if(C.renderPass!=="translucent")return;const H=hn.disabled,Y=C.colorModeForRenderPass();(L._unevaluatedLayout.hasValue("text-variable-anchor")||L._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(ee,ue,ce,ge,le,$e,We){const we=ue.transform,ze=le==="map",Ye=$e==="map";for(const Ze of ee){const tt=ge.getTile(Ze),dt=tt.getBucket(ce);if(!dt||!dt.text||!dt.text.segments.get().length)continue;const ot=a.evaluateSizeForZoom(dt.textSizeData,we.zoom),pt=Ae(tt,1,ue.transform.zoom),jt=Jr(Ze.posMatrix,Ye,ze,ue.transform,pt),xr=ce.layout.get("icon-text-fit")!=="none"&&dt.hasIconData();if(ot){const xt=Math.pow(2,we.zoom-tt.tileID.overscaledZ);Fg(dt,ze,Ye,We,we,jt,Ze.posMatrix,xt,ot,xr,ue.style.map.terrain?(er,$t)=>ue.style.map.terrain.getElevation(Ze,er,$t):null)}}}(B,C,L,D,L.layout.get("text-rotation-alignment"),L.layout.get("text-pitch-alignment"),q),L.paint.get("icon-opacity").constantOr(1)!==0&&Ug(C,D,L,B,!1,L.paint.get("icon-translate"),L.paint.get("icon-translate-anchor"),L.layout.get("icon-rotation-alignment"),L.layout.get("icon-pitch-alignment"),L.layout.get("icon-keep-upright"),H,Y),L.paint.get("text-opacity").constantOr(1)!==0&&Ug(C,D,L,B,!0,L.paint.get("text-translate"),L.paint.get("text-translate-anchor"),L.layout.get("text-rotation-alignment"),L.layout.get("text-pitch-alignment"),L.layout.get("text-keep-upright"),H,Y),D.map.showCollisionBoxes&&(ed(C,D,L,B,L.paint.get("text-translate"),L.paint.get("text-translate-anchor"),!0),ed(C,D,L,B,L.paint.get("icon-translate"),L.paint.get("icon-translate-anchor"),!1))})(c,p,y,x,this.style.placement.variableOffsets);break;case"circle":(function(C,D,L,B){if(C.renderPass!=="translucent")return;const q=L.paint.get("circle-opacity"),H=L.paint.get("circle-stroke-width"),Y=L.paint.get("circle-stroke-opacity"),ee=!L.layout.get("circle-sort-key").isConstant();if(q.constantOr(1)===0&&(H.constantOr(1)===0||Y.constantOr(1)===0))return;const ue=C.context,ce=ue.gl,ge=C.depthModeForSublayer(0,_r.ReadOnly),le=hn.disabled,$e=C.colorModeForRenderPass(),We=[];for(let we=0;we<B.length;we++){const ze=B[we],Ye=D.getTile(ze),Ze=Ye.getBucket(L);if(!Ze)continue;const tt=Ze.programConfigurations.get(L.id),dt=C.useProgram("circle",tt),ot=Ze.layoutVertexBuffer,pt=Ze.indexBuffer,jt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(ze),xr={programConfiguration:tt,program:dt,layoutVertexBuffer:ot,indexBuffer:pt,uniformValues:BE(C,ze,Ye,L),terrainData:jt};if(ee){const xt=Ze.segments.get();for(const er of xt)We.push({segments:new a.SegmentVector([er]),sortKey:er.sortKey,state:xr})}else We.push({segments:Ze.segments,sortKey:0,state:xr})}ee&&We.sort((we,ze)=>we.sortKey-ze.sortKey);for(const we of We){const{programConfiguration:ze,program:Ye,layoutVertexBuffer:Ze,indexBuffer:tt,uniformValues:dt,terrainData:ot}=we.state;Ye.draw(ue,ce.TRIANGLES,ge,le,$e,pn.disabled,dt,ot,L.id,Ze,tt,we.segments,L.paint,C.transform.zoom,ze)}})(c,p,y,x);break;case"heatmap":(function(C,D,L,B){if(L.paint.get("heatmap-opacity")!==0)if(C.renderPass==="offscreen"){const q=C.context,H=q.gl,Y=hn.disabled,ee=new Pn([H.ONE,H.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ue,ce,ge){const le=ue.gl;ue.activeTexture.set(le.TEXTURE1),ue.viewport.set([0,0,ce.width/4,ce.height/4]);let $e=ge.heatmapFbo;if($e)le.bindTexture(le.TEXTURE_2D,$e.colorAttachment.get()),ue.bindFramebuffer.set($e.framebuffer);else{const We=le.createTexture();le.bindTexture(le.TEXTURE_2D,We),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),$e=ge.heatmapFbo=ue.createFramebuffer(ce.width/4,ce.height/4,!1,!1),function(we,ze,Ye,Ze){var tt,dt;const ot=we.gl,pt=(tt=we.HALF_FLOAT)!==null&&tt!==void 0?tt:ot.UNSIGNED_BYTE,jt=(dt=we.RGBA16F)!==null&&dt!==void 0?dt:ot.RGBA;ot.texImage2D(ot.TEXTURE_2D,0,jt,ze.width/4,ze.height/4,0,ot.RGBA,pt,null),Ze.colorAttachment.set(Ye)}(ue,ce,We,$e)}})(q,C,L),q.clear({color:a.Color.transparent});for(let ue=0;ue<B.length;ue++){const ce=B[ue];if(D.hasRenderableParent(ce))continue;const ge=D.getTile(ce),le=ge.getBucket(L);if(!le)continue;const $e=le.programConfigurations.get(L.id),We=C.useProgram("heatmap",$e),{zoom:we}=C.transform;We.draw(q,H.TRIANGLES,_r.disabled,Y,ee,pn.disabled,J_(ce.posMatrix,ge,we,L.paint.get("heatmap-intensity")),null,L.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,L.paint,C.transform.zoom,$e)}q.viewport.set([0,0,C.width,C.height])}else C.renderPass==="translucent"&&(C.context.setColorMode(C.colorModeForRenderPass()),function(q,H){const Y=q.context,ee=Y.gl,ue=H.heatmapFbo;if(!ue)return;Y.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,ue.colorAttachment.get()),Y.activeTexture.set(ee.TEXTURE1);let ce=H.colorRampTexture;ce||(ce=H.colorRampTexture=new ne(Y,H.colorRamp,ee.RGBA)),ce.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),q.useProgram("heatmapTexture").draw(Y,ee.TRIANGLES,_r.disabled,hn.disabled,q.colorModeForRenderPass(),pn.disabled,((ge,le,$e,We)=>{const we=a.create();a.ortho(we,0,ge.width,ge.height,0,0,1);const ze=ge.context.gl;return{u_matrix:we,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:le.paint.get("heatmap-opacity")}})(q,H),null,H.id,q.viewportBuffer,q.quadTriangleIndexBuffer,q.viewportSegments,H.paint,q.transform.zoom)}(C,L))})(c,p,y,x);break;case"line":(function(C,D,L,B){if(C.renderPass!=="translucent")return;const q=L.paint.get("line-opacity"),H=L.paint.get("line-width");if(q.constantOr(1)===0||H.constantOr(1)===0)return;const Y=C.depthModeForSublayer(0,_r.ReadOnly),ee=C.colorModeForRenderPass(),ue=L.paint.get("line-dasharray"),ce=L.paint.get("line-pattern"),ge=ce.constantOr(1),le=L.paint.get("line-gradient"),$e=L.getCrossfadeParameters(),We=ge?"linePattern":ue?"lineSDF":le?"lineGradient":"line",we=C.context,ze=we.gl;let Ye=!0;for(const Ze of B){const tt=D.getTile(Ze);if(ge&&!tt.patternsLoaded())continue;const dt=tt.getBucket(L);if(!dt)continue;const ot=dt.programConfigurations.get(L.id),pt=C.context.program.get(),jt=C.useProgram(We,ot),xr=Ye||jt.program!==pt,xt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ze),er=ce.constantOr(null);if(er&&tt.imageAtlas){const vr=tt.imageAtlas,dr=vr.patternPositions[er.to.toString()],tr=vr.patternPositions[er.from.toString()];dr&&tr&&ot.setConstantPatternPositions(dr,tr)}const $t=xt?Ze:null,sn=ge?uc(C,tt,L,$e,$t):ue?Ch(C,tt,L,ue,$e,$t):le?ex(C,tt,L,dt.lineClipsArray.length,$t):Eh(C,tt,L,$t);if(ge)we.activeTexture.set(ze.TEXTURE0),tt.imageAtlasTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE),ot.updatePaintBuffers($e);else if(ue&&(xr||C.lineAtlas.dirty))we.activeTexture.set(ze.TEXTURE0),C.lineAtlas.bind(we);else if(le){const vr=dt.gradients[L.id];let dr=vr.texture;if(L.gradientVersion!==vr.version){let tr=256;if(L.stepInterpolant){const Bn=D.getSource().maxzoom,Hr=Ze.canonical.z===Bn?Math.ceil(1<<C.transform.maxZoom-Ze.canonical.z):1;tr=a.clamp(a.nextPowerOfTwo(dt.maxLineLength/a.EXTENT*1024*Hr),256,we.maxTextureSize)}vr.gradient=a.renderColorRamp({expression:L.gradientExpression(),evaluationKey:"lineProgress",resolution:tr,image:vr.gradient||void 0,clips:dt.lineClipsArray}),vr.texture?vr.texture.update(vr.gradient):vr.texture=new ne(we,vr.gradient,ze.RGBA),vr.version=L.gradientVersion,dr=vr.texture}we.activeTexture.set(ze.TEXTURE0),dr.bind(L.stepInterpolant?ze.NEAREST:ze.LINEAR,ze.CLAMP_TO_EDGE)}jt.draw(we,ze.TRIANGLES,Y,C.stencilModeForClipping(Ze),ee,pn.disabled,sn,xt,L.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,L.paint,C.transform.zoom,ot,dt.layoutVertexBuffer2),Ye=!1}})(c,p,y,x);break;case"fill":(function(C,D,L,B){const q=L.paint.get("fill-color"),H=L.paint.get("fill-opacity");if(H.constantOr(1)===0)return;const Y=C.colorModeForRenderPass(),ee=L.paint.get("fill-pattern"),ue=C.opaquePassEnabledForLayer()&&!ee.constantOr(1)&&q.constantOr(a.Color.transparent).a===1&&H.constantOr(0)===1?"opaque":"translucent";if(C.renderPass===ue){const ce=C.depthModeForSublayer(1,C.renderPass==="opaque"?_r.ReadWrite:_r.ReadOnly);Vg(C,D,L,B,ce,Y,!1)}if(C.renderPass==="translucent"&&L.paint.get("fill-antialias")){const ce=C.depthModeForSublayer(L.getPaintProperty("fill-outline-color")?2:0,_r.ReadOnly);Vg(C,D,L,B,ce,Y,!0)}})(c,p,y,x);break;case"fill-extrusion":(function(C,D,L,B){const q=L.paint.get("fill-extrusion-opacity");if(q!==0&&C.renderPass==="translucent"){const H=new _r(C.context.gl.LEQUAL,_r.ReadWrite,C.depthRangeFor3D);if(q!==1||L.paint.get("fill-extrusion-pattern").constantOr(1))Dh(C,D,L,B,H,hn.disabled,Pn.disabled),Dh(C,D,L,B,H,C.stencilModeFor3D(),C.colorModeForRenderPass());else{const Y=C.colorModeForRenderPass();Dh(C,D,L,B,H,hn.disabled,Y)}}})(c,p,y,x);break;case"hillshade":(function(C,D,L,B){if(C.renderPass!=="offscreen"&&C.renderPass!=="translucent")return;const q=C.context,H=C.depthModeForSublayer(0,_r.ReadOnly),Y=C.colorModeForRenderPass(),[ee,ue]=C.renderPass==="translucent"?C.stencilConfigForOverlap(B):[{},B];for(const ce of ue){const ge=D.getTile(ce);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&C.renderPass==="offscreen"?Wg(C,ge,L,H,hn.disabled,Y):C.renderPass==="translucent"&&Lh(C,ce,ge,L,H,ee[ce.overscaledZ],Y)}q.viewport.set([0,0,C.width,C.height])})(c,p,y,x);break;case"raster":(function(C,D,L,B){if(C.renderPass!=="translucent"||L.paint.get("raster-opacity")===0||!B.length)return;const q=C.context,H=q.gl,Y=D.getSource(),ee=C.useProgram("raster"),ue=C.colorModeForRenderPass(),[ce,ge]=Y instanceof ct?[{},B]:C.stencilConfigForOverlap(B),le=ge[ge.length-1].overscaledZ,$e=!C.options.moving;for(const We of ge){const we=C.depthModeForSublayer(We.overscaledZ-le,L.paint.get("raster-opacity")===1?_r.ReadWrite:_r.ReadOnly,H.LESS),ze=D.getTile(We);ze.registerFadeDuration(L.paint.get("raster-fade-duration"));const Ye=D.findLoadedParent(We,0),Ze=QE(ze,Ye,D,L,C.transform,C.style.map.terrain);let tt,dt;const ot=L.paint.get("raster-resampling")==="nearest"?H.NEAREST:H.LINEAR;q.activeTexture.set(H.TEXTURE0),ze.texture.bind(ot,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),q.activeTexture.set(H.TEXTURE1),Ye?(Ye.texture.bind(ot,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),tt=Math.pow(2,Ye.tileID.overscaledZ-ze.tileID.overscaledZ),dt=[ze.tileID.canonical.x*tt%1,ze.tileID.canonical.y*tt%1]):ze.texture.bind(ot,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST);const pt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(We),jt=pt?We:null,xr=jt?jt.posMatrix:C.transform.calculatePosMatrix(We.toUnwrapped(),$e),xt=Th(xr,dt||[0,0],tt||1,Ze,L);Y instanceof ct?ee.draw(q,H.TRIANGLES,we,hn.disabled,ue,pn.disabled,xt,pt,L.id,Y.boundsBuffer,C.quadTriangleIndexBuffer,Y.boundsSegments):ee.draw(q,H.TRIANGLES,we,ce[We.overscaledZ],ue,pn.disabled,xt,pt,L.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments)}})(c,p,y,x);break;case"background":(function(C,D,L,B){const q=L.paint.get("background-color"),H=L.paint.get("background-opacity");if(H===0)return;const Y=C.context,ee=Y.gl,ue=C.transform,ce=ue.tileSize,ge=L.paint.get("background-pattern");if(C.isPatternMissing(ge))return;const le=!ge&&q.a===1&&H===1&&C.opaquePassEnabledForLayer()?"opaque":"translucent";if(C.renderPass!==le)return;const $e=hn.disabled,We=C.depthModeForSublayer(0,le==="opaque"?_r.ReadWrite:_r.ReadOnly),we=C.colorModeForRenderPass(),ze=C.useProgram(ge?"backgroundPattern":"background"),Ye=B||ue.coveringTiles({tileSize:ce,terrain:C.style.map.terrain});ge&&(Y.activeTexture.set(ee.TEXTURE0),C.imageManager.bind(C.context));const Ze=L.getCrossfadeParameters();for(const tt of Ye){const dt=B?tt.posMatrix:C.transform.calculatePosMatrix(tt.toUnwrapped()),ot=ge?kh(dt,H,C,ge,{tileID:tt,tileSize:ce},Ze):fc(dt,H,q),pt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(tt);ze.draw(Y,ee.TRIANGLES,We,$e,we,pn.disabled,ot,pt,L.id,C.tileExtentBuffer,C.quadTriangleIndexBuffer,C.tileExtentSegments)}})(c,0,y,x);break;case"custom":(function(C,D,L){const B=C.context,q=L.implementation;if(C.renderPass==="offscreen"){const H=q.prerender;H&&(C.setCustomLayerDefaults(),B.setColorMode(C.colorModeForRenderPass()),H.call(q,B.gl,C.transform.customLayerMatrix()),B.setDirty(),C.setBaseState())}else if(C.renderPass==="translucent"){C.setCustomLayerDefaults(),B.setColorMode(C.colorModeForRenderPass()),B.setStencilMode(hn.disabled);const H=q.renderingMode==="3d"?new _r(C.context.gl.LEQUAL,_r.ReadWrite,C.depthRangeFor3D):C.depthModeForSublayer(0,_r.ReadOnly);B.setDepthMode(H),q.render(B.gl,C.transform.customLayerMatrix()),B.setDirty(),C.setBaseState(),B.bindFramebuffer.set(null)}})(c,0,y)}}translatePosMatrix(c,p,y,x,C){if(!y[0]&&!y[1])return c;const D=C?x==="map"?this.transform.angle:0:x==="viewport"?-this.transform.angle:0;if(D){const q=Math.sin(D),H=Math.cos(D);y=[y[0]*H-y[1]*q,y[0]*q+y[1]*H]}const L=[C?y[0]:Ae(p,y[0],this.transform.zoom),C?y[1]:Ae(p,y[1],this.transform.zoom),0],B=new Float32Array(16);return a.translate(B,c,L),B}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),y=this.imageManager.getPattern(c.to.toString());return!p||!y}useProgram(c,p){this.cache=this.cache||{};const y=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[y]||(this.cache[y]=new wl(this.context,Hf[c],p,Vo[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[y]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ne(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class jh{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,y){const x=Math.pow(2,y),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(L=>{const B=1/(L=a.transformMat4([],L,c))[3]/p*x;return a.mul$1(L,L,[B,B,1/L[3],B])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(L=>{const B=function(ee,ue){var ce=ue[0],ge=ue[1],le=ue[2],$e=ce*ce+ge*ge+le*le;return $e>0&&($e=1/Math.sqrt($e)),ee[0]=ue[0]*$e,ee[1]=ue[1]*$e,ee[2]=ue[2]*$e,ee}([],function(ee,ue,ce){var ge=ue[0],le=ue[1],$e=ue[2],We=ce[0],we=ce[1],ze=ce[2];return ee[0]=le*ze-$e*we,ee[1]=$e*We-ge*ze,ee[2]=ge*we-le*We,ee}([],j([],C[L[0]],C[L[1]]),j([],C[L[2]],C[L[1]]))),q=-((H=B)[0]*(Y=C[L[1]])[0]+H[1]*Y[1]+H[2]*Y[2]);var H,Y;return B.concat(q)});return new jh(C,D)}}class nd{constructor(c,p){this.min=c,this.max=p,this.center=function(y,x,C){return y[0]=.5*x[0],y[1]=.5*x[1],y[2]=.5*x[2],y}([],function(y,x,C){return y[0]=x[0]+C[0],y[1]=x[1]+C[1],y[2]=x[2]+C[2],y}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],y=R(this.min),x=R(this.max);for(let C=0;C<p.length;C++)y[C]=p[C]?this.min[C]:this.center[C],x[C]=p[C]?this.center[C]:this.max[C];return x[2]=this.max[2],new nd(y,x)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let y=!0;for(let x=0;x<c.planes.length;x++){const C=c.planes[x];let D=0;for(let L=0;L<p.length;L++)a.dot(C,p[L])>=0&&D++;if(D===0)return 0;D!==p.length&&(y=!1)}if(y)return 2;for(let x=0;x<3;x++){let C=Number.MAX_VALUE,D=-Number.MAX_VALUE;for(let L=0;L<c.points.length;L++){const B=c.points[L][x]-this.min[x];C=Math.min(C,B),D=Math.max(D,B)}if(D<0||C>this.max[x]-this.min[x])return 0}return 1}}class Bh{constructor(c=0,p=0,y=0,x=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(y)||y<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=y,this.right=x}interpolate(c,p,y){return p.top!=null&&c.top!=null&&(this.top=a.interpolate.number(c.top,p.top,y)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.interpolate.number(c.bottom,p.bottom,y)),p.left!=null&&c.left!=null&&(this.left=a.interpolate.number(c.left,p.left,y)),p.right!=null&&c.right!=null&&(this.right=a.interpolate.number(c.right,p.right,y)),this}getCenter(c,p){const y=a.clamp((this.left+c-this.right)/2,0,c),x=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(y,x)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Bh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Fh{constructor(c,p,y,x,C){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=C===void 0||!!C,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=y??0,this._maxPitch=x??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Bh,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new Fh(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var y=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}(),function(y,x,C){var D=x[0],L=x[1],B=x[2],q=x[3],H=Math.sin(C),Y=Math.cos(C);y[0]=D*Y+B*H,y[1]=L*Y+q*H,y[2]=D*-H+B*Y,y[3]=L*-H+q*Y}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,y){this._unmodified=!1,this._edgeInsets.interpolate(c,p,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const y=this.pointCoordinate(new a.Point(0,0)),x=this.pointCoordinate(new a.Point(this.width,0)),C=this.pointCoordinate(new a.Point(this.width,this.height)),D=this.pointCoordinate(new a.Point(0,this.height)),L=Math.floor(Math.min(y.x,x.x,C.x,D.x)),B=Math.floor(Math.max(y.x,x.x,C.x,D.x)),q=1;for(let H=L-q;H<=B+q;H++)H!==0&&p.push(new a.UnwrappedTileID(H,c))}return p}coveringTiles(c){var p,y;let x=this.coveringZoomLevel(c);const C=x;if(c.minzoom!==void 0&&x<c.minzoom)return[];c.maxzoom!==void 0&&x>c.maxzoom&&(x=c.maxzoom);const D=this.pointCoordinate(this.getCameraPoint()),L=a.MercatorCoordinate.fromLngLat(this.center),B=Math.pow(2,x),q=[B*D.x,B*D.y,0],H=[B*L.x,B*L.y,0],Y=jh.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,x);let ee=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ee=x);const ue=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,ce=we=>({aabb:new nd([we*B,0,0],[(we+1)*B,B,0]),zoom:0,x:0,y:0,wrap:we,fullyVisible:!1}),ge=[],le=[],$e=x,We=c.reparseOverscaled?C:x;if(this._renderWorldCopies)for(let we=1;we<=3;we++)ge.push(ce(-we)),ge.push(ce(we));for(ge.push(ce(0));ge.length>0;){const we=ge.pop(),ze=we.x,Ye=we.y;let Ze=we.fullyVisible;if(!Ze){const jt=we.aabb.intersects(Y);if(jt===0)continue;Ze=jt===2}const tt=c.terrain?q:H,dt=we.aabb.distanceX(tt),ot=we.aabb.distanceY(tt),pt=Math.max(Math.abs(dt),Math.abs(ot));if(we.zoom===$e||pt>ue+(1<<$e-we.zoom)-2&&we.zoom>=ee){const jt=$e-we.zoom,xr=q[0]-.5-(ze<<jt),xt=q[1]-.5-(Ye<<jt);le.push({tileID:new a.OverscaledTileID(we.zoom===$e?We:we.zoom,we.wrap,we.zoom,ze,Ye),distanceSq:V([H[0]-.5-ze,H[1]-.5-Ye]),tileDistanceToCamera:Math.sqrt(xr*xr+xt*xt)})}else for(let jt=0;jt<4;jt++){const xr=(ze<<1)+jt%2,xt=(Ye<<1)+(jt>>1),er=we.zoom+1;let $t=we.aabb.quadrant(jt);if(c.terrain){const sn=new a.OverscaledTileID(er,we.wrap,er,xr,xt),vr=c.terrain.getMinMaxElevation(sn),dr=(p=vr.minElevation)!==null&&p!==void 0?p:this.elevation,tr=(y=vr.maxElevation)!==null&&y!==void 0?y:this.elevation;$t=new nd([$t.min[0],$t.min[1],dr],[$t.max[0],$t.max[1],tr])}ge.push({aabb:$t,zoom:er,x:xr,y:xt,wrap:we.wrap,fullyVisible:Ze})}}return le.sort((we,ze)=>we.distanceSq-ze.distanceSq).map(we=>we.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),y=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-y))return;const x=this.getCameraPosition(),C=a.MercatorCoordinate.fromLngLat(x.lngLat,x.altitude),D=a.MercatorCoordinate.fromLngLat(p,y),L=C.x-D.x,B=C.y-D.y,q=C.z-D.z,H=Math.sqrt(L*L+B*B+q*q),Y=this.scaleZoom(this.cameraToCenterDistance/H/this.tileSize);this._elevation=y,this._center=p,this.zoom=Y}setLocationAtPoint(c,p){const y=this.pointCoordinate(p),x=this.pointCoordinate(this.centerPoint),C=this.locationCoordinate(c),D=new a.MercatorCoordinate(C.x-(y.x-x.x),C.y-(y.y-x.y));this.center=this.coordinateLocation(D),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const ee=p.pointCoordinate(c);if(ee!=null)return ee}const y=[c.x,c.y,0,1],x=[c.x,c.y,1,1];a.transformMat4(y,y,this.pixelMatrixInverse),a.transformMat4(x,x,this.pixelMatrixInverse);const C=y[3],D=x[3],L=y[1]/C,B=x[1]/D,q=y[2]/C,H=x[2]/D,Y=q===H?0:(0-q)/(H-q);return new a.MercatorCoordinate(a.interpolate.number(y[0]/C,x[0]/D,Y)/this.worldSize,a.interpolate.number(L,B,Y)/this.worldSize)}coordinatePoint(c,p=0,y=this.pixelMatrix){const x=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.transformMat4(x,x,y),new a.Point(x[0]/x[3],x[1]/x[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new Oe().extend(this.pointLocation(new a.Point(0,c))).extend(this.pointLocation(new a.Point(this.width,c))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Oe([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const y=c.key,x=p?this._alignedPosMatrixCache:this._posMatrixCache;if(x[y])return x[y];const C=c.canonical,D=this.worldSize/this.zoomScale(C.z),L=C.x+Math.pow(2,C.z)*c.wrap,B=a.identity(new Float64Array(16));return a.translate(B,B,[L*D,C.y*D,0]),a.scale(B,B,[D/a.EXTENT,D/a.EXTENT,1]),a.multiply(B,p?this.alignedProjMatrix:this.projMatrix,B),x[y]=new Float32Array(B),x[y]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,y,x,C=-90,D=90,L=-180,B=180;const q=this.size,H=this._unmodified;if(this.latRange){const ue=this.latRange;C=a.mercatorYfromLat(ue[1])*this.worldSize,D=a.mercatorYfromLat(ue[0])*this.worldSize,c=D-C<q.y?q.y/(D-C):0}if(this.lngRange){const ue=this.lngRange;L=a.wrap(a.mercatorXfromLng(ue[0])*this.worldSize,0,this.worldSize),B=a.wrap(a.mercatorXfromLng(ue[1])*this.worldSize,0,this.worldSize),B<L&&(B+=this.worldSize),p=B-L<q.x?q.x/(B-L):0}const Y=this.point,ee=Math.max(p||0,c||0);if(ee)return this.center=this.unproject(new a.Point(p?(B+L)/2:Y.x,c?(D+C)/2:Y.y)),this.zoom+=this.scaleZoom(ee),this._unmodified=H,void(this._constraining=!1);if(this.latRange){const ue=Y.y,ce=q.y/2;ue-ce<C&&(x=C+ce),ue+ce>D&&(x=D-ce)}if(this.lngRange){const ue=(L+B)/2,ce=a.wrap(Y.x,ue-this.worldSize/2,ue+this.worldSize/2),ge=q.x/2;ce-ge<L&&(y=L+ge),ce+ge>B&&(y=B-ge)}y===void 0&&x===void 0||(this.center=this.unproject(new a.Point(y!==void 0?y:Y.x,x!==void 0?x:Y.y)).wrap()),this._unmodified=H,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,y=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let x=a.identity(new Float64Array(16));a.scale(x,x,[this.width/2,-this.height/2,1]),a.translate(x,x,[1,-1,0]),this.labelPlaneMatrix=x,x=a.identity(new Float64Array(16)),a.scale(x,x,[1,-1,1]),a.translate(x,x,[-1,-1,0]),a.scale(x,x,[2/this.width,2/this.height,1]),this.glCoordMatrix=x;const C=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),D=Math.min(this.elevation,this._minEleveationForCurrentTile),L=C-D*this._pixelPerMeter/Math.cos(this._pitch),B=D<0?L:C,q=Math.PI/2+this._pitch,H=this._fov*(.5+c.y/this.height),Y=Math.sin(H)*B/Math.sin(a.clamp(Math.PI-q-H,.01,Math.PI-.01)),ee=this.getHorizon(),ue=2*Math.atan(ee/this.cameraToCenterDistance)*(.5+c.y/(2*ee)),ce=Math.sin(ue)*B/Math.sin(a.clamp(Math.PI-q-ue,.01,Math.PI-.01)),ge=Math.min(Y,ce),le=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+B),$e=this.height/50;x=new Float64Array(16),a.perspective(x,this._fov,this.width/this.height,$e,le),x[8]=2*-c.x/this.width,x[9]=2*c.y/this.height,a.scale(x,x,[1,-1,1]),a.translate(x,x,[0,0,-this.cameraToCenterDistance]),a.rotateX(x,x,this._pitch),a.rotateZ(x,x,this.angle),a.translate(x,x,[-p,-y,0]),this.mercatorMatrix=a.scale([],x,[this.worldSize,this.worldSize,this.worldSize]),a.scale(x,x,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,x),a.translate(x,x,[0,0,-this.elevation]),this.projMatrix=x,this.invProjMatrix=a.invert([],x),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,x);const We=this.width%2/2,we=this.height%2/2,ze=Math.cos(this.angle),Ye=Math.sin(this.angle),Ze=p-Math.round(p)+ze*We+Ye*we,tt=y-Math.round(y)+ze*we+Ye*We,dt=new Float64Array(x);if(a.translate(dt,dt,[Ze>.5?Ze-1:Ze,tt>.5?tt-1:tt,0]),this.alignedProjMatrix=dt,x=a.invert(new Float64Array(16),this.pixelMatrix),!x)throw new Error("failed to invert matrix");this.pixelMatrixInverse=x,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let y=p.x,x=p.y,C=p.x,D=p.y;for(const L of c)y=Math.min(y,L.x),x=Math.min(x,L.y),C=Math.max(C,L.x),D=Math.max(D,L.y);return[new a.Point(y,x),new a.Point(C,x),new a.Point(C,D),new a.Point(y,D),new a.Point(y,x)]}}}class gc{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let y;return p.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(y=x)}),(y&&y[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(y=>isNaN(y))){const y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:y,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=function(p,y){let x=!1,C=null;const D=()=>{C=null,x&&(p(),C=setTimeout(D,300),x=!1)};return()=>(x=!0,C||D(),C)}(this._updateHashUnthrottled),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),y=Math.round(100*this._map.getZoom())/100,x=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,x),D=Math.round(p.lng*C)/C,L=Math.round(p.lat*C)/C,B=this._map.getBearing(),q=this._map.getPitch();let H="";if(H+=c?`/${D}/${L}/${y}`:`${y}/${L}/${D}`,(B||q)&&(H+="/"+Math.round(10*B)/10),q&&(H+=`/${Math.round(q)}`),this._hashName){const Y=this._hashName;let ee=!1;const ue=window.location.hash.slice(1).split("&").map(ce=>{const ge=ce.split("=")[0];return ge===Y?(ee=!0,`${ge}=${H}`):ce}).filter(ce=>ce);return ee||ue.push(`${Y}=${H}`),`#${ue.join("&")}`}return`#${H}`}}const id={linearity:.3,easing:a.bezier(0,0,.3,1)},fx=a.extend({deceleration:2500,maxSpeed:1400},id),dx=a.extend({deceleration:20,maxSpeed:1400},id),hx=a.extend({deceleration:1e3,maxSpeed:360},id),px=a.extend({deceleration:1e3,maxSpeed:90},id);class mx{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.browser.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:C}of this._inertiaBuffer)p.zoom+=C.zoomDelta||0,p.bearing+=C.bearingDelta||0,p.pitch+=C.pitchDelta||0,C.panDelta&&p.pan._add(C.panDelta),C.around&&(p.around=C.around),C.pinchAround&&(p.pinchAround=C.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(p.pan.mag()){const C=od(p.pan.mag(),y,a.extend({},fx,c||{}));x.offset=p.pan.mult(C.amount/p.pan.mag()),x.center=this._map.transform.center,Sl(x,C)}if(p.zoom){const C=od(p.zoom,y,dx);x.zoom=this._map.transform.zoom+C.amount,Sl(x,C)}if(p.bearing){const C=od(p.bearing,y,hx);x.bearing=this._map.transform.bearing+a.clamp(C.amount,-179,179),Sl(x,C)}if(p.pitch){const C=od(p.pitch,y,px);x.pitch=this._map.transform.pitch+C.amount,Sl(x,C)}if(x.zoom||x.bearing){const C=p.pinchAround===void 0?p.around:p.pinchAround;x.around=C?this._map.unproject(C):this._map.getCenter()}return this.clear(),a.extend(x,{noMoveStart:!0})}}function Sl(S,c){(!S.duration||S.duration<c.duration)&&(S.duration=c.duration,S.easing=c.easing)}function od(S,c,p){const{maxSpeed:y,linearity:x,deceleration:C}=p,D=a.clamp(S*x/(c/1e3),-y,y),L=Math.abs(D)/(C*x);return{easing:p.easing,duration:1e3*L,amount:D*(L/2)}}class ei extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y,x={}){const C=h.mousePos(p.getCanvasContainer(),y),D=p.unproject(C);super(c,a.extend({point:C,lngLat:D,originalEvent:y},x)),this._defaultPrevented=!1,this.target=p}}class la extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y){const x=c==="touchend"?y.changedTouches:y.touches,C=h.touchPos(p.getCanvasContainer(),x),D=C.map(B=>p.unproject(B)),L=C.reduce((B,q,H,Y)=>B.add(q.div(Y.length)),new a.Point(0,0));super(c,{points:C,point:L,lngLats:D,lngLat:p.unproject(L),originalEvent:y}),this._defaultPrevented=!1}}class gx extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y){super(c,{originalEvent:y}),this._defaultPrevented=!1}}class Ns{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new gx(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new ei(c.type,this._map,c))}mouseup(c){this._map.fire(new ei(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new ei(c.type,this._map,c))}dblclick(c){return this._firePreventable(new ei(c.type,this._map,c))}mouseover(c){this._map.fire(new ei(c.type,this._map,c))}mouseout(c){this._map.fire(new ei(c.type,this._map,c))}touchstart(c){return this._firePreventable(new la(c.type,this._map,c))}touchmove(c){this._map.fire(new la(c.type,this._map,c))}touchend(c){this._map.fire(new la(c.type,this._map,c))}touchcancel(c){this._map.fire(new la(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ad{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new ei(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ei("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new ei(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class sd{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.Point.convert(c),this._map.terrain)}}class eC{constructor(c,p){this._map=c,this._tr=new sd(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const y=p;if(this._lastPos.equals(y)||!this._box&&y.dist(this._startPos)<this._clickTolerance)return;const x=this._startPos;this._lastPos=y,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const C=Math.min(x.x,y.x),D=Math.max(x.x,y.x),L=Math.min(x.y,y.y),B=Math.max(x.y,y.y);h.setTransform(this._box,`translate(${C}px,${L}px)`),this._box.style.width=D-C+"px",this._box.style.height=B-L+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const y=this._startPos,x=p;if(this.reset(),h.suppressClick(),y.x!==x.x||y.y!==x.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:C=>C.fitScreenCoordinates(y,x,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))}}function Gg(S,c){if(S.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${S.length}, points ${c.length}`);const p={};for(let y=0;y<S.length;y++)p[S[y].identifier]=c[y];return p}class yx{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),y.length===this.numTouches&&(this.centroid=function(x){const C=new a.Point(0,0);for(const D of x)C._add(D);return C.div(x.length)}(p),this.touches=Gg(y,p)))}touchmove(c,p,y){if(this.aborted||!this.centroid)return;const x=Gg(y,p);for(const C in this.touches){const D=x[C];(!D||D.dist(this.touches[C])>30)&&(this.aborted=!0)}}touchend(c,p,y){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),y.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class yc{constructor(c){this.singleTap=new yx(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,y){this.singleTap.touchstart(c,p,y)}touchmove(c,p,y){this.singleTap.touchmove(c,p,y)}touchend(c,p,y){const x=this.singleTap.touchend(c,p,y);if(x){const C=c.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(x)<30;if(C&&D||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class El{constructor(c){this._tr=new sd(c),this._zoomIn=new yc({numTouches:1,numTaps:2}),this._zoomOut=new yc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,y){this._zoomIn.touchstart(c,p,y),this._zoomOut.touchstart(c,p,y)}touchmove(c,p,y){this._zoomIn.touchmove(c,p,y),this._zoomOut.touchmove(c,p,y)}touchend(c,p,y){const x=this._zoomIn.touchend(c,p,y),C=this._zoomOut.touchend(c,p,y),D=this._tr;return x?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(x)},{originalEvent:c})}):C?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(C)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pt{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const y=this._lastPoint;if(!y)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const x=p.length?p[0]:p;return!this._moved&&x.dist(y)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=x,this._move(y,x))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const vx={0:1,2:2};class vc{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,y){const x=vx[y];return p.buttons===void 0||(p.buttons&x)!==x}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class bu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const Uh=S=>{S.mousedown=S.dragStart,S.mousemoveWindow=S.dragMove,S.mouseup=S.dragEnd,S.contextmenu=function(c){c.preventDefault()}},Tt=({enable:S,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const y=new vc({checkCorrectEvent:x=>h.mouseButton(x)===0&&x.ctrlKey||h.mouseButton(x)===2});return new Pt({clickTolerance:c,move:(x,C)=>({bearingDelta:(C.x-x.x)*p}),moveStateManager:y,enable:S,assignEvents:Uh})},Vh=({enable:S,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const y=new vc({checkCorrectEvent:x=>h.mouseButton(x)===0&&x.ctrlKey||h.mouseButton(x)===2});return new Pt({clickTolerance:c,move:(x,C)=>({pitchDelta:(C.y-x.y)*p}),moveStateManager:y,enable:S,assignEvents:Uh})};class tC{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,y){return this._calculateTransform(c,p,y)}touchmove(c,p,y){if(this._map._cooperativeGestures&&(this._minTouches===2&&y.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,y.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(y.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,y)}touchend(c,p,y){this._calculateTransform(c,p,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,y){y.length>0&&(this._active=!0);const x=Gg(y,p),C=new a.Point(0,0),D=new a.Point(0,0);let L=0;for(const q in x){const H=x[q],Y=this._touches[q];Y&&(C._add(H),D._add(H.sub(Y)),L++,x[q]=H)}if(this._touches=x,L<this._minTouches||!D.mag())return;const B=D.div(L);return this._sum._add(B),this._sum.mag()<this._clickTolerance?void 0:{around:C.div(L),panDelta:B}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yg{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,y){if(!this._firstTwoTouches)return;c.preventDefault();const[x,C]=this._firstTwoTouches,D=wu(y,p,x),L=wu(y,p,C);if(!D||!L)return;const B=this._aroundCenter?null:D.add(L).div(2);return this._move([D,L],B,c)}touchend(c,p,y){if(!this._firstTwoTouches)return;const[x,C]=this._firstTwoTouches,D=wu(y,p,x),L=wu(y,p,C);D&&L||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function wu(S,c,p){for(let y=0;y<S.length;y++)if(S[y].identifier===p)return c[y]}function Kg(S,c){return Math.log(S/c)/Math.LN2}class _x extends Yg{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const y=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Kg(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Kg(this._distance,y),pinchAround:p}}}function xx(S,c){return 180*S.angleWith(c)/Math.PI}class rC extends Yg{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const y=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:xx(this._vector,y),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,y=xx(c,this._startVector);return Math.abs(y)<p}}function ld(S){return Math.abs(S.y)>Math.abs(S.x)}class Zg extends Yg{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,y){super.touchstart(c,p,y),this._currentTouchCount=y.length}_start(c){this._lastPoints=c,ld(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,y){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const x=c[0].sub(this._lastPoints[0]),C=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(x,C,y.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(x.y+C.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,y){if(this._valid!==void 0)return this._valid;const x=c.mag()>=2,C=p.mag()>=2;if(!x&&!C)return;if(!x||!C)return this._firstMove===void 0&&(this._firstMove=y),y-this._firstMove<100&&void 0;const D=c.y>0==p.y>0;return ld(c)&&ld(p)&&D}}const Xg={panStep:100,bearingStep:15,pitchStep:10};class Jg{constructor(c){this._tr=new sd(c);const p=Xg;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,y=0,x=0,C=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),C=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),C=1);break;case 38:c.shiftKey?x=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?x=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,x=0),{cameraAnimation:L=>{const B=this._tr;L.easeTo({duration:300,easeId:"keyboardHandler",easing:go,zoom:p?Math.round(B.zoom)+p*(c.shiftKey?2:1):B.zoom,bearing:B.bearing+y*this._bearingStep,pitch:B.pitch+x*this._pitchStep,offset:[-C*this._panStep,-D*this._panStep],center:B.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function go(S){return S*(2-S)}const js=4.000244140625;class bx{constructor(c,p){this._onTimeout=y=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(y)},this._map=c,this._tr=new sd(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const y=a.browser.now(),x=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,p!==0&&p%js==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(x*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),y=this._tr;this._around=a.LngLat.convert(this._aroundCenter?y.center:y.unproject(p)),this._aroundPoint=y.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const L=this._type==="wheel"&&Math.abs(this._delta)>js?this._wheelZoomRate:this._defaultZoomRate;let B=2/(1+Math.exp(-Math.abs(this._delta*L)));this._delta<0&&B!==0&&(B=1/B);const q=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(q*B))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,y=this._startZoom,x=this._easing;let C,D=!1;if(this._type==="wheel"&&y&&x){const L=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),B=x(L);C=a.interpolate.number(y,p,B),L<1?this._frameId||(this._frameId=!0):D=!0}else C=p,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:C-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.defaultEasing;if(this._prevEase){const y=this._prevEase,x=(a.browser.now()-y.start)/y.duration,C=y.easing(x+.01)-y.easing(x),D=.27/Math.sqrt(C*C+1e-4)*.01,L=Math.sqrt(.0729-D*D);p=a.bezier(D,L,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p}reset(){this._active=!1}}class Qg{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ey{constructor(c){this._tr=new sd(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ty{constructor(){this._tap=new yc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,y){if(!this._swipePoint)if(this._tapTime){const x=p[0],C=c.timeStamp-this._tapTime<500,D=this._tapPoint.dist(x)<30;C&&D?y.length>0&&(this._swipePoint=x,this._swipeTouch=y[0].identifier):this.reset()}else this._tap.touchstart(c,p,y)}touchmove(c,p,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const x=p[0],C=x.y-this._swipePoint.y;return this._swipePoint=x,c.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(c,p,y)}touchend(c,p,y){if(this._tapTime)this._swipePoint&&y.length===0&&this.reset();else{const x=this._tap.touchend(c,p,y);x&&(this._tapTime=c.timeStamp,this._tapPoint=x)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wx{constructor(c,p,y){this._el=c,this._mousePan=p,this._touchPan=y}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ca{constructor(c,p,y){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wn{constructor(c,p,y,x){this._el=c,this._touchZoom=p,this._touchRotate=y,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const _c=S=>S.zoom||S.drag||S.pitch||S.rotate;class ry extends a.Event{}function Wh(S){return S.panDelta&&S.panDelta.mag()||S.zoomDelta||S.bearingDelta||S.pitchDelta}class Sx{constructor(c,p){this.handleWindowEvent=x=>{this.handleEvent(x,`${x.type}Window`)},this.handleEvent=(x,C)=>{if(x.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=x.type==="renderFrame"?void 0:x,L={needsRenderFrame:!1},B={},q={},H=x.touches,Y=H?this._getMapTouches(H):void 0,ee=Y?h.touchPos(this._el,Y):h.mousePos(this._el,x);for(const{handlerName:ge,handler:le,allowed:$e}of this._handlers){if(!le.isEnabled())continue;let We;this._blockedByActive(q,$e,ge)?le.reset():le[C||x.type]&&(We=le[C||x.type](x,ee,Y),this.mergeHandlerResult(L,B,We,ge,D),We&&We.needsRenderFrame&&this._triggerRenderFrame()),(We||le.isActive())&&(q[ge]=le)}const ue={};for(const ge in this._previousActiveHandlers)q[ge]||(ue[ge]=D);this._previousActiveHandlers=q,(Object.keys(ue).length||Wh(L))&&(this._changes.push([L,B,ue]),this._triggerRenderFrame()),(Object.keys(q).length||Wh(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=L;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mx(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[window,"blur",void 0]];for(const[x,C,D]of this._listeners)h.addEventListener(x,C,x===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[c,p,y]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(c){const p=this._map,y=p.getCanvasContainer();this._add("mapEvent",new Ns(p,c));const x=p.boxZoom=new eC(p,c);this._add("boxZoom",x),c.interactive&&c.boxZoom&&x.enable();const C=new El(p),D=new ey(p);p.doubleClickZoom=new Qg(D,C),this._add("tapZoom",C),this._add("clickZoom",D),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const L=new ty;this._add("tapDragZoom",L);const B=p.touchPitch=new Zg(p);this._add("touchPitch",B),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const q=Tt(c),H=Vh(c);p.dragRotate=new ca(c,q,H),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",H,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const Y=(({enable:$e,clickTolerance:We})=>{const we=new vc({checkCorrectEvent:ze=>h.mouseButton(ze)===0&&!ze.ctrlKey});return new Pt({clickTolerance:We,move:(ze,Ye)=>({around:Ye,panDelta:Ye.sub(ze)}),activateOnStart:!0,moveStateManager:we,enable:$e,assignEvents:Uh})})(c),ee=new tC(c,p);p.dragPan=new wx(y,Y,ee),this._add("mousePan",Y),this._add("touchPan",ee,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const ue=new rC,ce=new _x;p.touchZoomRotate=new wn(y,ce,ue,L),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const ge=p.scrollZoom=new bx(p,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const le=p.keyboard=new Jg(p);this._add("keyboard",le),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new ad(p))}_add(c,p,y){this._handlers.push({handlerName:c,handler:p,allowed:y}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!_c(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,y){for(const x in c)if(x!==y&&(!p||p.indexOf(x)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const y of c)this._el.contains(y.target)&&p.push(y);return p}mergeHandlerResult(c,p,y,x,C){if(!y)return;a.extend(c,y);const D={handlerName:x,originalEvent:y.originalEvent||C};y.zoomDelta!==void 0&&(p.zoom=D),y.panDelta!==void 0&&(p.drag=D),y.pitchDelta!==void 0&&(p.pitch=D),y.bearingDelta!==void 0&&(p.rotate=D)}_applyChanges(){const c={},p={},y={};for(const[x,C,D]of this._changes)x.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(x.panDelta)),x.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+x.pitchDelta),x.around!==void 0&&(c.around=x.around),x.pinchAround!==void 0&&(c.pinchAround=x.pinchAround),x.noInertia&&(c.noInertia=x.noInertia),a.extend(p,C),a.extend(y,D);this._updateMapTransform(c,p,y),this._changes=[]}_updateMapTransform(c,p,y){const x=this._map,C=x._getTransformForUpdate(),D=x.terrain;if(!(Wh(c)||D&&this._terrainMovement))return this._fireEvents(p,y,!0);let{panDelta:L,zoomDelta:B,bearingDelta:q,pitchDelta:H,around:Y,pinchAround:ee}=c;ee!==void 0&&(Y=ee),x._stop(!0),Y=Y||x.transform.centerPoint;const ue=C.pointLocation(L?Y.sub(L):Y);q&&(C.bearing+=q),H&&(C.pitch+=H),B&&(C.zoom+=B),D?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?C.center=C.pointLocation(C.centerPoint.sub(L)):C.setLocationAtPoint(ue,Y):(this._terrainMovement=!0,this._map._elevationFreeze=!0,C.setLocationAtPoint(ue,Y),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,C.recalculateZoom(x.terrain)})):C.setLocationAtPoint(ue,Y),x._applyUpdatedTransform(C),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,y,!0)}_fireEvents(c,p,y){const x=_c(this._eventsInProgress),C=_c(c),D={};for(const H in c){const{originalEvent:Y}=c[H];this._eventsInProgress[H]||(D[`${H}start`]=Y),this._eventsInProgress[H]=c[H]}!x&&C&&this._fireEvent("movestart",C.originalEvent);for(const H in D)this._fireEvent(H,D[H]);C&&this._fireEvent("move",C.originalEvent);for(const H in c){const{originalEvent:Y}=c[H];this._fireEvent(H,Y)}const L={};let B;for(const H in this._eventsInProgress){const{handlerName:Y,originalEvent:ee}=this._eventsInProgress[H];this._handlersById[Y].isActive()||(delete this._eventsInProgress[H],B=p[Y]||ee,L[`${H}end`]=B)}for(const H in L)this._fireEvent(H,L[H]);const q=_c(this._eventsInProgress);if(y&&(x||C)&&!q){this._updatingCamera=!0;const H=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Y=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;H?(Y(H.bearing||this._map.getBearing())&&(H.bearing=0),H.freezeElevation=!0,this._map.easeTo(H,{originalEvent:B})):(this._map.fire(new a.Event("moveend",{originalEvent:B})),Y(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new ry("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ex extends a.Evented{constructor(c,p){super(),this._renderFrameCallback=()=>{const y=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,y){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},p),y)}panTo(c,p,y){return this.easeTo(a.extend({center:c},p),y)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,y){return this.easeTo(a.extend({zoom:c},p),y)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,y){return this.easeTo(a.extend({bearing:c},p),y)}resetNorth(c,p){return this.rotateTo(0,a.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=Oe.convert(c);const y=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),y,p)}_cameraForBoxAndBearing(c,p,y,x){const C={top:0,bottom:0,right:0,left:0};if(typeof(x=a.extend({padding:C,offset:[0,0],maxZoom:this.transform.maxZoom},x)).padding=="number"){const Ye=x.padding;x.padding={top:Ye,bottom:Ye,right:Ye,left:Ye}}x.padding=a.extend(C,x.padding);const D=this.transform,L=D.padding,B=D.project(a.LngLat.convert(c)),q=D.project(a.LngLat.convert(p)),H=B.rotate(-y*Math.PI/180),Y=q.rotate(-y*Math.PI/180),ee=new a.Point(Math.max(H.x,Y.x),Math.max(H.y,Y.y)),ue=new a.Point(Math.min(H.x,Y.x),Math.min(H.y,Y.y)),ce=ee.sub(ue),ge=(D.width-(L.left+L.right+x.padding.left+x.padding.right))/ce.x,le=(D.height-(L.top+L.bottom+x.padding.top+x.padding.bottom))/ce.y;if(le<0||ge<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const $e=Math.min(D.scaleZoom(D.scale*Math.min(ge,le)),x.maxZoom),We=a.Point.convert(x.offset),we=new a.Point((x.padding.left-x.padding.right)/2,(x.padding.top-x.padding.bottom)/2).rotate(y*Math.PI/180),ze=We.add(we).mult(D.scale/D.zoomScale($e));return{center:D.unproject(B.add(q).div(2).sub(ze)),zoom:$e,bearing:y}}fitBounds(c,p,y){return this._fitInternal(this.cameraForBounds(c,p),p,y)}fitScreenCoordinates(c,p,y,x,C){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(c)),this.transform.pointLocation(a.Point.convert(p)),y,x),x,C)}_fitInternal(c,p,y){return c?(delete(p=a.extend(c,p)).padding,p.linear?this.easeTo(p,y):this.flyTo(p,y)):this}jumpTo(c,p){this.stop();const y=this._getTransformForUpdate();let x=!1,C=!1,D=!1;return"zoom"in c&&y.zoom!==+c.zoom&&(x=!0,y.zoom=+c.zoom),c.center!==void 0&&(y.center=a.LngLat.convert(c.center)),"bearing"in c&&y.bearing!==+c.bearing&&(C=!0,y.bearing=+c.bearing),"pitch"in c&&y.pitch!==+c.pitch&&(D=!0,y.pitch=+c.pitch),c.padding==null||y.isPaddingEqual(c.padding)||(y.padding=c.padding),this._applyUpdatedTransform(y),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),x&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),C&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),D&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(c,p,y,x=0){const C=a.MercatorCoordinate.fromLngLat(c,p),D=a.MercatorCoordinate.fromLngLat(y,x),L=D.x-C.x,B=D.y-C.y,q=D.z-C.z,H=Math.hypot(L,B,q);if(H===0)throw new Error("Can't calculate camera options with same From and To");const Y=Math.hypot(L,B),ee=this.transform.scaleZoom(this.transform.cameraToCenterDistance/H/this.transform.tileSize),ue=180*Math.atan2(L,-B)/Math.PI;let ce=180*Math.acos(Y/H)/Math.PI;return ce=q<0?90-ce:90+ce,{center:D.toLngLat(),zoom:ee,pitch:ce,bearing:ue}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.defaultEasing},c)).animate===!1||!c.essential&&a.browser.prefersReducedMotion)&&(c.duration=0);const y=this._getTransformForUpdate(),x=this.getZoom(),C=this.getBearing(),D=this.getPitch(),L=this.getPadding(),B="zoom"in c?+c.zoom:x,q="bearing"in c?this._normalizeBearing(c.bearing,C):C,H="pitch"in c?+c.pitch:D,Y="padding"in c?c.padding:y.padding,ee=a.Point.convert(c.offset);let ue=y.centerPoint.add(ee);const ce=y.pointLocation(ue),ge=a.LngLat.convert(c.center||ce);this._normalizeCenter(ge);const le=y.project(ce),$e=y.project(ge).sub(le),We=y.zoomScale(B-x);let we,ze;c.around&&(we=a.LngLat.convert(c.around),ze=y.locationPoint(we));const Ye={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||B!==x,this._rotating=this._rotating||C!==q,this._pitching=this._pitching||H!==D,this._padding=!y.isPaddingEqual(Y),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Ye),this.terrain&&this._prepareElevation(ge),this._ease(Ze=>{if(this._zooming&&(y.zoom=a.interpolate.number(x,B,Ze)),this._rotating&&(y.bearing=a.interpolate.number(C,q,Ze)),this._pitching&&(y.pitch=a.interpolate.number(D,H,Ze)),this._padding&&(y.interpolatePadding(L,Y,Ze),ue=y.centerPoint.add(ee)),this.terrain&&!c.freezeElevation&&this._updateElevation(Ze),we)y.setLocationAtPoint(we,ze);else{const tt=y.zoomScale(y.zoom-x),dt=B>x?Math.min(2,We):Math.max(.5,We),ot=Math.pow(dt,1-Ze),pt=y.unproject(le.add($e.mult(Ze*ot)).mult(tt));y.setLocationAtPoint(y.renderWorldCopies?pt.wrap():pt,ue)}this._applyUpdatedTransform(y),this._fireMoveEvents(p)},Ze=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Ze)},c),this}_prepareEase(c,p,y={}){this._moving=!0,p||y.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!y.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!y.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!y.pitching&&this.fire(new a.Event("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const y=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(y-(p-(y*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.interpolate.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:y,zoom:x,pitch:C,bearing:D,elevation:L}=this.transformCameraUpdate(p);y&&(p.center=y),x!==void 0&&(p.zoom=x),C!==void 0&&(p.pitch=C),D!==void 0&&(p.bearing=D),L!==void 0&&(p.elevation=L),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const y=this._zooming,x=this._rotating,C=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new a.Event("zoomend",c)),x&&this.fire(new a.Event("rotateend",c)),C&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}flyTo(c,p){if(!c.essential&&a.browser.prefersReducedMotion){const $t=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo($t,p)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.defaultEasing},c);const y=this._getTransformForUpdate(),x=this.getZoom(),C=this.getBearing(),D=this.getPitch(),L=this.getPadding(),B="zoom"in c?a.clamp(+c.zoom,y.minZoom,y.maxZoom):x,q="bearing"in c?this._normalizeBearing(c.bearing,C):C,H="pitch"in c?+c.pitch:D,Y="padding"in c?c.padding:y.padding,ee=y.zoomScale(B-x),ue=a.Point.convert(c.offset);let ce=y.centerPoint.add(ue);const ge=y.pointLocation(ce),le=a.LngLat.convert(c.center||ge);this._normalizeCenter(le);const $e=y.project(ge),We=y.project(le).sub($e);let we=c.curve;const ze=Math.max(y.width,y.height),Ye=ze/ee,Ze=We.mag();if("minZoom"in c){const $t=a.clamp(Math.min(c.minZoom,x,B),y.minZoom,y.maxZoom),sn=ze/y.zoomScale($t-x);we=Math.sqrt(sn/Ze*2)}const tt=we*we;function dt($t){const sn=(Ye*Ye-ze*ze+($t?-1:1)*tt*tt*Ze*Ze)/(2*($t?Ye:ze)*tt*Ze);return Math.log(Math.sqrt(sn*sn+1)-sn)}function ot($t){return(Math.exp($t)-Math.exp(-$t))/2}function pt($t){return(Math.exp($t)+Math.exp(-$t))/2}const jt=dt(!1);let xr=function($t){return pt(jt)/pt(jt+we*$t)},xt=function($t){return ze*((pt(jt)*(ot(sn=jt+we*$t)/pt(sn))-ot(jt))/tt)/Ze;var sn},er=(dt(!0)-jt)/we;if(Math.abs(Ze)<1e-6||!isFinite(er)){if(Math.abs(ze-Ye)<1e-6)return this.easeTo(c,p);const $t=Ye<ze?-1:1;er=Math.abs(Math.log(Ye/ze))/we,xt=function(){return 0},xr=function(sn){return Math.exp($t*we*sn)}}return c.duration="duration"in c?+c.duration:1e3*er/("screenSpeed"in c?+c.screenSpeed/we:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=C!==q,this._pitching=H!==D,this._padding=!y.isPaddingEqual(Y),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease($t=>{const sn=$t*er,vr=1/xr(sn);y.zoom=$t===1?B:x+y.scaleZoom(vr),this._rotating&&(y.bearing=a.interpolate.number(C,q,$t)),this._pitching&&(y.pitch=a.interpolate.number(D,H,$t)),this._padding&&(y.interpolatePadding(L,Y,$t),ce=y.centerPoint.add(ue)),this.terrain&&!c.freezeElevation&&this._updateElevation($t);const dr=$t===1?le:y.unproject($e.add(We.mult(xt(sn))).mult(vr));y.setLocationAtPoint(y.renderWorldCopies?dr.wrap():dr,ce),this._applyUpdatedTransform(y),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,p)}if(!c){const y=this.handlers;y&&y.stop(!1)}return this}_ease(c,p,y){y.animate===!1||y.duration===0?(c(1),p()):(this._easeStart=a.browser.now(),this._easeOptions=y,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.wrap(c,-180,180);const y=Math.abs(c-p);return Math.abs(c-360-p)<y&&(c-=360),Math.abs(c+360-p)<y&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const y=c.lng-p.center.lng;c.lng+=y>180?-360:y<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.LngLat.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Cx{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const y=this._map._getUIString(`AttributionControl.${p}`);c.title=y,c.setAttribute("aria-label",y)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(x=>typeof x!="string"?"":x)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const p=this._map.style.sourceCaches;for(const x in p){const C=p[x];if(C.used||C.usedForTerrain){const D=C.getSource();D.attribution&&c.indexOf(D.attribution)<0&&c.push(D.attribution)}}c=c.filter(x=>String(x).trim()),c.sort((x,C)=>x.length-C.length),c=c.filter((x,C)=>{for(let D=C+1;D<c.length;D++)if(c[D].indexOf(x)>=0)return!1;return!0});const y=c.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,c.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Pa{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const y=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&y.classList.add("maplibregl-compact"):y.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class qh{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,y=p?this._queue.concat(p):this._queue;for(const x of y)if(x.id===c)return void(x.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const y of p)if(!y.cancelled&&(y.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const qt={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Qt=a.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Hh extends a.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const y={};for(const x of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))y[x.key]=!0,this._renderableTilesKeys.push(x.key),this._tiles[x.key]||(x.posMatrix=new Float64Array(16),a.ortho(x.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[x.key]=new Vr(x,this.tileSize));for(const x in this._tiles)y[x]||delete this._tiles[x]}freeRtt(c){for(const p in this._tiles){const y=this._tiles[p];(!c||y.tileID.equals(c)||y.tileID.isChildOf(c)||c.isChildOf(y.tileID))&&(y.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const y of this._renderableTilesKeys){const x=this._tiles[y].tileID;if(x.canonical.equals(c.canonical)){const C=c.clone();C.posMatrix=new Float64Array(16),a.ortho(C.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[y]=C}else if(x.canonical.isChildOf(c.canonical)){const C=c.clone();C.posMatrix=new Float64Array(16);const D=x.canonical.z-c.canonical.z,L=x.canonical.x-(x.canonical.x>>D<<D),B=x.canonical.y-(x.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(C.posMatrix,0,q,0,q,0,1),a.translate(C.posMatrix,C.posMatrix,[-L*q,-B*q,0]),p[y]=C}else if(c.canonical.isChildOf(x.canonical)){const C=c.clone();C.posMatrix=new Float64Array(16);const D=c.canonical.z-x.canonical.z,L=c.canonical.x-(c.canonical.x>>D<<D),B=c.canonical.y-(c.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(C.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(C.posMatrix,C.posMatrix,[L*q,B*q,0]),a.scale(C.posMatrix,C.posMatrix,[1/2**D,1/2**D,0]),p[y]=C}}return p}getSourceTile(c,p){const y=this.sourceCache._source;let x=c.overscaledZ-this.deltaZoom;if(x>y.maxzoom&&(x=y.maxzoom),x<y.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(x).key);let C=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!C||!C.dem)&&p)for(;x>=y.minzoom&&(!C||!C.dem);)C=this.sourceCache.getTileByID(c.scaledTo(x--).key);return C}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class ny{constructor(c,p,y){this.painter=c,this.sourceCache=new Hh(p),this.options=y,this.exaggeration=typeof y.exaggeration=="number"?y.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,y,x=a.EXTENT){var C;if(!(p>=0&&p<x&&y>=0&&y<x))return 0;const D=this.getTerrainData(c),L=(C=D.tile)===null||C===void 0?void 0:C.dem;if(!L)return 0;const B=function(ce,ge,le){var $e=ge[0],We=ge[1];return ce[0]=le[0]*$e+le[4]*We+le[12],ce[1]=le[1]*$e+le[5]*We+le[13],ce}([],[p/x*a.EXTENT,y/x*a.EXTENT],D.u_terrain_matrix),q=[B[0]*L.dim,B[1]*L.dim],H=Math.floor(q[0]),Y=Math.floor(q[1]),ee=q[0]-H,ue=q[1]-Y;return L.get(H,Y)*(1-ee)*(1-ue)+L.get(H+1,Y)*ee*(1-ue)+L.get(H,Y+1)*(1-ee)*ue+L.get(H+1,Y+1)*ee*ue}getElevationForLngLatZoom(c,p){const{tileID:y,mercatorX:x,mercatorY:C}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(y,x%a.EXTENT,C%a.EXTENT,a.EXTENT)}getElevation(c,p,y,x=a.EXTENT){return this.getDEMElevation(c,p,y,x)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const x=this.painter.context,C=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ne(x,C,x.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ne(x,new a.RGBAImage({width:1,height:1}),x.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const x=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new ne(x,p.dem.getPixels(),x.gl.RGBA,{premultiply:!1}),p.demTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const y=p&&p+p.tileID.key+c.key;if(y&&!this._demMatrixCache[y]){const x=this.sourceCache.sourceCache._source.maxzoom;let C=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=x?C=c.canonical.z-x:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=c.canonical.x-(c.canonical.x>>C<<C),L=c.canonical.y-(c.canonical.y>>C<<C),B=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<C),1/(a.EXTENT<<C),0]);a.translate(B,B,[D*a.EXTENT,L*a.EXTENT,0]),this._demMatrixCache[c.key]={matrix:B,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:y?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,y=p.width/devicePixelRatio,x=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===y&&this._fbo.height===x||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ne(p.context,{width:y,height:x,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ne(p.context,{width:y,height:x,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(y,x,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,y,x))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let C=0,D=0;C<this._coordsTextureSize;C++)for(let L=0;L<this._coordsTextureSize;L++,D+=4)p[D+0]=255&L,p[D+1]=255&C,p[D+2]=L>>8<<4|C>>8,p[D+3]=0;const y=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),x=new ne(c,y,c.gl.RGBA,{premultiply:!1});return x.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=x,x}pointCoordinate(c){const p=new Uint8Array(4),y=this.painter.context,x=y.gl;y.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,p),y.bindFramebuffer.set(null);const C=p[0]+(p[2]>>4<<8),D=p[1]+((15&p[2])<<8),L=this.coordsIndex[255-p[3]],B=L&&this.sourceCache.getTileByID(L);if(!B)return null;const q=this._coordsTextureSize,H=(1<<B.tileID.canonical.z)*q;return new a.MercatorCoordinate((B.tileID.canonical.x*q+C)/H,(B.tileID.canonical.y*q+D)/H,this.getElevation(B.tileID,C,D,q))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.Pos3dArray,y=new a.TriangleIndexArray,x=this.meshSize,C=a.EXTENT/x,D=x*x;for(let Y=0;Y<=x;Y++)for(let ee=0;ee<=x;ee++)p.emplaceBack(ee*C,Y*C,0);for(let Y=0;Y<D;Y+=x+1)for(let ee=0;ee<x;ee++)y.emplaceBack(ee+Y,x+ee+Y+1,x+ee+Y+2),y.emplaceBack(ee+Y,x+ee+Y+2,ee+Y+1);const L=p.length,B=L+2*(x+1);for(const Y of[0,1])for(let ee=0;ee<=x;ee++)for(const ue of[0,1])p.emplaceBack(ee*C,Y*a.EXTENT,ue);for(let Y=0;Y<2*x;Y+=2)y.emplaceBack(B+Y,B+Y+1,B+Y+3),y.emplaceBack(B+Y,B+Y+3,B+Y+2),y.emplaceBack(L+Y,L+Y+3,L+Y+1),y.emplaceBack(L+Y,L+Y+2,L+Y+3);const q=p.length,H=q+2*(x+1);for(const Y of[0,1])for(let ee=0;ee<=x;ee++)for(const ue of[0,1])p.emplaceBack(Y*a.EXTENT,ee*C,ue);for(let Y=0;Y<2*x;Y+=2)y.emplaceBack(q+Y,q+Y+1,q+Y+3),y.emplaceBack(q+Y,q+Y+3,q+Y+2),y.emplaceBack(H+Y,H+Y+3,H+Y+1),y.emplaceBack(H+Y,H+Y+2,H+Y+3);return this._mesh={indexBuffer:c.createIndexBuffer(y),vertexBuffer:c.createVertexBuffer(p,Qt.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,y.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.earthRadius/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var y;const{tileID:x}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(y=this.getMinMaxElevation(x).minElevation)!==null&&y!==void 0?y:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,y={minElevation:null,maxElevation:null};return p&&p.dem&&(y.minElevation=p.dem.min*this.exaggeration,y.maxElevation=p.dem.max*this.exaggeration),y}_getOverscaledTileIDFromLngLatZoom(c,p){const y=a.MercatorCoordinate.fromLngLat(c.wrap()),x=(1<<p)*a.EXTENT,C=y.x*x,D=y.y*x,L=Math.floor(C/a.EXTENT),B=Math.floor(D/a.EXTENT);return{tileID:new a.OverscaledTileID(p,0,p,L,B),mercatorX:C,mercatorY:D}}}class iy{constructor(c,p,y){this._context=c,this._size=p,this._tileSize=y,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),y=new ne(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return y.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(y.texture),{id:c,fbo:p,texture:y,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const yi={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Tx{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new iy(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(y=>!c._layers[y].isHidden(p)),this._coordsDescendingInv={};for(const y in c.sourceCaches){this._coordsDescendingInv[y]={};const x=c.sourceCaches[y].getVisibleCoordinates();for(const C of x){const D=this.terrain.sourceCache.getTerrainCoords(C);for(const L in D)this._coordsDescendingInv[y][L]||(this._coordsDescendingInv[y][L]=[]),this._coordsDescendingInv[y][L].push(D[L])}}this._coordsDescendingInvStr={};for(const y of c._order){const x=c._layers[y],C=x.source;if(yi[x.type]&&!this._coordsDescendingInvStr[C]){this._coordsDescendingInvStr[C]={};for(const D in this._coordsDescendingInv[C])this._coordsDescendingInvStr[C][D]=this._coordsDescendingInv[C][D].map(L=>L.key).sort().join()}}for(const y of this._renderableTiles)for(const x in this._coordsDescendingInvStr){const C=this._coordsDescendingInvStr[x][y.tileID.key];C&&C!==y.rttCoords[x]&&(y.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,y=this.painter,x=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(yi[p]&&(this._prevType&&yi[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!x))return!0;if(yi[this._prevType]||yi[p]&&x){this._prevType=p;const C=this._stacks.length-1,D=this._stacks[C]||[];for(const L of this._renderableTiles){if(this.pool.isFull()&&(Nh(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(L),L.rtt[C]){const q=this.pool.getObjectForId(L.rtt[C].id);if(q.stamp===L.rtt[C].stamp){this.pool.useObject(q);continue}}const B=this.pool.getOrCreateFreeObject();this.pool.useObject(B),this.pool.stampObject(B),L.rtt[C]={id:B.id,stamp:B.stamp},y.context.bindFramebuffer.set(B.fbo.framebuffer),y.context.clear({color:a.Color.transparent,stencil:0}),y.currentStencilSource=void 0;for(let q=0;q<D.length;q++){const H=y.style._layers[D[q]],Y=H.source?this._coordsDescendingInv[H.source][L.tileID.key]:[L.tileID];y.context.viewport.set([0,0,B.fbo.width,B.fbo.height]),y._renderTileClippingMasks(H,Y),y.renderLayer(y,y.style.sourceCaches[H.source],H,Y),H.source&&(L.rttCoords[H.source]=this._coordsDescendingInvStr[H.source][L.tileID.key])}}return Nh(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),yi[p]}return!1}}const is=d,nC={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Su=S=>{S.touchstart=S.dragStart,S.touchmoveWindow=S.dragMove,S.touchend=S.dragEnd},An={showCompass:!0,showZoom:!0,visualizePitch:!1};class ti{constructor(c,p,y=!1){this.mousedown=D=>{this.startMouse(a.extend({},D,{ctrlKey:!0,preventDefault:()=>D.preventDefault()}),h.mousePos(this.element,D)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=D=>{this.moveMouse(D,h.mousePos(this.element,D))},this.mouseup=D=>{this.mouseRotate.dragEnd(D),this.mousePitch&&this.mousePitch.dragEnd(D),this.offTemp()},this.touchstart=D=>{D.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.startTouch(D,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=D=>{D.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.moveTouch(D,this._lastPos))},this.touchend=D=>{D.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const x=c.dragRotate._mouseRotate.getClickTolerance(),C=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Tt({clickTolerance:x,enable:!0}),this.touchRotate=(({enable:D,clickTolerance:L,bearingDegreesPerPixelMoved:B=.8})=>{const q=new bu;return new Pt({clickTolerance:L,move:(H,Y)=>({bearingDelta:(Y.x-H.x)*B}),moveStateManager:q,enable:D,assignEvents:Su})})({clickTolerance:x,enable:!0}),this.map=c,y&&(this.mousePitch=Vh({clickTolerance:C,enable:!0}),this.touchPitch=(({enable:D,clickTolerance:L,pitchDegreesPerPixelMoved:B=-.5})=>{const q=new bu;return new Pt({clickTolerance:L,move:(H,Y)=>({pitchDelta:(Y.y-H.y)*B}),moveStateManager:q,enable:D,assignEvents:Su})})({clickTolerance:C,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const y=this.map,{bearingDelta:x}=this.mouseRotate.dragMove(c,p)||{};if(x&&y.setBearing(y.getBearing()+x),this.mousePitch){const{pitchDelta:C}=this.mousePitch.dragMove(c,p)||{};C&&y.setPitch(y.getPitch()+C)}}moveTouch(c,p){const y=this.map,{bearingDelta:x}=this.touchRotate.dragMove(c,p)||{};if(x&&y.setBearing(y.getBearing()+x),this.touchPitch){const{pitchDelta:C}=this.touchPitch.dragMove(c,p)||{};C&&y.setPitch(y.getPitch()+C)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let Bs;function Eu(S,c,p){if(S=new a.LngLat(S.lng,S.lat),c){const y=new a.LngLat(S.lng-360,S.lat),x=new a.LngLat(S.lng+360,S.lat),C=p.locationPoint(S).distSqr(c);p.locationPoint(y).distSqr(c)<C?S=y:p.locationPoint(x).distSqr(c)<C&&(S=x)}for(;Math.abs(S.lng-p.center.lng)>180;){const y=p.locationPoint(S);if(y.x>=0&&y.y>=0&&y.x<=p.width&&y.y<=p.height)break;S.lng>p.center.lng?S.lng-=360:S.lng+=360}return S}const Cu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Gh(S,c,p){const y=S.classList;for(const x in Cu)y.remove(`maplibregl-${p}-anchor-${x}`);y.add(`maplibregl-${p}-anchor-${c}`)}class cd extends a.Evented{constructor(c){if(super(),this._onKeyPress=p=>{const y=p.code,x=p.charCode||p.keyCode;y!=="Space"&&y!=="Enter"&&x!==32&&x!==13||this.togglePopup()},this._onMapClick=p=>{const y=p.originalEvent.target,x=this._element;this._popup&&(y===x||x.contains(y))&&this.togglePopup()},this._update=p=>{if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Eu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(y=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let x="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?x="rotateX(0deg)":this._pitchAlignment==="map"&&(x=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${Cu[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${x} ${y}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const C=this._map.unproject(this._pos),D=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=C.distanceTo(this._lngLat)>20*D?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const y=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),y=41,x=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${y}px`),p.setAttributeNS(null,"width",`${x}px`),p.setAttributeNS(null,"viewBox",`0 0 ${x} ${y}`);const C=h.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"stroke","none"),C.setAttributeNS(null,"stroke-width","1"),C.setAttributeNS(null,"fill","none"),C.setAttributeNS(null,"fill-rule","evenodd");const D=h.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const L=h.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"transform","translate(3.0, 29.0)"),L.setAttributeNS(null,"fill","#000000");const B=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const $e of B){const We=h.createNS("http://www.w3.org/2000/svg","ellipse");We.setAttributeNS(null,"opacity","0.04"),We.setAttributeNS(null,"cx","10.5"),We.setAttributeNS(null,"cy","5.80029008"),We.setAttributeNS(null,"rx",$e.rx),We.setAttributeNS(null,"ry",$e.ry),L.appendChild(We)}const q=h.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"fill",this._color);const H=h.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),q.appendChild(H);const Y=h.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"opacity","0.25"),Y.setAttributeNS(null,"fill","#000000");const ee=h.createNS("http://www.w3.org/2000/svg","path");ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Y.appendChild(ee);const ue=h.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ue.setAttributeNS(null,"fill","#FFFFFF");const ce=h.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=h.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const le=h.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#FFFFFF"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962"),ce.appendChild(ge),ce.appendChild(le),D.appendChild(L),D.appendChild(q),D.appendChild(Y),D.appendChild(ue),D.appendChild(ce),p.appendChild(D),p.setAttributeNS(null,"height",y*this._scale+"px"),p.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(p),this._offset=a.Point.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),Gh(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.Point.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const oy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Cl=0,xc=!1;const ay={maxWidth:100,unit:"metric"};function Yh(S,c,p){const y=p&&p.maxWidth||100,x=S._container.clientHeight/2,C=S.unproject([0,x]),D=S.unproject([y,x]),L=C.distanceTo(D);if(p&&p.unit==="imperial"){const B=3.2808*L;B>5280?bc(c,y,B/5280,S._getUIString("ScaleControl.Miles")):bc(c,y,B,S._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?bc(c,y,L/1852,S._getUIString("ScaleControl.NauticalMiles")):L>=1e3?bc(c,y,L/1e3,S._getUIString("ScaleControl.Kilometers")):bc(c,y,L,S._getUIString("ScaleControl.Meters"))}function bc(S,c,p,y){const x=function(C){const D=Math.pow(10,`${Math.floor(C)}`.length-1);let L=C/D;return L=L>=10?10:L>=5?5:L>=3?3:L>=2?2:L>=1?1:function(B){const q=Math.pow(10,Math.ceil(-Math.log(B)/Math.LN10));return Math.round(B*q)/q}(L),D*L}(p);S.style.width=c*(x/p)+"px",S.innerHTML=`${x}&nbsp;${y}`}const sy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ly=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Kh(S){if(S){if(typeof S=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(S,2)));return{center:new a.Point(0,0),top:new a.Point(0,S),"top-left":new a.Point(c,c),"top-right":new a.Point(-c,c),bottom:new a.Point(0,-S),"bottom-left":new a.Point(c,-c),"bottom-right":new a.Point(-c,-c),left:new a.Point(S,0),right:new a.Point(-S,0)}}if(S instanceof a.Point||Array.isArray(S)){const c=a.Point.convert(S);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.Point.convert(S.center||[0,0]),top:a.Point.convert(S.top||[0,0]),"top-left":a.Point.convert(S["top-left"]||[0,0]),"top-right":a.Point.convert(S["top-right"]||[0,0]),bottom:a.Point.convert(S.bottom||[0,0]),"bottom-left":a.Point.convert(S["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(S["bottom-right"]||[0,0]),left:a.Point.convert(S.left||[0,0]),right:a.Point.convert(S.right||[0,0])}}return Kh(new a.Point(0,0))}const cy={extend:(S,...c)=>a.extend(S,...c),run(S){S()},logToElement(S,c=!1,p="log"){const y=window.document.getElementById(p);y&&(c&&(y.innerHTML=""),y.innerHTML+=`<br>${S}`)}},Zh=d;class zr{static get version(){return Zh}static get workerCount(){return Or.workerCount}static set workerCount(c){Or.workerCount=c}static get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.config.WORKER_URL}static set workerUrl(c){a.config.WORKER_URL=c}static addProtocol(c,p){a.config.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.config.REGISTERED_PROTOCOLS[c]}}return zr.Map=class extends Ex{constructor(S){if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(S=a.extend({},nC,S)).minZoom!=null&&S.maxZoom!=null&&S.minZoom>S.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(S.minPitch!=null&&S.maxPitch!=null&&S.minPitch>S.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(S.minPitch!=null&&S.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(S.maxPitch!=null&&S.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Fh(S.minZoom,S.maxZoom,S.minPitch,S.maxPitch,S.renderWorldCopies),{bearingSnap:S.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=S.interactive,this._cooperativeGestures=S.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=S.maxTileCacheSize,this._maxTileCacheZoomLevels=S.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=S.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=S.preserveDrawingBuffer,this._antialias=S.antialias,this._trackResize=S.trackResize,this._bearingSnap=S.bearingSnap,this._refreshExpiredTiles=S.refreshExpiredTiles,this._fadeDuration=S.fadeDuration,this._crossSourceCollisions=S.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=S.collectResourceTiming,this._renderTaskQueue=new qh,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},qt,S.locale),this._clickTolerance=S.clickTolerance,this._overridePixelRatio=S.pixelRatio,this._maxCanvasSize=S.maxCanvasSize,this.transformCameraUpdate=S.transformCameraUpdate,this._imageQueueHandle=P.addThrottleControl(()=>this.isMoving()),this._requestManager=new I(S.transformRequest),typeof S.container=="string"){if(this._container=document.getElementById(S.container),!this._container)throw new Error(`Container '${S.container}' not found.`)}else{if(!(S.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=S.container}if(S.maxBounds&&this.setMaxBounds(S.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;this._resizeObserver=new ResizeObserver(p=>{c?this._trackResize&&this.resize(p)._update():c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Sx(this,S),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=S.hash&&new gc(typeof S.hash=="string"&&S.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch}),S.bounds&&(this.resize(),this.fitBounds(S.bounds,a.extend({},S.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=S.localIdeographFontFamily,this._validateStyle=S.validateStyle,S.style&&this.setStyle(S.style,{localIdeographFontFamily:S.localIdeographFontFamily}),S.attributionControl&&this.addControl(new Cx({customAttribution:S.customAttribution})),S.maplibreLogo&&this.addControl(new Pa,S.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.Event(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.Event("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(S,c){if(c===void 0&&(c=S.getDefaultPosition?S.getDefaultPosition():"top-right"),!S||!S.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=S.onAdd(this);this._controls.push(S);const y=this._controlPositions[c];return c.indexOf("bottom")!==-1?y.insertBefore(p,y.firstChild):y.appendChild(p),this}removeControl(S){if(!S||!S.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(S);return c>-1&&this._controls.splice(c,1),S.onRemove(this),this}hasControl(S){return this._controls.indexOf(S)>-1}calculateCameraOptionsFromTo(S,c,p,y){return y==null&&this.terrain&&(y=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(S,c,p,y)}resize(S){var c;const p=this._containerDimensions(),y=p[0],x=p[1],C=this._getClampedPixelRatio(y,x);if(this._resizeCanvas(y,x,C),this.painter.resize(y,x,C),this.painter.overLimit()){const L=this.painter.context.gl;this._maxCanvasSize=[L.drawingBufferWidth,L.drawingBufferHeight];const B=this._getClampedPixelRatio(y,x);this._resizeCanvas(y,x,B),this.painter.resize(y,x,B)}this.transform.resize(y,x),(c=this._requestedCameraState)===null||c===void 0||c.resize(y,x);const D=!this._moving;return D&&(this.stop(),this.fire(new a.Event("movestart",S)).fire(new a.Event("move",S))),this.fire(new a.Event("resize",S)),D&&this.fire(new a.Event("moveend",S)),this}_getClampedPixelRatio(S,c){const{0:p,1:y}=this._maxCanvasSize,x=this.getPixelRatio(),C=S*x,D=c*x;return Math.min(C>p?p/C:1,D>y?y/D:1)*x}getPixelRatio(){var S;return(S=this._overridePixelRatio)!==null&&S!==void 0?S:devicePixelRatio}setPixelRatio(S){this._overridePixelRatio=S,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(S){return this.transform.setMaxBounds(Oe.convert(S)),this._update()}setMinZoom(S){if((S=S??-2)>=-2&&S<=this.transform.maxZoom)return this.transform.minZoom=S,this._update(),this.getZoom()<S&&this.setZoom(S),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(S){if((S=S??22)>=this.transform.minZoom)return this.transform.maxZoom=S,this._update(),this.getZoom()>S&&this.setZoom(S),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(S){if((S=S??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(S>=0&&S<=this.transform.maxPitch)return this.transform.minPitch=S,this._update(),this.getPitch()<S&&this.setPitch(S),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(S){if((S=S??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(S>=this.transform.minPitch)return this.transform.maxPitch=S,this._update(),this.getPitch()>S&&this.setPitch(S),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(S){return this.transform.renderWorldCopies=S,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(S){return this._cooperativeGestures=S,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(S){return this.transform.locationPoint(a.LngLat.convert(S),this.style&&this.terrain)}unproject(S){return this.transform.pointLocation(a.Point.convert(S),this.terrain)}isMoving(){var S;return this._moving||((S=this.handlers)===null||S===void 0?void 0:S.isMoving())}isZooming(){var S;return this._zooming||((S=this.handlers)===null||S===void 0?void 0:S.isZooming())}isRotating(){var S;return this._rotating||((S=this.handlers)===null||S===void 0?void 0:S.isRotating())}_createDelegatedListener(S,c,p){if(S==="mouseenter"||S==="mouseover"){let y=!1;return{layer:c,listener:p,delegates:{mousemove:C=>{const D=this.getLayer(c)?this.queryRenderedFeatures(C.point,{layers:[c]}):[];D.length?y||(y=!0,p.call(this,new ei(S,this,C.originalEvent,{features:D}))):y=!1},mouseout:()=>{y=!1}}}}if(S==="mouseleave"||S==="mouseout"){let y=!1;return{layer:c,listener:p,delegates:{mousemove:D=>{(this.getLayer(c)?this.queryRenderedFeatures(D.point,{layers:[c]}):[]).length?y=!0:y&&(y=!1,p.call(this,new ei(S,this,D.originalEvent)))},mouseout:D=>{y&&(y=!1,p.call(this,new ei(S,this,D.originalEvent)))}}}}{const y=x=>{const C=this.getLayer(c)?this.queryRenderedFeatures(x.point,{layers:[c]}):[];C.length&&(x.features=C,p.call(this,x),delete x.features)};return{layer:c,listener:p,delegates:{[S]:y}}}}on(S,c,p){if(p===void 0)return super.on(S,c);const y=this._createDelegatedListener(S,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[S]=this._delegatedListeners[S]||[],this._delegatedListeners[S].push(y);for(const x in y.delegates)this.on(x,y.delegates[x]);return this}once(S,c,p){if(p===void 0)return super.once(S,c);const y=this._createDelegatedListener(S,c,p);for(const x in y.delegates)this.once(x,y.delegates[x]);return this}off(S,c,p){return p===void 0?super.off(S,c):(this._delegatedListeners&&this._delegatedListeners[S]&&(y=>{const x=this._delegatedListeners[S];for(let C=0;C<x.length;C++){const D=x[C];if(D.layer===c&&D.listener===p){for(const L in D.delegates)this.off(L,D.delegates[L]);return x.splice(C,1),this}}})(),this)}queryRenderedFeatures(S,c){if(!this.style)return[];let p;const y=S instanceof a.Point||Array.isArray(S),x=y?S:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(y?{}:S)||{},x instanceof a.Point||typeof x[0]=="number")p=[a.Point.convert(x)];else{const C=a.Point.convert(x[0]),D=a.Point.convert(x[1]);p=[C,new a.Point(D.x,C.y),D,new a.Point(C.x,D.y),C]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(S,c){return this.style.querySourceFeatures(S,c)}setStyle(S,c){return(c=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&S?(this._diffStyle(S,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(S,c))}setTransformRequest(S){return this._requestManager.setTransformRequest(S),this}_getUIString(S){const c=this._locale[S];if(c==null)throw new Error(`Missing UI string '${S}'`);return c}_updateStyle(S,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(S,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!S)),S?(this.style=new Vi(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof S=="string"?this.style.loadURL(S,c,p):this.style.loadJSON(S,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Vi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(S,c){if(typeof S=="string"){const p=this._requestManager.transformRequest(S,O.Style);a.getJSON(p,(y,x)=>{y?this.fire(new a.ErrorEvent(y)):x&&this._updateDiff(x,c)})}else typeof S=="object"&&this._updateDiff(S,c)}_updateDiff(S,c){try{this.style.setState(S,c)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(S,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(S,c){return this._lazyInitEmptyStyle(),this.style.addSource(S,c),this._update(!0)}isSourceLoaded(S){const c=this.style&&this.style.sourceCaches[S];if(c!==void 0)return c.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${S}'`)))}setTerrain(S){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),S){const c=this.style.sourceCaches[S.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${S.source}`);for(const p in this.style._layers){const y=this.style._layers[p];y.type==="hillshade"&&y.source===S.source&&a.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ny(this.painter,c,S),this.painter.renderToTexture=new Tx(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==S.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.Event("terrain",{terrain:S})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const S=this.style&&this.style.sourceCaches;for(const c in S){const p=S[c]._tiles;for(const y in p){const x=p[y];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}addSourceType(S,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(S,c,p)}removeSource(S){return this.style.removeSource(S),this._update(!0)}getSource(S){return this.style.getSource(S)}addImage(S,c,p={}){const{pixelRatio:y=1,sdf:x=!1,stretchX:C,stretchY:D,content:L}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.isImageBitmap(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:B,height:q,data:H}=c,Y=c;return this.style.addImage(S,{data:new a.RGBAImage({width:B,height:q},new Uint8Array(H)),pixelRatio:y,stretchX:C,stretchY:D,content:L,sdf:x,version:0,userImage:Y}),Y.onAdd&&Y.onAdd(this,S),this}}{const{width:B,height:q,data:H}=a.browser.getImageData(c);this.style.addImage(S,{data:new a.RGBAImage({width:B,height:q},H),pixelRatio:y,stretchX:C,stretchY:D,content:L,sdf:x,version:0})}}updateImage(S,c){const p=this.style.getImage(S);if(!p)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=c instanceof HTMLImageElement||a.isImageBitmap(c)?a.browser.getImageData(c):c,{width:x,height:C,data:D}=y;if(x===void 0||C===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(x!==p.data.width||C!==p.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const L=!(c instanceof HTMLImageElement||a.isImageBitmap(c));return p.data.replace(D,L),this.style.updateImage(S,p),this}getImage(S){return this.style.getImage(S)}hasImage(S){return S?!!this.style.getImage(S):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(S){this.style.removeImage(S)}loadImage(S,c){P.getImage(this._requestManager.transformRequest(S,O.Image),c)}listImages(){return this.style.listImages()}addLayer(S,c){return this._lazyInitEmptyStyle(),this.style.addLayer(S,c),this._update(!0)}moveLayer(S,c){return this.style.moveLayer(S,c),this._update(!0)}removeLayer(S){return this.style.removeLayer(S),this._update(!0)}getLayer(S){return this.style.getLayer(S)}setLayerZoomRange(S,c,p){return this.style.setLayerZoomRange(S,c,p),this._update(!0)}setFilter(S,c,p={}){return this.style.setFilter(S,c,p),this._update(!0)}getFilter(S){return this.style.getFilter(S)}setPaintProperty(S,c,p,y={}){return this.style.setPaintProperty(S,c,p,y),this._update(!0)}getPaintProperty(S,c){return this.style.getPaintProperty(S,c)}setLayoutProperty(S,c,p,y={}){return this.style.setLayoutProperty(S,c,p,y),this._update(!0)}getLayoutProperty(S,c){return this.style.getLayoutProperty(S,c)}setGlyphs(S,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(S,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(S,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(S,c,p,y=>{y||this._update(!0)}),this}removeSprite(S){return this._lazyInitEmptyStyle(),this.style.removeSprite(S),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(S,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(S,c,p=>{p||this._update(!0)}),this}setLight(S,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(S,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(S,c){return this.style.setFeatureState(S,c),this._update()}removeFeatureState(S,c){return this.style.removeFeatureState(S,c),this._update()}getFeatureState(S){return this.style.getFeatureState(S)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let S=0,c=0;return this._container&&(S=this._container.clientWidth||400,c=this._container.clientHeight||300),[S,c]}_setupContainer(){const S=this._container;S.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",S);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),y=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],y);const x=this._controlContainer=h.create("div","maplibregl-control-container",S),C=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{C[D]=h.create("div",`maplibregl-ctrl-${D} `,x)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${S}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(S,c,p){this._canvas.width=Math.floor(p*S),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${S}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const S={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",y=>{c={requestedAttributes:S},y&&(c.statusMessage=y.statusMessage,c.type=y.type)},{once:!0});const p=this._canvas.getContext("webgl2",S)||this._canvas.getContext("webgl",S);if(!p){const y="Failed to initialize WebGL";throw c?(c.message=y,new Error(JSON.stringify(c))):new Error(y)}this.painter=new ux(p,this.transform),g.testSupport(p)}_onCooperativeGesture(S,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(S){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||S,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(S){return this._update(),this._renderTaskQueue.add(S)}_cancelRenderFrame(S){this._renderTaskQueue.remove(S)}_render(S){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(S),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const x=this.transform.zoom,C=a.browser.now();this.style.zoomHistory.update(x,C);const D=new a.EvaluationParameters(x,{now:C,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),L=D.crossFadingFactor();L===1&&L===this._crossFadingFactor||(p=!0,this._crossFadingFactor=L),this.style.update(D)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const y=this._sourcesDirty||this._styleDirty||this._placementDirty;return y||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var S;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),P.removeThrottleControl(this._imageQueueHandle),(S=this._resizeObserver)===null||S===void 0||S.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.browser.frame(S=>{a.PerformanceUtils.frame(S),this._frame=null,this._render(S)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(S){this._showTileBoundaries!==S&&(this._showTileBoundaries=S,this._update())}get showPadding(){return!!this._showPadding}set showPadding(S){this._showPadding!==S&&(this._showPadding=S,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(S){this._showCollisionBoxes!==S&&(this._showCollisionBoxes=S,S?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(S){this._showOverdrawInspector!==S&&(this._showOverdrawInspector=S,this._update())}get repaint(){return!!this._repaint}set repaint(S){this._repaint!==S&&(this._repaint=S,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(S){this._vertices=S,this._update()}get version(){return is}getCameraTargetElevation(){return this.transform.elevation}},zr.NavigationControl=class{constructor(S){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),y=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const y=this._map._getUIString(`NavigationControl.${p}`);c.title=y,c.setAttribute("aria-label",y)},this.options=a.extend({},An,S),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(S){return this._map=S,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ti(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(S,c){const p=h.create("button",S,this._container);return p.type="button",p.addEventListener("click",c),p}},zr.GeolocateControl=class extends a.Evented{constructor(S){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.Event("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.LngLat(c.coords.longitude,c.coords.latitude),y=c.coords.accuracy,x=this._map.getBearing(),C=a.extend({bearing:x},this.options.fitBoundsOptions),D=Oe.fromLngLat(p,y);this._map.fitBounds(D,C,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&xc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.Event("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new cd({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}},this.options=a.extend({},oy,S)}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){Bs===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(y=>{Bs=y.state!=="denied",c(Bs)}).catch(()=>{Bs=!!window.navigator.geolocation,c(Bs)}):(Bs=!!window.navigator.geolocation,c(Bs)):c(Bs)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Cl=0,xc=!1}_isOutOfMapMaxBounds(S){const c=this._map.getMaxBounds(),p=S.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const S=this._map.getBounds(),c=S.getSouthEast(),p=S.getNorthEast(),y=c.distanceTo(p),x=Math.ceil(this._accuracy/(y/this._map._container.clientHeight)*2);this._circleElement.style.width=`${x}px`,this._circleElement.style.height=`${x}px`}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Cl--,xc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let S;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Cl++,Cl>1?(S={maximumAge:6e5,timeout:0},xc=!0):(S=this.options.positionOptions,xc=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,S)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},zr.AttributionControl=Cx,zr.LogoControl=Pa,zr.ScaleControl=class{constructor(S){this._onMove=()=>{Yh(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Yh(this._map,this._container,this.options)},this.options=a.extend({},ay,S)}getDefaultPosition(){return"bottom-left"}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",S.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},zr.FullscreenControl=class extends a.Evented{constructor(S={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,S&&S.container&&(S.container instanceof HTMLElement?this._container=S.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(S){return this._map=S,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const S=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",S).setAttribute("aria-hidden","true"),S.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const S=this._getTitle();this._fullscreenButton.setAttribute("aria-label",S),this._fullscreenButton.title=S}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},zr.TerrainControl=class{constructor(S){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=S}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},zr.Popup=class extends a.Evented{constructor(S){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Eu(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let y=this.options.anchor;const x=Kh(this.options.offset);if(!y){const D=this._container.offsetWidth,L=this._container.offsetHeight;let B;B=p.y+x.bottom.y<L?["top"]:p.y>this._map.transform.height-L?["bottom"]:[],p.x<D/2?B.push("left"):p.x>this._map.transform.width-D/2&&B.push("right"),y=B.length===0?"bottom":B.join("-")}const C=p.add(x[y]).round();h.setTransform(this._container,`${Cu[y]} translate(${C.x}px,${C.y}px)`),Gh(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=a.extend(Object.create(sy),S)}addTo(S){return this._map&&this.remove(),this._map=S,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(S){return this._lngLat=a.LngLat.convert(S),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(S){return this.setDOMContent(document.createTextNode(S))}setHTML(S){const c=document.createDocumentFragment(),p=document.createElement("body");let y;for(p.innerHTML=S;y=p.firstChild,y;)c.appendChild(y);return this.setDOMContent(c)}getMaxWidth(){var S;return(S=this._container)===null||S===void 0?void 0:S.style.maxWidth}setMaxWidth(S){return this.options.maxWidth=S,this._update(),this}setDOMContent(S){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(S),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(S){this._container&&this._container.classList.add(S)}removeClassName(S){this._container&&this._container.classList.remove(S)}setOffset(S){return this.options.offset=S,this._update(),this}toggleClassName(S){if(this._container)return this._container.classList.toggle(S)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const S=this._container.querySelector(ly);S&&S.focus()}},zr.Marker=cd,zr.Style=Vi,zr.LngLat=a.LngLat,zr.LngLatBounds=Oe,zr.Point=a.Point,zr.MercatorCoordinate=a.MercatorCoordinate,zr.Evented=a.Evented,zr.AJAXError=a.AJAXError,zr.config=a.config,zr.CanvasSource=Re,zr.GeoJSONSource=Ve,zr.ImageSource=ct,zr.RasterDEMTileSource=nt,zr.RasterTileSource=at,zr.VectorTileSource=Be,zr.VideoSource=Fe,zr.setRTLTextPlugin=a.setRTLTextPlugin,zr.getRTLTextPluginStatus=a.getRTLTextPluginStatus,zr.prewarm=function(){Jt().acquire(ut)},zr.clearPrewarmedResources=function(){const S=mr;S&&(S.isPreloaded()&&S.numActive()===1?(S.release(ut),mr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},cy.extend(zr,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),zr});var s=i;return s})})($W);var Hge=$W.exports;const I2=Kr(Hge);class Gge{constructor(t,r,n){this.onBeforeSwitch=t,this.onSwitch=r,this.onAfterSwitch=n,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,r){this.styles=t;let n=null;for(const o of this.styles)if(o.id===(this.currentStyle||r)){n=o.id;break}for(n||(n=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:d}=a;d.classList.contains("active")||this.onSelectStyle(d)}),o.id===n&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==n&&(this.onSelectStyle(i),this.currentStyle=n)}onSelectStyle(t){this.onBeforeSwitch();const r=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(r.style,{diff:!1}),this.map.setTransformRequest(r.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const n=this.mapStyleContainer.getElementsByClassName("active");for(;n[0];)n[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const Yge=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},Zo=({tiles:e,minZoom:t,maxZoom:r,attribution:n})=>{const i={type:"raster",tiles:e,attribution:n,tileSize:256,minzoom:t,maxzoom:r};return Object.keys(i).forEach(o=>i[o]===void 0&&delete i[o]),{version:8,sources:{custom:i},glyphs:"https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf",layers:[{id:"custom",type:"raster",source:"custom"}]}},Kge=()=>{const e="mykey",t="mykey",r="mykey",n="mykey",i="mykey",o="mykey";return[{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"osm",title:"mapOsm",style:Zo({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:'© <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Zo({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Zo({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:'© <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Zo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Zo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Zo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Zo({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!r,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Zo({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!r,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Zo({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!r,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${n}`,available:!!n,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Zo({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Zo({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Zo({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Zo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Zo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Zo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"}]},Lm=document.createElement("div");Lm.style.width="100%";Lm.style.height="100%";Lm.style.boxSizing="initial";const lt=new I2.Map({container:Lm,attributionControl:!1,center:[-6.0025,37.412],zoom:8});let _R=!1;const xR=new Set,Zge=e=>{xR.add(e),e(_R)},Xge=e=>{xR.delete(e)},LW=e=>{_R=e,xR.forEach(t=>t(e))},Jge=async()=>{_R||(lt.hasImage("background")||Object.entries(Cp).forEach(([e,t])=>{lt.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),LW(!0))};lt.addControl(new I2.NavigationControl);const zW=new Gge(()=>LW(!1),e=>Yge("selectedMapStyle",e),()=>{lt.once("styledata",()=>{const e=()=>{lt.loaded()?Jge():setTimeout(e,33)};e()})});lt.addControl(zW);const NW=({children:e})=>{const t=W.useRef(null),[r,n]=W.useState(!1),i=Kge(),o="osm",[s]="osm",a="my tocken",d=21;return W.useEffect(()=>{lt.setMaxZoom(d)},[d]),W.useEffect(()=>{I2.accessToken=a},[a]),W.useEffect(()=>{const h=i.filter(v=>v.available&&o.includes(v.id)),g=h.length?h:i.filter(v=>v.id==="osm");zW.updateStyles(g,s)},[i,s]),W.useEffect(()=>{const h=g=>n(g);return Zge(h),()=>{Xge(h)}},[]),W.useLayoutEffect(()=>{const h=t.current;return h.appendChild(Lm),lt.resize(),()=>{h.removeChild(Lm)}},[t]),F.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:r&&e})},bR=Symbol.for("yaml.alias"),IA=Symbol.for("yaml.document"),_f=Symbol.for("yaml.map"),jW=Symbol.for("yaml.pair"),nu=Symbol.for("yaml.scalar"),fg=Symbol.for("yaml.seq"),Ms=Symbol.for("yaml.node.type"),fh=e=>!!e&&typeof e=="object"&&e[Ms]===bR,dg=e=>!!e&&typeof e=="object"&&e[Ms]===IA,hg=e=>!!e&&typeof e=="object"&&e[Ms]===_f,Kn=e=>!!e&&typeof e=="object"&&e[Ms]===jW,kn=e=>!!e&&typeof e=="object"&&e[Ms]===nu,pg=e=>!!e&&typeof e=="object"&&e[Ms]===fg;function oi(e){if(e&&typeof e=="object")switch(e[Ms]){case _f:case fg:return!0}return!1}function Si(e){if(e&&typeof e=="object")switch(e[Ms]){case bR:case _f:case nu:case fg:return!0}return!1}const Qge=e=>(kn(e)||oi(e))&&!!e.anchor,ga=Symbol("break visit"),BW=Symbol("skip children"),Zl=Symbol("remove node");function Af(e,t){const r=FW(t);dg(e)?Vp(null,e.contents,r,Object.freeze([e]))===Zl&&(e.contents=null):Vp(null,e,r,Object.freeze([]))}Af.BREAK=ga;Af.SKIP=BW;Af.REMOVE=Zl;function Vp(e,t,r,n){const i=UW(e,t,r,n);if(Si(i)||Kn(i))return VW(e,n,i),Vp(e,i,r,n);if(typeof i!="symbol"){if(oi(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const s=Vp(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===ga)return ga;s===Zl&&(t.items.splice(o,1),o-=1)}}}else if(Kn(t)){n=Object.freeze(n.concat(t));const o=Vp("key",t.key,r,n);if(o===ga)return ga;o===Zl&&(t.key=null);const s=Vp("value",t.value,r,n);if(s===ga)return ga;s===Zl&&(t.value=null)}}return i}async function R2(e,t){const r=FW(t);dg(e)?await Wp(null,e.contents,r,Object.freeze([e]))===Zl&&(e.contents=null):await Wp(null,e,r,Object.freeze([]))}R2.BREAK=ga;R2.SKIP=BW;R2.REMOVE=Zl;async function Wp(e,t,r,n){const i=await UW(e,t,r,n);if(Si(i)||Kn(i))return VW(e,n,i),Wp(e,i,r,n);if(typeof i!="symbol"){if(oi(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const s=await Wp(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===ga)return ga;s===Zl&&(t.items.splice(o,1),o-=1)}}}else if(Kn(t)){n=Object.freeze(n.concat(t));const o=await Wp("key",t.key,r,n);if(o===ga)return ga;o===Zl&&(t.key=null);const s=await Wp("value",t.value,r,n);if(s===ga)return ga;s===Zl&&(t.value=null)}}return i}function FW(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function UW(e,t,r,n){var i,o,s,a,d;if(typeof r=="function")return r(e,t,n);if(hg(t))return(i=r.Map)==null?void 0:i.call(r,e,t,n);if(pg(t))return(o=r.Seq)==null?void 0:o.call(r,e,t,n);if(Kn(t))return(s=r.Pair)==null?void 0:s.call(r,e,t,n);if(kn(t))return(a=r.Scalar)==null?void 0:a.call(r,e,t,n);if(fh(t))return(d=r.Alias)==null?void 0:d.call(r,e,t,n)}function VW(e,t,r){const n=t[t.length-1];if(oi(n))n.items[e]=r;else if(Kn(n))e==="key"?n.key=r:n.value=r;else if(dg(n))n.contents=r;else{const i=fh(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const eye={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},tye=e=>e.replace(/[!,[\]{}]/g,t=>eye[t]);class Qo{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Qo.defaultYaml,t),this.tags=Object.assign({},Qo.defaultTags,r)}clone(){const t=new Qo(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Qo(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Qo.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Qo.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Qo.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Qo.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[o]=n;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return r(6,`Unsupported YAML version ${o}`,s),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}const[,n,i]=t.match(/^(.*!)([^!]*)$/);i||r(`The ${t} tag has no suffix`);const o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+tye(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(t&&n.length>0&&Si(t.contents)){const o={};Af(t.contents,(s,a)=>{Si(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}}Qo.defaultYaml={explicit:!1,version:"1.2"};Qo.defaultTags={"!!":"tag:yaml.org,2002:"};function WW(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function qW(e){const t=new Set;return Af(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function HW(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function rye(e,t){const r=[],n=new Map;let i=null;return{onAnchor:o=>{r.push(o),i||(i=qW(e));const s=HW(t,i);return i.add(s),s},setAnchors:()=>{for(const o of r){const s=n.get(o);if(typeof s=="object"&&s.anchor&&(kn(s.node)||oi(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}function qp(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){const s=n[i],a=qp(e,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const o=n.get(i),s=qp(e,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(const i of Array.from(n)){const o=qp(e,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(const[i,o]of Object.entries(n)){const s=qp(e,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return e.call(t,r,n)}function ws(e,t,r){if(Array.isArray(e))return e.map((n,i)=>ws(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!Qge(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};const i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!(r!=null&&r.keep)?Number(e):e}class wR{constructor(t){Object.defineProperty(this,Ms,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:o}={}){if(!dg(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=ws(this,"",s);if(typeof i=="function")for(const{count:d,res:h}of s.anchors.values())i(h,d);return typeof o=="function"?qp(o,{"":a},"",a):a}}class $2 extends wR{constructor(t){super(bR),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return Af(t,{Node:(n,i)=>{if(i===this)return Af.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){const d=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(d)}let a=n.get(s);if(a||(ws(s,null,r),a=n.get(s)),!a||a.res===void 0){const d="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(d)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=l1(i,s,n)),a.count*a.aliasCount>o)){const d="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(d)}return a.res}toString(t,r,n){const i=`*${this.source}`;if(t){if(WW(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function l1(e,t,r){if(fh(t)){const n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(oi(t)){let n=0;for(const i of t.items){const o=l1(e,i,r);o>n&&(n=o)}return n}else if(Kn(t)){const n=l1(e,t.key,r),i=l1(e,t.value,r);return Math.max(n,i)}return 1}const GW=e=>!e||typeof e!="function"&&typeof e!="object";class br extends wR{constructor(t){super(nu),this.value=t}toJSON(t,r){return r!=null&&r.keep?this.value:ws(this.value,t,r)}toString(){return String(this.value)}}br.BLOCK_FOLDED="BLOCK_FOLDED";br.BLOCK_LITERAL="BLOCK_LITERAL";br.PLAIN="PLAIN";br.QUOTE_DOUBLE="QUOTE_DOUBLE";br.QUOTE_SINGLE="QUOTE_SINGLE";const nye="tag:yaml.org,2002:";function iye(e,t,r){if(t){const n=r.filter(o=>o.tag===t),i=n.find(o=>!o.format)??n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>{var i;return((i=n.identify)==null?void 0:i.call(n,e))&&!n.format})}function M0(e,t,r){var v,b,M;if(dg(e)&&(e=e.contents),Si(e))return e;if(Kn(e)){const A=(b=(v=r.schema[_f]).createNode)==null?void 0:b.call(v,r.schema,null,r);return A.items.push(e),A}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=r;let d;if(n&&e&&typeof e=="object"){if(d=a.get(e),d)return d.anchor||(d.anchor=i(e)),new $2(d.anchor);d={anchor:null,node:null},a.set(e,d)}t!=null&&t.startsWith("!!")&&(t=nye+t.slice(2));let h=iye(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const A=new br(e);return d&&(d.node=A),A}h=e instanceof Map?s[_f]:Symbol.iterator in Object(e)?s[fg]:s[_f]}o&&(o(h),delete r.onTagObj);const g=h!=null&&h.createNode?h.createNode(r.schema,e,r):typeof((M=h==null?void 0:h.nodeClass)==null?void 0:M.from)=="function"?h.nodeClass.from(r.schema,e,r):new br(e);return t?g.tag=t:h.default||(g.tag=h.tag),d&&(d.node=g),g}function aw(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return M0(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const bv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class D2 extends wR{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>Si(n)||Kn(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(bv(t))this.add(r);else{const[n,...i]=t,o=this.get(n,!0);if(oi(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,aw(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const i=this.get(r,!0);if(oi(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...i]=t,o=this.get(n,!0);return i.length===0?!r&&kn(o)?o.value:o:oi(o)?o.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!Kn(r))return!1;const n=r.value;return n==null||t&&kn(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const i=this.get(r,!0);return oi(i)?i.hasIn(n):!1}setIn(t,r){const[n,...i]=t;if(i.length===0)this.set(n,r);else{const o=this.get(n,!0);if(oi(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,aw(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}D2.maxFlowStringSingleLineLength=60;const oye=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function zc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const tf=(e,t,r)=>e.endsWith(`
`)?zc(r,t):r.includes(`
`)?`
`+zc(r,t):(e.endsWith(" ")?"":" ")+r,YW="flow",RA="block",c1="quoted";function L2(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const d=Math.max(1+o,1+i-t.length);if(e.length<=d)return e;const h=[],g={};let v=i-t.length;typeof n=="number"&&(n>i-Math.max(2,o)?h.push(0):v=i-n);let b,M,A=!1,w=-1,P=-1,O=-1;r===RA&&(w=$5(e,w),w!==-1&&(v=w+d));for(let T;T=e[w+=1];){if(r===c1&&T==="\\"){switch(P=w,e[w+1]){case"x":w+=3;break;case"u":w+=5;break;case"U":w+=9;break;default:w+=1}O=w}if(T===`
`)r===RA&&(w=$5(e,w)),v=w+d,b=void 0;else{if(T===" "&&M&&M!==" "&&M!==`
`&&M!=="	"){const R=e[w+1];R&&R!==" "&&R!==`
`&&R!=="	"&&(b=w)}if(w>=v)if(b)h.push(b),v=b+d,b=void 0;else if(r===c1){for(;M===" "||M==="	";)M=T,T=e[w+=1],A=!0;const R=w>O+1?w-2:P-1;if(g[R])return e;h.push(R),g[R]=!0,v=R+d,b=void 0}else A=!0}M=T}if(A&&a&&a(),h.length===0)return e;s&&s();let I=e.slice(0,h[0]);for(let T=0;T<h.length;++T){const R=h[T],z=h[T+1]||e.length;R===0?I=`
${t}${e.slice(0,z)}`:(r===c1&&g[R]&&(I+=`${e[R]}\\`),I+=`
${t}${e.slice(R+1,z)}`)}return I}function $5(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}const z2=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),N2=e=>/^(%|---|\.\.\.)/m.test(e);function aye(e,t,r){if(!t||t<0)return!1;const n=t-r,i=e.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function Uv(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(N2(e)?"  ":"");let s="",a=0;for(let d=0,h=r[d];h;h=r[++d])if(h===" "&&r[d+1]==="\\"&&r[d+2]==="n"&&(s+=r.slice(a,d)+"\\ ",d+=1,a=d,h="\\"),h==="\\")switch(r[d+1]){case"u":{s+=r.slice(a,d);const g=r.substr(d+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=r.substr(d,6)}d+=5,a=d+1}break;case"n":if(n||r[d+2]==='"'||r.length<i)d+=1;else{for(s+=r.slice(a,d)+`

`;r[d+2]==="\\"&&r[d+3]==="n"&&r[d+4]!=='"';)s+=`
`,d+=2;s+=o,r[d+2]===" "&&(s+="\\"),d+=1,a=d+1}break;default:d+=1}return s=a?s+r.slice(a):r,n?s:L2(s,o,c1,z2(t,!1))}function $A(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Uv(e,t);const r=t.indent||(N2(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:L2(n,r,YW,z2(t,!1))}function Hp(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=Uv;else{const i=e.includes('"'),o=e.includes("'");i&&!o?n=$A:o&&!i?n=Uv:n=r?$A:Uv}return n(e,t)}let DA;try{DA=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{DA=/\n+(?!\n|$)/g}function u1({comment:e,type:t,value:r},n,i,o){const{blockQuote:s,commentString:a,lineWidth:d}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return Hp(r,n);const h=n.indent||(n.forceBlockIndent||N2(r)?"  ":""),g=s==="literal"?!0:s==="folded"||t===br.BLOCK_FOLDED?!1:t===br.BLOCK_LITERAL?!0:!aye(r,d,h.length);if(!r)return g?`|
`:`>
`;let v,b;for(b=r.length;b>0;--b){const j=r[b-1];if(j!==`
`&&j!=="	"&&j!==" ")break}let M=r.substring(b);const A=M.indexOf(`
`);A===-1?v="-":r===M||A!==M.length-1?(v="+",o&&o()):v="",M&&(r=r.slice(0,-M.length),M[M.length-1]===`
`&&(M=M.slice(0,-1)),M=M.replace(DA,`$&${h}`));let w=!1,P,O=-1;for(P=0;P<r.length;++P){const j=r[P];if(j===" ")w=!0;else if(j===`
`)O=P;else break}let I=r.substring(0,O<P?O+1:P);I&&(r=r.substring(I.length),I=I.replace(/\n+/g,`$&${h}`));let R=(g?"|":">")+(w?h?"2":"1":"")+v;if(e&&(R+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return r=r.replace(/\n+/g,`$&${h}`),`${R}
${h}${I}${r}${M}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const z=L2(`${I}${r}${M}`,h,RA,z2(n,!0));return`${R}
${h}${z}`}function sye(e,t,r,n){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:d,indentStep:h,inFlow:g}=t;if(a&&/[\n[\]{},]/.test(o)||g&&/[[\]{},]/.test(o))return Hp(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?Hp(o,t):u1(e,t,r,n);if(!a&&!g&&i!==br.PLAIN&&o.includes(`
`))return u1(e,t,r,n);if(N2(o)){if(d==="")return t.forceBlockIndent=!0,u1(e,t,r,n);if(a&&d===h)return Hp(o,t)}const v=o.replace(/\n+/g,`$&
${d}`);if(s){const b=w=>{var P;return w.default&&w.tag!=="tag:yaml.org,2002:str"&&((P=w.test)==null?void 0:P.test(v))},{compat:M,tags:A}=t.doc.schema;if(A.some(b)||M!=null&&M.some(b))return Hp(o,t)}return a?v:L2(v,d,YW,z2(t,!1))}function k_(e,t,r,n){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==br.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=br.QUOTE_DOUBLE);const d=g=>{switch(g){case br.BLOCK_FOLDED:case br.BLOCK_LITERAL:return i||o?Hp(s.value,t):u1(s,t,r,n);case br.QUOTE_DOUBLE:return Uv(s.value,t);case br.QUOTE_SINGLE:return $A(s.value,t);case br.PLAIN:return sye(s,t,r,n);default:return null}};let h=d(a);if(h===null){const{defaultKeyType:g,defaultStringType:v}=t.options,b=i&&g||v;if(h=d(b),h===null)throw new Error(`Unsupported default string type ${b}`)}return h}function KW(e,t){const r=Object.assign({blockQuote:!0,commentString:oye,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function lye(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let r,n;if(kn(t)){n=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,n)});r=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else n=t,r=e.find(o=>o.nodeClass&&n instanceof o.nodeClass);if(!r){const o=((i=n==null?void 0:n.constructor)==null?void 0:i.name)??typeof n;throw new Error(`Tag not resolved for ${o} value`)}return r}function cye(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const i=[],o=(kn(e)||oi(e))&&e.anchor;o&&WW(o)&&(r.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(n.directives.tagString(s)),i.join(" ")}function zm(e,t,r,n){var d;if(Kn(e))return e.toString(t,r,n);if(fh(e)){if(t.doc.directives)return e.toString(t);if((d=t.resolvedAliases)!=null&&d.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Si(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=lye(t.doc.schema.tags,o));const s=cye(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,r,n):kn(o)?k_(o,t,r,n):o.toString(t,r,n);return s?kn(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function uye({key:e,value:t},r,n,i){const{allNullValues:o,doc:s,indent:a,indentStep:d,options:{commentString:h,indentSeq:g,simpleKeys:v}}=r;let b=Si(e)&&e.comment||null;if(v){if(b)throw new Error("With simple keys, key nodes cannot have comments");if(oi(e)){const V="With simple keys, collection cannot be used as a key value";throw new Error(V)}}let M=!v&&(!e||b&&t==null&&!r.inFlow||oi(e)||(kn(e)?e.type===br.BLOCK_FOLDED||e.type===br.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!M&&(v||!o),indent:a+d});let A=!1,w=!1,P=zm(e,r,()=>A=!0,()=>w=!0);if(!M&&!r.inFlow&&P.length>1024){if(v)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");M=!0}if(r.inFlow){if(o||t==null)return A&&n&&n(),P===""?"?":M?`? ${P}`:P}else if(o&&!v||t==null&&M)return P=`? ${P}`,b&&!A?P+=tf(P,r.indent,h(b)):w&&i&&i(),P;A&&(b=null),M?(b&&(P+=tf(P,r.indent,h(b))),P=`? ${P}
${a}:`):(P=`${P}:`,b&&(P+=tf(P,r.indent,h(b))));let O,I,T;Si(t)?(O=!!t.spaceBefore,I=t.commentBefore,T=t.comment):(O=!1,I=null,T=null,t&&typeof t=="object"&&(t=s.createNode(t))),r.implicitKey=!1,!M&&!b&&kn(t)&&(r.indentAtStart=P.length+1),w=!1,!g&&d.length>=2&&!r.inFlow&&!M&&pg(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let R=!1;const z=zm(t,r,()=>R=!0,()=>w=!0);let j=" ";if(b||O||I){if(j=O?`
`:"",I){const V=h(I);j+=`
${zc(V,r.indent)}`}z===""&&!r.inFlow?j===`
`&&(j=`

`):j+=`
${r.indent}`}else if(!M&&oi(t)){const V=z[0],Z=z.indexOf(`
`),ie=Z!==-1,ne=r.inFlow??t.flow??t.items.length===0;if(ie||!ne){let ae=!1;if(ie&&(V==="&"||V==="!")){let de=z.indexOf(" ");V==="&"&&de!==-1&&de<Z&&z[de+1]==="!"&&(de=z.indexOf(" ",de+1)),(de===-1||Z<de)&&(ae=!0)}ae||(j=`
${r.indent}`)}}else(z===""||z[0]===`
`)&&(j="");return P+=j+z,r.inFlow?R&&n&&n():T&&!R?P+=tf(P,r.indent,h(T)):w&&i&&i(),P}function ZW(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const D5="<<";function XW(e,t,{key:r,value:n}){if(e!=null&&e.doc.schema.merge&&fye(r))if(n=fh(n)?n.resolve(e.doc):n,pg(n))for(const i of n.items)XT(e,t,i);else if(Array.isArray(n))for(const i of n)XT(e,t,i);else XT(e,t,n);else{const i=ws(r,"",e);if(t instanceof Map)t.set(i,ws(n,i,e));else if(t instanceof Set)t.add(i);else{const o=dye(r,i,e),s=ws(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const fye=e=>e===D5||kn(e)&&e.value===D5&&(!e.type||e.type===br.PLAIN);function XT(e,t,r){const n=e&&fh(r)?r.resolve(e.doc):r;if(!hg(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function dye(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(Si(e)&&r&&r.doc){const n=KW(r.doc,{});n.anchors=new Set;for(const o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),ZW(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}function SR(e,t,r){const n=M0(e,void 0,r),i=M0(t,void 0,r);return new Ro(n,i)}class Ro{constructor(t,r=null){Object.defineProperty(this,Ms,{value:jW}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return Si(r)&&(r=r.clone(t)),Si(n)&&(n=n.clone(t)),new Ro(r,n)}toJSON(t,r){const n=r!=null&&r.mapAsMap?new Map:{};return XW(r,n,this)}toString(t,r,n){return t!=null&&t.doc?uye(this,t,r,n):JSON.stringify(this)}}function JW(e,t,r){return(t.inFlow??e.flow?pye:hye)(e,t,r)}function hye({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:d,options:{commentString:h}}=r,g=Object.assign({},r,{indent:o,type:null});let v=!1;const b=[];for(let A=0;A<t.length;++A){const w=t[A];let P=null;if(Si(w))!v&&w.spaceBefore&&b.push(""),sw(r,b,w.commentBefore,v),w.comment&&(P=w.comment);else if(Kn(w)){const I=Si(w.key)?w.key:null;I&&(!v&&I.spaceBefore&&b.push(""),sw(r,b,I.commentBefore,v))}v=!1;let O=zm(w,g,()=>P=null,()=>v=!0);P&&(O+=tf(O,o,h(P))),v&&P&&(v=!1),b.push(n+O)}let M;if(b.length===0)M=i.start+i.end;else{M=b[0];for(let A=1;A<b.length;++A){const w=b[A];M+=w?`
${d}${w}`:`
`}}return e?(M+=`
`+zc(h(e),d),a&&a()):v&&s&&s(),M}function pye({comment:e,items:t},r,{flowChars:n,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:d,options:{commentString:h}}=r;i+=a;const g=Object.assign({},r,{indent:i,inFlow:!0,type:null});let v=!1,b=0;const M=[];for(let O=0;O<t.length;++O){const I=t[O];let T=null;if(Si(I))I.spaceBefore&&M.push(""),sw(r,M,I.commentBefore,!1),I.comment&&(T=I.comment);else if(Kn(I)){const z=Si(I.key)?I.key:null;z&&(z.spaceBefore&&M.push(""),sw(r,M,z.commentBefore,!1),z.comment&&(v=!0));const j=Si(I.value)?I.value:null;j?(j.comment&&(T=j.comment),j.commentBefore&&(v=!0)):I.value==null&&z&&z.comment&&(T=z.comment)}T&&(v=!0);let R=zm(I,g,()=>T=null);O<t.length-1&&(R+=","),T&&(R+=tf(R,i,h(T))),!v&&(M.length>b||R.includes(`
`))&&(v=!0),M.push(R),b=M.length}let A;const{start:w,end:P}=n;if(M.length===0)A=w+P;else if(v||(v=M.reduce((I,T)=>I+T.length+2,2)>D2.maxFlowStringSingleLineLength),v){A=w;for(const O of M)A+=O?`
${a}${s}${O}`:`
`;A+=`
${s}${P}`}else A=`${w}${d}${M.join(" ")}${d}${P}`;return e&&(A+=tf(A,s,h(e)),o&&o()),A}function sw({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const o=zc(t(n),e);r.push(o.trimStart())}}function Od(e,t){const r=kn(t)?t.value:t;for(const n of e)if(Kn(n)&&(n.key===t||n.key===r||kn(n.key)&&n.key.value===r))return n}class Ua extends D2{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(_f,t),this.items=[]}static from(t,r,n){const{keepUndefined:i,replacer:o}=n,s=new this(t),a=(d,h)=>{if(typeof o=="function")h=o.call(r,d,h);else if(Array.isArray(o)&&!o.includes(d))return;(h!==void 0||i)&&s.items.push(SR(d,h,n))};if(r instanceof Map)for(const[d,h]of r)a(d,h);else if(r&&typeof r=="object")for(const d of Object.keys(r))a(d,r[d]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,r){var s;let n;Kn(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new Ro(t,t==null?void 0:t.value):n=new Ro(t.key,t.value);const i=Od(this.items,n.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);kn(i.value)&&GW(n.value)?i.value.value=n.value:i.value=n.value}else if(o){const a=this.items.findIndex(d=>o(n,d)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(t){const r=Od(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const n=Od(this.items,t),i=n==null?void 0:n.value;return(!r&&kn(i)?i.value:i)??void 0}has(t){return!!Od(this.items,t)}set(t,r){this.add(new Ro(t,r),!0)}toJSON(t,r,n){const i=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(i);for(const o of this.items)XW(r,i,o);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Kn(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),JW(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}const mg={collection:"map",default:!0,nodeClass:Ua,tag:"tag:yaml.org,2002:map",resolve(e,t){return hg(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>Ua.from(e,t,r)};class Mf extends D2{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(fg,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=Eb(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=Eb(t);if(typeof n!="number")return;const i=this.items[n];return!r&&kn(i)?i.value:i}has(t){const r=Eb(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=Eb(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[n];kn(i)&&GW(r)?i.value=r:this.items[n]=r}toJSON(t,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let i=0;for(const o of this.items)n.push(ws(o,String(i++),r));return n}toString(t,r,n){return t?JW(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){const{replacer:i}=n,o=new this(t);if(r&&Symbol.iterator in Object(r)){let s=0;for(let a of r){if(typeof i=="function"){const d=r instanceof Set?a:String(s++);a=i.call(r,d,a)}o.items.push(M0(a,void 0,n))}}return o}}function Eb(e){let t=kn(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const gg={collection:"seq",default:!0,nodeClass:Mf,tag:"tag:yaml.org,2002:seq",resolve(e,t){return pg(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>Mf.from(e,t,r)},j2={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),k_(e,t,r,n)}},B2={identify:e=>e==null,createNode:()=>new br(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new br(null),stringify:({source:e},t)=>typeof e=="string"&&B2.test.test(e)?e:t.options.nullStr},ER={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new br(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&ER.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function yl({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const QW={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:yl},e9={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():yl(e)}},t9={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new br(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:yl},F2=e=>typeof e=="bigint"||Number.isInteger(e),CR=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function r9(e,t,r){const{value:n}=e;return F2(n)&&n>=0?r+n.toString(t):yl(e)}const n9={identify:e=>F2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>CR(e,2,8,r),stringify:e=>r9(e,8,"0o")},i9={identify:F2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>CR(e,0,10,r),stringify:yl},o9={identify:e=>F2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>CR(e,2,16,r),stringify:e=>r9(e,16,"0x")},mye=[mg,gg,j2,B2,ER,n9,i9,o9,QW,e9,t9];function L5(e){return typeof e=="bigint"||Number.isInteger(e)}const Cb=({value:e})=>JSON.stringify(e),gye=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Cb},{identify:e=>e==null,createNode:()=>new br(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Cb},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Cb},{identify:L5,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>L5(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Cb}],yye={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},vye=[mg,gg].concat(gye,yye),TR={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,o){const s=r;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let d="";for(let h=0;h<s.length;++h)d+=String.fromCharCode(s[h]);a=btoa(d)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=br.BLOCK_LITERAL),t!==br.QUOTE_DOUBLE){const d=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),h=Math.ceil(a.length/d),g=new Array(h);for(let v=0,b=0;v<h;++v,b+=d)g[v]=a.substr(b,d);a=g.join(t===br.BLOCK_LITERAL?`
`:" ")}return k_({comment:e,type:t,value:a},n,i,o)}};function a9(e,t){if(pg(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Kn(n)){if(hg(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const i=n.items[0]||new Ro(new br(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){const o=i.value??i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}e.items[r]=Kn(n)?n:new Ro(n)}}else t("Expected a sequence for this tag");return e}function s9(e,t,r){const{replacer:n}=r,i=new Mf(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof n=="function"&&(s=n.call(t,String(o++),s));let a,d;if(Array.isArray(s))if(s.length===2)a=s[0],d=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],d=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(SR(a,d,r))}return i}const kR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a9,createNode:s9};class cm extends Mf{constructor(){super(),this.add=Ua.prototype.add.bind(this),this.delete=Ua.prototype.delete.bind(this),this.get=Ua.prototype.get.bind(this),this.has=Ua.prototype.has.bind(this),this.set=Ua.prototype.set.bind(this),this.tag=cm.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const i of this.items){let o,s;if(Kn(i)?(o=ws(i.key,"",r),s=ws(i.value,o,r)):o=ws(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}static from(t,r,n){const i=s9(t,r,n),o=new this;return o.items=i.items,o}}cm.tag="tag:yaml.org,2002:omap";const PR={collection:"seq",identify:e=>e instanceof Map,nodeClass:cm,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=a9(e,t),n=[];for(const{key:i}of r.items)kn(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new cm,r)},createNode:(e,t,r)=>cm.from(e,t,r)};function l9({value:e,source:t},r){return t&&(e?c9:u9).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const c9={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new br(!0),stringify:l9},u9={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new br(!1),stringify:l9},_ye={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:yl},xye={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():yl(e)}},bye={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new br(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:yl},P_=e=>typeof e=="bigint"||Number.isInteger(e);function U2(e,t,r,{intAsBigInt:n}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,r);return i==="-"?-1*o:o}function AR(e,t,r){const{value:n}=e;if(P_(n)){const i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return yl(e)}const wye={identify:P_,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>U2(e,2,2,r),stringify:e=>AR(e,2,"0b")},Sye={identify:P_,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>U2(e,1,8,r),stringify:e=>AR(e,8,"0")},Eye={identify:P_,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>U2(e,0,10,r),stringify:yl},Cye={identify:P_,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>U2(e,2,16,r),stringify:e=>AR(e,16,"0x")};class um extends Ua{constructor(t){super(t),this.tag=um.tag}add(t){let r;Kn(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Ro(t.key,null):r=new Ro(t,null),Od(this.items,r.key)||this.items.push(r)}get(t,r){const n=Od(this.items,t);return!r&&Kn(n)?kn(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=Od(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Ro(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){const{replacer:i}=n,o=new this(t);if(r&&Symbol.iterator in Object(r))for(let s of r)typeof i=="function"&&(s=i.call(r,s,s)),o.items.push(SR(s,null,n));return o}}um.tag="tag:yaml.org,2002:set";const MR={collection:"map",identify:e=>e instanceof Set,nodeClass:um,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>um.from(e,t,r),resolve(e,t){if(hg(e)){if(e.hasAllNullValues(!0))return Object.assign(new um,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function OR(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function f9(e){let{value:t}=e,r=s=>s;if(typeof t=="bigint")r=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return yl(e);let n="";t<0&&(n="-",t*=r(-1));const i=r(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),n+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const d9={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>OR(e,r),stringify:f9},h9={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>OR(e,!1),stringify:f9},V2={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(V2.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,i,o,s,a]=t.map(Number),d=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(r,n-1,i,o||0,s||0,a||0,d);const g=t[8];if(g&&g!=="Z"){let v=OR(g,!1);Math.abs(v)<30&&(v*=60),h-=6e4*v}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},z5=[mg,gg,j2,B2,c9,u9,wye,Sye,Eye,Cye,_ye,xye,bye,TR,PR,kR,MR,d9,h9,V2],N5=new Map([["core",mye],["failsafe",[mg,gg,j2]],["json",vye],["yaml11",z5],["yaml-1.1",z5]]),j5={binary:TR,bool:ER,float:t9,floatExp:e9,floatNaN:QW,floatTime:h9,int:i9,intHex:o9,intOct:n9,intTime:d9,map:mg,null:B2,omap:PR,pairs:kR,seq:gg,set:MR,timestamp:V2},Tye={"tag:yaml.org,2002:binary":TR,"tag:yaml.org,2002:omap":PR,"tag:yaml.org,2002:pairs":kR,"tag:yaml.org,2002:set":MR,"tag:yaml.org,2002:timestamp":V2};function JT(e,t){let r=N5.get(t);if(!r)if(Array.isArray(e))r=[];else{const n=Array.from(N5.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(const n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;const i=j5[n];if(i)return i;const o=Object.keys(j5).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}const kye=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class W2{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?JT(t,"compat"):t?JT(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?Tye:{},this.tags=JT(r,this.name),this.toStringOptions=a??null,Object.defineProperty(this,_f,{value:mg}),Object.defineProperty(this,nu,{value:j2}),Object.defineProperty(this,fg,{value:gg}),this.sortMapEntries=typeof s=="function"?s:s===!0?kye:null}clone(){const t=Object.create(W2.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Pye(e,t){var d;const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(r.push(h),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const i=KW(e,t),{commentString:o}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");const h=o(e.commentBefore);r.unshift(zc(h,""))}let s=!1,a=null;if(e.contents){if(Si(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const v=o(e.contents.commentBefore);r.push(zc(v,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=zm(e.contents,i,()=>a=null,h);a&&(g+=tf(g,"",o(a))),(g[0]==="|"||g[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${g}`:r.push(g)}else r.push(zm(e.contents,i));if((d=e.directives)!=null&&d.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(r.push("..."),r.push(zc(h,""))):r.push(`... ${h}`)}else r.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(zc(o(h),"")))}return r.join(`
`)+`
`}class yg{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ms,{value:IA});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:s}=o;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new Qo({version:s}),this.setSchema(s,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){const t=Object.create(yg.prototype,{[Ms]:{value:IA}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Si(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){gp(this.contents)&&this.contents.add(t)}addIn(t,r){gp(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=qW(this);t.anchor=!r||n.has(r)?HW(r||"a",n):r}return new $2(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){const P=I=>typeof I=="number"||I instanceof String||I instanceof Number,O=r.filter(P).map(String);O.length>0&&(r=r.concat(O)),i=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:d,onTagObj:h,tag:g}=n??{},{onAnchor:v,setAnchors:b,sourceObjects:M}=rye(this,s||"a"),A={aliasDuplicateObjects:o??!0,keepUndefined:d??!1,onAnchor:v,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:M},w=M0(t,g,A);return a&&oi(w)&&(w.flow=!0),b(),w}createPair(t,r,n={}){const i=this.createNode(t,null,n),o=this.createNode(r,null,n);return new Ro(i,o)}delete(t){return gp(this.contents)?this.contents.delete(t):!1}deleteIn(t){return bv(t)?this.contents==null?!1:(this.contents=null,!0):gp(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return oi(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return bv(t)?!r&&kn(this.contents)?this.contents.value:this.contents:oi(this.contents)?this.contents.getIn(t,r):void 0}has(t){return oi(this.contents)?this.contents.has(t):!1}hasIn(t){return bv(t)?this.contents!==void 0:oi(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=aw(this.schema,[t],r):gp(this.contents)&&this.contents.set(t,r)}setIn(t,r){bv(t)?this.contents=r:this.contents==null?this.contents=aw(this.schema,Array.from(t),r):gp(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Qo({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Qo({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new W2(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},d=ws(this.contents,r??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?qp(s,{"":d},"",d):d}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Pye(this,t)}}function gp(e){if(oi(e))return!0;throw new Error("Expected a YAML collection as document contents")}class IR extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}}class Id extends IR{constructor(t,r,n){super("YAMLParseError",t,r,n)}}class p9 extends IR{constructor(t,r,n){super("YAMLWarning",t,r,n)}}const lw=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));const{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s="…"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"…"),n>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`…
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const d=r.linePos[1];d&&d.line===n&&d.col>i&&(a=Math.max(1,Math.min(d.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${h}
`}};function Nm(e,{flow:t,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,d=s,h=s,g="",v="",b=!1,M=!1,A=!1,w=null,P=null,O=null,I=null,T=null;for(const j of e)switch(A&&(j.type!=="space"&&j.type!=="newline"&&j.type!=="comma"&&o(j.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),A=!1),j.type){case"space":!t&&d&&r!=="doc-start"&&j.source[0]==="	"&&o(j,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(j,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const V=j.source.substring(1)||" ";g?g+=v+V:g=V,v="",d=!1;break}case"newline":d?g?g+=j.source:a=!0:v+=j.source,d=!0,b=!0,(w||P)&&(M=!0),h=!0;break;case"anchor":w&&o(j,"MULTIPLE_ANCHORS","A node can have at most one anchor"),j.source.endsWith(":")&&o(j.offset+j.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=j,T===null&&(T=j.offset),d=!1,h=!1,A=!0;break;case"tag":{P&&o(j,"MULTIPLE_TAGS","A node can have at most one tag"),P=j,T===null&&(T=j.offset),d=!1,h=!1,A=!0;break}case r:(w||P)&&o(j,"BAD_PROP_ORDER",`Anchors and tags must be after the ${j.source} indicator`),I&&o(j,"UNEXPECTED_TOKEN",`Unexpected ${j.source} in ${t??"collection"}`),I=j,d=!1,h=!1;break;case"comma":if(t){O&&o(j,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),O=j,d=!1,h=!1;break}default:o(j,"UNEXPECTED_TOKEN",`Unexpected ${j.type} token`),d=!1,h=!1}const R=e[e.length-1],z=R?R.offset+R.source.length:i;return A&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:O,found:I,spaceBefore:a,comment:g,hasNewline:b,hasNewlineAfterProp:M,anchor:w,tag:P,end:z,start:T??z}}function O0(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const r of t.start)if(r.type==="newline")return!0;if(t.sep){for(const r of t.sep)if(r.type==="newline")return!0}if(O0(t.key)||O0(t.value))return!0}return!1;default:return!0}}function LA(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){const n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&O0(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function m9(e,t,r){const{uniqueKeys:n}=e.options;if(n===!1)return!1;const i=typeof n=="function"?n:(o,s)=>o===s||kn(o)&&kn(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,r))}const B5="All mapping items must start at the same column";function Aye({composeNode:e,composeEmptyNode:t},r,n,i,o){var g;const s=(o==null?void 0:o.nodeClass)??Ua,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let d=n.offset,h=null;for(const v of n.items){const{start:b,key:M,sep:A,value:w}=v,P=Nm(b,{indicator:"explicit-key-ind",next:M??(A==null?void 0:A[0]),offset:d,onError:i,startOnNewline:!0}),O=!P.found;if(O){if(M&&(M.type==="block-seq"?i(d,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in M&&M.indent!==n.indent&&i(d,"BAD_INDENT",B5)),!P.anchor&&!P.tag&&!A){h=P.end,P.comment&&(a.comment?a.comment+=`
`+P.comment:a.comment=P.comment);continue}(P.hasNewlineAfterProp||O0(M))&&i(M??b[b.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=P.found)==null?void 0:g.indent)!==n.indent&&i(d,"BAD_INDENT",B5);const I=P.end,T=M?e(r,M,P,i):t(r,I,b,null,P,i);r.schema.compat&&LA(n.indent,M,i),m9(r,a.items,T)&&i(I,"DUPLICATE_KEY","Map keys must be unique");const R=Nm(A??[],{indicator:"map-value-ind",next:w,offset:T.range[2],onError:i,startOnNewline:!M||M.type==="block-scalar"});if(d=R.end,R.found){O&&((w==null?void 0:w.type)==="block-map"&&!R.hasNewline&&i(d,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&P.start<R.found.offset-1024&&i(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const z=w?e(r,w,R,i):t(r,d,A,null,R,i);r.schema.compat&&LA(n.indent,w,i),d=z.range[2];const j=new Ro(T,z);r.options.keepSourceTokens&&(j.srcToken=v),a.items.push(j)}else{O&&i(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),R.comment&&(T.comment?T.comment+=`
`+R.comment:T.comment=R.comment);const z=new Ro(T);r.options.keepSourceTokens&&(z.srcToken=v),a.items.push(z)}}return h&&h<d&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,d,h??d],a}function Mye({composeNode:e,composeEmptyNode:t},r,n,i,o){const s=(o==null?void 0:o.nodeClass)??Mf,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let d=n.offset,h=null;for(const{start:g,value:v}of n.items){const b=Nm(g,{indicator:"seq-item-ind",next:v,offset:d,onError:i,startOnNewline:!0});if(!b.found)if(b.anchor||b.tag||v)v&&v.type==="block-seq"?i(b.end,"BAD_INDENT","All sequence items must start at the same column"):i(d,"MISSING_CHAR","Sequence item without - indicator");else{h=b.end,b.comment&&(a.comment=b.comment);continue}const M=v?e(r,v,b,i):t(r,b.end,g,null,b,i);r.schema.compat&&LA(n.indent,v,i),d=M.range[2],a.items.push(M)}return a.range=[n.offset,d,h??d],a}function A_(e,t,r,n){let i="";if(e){let o=!1,s="";for(const a of e){const{source:d,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=d.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=d),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=d.length}}return{comment:i,offset:t}}const QT="Block collections are not allowed within flow collections",ek=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Oye({composeNode:e,composeEmptyNode:t},r,n,i,o){const s=n.start.source==="{",a=s?"flow map":"flow sequence",d=(o==null?void 0:o.nodeClass)??(s?Ua:Mf),h=new d(r.schema);h.flow=!0;const g=r.atRoot;g&&(r.atRoot=!1);let v=n.offset+n.start.source.length;for(let P=0;P<n.items.length;++P){const O=n.items[P],{start:I,key:T,sep:R,value:z}=O,j=Nm(I,{flow:a,indicator:"explicit-key-ind",next:T??(R==null?void 0:R[0]),offset:v,onError:i,startOnNewline:!1});if(!j.found){if(!j.anchor&&!j.tag&&!R&&!z){P===0&&j.comma?i(j.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):P<n.items.length-1&&i(j.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),j.comment&&(h.comment?h.comment+=`
`+j.comment:h.comment=j.comment),v=j.end;continue}!s&&r.options.strict&&O0(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(P===0)j.comma&&i(j.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(j.comma||i(j.start,"MISSING_CHAR",`Missing , between ${a} items`),j.comment){let V="";e:for(const Z of I)switch(Z.type){case"comma":case"space":break;case"comment":V=Z.source.substring(1);break e;default:break e}if(V){let Z=h.items[h.items.length-1];Kn(Z)&&(Z=Z.value??Z.key),Z.comment?Z.comment+=`
`+V:Z.comment=V,j.comment=j.comment.substring(V.length+1)}}if(!s&&!R&&!j.found){const V=z?e(r,z,j,i):t(r,j.end,R,null,j,i);h.items.push(V),v=V.range[2],ek(z)&&i(V.range,"BLOCK_IN_FLOW",QT)}else{const V=j.end,Z=T?e(r,T,j,i):t(r,V,I,null,j,i);ek(T)&&i(Z.range,"BLOCK_IN_FLOW",QT);const ie=Nm(R??[],{flow:a,indicator:"map-value-ind",next:z,offset:Z.range[2],onError:i,startOnNewline:!1});if(ie.found){if(!s&&!j.found&&r.options.strict){if(R)for(const de of R){if(de===ie.found)break;if(de.type==="newline"){i(de,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}j.start<ie.found.offset-1024&&i(ie.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?i(z,"MISSING_CHAR",`Missing space after : in ${a}`):i(ie.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const ne=z?e(r,z,ie,i):ie.found?t(r,ie.end,R,null,ie,i):null;ne?ek(z)&&i(ne.range,"BLOCK_IN_FLOW",QT):ie.comment&&(Z.comment?Z.comment+=`
`+ie.comment:Z.comment=ie.comment);const ae=new Ro(Z,ne);if(r.options.keepSourceTokens&&(ae.srcToken=O),s){const de=h;m9(r,de.items,Z)&&i(V,"DUPLICATE_KEY","Map keys must be unique"),de.items.push(ae)}else{const de=new Ua(r.schema);de.flow=!0,de.items.push(ae),h.items.push(de)}v=ne?ne.range[2]:ie.end}}const b=s?"}":"]",[M,...A]=n.end;let w=v;if(M&&M.source===b)w=M.offset+M.source.length;else{const P=a[0].toUpperCase()+a.substring(1),O=g?`${P} must end with a ${b}`:`${P} in block collection must be sufficiently indented and end with a ${b}`;i(v,g?"MISSING_CHAR":"BAD_INDENT",O),M&&M.source.length!==1&&A.unshift(M)}if(A.length>0){const P=A_(A,w,r.options.strict,i);P.comment&&(h.comment?h.comment+=`
`+P.comment:h.comment=P.comment),h.range=[n.offset,w,P.offset]}else h.range=[n.offset,w,w];return h}function tk(e,t,r,n,i,o){const s=r.type==="block-map"?Aye(e,t,r,n,o):r.type==="block-seq"?Mye(e,t,r,n,o):Oye(e,t,r,n,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function Iye(e,t,r,n,i){var v;const o=n?t.directives.tagName(n.source,b=>i(n,"TAG_RESOLVE_FAILED",b)):null,s=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!n||!o||o==="!"||o===Ua.tagName&&s==="map"||o===Mf.tagName&&s==="seq"||!s)return tk(e,t,r,i,o);let a=t.schema.tags.find(b=>b.tag===o&&b.collection===s);if(!a){const b=t.schema.knownTags[o];if(b&&b.collection===s)t.schema.tags.push(Object.assign({},b,{default:!1})),a=b;else return b!=null&&b.collection?i(n,"BAD_COLLECTION_TYPE",`${b.tag} used for ${s} collection, but expects ${b.collection}`,!0):i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),tk(e,t,r,i,o)}const d=tk(e,t,r,i,o,a),h=((v=a.resolve)==null?void 0:v.call(a,d,b=>i(n,"TAG_RESOLVE_FAILED",b),t.options))??d,g=Si(h)?h:new br(h);return g.range=d.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function g9(e,t,r){const n=e.offset,i=Rye(e,t,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};const o=i.mode===">"?br.BLOCK_FOLDED:br.BLOCK_LITERAL,s=e.source?$ye(e.source):[];let a=s.length;for(let w=s.length-1;w>=0;--w){const P=s[w][1];if(P===""||P==="\r")a=w;else break}if(a===0){const w=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let P=n+i.length;return e.source&&(P+=e.source.length),{value:w,type:o,comment:i.comment,range:[n,P,P]}}let d=e.indent+i.indent,h=e.offset+i.length,g=0;for(let w=0;w<a;++w){const[P,O]=s[w];if(O===""||O==="\r")i.indent===0&&P.length>d&&(d=P.length);else{if(P.length<d){const I="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(h+P.length,"MISSING_CHAR",I)}i.indent===0&&(d=P.length),g=w;break}h+=P.length+O.length+1}for(let w=s.length-1;w>=a;--w)s[w][0].length>d&&(a=w+1);let v="",b="",M=!1;for(let w=0;w<g;++w)v+=s[w][0].slice(d)+`
`;for(let w=g;w<a;++w){let[P,O]=s[w];h+=P.length+O.length+1;const I=O[O.length-1]==="\r";if(I&&(O=O.slice(0,-1)),O&&P.length<d){const R=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(h-O.length-(I?2:1),"BAD_INDENT",R),P=""}o===br.BLOCK_LITERAL?(v+=b+P.slice(d)+O,b=`
`):P.length>d||O[0]==="	"?(b===" "?b=`
`:!M&&b===`
`&&(b=`

`),v+=b+P.slice(d)+O,b=`
`,M=!0):O===""?b===`
`?v+=`
`:b=`
`:(v+=b+O,b=" ",M=!1)}switch(i.chomp){case"-":break;case"+":for(let w=a;w<s.length;++w)v+=`
`+s[w][0].slice(d);v[v.length-1]!==`
`&&(v+=`
`);break;default:v+=`
`}const A=n+i.length+e.source.length;return{value:v,type:o,comment:i.comment,range:[n,A,A]}}function Rye({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",d=-1;for(let b=1;b<i.length;++b){const M=i[b];if(!a&&(M==="-"||M==="+"))a=M;else{const A=Number(M);!s&&A?s=A:d===-1&&(d=e+b)}}d!==-1&&n(d,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",v=i.length;for(let b=1;b<t.length;++b){const M=t[b];switch(M.type){case"space":h=!0;case"newline":v+=M.source.length;break;case"comment":r&&!h&&n(M,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),v+=M.source.length,g=M.source.substring(1);break;case"error":n(M,"UNEXPECTED_TOKEN",M.message),v+=M.source.length;break;default:{const A=`Unexpected token in block scalar header: ${M.type}`;n(M,"UNEXPECTED_TOKEN",A);const w=M.source;w&&typeof w=="string"&&(v+=w.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:v}}function $ye(e){const t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n!=null&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function y9(e,t,r){const{offset:n,type:i,source:o,end:s}=e;let a,d;const h=(b,M,A)=>r(n+b,M,A);switch(i){case"scalar":a=br.PLAIN,d=Dye(o,h);break;case"single-quoted-scalar":a=br.QUOTE_SINGLE,d=Lye(o,h);break;case"double-quoted-scalar":a=br.QUOTE_DOUBLE,d=zye(o,h);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}const g=n+o.length,v=A_(s,g,t,r);return{value:d,type:a,comment:v.comment,range:[n,g,v.offset]}}function Dye(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),v9(e)}function Lye(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),v9(e.slice(1,-1)).replace(/''/g,"'")}function v9(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+((n==null?void 0:n[1])??"")}function zye(e,t){let r="";for(let n=1;n<e.length-1;++n){const i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){const{fold:o,offset:s}=Nye(e,n);r+=o,n=s}else if(i==="\\"){let o=e[++n];const s=jye[o];if(s)r+=s;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];r+=Bye(e,n+1,a,t),n+=a}else{const a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){const o=n;let s=e[n+1];for(;s===" "||s==="	";)s=e[++n+1];s!==`
`&&!(s==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function Nye(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}const jye={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Bye(e,t,r,n){const i=e.substr(t,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function _9(e,t,r,n){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?g9(t,e.options.strict,n):y9(t,e.options.strict,n),d=r?e.directives.tagName(r.source,v=>n(r,"TAG_RESOLVE_FAILED",v)):null,h=r&&d?Fye(e.schema,i,d,r,n):t.type==="scalar"?Uye(e,i,t,n):e.schema[nu];let g;try{const v=h.resolve(i,b=>n(r??t,"TAG_RESOLVE_FAILED",b),e.options);g=kn(v)?v:new br(v)}catch(v){const b=v instanceof Error?v.message:String(v);n(r??t,"TAG_RESOLVE_FAILED",b),g=new br(i)}return g.range=a,g.source=i,o&&(g.type=o),d&&(g.tag=d),h.format&&(g.format=h.format),s&&(g.comment=s),g}function Fye(e,t,r,n,i){var a;if(r==="!")return e[nu];const o=[];for(const d of e.tags)if(!d.collection&&d.tag===r)if(d.default&&d.test)o.push(d);else return d;for(const d of o)if((a=d.test)!=null&&a.test(t))return d;const s=e.knownTags[r];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[nu])}function Uye({directives:e,schema:t},r,n,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(r))})||t[nu];if(t.compat){const s=t.compat.find(a=>{var d;return a.default&&((d=a.test)==null?void 0:d.test(r))})??t[nu];if(o.tag!==s.tag){const a=e.tagString(o.tag),d=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${d}`;i(n,"TAG_RESOLVE_FAILED",h,!0)}}return o}function Vye(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++n];break}}return e}const Wye={composeNode:x9,composeEmptyNode:RR};function x9(e,t,r,n){const{spaceBefore:i,comment:o,anchor:s,tag:a}=r;let d,h=!0;switch(t.type){case"alias":d=qye(e,t,n),(s||a)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":d=_9(e,t,a,n),s&&(d.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":d=Iye(Wye,e,t,a,n),s&&(d.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",g),d=RR(e,t.offset,void 0,null,r,n),h=!1}}return s&&d.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(d.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?d.comment=o:d.commentBefore=o),e.options.keepSourceTokens&&h&&(d.srcToken=t),d}function RR(e,t,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a,end:d},h){const g={type:"scalar",offset:Vye(t,r,n),indent:-1,source:""},v=_9(e,g,a,h);return s&&(v.anchor=s.source.substring(1),v.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(v.spaceBefore=!0),o&&(v.comment=o,v.range[2]=d),v}function qye({options:e},{offset:t,source:r,end:n},i){const o=new $2(r.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+r.length,a=A_(n,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function Hye(e,t,{offset:r,start:n,value:i,end:o},s){const a=Object.assign({_directives:t},e),d=new yg(void 0,a),h={atRoot:!0,directives:d.directives,options:d.options,schema:d.schema},g=Nm(n,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});g.found&&(d.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),d.contents=i?x9(h,i,g,s):RR(h,g.end,n,null,g,s);const v=d.contents.range[2],b=A_(o,v,!1,s);return b.comment&&(d.comment=b.comment),d.range=[r,v,b.offset],d}function Yy(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function F5(e){var i;let t="",r=!1,n=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(s.substring(1)||" "),r=!0,n=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class $R{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{const s=Yy(r);o?this.warnings.push(new p9(s,n,i)):this.errors.push(new Id(s,n,i))},this.directives=new Qo({version:t.version||"1.2"}),this.options=t}decorate(t,r){const{comment:n,afterEmptyLine:i}=F5(this.prelude);if(n){const o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.docStart||!o)t.commentBefore=n;else if(oi(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Kn(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{const s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:F5(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(const i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{const o=Yy(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const r=Hye(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Id(Yy(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new Id(Yy(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=A_(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new Id(Yy(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const n=Object.assign({_directives:this.directives},this.options),i=new yg(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}}function Gye(e,t=!0,r){if(e){const n=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new Id([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return y9(e,t,n);case"block-scalar":return g9(e,t,n)}}return null}function Yye(e,t){const{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=k_({type:s,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),d=t.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),v=a.substring(h+1)+`
`,b=[{type:"block-scalar-header",offset:o,indent:n,source:g}];return b9(b,d)||b.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:o,indent:n,props:b,source:v}}case'"':return{type:"double-quoted-scalar",offset:o,indent:n,source:a,end:d};case"'":return{type:"single-quoted-scalar",offset:o,indent:n,source:a,end:d};default:return{type:"scalar",offset:o,indent:n,source:a,end:d}}}function Kye(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const d=k_({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(d[0]){case"|":case">":Zye(e,d);break;case'"':rk(e,d,"double-quoted-scalar");break;case"'":rk(e,d,"single-quoted-scalar");break;default:rk(e,d,"scalar")}}function Zye(e,t){const r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];b9(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const d of Object.keys(e))d!=="type"&&d!=="offset"&&delete e[d];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function b9(e,t){if(t)for(const r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function rk(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{const n=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of n)o.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{const n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}const Xye=e=>"type"in e?cw(e):f1(e);function cw(e){switch(e.type){case"block-scalar":{let t="";for(const r of e.props)t+=cw(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(const r of e.items)t+=f1(r);return t}case"flow-collection":{let t=e.start.source;for(const r of e.items)t+=f1(r);for(const r of e.end)t+=r.source;return t}case"document":{let t=f1(e);if(e.end)for(const r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const r of e.end)t+=r.source;return t}}}function f1({start:e,key:t,sep:r,value:n}){let i="";for(const o of e)i+=o.source;if(t&&(i+=cw(t)),r)for(const o of r)i+=o.source;return n&&(i+=cw(n)),i}const zA=Symbol("break visit"),Jye=Symbol("skip children"),w9=Symbol("remove item");function nh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),S9(Object.freeze([]),e,t)}nh.BREAK=zA;nh.SKIP=Jye;nh.REMOVE=w9;nh.itemAtPath=(e,t)=>{let r=e;for(const[n,i]of t){const o=r==null?void 0:r[n];if(o&&"items"in o)r=o.items[i];else return}return r};nh.parentCollection=(e,t)=>{const r=nh.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r==null?void 0:r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function S9(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=S9(Object.freeze(e.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===zA)return zA;a===w9&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}const q2="\uFEFF",H2="",G2="",I0="",Qye=e=>!!e&&"items"in e,eve=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function tve(e){switch(e){case q2:return"<BOM>";case H2:return"<DOC>";case G2:return"<FLOW_END>";case I0:return"<SCALAR>";default:return JSON.stringify(e)}}function E9(e){switch(e){case q2:return"byte-order-mark";case H2:return"doc-mode";case G2:return"flow-error-end";case I0:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const rve=Object.freeze(Object.defineProperty({__proto__:null,BOM:q2,DOCUMENT:H2,FLOW_END:G2,SCALAR:I0,createScalarToken:Yye,isCollection:Qye,isScalar:eve,prettyToken:tve,resolveAsScalar:Gye,setScalarValue:Kye,stringify:Xye,tokenType:E9,visit:nh},Symbol.toStringTag,{value:"Module"}));function ss(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const U5="0123456789ABCDEFabcdef".split(""),nve="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),nk=",[]{}".split(""),ive=` ,[]{}
\r	`.split(""),ik=e=>!e||ive.includes(e);class C9{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){const i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&ss(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===q2&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length;const n=t.indexOf("#");if(n!==-1){const o=t[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){const o=t[r-1];if(o===" "||o==="	")r-=1;else break}const i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield H2,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if(r==="---"&&ss(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&ss(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ss(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ss(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ik),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&ss(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield G2,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ik),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||ss(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>ss(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:t=i,r=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+r>s)t=i;else break}while(!0);return yield I0,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){const o=this.buffer[n+1];if(ss(o)||t&&o===",")break;r=n}else if(ss(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&nk.includes(o))break;if(i===`
`){const s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(t&&nk.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield I0,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ik))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,r=this.charAt(1);if(ss(r)||t&&nk.includes(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!ss(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(nve.includes(r))r=this.buffer[++t];else if(r==="%"&&U5.includes(this.buffer[t+1])&&U5.includes(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");const i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class T9{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){const o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};const i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}}function Qs(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function V5(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function k9(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Tb(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function yp(e){var r;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=e[++t])==null?void 0:r.type)==="space";);return e.splice(t,e.length)}function W5(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Qs(t.start,"explicit-key-ind")&&!Qs(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,k9(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class DR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new C9,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const r=E9(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const r=t??this.stack.pop();if(r)if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&W5(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!Qs(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{const i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&V5(i.start)===-1&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{const n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{V5(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const r=Tb(this.peek(2)),n=yp(r);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const i="end"in r.value?r.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2],o=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&r.sep;let o=[];if(i&&r.sep&&!r.value){const s=[];for(let a=0;a<r.sep.length;++a){const d=r.sep[a];switch(d.type){case"newline":s.push(a);break;case"space":break;case"comment":d.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=r.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!Qs(r.start,"explicit-key-ind")?r.start.push(this.sourceToken):i||r.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Qs(r.start,"explicit-key-ind"))if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Qs(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(k9(r.key)&&!Qs(r.sep,"newline")){const s=yp(r.start),a=r.key,d=r.sep;d.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:d}]})}else o.length>0?r.sep=r.sep.concat(o,this.sourceToken):r.sep.push(this.sourceToken);else if(Qs(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const s=yp(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):Qs(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||r.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(s):(Object.assign(r,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&Qs(r.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){const i="end"in r.value?r.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2],o=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||Qs(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const i=Tb(n),o=yp(i);W5(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=Tb(t),n=yp(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const r=Tb(t),n=yp(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function P9(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new T9||null,prettyErrors:t}}function ove(e,t={}){const{lineCounter:r,prettyErrors:n}=P9(t),i=new DR(r==null?void 0:r.addNewLine),o=new $R(t),s=Array.from(o.compose(i.parse(e)));if(n&&r)for(const a of s)a.errors.forEach(lw(e,r)),a.warnings.forEach(lw(e,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function A9(e,t={}){const{lineCounter:r,prettyErrors:n}=P9(t),i=new DR(r==null?void 0:r.addNewLine),o=new $R(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Id(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(lw(e,r)),s.warnings.forEach(lw(e,r))),s}function ave(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);const i=A9(e,r);if(!i)return null;if(i.warnings.forEach(o=>ZW(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function sve(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){const i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=r??t??{};if(!i)return}return new yg(e,n,r).toString(r)}const lve=Object.freeze(Object.defineProperty({__proto__:null,Alias:$2,CST:rve,Composer:$R,Document:yg,Lexer:C9,LineCounter:T9,Pair:Ro,Parser:DR,Scalar:br,Schema:W2,YAMLError:IR,YAMLMap:Ua,YAMLParseError:Id,YAMLSeq:Mf,YAMLWarning:p9,isAlias:fh,isCollection:oi,isDocument:dg,isMap:hg,isNode:Si,isPair:Kn,isScalar:kn,isSeq:pg,parse:ave,parseAllDocuments:ove,parseDocument:A9,stringify:sve,visit:Af,visitAsync:R2},Symbol.toStringTag,{value:"Module"})),jm=qe.createContext();var kb="";const M9=({children:e,notification:t})=>{Ln(P=>P.devices.items);const r=Ln(P=>P.mission),n=Ln(P=>P.session.server),i=nc(),[o,s]=W.useState(!1);W.useState(""),W.useEffect(()=>{s(n)},[n]);const a=async P=>{try{const O=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(O.ok){let I=await O.json();I.state==="connect"&&(t("success",I.msg),s(!0)),I.state==="error"&&(s(!1),t("danger",I.msg)),I.state==="disconnect"&&(t("danger",I.msg),s(!1)),console.log(I)}else throw Error(await O.text())}catch{s(!1)}},d=async P=>{console.log(P.name+"-"+P.category);try{const O=await fetch("/api/devices",{method:"POST",body:JSON.stringify(P),headers:{"Content-Type":"application/json"}});if(O.ok){let I=await O.json();I.state==="connect"&&t("success",I.msg),I.state==="fail"&&t("danger",I.msg),console.log(I)}else throw Error(await O.text())}catch{}},h=async()=>{try{const P=await fetch("/api/loadmission",{method:"POST",body:JSON.stringify({mission:r.route}),headers:{"Content-Type":"application/json"}});if(P.ok){let O=await P.json();O.state==="connect"&&t("success",O.msg),O.state==="fail"&&t("danger",O.msg),console.log(O)}else throw Error(await P.text())}catch{}},g=async(P,O)=>{console.log("command mission "),console.log(O),console.log(P);try{const I=await fetch("/api/commandmission",{method:"POST",body:JSON.stringify({uav_ns:P,uav_type:O}),headers:{"Content-Type":"application/json"}});if(I.ok){let T=await I.json();T.state==="connect"&&t("success",T.msg),T.state==="fail"&&t("danger",T.msg),console.log(T)}else throw Error(await I.text())}catch{}},v=(P,O)=>{if(P.endsWith(".yaml"))kb=lve.parse(O),kb.mode_landing,kb.mode_yaw,i(Qu.updateMission({name:P,mission:kb}));else if(P.endsWith(".waypoints")){let T=O.split(`
`).map(j=>j.split("	")),R={uav_n:1,uav_1:{}},z=0;T.forEach(j=>{j[3]=="16"&&(R.uav_1["wp_"+z]=[j[8],j[9],j[10]],z=z+1)}),R.uav_1.wp_n=z,i(Qu.updateMission({name:P,mission:R}))}else if(P.endsWith(".kml")){let R=new DOMParser().parseFromString(O,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(V=>V.split(",")),z={uav_n:1,uav_1:{}},j=0;R.forEach(V=>{V.length==3&&(z.uav_1["wp_"+j]=[V[1],V[0],V[2]],j=j+1)}),z.uav_1.wp_n=j,i(Qu.updateMission({name:P,mission:z}))}else if(P.endsWith(".plan")){let I=JSON.parse(O),T={uav_n:1,uav_1:{}},R=0;I.mission.items.forEach(z=>{T.uav_1["wp_"+R]=[z.params[4],z.params[5],z.Altitude],R=R+1}),T.uav_1.wp_n=R,i(Qu.updateMission({name:P,mission:T}))}else t("danger","Formato de mission no compatible")},b=()=>{a()};async function M(P){o?d(P):alert(`
Ros no está conectado.

 Por favor conéctelo primero.`)}function A(){h()}function w(){g("uav_3","px4")}return F.jsx("div",{style:{width:"100%",height:"100%"},children:F.jsx(jm.Provider,{value:{rosConnect:b,rosState:o,openMision:v,connectAddUav:M,commandMission:w,loadMission:A},children:e})})},O9=({SetAddUAVOpen:e})=>{const[t,r]=W.useState(!1),n=nc(),i=m_(),o=()=>{n(Qu.clearMission({}))},s=()=>{const v=document.getElementsByName("otrotest");console.log(v);for(let b=0;b<v.length;b++)v[b].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let b=0;b<v.length;b++)v[b].setAttribute("class","dropdown-content")},500),r(b=>!b)},a=W.useContext(jm),d=v=>{const b=v.target.files[0];if(!b)return;const M=new FileReader;M.readAsText(b),M.onload=()=>{console.log(M.result),console.log(b.name),a.openMision(b.name,M.result)},M.onerror=()=>{console.log(M.error)}};function h(){lt.easeTo({center:[-6.0025,37.412],zoom:Math.max(lt.getZoom(),5),offset:[0,-1/2]})}function g(){e(!0)}return F.jsx(zV,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:F.jsx(QV,{maxWidth:"x",children:F.jsxs(A2,{disableGutters:!0,children:[F.jsx(ln,{variant:"h6",noWrap:!0,component:"a",onClick:h,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Management Tool"}),F.jsxs("div",{className:"dropdown",children:[F.jsx("button",{className:"dropbtn",children:"ROS "}),F.jsx("div",{name:"otrotest",className:"dropdown-content",children:F.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Rosbridge Server"})})]}),F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{className:"dropbtn",children:["UAV",F.jsx("i",{className:"fa fa-caret-down"})]}),F.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[F.jsx("a",{id:"openAddUavNavbar",onClick:()=>{g(),s()},children:"Connect UAV"}),F.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Show/Hide UAV Roster"})]})]}),F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{className:"dropbtn",children:["File",F.jsx("i",{className:"fa fa-caret-down"})]}),F.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[F.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),F.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:d}),F.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),F.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"})]})]}),F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{className:"dropbtn",children:["Mission",F.jsx("i",{className:"fa fa-caret-down"})]}),F.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[F.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission"}),F.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.commandMission(),s()},children:"Command Mission"})]})]}),F.jsx("div",{className:"dropdown",children:F.jsxs("button",{className:"dropbtn",children:["Report",F.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var LR={},I9={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(I9);var nn=I9.exports,ok={};const cve=qF(_oe);var q5;function on(){return q5||(q5=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=cve}(ok)),ok}var uve=nn;Object.defineProperty(LR,"__esModule",{value:!0});var R9=LR.default=void 0,fve=uve(on()),dve=F,hve=(0,fve.default)((0,dve.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");R9=LR.default=hve;var zR={},pve=nn;Object.defineProperty(zR,"__esModule",{value:!0});var $9=zR.default=void 0,mve=pve(on()),gve=F,yve=(0,mve.default)((0,gve.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");$9=zR.default=yve;var NR={},vve=nn;Object.defineProperty(NR,"__esModule",{value:!0});var D9=NR.default=void 0,_ve=vve(on()),xve=F,bve=(0,_ve.default)((0,xve.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");D9=NR.default=bve;var jR={},wve=nn;Object.defineProperty(jR,"__esModule",{value:!0});var L9=jR.default=void 0,Sve=wve(on()),Eve=F,Cve=(0,Sve.default)((0,Eve.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");L9=jR.default=Cve;var BR={},Tve=nn;Object.defineProperty(BR,"__esModule",{value:!0});var z9=BR.default=void 0,kve=Tve(on()),Pve=F,Ave=(0,kve.default)((0,Pve.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");z9=BR.default=Ave;var FR={},Mve=nn;Object.defineProperty(FR,"__esModule",{value:!0});var N9=FR.default=void 0,Ove=Mve(on()),Ive=F,Rve=(0,Ove.default)((0,Ive.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");N9=FR.default=Rve;var UR={},$ve=nn;Object.defineProperty(UR,"__esModule",{value:!0});var j9=UR.default=void 0,Dve=$ve(on()),Lve=F,zve=(0,Dve.default)((0,Lve.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");j9=UR.default=zve;var VR={},Nve=nn;Object.defineProperty(VR,"__esModule",{value:!0});var B9=VR.default=void 0,jve=Nve(on()),Bve=F,Fve=(0,jve.default)((0,Bve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");B9=VR.default=Fve;var WR={},Uve=nn;Object.defineProperty(WR,"__esModule",{value:!0});var F9=WR.default=void 0,Vve=Uve(on()),Wve=F,qve=(0,Vve.default)((0,Wve.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");F9=WR.default=qve;const Hve=Lo(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:Gl[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:Gl[300]}},mediaicon:{color:Gl[700],width:"15px"}})),U9=({SetAddUAVOpen:e})=>{const t=Hve(),r=W.useContext(jm),[n,i]=W.useState("no load mission"),o=Ln(A=>A.mission.name),s=Ln(A=>A.mission.home),[a,d]=W.useState(!0),h=A=>{const w=A.target.files[0];if(!w)return;const P=new FileReader;P.readAsText(w),P.onload=()=>{console.log(P.result),console.log(w.name),r.openMision(w.name,P.result)},P.onerror=()=>{console.log(P.error)}};function g(){lt.easeTo({center:[-6.0025,37.412],zoom:Math.max(lt.getZoom(),5),offset:[0,-1/2]})}function v(){lt.easeTo({center:[s[1],s[0]],zoom:Math.max(lt.getZoom(),15),offset:[0,-1/2]})}function b(){e(!0)}const M=()=>{d(!a)};return W.useEffect(()=>{i(o)},[o]),W.useEffect(()=>{v()},[s]),F.jsx("header",{className:t.toolbar,children:F.jsxs("div",{children:[F.jsxs(Gce,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[F.jsx(Wn,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:F.jsx(R9,{fontSize:"small",className:t.mediaicon})}),F.jsxs(Wn,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[F.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:F.jsx($9,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),F.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),F.jsx(Wn,{id:"openAddUav",onClick:b,className:t.mediaButton,style:{margin:"0px 0px"},children:F.jsx(D9,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),F.jsx(jm.Consumer,{children:({rosState:A})=>F.jsxs(Wn,{id:"rosConnect",onClick:r.rosConnect,className:t.mediaButton,children:[A&&"conectado"," ",!A&&"desconectado"," "]})}),F.jsx(Wn,{id:"loadMission",size:"small",onClick:b,className:t.mediaButton,children:F.jsx(L9,{fontSize:"small",className:t.mediaicon})}),F.jsx(Wn,{id:"commandMission",onClick:b,className:t.mediaButton,children:"Fly!"}),F.jsxs(Wn,{id:"openedmission",onClick:v,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",n]}),F.jsx(Wn,{variant:"filledTonal",onClick:A=>M(),className:t.mediaButton,children:"Status"}),F.jsx(Wn,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:F.jsx(z9,{fontSize:"small",className:t.mediaicon})}),F.jsx(Wn,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:F.jsx(N9,{fontSize:"small",className:t.mediaicon})}),F.jsx(Wn,{id:"reset",className:t.mediaButton,children:F.jsx(j9,{fontSize:"small",className:t.mediaicon})}),F.jsx(Wn,{id:"showManualMode",className:t.mediaButton,children:F.jsx(B9,{fontSize:"small",className:t.mediaicon})}),F.jsx(Wn,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:F.jsx(F9,{fontSize:"small",className:t.mediaicon})})]})})};var qR={},Gve=nn;Object.defineProperty(qR,"__esModule",{value:!0});var ih=qR.default=void 0,Yve=Gve(on()),Kve=F,Zve=(0,Yve.default)((0,Kve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");ih=qR.default=Zve;const Xve=Lo(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),Jve=({toastlist:e,position:t,setList:r})=>{const n=Xve(),i=W.useCallback(o=>{const s=e.filter(a=>a.id!==o);r(s)},[e,r]);return W.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),F.jsx("div",{className:n.root,children:e.map((o,s)=>F.jsxs(C_,{elevation:3,className:n.card,style:{backgroundColor:o.backgroundColor},children:[F.jsxs("div",{className:n.header,children:[F.jsx(ln,{variant:"body2",children:o.title}),F.jsx(cn,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:F.jsx(ih,{fontSize:"small",className:n.mediaButton})})]}),F.jsx("div",{children:F.jsx("p",{className:n.description,children:o.description})})]}))})};var HR={},Qve=nn;Object.defineProperty(HR,"__esModule",{value:!0});var Gp=HR.default=void 0,e0e=Qve(on()),t0e=F,r0e=(0,e0e.default)((0,t0e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Gp=HR.default=r0e;const n0e=Lo(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"}})),i0e=({SetAddUAVOpen:e})=>{const t=n0e(),r=W.useContext(jm);W.useState("dji"),W.useState("");const[n,i]=W.useState({name:"uav_",category:"dji",ip:"10.42.0.42",cameratype:"Websocket",camera_src:"video0"});function o(){e(!1)}function s(){console.log("add uav-"+n.name+"-"+n.category),console.log(n),r.connectAddUav(n),e(!1)}return F.jsx("div",{className:t.root,children:F.jsxs(C_,{elevation:3,className:t.card,children:[F.jsx("div",{className:t.closeBtn,children:F.jsx(cn,{size:"small",onClick:o,onTouchStart:o,children:F.jsx(ih,{fontSize:"small",className:t.mediaButton})})}),F.jsx("b",{children:F.jsx("div",{className:t.title,children:"Add device "})}),F.jsxs(Kue,{style:{margin:"20px"},children:[F.jsx(da,{required:!0,label:"UAV ID",name:"uavid",value:n.name,onChange:a=>i({...n,name:a.target.value}),className:t.inputtext}),F.jsxs(T0,{style:{paddingBottom:"20px"},variant:"outlined",children:[F.jsx(k0,{id:"demo-simple-select-outlined-label",children:"UAV type"}),F.jsxs(P0,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:n.category,onChange:a=>i({...n,category:a.target.value}),label:"uavtipe",children:[F.jsx(ma,{value:"dji",children:"DJI"}),F.jsx(ma,{value:"px4",children:"PX4"}),F.jsx(ma,{value:"fuvex",children:"Fuvex"}),F.jsx(ma,{value:"catec",children:"Catec"})]})]}),F.jsx(da,{value:n.ip,onChange:a=>i({...n,ip:a.target.value}),label:"ip"})]}),n&&F.jsxs(mv,{children:[F.jsx(yv,{expandIcon:F.jsx(Gp,{}),children:F.jsx(ln,{variant:"subtitle1",children:"Camera"})}),F.jsxs(gv,{className:t.details,children:[F.jsxs(T0,{variant:"outlined",children:[F.jsx(k0,{id:"demo-simple-select-outlined-label",children:"CameraSource"}),F.jsxs(P0,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:n.cameratype,onChange:a=>i({...n,cameratype:a.target.value}),label:"uavtipe",children:[F.jsx(ma,{value:"Websocket",children:"Websocket"}),F.jsx(ma,{value:"WebRTC",children:"WebRTC"})]})]}),F.jsx(da,{value:n.camera_src,onChange:a=>i({...n,camera_src:a.target.value}),label:"Camera route",helperText:"videocompress or video0  "})]})]}),F.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:F.jsx(Wn,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},H5="/assets/placeholder-7d04691d.jpg";var GR={},o0e=nn;Object.defineProperty(GR,"__esModule",{value:!0});var YR=GR.default=void 0,a0e=o0e(on()),s0e=F,l0e=(0,a0e.default)((0,s0e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");YR=GR.default=l0e;const c0e=Lo(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),u0e=({deviceId:e,datacamera:t,onClose:r})=>{const n=c0e(),[i,o]=W.useState(H5),s=Ln(b=>b.devices.items[e]),[a,d]=W.useState(!1);let h=a?n.card_max:n.card,g=a?n.root_max:n.root;function v(){d(!a)}return W.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(H5))},[t]),F.jsx("div",{className:g,children:s&&F.jsxs(C_,{elevation:3,className:h,children:[F.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[F.jsx(cn,{size:"small",onClick:v,onTouchStart:v,children:F.jsx(YR,{fontSize:"small",className:n.mediaButton})}),F.jsx(cn,{size:"small",onClick:()=>{r(),d(!1)},onTouchStart:r,children:F.jsx(ih,{fontSize:"small",className:n.mediaButton})})]}),F.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:[" ","Image "+s.name," "]}),F.jsx("img",{src:i,className:n.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var V9;function Lt(){return V9.apply(null,arguments)}function f0e(e){V9=e}function pl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Vd(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function KR(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Gr(e,t))return!1;return!0}function ha(e){return e===void 0}function iu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function M_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function W9(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function rf(e,t){for(var r in t)Gr(t,r)&&(e[r]=t[r]);return Gr(t,"toString")&&(e.toString=t.toString),Gr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ic(e,t,r,n){return p7(e,t,r,n,!0).utc()}function d0e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kr(e){return e._pf==null&&(e._pf=d0e()),e._pf}var NA;Array.prototype.some?NA=Array.prototype.some:NA=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function ZR(e){if(e._isValid==null){var t=kr(e),r=NA.call(t.parsedDateParts,function(i){return i!=null}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n}return e._isValid}function Y2(e){var t=ic(NaN);return e!=null?rf(kr(t),e):kr(t).userInvalidated=!0,t}var G5=Lt.momentProperties=[],ak=!1;function XR(e,t){var r,n,i,o=G5.length;if(ha(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ha(t._i)||(e._i=t._i),ha(t._f)||(e._f=t._f),ha(t._l)||(e._l=t._l),ha(t._strict)||(e._strict=t._strict),ha(t._tzm)||(e._tzm=t._tzm),ha(t._isUTC)||(e._isUTC=t._isUTC),ha(t._offset)||(e._offset=t._offset),ha(t._pf)||(e._pf=kr(t)),ha(t._locale)||(e._locale=t._locale),o>0)for(r=0;r<o;r++)n=G5[r],i=t[n],ha(i)||(e[n]=i);return e}function O_(e){XR(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ak===!1&&(ak=!0,Lt.updateOffset(this),ak=!1)}function ml(e){return e instanceof O_||e!=null&&e._isAMomentObject!=null}function q9(e){Lt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function $s(e,t){var r=!0;return rf(function(){if(Lt.deprecationHandler!=null&&Lt.deprecationHandler(null,e),r){var n=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Gr(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];n.push(i)}q9(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Y5={};function H9(e,t){Lt.deprecationHandler!=null&&Lt.deprecationHandler(e,t),Y5[e]||(q9(t),Y5[e]=!0)}Lt.suppressDeprecationWarnings=!1;Lt.deprecationHandler=null;function oc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function h0e(e){var t,r;for(r in e)Gr(e,r)&&(t=e[r],oc(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function jA(e,t){var r=rf({},e),n;for(n in t)Gr(t,n)&&(Vd(e[n])&&Vd(t[n])?(r[n]={},rf(r[n],e[n]),rf(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Gr(e,n)&&!Gr(t,n)&&Vd(e[n])&&(r[n]=rf({},r[n]));return r}function JR(e){e!=null&&this.set(e)}var BA;Object.keys?BA=Object.keys:BA=function(e){var t,r=[];for(t in e)Gr(e,t)&&r.push(t);return r};var p0e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function m0e(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return oc(n)?n.call(t,r):n}function tc(e,t,r){var n=""+Math.abs(e),i=t-n.length,o=e>=0;return(o?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var QR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sk={},fm={};function ir(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(fm[e]=i),t&&(fm[t[0]]=function(){return tc(i.apply(this,arguments),t[1],t[2])}),r&&(fm[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function g0e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function y0e(e){var t=e.match(QR),r,n;for(r=0,n=t.length;r<n;r++)fm[t[r]]?t[r]=fm[t[r]]:t[r]=g0e(t[r]);return function(i){var o="",s;for(s=0;s<n;s++)o+=oc(t[s])?t[s].call(i,e):t[s];return o}}function d1(e,t){return e.isValid()?(t=G9(t,e.localeData()),sk[t]=sk[t]||y0e(t),sk[t](e)):e.localeData().invalidDate()}function G9(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(Pb.lastIndex=0;r>=0&&Pb.test(e);)e=e.replace(Pb,n),Pb.lastIndex=0,r-=1;return e}var v0e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function _0e(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(QR).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var x0e="Invalid date";function b0e(){return this._invalidDate}var w0e="%d",S0e=/\d{1,2}/;function E0e(e){return this._ordinal.replace("%d",e)}var C0e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T0e(e,t,r,n){var i=this._relativeTime[r];return oc(i)?i(e,t,r,n):i.replace(/%d/i,e)}function k0e(e,t){var r=this._relativeTime[e>0?"future":"past"];return oc(r)?r(t):r.replace(/%s/i,t)}var Vv={};function zo(e,t){var r=e.toLowerCase();Vv[r]=Vv[r+"s"]=Vv[t]=e}function Ds(e){return typeof e=="string"?Vv[e]||Vv[e.toLowerCase()]:void 0}function e$(e){var t={},r,n;for(n in e)Gr(e,n)&&(r=Ds(n),r&&(t[r]=e[n]));return t}var Y9={};function No(e,t){Y9[e]=t}function P0e(e){var t=[],r;for(r in e)Gr(e,r)&&t.push({unit:r,priority:Y9[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}function K2(e){return e%4===0&&e%100!==0||e%400===0}function gs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ir(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=gs(t)),r}function vg(e,t){return function(r){return r!=null?(K9(this,e,r),Lt.updateOffset(this,t),this):uw(this,e)}}function uw(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function K9(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&K2(e.year())&&e.month()===1&&e.date()===29?(r=Ir(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),tE(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function A0e(e){return e=Ds(e),oc(this[e])?this[e]():this}function M0e(e,t){if(typeof e=="object"){e=e$(e);var r=P0e(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=Ds(e),oc(this[e]))return this[e](t);return this}var Z9=/\d/,ts=/\d\d/,X9=/\d{3}/,t$=/\d{4}/,Z2=/[+-]?\d{6}/,jn=/\d\d?/,J9=/\d\d\d\d?/,Q9=/\d\d\d\d\d\d?/,X2=/\d{1,3}/,r$=/\d{1,4}/,J2=/[+-]?\d{1,6}/,_g=/\d+/,Q2=/[+-]?\d+/,O0e=/Z|[+-]\d\d:?\d\d/gi,eE=/Z|[+-]\d\d(?::?\d\d)?/gi,I0e=/[+-]?\d+(\.\d{1,3})?/,I_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fw;fw={};function Ht(e,t,r){fw[e]=oc(t)?t:function(n,i){return n&&r?r:t}}function R0e(e,t){return Gr(fw,e)?fw[e](t._strict,t._locale):new RegExp($0e(e))}function $0e(e){return Ba(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,o){return r||n||i||o}))}function Ba(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var FA={};function bn(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),iu(t)&&(n=function(o,s){s[t]=Ir(o)}),i=e.length,r=0;r<i;r++)FA[e[r]]=n}function R_(e,t){bn(e,function(r,n,i,o){i._w=i._w||{},t(r,i._w,i,o)})}function D0e(e,t,r){t!=null&&Gr(FA,e)&&FA[e](t,r._a,r,e)}var $o=0,Nc=1,Fl=2,Li=3,cl=4,jc=5,Rd=6,L0e=7,z0e=8;function N0e(e,t){return(e%t+t)%t}var bi;Array.prototype.indexOf?bi=Array.prototype.indexOf:bi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function tE(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=N0e(t,12);return e+=(t-r)/12,r===1?K2(e)?29:28:31-r%7%2}ir("M",["MM",2],"Mo",function(){return this.month()+1});ir("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ir("MMMM",0,0,function(e){return this.localeData().months(this,e)});zo("month","M");No("month",8);Ht("M",jn);Ht("MM",jn,ts);Ht("MMM",function(e,t){return t.monthsShortRegex(e)});Ht("MMMM",function(e,t){return t.monthsRegex(e)});bn(["M","MM"],function(e,t){t[Nc]=Ir(e)-1});bn(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[Nc]=i:kr(r).invalidMonth=e});var j0e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),e7="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),t7=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,B0e=I_,F0e=I_;function U0e(e,t){return e?pl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||t7).test(t)?"format":"standalone"][e.month()]:pl(this._months)?this._months:this._months.standalone}function V0e(e,t){return e?pl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[t7.test(t)?"format":"standalone"][e.month()]:pl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function W0e(e,t,r){var n,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=ic([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?t==="MMM"?(i=bi.call(this._shortMonthsParse,s),i!==-1?i:null):(i=bi.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=bi.call(this._shortMonthsParse,s),i!==-1?i:(i=bi.call(this._longMonthsParse,s),i!==-1?i:null)):(i=bi.call(this._longMonthsParse,s),i!==-1?i:(i=bi.call(this._shortMonthsParse,s),i!==-1?i:null))}function q0e(e,t,r){var n,i,o;if(this._monthsParseExact)return W0e.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=ic([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function r7(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ir(t);else if(t=e.localeData().monthsParse(t),!iu(t))return e}return r=Math.min(e.date(),tE(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function n7(e){return e!=null?(r7(this,e),Lt.updateOffset(this,!0),this):uw(this,"Month")}function H0e(){return tE(this.year(),this.month())}function G0e(e){return this._monthsParseExact?(Gr(this,"_monthsRegex")||i7.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Gr(this,"_monthsShortRegex")||(this._monthsShortRegex=B0e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Y0e(e){return this._monthsParseExact?(Gr(this,"_monthsRegex")||i7.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Gr(this,"_monthsRegex")||(this._monthsRegex=F0e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function i7(){function e(s,a){return a.length-s.length}var t=[],r=[],n=[],i,o;for(i=0;i<12;i++)o=ic([2e3,i]),t.push(this.monthsShort(o,"")),r.push(this.months(o,"")),n.push(this.months(o,"")),n.push(this.monthsShort(o,""));for(t.sort(e),r.sort(e),n.sort(e),i=0;i<12;i++)t[i]=Ba(t[i]),r[i]=Ba(r[i]);for(i=0;i<24;i++)n[i]=Ba(n[i]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}ir("Y",0,0,function(){var e=this.year();return e<=9999?tc(e,4):"+"+e});ir(0,["YY",2],0,function(){return this.year()%100});ir(0,["YYYY",4],0,"year");ir(0,["YYYYY",5],0,"year");ir(0,["YYYYYY",6,!0],0,"year");zo("year","y");No("year",1);Ht("Y",Q2);Ht("YY",jn,ts);Ht("YYYY",r$,t$);Ht("YYYYY",J2,Z2);Ht("YYYYYY",J2,Z2);bn(["YYYYY","YYYYYY"],$o);bn("YYYY",function(e,t){t[$o]=e.length===2?Lt.parseTwoDigitYear(e):Ir(e)});bn("YY",function(e,t){t[$o]=Lt.parseTwoDigitYear(e)});bn("Y",function(e,t){t[$o]=parseInt(e,10)});function Wv(e){return K2(e)?366:365}Lt.parseTwoDigitYear=function(e){return Ir(e)+(Ir(e)>68?1900:2e3)};var o7=vg("FullYear",!0);function K0e(){return K2(this.year())}function Z0e(e,t,r,n,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,n,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,o,s),a}function R0(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function dw(e,t,r){var n=7+t-r,i=(7+R0(e,0,n).getUTCDay()-t)%7;return-i+n-1}function a7(e,t,r,n,i){var o=(7+r-n)%7,s=dw(e,n,i),a=1+7*(t-1)+o+s,d,h;return a<=0?(d=e-1,h=Wv(d)+a):a>Wv(e)?(d=e+1,h=a-Wv(e)):(d=e,h=a),{year:d,dayOfYear:h}}function $0(e,t,r){var n=dw(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+Wc(s,t,r)):i>Wc(e.year(),t,r)?(o=i-Wc(e.year(),t,r),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function Wc(e,t,r){var n=dw(e,t,r),i=dw(e+1,t,r);return(Wv(e)-n+i)/7}ir("w",["ww",2],"wo","week");ir("W",["WW",2],"Wo","isoWeek");zo("week","w");zo("isoWeek","W");No("week",5);No("isoWeek",5);Ht("w",jn);Ht("ww",jn,ts);Ht("W",jn);Ht("WW",jn,ts);R_(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Ir(e)});function X0e(e){return $0(e,this._week.dow,this._week.doy).week}var J0e={dow:0,doy:6};function Q0e(){return this._week.dow}function e_e(){return this._week.doy}function t_e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function r_e(e){var t=$0(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ir("d",0,"do","day");ir("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ir("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ir("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ir("e",0,0,"weekday");ir("E",0,0,"isoWeekday");zo("day","d");zo("weekday","e");zo("isoWeekday","E");No("day",11);No("weekday",11);No("isoWeekday",11);Ht("d",jn);Ht("e",jn);Ht("E",jn);Ht("dd",function(e,t){return t.weekdaysMinRegex(e)});Ht("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ht("dddd",function(e,t){return t.weekdaysRegex(e)});R_(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:kr(r).invalidWeekday=e});R_(["d","e","E"],function(e,t,r,n){t[n]=Ir(e)});function n_e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function i_e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function n$(e,t){return e.slice(t,7).concat(e.slice(0,t))}var o_e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),s7="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),a_e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),s_e=I_,l_e=I_,c_e=I_;function u_e(e,t){var r=pl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?n$(r,this._week.dow):e?r[e.day()]:r}function f_e(e){return e===!0?n$(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function d_e(e){return e===!0?n$(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function h_e(e,t,r){var n,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=ic([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?t==="dddd"?(i=bi.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=bi.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=bi.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=bi.call(this._weekdaysParse,s),i!==-1||(i=bi.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=bi.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=bi.call(this._shortWeekdaysParse,s),i!==-1||(i=bi.call(this._weekdaysParse,s),i!==-1)?i:(i=bi.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=bi.call(this._minWeekdaysParse,s),i!==-1||(i=bi.call(this._weekdaysParse,s),i!==-1)?i:(i=bi.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function p_e(e,t,r){var n,i,o;if(this._weekdaysParseExact)return h_e.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=ic([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function m_e(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=n_e(e,this.localeData()),this.add(e-t,"d")):t}function g_e(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function y_e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=i_e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function v_e(e){return this._weekdaysParseExact?(Gr(this,"_weekdaysRegex")||i$.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Gr(this,"_weekdaysRegex")||(this._weekdaysRegex=s_e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function __e(e){return this._weekdaysParseExact?(Gr(this,"_weekdaysRegex")||i$.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Gr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=l_e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function x_e(e){return this._weekdaysParseExact?(Gr(this,"_weekdaysRegex")||i$.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Gr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=c_e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function i$(){function e(g,v){return v.length-g.length}var t=[],r=[],n=[],i=[],o,s,a,d,h;for(o=0;o<7;o++)s=ic([2e3,1]).day(o),a=Ba(this.weekdaysMin(s,"")),d=Ba(this.weekdaysShort(s,"")),h=Ba(this.weekdays(s,"")),t.push(a),r.push(d),n.push(h),i.push(a),i.push(d),i.push(h);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function o$(){return this.hours()%12||12}function b_e(){return this.hours()||24}ir("H",["HH",2],0,"hour");ir("h",["hh",2],0,o$);ir("k",["kk",2],0,b_e);ir("hmm",0,0,function(){return""+o$.apply(this)+tc(this.minutes(),2)});ir("hmmss",0,0,function(){return""+o$.apply(this)+tc(this.minutes(),2)+tc(this.seconds(),2)});ir("Hmm",0,0,function(){return""+this.hours()+tc(this.minutes(),2)});ir("Hmmss",0,0,function(){return""+this.hours()+tc(this.minutes(),2)+tc(this.seconds(),2)});function l7(e,t){ir(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}l7("a",!0);l7("A",!1);zo("hour","h");No("hour",13);function c7(e,t){return t._meridiemParse}Ht("a",c7);Ht("A",c7);Ht("H",jn);Ht("h",jn);Ht("k",jn);Ht("HH",jn,ts);Ht("hh",jn,ts);Ht("kk",jn,ts);Ht("hmm",J9);Ht("hmmss",Q9);Ht("Hmm",J9);Ht("Hmmss",Q9);bn(["H","HH"],Li);bn(["k","kk"],function(e,t,r){var n=Ir(e);t[Li]=n===24?0:n});bn(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});bn(["h","hh"],function(e,t,r){t[Li]=Ir(e),kr(r).bigHour=!0});bn("hmm",function(e,t,r){var n=e.length-2;t[Li]=Ir(e.substr(0,n)),t[cl]=Ir(e.substr(n)),kr(r).bigHour=!0});bn("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Li]=Ir(e.substr(0,n)),t[cl]=Ir(e.substr(n,2)),t[jc]=Ir(e.substr(i)),kr(r).bigHour=!0});bn("Hmm",function(e,t,r){var n=e.length-2;t[Li]=Ir(e.substr(0,n)),t[cl]=Ir(e.substr(n))});bn("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Li]=Ir(e.substr(0,n)),t[cl]=Ir(e.substr(n,2)),t[jc]=Ir(e.substr(i))});function w_e(e){return(e+"").toLowerCase().charAt(0)==="p"}var S_e=/[ap]\.?m?\.?/i,E_e=vg("Hours",!0);function C_e(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var u7={calendar:p0e,longDateFormat:v0e,invalidDate:x0e,ordinal:w0e,dayOfMonthOrdinalParse:S0e,relativeTime:C0e,months:j0e,monthsShort:e7,week:J0e,weekdays:o_e,weekdaysMin:a_e,weekdaysShort:s7,meridiemParse:S_e},qn={},Ky={},D0;function T_e(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function K5(e){return e&&e.toLowerCase().replace("_","-")}function k_e(e){for(var t=0,r,n,i,o;t<e.length;){for(o=K5(e[t]).split("-"),r=o.length,n=K5(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=rE(o.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&T_e(o,n)>=r-1)break;r--}t++}return D0}function P_e(e){return e.match("^[^/\\\\]*$")!=null}function rE(e){var t=null,r;if(qn[e]===void 0&&typeof g1<"u"&&g1&&g1.exports&&P_e(e))try{t=D0._abbr,r=require,r("./locale/"+e),xf(t)}catch{qn[e]=null}return qn[e]}function xf(e,t){var r;return e&&(ha(t)?r=fu(e):r=a$(e,t),r?D0=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),D0._abbr}function a$(e,t){if(t!==null){var r,n=u7;if(t.abbr=e,qn[e]!=null)H9("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=qn[e]._config;else if(t.parentLocale!=null)if(qn[t.parentLocale]!=null)n=qn[t.parentLocale]._config;else if(r=rE(t.parentLocale),r!=null)n=r._config;else return Ky[t.parentLocale]||(Ky[t.parentLocale]=[]),Ky[t.parentLocale].push({name:e,config:t}),null;return qn[e]=new JR(jA(n,t)),Ky[e]&&Ky[e].forEach(function(i){a$(i.name,i.config)}),xf(e),qn[e]}else return delete qn[e],null}function A_e(e,t){if(t!=null){var r,n,i=u7;qn[e]!=null&&qn[e].parentLocale!=null?qn[e].set(jA(qn[e]._config,t)):(n=rE(e),n!=null&&(i=n._config),t=jA(i,t),n==null&&(t.abbr=e),r=new JR(t),r.parentLocale=qn[e],qn[e]=r),xf(e)}else qn[e]!=null&&(qn[e].parentLocale!=null?(qn[e]=qn[e].parentLocale,e===xf()&&xf(e)):qn[e]!=null&&delete qn[e]);return qn[e]}function fu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return D0;if(!pl(e)){if(t=rE(e),t)return t;e=[e]}return k_e(e)}function M_e(){return BA(qn)}function s$(e){var t,r=e._a;return r&&kr(e).overflow===-2&&(t=r[Nc]<0||r[Nc]>11?Nc:r[Fl]<1||r[Fl]>tE(r[$o],r[Nc])?Fl:r[Li]<0||r[Li]>24||r[Li]===24&&(r[cl]!==0||r[jc]!==0||r[Rd]!==0)?Li:r[cl]<0||r[cl]>59?cl:r[jc]<0||r[jc]>59?jc:r[Rd]<0||r[Rd]>999?Rd:-1,kr(e)._overflowDayOfYear&&(t<$o||t>Fl)&&(t=Fl),kr(e)._overflowWeeks&&t===-1&&(t=L0e),kr(e)._overflowWeekday&&t===-1&&(t=z0e),kr(e).overflow=t),e}var O_e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,I_e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R_e=/Z|[+-]\d\d(?::?\d\d)?/,Ab=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],lk=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$_e=/^\/?Date\((-?\d+)/i,D_e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,L_e={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function f7(e){var t,r,n=e._i,i=O_e.exec(n)||I_e.exec(n),o,s,a,d,h=Ab.length,g=lk.length;if(i){for(kr(e).iso=!0,t=0,r=h;t<r;t++)if(Ab[t][1].exec(i[1])){s=Ab[t][0],o=Ab[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,r=g;t<r;t++)if(lk[t][1].exec(i[3])){a=(i[2]||" ")+lk[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(R_e.exec(i[4]))d="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(d||""),c$(e)}else e._isValid=!1}function z_e(e,t,r,n,i,o){var s=[N_e(e),e7.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function N_e(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function j_e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function B_e(e,t,r){if(e){var n=s7.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return kr(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function F_e(e,t,r){if(e)return L_e[e];if(t)return 0;var n=parseInt(r,10),i=n%100,o=(n-i)/100;return o*60+i}function d7(e){var t=D_e.exec(j_e(e._i)),r;if(t){if(r=z_e(t[4],t[3],t[2],t[5],t[6],t[7]),!B_e(t[1],r,e))return;e._a=r,e._tzm=F_e(t[8],t[9],t[10]),e._d=R0.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kr(e).rfc2822=!0}else e._isValid=!1}function U_e(e){var t=$_e.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(f7(e),e._isValid===!1)delete e._isValid;else return;if(d7(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Lt.createFromInputFallback(e)}Lt.createFromInputFallback=$s("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Pp(e,t,r){return e??t??r}function V_e(e){var t=new Date(Lt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function l$(e){var t,r,n=[],i,o,s;if(!e._d){for(i=V_e(e),e._w&&e._a[Fl]==null&&e._a[Nc]==null&&W_e(e),e._dayOfYear!=null&&(s=Pp(e._a[$o],i[$o]),(e._dayOfYear>Wv(s)||e._dayOfYear===0)&&(kr(e)._overflowDayOfYear=!0),r=R0(s,0,e._dayOfYear),e._a[Nc]=r.getUTCMonth(),e._a[Fl]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Li]===24&&e._a[cl]===0&&e._a[jc]===0&&e._a[Rd]===0&&(e._nextDay=!0,e._a[Li]=0),e._d=(e._useUTC?R0:Z0e).apply(null,n),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Li]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(kr(e).weekdayMismatch=!0)}}function W_e(e){var t,r,n,i,o,s,a,d,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,r=Pp(t.GG,e._a[$o],$0(Nn(),1,4).year),n=Pp(t.W,1),i=Pp(t.E,1),(i<1||i>7)&&(d=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=$0(Nn(),o,s),r=Pp(t.gg,e._a[$o],h.year),n=Pp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(d=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(d=!0)):i=o),n<1||n>Wc(r,o,s)?kr(e)._overflowWeeks=!0:d!=null?kr(e)._overflowWeekday=!0:(a=a7(r,n,i,o,s),e._a[$o]=a.year,e._dayOfYear=a.dayOfYear)}Lt.ISO_8601=function(){};Lt.RFC_2822=function(){};function c$(e){if(e._f===Lt.ISO_8601){f7(e);return}if(e._f===Lt.RFC_2822){d7(e);return}e._a=[],kr(e).empty=!0;var t=""+e._i,r,n,i,o,s,a=t.length,d=0,h,g;for(i=G9(e._f,e._locale).match(QR)||[],g=i.length,r=0;r<g;r++)o=i[r],n=(t.match(R0e(o,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&kr(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),d+=n.length),fm[o]?(n?kr(e).empty=!1:kr(e).unusedTokens.push(o),D0e(o,n,e)):e._strict&&!n&&kr(e).unusedTokens.push(o);kr(e).charsLeftOver=a-d,t.length>0&&kr(e).unusedInput.push(t),e._a[Li]<=12&&kr(e).bigHour===!0&&e._a[Li]>0&&(kr(e).bigHour=void 0),kr(e).parsedDateParts=e._a.slice(0),kr(e).meridiem=e._meridiem,e._a[Li]=q_e(e._locale,e._a[Li],e._meridiem),h=kr(e).era,h!==null&&(e._a[$o]=e._locale.erasConvertYear(h,e._a[$o])),l$(e),s$(e)}function q_e(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function H_e(e){var t,r,n,i,o,s,a=!1,d=e._f.length;if(d===0){kr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<d;i++)o=0,s=!1,t=XR({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],c$(t),ZR(t)&&(s=!0),o+=kr(t).charsLeftOver,o+=kr(t).unusedTokens.length*10,kr(t).score=o,a?o<n&&(n=o,r=t):(n==null||o<n||s)&&(n=o,r=t,s&&(a=!0));rf(e,r||t)}function G_e(e){if(!e._d){var t=e$(e._i),r=t.day===void 0?t.date:t.day;e._a=W9([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),l$(e)}}function Y_e(e){var t=new O_(s$(h7(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function h7(e){var t=e._i,r=e._f;return e._locale=e._locale||fu(e._l),t===null||r===void 0&&t===""?Y2({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ml(t)?new O_(s$(t)):(M_(t)?e._d=t:pl(r)?H_e(e):r?c$(e):K_e(e),ZR(e)||(e._d=null),e))}function K_e(e){var t=e._i;ha(t)?e._d=new Date(Lt.now()):M_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?U_e(e):pl(t)?(e._a=W9(t.slice(0),function(r){return parseInt(r,10)}),l$(e)):Vd(t)?G_e(e):iu(t)?e._d=new Date(t):Lt.createFromInputFallback(e)}function p7(e,t,r,n,i){var o={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Vd(e)&&KR(e)||pl(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=r,o._i=e,o._f=t,o._strict=n,Y_e(o)}function Nn(e,t,r,n){return p7(e,t,r,n,!1)}var Z_e=$s("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Nn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Y2()}),X_e=$s("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Nn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Y2()});function m7(e,t){var r,n;if(t.length===1&&pl(t[0])&&(t=t[0]),!t.length)return Nn();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function J_e(){var e=[].slice.call(arguments,0);return m7("isBefore",e)}function Q_e(){var e=[].slice.call(arguments,0);return m7("isAfter",e)}var exe=function(){return Date.now?Date.now():+new Date},Zy=["year","quarter","month","week","day","hour","minute","second","millisecond"];function txe(e){var t,r=!1,n,i=Zy.length;for(t in e)if(Gr(e,t)&&!(bi.call(Zy,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[Zy[n]]){if(r)return!1;parseFloat(e[Zy[n]])!==Ir(e[Zy[n]])&&(r=!0)}return!0}function rxe(){return this._isValid}function nxe(){return vl(NaN)}function nE(e){var t=e$(e),r=t.year||0,n=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,d=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=txe(t),this._milliseconds=+g+h*1e3+d*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+n*3+r*12,this._data={},this._locale=fu(),this._bubble()}function h1(e){return e instanceof nE}function UA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ixe(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<n;s++)(r&&e[s]!==t[s]||!r&&Ir(e[s])!==Ir(t[s]))&&o++;return o+i}function g7(e,t){ir(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+tc(~~(r/60),2)+t+tc(~~r%60,2)})}g7("Z",":");g7("ZZ","");Ht("Z",eE);Ht("ZZ",eE);bn(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=u$(eE,e)});var oxe=/([\+\-]|\d\d)/gi;function u$(e,t){var r=(t||"").match(e),n,i,o;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(oxe)||["-",0,0],o=+(i[1]*60)+Ir(i[2]),o===0?0:i[0]==="+"?o:-o)}function f$(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(ml(e)||M_(e)?e.valueOf():Nn(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Lt.updateOffset(r,!1),r):Nn(e).local()}function VA(e){return-Math.round(e._d.getTimezoneOffset())}Lt.updateOffset=function(){};function axe(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=u$(eE,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=VA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?_7(this,vl(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Lt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:VA(this)}function sxe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function lxe(e){return this.utcOffset(0,e)}function cxe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(VA(this),"m")),this}function uxe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=u$(O0e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function fxe(e){return this.isValid()?(e=e?Nn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function dxe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hxe(){if(!ha(this._isDSTShifted))return this._isDSTShifted;var e={},t;return XR(e,this),e=h7(e),e._a?(t=e._isUTC?ic(e._a):Nn(e._a),this._isDSTShifted=this.isValid()&&ixe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function pxe(){return this.isValid()?!this._isUTC:!1}function mxe(){return this.isValid()?this._isUTC:!1}function y7(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gxe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,yxe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function vl(e,t){var r=e,n=null,i,o,s;return h1(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:iu(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=gxe.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:Ir(n[Fl])*i,h:Ir(n[Li])*i,m:Ir(n[cl])*i,s:Ir(n[jc])*i,ms:Ir(UA(n[Rd]*1e3))*i}):(n=yxe.exec(e))?(i=n[1]==="-"?-1:1,r={y:pd(n[2],i),M:pd(n[3],i),w:pd(n[4],i),d:pd(n[5],i),h:pd(n[6],i),m:pd(n[7],i),s:pd(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=vxe(Nn(r.from),Nn(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),o=new nE(r),h1(e)&&Gr(e,"_locale")&&(o._locale=e._locale),h1(e)&&Gr(e,"_isValid")&&(o._isValid=e._isValid),o}vl.fn=nE.prototype;vl.invalid=nxe;function pd(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Z5(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function vxe(e,t){var r;return e.isValid()&&t.isValid()?(t=f$(t,e),e.isBefore(t)?r=Z5(e,t):(r=Z5(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function v7(e,t){return function(r,n){var i,o;return n!==null&&!isNaN(+n)&&(H9(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),i=vl(r,n),_7(this,i,e),this}}function _7(e,t,r,n){var i=t._milliseconds,o=UA(t._days),s=UA(t._months);e.isValid()&&(n=n??!0,s&&r7(e,uw(e,"Month")+s*r),o&&K9(e,"Date",uw(e,"Date")+o*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&Lt.updateOffset(e,o||s))}var _xe=v7(1,"add"),xxe=v7(-1,"subtract");function x7(e){return typeof e=="string"||e instanceof String}function bxe(e){return ml(e)||M_(e)||x7(e)||iu(e)||Sxe(e)||wxe(e)||e===null||e===void 0}function wxe(e){var t=Vd(e)&&!KR(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=n.length;for(i=0;i<s;i+=1)o=n[i],r=r||Gr(e,o);return t&&r}function Sxe(e){var t=pl(e),r=!1;return t&&(r=e.filter(function(n){return!iu(n)&&x7(e)}).length===0),t&&r}function Exe(e){var t=Vd(e)&&!KR(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<n.length;i+=1)o=n[i],r=r||Gr(e,o);return t&&r}function Cxe(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Txe(e,t){arguments.length===1&&(arguments[0]?bxe(arguments[0])?(e=arguments[0],t=void 0):Exe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Nn(),n=f$(r,this).startOf("day"),i=Lt.calendarFormat(this,n)||"sameElse",o=t&&(oc(t[i])?t[i].call(this,r):t[i]);return this.format(o||this.localeData().calendar(i,this,Nn(r)))}function kxe(){return new O_(this)}function Pxe(e,t){var r=ml(e)?e:Nn(e);return this.isValid()&&r.isValid()?(t=Ds(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Axe(e,t){var r=ml(e)?e:Nn(e);return this.isValid()&&r.isValid()?(t=Ds(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Mxe(e,t,r,n){var i=ml(e)?e:Nn(e),o=ml(t)?t:Nn(t);return this.isValid()&&i.isValid()&&o.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(o,r):!this.isAfter(o,r))):!1}function Oxe(e,t){var r=ml(e)?e:Nn(e),n;return this.isValid()&&r.isValid()?(t=Ds(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Ixe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Rxe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $xe(e,t,r){var n,i,o;if(!this.isValid())return NaN;if(n=f$(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=Ds(t),t){case"year":o=p1(this,n)/12;break;case"month":o=p1(this,n);break;case"quarter":o=p1(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-i)/864e5;break;case"week":o=(this-n-i)/6048e5;break;default:o=this-n}return r?o:gs(o)}function p1(e,t){if(e.date()<t.date())return-p1(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,o;return t-n<0?(i=e.clone().add(r-1,"months"),o=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),o=(t-n)/(i-n)),-(r+o)||0}Lt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Lt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dxe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Lxe(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?d1(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):oc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",d1(r,"Z")):d1(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zxe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(r+n+i+o)}function Nxe(e){e||(e=this.isUtc()?Lt.defaultFormatUtc:Lt.defaultFormat);var t=d1(this,e);return this.localeData().postformat(t)}function jxe(e,t){return this.isValid()&&(ml(e)&&e.isValid()||Nn(e).isValid())?vl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Bxe(e){return this.from(Nn(),e)}function Fxe(e,t){return this.isValid()&&(ml(e)&&e.isValid()||Nn(e).isValid())?vl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Uxe(e){return this.to(Nn(),e)}function b7(e){var t;return e===void 0?this._locale._abbr:(t=fu(e),t!=null&&(this._locale=t),this)}var w7=$s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function S7(){return this._locale}var hw=1e3,dm=60*hw,pw=60*dm,E7=(365*400+97)*24*pw;function hm(e,t){return(e%t+t)%t}function C7(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-E7:new Date(e,t,r).valueOf()}function T7(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-E7:Date.UTC(e,t,r)}function Vxe(e){var t,r;if(e=Ds(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?T7:C7,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hm(t+(this._isUTC?0:this.utcOffset()*dm),pw);break;case"minute":t=this._d.valueOf(),t-=hm(t,dm);break;case"second":t=this._d.valueOf(),t-=hm(t,hw);break}return this._d.setTime(t),Lt.updateOffset(this,!0),this}function Wxe(e){var t,r;if(e=Ds(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?T7:C7,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=pw-hm(t+(this._isUTC?0:this.utcOffset()*dm),pw)-1;break;case"minute":t=this._d.valueOf(),t+=dm-hm(t,dm)-1;break;case"second":t=this._d.valueOf(),t+=hw-hm(t,hw)-1;break}return this._d.setTime(t),Lt.updateOffset(this,!0),this}function qxe(){return this._d.valueOf()-(this._offset||0)*6e4}function Hxe(){return Math.floor(this.valueOf()/1e3)}function Gxe(){return new Date(this.valueOf())}function Yxe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Kxe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Zxe(){return this.isValid()?this.toISOString():null}function Xxe(){return ZR(this)}function Jxe(){return rf({},kr(this))}function Qxe(){return kr(this).overflow}function ebe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ir("N",0,0,"eraAbbr");ir("NN",0,0,"eraAbbr");ir("NNN",0,0,"eraAbbr");ir("NNNN",0,0,"eraName");ir("NNNNN",0,0,"eraNarrow");ir("y",["y",1],"yo","eraYear");ir("y",["yy",2],0,"eraYear");ir("y",["yyy",3],0,"eraYear");ir("y",["yyyy",4],0,"eraYear");Ht("N",d$);Ht("NN",d$);Ht("NNN",d$);Ht("NNNN",fbe);Ht("NNNNN",dbe);bn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?kr(r).era=i:kr(r).invalidEra=e});Ht("y",_g);Ht("yy",_g);Ht("yyy",_g);Ht("yyyy",_g);Ht("yo",hbe);bn(["y","yy","yyy","yyyy"],$o);bn(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[$o]=r._locale.eraYearOrdinalParse(e,i):t[$o]=parseInt(e,10)});function tbe(e,t){var r,n,i,o=this._eras||fu("en")._eras;for(r=0,n=o.length;r<n;++r){switch(typeof o[r].since){case"string":i=Lt(o[r].since).startOf("day"),o[r].since=i.valueOf();break}switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":i=Lt(o[r].until).startOf("day").valueOf(),o[r].until=i.valueOf();break}}return o}function rbe(e,t,r){var n,i,o=this.eras(),s,a,d;for(e=e.toUpperCase(),n=0,i=o.length;n<i;++n)if(s=o[n].name.toUpperCase(),a=o[n].abbr.toUpperCase(),d=o[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[n];break;case"NNNN":if(s===e)return o[n];break;case"NNNNN":if(d===e)return o[n];break}else if([s,a,d].indexOf(e)>=0)return o[n]}function nbe(e,t){var r=e.since<=e.until?1:-1;return t===void 0?Lt(e.since).year():Lt(e.since).year()+(t-e.offset)*r}function ibe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function obe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function abe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function sbe(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-Lt(i[e].since).year())*r+i[e].offset;return this.year()}function lbe(e){return Gr(this,"_erasNameRegex")||h$.call(this),e?this._erasNameRegex:this._erasRegex}function cbe(e){return Gr(this,"_erasAbbrRegex")||h$.call(this),e?this._erasAbbrRegex:this._erasRegex}function ube(e){return Gr(this,"_erasNarrowRegex")||h$.call(this),e?this._erasNarrowRegex:this._erasRegex}function d$(e,t){return t.erasAbbrRegex(e)}function fbe(e,t){return t.erasNameRegex(e)}function dbe(e,t){return t.erasNarrowRegex(e)}function hbe(e,t){return t._eraYearOrdinalRegex||_g}function h$(){var e=[],t=[],r=[],n=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Ba(s[i].name)),e.push(Ba(s[i].abbr)),r.push(Ba(s[i].narrow)),n.push(Ba(s[i].name)),n.push(Ba(s[i].abbr)),n.push(Ba(s[i].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ir(0,["gg",2],0,function(){return this.weekYear()%100});ir(0,["GG",2],0,function(){return this.isoWeekYear()%100});function iE(e,t){ir(0,[e,e.length],0,t)}iE("gggg","weekYear");iE("ggggg","weekYear");iE("GGGG","isoWeekYear");iE("GGGGG","isoWeekYear");zo("weekYear","gg");zo("isoWeekYear","GG");No("weekYear",1);No("isoWeekYear",1);Ht("G",Q2);Ht("g",Q2);Ht("GG",jn,ts);Ht("gg",jn,ts);Ht("GGGG",r$,t$);Ht("gggg",r$,t$);Ht("GGGGG",J2,Z2);Ht("ggggg",J2,Z2);R_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Ir(e)});R_(["gg","GG"],function(e,t,r,n){t[n]=Lt.parseTwoDigitYear(e)});function pbe(e){return k7.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mbe(e){return k7.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function gbe(){return Wc(this.year(),1,4)}function ybe(){return Wc(this.isoWeekYear(),1,4)}function vbe(){var e=this.localeData()._week;return Wc(this.year(),e.dow,e.doy)}function _be(){var e=this.localeData()._week;return Wc(this.weekYear(),e.dow,e.doy)}function k7(e,t,r,n,i){var o;return e==null?$0(this,n,i).year:(o=Wc(e,n,i),t>o&&(t=o),xbe.call(this,e,t,r,n,i))}function xbe(e,t,r,n,i){var o=a7(e,t,r,n,i),s=R0(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ir("Q",0,"Qo","quarter");zo("quarter","Q");No("quarter",7);Ht("Q",Z9);bn("Q",function(e,t){t[Nc]=(Ir(e)-1)*3});function bbe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ir("D",["DD",2],"Do","date");zo("date","D");No("date",9);Ht("D",jn);Ht("DD",jn,ts);Ht("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});bn(["D","DD"],Fl);bn("Do",function(e,t){t[Fl]=Ir(e.match(jn)[0])});var P7=vg("Date",!0);ir("DDD",["DDDD",3],"DDDo","dayOfYear");zo("dayOfYear","DDD");No("dayOfYear",4);Ht("DDD",X2);Ht("DDDD",X9);bn(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Ir(e)});function wbe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ir("m",["mm",2],0,"minute");zo("minute","m");No("minute",14);Ht("m",jn);Ht("mm",jn,ts);bn(["m","mm"],cl);var Sbe=vg("Minutes",!1);ir("s",["ss",2],0,"second");zo("second","s");No("second",15);Ht("s",jn);Ht("ss",jn,ts);bn(["s","ss"],jc);var Ebe=vg("Seconds",!1);ir("S",0,0,function(){return~~(this.millisecond()/100)});ir(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ir(0,["SSS",3],0,"millisecond");ir(0,["SSSS",4],0,function(){return this.millisecond()*10});ir(0,["SSSSS",5],0,function(){return this.millisecond()*100});ir(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ir(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ir(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ir(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});zo("millisecond","ms");No("millisecond",16);Ht("S",X2,Z9);Ht("SS",X2,ts);Ht("SSS",X2,X9);var nf,A7;for(nf="SSSS";nf.length<=9;nf+="S")Ht(nf,_g);function Cbe(e,t){t[Rd]=Ir(("0."+e)*1e3)}for(nf="S";nf.length<=9;nf+="S")bn(nf,Cbe);A7=vg("Milliseconds",!1);ir("z",0,0,"zoneAbbr");ir("zz",0,0,"zoneName");function Tbe(){return this._isUTC?"UTC":""}function kbe(){return this._isUTC?"Coordinated Universal Time":""}var vt=O_.prototype;vt.add=_xe;vt.calendar=Txe;vt.clone=kxe;vt.diff=$xe;vt.endOf=Wxe;vt.format=Nxe;vt.from=jxe;vt.fromNow=Bxe;vt.to=Fxe;vt.toNow=Uxe;vt.get=A0e;vt.invalidAt=Qxe;vt.isAfter=Pxe;vt.isBefore=Axe;vt.isBetween=Mxe;vt.isSame=Oxe;vt.isSameOrAfter=Ixe;vt.isSameOrBefore=Rxe;vt.isValid=Xxe;vt.lang=w7;vt.locale=b7;vt.localeData=S7;vt.max=X_e;vt.min=Z_e;vt.parsingFlags=Jxe;vt.set=M0e;vt.startOf=Vxe;vt.subtract=xxe;vt.toArray=Yxe;vt.toObject=Kxe;vt.toDate=Gxe;vt.toISOString=Lxe;vt.inspect=zxe;typeof Symbol<"u"&&Symbol.for!=null&&(vt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});vt.toJSON=Zxe;vt.toString=Dxe;vt.unix=Hxe;vt.valueOf=qxe;vt.creationData=ebe;vt.eraName=ibe;vt.eraNarrow=obe;vt.eraAbbr=abe;vt.eraYear=sbe;vt.year=o7;vt.isLeapYear=K0e;vt.weekYear=pbe;vt.isoWeekYear=mbe;vt.quarter=vt.quarters=bbe;vt.month=n7;vt.daysInMonth=H0e;vt.week=vt.weeks=t_e;vt.isoWeek=vt.isoWeeks=r_e;vt.weeksInYear=vbe;vt.weeksInWeekYear=_be;vt.isoWeeksInYear=gbe;vt.isoWeeksInISOWeekYear=ybe;vt.date=P7;vt.day=vt.days=m_e;vt.weekday=g_e;vt.isoWeekday=y_e;vt.dayOfYear=wbe;vt.hour=vt.hours=E_e;vt.minute=vt.minutes=Sbe;vt.second=vt.seconds=Ebe;vt.millisecond=vt.milliseconds=A7;vt.utcOffset=axe;vt.utc=lxe;vt.local=cxe;vt.parseZone=uxe;vt.hasAlignedHourOffset=fxe;vt.isDST=dxe;vt.isLocal=pxe;vt.isUtcOffset=mxe;vt.isUtc=y7;vt.isUTC=y7;vt.zoneAbbr=Tbe;vt.zoneName=kbe;vt.dates=$s("dates accessor is deprecated. Use date instead.",P7);vt.months=$s("months accessor is deprecated. Use month instead",n7);vt.years=$s("years accessor is deprecated. Use year instead",o7);vt.zone=$s("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sxe);vt.isDSTShifted=$s("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hxe);function Pbe(e){return Nn(e*1e3)}function Abe(){return Nn.apply(null,arguments).parseZone()}function M7(e){return e}var Zr=JR.prototype;Zr.calendar=m0e;Zr.longDateFormat=_0e;Zr.invalidDate=b0e;Zr.ordinal=E0e;Zr.preparse=M7;Zr.postformat=M7;Zr.relativeTime=T0e;Zr.pastFuture=k0e;Zr.set=h0e;Zr.eras=tbe;Zr.erasParse=rbe;Zr.erasConvertYear=nbe;Zr.erasAbbrRegex=cbe;Zr.erasNameRegex=lbe;Zr.erasNarrowRegex=ube;Zr.months=U0e;Zr.monthsShort=V0e;Zr.monthsParse=q0e;Zr.monthsRegex=Y0e;Zr.monthsShortRegex=G0e;Zr.week=X0e;Zr.firstDayOfYear=e_e;Zr.firstDayOfWeek=Q0e;Zr.weekdays=u_e;Zr.weekdaysMin=d_e;Zr.weekdaysShort=f_e;Zr.weekdaysParse=p_e;Zr.weekdaysRegex=v_e;Zr.weekdaysShortRegex=__e;Zr.weekdaysMinRegex=x_e;Zr.isPM=w_e;Zr.meridiem=C_e;function mw(e,t,r,n){var i=fu(),o=ic().set(n,t);return i[r](o,e)}function O7(e,t,r){if(iu(e)&&(t=e,e=void 0),e=e||"",t!=null)return mw(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=mw(e,n,r,"month");return i}function p$(e,t,r,n){typeof e=="boolean"?(iu(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,iu(t)&&(r=t,t=void 0),t=t||"");var i=fu(),o=e?i._week.dow:0,s,a=[];if(r!=null)return mw(t,(r+o)%7,n,"day");for(s=0;s<7;s++)a[s]=mw(t,(s+o)%7,n,"day");return a}function Mbe(e,t){return O7(e,t,"months")}function Obe(e,t){return O7(e,t,"monthsShort")}function Ibe(e,t,r){return p$(e,t,r,"weekdays")}function Rbe(e,t,r){return p$(e,t,r,"weekdaysShort")}function $be(e,t,r){return p$(e,t,r,"weekdaysMin")}xf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Ir(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});Lt.lang=$s("moment.lang is deprecated. Use moment.locale instead.",xf);Lt.langData=$s("moment.langData is deprecated. Use moment.localeData instead.",fu);var Pc=Math.abs;function Dbe(){var e=this._data;return this._milliseconds=Pc(this._milliseconds),this._days=Pc(this._days),this._months=Pc(this._months),e.milliseconds=Pc(e.milliseconds),e.seconds=Pc(e.seconds),e.minutes=Pc(e.minutes),e.hours=Pc(e.hours),e.months=Pc(e.months),e.years=Pc(e.years),this}function I7(e,t,r,n){var i=vl(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Lbe(e,t){return I7(this,e,t,1)}function zbe(e,t){return I7(this,e,t,-1)}function X5(e){return e<0?Math.floor(e):Math.ceil(e)}function Nbe(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,o,s,a,d;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=X5(WA(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=gs(e/1e3),n.seconds=i%60,o=gs(i/60),n.minutes=o%60,s=gs(o/60),n.hours=s%24,t+=gs(s/24),d=gs(R7(t)),r+=d,t-=X5(WA(d)),a=gs(r/12),r%=12,n.days=t,n.months=r,n.years=a,this}function R7(e){return e*4800/146097}function WA(e){return e*146097/4800}function jbe(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=Ds(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+R7(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(WA(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Bbe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ir(this._months/12)*31536e6:NaN}function du(e){return function(){return this.as(e)}}var Fbe=du("ms"),Ube=du("s"),Vbe=du("m"),Wbe=du("h"),qbe=du("d"),Hbe=du("w"),Gbe=du("M"),Ybe=du("Q"),Kbe=du("y");function Zbe(){return vl(this)}function Xbe(e){return e=Ds(e),this.isValid()?this[e+"s"]():NaN}function dh(e){return function(){return this.isValid()?this._data[e]:NaN}}var Jbe=dh("milliseconds"),Qbe=dh("seconds"),e1e=dh("minutes"),t1e=dh("hours"),r1e=dh("days"),n1e=dh("months"),i1e=dh("years");function o1e(){return gs(this.days()/7)}var Oc=Math.round,Yp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function a1e(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function s1e(e,t,r,n){var i=vl(e).abs(),o=Oc(i.as("s")),s=Oc(i.as("m")),a=Oc(i.as("h")),d=Oc(i.as("d")),h=Oc(i.as("M")),g=Oc(i.as("w")),v=Oc(i.as("y")),b=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||s<=1&&["m"]||s<r.m&&["mm",s]||a<=1&&["h"]||a<r.h&&["hh",a]||d<=1&&["d"]||d<r.d&&["dd",d];return r.w!=null&&(b=b||g<=1&&["w"]||g<r.w&&["ww",g]),b=b||h<=1&&["M"]||h<r.M&&["MM",h]||v<=1&&["y"]||["yy",v],b[2]=t,b[3]=+e>0,b[4]=n,a1e.apply(null,b)}function l1e(e){return e===void 0?Oc:typeof e=="function"?(Oc=e,!0):!1}function c1e(e,t){return Yp[e]===void 0?!1:t===void 0?Yp[e]:(Yp[e]=t,e==="s"&&(Yp.ss=t-1),!0)}function u1e(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Yp,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Yp,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),o=s1e(this,!r,n,i),r&&(o=i.pastFuture(+this,o)),i.postformat(o)}var ck=Math.abs;function vp(e){return(e>0)-(e<0)||+e}function oE(){if(!this.isValid())return this.localeData().invalidDate();var e=ck(this._milliseconds)/1e3,t=ck(this._days),r=ck(this._months),n,i,o,s,a=this.asSeconds(),d,h,g,v;return a?(n=gs(e/60),i=gs(n/60),e%=60,n%=60,o=gs(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",d=a<0?"-":"",h=vp(this._months)!==vp(a)?"-":"",g=vp(this._days)!==vp(a)?"-":"",v=vp(this._milliseconds)!==vp(a)?"-":"",d+"P"+(o?h+o+"Y":"")+(r?h+r+"M":"")+(t?g+t+"D":"")+(i||n||e?"T":"")+(i?v+i+"H":"")+(n?v+n+"M":"")+(e?v+s+"S":"")):"P0D"}var jr=nE.prototype;jr.isValid=rxe;jr.abs=Dbe;jr.add=Lbe;jr.subtract=zbe;jr.as=jbe;jr.asMilliseconds=Fbe;jr.asSeconds=Ube;jr.asMinutes=Vbe;jr.asHours=Wbe;jr.asDays=qbe;jr.asWeeks=Hbe;jr.asMonths=Gbe;jr.asQuarters=Ybe;jr.asYears=Kbe;jr.valueOf=Bbe;jr._bubble=Nbe;jr.clone=Zbe;jr.get=Xbe;jr.milliseconds=Jbe;jr.seconds=Qbe;jr.minutes=e1e;jr.hours=t1e;jr.days=r1e;jr.weeks=o1e;jr.months=n1e;jr.years=i1e;jr.humanize=u1e;jr.toISOString=oE;jr.toString=oE;jr.toJSON=oE;jr.locale=b7;jr.localeData=S7;jr.toIsoString=$s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",oE);jr.lang=w7;ir("X",0,0,"unix");ir("x",0,0,"valueOf");Ht("x",Q2);Ht("X",I0e);bn("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});bn("x",function(e,t,r){r._d=new Date(Ir(e))});//! moment.js
Lt.version="2.29.4";f0e(Nn);Lt.fn=vt;Lt.min=J_e;Lt.max=Q_e;Lt.now=exe;Lt.utc=ic;Lt.unix=Pbe;Lt.months=Mbe;Lt.isDate=M_;Lt.locale=xf;Lt.invalid=Y2;Lt.duration=vl;Lt.isMoment=ml;Lt.weekdays=Ibe;Lt.parseZone=Abe;Lt.localeData=fu;Lt.isDuration=h1;Lt.monthsShort=Obe;Lt.weekdaysMin=$be;Lt.defineLocale=a$;Lt.updateLocale=A_e;Lt.locales=M_e;Lt.weekdaysShort=Rbe;Lt.normalizeUnits=Ds;Lt.relativeTimeRounding=l1e;Lt.relativeTimeThreshold=c1e;Lt.calendarFormat=Cxe;Lt.prototype=vt;Lt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const f1e=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},d1e=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},h1e=(e,t)=>e*f1e(t),p1e=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},m1e=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},g1e=(e,t)=>e*p1e(t),y1e=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},v1e=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},_1e=(e,t)=>e*y1e(t),m1=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),$7=e=>e?"sharedYes":"sharedNo",x1e=(e,t=1)=>Number(e.toFixed(t)),D7=e=>`${e}%`,L7=(e,t,r)=>{if(e){const n=Lt(e);switch(t){case"date":return n.format("YYYY-MM-DD");case"time":return n.format(r?"hh:mm:ss A":"HH:mm:ss");case"minutes":return n.format(r?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return n.format(r?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},z7=e=>e?m1("alarm",e):"",b1e=e=>{const t=["↑","↗","→","↘","↓","↙","←","↖"];let r=(e+22.5)%360;return r<0&&(r+=360),t[Math.floor(r/45)]},w1e=(e,t,r)=>`${g1e(e,t).toFixed(2)} ${m1e(t)}`,S1e=(e,t,r)=>`${_1e(e,t).toFixed(2)} ${v1e(t)}`,E1e=(e,t,r)=>`${h1e(e,t).toFixed(2)} ${d1e(t)}`,C1e=(e,t)=>{const r=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return`${r} ${t("sharedHourAbbreviation")} ${n} ${t("sharedMinuteAbbreviation")}`},J5=(e,t,r)=>{let n,i,o,s;switch(e==="latitude"?n=t>=0?"N":"S":n=t>=0?"E":"W",r){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i}° ${o.toFixed(6)}' ${n}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i}° ${o}' ${s}" ${n}`;default:return`${t.toFixed(6)}°`}},N7=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},T1e=({positions:e,onClick:t,showStatus:r,selectedPosition:n,titleField:i})=>{const o=W.useId(),s=`${o}-clusters`,a=`${o}-direction`,d=Ln(T=>T.devices.items),h=1,g=!0,v=!1,b="all",M=(T,R,z)=>{const j=T[R.deviceId];let V;switch(b){case"none":V=!1;break;case"all":V=!0;break;default:V=z===R.id;break}return{id:R.id,deviceId:R.deviceId,name:j.name,fixTime:L7(R.fixTime,"seconds",v),category:Z8(j.category),color:r?N7(j.status):"neutral",rotation:R.course,direction:V}},A=()=>lt.getCanvas().style.cursor="pointer",w=()=>lt.getCanvas().style.cursor="",P=W.useCallback(T=>{!T.defaultPrevented&&t&&t()},[t]),O=W.useCallback(T=>{T.preventDefault();const R=T.features[0];t&&t(R.properties.id,R.properties.deviceId)},[t]),I=W.useCallback(T=>{T.preventDefault();const R=lt.queryRenderedFeatures(T.point,{layers:[s]}),z=R[0].properties.cluster_id;lt.getSource(o).getClusterExpansionZoom(z,(j,V)=>{j||lt.easeTo({center:R[0].geometry.coordinates,zoom:V})})},[s]);return W.useEffect(()=>(lt.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:g,clusterMaxZoom:14,clusterRadius:50}),lt.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":h,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*h],"text-font":gf(lt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),lt.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":h,"text-field":"{point_count_abbreviated}","text-font":gf(lt),"text-size":14}}),lt.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":h,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),lt.on("mouseenter",o,A),lt.on("mouseleave",o,w),lt.on("mouseenter",s,A),lt.on("mouseleave",s,w),lt.on("click",o,O),lt.on("click",s,I),lt.on("click",P),()=>{lt.off("mouseenter",o,A),lt.off("mouseleave",o,w),lt.off("mouseenter",s,A),lt.off("mouseleave",s,w),lt.off("click",o,O),lt.off("click",s,I),lt.off("click",P),lt.getLayer(o)&&lt.removeLayer(o),lt.getLayer(s)&&lt.removeLayer(s),lt.getLayer(a)&&lt.removeLayer(a),lt.getSource(o)&&lt.removeSource(o)}),[g,s,a,O,I]),W.useEffect(()=>{lt.getSource(o).setData({type:"FeatureCollection",features:e.filter(T=>d.hasOwnProperty(T.deviceId)).map(T=>({type:"Feature",geometry:{type:"Point",coordinates:[T.longitude,T.latitude]},properties:M(d,T,n&&n.id)}))})},[d,e,n]),null},k1e=()=>{const e=W.useId(),t=`${e}-points`,r=`${e}-points-clusters`,n=Ln(h=>h.mission.route),i=!0,o=.6,s=(h,g)=>({id:g.id,name:h[g.routeid].name,uav:h[g.routeid].uav,latitude:h[g.routeid].wp[g.id].pos[0],longitude:h[g.routeid].wp[g.id].pos[1],altitud:h[g.routeid].wp[g.id].pos[2],yaw:h[g.routeid].wp[g.id].yaw,gimbal:h[g.routeid].wp[g.id].gimbal,actions:h[g.routeid].wp[g.id].action,attributes:h[g.routeid].attributes,category:"default",color:h[g.routeid].id});W.useEffect(()=>(lt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),lt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),lt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),lt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":gf(lt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),lt.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":gf(lt),"text-size":14},paint:{"text-color":"white"}}),lt.addLayer({id:r,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":gf(lt),"text-size":14}}),lt.on("click","mission-points",function(h){console.log("target"),console.log(h);let g=`<h4 style="color: #FF7A59" >UAV: ${h.features[0].properties.uav}</h4>
            <div><span>Route: ${h.features[0].properties.name}</span>
            <span><a href="https://www.google.com/maps?q=${h.features[0].properties.latitude},${h.features[0].properties.longitude}" target="_blank">
            Punto_${h.features[0].properties.id}</a></span></div>
            <div style="display:inline"><span> Height: </span><span>${h.features[0].properties.altitud}m </span></div>`;g=h.features[0].properties.hasOwnProperty("yaw")?g+`<div style="display:inline"><span>Yaw: </span><span>${h.features[0].properties.yaw}° </span></div>`:g,g=h.features[0].properties.hasOwnProperty("gimbal")?g+`<div style="display:inline"><span>Gimbal: </span><span>${h.features[0].properties.gimbal}° </span></div>`:g;let v="<p> Waypoint actions: </p>";if(h.features[0].properties.actions){let A=JSON.parse(h.features[0].properties.actions);v=v+Object.keys(A).map(w=>{let P=w=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${w}: </span><span>${A[w]} ${P} </span></div>`}).join("")}let b="<p> Atributes_mission: </p>",M=JSON.parse(h.features[0].properties.attributes);b=b+Object.keys(M).map(A=>{let w=A=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${A}: </span><span>${M[A]} ${w} </span></div>`}).join(""),new I2.Popup().setLngLat(h.lngLat).setHTML(g+v+b).addTo(lt)}),()=>{lt.getLayer("mission-line")&&lt.removeLayer("mission-line"),lt.getLayer("mission-title")&&lt.removeLayer("mission-title"),lt.getLayer("mission-points")&&lt.removeLayer("mission-points"),lt.getLayer(r)&&lt.removeLayer(r),lt.getSource(e)&&lt.removeSource(e),lt.getSource(t)&&lt.removeSource(t)}),[]);function a(h){let g=Object.values(h.wp).map(function(v){return[v.pos[1],v.pos[0]]});return{id:h.id,type:"Feature",geometry:{type:"LineString",coordinates:g},properties:{name:h.uav,color:y0[h.id]}}}function d(h){let g=[];return Object.values(h).forEach(v=>{Object.keys(v.wp).forEach(b=>{g.push({longitude:v.wp[b].pos[1],latitude:v.wp[b].pos[0],id:b,routeid:v.id})})}),g}return W.useEffect(()=>{let h=d(n);lt.getSource(t).setData({type:"FeatureCollection",features:h.map(g=>({type:"Feature",geometry:{type:"Point",coordinates:[g.longitude,g.latitude]},properties:s(n,g)}))}),lt.getSource(e).setData({type:"FeatureCollection",features:Object.values(n).map(g=>a(g))})},[n]),null},P1e=e=>{const t=W.useRef();return W.useEffect(()=>{t.current=e}),t.current},A1e=()=>{const e=Ln(o=>o.devices.selectedId),t=P1e(e),r=10,n=!1,i=Ln(o=>o.data.positions[e]);return W.useEffect(()=>{(e!==t||n)&&i&&i.hasOwnProperty("latitude")&&lt.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(lt.getZoom(),r),offset:[0,-300/2]})}),null};var Q5=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function M1e(e,t){return!!(e===t||Q5(e)&&Q5(t))}function O1e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!M1e(e[r],t[r]))return!1;return!0}function uk(e,t){t===void 0&&(t=O1e);var r,n=[],i,o=!1;function s(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return o&&r===this&&t(a,n)||(i=e.apply(this,a),o=!0,r=this,n=a),i}return s}var I1e=typeof performance=="object"&&typeof performance.now=="function",ej=I1e?function(){return performance.now()}:function(){return Date.now()};function tj(e){cancelAnimationFrame(e.id)}function R1e(e,t){var r=ej();function n(){ej()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var fk=-1;function rj(e){if(e===void 0&&(e=!1),fk===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),fk=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return fk}var _p=null;function nj(e){if(e===void 0&&(e=!1),_p===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?_p="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?_p="negative":_p="positive-ascending"),document.body.removeChild(t),_p}return _p}var $1e=150,D1e=function(t,r){return t};function L1e(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,d=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(v){b_(b,v);function b(A){var w;return w=v.call(this,A)||this,w._instanceProps=d(w.props,w0(w)),w._outerRef=void 0,w._resetIsScrollingTimeoutId=null,w.state={instance:w0(w),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof w.props.initialScrollOffset=="number"?w.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},w._callOnItemsRendered=void 0,w._callOnItemsRendered=uk(function(P,O,I,T){return w.props.onItemsRendered({overscanStartIndex:P,overscanStopIndex:O,visibleStartIndex:I,visibleStopIndex:T})}),w._callOnScroll=void 0,w._callOnScroll=uk(function(P,O,I){return w.props.onScroll({scrollDirection:P,scrollOffset:O,scrollUpdateWasRequested:I})}),w._getItemStyle=void 0,w._getItemStyle=function(P){var O=w.props,I=O.direction,T=O.itemSize,R=O.layout,z=w._getItemStyleCache(h&&T,h&&R,h&&I),j;if(z.hasOwnProperty(P))j=z[P];else{var V=r(w.props,P,w._instanceProps),Z=i(w.props,P,w._instanceProps),ie=I==="horizontal"||R==="horizontal",ne=I==="rtl",ae=ie?V:0;z[P]=j={position:"absolute",left:ne?void 0:ae,right:ne?ae:void 0,top:ie?0:V,height:ie?"100%":Z,width:ie?Z:"100%"}}return j},w._getItemStyleCache=void 0,w._getItemStyleCache=uk(function(P,O,I){return{}}),w._onScrollHorizontal=function(P){var O=P.currentTarget,I=O.clientWidth,T=O.scrollLeft,R=O.scrollWidth;w.setState(function(z){if(z.scrollOffset===T)return null;var j=w.props.direction,V=T;if(j==="rtl")switch(nj()){case"negative":V=-T;break;case"positive-descending":V=R-I-T;break}return V=Math.max(0,Math.min(V,R-I)),{isScrolling:!0,scrollDirection:z.scrollOffset<T?"forward":"backward",scrollOffset:V,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._onScrollVertical=function(P){var O=P.currentTarget,I=O.clientHeight,T=O.scrollHeight,R=O.scrollTop;w.setState(function(z){if(z.scrollOffset===R)return null;var j=Math.max(0,Math.min(R,T-I));return{isScrolling:!0,scrollDirection:z.scrollOffset<j?"forward":"backward",scrollOffset:j,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._outerRefSetter=function(P){var O=w.props.outerRef;w._outerRef=P,typeof O=="function"?O(P):O!=null&&typeof O=="object"&&O.hasOwnProperty("current")&&(O.current=P)},w._resetIsScrollingDebounced=function(){w._resetIsScrollingTimeoutId!==null&&tj(w._resetIsScrollingTimeoutId),w._resetIsScrollingTimeoutId=R1e(w._resetIsScrolling,$1e)},w._resetIsScrolling=function(){w._resetIsScrollingTimeoutId=null,w.setState({isScrolling:!1},function(){w._getItemStyleCache(-1,null)})},w}b.getDerivedStateFromProps=function(w,P){return z1e(w,P),g(w),null};var M=b.prototype;return M.scrollTo=function(w){w=Math.max(0,w),this.setState(function(P){return P.scrollOffset===w?null:{scrollDirection:P.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},M.scrollToItem=function(w,P){P===void 0&&(P="auto");var O=this.props,I=O.itemCount,T=O.layout,R=this.state.scrollOffset;w=Math.max(0,Math.min(w,I-1));var z=0;if(this._outerRef){var j=this._outerRef;T==="vertical"?z=j.scrollWidth>j.clientWidth?rj():0:z=j.scrollHeight>j.clientHeight?rj():0}this.scrollTo(o(this.props,w,P,R,this._instanceProps,z))},M.componentDidMount=function(){var w=this.props,P=w.direction,O=w.initialScrollOffset,I=w.layout;if(typeof O=="number"&&this._outerRef!=null){var T=this._outerRef;P==="horizontal"||I==="horizontal"?T.scrollLeft=O:T.scrollTop=O}this._callPropsCallbacks()},M.componentDidUpdate=function(){var w=this.props,P=w.direction,O=w.layout,I=this.state,T=I.scrollOffset,R=I.scrollUpdateWasRequested;if(R&&this._outerRef!=null){var z=this._outerRef;if(P==="horizontal"||O==="horizontal")if(P==="rtl")switch(nj()){case"negative":z.scrollLeft=-T;break;case"positive-ascending":z.scrollLeft=T;break;default:var j=z.clientWidth,V=z.scrollWidth;z.scrollLeft=V-j-T;break}else z.scrollLeft=T;else z.scrollTop=T}this._callPropsCallbacks()},M.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&tj(this._resetIsScrollingTimeoutId)},M.render=function(){var w=this.props,P=w.children,O=w.className,I=w.direction,T=w.height,R=w.innerRef,z=w.innerElementType,j=w.innerTagName,V=w.itemCount,Z=w.itemData,ie=w.itemKey,ne=ie===void 0?D1e:ie,ae=w.layout,de=w.outerElementType,pe=w.outerTagName,Pe=w.style,be=w.useIsScrolling,he=w.width,ve=this.state.isScrolling,Se=I==="horizontal"||ae==="horizontal",ye=Se?this._onScrollHorizontal:this._onScrollVertical,Ie=this._getRangeToRender(),Xe=Ie[0],Ee=Ie[1],De=[];if(V>0)for(var Oe=Xe;Oe<=Ee;Oe++)De.push(W.createElement(P,{data:Z,key:ne(Oe,Z),index:Oe,isScrolling:be?ve:void 0,style:this._getItemStyle(Oe)}));var Ge=n(this.props,this._instanceProps);return W.createElement(de||pe||"div",{className:O,onScroll:ye,ref:this._outerRefSetter,style:vn({position:"relative",height:T,width:he,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:I},Pe)},W.createElement(z||j||"div",{children:De,ref:R,style:{height:Se?"100%":Ge,pointerEvents:ve?"none":void 0,width:Se?Ge:"100%"}}))},M._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var w=this.props.itemCount;if(w>0){var P=this._getRangeToRender(),O=P[0],I=P[1],T=P[2],R=P[3];this._callOnItemsRendered(O,I,T,R)}}if(typeof this.props.onScroll=="function"){var z=this.state,j=z.scrollDirection,V=z.scrollOffset,Z=z.scrollUpdateWasRequested;this._callOnScroll(j,V,Z)}},M._getRangeToRender=function(){var w=this.props,P=w.itemCount,O=w.overscanCount,I=this.state,T=I.isScrolling,R=I.scrollDirection,z=I.scrollOffset;if(P===0)return[0,0,0,0];var j=s(this.props,z,this._instanceProps),V=a(this.props,j,z,this._instanceProps),Z=!T||R==="backward"?Math.max(1,O):1,ie=!T||R==="forward"?Math.max(1,O):1;return[Math.max(0,j-Z),Math.max(0,Math.min(P-1,V+ie)),j,V]},b}(W.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var z1e=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},N1e=L1e({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,s){var a=t.direction,d=t.height,h=t.itemCount,g=t.itemSize,v=t.layout,b=t.width,M=a==="horizontal"||v==="horizontal",A=M?b:d,w=Math.max(0,h*g-A),P=Math.min(w,r*g),O=Math.max(0,r*g-A+g+s);switch(n==="smart"&&(i>=O-A&&i<=P+A?n="auto":n="center"),n){case"start":return P;case"end":return O;case"center":{var I=Math.round(O+(P-O)/2);return I<Math.ceil(A/2)?0:I>w+Math.floor(A/2)?w:I}case"auto":default:return i>=O&&i<=P?i:i<O?O:P}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,d=t.layout,h=t.width,g=i==="horizontal"||d==="horizontal",v=r*a,b=g?h:o,M=Math.ceil((b+n-v)/a);return Math.max(0,Math.min(s-1,r+M-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Ss;typeof window<"u"?Ss=window:typeof self<"u"?Ss=self:Ss=global;let qA=null,HA=null;const ij=20,dk=Ss.clearTimeout,oj=Ss.setTimeout,hk=Ss.cancelAnimationFrame||Ss.mozCancelAnimationFrame||Ss.webkitCancelAnimationFrame,aj=Ss.requestAnimationFrame||Ss.mozRequestAnimationFrame||Ss.webkitRequestAnimationFrame;hk==null||aj==null?(qA=dk,HA=function(t){return oj(t,ij)}):(qA=function([t,r]){hk(t),dk(r)},HA=function(t){const r=aj(function(){dk(n),t()}),n=oj(function(){hk(r),t()},ij);return[r,n]});function j1e(e){let t,r,n,i,o,s,a;const d=typeof document<"u"&&document.attachEvent;if(!d){s=function(O){const I=O.__resizeTriggers__,T=I.firstElementChild,R=I.lastElementChild,z=T.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,z.style.width=T.offsetWidth+1+"px",z.style.height=T.offsetHeight+1+"px",T.scrollLeft=T.scrollWidth,T.scrollTop=T.scrollHeight},o=function(O){return O.offsetWidth!==O.__resizeLast__.width||O.offsetHeight!==O.__resizeLast__.height},a=function(O){if(O.target.className&&typeof O.target.className.indexOf=="function"&&O.target.className.indexOf("contract-trigger")<0&&O.target.className.indexOf("expand-trigger")<0)return;const I=this;s(this),this.__resizeRAF__&&qA(this.__resizeRAF__),this.__resizeRAF__=HA(function(){o(I)&&(I.__resizeLast__.width=I.offsetWidth,I.__resizeLast__.height=I.offsetHeight,I.__resizeListeners__.forEach(function(z){z.call(I,O)}))})};let b=!1,M="";n="animationstart";const A="Webkit Moz O ms".split(" ");let w="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),P="";{const O=document.createElement("fakeelement");if(O.style.animationName!==void 0&&(b=!0),b===!1){for(let I=0;I<A.length;I++)if(O.style[A[I]+"AnimationName"]!==void 0){P=A[I],M="-"+P.toLowerCase()+"-",n=w[I],b=!0;break}}}r="resizeanim",t="@"+M+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",i=M+"animation: 1ms "+r+"; "}const h=function(b){if(!b.getElementById("detectElementResize")){const M=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',A=b.head||b.getElementsByTagName("head")[0],w=b.createElement("style");w.id="detectElementResize",w.type="text/css",e!=null&&w.setAttribute("nonce",e),w.styleSheet?w.styleSheet.cssText=M:w.appendChild(b.createTextNode(M)),A.appendChild(w)}};return{addResizeListener:function(b,M){if(d)b.attachEvent("onresize",M);else{if(!b.__resizeTriggers__){const A=b.ownerDocument,w=Ss.getComputedStyle(b);w&&w.position==="static"&&(b.style.position="relative"),h(A),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=A.createElement("div")).className="resize-triggers";const P=A.createElement("div");P.className="expand-trigger",P.appendChild(A.createElement("div"));const O=A.createElement("div");O.className="contract-trigger",b.__resizeTriggers__.appendChild(P),b.__resizeTriggers__.appendChild(O),b.appendChild(b.__resizeTriggers__),s(b),b.addEventListener("scroll",a,!0),n&&(b.__resizeTriggers__.__animationListener__=function(T){T.animationName===r&&s(b)},b.__resizeTriggers__.addEventListener(n,b.__resizeTriggers__.__animationListener__))}b.__resizeListeners__.push(M)}},removeResizeListener:function(b,M){if(d)b.detachEvent("onresize",M);else if(b.__resizeListeners__.splice(b.__resizeListeners__.indexOf(M),1),!b.__resizeListeners__.length){b.removeEventListener("scroll",a,!0),b.__resizeTriggers__.__animationListener__&&(b.__resizeTriggers__.removeEventListener(n,b.__resizeTriggers__.__animationListener__),b.__resizeTriggers__.__animationListener__=null);try{b.__resizeTriggers__=!b.removeChild(b.__resizeTriggers__)}catch{}}}}}class B1e extends W.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:n,onResize:i}=this.props;if(this._parentNode){var o,s,a,d;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),v=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),b=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),M=parseFloat((d=h.paddingBottom)!==null&&d!==void 0?d:"0"),A=this._parentNode.getBoundingClientRect(),w=A.height-b-M,P=A.width-g-v,O=this._parentNode.offsetHeight-b-M,I=this._parentNode.offsetWidth-g-v;(!r&&(this.state.height!==O||this.state.scaledHeight!==w)||!n&&(this.state.width!==I||this.state.scaledWidth!==P))&&(this.setState({height:O,width:I,scaledHeight:w,scaledWidth:P}),typeof i=="function"&&i({height:O,scaledHeight:w,scaledWidth:P,width:I}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=j1e(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:r,defaultWidth:n,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:d={},tagName:h="div",...g}=this.props,{height:v,scaledHeight:b,scaledWidth:M,width:A}=this.state,w={overflow:"visible"},P={};let O=!1;return i||(v===0&&(O=!0),w.height=0,P.height=v,P.scaledHeight=b),o||(A===0&&(O=!0),w.width=0,P.width=A,P.scaledWidth=M),W.createElement(h,{ref:this._setRef,style:{...w,...d},...g},!O&&t(P))}}var m$={},F1e=nn;Object.defineProperty(m$,"__esModule",{value:!0});var j7=m$.default=void 0,U1e=F1e(on()),V1e=F,W1e=(0,U1e.default)((0,V1e.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");j7=m$.default=W1e;var g$={},q1e=nn;Object.defineProperty(g$,"__esModule",{value:!0});var B7=g$.default=void 0,H1e=q1e(on()),G1e=F,Y1e=(0,H1e.default)((0,G1e.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");B7=g$.default=Y1e;var y$={},K1e=nn;Object.defineProperty(y$,"__esModule",{value:!0});var F7=y$.default=void 0,Z1e=J1e(W),X1e=K1e(on()),pk=F;function U7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(U7=function(n){return n?r:t})(e)}function J1e(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=U7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var Q1e=(0,X1e.default)((0,pk.jsxs)(Z1e.Fragment,{children:[(0,pk.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,pk.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");F7=y$.default=Q1e;var v$={},ewe=nn;Object.defineProperty(v$,"__esModule",{value:!0});var V7=v$.default=void 0,twe=nwe(W),rwe=ewe(on()),mk=F;function W7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(W7=function(n){return n?r:t})(e)}function nwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=W7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var iwe=(0,rwe.default)((0,mk.jsxs)(twe.Fragment,{children:[(0,mk.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,mk.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");V7=v$.default=iwe;var _$={},owe=nn;Object.defineProperty(_$,"__esModule",{value:!0});var q7=_$.default=void 0,awe=lwe(W),swe=owe(on()),gk=F;function H7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(H7=function(n){return n?r:t})(e)}function lwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=H7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var cwe=(0,swe.default)((0,gk.jsxs)(awe.Fragment,{children:[(0,gk.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,gk.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");q7=_$.default=cwe;var x$={},uwe=nn;Object.defineProperty(x$,"__esModule",{value:!0});var G7=x$.default=void 0,fwe=hwe(W),dwe=uwe(on()),yk=F;function Y7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Y7=function(n){return n?r:t})(e)}function hwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Y7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var pwe=(0,dwe.default)((0,yk.jsxs)(fwe.Fragment,{children:[(0,yk.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,yk.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");G7=x$.default=pwe;var b$={},mwe=nn;Object.defineProperty(b$,"__esModule",{value:!0});var K7=b$.default=void 0,gwe=mwe(on()),ywe=F,vwe=(0,gwe.default)((0,ywe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");K7=b$.default=vwe;const sj=e=>W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e},W.createElement("title",null,"Engine"),W.createElement("path",{fill:"currentColor",d:"M13.778 6.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778 13.333c-0.3 0-0.579 0.121-0.79 0.321l-1.888 1.901h-2.878c-0.611 0-1.111 0.5-1.111 1.111v6.667c0 0.611 0.5 1.111 1.111 1.111h1.888l3.056 2.033c0.178 0.122 0.39 0.189 0.612 0.189h5.556c0.244 0 0.477-0.077 0.666-0.221l4.444-3.333c0.278-0.211 0.445-0.545 0.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111 14.444v6.667h2.222v-6.667h-2.222zM17.111 15.556v3.333h2.222l-3.333 5.556v-3.333h-2.222l3.333-5.556zM2.667 16.667v5.556h2.222v-5.556h-2.222z"})),_we=Lo(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),xwe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},vk={color:il[500]},lj={color:AI[700]},_k={color:Rc[500]},bwe={color:Gl[500]},wwe=({data:e,index:t,style:r})=>{const n=_we(),i=nc(),o=e[t],s=Ln(h=>h.data.positions[o.id]),a=o.name,d=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=Lt(o.lastUpdate).fromNow(),F.jsxs(F.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&F.jsxs("div",{style:{fontSize:12},children:[" ",s.attributes.landed_state]}),F.jsx("div",{style:{fontSize:12},className:n[N7(o.status)],children:h})]})};return F.jsx("div",{style:r,children:F.jsxs(tde,{onClick:()=>i(Lc.selectId(o.id)),disabled:o.disabled,children:[F.jsx(sde,{children:F.jsx(uce,{children:F.jsx("img",{style:xwe,src:Z1[Z8(o.category)],alt:""})})}),F.jsx(mde,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:d(),secondaryTypographyProps:{noWrap:!0}}),s&&F.jsxs(F.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&F.jsx(kp,{title:`positionIgnition: ${$7(s.attributes.ignition)}`,children:F.jsx(cn,{size:"small",children:s.attributes.ignition?F.jsx(sj,{width:20,height:20,style:vk}):F.jsx(sj,{width:20,height:20,style:bwe})})}),s.hasOwnProperty("speed")&&F.jsx(kp,{title:`speed: ${s.speed}`,children:F.jsx(cn,{size:"small",children:F.jsxs("div",{style:{fontSize:"0.9rem"},children:[" ","V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&F.jsx(kp,{title:`altitude: ${Math.round(s.altitude)}`,children:F.jsx(cn,{size:"small",children:F.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&F.jsx(kp,{title:`BatteryLevel: ${D7(s.attributes.batteryLevel)}`,children:F.jsx(cn,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?F.jsx(B7,{fontSize:"small",style:vk}):F.jsx(j7,{fontSize:"small",style:vk}):s.attributes.batteryLevel>30?s.attributes.charge?F.jsx(V7,{fontSize:"small",style:lj}):F.jsx(F7,{fontSize:"small",style:lj}):s.attributes.charge?F.jsx(G7,{fontSize:"small",style:_k}):F.jsx(q7,{fontSize:"small",style:_k})})}),s.attributes.hasOwnProperty("alarm")&&F.jsx(kp,{title:`eventAlarm: ${z7(s.attributes.alarm)}`,children:F.jsx(cn,{size:"small",children:F.jsx(K7,{fontSize:"small",style:_k})})})]})]},o.id)})},Swe=Lo(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),Ewe=({devices:e})=>{const t=Swe();nc();const r=W.useRef(null);r.current&&(r.current.className=t.listInner);const[,n]=W.useState(Date.now());return W.useEffect(()=>{const i=setInterval(()=>n(Date.now()),6e4);return()=>{clearInterval(i)}},[]),F.jsx(B1e,{className:t.list,children:({height:i,width:o})=>F.jsx(N1e,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:r,children:wwe})})};var w$={exports:{}},Z7={};function X7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=X7(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function cj(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=X7(e))&&(n&&(n+=" "),n+=t);return n}const Cwe=Object.freeze(Object.defineProperty({__proto__:null,clsx:cj,default:cj},Symbol.toStringTag,{value:"Module"})),Twe=qF(Cwe);var mi={},ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.dontSetMe=Owe;ac.findInArray=kwe;ac.int=Mwe;ac.isFunction=Pwe;ac.isNum=Awe;function kwe(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Pwe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Awe(e){return typeof e=="number"&&!isNaN(e)}function Mwe(e){return parseInt(e,10)}function Owe(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.browserPrefixToKey=Q7;hh.browserPrefixToStyle=Iwe;hh.default=void 0;hh.getPrefix=J7;var xk=["Moz","Webkit","O","ms"];function J7(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var n=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!n||r in n)return"";for(var i=0;i<xk.length;i++)if(Q7(r,xk[i])in n)return xk[i];return""}function Q7(e,t){return t?"".concat(t).concat(Rwe(e)):e}function Iwe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Rwe(e){for(var t="",r=!0,n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}var $we=J7();hh.default=$we;function GA(e){"@babel/helpers - typeof";return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GA(e)}Object.defineProperty(mi,"__esModule",{value:!0});mi.addClassName=iq;mi.addEvent=zwe;mi.addUserSelectStyles=Ywe;mi.createCSSTransform=Wwe;mi.createSVGTransform=qwe;mi.getTouch=Hwe;mi.getTouchIdentifier=Gwe;mi.getTranslation=S$;mi.innerHeight=Fwe;mi.innerWidth=Uwe;mi.matchesSelector=nq;mi.matchesSelectorAndParentsTo=Lwe;mi.offsetXYFromParent=Vwe;mi.outerHeight=jwe;mi.outerWidth=Bwe;mi.removeClassName=oq;mi.removeEvent=Nwe;mi.removeUserSelectStyles=Kwe;var Ga=ac,uj=Dwe(hh);function eq(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(eq=function(i){return i?r:t})(e)}function Dwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||GA(e)!=="object"&&typeof e!="function")return{default:e};var r=eq(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mb="";function nq(e,t){return Mb||(Mb=(0,Ga.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Ga.isFunction)(e[r])})),(0,Ga.isFunction)(e[Mb])?e[Mb](t):!1}function Lwe(e,t,r){var n=e;do{if(nq(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function zwe(e,t,r,n){if(e){var i=tq({capture:!0},n);e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function Nwe(e,t,r,n){if(e){var i=tq({capture:!0},n);e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function jwe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ga.int)(r.borderTopWidth),t+=(0,Ga.int)(r.borderBottomWidth),t}function Bwe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ga.int)(r.borderLeftWidth),t+=(0,Ga.int)(r.borderRightWidth),t}function Fwe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ga.int)(r.paddingTop),t-=(0,Ga.int)(r.paddingBottom),t}function Uwe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ga.int)(r.paddingLeft),t-=(0,Ga.int)(r.paddingRight),t}function Vwe(e,t,r){var n=t===t.ownerDocument.body,i=n?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/r,s=(e.clientY+t.scrollTop-i.top)/r;return{x:o,y:s}}function Wwe(e,t){var r=S$(e,t,"px");return rq({},(0,uj.browserPrefixToKey)("transform",uj.default),r)}function qwe(e,t){var r=S$(e,t,"");return r}function S$(e,t,r){var n=e.x,i=e.y,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){var s="".concat(typeof t.x=="string"?t.x:t.x+r),a="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Hwe(e,t){return e.targetTouches&&(0,Ga.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,Ga.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function Gwe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Ywe(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&iq(e.body,"react-draggable-transparent-selection")}}function Kwe(e){if(e)try{if(e.body&&oq(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function iq(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function oq(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var sc={};Object.defineProperty(sc,"__esModule",{value:!0});sc.canDragX=Jwe;sc.canDragY=Qwe;sc.createCoreData=tSe;sc.createDraggableData=rSe;sc.getBoundPosition=Zwe;sc.getControlPosition=eSe;sc.snapToGrid=Xwe;var La=ac,Kp=mi;function Zwe(e,t,r){if(!e.props.bounds)return[t,r];var n=e.props.bounds;n=typeof n=="string"?n:nSe(n);var i=E$(e);if(typeof n=="string"){var o=i.ownerDocument,s=o.defaultView,a;if(n==="parent"?a=i.parentNode:a=o.querySelector(n),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var d=a,h=s.getComputedStyle(i),g=s.getComputedStyle(d);n={left:-i.offsetLeft+(0,La.int)(g.paddingLeft)+(0,La.int)(h.marginLeft),top:-i.offsetTop+(0,La.int)(g.paddingTop)+(0,La.int)(h.marginTop),right:(0,Kp.innerWidth)(d)-(0,Kp.outerWidth)(i)-i.offsetLeft+(0,La.int)(g.paddingRight)-(0,La.int)(h.marginRight),bottom:(0,Kp.innerHeight)(d)-(0,Kp.outerHeight)(i)-i.offsetTop+(0,La.int)(g.paddingBottom)-(0,La.int)(h.marginBottom)}}return(0,La.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,La.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,La.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,La.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function Xwe(e,t,r){var n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function Jwe(e){return e.props.axis==="both"||e.props.axis==="x"}function Qwe(e){return e.props.axis==="both"||e.props.axis==="y"}function eSe(e,t,r){var n=typeof t=="number"?(0,Kp.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;var i=E$(r),o=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Kp.offsetXYFromParent)(n||e,o,r.props.scale)}function tSe(e,t,r){var n=e.state,i=!(0,La.isNum)(n.lastX),o=E$(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:r}}function rSe(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function nSe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function E$(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var aE={},sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.default=iSe;function iSe(){}function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}Object.defineProperty(aE,"__esModule",{value:!0});aE.default=void 0;var bk=aSe(W),Da=C$(OI),oSe=C$(cu),To=mi,Nu=sc,wk=ac,Xy=C$(sE);function C$(e){return e&&e.__esModule?e:{default:e}}function aq(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(aq=function(i){return i?r:t})(e)}function aSe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||gw(e)!=="object"&&typeof e!="function")return{default:e};var r=aq(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function dj(e,t){return uSe(e)||cSe(e,t)||lSe(e,t)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lSe(e,t){if(e){if(typeof e=="string")return hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hj(e,t)}}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,a=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function uSe(e){if(Array.isArray(e))return e}function fSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dSe(e,t,r){return t&&pj(e.prototype,t),r&&pj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},YA(e,t)}function pSe(e){var t=gSe();return function(){var n=yw(e),i;if(t){var o=yw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mSe(this,i)}}function mSe(e,t){if(t&&(gw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function fs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ju=Xs.mouse,lE=function(e){hSe(r,e);var t=pSe(r);function r(){var n;fSe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),fs(Po(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),fs(Po(n),"mounted",!1),fs(Po(n),"handleDragStart",function(a){if(n.props.onMouseDown(a),!n.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var d=n.findDOMNode();if(!d||!d.ownerDocument||!d.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var h=d.ownerDocument;if(!(n.props.disabled||!(a.target instanceof h.defaultView.Node)||n.props.handle&&!(0,To.matchesSelectorAndParentsTo)(a.target,n.props.handle,d)||n.props.cancel&&(0,To.matchesSelectorAndParentsTo)(a.target,n.props.cancel,d))){a.type==="touchstart"&&a.preventDefault();var g=(0,To.getTouchIdentifier)(a);n.setState({touchIdentifier:g});var v=(0,Nu.getControlPosition)(a,g,Po(n));if(v!=null){var b=v.x,M=v.y,A=(0,Nu.createCoreData)(Po(n),b,M);(0,Xy.default)("DraggableCore: handleDragStart: %j",A),(0,Xy.default)("calling",n.props.onStart);var w=n.props.onStart(a,A);w===!1||n.mounted===!1||(n.props.enableUserSelectHack&&(0,To.addUserSelectStyles)(h),n.setState({dragging:!0,lastX:b,lastY:M}),(0,To.addEvent)(h,ju.move,n.handleDrag),(0,To.addEvent)(h,ju.stop,n.handleDragStop))}}}),fs(Po(n),"handleDrag",function(a){var d=(0,Nu.getControlPosition)(a,n.state.touchIdentifier,Po(n));if(d!=null){var h=d.x,g=d.y;if(Array.isArray(n.props.grid)){var v=h-n.state.lastX,b=g-n.state.lastY,M=(0,Nu.snapToGrid)(n.props.grid,v,b),A=dj(M,2);if(v=A[0],b=A[1],!v&&!b)return;h=n.state.lastX+v,g=n.state.lastY+b}var w=(0,Nu.createCoreData)(Po(n),h,g);(0,Xy.default)("DraggableCore: handleDrag: %j",w);var P=n.props.onDrag(a,w);if(P===!1||n.mounted===!1){try{n.handleDragStop(new MouseEvent("mouseup"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(O)}return}n.setState({lastX:h,lastY:g})}}),fs(Po(n),"handleDragStop",function(a){if(n.state.dragging){var d=(0,Nu.getControlPosition)(a,n.state.touchIdentifier,Po(n));if(d!=null){var h=d.x,g=d.y;if(Array.isArray(n.props.grid)){var v=h-n.state.lastX||0,b=g-n.state.lastY||0,M=(0,Nu.snapToGrid)(n.props.grid,v,b),A=dj(M,2);v=A[0],b=A[1],h=n.state.lastX+v,g=n.state.lastY+b}var w=(0,Nu.createCoreData)(Po(n),h,g),P=n.props.onStop(a,w);if(P===!1||n.mounted===!1)return!1;var O=n.findDOMNode();O&&n.props.enableUserSelectHack&&(0,To.removeUserSelectStyles)(O.ownerDocument),(0,Xy.default)("DraggableCore: handleDragStop: %j",w),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),O&&((0,Xy.default)("DraggableCore: Removing handlers"),(0,To.removeEvent)(O.ownerDocument,ju.move,n.handleDrag),(0,To.removeEvent)(O.ownerDocument,ju.stop,n.handleDragStop))}}}),fs(Po(n),"onMouseDown",function(a){return ju=Xs.mouse,n.handleDragStart(a)}),fs(Po(n),"onMouseUp",function(a){return ju=Xs.mouse,n.handleDragStop(a)}),fs(Po(n),"onTouchStart",function(a){return ju=Xs.touch,n.handleDragStart(a)}),fs(Po(n),"onTouchEnd",function(a){return ju=Xs.touch,n.handleDragStop(a)}),n}return dSe(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,To.addEvent)(i,Xs.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var o=i.ownerDocument;(0,To.removeEvent)(o,Xs.mouse.move,this.handleDrag),(0,To.removeEvent)(o,Xs.touch.move,this.handleDrag),(0,To.removeEvent)(o,Xs.mouse.stop,this.handleDragStop),(0,To.removeEvent)(o,Xs.touch.stop,this.handleDragStop),(0,To.removeEvent)(i,Xs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,To.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var i,o,s;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(o=this.props)===null||o===void 0||(s=o.nodeRef)===null||s===void 0?void 0:s.current:oSe.default.findDOMNode(this)}},{key:"render",value:function(){return bk.cloneElement(bk.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(bk.Component);aE.default=lE;fs(lE,"displayName","DraggableCore");fs(lE,"propTypes",{allowAnyClick:Da.default.bool,disabled:Da.default.bool,enableUserSelectHack:Da.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Da.default.arrayOf(Da.default.number),handle:Da.default.string,cancel:Da.default.string,nodeRef:Da.default.object,onStart:Da.default.func,onDrag:Da.default.func,onStop:Da.default.func,onMouseDown:Da.default.func,scale:Da.default.number,className:wk.dontSetMe,style:wk.dontSetMe,transform:wk.dontSetMe});fs(lE,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(Ee){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},t(Ee)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var r=A(W),n=b(OI),i=b(cu),o=b(Twe),s=mi,a=sc,d=ac,h=b(aE),g=b(sE),v=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function b(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}function M(Ee){if(typeof WeakMap!="function")return null;var De=new WeakMap,Oe=new WeakMap;return(M=function(Be){return Be?Oe:De})(Ee)}function A(Ee,De){if(!De&&Ee&&Ee.__esModule)return Ee;if(Ee===null||t(Ee)!=="object"&&typeof Ee!="function")return{default:Ee};var Oe=M(De);if(Oe&&Oe.has(Ee))return Oe.get(Ee);var Ge={},Be=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var at in Ee)if(at!=="default"&&Object.prototype.hasOwnProperty.call(Ee,at)){var nt=Be?Object.getOwnPropertyDescriptor(Ee,at):null;nt&&(nt.get||nt.set)?Object.defineProperty(Ge,at,nt):Ge[at]=Ee[at]}return Ge.default=Ee,Oe&&Oe.set(Ee,Ge),Ge}function w(){return w=Object.assign||function(Ee){for(var De=1;De<arguments.length;De++){var Oe=arguments[De];for(var Ge in Oe)Object.prototype.hasOwnProperty.call(Oe,Ge)&&(Ee[Ge]=Oe[Ge])}return Ee},w.apply(this,arguments)}function P(Ee,De){if(Ee==null)return{};var Oe=O(Ee,De),Ge,Be;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Ee);for(Be=0;Be<at.length;Be++)Ge=at[Be],!(De.indexOf(Ge)>=0)&&Object.prototype.propertyIsEnumerable.call(Ee,Ge)&&(Oe[Ge]=Ee[Ge])}return Oe}function O(Ee,De){if(Ee==null)return{};var Oe={},Ge=Object.keys(Ee),Be,at;for(at=0;at<Ge.length;at++)Be=Ge[at],!(De.indexOf(Be)>=0)&&(Oe[Be]=Ee[Be]);return Oe}function I(Ee,De){var Oe=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(Ee);De&&(Ge=Ge.filter(function(Be){return Object.getOwnPropertyDescriptor(Ee,Be).enumerable})),Oe.push.apply(Oe,Ge)}return Oe}function T(Ee){for(var De=1;De<arguments.length;De++){var Oe=arguments[De]!=null?arguments[De]:{};De%2?I(Object(Oe),!0).forEach(function(Ge){Ie(Ee,Ge,Oe[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Oe)):I(Object(Oe)).forEach(function(Ge){Object.defineProperty(Ee,Ge,Object.getOwnPropertyDescriptor(Oe,Ge))})}return Ee}function R(Ee,De){return ie(Ee)||Z(Ee,De)||j(Ee,De)||z()}function z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(Ee,De){if(Ee){if(typeof Ee=="string")return V(Ee,De);var Oe=Object.prototype.toString.call(Ee).slice(8,-1);if(Oe==="Object"&&Ee.constructor&&(Oe=Ee.constructor.name),Oe==="Map"||Oe==="Set")return Array.from(Ee);if(Oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oe))return V(Ee,De)}}function V(Ee,De){(De==null||De>Ee.length)&&(De=Ee.length);for(var Oe=0,Ge=new Array(De);Oe<De;Oe++)Ge[Oe]=Ee[Oe];return Ge}function Z(Ee,De){var Oe=Ee==null?null:typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(Oe!=null){var Ge=[],Be=!0,at=!1,nt,Ve;try{for(Oe=Oe.call(Ee);!(Be=(nt=Oe.next()).done)&&(Ge.push(nt.value),!(De&&Ge.length===De));Be=!0);}catch(Je){at=!0,Ve=Je}finally{try{!Be&&Oe.return!=null&&Oe.return()}finally{if(at)throw Ve}}return Ge}}function ie(Ee){if(Array.isArray(Ee))return Ee}function ne(Ee,De){if(!(Ee instanceof De))throw new TypeError("Cannot call a class as a function")}function ae(Ee,De){for(var Oe=0;Oe<De.length;Oe++){var Ge=De[Oe];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(Ee,Ge.key,Ge)}}function de(Ee,De,Oe){return De&&ae(Ee.prototype,De),Oe&&ae(Ee,Oe),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}function pe(Ee,De){if(typeof De!="function"&&De!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(De&&De.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),De&&Pe(Ee,De)}function Pe(Ee,De){return Pe=Object.setPrototypeOf||function(Ge,Be){return Ge.__proto__=Be,Ge},Pe(Ee,De)}function be(Ee){var De=Se();return function(){var Ge=ye(Ee),Be;if(De){var at=ye(this).constructor;Be=Reflect.construct(Ge,arguments,at)}else Be=Ge.apply(this,arguments);return he(this,Be)}}function he(Ee,De){if(De&&(t(De)==="object"||typeof De=="function"))return De;if(De!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ve(Ee)}function ve(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ye(Ee){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(Oe){return Oe.__proto__||Object.getPrototypeOf(Oe)},ye(Ee)}function Ie(Ee,De,Oe){return De in Ee?Object.defineProperty(Ee,De,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):Ee[De]=Oe,Ee}var Xe=function(Ee){pe(Oe,Ee);var De=be(Oe);function Oe(Ge){var Be;return ne(this,Oe),Be=De.call(this,Ge),Ie(ve(Be),"onDragStart",function(at,nt){(0,g.default)("Draggable: onDragStart: %j",nt);var Ve=Be.props.onStart(at,(0,a.createDraggableData)(ve(Be),nt));if(Ve===!1)return!1;Be.setState({dragging:!0,dragged:!0})}),Ie(ve(Be),"onDrag",function(at,nt){if(!Be.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",nt);var Ve=(0,a.createDraggableData)(ve(Be),nt),Je={x:Ve.x,y:Ve.y};if(Be.props.bounds){var ct=Je.x,Fe=Je.y;Je.x+=Be.state.slackX,Je.y+=Be.state.slackY;var Re=(0,a.getBoundPosition)(ve(Be),Je.x,Je.y),St=R(Re,2),Zt=St[0],Ot=St[1];Je.x=Zt,Je.y=Ot,Je.slackX=Be.state.slackX+(ct-Je.x),Je.slackY=Be.state.slackY+(Fe-Je.y),Ve.x=Je.x,Ve.y=Je.y,Ve.deltaX=Je.x-Be.state.x,Ve.deltaY=Je.y-Be.state.y}var zt=Be.props.onDrag(at,Ve);if(zt===!1)return!1;Be.setState(Je)}),Ie(ve(Be),"onDragStop",function(at,nt){if(!Be.state.dragging)return!1;var Ve=Be.props.onStop(at,(0,a.createDraggableData)(ve(Be),nt));if(Ve===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",nt);var Je={dragging:!1,slackX:0,slackY:0},ct=!!Be.props.position;if(ct){var Fe=Be.props.position,Re=Fe.x,St=Fe.y;Je.x=Re,Je.y=St}Be.setState(Je)}),Be.state={dragging:!1,dragged:!1,x:Ge.position?Ge.position.x:Ge.defaultPosition.x,y:Ge.position?Ge.position.y:Ge.defaultPosition.y,prevPropsPosition:T({},Ge.position),slackX:0,slackY:0,isElementSVG:!1},Ge.position&&!(Ge.onDrag||Ge.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Be}return de(Oe,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Be,at,nt;return(Be=(at=this.props)===null||at===void 0||(nt=at.nodeRef)===null||nt===void 0?void 0:nt.current)!==null&&Be!==void 0?Be:i.default.findDOMNode(this)}},{key:"render",value:function(){var Be,at=this.props;at.axis,at.bounds;var nt=at.children,Ve=at.defaultPosition,Je=at.defaultClassName,ct=at.defaultClassNameDragging,Fe=at.defaultClassNameDragged,Re=at.position,St=at.positionOffset;at.scale;var Zt=P(at,v),Ot={},zt=null,Mr=!!Re,Vr=!Mr||this.state.dragging,pr=Re||Ve,Sr={x:(0,a.canDragX)(this)&&Vr?this.state.x:pr.x,y:(0,a.canDragY)(this)&&Vr?this.state.y:pr.y};this.state.isElementSVG?zt=(0,s.createSVGTransform)(Sr,St):Ot=(0,s.createCSSTransform)(Sr,St);var cr=(0,o.default)(nt.props.className||"",Je,(Be={},Ie(Be,ct,this.state.dragging),Ie(Be,Fe,this.state.dragged),Be));return r.createElement(h.default,w({},Zt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(nt),{className:cr,style:T(T({},nt.props.style),Ot),transform:zt}))}}],[{key:"getDerivedStateFromProps",value:function(Be,at){var nt=Be.position,Ve=at.prevPropsPosition;return nt&&(!Ve||nt.x!==Ve.x||nt.y!==Ve.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:nt,prevPropsPosition:Ve}),{x:nt.x,y:nt.y,prevPropsPosition:T({},nt)}):null}}]),Oe}(r.Component);e.default=Xe,Ie(Xe,"displayName","Draggable"),Ie(Xe,"propTypes",T(T({},h.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),Ie(Xe,"defaultProps",T(T({},h.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(Z7);var sq=Z7,lq=sq.default,ySe=sq.DraggableCore;w$.exports=lq;w$.exports.default=lq;w$.exports.DraggableCore=ySe;var T$={},vSe=nn;Object.defineProperty(T$,"__esModule",{value:!0});var cq=T$.default=void 0,_Se=vSe(on()),xSe=F,bSe=(0,_Se.default)((0,xSe.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");cq=T$.default=bSe;var k$={},wSe=nn;Object.defineProperty(k$,"__esModule",{value:!0});var uq=k$.default=void 0,SSe=wSe(on()),ESe=F,CSe=(0,SSe.default)((0,ESe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");uq=k$.default=CSe;var P$={},TSe=nn;Object.defineProperty(P$,"__esModule",{value:!0});var fq=P$.default=void 0,kSe=TSe(on()),PSe=F,ASe=(0,kSe.default)((0,PSe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");fq=P$.default=ASe;var A$={},MSe=nn;Object.defineProperty(A$,"__esModule",{value:!0});var pm=A$.default=void 0,OSe=MSe(on()),ISe=F,RSe=(0,OSe.default)((0,ISe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");pm=A$.default=RSe;var M$={},$Se=nn;Object.defineProperty(M$,"__esModule",{value:!0});var dq=M$.default=void 0,DSe=$Se(on()),LSe=F,zSe=(0,DSe.default)((0,LSe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");dq=M$.default=zSe;const NSe=({position:e,property:t,attribute:r})=>{const n=Ln(b=>b.devices.items[e.deviceId]),i=t||r,o=t?e[t]:e.attributes[r],s="m",a="m",d="km/s",h="ddm",g=!1,v=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return L7(o,"seconds",g);case"latitude":return J5("latitude",o,h);case"longitude":return J5("longitude",o,h);case"speed":return E1e(o,d);case"course":return b1e(o);case"altitude":return S1e(o,a);case"batteryLevel":return D7(o);case"alarm":return z7(o);case"odometer":case"distance":case"totalDistance":return w1e(o,s);case"hours":return C1e(o);default:return typeof o=="number"?x1e(o):typeof o=="boolean"?$7(o):o||""}};switch(i){case"image":case"video":case"audio":return F.jsx(Bfe,{href:`/api/media/${n.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return v()}},jSe=Lo(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),BSe=({open:e,endpoint:t,itemId:r,onResult:n})=>{const i=jSe(),o=async()=>{(await fetch(`/api/${t}/${r}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),n(!0)):n(!1)};return F.jsx(Dhe,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>n(!1),message:"confirmar para eliminar",action:F.jsx(Wn,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},hq=Lo(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),Sk=({name:e,content:t})=>{const r=hq();return F.jsxs(s1,{children:[F.jsx(Js,{className:r.card,children:F.jsx(ln,{variant:"body2",children:e})}),F.jsx(Js,{className:r.cell,children:F.jsx(ln,{variant:"body2",color:"textSecondary",children:t})})]})},FSe=({deviceId:e,position:t,onClose:r,disableActions:n,desktopPadding:i=0})=>{var I;const o=hq(),s=m_(),a=nc(),d=Ln(T=>T.devices.items[e]),h=(I=d==null?void 0:d.attributes)==null?void 0:I.deviceImage,g="speed,course,batteryLevel",[v,b]=W.useState(null),[M,A]=W.useState(!1),w=async(T,R)=>{console.log("send command "),console.log(T);try{const z=await fetch("/api/commands",{method:"POST",body:JSON.stringify({uav_id:T,description:R}),headers:{"Content-Type":"application/json"}});if(z.ok){let j=await z.json();console.log(j)}else throw console.log("Error1:"+z),Error(await z.text())}catch(z){console.log("Error2:"+z)}},P=async T=>{console.log("command mission "+T);try{const R=await fetch(`/api/commandmission/${T}`,{method:"POST",body:JSON.stringify({uav_id:T}),headers:{"Content-Type":"application/json"}});if(R.ok){let z=await R.json();z.state==="connect"&&notification("success",z.msg),z.state==="fail"&&notification("danger",z.msg),console.log(z)}else throw Error(await R.text())}catch{}},O=async T=>{if(T){const R=await fetch("/api/devices");if(R.ok){let z=await R.json();a(Lc.refresh(Object.values(z)))}else throw Error(await R.text())}A(!1)};return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:o.root,children:d&&F.jsxs(C_,{elevation:3,className:o.card,children:[h?F.jsx(vue,{className:o.media,image:`/api/media/${d.uniqueId}/${h}`,children:F.jsx(cn,{size:"small",onClick:r,onTouchStart:r,children:F.jsx(ih,{fontSize:"small",className:o.mediaButton})})}):F.jsxs("div",{className:o.header,children:[F.jsx(ln,{variant:"body2",color:"textSecondary",children:d.name}),F.jsx(cn,{size:"small",onClick:r,onTouchStart:r,children:F.jsx(ih,{fontSize:"small"})})]}),t&&F.jsx(uue,{className:o.content,children:F.jsx(mW,{size:"small",classes:{root:o.table},children:F.jsxs(gW,{children:[t.hasOwnProperty("latitude")&&F.jsx(Sk,{name:"Position",content:F.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(T=>t.hasOwnProperty(T)||t.attributes.hasOwnProperty(T)).map(T=>F.jsx(Sk,{name:T,content:F.jsx(NSe,{position:t,property:t.hasOwnProperty(T)?T:null,attribute:t.hasOwnProperty(T)?null:T})},T)),t.attributes.hasOwnProperty("alarm")&&F.jsx(Sk,{name:"Alarm "+t.attributes.alarm,content:F.jsxs("div",{style:{width:"100%"},children:[F.jsx(Wn,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>w(d.id,"threat"),children:"Validate"}),F.jsx(Wn,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},children:"Dismiss"})]})},"alarm1")]})})}),F.jsxs(iue,{classes:{root:o.actions},disableSpacing:!0,children:[F.jsx(cn,{color:"secondary",onClick:T=>b(T.currentTarget),disabled:!t,children:F.jsx(dq,{})}),F.jsx(cn,{onClick:()=>w(d.id,"sincronize"),children:F.jsx(cq,{})}),F.jsx(cn,{onClick:()=>P(d.id),disabled:n,children:F.jsx(uq,{})}),F.jsx(cn,{children:F.jsx(fq,{})}),F.jsx(cn,{onClick:()=>A(!0),className:o.negative,children:F.jsx(pm,{})})]})]})}),t&&F.jsxs(cW,{anchorEl:v,open:!!v,onClose:()=>b(null),children:[F.jsx(ma,{onClick:()=>s(`/device/${e}`),children:F.jsx(ln,{color:"secondary",children:"Detalle Dispositivo"})}),F.jsx(ma,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),F.jsx(ma,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),F.jsx(ma,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),F.jsx(BSe,{open:M,endpoint:"devices",itemId:e,onResult:T=>O(T)})]})};var O$={},USe=nn;Object.defineProperty(O$,"__esModule",{value:!0});var pq=O$.default=void 0,VSe=USe(on()),WSe=F,qSe=(0,VSe.default)((0,WSe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");pq=O$.default=qSe;var I$={},HSe=nn;Object.defineProperty(I$,"__esModule",{value:!0});var mq=I$.default=void 0,GSe=HSe(on()),YSe=F,KSe=(0,GSe.default)((0,YSe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");mq=I$.default=KSe;var R$={},ZSe=nn;Object.defineProperty(R$,"__esModule",{value:!0});var gq=R$.default=void 0,XSe=ZSe(on()),JSe=F,QSe=(0,XSe.default)((0,JSe.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");gq=R$.default=QSe;const e2e={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},t2e=({SetAddUAVOpen:e})=>F.jsxs(A2,{style:e2e,children:[F.jsx(cn,{edge:"start",children:F.jsx(mq,{})}),F.jsx(hR,{placeholder:"device",endAdornment:F.jsx(Efe,{position:"end",children:F.jsx(cn,{size:"small",edge:"end",children:F.jsx(Pce,{color:"info",variant:"dot",children:F.jsx(gq,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),F.jsx(cn,{edge:"end",onClick:()=>{e(!0)},children:F.jsx(kp,{children:F.jsx(pq,{})})})]}),r2e=Lo(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),n2e=({deviceId:e,deviceIp:t,camera_src:r,onClose:n})=>{const i=r2e();Ln(A=>A.data.camera[e]);const o=Ln(A=>A.devices.items[e]),s="http://"+t+":8889/"+r,[a,d]=W.useState(!1);let h=i.card,g=a?i.root_max:i.root,v=a?i.media1:i.media;function b(){d(!a)}W.useRef();function M(){n(),d(!1)}return W.useEffect(()=>{console.log("device in camera-"+o+"-"+t+"+"+r),e&&console.log("crear")},[e]),F.jsx("div",{className:g,children:o&&F.jsxs(C_,{elevation:3,className:h,children:[F.jsxs("div",{className:i.gruopBtn,children:[F.jsx(cn,{size:"small",onClick:b,onTouchStart:b,children:F.jsx(YR,{fontSize:"small",className:i.mediaButton})}),F.jsx(cn,{size:"small",onClick:M,children:F.jsx(ih,{fontSize:"small",className:i.mediaButton})})]}),F.jsx("div",{className:i.tittle,children:"Image "+o.name}),F.jsx("iframe",{src:s,className:v})]})})},i2e=Lo(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),o2e=()=>{const e=i2e(),t=nc(),r=Lf(),n=Ln(ae=>ae.devices.items),i=Ln(ae=>ae.data.positions),o=Ln(ae=>ae.data.camera),s=Ln(ae=>ae.devices.selectedId),[a,d]=W.useState([]),[h,g]=W.useState([]),[v,b]=W.useState(),[M,A]=W.useState(),[w,P]=W.useState(),O=a.find(ae=>s&&ae.deviceId===s),I=h.find(ae=>s&&ae.deviceId==s);let T=Object.values(n);const[R,z]=W.useState(!1),[j,V]=W.useState([]);let Z=null;const ie=(ae,de)=>{switch(ae){case"success":Z={id:j.length+1,title:"Success",description:de,backgroundColor:"#5cb85c"};break;case"danger":Z={id:j.length+1,title:"Danger",description:de,backgroundColor:"#d9534f"};break;case"info":Z={id:j.length+1,title:"Info",description:de,backgroundColor:"#5bc0de"};break;case"warning":Z={id:j.length+1,title:"Warning",description:de,backgroundColor:"#f0ad4e"};break;default:Z=[]}V([...j,Z])},ne=W.useCallback((ae,de)=>{t(Lc.selectId(de))},[t]);return W.useEffect(()=>{d(Object.values(i))},[i]),W.useEffect(()=>{g(Object.values(o))},[o]),W.useEffect(()=>{s?(b(n[s].ip),A(n[s].cameratype),P(n[s].camera_src)):(b(null),A(null))},[s]),F.jsx("div",{className:e.root,children:F.jsxs(M9,{notification:ie,children:[F.jsx(O9,{SetAddUAVOpen:z}),F.jsx(U9,{SetAddUAVOpen:z}),F.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:F.jsxs(NW,{children:[F.jsx(k1e,{}),F.jsx(T1e,{positions:a,onClick:ne,selectedPosition:O,showStatus:!0}),F.jsx(A1e,{})]})}),F.jsx("div",{className:e.sidebarStyle,children:F.jsx("div",{className:e.middleStyle,children:F.jsxs(tu,{square:!0,className:e.contentListStyle,children:[F.jsx(t2e,{SetAddUAVOpen:z}),F.jsx(Ewe,{devices:T})]})})}),R&&F.jsx(i0e,{SetAddUAVOpen:z}),F.jsx(FSe,{deviceId:s,position:O,onClose:()=>t(Lc.selectId(null)),desktopPadding:r.dimensions.drawerWidthDesktop}),M==="WebRTC"&&F.jsx(n2e,{deviceId:s,deviceIp:v,camera_src:w,onClose:()=>t(Lc.selectId(null))}),M==="Websocket"&&F.jsx(u0e,{deviceId:s,datacamera:I,onClose:()=>t(Lc.selectId(null))}),F.jsx(Jve,{toastlist:j,position:"buttom-right",setList:V})]})})};class a2e{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){console.log("init routes"),console.log(t),this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const s2e=()=>{const e=W.useId(),t=`${e}-points`,r=`${e}-points-clusters`,n=Ln(w=>w.mission.route);Ln(w=>w.mission.selectpoint);const i=!0,o=.6,s=nc(),[a,d]=W.useState(new a2e);let h=lt.getCanvasContainer();function g(w){let P=w.lngLat;h.style.cursor="grabbing",console.log("new position"+P.lng+"-"+P.lat);let O=a.getroute();console.log(O);let I=a.getSelectwp();I.id>=0&&(O[I.route_id].wp[I.id].pos[0]=w.lngLat.lat,O[I.route_id].wp[I.id].pos[1]=w.lngLat.lng);let T=A(O);lt.getSource(t).setData({type:"FeatureCollection",features:T.map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:b(O,R)}))}),lt.getSource(e).setData({type:"FeatureCollection",features:Object.values(O).map(R=>M(R))})}function v(w){var P=w.lngLat;h.style.cursor="";let O=a.getSelectwp();console.log(`Longitude: ${P.lng} Latitude: ${P.lat}`),s(Qu.updateWpPos({wp_id:O.id,route_id:O.route_id,lng:w.lngLat.lng,lat:w.lngLat.lat})),a.setSelecwp({id:-1}),lt.off("mousemove",g),lt.off("touchmove",g)}const b=(w,P)=>({id:P.id,route_id:P.routeid,name:w[P.routeid].name,uav:w[P.routeid].uav,latitude:w[P.routeid].wp[P.id].pos[0],longitude:w[P.routeid].wp[P.id].pos[1],altitud:w[P.routeid].wp[P.id].pos[2],yaw:w[P.routeid].wp[P.id].yaw,gimbal:w[P.routeid].wp[P.id].gimbal,actions:w[P.routeid].wp[P.id].action,attributes:w[P.routeid].attributes,category:"default",color:w[P.routeid].id});W.useEffect(()=>(console.log("render"),lt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),lt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),lt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),lt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":gf(lt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),lt.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":gf(lt),"text-size":14},paint:{"text-color":"white"}}),lt.addLayer({id:r,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":gf(lt),"text-size":14}}),lt.on("mouseenter","mission-points",function(){h.style.cursor="move"}),lt.on("mouseleave","mission-points",function(){h.style.cursor=""}),lt.on("mousedown","mission-points",function(w){w.preventDefault(),a.setSelecwp(w.features[0].properties),s(Qu.selectpoint(w.features[0].properties)),h.style.cursor="grab",lt.on("mousemove",g),lt.once("mouseup",v)}),lt.on("touchstart","mission-points",function(w){w.points.length===1&&(console.log("touch start"),w.preventDefault(),lt.on("touchmove",g),lt.once("touchend",v))}),lt.on("click",function(w){console.log("A click event has occurred at "+w.lngLat)}),()=>{lt.getLayer("mission-line")&&lt.removeLayer("mission-line"),lt.getLayer("mission-title")&&lt.removeLayer("mission-title"),lt.getLayer("mission-points")&&lt.removeLayer("mission-points"),lt.getLayer(r)&&lt.removeLayer(r),lt.getSource(e)&&lt.removeSource(e),lt.getSource(t)&&lt.removeSource(t)}),[]);function M(w){let P=Object.values(w.wp).map(function(O){return[O.pos[1],O.pos[0]]});return{id:w.id,type:"Feature",geometry:{type:"LineString",coordinates:P},properties:{name:w.uav,color:y0[w.id]}}}function A(w){let P=[];return Object.values(w).forEach(O=>{Object.keys(O.wp).forEach(I=>{P.push({longitude:O.wp[I].pos[1],latitude:O.wp[I].pos[0],id:I,routeid:O.id})})}),P}return W.useEffect(()=>{console.log("Mapmission upload mission"),a.initroute(n);let w=A(n);lt.getSource(t).setData({type:"FeatureCollection",features:w.map(P=>({type:"Feature",geometry:{type:"Point",coordinates:[P.longitude,P.latitude]},properties:b(n,P)}))}),lt.getSource(e).setData({type:"FeatureCollection",features:Object.values(n).map(P=>M(P))})},[n]),null},xp=({label:e,fullWidth:t,multiple:r,value:n,emptyValue:i=0,emptyTitle:o=" ",onChange:s,endpoint:a,data:d,keyGetter:h=v=>v.id,titleGetter:g=v=>v.name})=>{const[v,b]=W.useState(d);return M2(async()=>{if(a){const M=await fetch(a);if(M.ok)b(await M.json());else throw Error(await M.text())}},[]),v?F.jsxs(T0,{fullWidth:t,children:[F.jsx(k0,{children:e}),F.jsxs(P0,{label:e,multiple:r,value:n,onChange:s,children:[!r&&i!==null&&F.jsx(ma,{value:i,children:o}),v.map(M=>F.jsx(ma,{value:h(M),children:g(M)},h(M)))]})]}):null},l2e=Lo(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),c2e=({mission:e,setmission:t,setScrool:r})=>{const n=l2e(),i=Ln(he=>he.mission),o=Ln(he=>he.mission.selectpoint),s=nc(),[a,d]=W.useState(!1);W.useState(!0);const[h,g]=W.useState(!1),[v,b]=W.useState(!1),[M,A]=W.useState(!1),[w,P]=W.useState(!0),[O,I]=W.useState(!0),[T,R]=W.useState(0);W.useEffect(()=>{t(i),console.log("otro use effect"),i.route.length>0?P(!1):P(!0),d(!0)},[i]),W.useEffect(()=>{a&&(console.log("update mission"),console.log(e),s(Qu.reloadMission(e.route))),e.route.length>0?P(!1):P(!0)},[e]),W.useEffect(()=>{console.log(h),g("Rute "+o.route_id),b("wp "+o.id),r(500+o.route_id*50+o.id*50)},[o]);const z=()=>{let he={name:"new Mission",description:"",route:[]};he.route.push({name:"",uav:"",attributes:{},wp:[]}),t(he),P(!1),console.log("add new mission")},j=()=>{let he=[...e.route];he.push({name:"",uav:"",attributes:{},wp:[]}),t({...e,route:he}),console.log("add new route")},V=(he,ve)=>{console.log("add new wp"+he);let Se=JSON.parse(JSON.stringify(e.route)),ye=lt.getCenter();ve>0&&(ye.lat=(Se[he].wp[ve].pos[0]+Se[he].wp[ve-1].pos[0])/2,ye.lng=(Se[he].wp[ve].pos[1]+Se[he].wp[ve-1].pos[1])/2),ve<0?Se[he].wp.push({pos:[ye.lat,ye.lng,5],action:{}}):Se[he].wp.splice(ve,0,{pos:[ye.lat,ye.lng,5],action:{}}),t({...e,route:Se})};async function Z(he,ve){let Se;const ye=await fetch("/api/mission/actions/dji");if(ye.ok)Se=await ye.json();else throw Error(await ye.text());let Ie=Se.find(Ee=>Ee.id==T),Xe=JSON.parse(JSON.stringify(e.route));Xe[he].wp[ve].hasOwnProperty("action")||(Xe[he].wp[ve].action={}),Ie.param?Xe[he].wp[ve].action[Ie.name]=0:Xe[he].wp[ve].action[Ie.name]=!0,t({...e,route:Xe}),I(!0)}const ie=he=>{console.log("remove route"+he);let ve=[...e.route];console.log(ve),ve.splice(he,1),t({...e,route:ve})},ne=(he,ve)=>{console.log("remove wp"+he+"-"+ve);let Se=[...e.route],ye=[...e.route[he].wp];ye.splice(ve,1);let Ie={...Se[he],wp:ye};Se[he]=Ie,t({...e,route:Se})},ae=(he,ve,Se)=>{console.log("remove action"+he+"-"+ve+"-"+Se);let ye=JSON.parse(JSON.stringify(e.route));delete ye[he].wp[ve].action[Se],t({...e,route:ye})},de=he=>(ve,Se)=>{g(Se?he:!1)},pe=he=>(ve,Se)=>{b(Se?he:!1)},Pe=he=>(ve,Se)=>{A(Se?he:!1)},be=he=>(ve,Se)=>{I(!1)};return F.jsx(W.Fragment,{children:w?F.jsx(Bu,{textAlign:"center",children:F.jsx(Wn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:z,children:"Create New Mission"})}):F.jsx(W.Fragment,{children:F.jsxs(Bu,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[F.jsx(da,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:he=>t({...e,name:he.target.value})}),F.jsx(da,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:he=>t({...e,description:he.target.value})}),qe.Children.toArray(Object.values(e.route).map((he,ve,Se)=>F.jsxs(W.Fragment,{children:[F.jsxs(mv,{expanded:h==="Rute "+ve,onChange:de("Rute "+ve),children:[F.jsxs(yv,{expandIcon:F.jsx(Gp,{}),children:[F.jsx(ln,{sx:{width:"33%",flexShrink:0,color:y0[ve]},children:"Rute "+ve}),F.jsx(ln,{sx:{color:"text.secondary"},children:he.name+"- "+he.uav}),F.jsx(cn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>ie(ve),children:F.jsx(pm,{})})]}),F.jsxs(gv,{className:n.details,children:[F.jsx(da,{required:!0,label:"Route Name",variant:"standard",value:he.name?he.name:"",onChange:ye=>t({...e,route:e.route.map(Ie=>Ie==e.route[ve]?{...he,name:ye.target.value}:Ie)})}),F.jsx(da,{required:!0,label:"UAV id",variant:"standard",value:he.uav?he.uav:"uav_",onChange:ye=>t({...e,route:e.route.map(Ie=>Ie==e.route[ve]?{...he,uav:ye.target.value}:Ie)})}),F.jsx(xp,{emptyValue:null,value:he.uav_type?he.uav_type:"",onChange:ye=>t({...e,route:e.route.map(Ie=>Ie==e.route[ve]?{...he,uav_type:ye.target.value}:Ie)}),endpoint:"/api/devices/type",keyGetter:ye=>ye,titleGetter:ye=>ye,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),F.jsxs(mv,{expanded:v==="wp -1",onChange:pe("wp -1"),children:[F.jsx(yv,{expandIcon:F.jsx(Gp,{}),children:F.jsxs(ln,{sx:{width:"53%",flexShrink:0},children:[" ","Route Attributes"]})}),F.jsx(gv,{className:n.details,children:he.attributes&&F.jsxs(W.Fragment,{children:[F.jsxs("div",{children:[F.jsxs(ln,{variant:"subtitle1",className:n.attributeName,children:["Speed idle:"," "]}),F.jsx(da,{fullWidth:!0,required:!0,type:"number",className:n.attributeValue,value:he.attributes.idle_vel?he.attributes.idle_vel:1.85,onChange:ye=>t({...e,route:e.route.map(Ie=>{let Xe=JSON.parse(JSON.stringify(Ie));return Ie==e.route[ve]?Xe.attributes.idle_vel=+ye.target.value:Xe=Ie,Xe})})})]}),F.jsxs("div",{children:[F.jsx(ln,{variant:"subtitle1",className:n.attributeName,children:"landing mode"}),F.jsx("div",{className:n.attributeValue,children:F.jsx(xp,{emptyValue:null,fullWidth:!0,value:he.attributes.mode_landing?he.attributes.mode_landing:0,onChange:ye=>t({...e,route:e.route.map(Ie=>{let Xe=JSON.parse(JSON.stringify(Ie));return Ie===e.route[ve]?Xe.attributes.mode_landing=ye.target.value:Xe=Ie,Xe})}),endpoint:"/api/mission/atributesparam/dji/mode_landing",keyGetter:ye=>ye.id,titleGetter:ye=>ye.name})})]}),F.jsxs("div",{children:[F.jsx(ln,{variant:"subtitle1",className:n.attributeName,children:"Yaw mode"}),F.jsx("div",{className:n.attributeValue,children:F.jsx(xp,{emptyValue:null,fullWidth:!0,value:he.attributes.mode_yaw?he.attributes.mode_yaw:0,onChange:ye=>t({...e,route:e.route.map(Ie=>{let Xe=JSON.parse(JSON.stringify(Ie));return Ie===e.route[ve]?Xe.attributes.mode_yaw=ye.target.value:Xe=Ie,Xe})}),endpoint:"/api/mission/atributesparam/dji/mode_yaw",keyGetter:ye=>ye.id,titleGetter:ye=>ye.name})})]}),F.jsxs("div",{children:[F.jsxs(ln,{variant:"subtitle1",className:n.attributeName,children:[" ","Gimbal mode"," "]}),F.jsx("div",{className:n.attributeValue,children:F.jsx(xp,{emptyValue:null,fullWidth:!0,value:he.attributes.mode_gimbal?he.attributes.mode_gimbal:0,onChange:ye=>t({...e,route:e.route.map(Ie=>{let Xe=JSON.parse(JSON.stringify(Ie));return Ie===e.route[ve]?Xe.attributes.mode_gimbal=ye.target.value:Xe=Ie,Xe})}),endpoint:"/api/mission/atributesparam/dji/mode_gimbal",keyGetter:ye=>ye.id,titleGetter:ye=>ye.name})})]}),F.jsxs("div",{children:[F.jsxs(ln,{variant:"subtitle1",className:n.attributeName,children:[" ","Trace mode:"," "]}),F.jsx("div",{className:n.attributeValue,children:F.jsx(xp,{emptyValue:null,fullWidth:!0,value:he.attributes.mode_trace?he.attributes.mode_trace:0,onChange:ye=>t({...e,route:e.route.map(Ie=>{let Xe=JSON.parse(JSON.stringify(Ie));return Ie===e.route[ve]?Xe.attributes.mode_trace=ye.target.value:Xe=Ie,Xe})}),endpoint:"/api/mission/atributesparam/dji/mode_trace",keyGetter:ye=>ye.id,titleGetter:ye=>ye.name})})]})]},"fragment-route-atri-"+he.id)})]}),F.jsx(ln,{variant:"subtitle1",children:"Waypoints"}),qe.Children.toArray(Object.values(he.wp).map((ye,Ie,Xe)=>F.jsxs(mv,{expanded:v==="wp "+Ie,onChange:pe("wp "+Ie),children:[F.jsxs(yv,{expandIcon:F.jsx(Gp,{}),children:[F.jsx(ln,{sx:{width:"33%",flexShrink:0},children:"WP "+Ie}),F.jsx(cn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>ne(ve,Ie),children:F.jsx(pm,{})})]}),F.jsxs(gv,{className:n.details,children:[F.jsxs(Bu,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[F.jsx("div",{children:F.jsx(ln,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),F.jsx(da,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:ye.pos?ye.pos[0]:0,onChange:Ee=>t({...e,route:e.route.map(De=>{let Oe=JSON.parse(JSON.stringify(De));return De==e.route[ve]?Oe.wp[Ie].pos[0]=+Ee.target.value:Oe=De,Oe})})}),F.jsx(da,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:ye.pos?ye.pos[1]:0,onChange:Ee=>t({...e,route:e.route.map(De=>{let Oe=JSON.parse(JSON.stringify(De));return De==e.route[ve]?Oe.wp[Ie].pos[1]=+Ee.target.value:Oe=De,Oe})})}),F.jsx(da,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:ye.pos?ye.pos[2]:0,onChange:Ee=>t({...e,route:e.route.map(De=>{let Oe=JSON.parse(JSON.stringify(De));return De==e.route[ve]?Oe.wp[Ie].pos[2]=+Ee.target.value:Oe=De,Oe})})})]}),F.jsx(da,{required:!0,label:"YAW ",type:"number",variant:"standard",value:ye.yaw?ye.yaw:0,onChange:Ee=>t({...e,route:e.route.map(De=>{let Oe=JSON.parse(JSON.stringify(De));return De==e.route[ve]?Oe.wp[Ie].yaw=+Ee.target.value:Oe=De,Oe})})}),F.jsx(da,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:ye.gimbal?ye.gimbal:0,onChange:Ee=>t({...e,route:e.route.map(De=>{let Oe=JSON.parse(JSON.stringify(De));return De==e.route[ve]?Oe.wp[Ie].gimbal=+Ee.target.value:Oe=De,Oe})})}),F.jsxs(mv,{expanded:M==="wp "+Ie,onChange:Pe("wp "+Ie),children:[F.jsx(yv,{expandIcon:F.jsx(Gp,{}),children:F.jsx(ln,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),F.jsxs(gv,{className:n.details,children:[ye.action&&qe.Children.toArray(Object.keys(ye.action).map((Ee,De,Oe)=>F.jsxs(W.Fragment,{children:[F.jsxs("div",{children:[F.jsx(ln,{variant:"subtitle1",className:n.attributeName,children:Ee}),F.jsx("div",{className:n.actionValue,children:F.jsx(da,{required:!0,fullWidth:!0,value:ye.action[Ee]?ye.action[Ee]:0,onChange:Ge=>t({...e,route:e.route.map(Be=>{let at=JSON.parse(JSON.stringify(Be));return Be==e.route[ve]?at.wp[Ie].action[Ee]=Ge.target.value:at=Be,at})})})}),F.jsx(cn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>ae(ve,Ie,Ee),className:n.negative,children:F.jsx(pm,{})})]}),F.jsx(J3,{})]},"fragment-action-"+De))),F.jsx(Bu,{textAlign:"center",children:O?F.jsx(Wn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:be(),children:"Add new action"}):F.jsxs("div",{children:[F.jsx(ln,{variant:"subtitle1",children:"Tipo de acccion a añadir"}),F.jsx(xp,{emptyValue:null,fullWidth:!0,value:T,onChange:Ee=>R(Ee.target.value),endpoint:"/api/mission/actions/dji",keyGetter:Ee=>Ee.id,titleGetter:Ee=>Ee.description}),F.jsxs("div",{children:[F.jsx(Wn,{onClick:()=>I(!0),children:"Cancel"}),F.jsx(Wn,{onClick:()=>Z(ve,Ie),children:"Add"})]})]})})]})]}),F.jsx(Bu,{textAlign:"center",children:F.jsx(Wn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>V(ve,Ie),children:"Add new Waypoint"})})]})]}))),F.jsx(Bu,{textAlign:"center",children:F.jsx(Wn,{value:ve,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:ye=>V(ye.target.value,-1),children:"Add new Waypoint"})})]})]}),ve<Se.length-1?F.jsx(J3,{}):null]},"fragment-route-"+ve))),F.jsx(Bu,{textAlign:"center",children:F.jsx(Wn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:j,children:"Add new Route"})})]})})})};var $$={},u2e=nn;Object.defineProperty($$,"__esModule",{value:!0});var D$=$$.default=void 0,f2e=u2e(on()),d2e=F,h2e=(0,f2e.default)((0,d2e.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");D$=$$.default=h2e;var L$={},p2e=nn;Object.defineProperty(L$,"__esModule",{value:!0});var yq=L$.default=void 0,m2e=p2e(on()),g2e=F,y2e=(0,m2e.default)((0,g2e.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");yq=L$.default=y2e;var z$={},v2e=nn;Object.defineProperty(z$,"__esModule",{value:!0});var vq=z$.default=void 0,_2e=v2e(on()),x2e=F,b2e=(0,_2e.default)((0,x2e.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");vq=z$.default=b2e;const w2e=Lo(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),S2e=()=>{const e=w2e(),t=m_(),r=W.useContext(jm),n=W.useRef(null),[i,o]=W.useState({name:"no mission",description:"",route:[]}),s=g=>{console.log("scrool"+g),n.current.scroll&&setTimeout(()=>{n.current.scroll(0,g)},1e3)},a=g=>{const v=g.target.files[0];if(!v)return;const b=new FileReader;b.readAsText(v),b.onload=()=>{console.log(b.result),console.log(v.name),r.openMision(v.name,b.result)},b.onerror=()=>{console.log(b.error)}},d=()=>{o({name:"no mission",description:"",route:[]})},h=()=>{const g=YAML.stringify(i),v=new Blob([g],{type:"text/plain"}),b=URL.createObjectURL(v),M=document.createElement("a");M.download="mission-"+i.name+".yaml",M.href=b,M.click()};return F.jsxs(W.Fragment,{children:[F.jsxs(A2,{className:e.toolbar,children:[F.jsx(cn,{edge:"start",sx:{mr:2},onClick:()=>t(-1),children:F.jsx(D$,{})}),F.jsx(ln,{variant:"h6",className:e.title,children:"Mission Task"}),F.jsx(cn,{onClick:h,children:F.jsx(vq,{})}),F.jsx(cn,{onClick:d,children:F.jsx(pm,{})}),F.jsxs("label",{htmlFor:"upload-gpx",children:[F.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:a}),F.jsx(cn,{edge:"end",component:"span",onClick:()=>{},children:F.jsx(yq,{})})]})]}),F.jsx("div",{ref:n,className:e.list,children:F.jsx(c2e,{mission:i,setmission:o,setScrool:s})})]})};var _q={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var d in o)t.call(o,d)&&o[d]&&n.push(d)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(_q);var E2e=_q.exports;const _n=Kr(E2e);function C2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jf=C2e;const xg=Kr(jf);var T2e=typeof lv=="object"&&lv&&lv.Object===Object&&lv,xq=T2e,k2e=xq,P2e=typeof self=="object"&&self&&self.Object===Object&&self,A2e=k2e||P2e||Function("return this")(),lc=A2e,M2e=lc,O2e=M2e.Symbol,$_=O2e,mj=$_,bq=Object.prototype,I2e=bq.hasOwnProperty,R2e=bq.toString,Jy=mj?mj.toStringTag:void 0;function $2e(e){var t=I2e.call(e,Jy),r=e[Jy];try{e[Jy]=void 0;var n=!0}catch{}var i=R2e.call(e);return n&&(t?e[Jy]=r:delete e[Jy]),i}var D2e=$2e,L2e=Object.prototype,z2e=L2e.toString;function N2e(e){return z2e.call(e)}var j2e=N2e,gj=$_,B2e=D2e,F2e=j2e,U2e="[object Null]",V2e="[object Undefined]",yj=gj?gj.toStringTag:void 0;function W2e(e){return e==null?e===void 0?V2e:U2e:yj&&yj in Object(e)?B2e(e):F2e(e)}var Bf=W2e,q2e=Bf,H2e=jf,G2e="[object AsyncFunction]",Y2e="[object Function]",K2e="[object GeneratorFunction]",Z2e="[object Proxy]";function X2e(e){if(!H2e(e))return!1;var t=q2e(e);return t==Y2e||t==K2e||t==G2e||t==Z2e}var N$=X2e;const hr=Kr(N$);var J2e=Array.isArray,oa=J2e;const co=Kr(oa);function Q2e(e){return e!=null&&typeof e=="object"}var Ff=Q2e,eEe=Bf,tEe=oa,rEe=Ff,nEe="[object String]";function iEe(e){return typeof e=="string"||!tEe(e)&&rEe(e)&&eEe(e)==nEe}var oEe=iEe;const D_=Kr(oEe);var aEe=Bf,sEe=Ff,lEe="[object Symbol]";function cEe(e){return typeof e=="symbol"||sEe(e)&&aEe(e)==lEe}var bg=cEe,uEe=oa,fEe=bg,dEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hEe=/^\w*$/;function pEe(e,t){if(uEe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||fEe(e)?!0:hEe.test(e)||!dEe.test(e)||t!=null&&e in Object(t)}var j$=pEe,mEe=lc,gEe=mEe["__core-js_shared__"],yEe=gEe,Ek=yEe,vj=function(){var e=/[^.]+$/.exec(Ek&&Ek.keys&&Ek.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vEe(e){return!!vj&&vj in e}var _Ee=vEe,xEe=Function.prototype,bEe=xEe.toString;function wEe(e){if(e!=null){try{return bEe.call(e)}catch{}try{return e+""}catch{}}return""}var wq=wEe,SEe=N$,EEe=_Ee,CEe=jf,TEe=wq,kEe=/[\\^$.*+?()[\]{}|]/g,PEe=/^\[object .+?Constructor\]$/,AEe=Function.prototype,MEe=Object.prototype,OEe=AEe.toString,IEe=MEe.hasOwnProperty,REe=RegExp("^"+OEe.call(IEe).replace(kEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Ee(e){if(!CEe(e)||EEe(e))return!1;var t=SEe(e)?REe:PEe;return t.test(TEe(e))}var DEe=$Ee;function LEe(e,t){return e==null?void 0:e[t]}var zEe=LEe,NEe=DEe,jEe=zEe;function BEe(e,t){var r=jEe(e,t);return NEe(r)?r:void 0}var ph=BEe,FEe=ph,UEe=FEe(Object,"create"),cE=UEe,_j=cE;function VEe(){this.__data__=_j?_j(null):{},this.size=0}var WEe=VEe;function qEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HEe=qEe,GEe=cE,YEe="__lodash_hash_undefined__",KEe=Object.prototype,ZEe=KEe.hasOwnProperty;function XEe(e){var t=this.__data__;if(GEe){var r=t[e];return r===YEe?void 0:r}return ZEe.call(t,e)?t[e]:void 0}var JEe=XEe,QEe=cE,eCe=Object.prototype,tCe=eCe.hasOwnProperty;function rCe(e){var t=this.__data__;return QEe?t[e]!==void 0:tCe.call(t,e)}var nCe=rCe,iCe=cE,oCe="__lodash_hash_undefined__";function aCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=iCe&&t===void 0?oCe:t,this}var sCe=aCe,lCe=WEe,cCe=HEe,uCe=JEe,fCe=nCe,dCe=sCe;function wg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wg.prototype.clear=lCe;wg.prototype.delete=cCe;wg.prototype.get=uCe;wg.prototype.has=fCe;wg.prototype.set=dCe;var hCe=wg;function pCe(){this.__data__=[],this.size=0}var mCe=pCe;function gCe(e,t){return e===t||e!==e&&t!==t}var B$=gCe,yCe=B$;function vCe(e,t){for(var r=e.length;r--;)if(yCe(e[r][0],t))return r;return-1}var uE=vCe,_Ce=uE,xCe=Array.prototype,bCe=xCe.splice;function wCe(e){var t=this.__data__,r=_Ce(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bCe.call(t,r,1),--this.size,!0}var SCe=wCe,ECe=uE;function CCe(e){var t=this.__data__,r=ECe(t,e);return r<0?void 0:t[r][1]}var TCe=CCe,kCe=uE;function PCe(e){return kCe(this.__data__,e)>-1}var ACe=PCe,MCe=uE;function OCe(e,t){var r=this.__data__,n=MCe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ICe=OCe,RCe=mCe,$Ce=SCe,DCe=TCe,LCe=ACe,zCe=ICe;function Sg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sg.prototype.clear=RCe;Sg.prototype.delete=$Ce;Sg.prototype.get=DCe;Sg.prototype.has=LCe;Sg.prototype.set=zCe;var fE=Sg,NCe=ph,jCe=lc,BCe=NCe(jCe,"Map"),F$=BCe,xj=hCe,FCe=fE,UCe=F$;function VCe(){this.size=0,this.__data__={hash:new xj,map:new(UCe||FCe),string:new xj}}var WCe=VCe;function qCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HCe=qCe,GCe=HCe;function YCe(e,t){var r=e.__data__;return GCe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var dE=YCe,KCe=dE;function ZCe(e){var t=KCe(this,e).delete(e);return this.size-=t?1:0,t}var XCe=ZCe,JCe=dE;function QCe(e){return JCe(this,e).get(e)}var eTe=QCe,tTe=dE;function rTe(e){return tTe(this,e).has(e)}var nTe=rTe,iTe=dE;function oTe(e,t){var r=iTe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var aTe=oTe,sTe=WCe,lTe=XCe,cTe=eTe,uTe=nTe,fTe=aTe;function Eg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Eg.prototype.clear=sTe;Eg.prototype.delete=lTe;Eg.prototype.get=cTe;Eg.prototype.has=uTe;Eg.prototype.set=fTe;var U$=Eg,Sq=U$,dTe="Expected a function";function V$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dTe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(V$.Cache||Sq),r}V$.Cache=Sq;var hTe=V$,pTe=hTe,mTe=500;function gTe(e){var t=pTe(e,function(n){return r.size===mTe&&r.clear(),n}),r=t.cache;return t}var yTe=gTe,vTe=yTe,_Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xTe=/\\(\\)?/g,bTe=vTe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_Te,function(r,n,i,o){t.push(i?o.replace(xTe,"$1"):n||r)}),t}),wTe=bTe;function STe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var W$=STe,bj=$_,ETe=W$,CTe=oa,TTe=bg,kTe=1/0,wj=bj?bj.prototype:void 0,Sj=wj?wj.toString:void 0;function Eq(e){if(typeof e=="string")return e;if(CTe(e))return ETe(e,Eq)+"";if(TTe(e))return Sj?Sj.call(e):"";var t=e+"";return t=="0"&&1/e==-kTe?"-0":t}var PTe=Eq,ATe=PTe;function MTe(e){return e==null?"":ATe(e)}var Cq=MTe,OTe=oa,ITe=j$,RTe=wTe,$Te=Cq;function DTe(e,t){return OTe(e)?e:ITe(e,t)?[e]:RTe($Te(e))}var Tq=DTe,LTe=bg,zTe=1/0;function NTe(e){if(typeof e=="string"||LTe(e))return e;var t=e+"";return t=="0"&&1/e==-zTe?"-0":t}var hE=NTe,jTe=Tq,BTe=hE;function FTe(e,t){t=jTe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BTe(t[r++])];return r&&r==n?e:void 0}var q$=FTe,UTe=q$;function VTe(e,t,r){var n=e==null?void 0:UTe(e,t);return n===void 0?r:n}var kq=VTe;const Es=Kr(kq);function WTe(e){return e==null}var qTe=WTe;const fr=Kr(qTe);var HTe=Bf,GTe=Ff,YTe="[object Number]";function KTe(e){return typeof e=="number"||GTe(e)&&HTe(e)==YTe}var Pq=KTe;const ZTe=Kr(Pq);var XTe=Pq;function JTe(e){return XTe(e)&&e!=+e}var QTe=JTe;const L_=Kr(QTe);var vs=function(t){return t===0?0:t>0?1:-1},$d=function(t){return D_(t)&&t.indexOf("%")===t.length-1},Mt=function(t){return ZTe(t)&&!L_(t)},zi=function(t){return Mt(t)||D_(t)},eke=0,z_=function(t){var r=++eke;return"".concat(t||"").concat(r)},Bm=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mt(t)&&!D_(t))return n;var o;if($d(t)){var s=t.indexOf("%");o=r*parseFloat(t.slice(0,s))/100}else o=+t;return L_(o)&&(o=n),i&&o>r&&(o=r),o},Uu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},tke=function(t){if(!co(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ol=function(t,r){return Mt(t)&&Mt(r)?function(n){return t+n*(r-t)}:function(){return r}};function vw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Es(n,t))===r})}function mm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function KA(e){"@babel/helpers - typeof";return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KA(e)}var rke=["viewBox","children"],nke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ej=["points","pathLength"],Ck={svg:rke,polygon:Ej,polyline:Ej},H$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_w=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(W.isValidElement(t)&&(n=t.props),!xg(n))return null;var i={};return Object.keys(n).forEach(function(o){H$.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},ike=function(t,r,n){return function(i){return t(r,n,i),null}},xw=function(t,r,n){if(!xg(t)||KA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];H$.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=ike(s,r,n))}),i},oke=["children"],ake=["children"];function Cj(e,t){if(e==null)return{};var r=ske(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ske(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ZA(e){"@babel/helpers - typeof";return ZA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZA(e)}var Tj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},bf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},kj=null,Tk=null,G$=function e(t){if(t===kj&&co(Tk))return Tk;var r=[];return W.Children.forEach(t,function(n){fr(n)||(T8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Tk=r,kj=t,r};function Cs(e,t){var r=[],n=[];return co(t)?n=t.map(function(i){return bf(i)}):n=[bf(t)],G$(e).forEach(function(i){var o=Es(i,"type.displayName")||Es(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Bc(e,t){var r=Cs(e,t);return r&&r[0]}var Pj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Mt(n)||n<=0||!Mt(i)||i<=0)},lke=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cke=function(t){return t&&t.type&&D_(t.type)&&lke.indexOf(t.type)>=0},uke=function(t){return t&&ZA(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},fke=function(t,r,n,i){var o,s=(o=Ck==null?void 0:Ck[i])!==null&&o!==void 0?o:[];return!hr(t)&&(i&&s.includes(r)||nke.includes(r))||n&&H$.includes(r)},Ur=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(W.isValidElement(t)&&(i=t.props),!xg(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;fke((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},Aq=function e(t,r){if(t===r)return!0;var n=W.Children.count(t);if(n!==W.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Aj(co(t)?t[0]:t,co(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],s=r[i];if(co(o)||co(s)){if(!e(o,s))return!1}else if(!Aj(o,s))return!1}return!0},Aj=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},i=n.children,o=Cj(n,oke),s=r.props||{},a=s.children,d=Cj(s,ake);return i&&a?mm(o,d)&&Aq(i,a):!i&&!a?mm(o,d):!1}return!1},Mj=function(t,r){var n=[],i={};return G$(t).forEach(function(o,s){if(cke(o))n.push(o);else if(o){var a=bf(o.type),d=r[a]||{},h=d.handler,g=d.once;if(h&&(!g||!i[a])){var v=h(o,a,s);n.push(v),i[a]=!0}}}),n},dke=function(t){var r=t&&t.type;return r&&Tj[r]?Tj[r]:null},hke=function(t,r){return G$(r).indexOf(t)},pke=["children","width","height","viewBox","className","style"];function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XA.apply(this,arguments)}function mke(e,t){if(e==null)return{};var r=gke(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gke(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function JA(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,s=e.style,a=mke(e,pke),d=i||{width:r,height:n,x:0,y:0},h=_n("recharts-surface",o);return qe.createElement("svg",XA({},Ur(a,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),qe.createElement("title",null,e.title),qe.createElement("desc",null,e.desc),t)}var yke=["children","className"];function QA(){return QA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QA.apply(this,arguments)}function vke(e,t){if(e==null)return{};var r=_ke(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ke(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Oi=qe.forwardRef(function(e,t){var r=e.children,n=e.className,i=vke(e,yke),o=_n("recharts-layer",n);return qe.createElement("g",QA({className:o},Ur(i,!0),{ref:t}),r)}),xke=fE;function bke(){this.__data__=new xke,this.size=0}var wke=bke;function Ske(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Eke=Ske;function Cke(e){return this.__data__.get(e)}var Tke=Cke;function kke(e){return this.__data__.has(e)}var Pke=kke,Ake=fE,Mke=F$,Oke=U$,Ike=200;function Rke(e,t){var r=this.__data__;if(r instanceof Ake){var n=r.__data__;if(!Mke||n.length<Ike-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Oke(n)}return r.set(e,t),this.size=r.size,this}var $ke=Rke,Dke=fE,Lke=wke,zke=Eke,Nke=Tke,jke=Pke,Bke=$ke;function Cg(e){var t=this.__data__=new Dke(e);this.size=t.size}Cg.prototype.clear=Lke;Cg.prototype.delete=zke;Cg.prototype.get=Nke;Cg.prototype.has=jke;Cg.prototype.set=Bke;var Mq=Cg,Fke="__lodash_hash_undefined__";function Uke(e){return this.__data__.set(e,Fke),this}var Vke=Uke;function Wke(e){return this.__data__.has(e)}var qke=Wke,Hke=U$,Gke=Vke,Yke=qke;function bw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Hke;++t<r;)this.add(e[t])}bw.prototype.add=bw.prototype.push=Gke;bw.prototype.has=Yke;var Oq=bw;function Kke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Iq=Kke;function Zke(e,t){return e.has(t)}var Rq=Zke,Xke=Oq,Jke=Iq,Qke=Rq,ePe=1,tPe=2;function rPe(e,t,r,n,i,o){var s=r&ePe,a=e.length,d=t.length;if(a!=d&&!(s&&d>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var v=-1,b=!0,M=r&tPe?new Xke:void 0;for(o.set(e,t),o.set(t,e);++v<a;){var A=e[v],w=t[v];if(n)var P=s?n(w,A,v,t,e,o):n(A,w,v,e,t,o);if(P!==void 0){if(P)continue;b=!1;break}if(M){if(!Jke(t,function(O,I){if(!Qke(M,I)&&(A===O||i(A,O,r,n,o)))return M.push(I)})){b=!1;break}}else if(!(A===w||i(A,w,r,n,o))){b=!1;break}}return o.delete(e),o.delete(t),b}var $q=rPe,nPe=lc,iPe=nPe.Uint8Array,oPe=iPe;function aPe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var sPe=aPe;function lPe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Y$=lPe,Oj=$_,Ij=oPe,cPe=B$,uPe=$q,fPe=sPe,dPe=Y$,hPe=1,pPe=2,mPe="[object Boolean]",gPe="[object Date]",yPe="[object Error]",vPe="[object Map]",_Pe="[object Number]",xPe="[object RegExp]",bPe="[object Set]",wPe="[object String]",SPe="[object Symbol]",EPe="[object ArrayBuffer]",CPe="[object DataView]",Rj=Oj?Oj.prototype:void 0,kk=Rj?Rj.valueOf:void 0;function TPe(e,t,r,n,i,o,s){switch(r){case CPe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case EPe:return!(e.byteLength!=t.byteLength||!o(new Ij(e),new Ij(t)));case mPe:case gPe:case _Pe:return cPe(+e,+t);case yPe:return e.name==t.name&&e.message==t.message;case xPe:case wPe:return e==t+"";case vPe:var a=fPe;case bPe:var d=n&hPe;if(a||(a=dPe),e.size!=t.size&&!d)return!1;var h=s.get(e);if(h)return h==t;n|=pPe,s.set(e,t);var g=uPe(a(e),a(t),n,i,o,s);return s.delete(e),g;case SPe:if(kk)return kk.call(e)==kk.call(t)}return!1}var kPe=TPe;function PPe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Dq=PPe,APe=Dq,MPe=oa;function OPe(e,t,r){var n=t(e);return MPe(e)?n:APe(n,r(e))}var IPe=OPe;function RPe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var $Pe=RPe;function DPe(){return[]}var LPe=DPe,zPe=$Pe,NPe=LPe,jPe=Object.prototype,BPe=jPe.propertyIsEnumerable,$j=Object.getOwnPropertySymbols,FPe=$j?function(e){return e==null?[]:(e=Object(e),zPe($j(e),function(t){return BPe.call(e,t)}))}:NPe,UPe=FPe;function VPe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var WPe=VPe,qPe=Bf,HPe=Ff,GPe="[object Arguments]";function YPe(e){return HPe(e)&&qPe(e)==GPe}var KPe=YPe,Dj=KPe,ZPe=Ff,Lq=Object.prototype,XPe=Lq.hasOwnProperty,JPe=Lq.propertyIsEnumerable,QPe=Dj(function(){return arguments}())?Dj:function(e){return ZPe(e)&&XPe.call(e,"callee")&&!JPe.call(e,"callee")},K$=QPe,ww={exports:{}};function eAe(){return!1}var tAe=eAe;ww.exports;(function(e,t){var r=lc,n=tAe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?r.Buffer:void 0,d=a?a.isBuffer:void 0,h=d||n;e.exports=h})(ww,ww.exports);var zq=ww.exports,rAe=9007199254740991,nAe=/^(?:0|[1-9]\d*)$/;function iAe(e,t){var r=typeof e;return t=t??rAe,!!t&&(r=="number"||r!="symbol"&&nAe.test(e))&&e>-1&&e%1==0&&e<t}var Z$=iAe,oAe=9007199254740991;function aAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oAe}var X$=aAe,sAe=Bf,lAe=X$,cAe=Ff,uAe="[object Arguments]",fAe="[object Array]",dAe="[object Boolean]",hAe="[object Date]",pAe="[object Error]",mAe="[object Function]",gAe="[object Map]",yAe="[object Number]",vAe="[object Object]",_Ae="[object RegExp]",xAe="[object Set]",bAe="[object String]",wAe="[object WeakMap]",SAe="[object ArrayBuffer]",EAe="[object DataView]",CAe="[object Float32Array]",TAe="[object Float64Array]",kAe="[object Int8Array]",PAe="[object Int16Array]",AAe="[object Int32Array]",MAe="[object Uint8Array]",OAe="[object Uint8ClampedArray]",IAe="[object Uint16Array]",RAe="[object Uint32Array]",Rn={};Rn[CAe]=Rn[TAe]=Rn[kAe]=Rn[PAe]=Rn[AAe]=Rn[MAe]=Rn[OAe]=Rn[IAe]=Rn[RAe]=!0;Rn[uAe]=Rn[fAe]=Rn[SAe]=Rn[dAe]=Rn[EAe]=Rn[hAe]=Rn[pAe]=Rn[mAe]=Rn[gAe]=Rn[yAe]=Rn[vAe]=Rn[_Ae]=Rn[xAe]=Rn[bAe]=Rn[wAe]=!1;function $Ae(e){return cAe(e)&&lAe(e.length)&&!!Rn[sAe(e)]}var DAe=$Ae;function LAe(e){return function(t){return e(t)}}var Nq=LAe,Sw={exports:{}};Sw.exports;(function(e,t){var r=xq,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(Sw,Sw.exports);var zAe=Sw.exports,NAe=DAe,jAe=Nq,Lj=zAe,zj=Lj&&Lj.isTypedArray,BAe=zj?jAe(zj):NAe,jq=BAe,FAe=WPe,UAe=K$,VAe=oa,WAe=zq,qAe=Z$,HAe=jq,GAe=Object.prototype,YAe=GAe.hasOwnProperty;function KAe(e,t){var r=VAe(e),n=!r&&UAe(e),i=!r&&!n&&WAe(e),o=!r&&!n&&!i&&HAe(e),s=r||n||i||o,a=s?FAe(e.length,String):[],d=a.length;for(var h in e)(t||YAe.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||qAe(h,d)))&&a.push(h);return a}var ZAe=KAe,XAe=Object.prototype;function JAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||XAe;return e===r}var QAe=JAe;function eMe(e,t){return function(r){return e(t(r))}}var tMe=eMe,rMe=tMe,nMe=rMe(Object.keys,Object),iMe=nMe,oMe=QAe,aMe=iMe,sMe=Object.prototype,lMe=sMe.hasOwnProperty;function cMe(e){if(!oMe(e))return aMe(e);var t=[];for(var r in Object(e))lMe.call(e,r)&&r!="constructor"&&t.push(r);return t}var uMe=cMe,fMe=N$,dMe=X$;function hMe(e){return e!=null&&dMe(e.length)&&!fMe(e)}var N_=hMe,pMe=ZAe,mMe=uMe,gMe=N_;function yMe(e){return gMe(e)?pMe(e):mMe(e)}var pE=yMe,vMe=IPe,_Me=UPe,xMe=pE;function bMe(e){return vMe(e,xMe,_Me)}var wMe=bMe,Nj=wMe,SMe=1,EMe=Object.prototype,CMe=EMe.hasOwnProperty;function TMe(e,t,r,n,i,o){var s=r&SMe,a=Nj(e),d=a.length,h=Nj(t),g=h.length;if(d!=g&&!s)return!1;for(var v=d;v--;){var b=a[v];if(!(s?b in t:CMe.call(t,b)))return!1}var M=o.get(e),A=o.get(t);if(M&&A)return M==t&&A==e;var w=!0;o.set(e,t),o.set(t,e);for(var P=s;++v<d;){b=a[v];var O=e[b],I=t[b];if(n)var T=s?n(I,O,b,t,e,o):n(O,I,b,e,t,o);if(!(T===void 0?O===I||i(O,I,r,n,o):T)){w=!1;break}P||(P=b=="constructor")}if(w&&!P){var R=e.constructor,z=t.constructor;R!=z&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof z=="function"&&z instanceof z)&&(w=!1)}return o.delete(e),o.delete(t),w}var kMe=TMe,PMe=ph,AMe=lc,MMe=PMe(AMe,"DataView"),OMe=MMe,IMe=ph,RMe=lc,$Me=IMe(RMe,"Promise"),DMe=$Me,LMe=ph,zMe=lc,NMe=LMe(zMe,"Set"),Bq=NMe,jMe=ph,BMe=lc,FMe=jMe(BMe,"WeakMap"),UMe=FMe,eM=OMe,tM=F$,rM=DMe,nM=Bq,iM=UMe,Fq=Bf,Tg=wq,jj="[object Map]",VMe="[object Object]",Bj="[object Promise]",Fj="[object Set]",Uj="[object WeakMap]",Vj="[object DataView]",WMe=Tg(eM),qMe=Tg(tM),HMe=Tg(rM),GMe=Tg(nM),YMe=Tg(iM),bd=Fq;(eM&&bd(new eM(new ArrayBuffer(1)))!=Vj||tM&&bd(new tM)!=jj||rM&&bd(rM.resolve())!=Bj||nM&&bd(new nM)!=Fj||iM&&bd(new iM)!=Uj)&&(bd=function(e){var t=Fq(e),r=t==VMe?e.constructor:void 0,n=r?Tg(r):"";if(n)switch(n){case WMe:return Vj;case qMe:return jj;case HMe:return Bj;case GMe:return Fj;case YMe:return Uj}return t});var KMe=bd,Pk=Mq,ZMe=$q,XMe=kPe,JMe=kMe,Wj=KMe,qj=oa,Hj=zq,QMe=jq,eOe=1,Gj="[object Arguments]",Yj="[object Array]",Ob="[object Object]",tOe=Object.prototype,Kj=tOe.hasOwnProperty;function rOe(e,t,r,n,i,o){var s=qj(e),a=qj(t),d=s?Yj:Wj(e),h=a?Yj:Wj(t);d=d==Gj?Ob:d,h=h==Gj?Ob:h;var g=d==Ob,v=h==Ob,b=d==h;if(b&&Hj(e)){if(!Hj(t))return!1;s=!0,g=!1}if(b&&!g)return o||(o=new Pk),s||QMe(e)?ZMe(e,t,r,n,i,o):XMe(e,t,d,r,n,i,o);if(!(r&eOe)){var M=g&&Kj.call(e,"__wrapped__"),A=v&&Kj.call(t,"__wrapped__");if(M||A){var w=M?e.value():e,P=A?t.value():t;return o||(o=new Pk),i(w,P,r,n,o)}}return b?(o||(o=new Pk),JMe(e,t,r,n,i,o)):!1}var nOe=rOe,iOe=nOe,Zj=Ff;function Uq(e,t,r,n,i){return e===t?!0:e==null||t==null||!Zj(e)&&!Zj(t)?e!==e&&t!==t:iOe(e,t,r,n,Uq,i)}var J$=Uq,oOe=Mq,aOe=J$,sOe=1,lOe=2;function cOe(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var d=a[0],h=e[d],g=a[1];if(s&&a[2]){if(h===void 0&&!(d in e))return!1}else{var v=new oOe;if(n)var b=n(h,g,d,e,t,v);if(!(b===void 0?aOe(g,h,sOe|lOe,n,v):b))return!1}}return!0}var uOe=cOe,fOe=jf;function dOe(e){return e===e&&!fOe(e)}var Vq=dOe,hOe=Vq,pOe=pE;function mOe(e){for(var t=pOe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,hOe(i)]}return t}var gOe=mOe;function yOe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Wq=yOe,vOe=uOe,_Oe=gOe,xOe=Wq;function bOe(e){var t=_Oe(e);return t.length==1&&t[0][2]?xOe(t[0][0],t[0][1]):function(r){return r===e||vOe(r,e,t)}}var wOe=bOe;function SOe(e,t){return e!=null&&t in Object(e)}var EOe=SOe,COe=Tq,TOe=K$,kOe=oa,POe=Z$,AOe=X$,MOe=hE;function OOe(e,t,r){t=COe(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=MOe(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&AOe(i)&&POe(s,i)&&(kOe(e)||TOe(e)))}var IOe=OOe,ROe=EOe,$Oe=IOe;function DOe(e,t){return e!=null&&$Oe(e,t,ROe)}var LOe=DOe,zOe=J$,NOe=kq,jOe=LOe,BOe=j$,FOe=Vq,UOe=Wq,VOe=hE,WOe=1,qOe=2;function HOe(e,t){return BOe(e)&&FOe(t)?UOe(VOe(e),t):function(r){var n=NOe(r,e);return n===void 0&&n===t?jOe(r,e):zOe(t,n,WOe|qOe)}}var GOe=HOe;function YOe(e){return e}var kg=YOe;function KOe(e){return function(t){return t==null?void 0:t[e]}}var ZOe=KOe,XOe=q$;function JOe(e){return function(t){return XOe(t,e)}}var QOe=JOe,eIe=ZOe,tIe=QOe,rIe=j$,nIe=hE;function iIe(e){return rIe(e)?eIe(nIe(e)):tIe(e)}var oIe=iIe,aIe=wOe,sIe=GOe,lIe=kg,cIe=oa,uIe=oIe;function fIe(e){return typeof e=="function"?e:e==null?lIe:typeof e=="object"?cIe(e)?sIe(e[0],e[1]):aIe(e):uIe(e)}var Uf=fIe;function dIe(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var qq=dIe;function hIe(e){return e!==e}var pIe=hIe;function mIe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var gIe=mIe,yIe=qq,vIe=pIe,_Ie=gIe;function xIe(e,t,r){return t===t?_Ie(e,t,r):yIe(e,vIe,r)}var bIe=xIe,wIe=bIe;function SIe(e,t){var r=e==null?0:e.length;return!!r&&wIe(e,t,0)>-1}var EIe=SIe;function CIe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var TIe=CIe;function kIe(){}var PIe=kIe,Ak=Bq,AIe=PIe,MIe=Y$,OIe=1/0,IIe=Ak&&1/MIe(new Ak([,-0]))[1]==OIe?function(e){return new Ak(e)}:AIe,RIe=IIe,$Ie=Oq,DIe=EIe,LIe=TIe,zIe=Rq,NIe=RIe,jIe=Y$,BIe=200;function FIe(e,t,r){var n=-1,i=DIe,o=e.length,s=!0,a=[],d=a;if(r)s=!1,i=LIe;else if(o>=BIe){var h=t?null:NIe(e);if(h)return jIe(h);s=!1,i=zIe,d=new $Ie}else d=t?[]:a;e:for(;++n<o;){var g=e[n],v=t?t(g):g;if(g=r||g!==0?g:0,s&&v===v){for(var b=d.length;b--;)if(d[b]===v)continue e;t&&d.push(v),a.push(g)}else i(d,v,r)||(d!==a&&d.push(v),a.push(g))}return a}var UIe=FIe,VIe=Uf,WIe=UIe;function qIe(e,t){return e&&e.length?WIe(e,VIe(t)):[]}var HIe=qIe;const Ew=Kr(HIe);function GIe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var YIe=GIe,KIe=YIe;function ZIe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:KIe(e,t,r)}var XIe=ZIe,JIe="\\ud800-\\udfff",QIe="\\u0300-\\u036f",eRe="\\ufe20-\\ufe2f",tRe="\\u20d0-\\u20ff",rRe=QIe+eRe+tRe,nRe="\\ufe0e\\ufe0f",iRe="\\u200d",oRe=RegExp("["+iRe+JIe+rRe+nRe+"]");function aRe(e){return oRe.test(e)}var Hq=aRe;function sRe(e){return e.split("")}var lRe=sRe,Gq="\\ud800-\\udfff",cRe="\\u0300-\\u036f",uRe="\\ufe20-\\ufe2f",fRe="\\u20d0-\\u20ff",dRe=cRe+uRe+fRe,hRe="\\ufe0e\\ufe0f",pRe="["+Gq+"]",oM="["+dRe+"]",aM="\\ud83c[\\udffb-\\udfff]",mRe="(?:"+oM+"|"+aM+")",Yq="[^"+Gq+"]",Kq="(?:\\ud83c[\\udde6-\\uddff]){2}",Zq="[\\ud800-\\udbff][\\udc00-\\udfff]",gRe="\\u200d",Xq=mRe+"?",Jq="["+hRe+"]?",yRe="(?:"+gRe+"(?:"+[Yq,Kq,Zq].join("|")+")"+Jq+Xq+")*",vRe=Jq+Xq+yRe,_Re="(?:"+[Yq+oM+"?",oM,Kq,Zq,pRe].join("|")+")",xRe=RegExp(aM+"(?="+aM+")|"+_Re+vRe,"g");function bRe(e){return e.match(xRe)||[]}var wRe=bRe,SRe=lRe,ERe=Hq,CRe=wRe;function TRe(e){return ERe(e)?CRe(e):SRe(e)}var kRe=TRe,PRe=XIe,ARe=Hq,MRe=kRe,ORe=Cq;function IRe(e){return function(t){t=ORe(t);var r=ARe(t)?MRe(t):void 0,n=r?r[0]:t.charAt(0),i=r?PRe(r,1).join(""):t.slice(1);return n[e]()+i}}var RRe=IRe,$Re=RRe,DRe=$Re("toUpperCase"),LRe=DRe;const mE=Kr(LRe);function Cn(e){return function(){return e}}const Qq=Math.cos,Cw=Math.sin,_l=Math.sqrt,Tw=Math.PI,gE=2*Tw,sM=Math.PI,lM=2*sM,wd=1e-6,zRe=lM-wd;function eH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NRe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eH;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jRe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eH:NRe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,d=n-t,h=i-r,g=s-t,v=a-r,b=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>wd)if(!(Math.abs(v*d-h*g)>wd)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let M=n-s,A=i-a,w=d*d+h*h,P=M*M+A*A,O=Math.sqrt(w),I=Math.sqrt(b),T=o*Math.tan((sM-Math.acos((w+b-P)/(2*O*I)))/2),R=T/I,z=T/O;Math.abs(R-1)>wd&&this._append`L${t+R*g},${r+R*v}`,this._append`A${o},${o},0,0,${+(v*M>g*A)},${this._x1=t+z*d},${this._y1=r+z*h}`}}arc(t,r,n,i,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),d=n*Math.sin(i),h=t+a,g=r+d,v=1^s,b=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>wd||Math.abs(this._y1-g)>wd)&&this._append`L${h},${g}`,n&&(b<0&&(b=b%lM+lM),b>zRe?this._append`A${n},${n},0,1,${v},${t-a},${r-d}A${n},${n},0,1,${v},${this._x1=h},${this._y1=g}`:b>wd&&this._append`A${n},${n},0,${+(b>=sM)},${v},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Q$(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jRe(t)}function eD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tH(e){this._context=e}tH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yE(e){return new tH(e)}function rH(e){return e[0]}function nH(e){return e[1]}function iH(e,t){var r=Cn(!0),n=null,i=yE,o=null,s=Q$(a);e=typeof e=="function"?e:e===void 0?rH:Cn(e),t=typeof t=="function"?t:t===void 0?nH:Cn(t);function a(d){var h,g=(d=eD(d)).length,v,b=!1,M;for(n==null&&(o=i(M=s())),h=0;h<=g;++h)!(h<g&&r(v=d[h],h,d))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(v,h,d),+t(v,h,d));if(M)return o=null,M+""||null}return a.x=function(d){return arguments.length?(e=typeof d=="function"?d:Cn(+d),a):e},a.y=function(d){return arguments.length?(t=typeof d=="function"?d:Cn(+d),a):t},a.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Cn(!!d),a):r},a.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),a):i},a.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),a):n},a}function Ib(e,t,r){var n=null,i=Cn(!0),o=null,s=yE,a=null,d=Q$(h);e=typeof e=="function"?e:e===void 0?rH:Cn(+e),t=typeof t=="function"?t:Cn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?nH:Cn(+r);function h(v){var b,M,A,w=(v=eD(v)).length,P,O=!1,I,T=new Array(w),R=new Array(w);for(o==null&&(a=s(I=d())),b=0;b<=w;++b){if(!(b<w&&i(P=v[b],b,v))===O)if(O=!O)M=b,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),A=b-1;A>=M;--A)a.point(T[A],R[A]);a.lineEnd(),a.areaEnd()}O&&(T[b]=+e(P,b,v),R[b]=+t(P,b,v),a.point(n?+n(P,b,v):T[b],r?+r(P,b,v):R[b]))}if(I)return a=null,I+""||null}function g(){return iH().defined(i).curve(s).context(o)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:Cn(+v),n=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Cn(+v),h):e},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Cn(+v),h):n},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:Cn(+v),r=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Cn(+v),h):t},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Cn(+v),h):r},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(r)},h.lineX1=function(){return g().x(n).y(t)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Cn(!!v),h):i},h.curve=function(v){return arguments.length?(s=v,o!=null&&(a=s(o)),h):s},h.context=function(v){return arguments.length?(v==null?o=a=null:a=s(o=v),h):o},h}class oH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function BRe(e){return new oH(e,!0)}function FRe(e){return new oH(e,!1)}const tD={draw(e,t){const r=_l(t/Tw);e.moveTo(r,0),e.arc(0,0,r,0,gE)}},URe={draw(e,t){const r=_l(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aH=_l(1/3),VRe=aH*2,WRe={draw(e,t){const r=_l(t/VRe),n=r*aH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qRe={draw(e,t){const r=_l(t),n=-r/2;e.rect(n,n,r,r)}},HRe=.8908130915292852,sH=Cw(Tw/10)/Cw(7*Tw/10),GRe=Cw(gE/10)*sH,YRe=-Qq(gE/10)*sH,KRe={draw(e,t){const r=_l(t*HRe),n=GRe*r,i=YRe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const s=gE*o/5,a=Qq(s),d=Cw(s);e.lineTo(d*r,-a*r),e.lineTo(a*n-d*i,d*n+a*i)}e.closePath()}},Mk=_l(3),ZRe={draw(e,t){const r=-_l(t/(Mk*3));e.moveTo(0,r*2),e.lineTo(-Mk*r,-r),e.lineTo(Mk*r,-r),e.closePath()}},ls=-.5,cs=_l(3)/2,cM=1/_l(12),XRe=(cM/2+1)*3,JRe={draw(e,t){const r=_l(t/XRe),n=r/2,i=r*cM,o=n,s=r*cM+r,a=-o,d=s;e.moveTo(n,i),e.lineTo(o,s),e.lineTo(a,d),e.lineTo(ls*n-cs*i,cs*n+ls*i),e.lineTo(ls*o-cs*s,cs*o+ls*s),e.lineTo(ls*a-cs*d,cs*a+ls*d),e.lineTo(ls*n+cs*i,ls*i-cs*n),e.lineTo(ls*o+cs*s,ls*s-cs*o),e.lineTo(ls*a+cs*d,ls*d-cs*a),e.closePath()}};function QRe(e,t){let r=null,n=Q$(i);e=typeof e=="function"?e:Cn(e||tD),t=typeof t=="function"?t:Cn(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Cn(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Cn(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function kw(){}function Pw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lH(e){this._context=e}lH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e$e(e){return new lH(e)}function cH(e){this._context=e}cH.prototype={areaStart:kw,areaEnd:kw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t$e(e){return new cH(e)}function uH(e){this._context=e}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r$e(e){return new uH(e)}function fH(e){this._context=e}fH.prototype={areaStart:kw,areaEnd:kw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function n$e(e){return new fH(e)}function Xj(e){return e<0?-1:1}function Jj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(Xj(o)+Xj(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Qj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ok(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function Aw(e){this._context=e}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ok(this,this._t0,Qj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ok(this,Qj(this,r=Jj(this,e,t)),r);break;default:Ok(this,this._t0,r=Jj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function dH(e){this._context=new hH(e)}(dH.prototype=Object.create(Aw.prototype)).point=function(e,t){Aw.prototype.point.call(this,t,e)};function hH(e){this._context=e}hH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function i$e(e){return new Aw(e)}function o$e(e){return new dH(e)}function pH(e){this._context=e}pH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=e4(e),i=e4(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e4(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function a$e(e){return new pH(e)}function vE(e,t){this._context=e,this._t=t}vE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function s$e(e){return new vE(e,.5)}function l$e(e){return new vE(e,0)}function c$e(e){return new vE(e,1)}function Fm(e,t){if((s=e.length)>1)for(var r=1,n,i,o=e[t[0]],s,a=o.length;r<s;++r)for(i=o,o=e[t[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function uM(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function u$e(e,t){return e[t]}function f$e(e){const t=[];return t.key=e,t}function d$e(){var e=Cn([]),t=uM,r=Fm,n=u$e;function i(o){var s=Array.from(e.apply(this,arguments),f$e),a,d=s.length,h=-1,g;for(const v of o)for(a=0,++h;a<d;++a)(s[a][h]=[0,+n(v,s[a].key,h,o)]).data=v;for(a=0,g=eD(t(s));a<d;++a)s[g[a]].index=a;return r(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Cn(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Cn(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?uM:typeof o=="function"?o:Cn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Fm,i):r},i}function h$e(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Fm(e,t)}}function p$e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=e[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}Fm(e,t)}}function m$e(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,d=0,h=0;a<s;++a){for(var g=e[t[a]],v=g[n][1]||0,b=g[n-1][1]||0,M=(v-b)/2,A=0;A<a;++A){var w=e[t[A]],P=w[n][1]||0,O=w[n-1][1]||0;M+=P-O}d+=v,h+=M*v}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Fm(e,t)}}function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fM.apply(this,arguments)}var mH={symbolCircle:tD,symbolCross:URe,symbolDiamond:WRe,symbolSquare:qRe,symbolStar:KRe,symbolTriangle:ZRe,symbolWye:JRe},g$e=Math.PI/180,y$e=function(t){var r="symbol".concat(mE(t));return mH[r]||tD},v$e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*g$e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},_$e={type:"circle",size:64,sizeType:"area"},x$e=function(t,r){mH["symbol".concat(mE(t))]=r},rD=function(t){var r=function(){var h=t.size,g=t.sizeType,v=t.type,b=y$e(v),M=QRe().type(b).size(v$e(h,g,v));return M()},n=t.className,i=t.cx,o=t.cy,s=t.size,a=Ur(t,!0);return i===+i&&o===+o&&s===+s?qe.createElement("path",fM({},a,{className:_n("recharts-symbols",n),transform:"translate(".concat(i,", ").concat(o,")"),d:r()})):null};rD.defaultProps=_$e;rD.registerSymbol=x$e;function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function dM(){return dM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dM.apply(this,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b$e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){L0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function S$e(e,t,r){return t&&r4(e.prototype,t),r&&r4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hM(e,t)}function hM(e,t){return hM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hM(e,t)}function C$e(e){var t=P$e();return function(){var n=Mw(e),i;if(t){var o=Mw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return T$e(this,i)}}function T$e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(e)}function k$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mw(e){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(e)}function L0(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=A$e(e,"string");return Um(t)==="symbol"?t:String(t)}function A$e(e,t){if(Um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var us=32,nD=function(e){E$e(r,e);var t=C$e(r);function r(){return w$e(this,r),t.apply(this,arguments)}return S$e(r,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=us/2,a=us/6,d=us/3,h=i.inactive?o:i.color;if(i.type==="plainline")return qe.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:us,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return qe.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(us,"M").concat(2*d,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return qe.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(us/8,"h").concat(us,"v").concat(us*3/4,"h").concat(-us,"z"),className:"recharts-legend-icon"});if(qe.isValidElement(i.legendIcon)){var g=b$e({},i);return delete g.legendIcon,qe.cloneElement(i.legendIcon,g)}return qe.createElement(rD,{fill:h,cx:s,cy:s,size:us,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,d=o.layout,h=o.formatter,g=o.inactiveColor,v={x:0,y:0,width:us,height:us},b={display:d==="horizontal"?"inline-block":"block",marginRight:10},M={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(A,w){var P,O=A.formatter||h,I=_n((P={"recharts-legend-item":!0},L0(P,"legend-item-".concat(w),!0),L0(P,"inactive",A.inactive),P));if(A.type==="none")return null;var T=A.inactive?g:A.color;return qe.createElement("li",dM({className:I,style:b,key:"legend-item-".concat(w)},xw(i.props,A,w)),qe.createElement(JA,{width:a,height:a,viewBox:v,style:M},i.renderIcon(A)),qe.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},O?O(A.value,A,w):A.value))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var d={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return qe.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}]),r}(W.PureComponent);L0(nD,"displayName","Legend");L0(nD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var M$e=["ref"];function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){_E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vH(n.key),n)}}function I$e(e,t,r){return t&&i4(e.prototype,t),r&&i4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pM(e,t)}function pM(e,t){return pM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pM(e,t)}function $$e(e){var t=L$e();return function(){var n=Ow(e),i;if(t){var o=Ow(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return D$e(this,i)}}function D$e(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yH(e)}function yH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(e)}function _E(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=z$e(e,"string");return Vm(t)==="symbol"?t:String(t)}function z$e(e,t){if(Vm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$e(e,t){if(e==null)return{};var r=j$e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j$e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function B$e(e){return e.value}function F$e(e,t){return e===!0?Ew(t,B$e):hr(e)?Ew(t,e):t}function U$e(e,t){if(qe.isValidElement(e))return qe.cloneElement(e,t);if(hr(e))return qe.createElement(e,t);t.ref;var r=N$e(t,M$e);return qe.createElement(nD,r)}var o4=1,Wm=function(e){R$e(r,e);var t=$$e(r);function r(){var n;O$e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),_E(yH(n),"state",{boxWidth:-1,boxHeight:-1}),n}return I$e(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight;return o>=0&&s>=0?{width:o,height:s}:null}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,d=o.verticalAlign,h=o.margin,g=o.chartWidth,v=o.chartHeight,b,M;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var A=this.getBBoxSnapshot()||{width:0};b={left:((g||0)-A.width)/2}}else b=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(d==="middle"){var w=this.getBBoxSnapshot()||{height:0};M={top:((v||0)-w.height)/2}}else M=d==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return bp(bp({},b),M)}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var d=this.wrapperNode.getBoundingClientRect();(Math.abs(d.width-o)>o4||Math.abs(d.height-s)>o4)&&this.setState({boxWidth:d.width,boxHeight:d.height},function(){a&&a(d)})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){a&&a(null)})}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,d=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,v=o.payload,b=bp(bp({position:"absolute",width:a||"auto",height:d||"auto"},this.getDefaultPosition(h)),h);return qe.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:function(A){i.wrapperNode=A}},U$e(s,bp(bp({},this.props),{},{payload:F$e(g,v)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Mt(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),r}(W.PureComponent);_E(Wm,"displayName","Legend");_E(Wm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var V$e=Object.getOwnPropertyNames,W$e=Object.getOwnPropertySymbols,q$e=Object.prototype.hasOwnProperty;function a4(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function Rb(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var d=e(r,n,i);return o.delete(r),o.delete(n),d}}function s4(e){return V$e(e).concat(W$e(e))}var _H=Object.hasOwn||function(e,t){return q$e.call(e,t)};function Pg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var xH="_owner",l4=Object.getOwnPropertyDescriptor,c4=Object.keys;function H$e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function G$e(e,t){return Pg(e.getTime(),t.getTime())}function u4(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var d=t.entries(),h=!1,g=0;(a=d.next())&&!a.done;){var v=s.value,b=v[0],M=v[1],A=a.value,w=A[0],P=A[1];!h&&!n[g]&&(h=r.equals(b,w,o,g,e,t,r)&&r.equals(M,P,b,w,e,t,r))&&(n[g]=!0),g++}if(!h)return!1;o++}return!0}function Y$e(e,t,r){var n=c4(e),i=n.length;if(c4(t).length!==i)return!1;for(var o;i-- >0;)if(o=n[i],o===xH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!_H(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Qy(e,t,r){var n=s4(e),i=n.length;if(s4(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],o===xH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!_H(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(s=l4(e,o),a=l4(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function K$e(e,t){return Pg(e.valueOf(),t.valueOf())}function Z$e(e,t){return e.source===t.source&&e.flags===t.flags}function f4(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),d=!1,h=0;(s=a.next())&&!s.done;)!d&&!n[h]&&(d=r.equals(o.value,s.value,o.value,s.value,e,t,r))&&(n[h]=!0),h++;if(!d)return!1}return!0}function X$e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var J$e="[object Arguments]",Q$e="[object Boolean]",eDe="[object Date]",tDe="[object Map]",rDe="[object Number]",nDe="[object Object]",iDe="[object RegExp]",oDe="[object Set]",aDe="[object String]",sDe=Array.isArray,d4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,h4=Object.assign,lDe=Object.prototype.toString.call.bind(Object.prototype.toString);function cDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,d=e.areTypedArraysEqual;return function(g,v,b){if(g===v)return!0;if(g==null||v==null||typeof g!="object"||typeof v!="object")return g!==g&&v!==v;var M=g.constructor;if(M!==v.constructor)return!1;if(M===Object)return i(g,v,b);if(sDe(g))return t(g,v,b);if(d4!=null&&d4(g))return d(g,v,b);if(M===Date)return r(g,v,b);if(M===RegExp)return s(g,v,b);if(M===Map)return n(g,v,b);if(M===Set)return a(g,v,b);var A=lDe(g);return A===eDe?r(g,v,b):A===iDe?s(g,v,b):A===tDe?n(g,v,b):A===oDe?a(g,v,b):A===nDe?typeof g.then!="function"&&typeof v.then!="function"&&i(g,v,b):A===J$e?i(g,v,b):A===Q$e||A===rDe||A===aDe?o(g,v,b):!1}}function uDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Qy:H$e,areDatesEqual:G$e,areMapsEqual:n?a4(u4,Qy):u4,areObjectsEqual:n?Qy:Y$e,arePrimitiveWrappersEqual:K$e,areRegExpsEqual:Z$e,areSetsEqual:n?a4(f4,Qy):f4,areTypedArraysEqual:n?Qy:X$e};if(r&&(i=h4({},i,r(i))),t){var o=Rb(i.areArraysEqual),s=Rb(i.areMapsEqual),a=Rb(i.areObjectsEqual),d=Rb(i.areSetsEqual);i=h4({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:d})}return i}function fDe(e){return function(t,r,n,i,o,s,a){return e(t,r,a)}}function dDe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,o=e.strict;if(n)return function(d,h){var g=n(),v=g.cache,b=v===void 0?t?new WeakMap:void 0:v,M=g.meta;return r(d,h,{cache:b,equals:i,meta:M,strict:o})};if(t)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(d,h){return r(d,h,s)}}var hDe=Vf();Vf({strict:!0});Vf({circular:!0});Vf({circular:!0,strict:!0});Vf({createInternalComparator:function(){return Pg}});Vf({strict:!0,createInternalComparator:function(){return Pg}});Vf({circular:!0,createInternalComparator:function(){return Pg}});Vf({circular:!0,createInternalComparator:function(){return Pg},strict:!0});function Vf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=uDe(e),d=cDe(a),h=n?n(d):fDe(d);return dDe({circular:r,comparator:d,createState:i,equals:h,strict:s})}function p4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):requestAnimationFrame(i)};requestAnimationFrame(n)}function mM(e){"@babel/helpers - typeof";return mM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mM(e)}function pDe(e){return vDe(e)||yDe(e)||gDe(e)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(e,t){if(e){if(typeof e=="string")return m4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m4(e,t)}}function m4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vDe(e){if(Array.isArray(e))return e}function _De(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=pDe(s),d=a[0],h=a.slice(1);if(typeof d=="number"){p4(i.bind(null,h),d);return}i(d),p4(i.bind(null,h));return}mM(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){Iw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iw(e,t,r){return t=xDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xDe(e){var t=bDe(e,"string");return z0(t)==="symbol"?t:String(t)}function bDe(e,t){if(z0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wDe=["Webkit","Moz","O","ms"],SDe=["-webkit-","-moz-","-o-","-ms-"],EDe=["transform","transformOrigin","transition"],CDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},TDe=function(t){return t},kDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},PDe=function(t,r){if(EDe.indexOf(t)===-1)return Iw({},t,Number.isNaN(r)?0:r);var n=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=r;return wDe.reduce(function(s,a,d){return n&&(o=r.replace(/(transform|transform-origin)/gim,"".concat(SDe[d],"$1"))),qm(qm({},s),{},Iw({},a+i,o))},{})},qv=function(t,r){return Object.keys(r).reduce(function(n,i){return qm(qm({},n),{},Iw({},i,t(i,r[i])))},{})},gM=function(t){return Object.keys(t).reduce(function(r,n){return qm(qm({},r),PDe(n,r[n]))},t)},y4=function(t,r,n){return t.map(function(i){return"".concat(kDe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function ADe(e,t){return IDe(e)||ODe(e,t)||bH(e,t)||MDe()}function MDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ODe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function IDe(e){if(Array.isArray(e))return e}function RDe(e){return LDe(e)||DDe(e)||bH(e)||$De()}function $De(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(e,t){if(e){if(typeof e=="string")return yM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(e,t)}}function DDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LDe(e){if(Array.isArray(e))return yM(e)}function yM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rw=1e-4,wH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},SH=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},v4=function(t,r){return function(n){var i=wH(t,r);return SH(i,n)}},zDe=function(t,r){return function(n){var i=wH(t,r),o=[].concat(RDe(i.map(function(s,a){return s*a}).slice(1)),[0]);return SH(o,n)}},_4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(P){return parseFloat(P)}),g=ADe(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var v=v4(i,s),b=v4(o,a),M=zDe(i,s),A=function(O){return O>1?1:O<0?0:O},w=function(O){for(var I=O>1?1:O,T=I,R=0;R<8;++R){var z=v(T)-I,j=M(T);if(Math.abs(z-I)<Rw||j<Rw)return b(T);T=A(T-z/j)}return b(T)};return w.isStepper=!1,w},NDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,d=function(g,v,b){var M=-(g-v)*n,A=b*o,w=b+(M-A)*a/1e3,P=b*a/1e3+g;return Math.abs(P-v)<Rw&&Math.abs(w)<Rw?[v,0]:[P,w]};return d.isStepper=!0,d.dt=a,d},jDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _4(i);case"spring":return NDe();default:if(i.split("(")[0]==="cubic-bezier")return _4(i)}return typeof i=="function"?i:null};function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function x4(e){return UDe(e)||FDe(e)||EH(e)||BDe()}function BDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UDe(e){if(Array.isArray(e))return _M(e)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){vM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vM(e,t,r){return t=VDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VDe(e){var t=WDe(e,"string");return N0(t)==="symbol"?t:String(t)}function WDe(e,t){if(N0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qDe(e,t){return YDe(e)||GDe(e,t)||EH(e,t)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(e,t){if(e){if(typeof e=="string")return _M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(e,t)}}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function YDe(e){if(Array.isArray(e))return e}var $w=function(t,r,n){return t+(r-t)*n},xM=function(t){var r=t.from,n=t.to;return r!==n},KDe=function e(t,r,n){var i=qv(function(o,s){if(xM(s)){var a=t(s.from,s.to,s.velocity),d=qDe(a,2),h=d[0],g=d[1];return oo(oo({},s),{},{from:h,velocity:g})}return s},r);return n<1?qv(function(o,s){return xM(s)?oo(oo({},s),{},{velocity:$w(s.velocity,i[o].velocity,n),from:$w(s.from,i[o].from,n)}):s},r):e(t,i,n-1)};const ZDe=function(e,t,r,n,i){var o=CDe(e,t),s=o.reduce(function(P,O){return oo(oo({},P),{},vM({},O,[e[O],t[O]]))},{}),a=o.reduce(function(P,O){return oo(oo({},P),{},vM({},O,{from:e[O],velocity:0,to:t[O]}))},{}),d=-1,h,g,v=function(){return null},b=function(){return qv(function(O,I){return I.from},a)},M=function(){return!Object.values(a).filter(xM).length},A=function(O){h||(h=O);var I=O-h,T=I/r.dt;a=KDe(r,a,T),i(oo(oo(oo({},e),t),b())),h=O,M()||(d=requestAnimationFrame(v))},w=function(O){g||(g=O);var I=(O-g)/n,T=qv(function(z,j){return $w.apply(void 0,x4(j).concat([r(I)]))},s);if(i(oo(oo(oo({},e),t),T)),I<1)d=requestAnimationFrame(v);else{var R=qv(function(z,j){return $w.apply(void 0,x4(j).concat([r(1)]))},s);i(oo(oo(oo({},e),t),R))}};return v=r.isStepper?A:w,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(d)}}};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}var XDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JDe(e,t){if(e==null)return{};var r=QDe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QDe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ik(e){return nLe(e)||rLe(e)||tLe(e)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(e,t){if(e){if(typeof e=="string")return bM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bM(e,t)}}function rLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nLe(e){if(Array.isArray(e))return bM(e)}function bM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wv(e,t,r){return t=CH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CH(n.key),n)}}function oLe(e,t,r){return t&&S4(e.prototype,t),r&&S4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CH(e){var t=aLe(e,"string");return Hm(t)==="symbol"?t:String(t)}function aLe(e,t){if(Hm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wM(e,t)}function wM(e,t){return wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wM(e,t)}function lLe(e){var t=cLe();return function(){var n=Dw(e),i;if(t){var o=Dw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return SM(this,i)}}function SM(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EM(e)}function EM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cLe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dw(e){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(e)}var oh=function(e){sLe(r,e);var t=lLe(r);function r(n,i){var o;iLe(this,r),o=t.call(this,n,i);var s=o.props,a=s.isActive,d=s.attributeName,h=s.from,g=s.to,v=s.steps,b=s.children,M=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(EM(o)),o.changeStyle=o.changeStyle.bind(EM(o)),!a||M<=0)return o.state={style:{}},typeof b=="function"&&(o.state={style:g}),SM(o);if(v&&v.length)o.state={style:v[0].style};else if(h){if(typeof b=="function")return o.state={style:h},SM(o);o.state={style:d?wv({},d,h):h}}else o.state={style:{}};return o}return oLe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,g=o.to,v=o.from,b=this.state.style;if(a){if(!s){var M={style:d?wv({},d,g):g};this.state&&b&&(d&&b[d]!==g||!d&&b!==g)&&this.setState(M);return}if(!(hDe(i.to,g)&&i.canBegin&&i.isActive)){var A=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=A||h?v:i.to;if(this.state&&b){var P={style:d?wv({},d,w):w};(d&&[d]!==w||!d&&b!==w)&&this.setState(P)}this.runAnimation(Zs(Zs({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,d=i.duration,h=i.easing,g=i.begin,v=i.onAnimationEnd,b=i.onAnimationStart,M=ZDe(s,a,jDe(h),d,this.changeStyle),A=function(){o.stopJSAnimation=M()};this.manager.start([b,g,A,d,v])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,d=i.onAnimationStart,h=s[0],g=h.style,v=h.duration,b=v===void 0?0:v,M=function(w,P,O){if(O===0)return w;var I=P.duration,T=P.easing,R=T===void 0?"ease":T,z=P.style,j=P.properties,V=P.onAnimationEnd,Z=O>0?s[O-1]:P,ie=j||Object.keys(z);if(typeof R=="function"||R==="spring")return[].concat(Ik(w),[o.runJSAnimation.bind(o,{from:Z.style,to:z,duration:I,easing:R}),I]);var ne=y4(ie,I,R),ae=Zs(Zs(Zs({},Z.style),z),{},{transition:ne});return[].concat(Ik(w),[ae,I,V]).filter(TDe)};return this.manager.start([d].concat(Ik(s.reduce(M,[g,Math.max(b,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_De());var o=i.begin,s=i.duration,a=i.attributeName,d=i.to,h=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,b=i.steps,M=i.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof h=="function"||typeof M=="function"||h==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var w=a?wv({},a,d):d,P=y4(Object.keys(w),s,h);A.start([g,o,Zs(Zs({},w),{},{transition:P}),s,v])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=JDe(i,XDe),h=W.Children.count(o),g=gM(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var v=function(M){var A=M.props,w=A.style,P=w===void 0?{}:w,O=A.className,I=W.cloneElement(M,Zs(Zs({},d),{},{style:Zs(Zs({},P),g),className:O}));return I};return h===1?v(W.Children.only(o)):qe.createElement("div",null,W.Children.map(o,function(b){return v(b)}))}}]),r}(W.PureComponent);oh.displayName="Animate";oh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oh.propTypes={from:Tr.oneOfType([Tr.object,Tr.string]),to:Tr.oneOfType([Tr.object,Tr.string]),attributeName:Tr.string,duration:Tr.number,begin:Tr.number,easing:Tr.oneOfType([Tr.string,Tr.func]),steps:Tr.arrayOf(Tr.shape({duration:Tr.number.isRequired,style:Tr.object.isRequired,easing:Tr.oneOfType([Tr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tr.func]),properties:Tr.arrayOf("string"),onAnimationEnd:Tr.func})),children:Tr.oneOfType([Tr.node,Tr.func]),isActive:Tr.bool,canBegin:Tr.bool,onAnimationEnd:Tr.func,shouldReAnimate:Tr.bool,onAnimationStart:Tr.func,onAnimationReStart:Tr.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});Tr.object,Tr.object,Tr.object,Tr.element;Tr.object,Tr.object,Tr.object,Tr.oneOfType([Tr.array,Tr.element]),Tr.any;var E4=$_,uLe=K$,fLe=oa,C4=E4?E4.isConcatSpreadable:void 0;function dLe(e){return fLe(e)||uLe(e)||!!(C4&&e&&e[C4])}var hLe=dLe,pLe=Dq,mLe=hLe;function TH(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=mLe),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?TH(a,t-1,r,n,i):pLe(i,a):n||(i[i.length]=a)}return i}var kH=TH;function gLe(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var d=s[e?a:++i];if(r(o[d],d,o)===!1)break}return t}}var yLe=gLe,vLe=yLe,_Le=vLe(),xLe=_Le,bLe=xLe,wLe=pE;function SLe(e,t){return e&&bLe(e,t,wLe)}var PH=SLe,ELe=N_;function CLe(e,t){return function(r,n){if(r==null)return r;if(!ELe(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var TLe=CLe,kLe=PH,PLe=TLe,ALe=PLe(kLe),iD=ALe,MLe=iD,OLe=N_;function ILe(e,t){var r=-1,n=OLe(e)?Array(e.length):[];return MLe(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var AH=ILe;function RLe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var $Le=RLe,T4=bg;function DLe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=T4(e),s=t!==void 0,a=t===null,d=t===t,h=T4(t);if(!a&&!h&&!o&&e>t||o&&s&&d&&!a&&!h||n&&s&&d||!r&&d||!i)return 1;if(!n&&!o&&!h&&e<t||h&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!d)return-1}return 0}var LLe=DLe,zLe=LLe;function NLe(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var d=zLe(i[n],o[n]);if(d){if(n>=a)return d;var h=r[n];return d*(h=="desc"?-1:1)}}return e.index-t.index}var jLe=NLe,Rk=W$,BLe=q$,FLe=Uf,ULe=AH,VLe=$Le,WLe=Nq,qLe=jLe,HLe=kg,GLe=oa;function YLe(e,t,r){t.length?t=Rk(t,function(o){return GLe(o)?function(s){return BLe(s,o.length===1?o[0]:o)}:o}):t=[HLe];var n=-1;t=Rk(t,WLe(FLe));var i=ULe(e,function(o,s,a){var d=Rk(t,function(h){return h(o)});return{criteria:d,index:++n,value:o}});return VLe(i,function(o,s){return qLe(o,s,r)})}var KLe=YLe;function ZLe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var XLe=ZLe,JLe=XLe,k4=Math.max;function QLe(e,t,r){return t=k4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=k4(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),JLe(e,this,a)}}var eze=QLe;function tze(e){return function(){return e}}var rze=tze,nze=ph,ize=function(){try{var e=nze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MH=ize,oze=rze,P4=MH,aze=kg,sze=P4?function(e,t){return P4(e,"toString",{configurable:!0,enumerable:!1,value:oze(t),writable:!0})}:aze,lze=sze,cze=800,uze=16,fze=Date.now;function dze(e){var t=0,r=0;return function(){var n=fze(),i=uze-(n-r);if(r=n,i>0){if(++t>=cze)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var hze=dze,pze=lze,mze=hze,gze=mze(pze),yze=gze,vze=kg,_ze=eze,xze=yze;function bze(e,t){return xze(_ze(e,t,vze),e+"")}var wze=bze,Sze=B$,Eze=N_,Cze=Z$,Tze=jf;function kze(e,t,r){if(!Tze(r))return!1;var n=typeof t;return(n=="number"?Eze(r)&&Cze(t,r.length):n=="string"&&t in r)?Sze(r[t],e):!1}var xE=kze,Pze=kH,Aze=KLe,Mze=wze,A4=xE,Oze=Mze(function(e,t){if(e==null)return[];var r=t.length;return r>1&&A4(e,t[0],t[1])?t=[]:r>2&&A4(t[0],t[1],t[2])&&(t=[t[0]]),Aze(e,Pze(t,1),[])}),Ize=Oze;const oD=Kr(Ize);function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function Rze(e,t){return zze(e)||Lze(e,t)||Dze(e,t)||$ze()}function $ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dze(e,t){if(e){if(typeof e=="string")return M4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M4(e,t)}}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function zze(e){if(Array.isArray(e))return e}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){Nze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nze(e,t,r){return t=jze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jze(e){var t=Bze(e,"string");return j0(t)==="symbol"?t:String(t)}function Bze(e,t){if(j0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fze(e){return co(e)&&zi(e[0])&&zi(e[1])?e.join(" ~ "):e}var Uze=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,d=t.labelStyle,h=d===void 0?{}:d,g=t.payload,v=t.formatter,b=t.itemSorter,M=t.wrapperClassName,A=t.labelClassName,w=t.label,P=t.labelFormatter,O=function(){if(g&&g.length){var ie={padding:0,margin:0},ne=(b?oD(g,b):g).map(function(ae,de){if(ae.type==="none")return null;var pe=$k({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},a),Pe=ae.formatter||v||Fze,be=ae.value,he=ae.name,ve=be,Se=he;if(Pe&&ve!=null&&Se!=null){var ye=Pe(be,he,ae,de,g);if(Array.isArray(ye)){var Ie=Rze(ye,2);ve=Ie[0],Se=Ie[1]}else ve=ye}return qe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(de),style:pe},zi(Se)?qe.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,zi(Se)?qe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,qe.createElement("span",{className:"recharts-tooltip-item-value"},ve),qe.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return qe.createElement("ul",{className:"recharts-tooltip-item-list",style:ie},ne)}return null},I=$k({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=$k({margin:0},h),R=!fr(w),z=R?w:"",j=_n("recharts-default-tooltip",M),V=_n("recharts-tooltip-label",A);return R&&P&&g!==void 0&&g!==null&&(z=P(w,g)),qe.createElement("div",{className:j,style:I},qe.createElement("p",{className:V,style:T},qe.isValidElement(z)?z:"".concat(z)),O())},Vze=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qc={isSsr:Vze(),get:function(t){return qc[t]},set:function(t,r){if(typeof t=="string")qc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){qc[i]=t[i]})}}};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){Sv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sv(e,t,r){return t=Wze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wze(e){var t=qze(e,"string");return B0(t)==="symbol"?t:String(t)}function qze(e,t){if(B0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $b(e,t){return Kze(e)||Yze(e,t)||Gze(e,t)||Hze()}function Hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gze(e,t){if(e){if(typeof e=="string")return R4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R4(e,t)}}function R4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Kze(e){if(Array.isArray(e))return e}var ev="recharts-tooltip-wrapper",$4=1;function Zze(e){return e.dataKey}function Xze(e,t){return e===!0?Ew(t,Zze):hr(e)?Ew(t,e):t}function Jze(e,t){return qe.isValidElement(e)?qe.cloneElement(e,t):hr(e)?qe.createElement(e,t):qe.createElement(Uze,t)}var Qze={active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!qc.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},Dd=function(t){var r,n=W.useState(-1),i=$b(n,2),o=i[0],s=i[1],a=W.useState(-1),d=$b(a,2),h=d[0],g=d[1],v=W.useState(!1),b=$b(v,2),M=b[0],A=b[1],w=W.useState({x:0,y:0}),P=$b(w,2),O=P[0],I=P[1],T=W.useRef(),R=t.allowEscapeViewBox,z=t.reverseDirection,j=t.coordinate,V=t.offset,Z=t.position,ie=t.viewBox,ne=W.useCallback(function(nt){nt.key==="Escape"&&(A(!0),I(function(Ve){return Ac(Ac({},Ve),{},{x:j==null?void 0:j.x,y:j==null?void 0:j.y})}))},[j==null?void 0:j.x,j==null?void 0:j.y]);W.useEffect(function(){var nt=function(){if(M?(document.removeEventListener("keydown",ne),((j==null?void 0:j.x)!==O.x||(j==null?void 0:j.y)!==O.y)&&A(!1)):document.addEventListener("keydown",ne),T.current&&T.current.getBoundingClientRect){var Je=T.current.getBoundingClientRect();(Math.abs(Je.width-o)>$4||Math.abs(Je.height-h)>$4)&&(s(Je.width),g(Je.height))}else(o!==-1||h!==-1)&&(s(-1),g(-1))};return nt(),function(){document.removeEventListener("keydown",ne)}},[h,o,j,M,O.x,O.y,ne]);var ae=function(Ve){var Je=Ve.key,ct=Ve.tooltipDimension,Fe=Ve.viewBoxDimension;if(Z&&Mt(Z[Je]))return Z[Je];var Re=j[Je]-ct-V,St=j[Je]+V;if(R!=null&&R[Je])return z[Je]?Re:St;if(z!=null&&z[Je]){var Zt=Re,Ot=ie[Je];return Zt<Ot?Math.max(St,ie[Je]):Math.max(Re,ie[Je])}var zt=St+ct,Mr=ie[Je]+Fe;return zt>Mr?Math.max(Re,ie[Je]):Math.max(St,ie[Je])},de=t.payload,pe=t.payloadUniqBy,Pe=t.filterNull,be=t.active,he=t.wrapperStyle,ve=t.useTranslate3d,Se=t.isAnimationActive,ye=t.animationDuration,Ie=t.animationEasing,Xe=Xze(pe,Pe&&de&&de.length?de.filter(function(nt){return!fr(nt.value)}):de),Ee=Xe&&Xe.length,De=t.content,Oe=Ac({pointerEvents:"none",visibility:!M&&be&&Ee?"visible":"hidden",position:"absolute",top:0,left:0},he),Ge,Be;Z&&Mt(Z.x)&&Mt(Z.y)?(Ge=Z.x,Be=Z.y):o>0&&h>0&&j?(Ge=ae({key:"x",tooltipDimension:o,viewBoxDimension:ie.width}),Be=ae({key:"y",tooltipDimension:h,viewBoxDimension:ie.height})):Oe.visibility="hidden",Oe=Ac(Ac({},gM({transform:ve?"translate3d(".concat(Ge,"px, ").concat(Be,"px, 0)"):"translate(".concat(Ge,"px, ").concat(Be,"px)")})),Oe),Se&&be&&(Oe=Ac(Ac({},gM({transition:"transform ".concat(ye,"ms ").concat(Ie)})),Oe));var at=_n(ev,(r={},Sv(r,"".concat(ev,"-right"),Mt(Ge)&&j&&Mt(j.x)&&Ge>=j.x),Sv(r,"".concat(ev,"-left"),Mt(Ge)&&j&&Mt(j.x)&&Ge<j.x),Sv(r,"".concat(ev,"-bottom"),Mt(Be)&&j&&Mt(j.y)&&Be>=j.y),Sv(r,"".concat(ev,"-top"),Mt(Be)&&j&&Mt(j.y)&&Be<j.y),r));return qe.createElement("div",{tabIndex:-1,role:"dialog",className:at,style:Oe,ref:T},Jze(De,Ac(Ac({},t),{},{payload:Xe})))};Dd.displayName="Tooltip";Dd.defaultProps=Qze;var eNe=lc,tNe=function(){return eNe.Date.now()},rNe=tNe,nNe=/\s/;function iNe(e){for(var t=e.length;t--&&nNe.test(e.charAt(t)););return t}var oNe=iNe,aNe=oNe,sNe=/^\s+/;function lNe(e){return e&&e.slice(0,aNe(e)+1).replace(sNe,"")}var cNe=lNe,uNe=cNe,D4=jf,fNe=bg,L4=0/0,dNe=/^[-+]0x[0-9a-f]+$/i,hNe=/^0b[01]+$/i,pNe=/^0o[0-7]+$/i,mNe=parseInt;function gNe(e){if(typeof e=="number")return e;if(fNe(e))return L4;if(D4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=D4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uNe(e);var r=hNe.test(e);return r||pNe.test(e)?mNe(e.slice(2),r?2:8):dNe.test(e)?L4:+e}var OH=gNe,yNe=jf,Dk=rNe,z4=OH,vNe="Expected a function",_Ne=Math.max,xNe=Math.min;function bNe(e,t,r){var n,i,o,s,a,d,h=0,g=!1,v=!1,b=!0;if(typeof e!="function")throw new TypeError(vNe);t=z4(t)||0,yNe(r)&&(g=!!r.leading,v="maxWait"in r,o=v?_Ne(z4(r.maxWait)||0,t):o,b="trailing"in r?!!r.trailing:b);function M(j){var V=n,Z=i;return n=i=void 0,h=j,s=e.apply(Z,V),s}function A(j){return h=j,a=setTimeout(O,t),g?M(j):s}function w(j){var V=j-d,Z=j-h,ie=t-V;return v?xNe(ie,o-Z):ie}function P(j){var V=j-d,Z=j-h;return d===void 0||V>=t||V<0||v&&Z>=o}function O(){var j=Dk();if(P(j))return I(j);a=setTimeout(O,w(j))}function I(j){return a=void 0,b&&n?M(j):(n=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),h=0,n=d=i=a=void 0}function R(){return a===void 0?s:I(Dk())}function z(){var j=Dk(),V=P(j);if(n=arguments,i=this,d=j,V){if(a===void 0)return A(d);if(v)return clearTimeout(a),a=setTimeout(O,t),M(d)}return a===void 0&&(a=setTimeout(O,t)),s}return z.cancel=T,z.flush=R,z}var IH=bNe;const wNe=Kr(IH);var SNe=IH,ENe=jf,CNe="Expected a function";function TNe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(CNe);return ENe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),SNe(e,t,{leading:n,maxWait:t,trailing:i})}var kNe=TNe;const RH=Kr(kNe);var CM=function(e,t){return CM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CM(e,t)};function PNe(e,t){CM(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ANe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var MNe=function(e,t,r,n){switch(t){case"debounce":return wNe(e,r,n);case"throttle":return RH(e,r,n);default:return e}},N4=function(e){return typeof e=="function"},tv=function(){return typeof window>"u"},j4=function(e){return e instanceof Element||e instanceof HTMLDocument},ONe=function(e,t,r){return function(n){var i=n.width,o=n.height;e(function(s){return s.width===i&&s.height===o||s.width===i&&!r||s.height===o&&!t?s:{width:i,height:o}})}},INe=function(e){PNe(t,e);function t(r){var n=e.call(this,r)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var h=n.props,g=h.targetRef,v=h.observerOptions;if(!tv()){g&&g.current&&(n.targetRef.current=g.current);var b=n.getElement();b&&(n.observableElement&&n.observableElement===b||(n.observableElement=b,n.resizeObserver.observe(b,v)))}},n.getElement=function(){var h=n.props,g=h.querySelector,v=h.targetDomEl;if(tv())return null;if(g)return document.querySelector(g);if(v&&j4(v))return v;if(n.targetRef&&j4(n.targetRef.current))return n.targetRef.current;var b=cu.findDOMNode(n);if(!b)return null;var M=n.getRenderType();switch(M){case"renderProp":return b;case"childFunction":return b;case"child":return b;case"childArray":return b;default:return b.parentElement}},n.createResizeHandler=function(h){var g=n.props,v=g.handleWidth,b=v===void 0?!0:v,M=g.handleHeight,A=M===void 0?!0:M,w=g.onResize;if(!(!b&&!A)){var P=ONe(function(O){return n.setState(O,function(){return w==null?void 0:w(n.state.width,n.state.height)})},b,A);h.forEach(function(O){var I=O&&O.contentRect||{},T=I.width,R=I.height,z=!n.skipOnMount&&!tv();z&&P({width:T,height:R}),n.skipOnMount=!1})}},n.getRenderType=function(){var h=n.props,g=h.render,v=h.children;return N4(g)?"renderProp":N4(v)?"childFunction":W.isValidElement(v)?"child":Array.isArray(v)?"childArray":"parent"};var i=r.skipOnMount,o=r.refreshMode,s=r.refreshRate,a=s===void 0?1e3:s,d=r.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=i,n.targetRef=W.createRef(),n.observableElement=null,tv()||(n.resizeHandler=MNe(n.createResizeHandler,o,a,d),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){tv()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var r=this.props,n=r.render,i=r.children,o=r.nodeType,s=o===void 0?"div":o,a=this.state,d=a.width,h=a.height,g={width:d,height:h,targetRef:this.targetRef},v=this.getRenderType();switch(v){case"renderProp":return n==null?void 0:n(g);case"childFunction":{var b=i;return b==null?void 0:b(g)}case"child":{var M=i;if(M.type&&typeof M.type=="string"){g.targetRef;var A=ANe(g,["targetRef"]);return W.cloneElement(M,A)}return W.cloneElement(M,g)}case"childArray":{var w=i;return w.map(function(P){return!!P&&W.cloneElement(P,g)})}default:return qe.createElement(s,null)}},t}(W.PureComponent),gm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function TM(){return TM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TM.apply(this,arguments)}function RNe(e,t){return zNe(e)||LNe(e,t)||DNe(e,t)||$Ne()}function $Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DNe(e,t){if(e){if(typeof e=="string")return B4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B4(e,t)}}function B4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function zNe(e){if(Array.isArray(e))return e}var NNe=W.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,s=o===void 0?"100%":o,a=e.height,d=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,v=e.minHeight,b=e.maxHeight,M=e.children,A=e.debounce,w=A===void 0?0:A,P=e.id,O=e.className,I=e.onResize,T=W.useState({containerWidth:i.width,containerHeight:i.height}),R=RNe(T,2),z=R[0],j=R[1],V=W.useRef(null);W.useImperativeHandle(t,function(){return V},[V]);var Z=W.useCallback(function(){return V.current?{containerWidth:V.current.clientWidth,containerHeight:V.current.clientHeight}:null},[]),ie=W.useCallback(function(){var de=Z();if(de){var pe=de.containerWidth,Pe=de.containerHeight;I&&I(pe,Pe),j(function(be){var he=be.containerWidth,ve=be.containerHeight;return pe!==he||Pe!==ve?{containerWidth:pe,containerHeight:Pe}:be})}},[Z,I]),ne=W.useMemo(function(){var de=z.containerWidth,pe=z.containerHeight;if(de<0||pe<0)return null;gm($d(s)||$d(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),gm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Pe=$d(s)?de:s,be=$d(d)?pe:d;return r&&r>0&&(Pe?be=Pe/r:be&&(Pe=be*r),b&&be>b&&(be=b)),gm(Pe>0||be>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Pe,be,s,d,g,v,r),W.cloneElement(M,{width:Pe,height:be})},[r,M,d,b,v,g,z,s]);W.useEffect(function(){var de=Z();de&&j(de)},[Z]);var ae={width:s,height:d,minWidth:g,minHeight:v,maxHeight:b};return qe.createElement(INe,{handleWidth:!0,handleHeight:!0,onResize:ie,targetRef:V,refreshMode:w>0?"debounce":void 0,refreshRate:w},qe.createElement("div",TM({},P!=null?{id:"".concat(P)}:{},{className:_n("recharts-responsive-container",O),style:ae,ref:V}),ne))}),$H=function(t){return null};$H.displayName="Cell";var kM={exports:{}},Lk="(".charCodeAt(0),zk=")".charCodeAt(0),Db="'".charCodeAt(0),Nk='"'.charCodeAt(0),jk="\\".charCodeAt(0),Lb="/".charCodeAt(0),Bk=",".charCodeAt(0),Fk=":".charCodeAt(0),F4="*".charCodeAt(0),jNe=function(e){for(var t=[],r=e,n,i,o,s,a,d,h,g=0,v=r.charCodeAt(g),b=r.length,M=[{nodes:t}],A=0,w,P="",O="",I="";g<b;)if(v<=32){n=g;do n+=1,v=r.charCodeAt(n);while(v<=32);s=r.slice(g,n),o=t[t.length-1],v===zk&&A?I=s:o&&o.type==="div"?o.after=s:v===Bk||v===Fk||v===Lb&&r.charCodeAt(n+1)!==F4?O=s:t.push({type:"space",sourceIndex:g,value:s}),g=n}else if(v===Db||v===Nk){n=g,i=v===Db?"'":'"',s={type:"string",sourceIndex:g,quote:i};do if(a=!1,n=r.indexOf(i,n+1),~n)for(d=n;r.charCodeAt(d-1)===jk;)d-=1,a=!a;else r+=i,n=r.length-1,s.unclosed=!0;while(a);s.value=r.slice(g+1,n),t.push(s),g=n+1,v=r.charCodeAt(g)}else if(v===Lb&&r.charCodeAt(g+1)===F4)s={type:"comment",sourceIndex:g},n=r.indexOf("*/",g),n===-1&&(s.unclosed=!0,n=r.length),s.value=r.slice(g+2,n),t.push(s),g=n+2,v=r.charCodeAt(g);else if(v===Lb||v===Bk||v===Fk)s=r[g],t.push({type:"div",sourceIndex:g-O.length,value:s,before:O,after:""}),O="",g+=1,v=r.charCodeAt(g);else if(Lk===v){n=g;do n+=1,v=r.charCodeAt(n);while(v<=32);if(s={type:"function",sourceIndex:g-P.length,value:P,before:r.slice(g+1,n)},g=n,P==="url"&&v!==Db&&v!==Nk){n-=1;do if(a=!1,n=r.indexOf(")",n+1),~n)for(d=n;r.charCodeAt(d-1)===jk;)d-=1,a=!a;else r+=")",n=r.length-1,s.unclosed=!0;while(a);h=n;do h-=1,v=r.charCodeAt(h);while(v<=32);g!==h+1?s.nodes=[{type:"word",sourceIndex:g,value:r.slice(g,h+1)}]:s.nodes=[],s.unclosed&&h+1!==n?(s.after="",s.nodes.push({type:"space",sourceIndex:h+1,value:r.slice(h+1,n)})):s.after=r.slice(h+1,n),g=n+1,v=r.charCodeAt(g),t.push(s)}else A+=1,s.after="",t.push(s),M.push(s),t=s.nodes=[],w=s;P=""}else if(zk===v&&A)g+=1,v=r.charCodeAt(g),w.after=I,I="",A-=1,M.pop(),w=M[A],t=w.nodes;else{n=g;do v===jk&&(n+=1),n+=1,v=r.charCodeAt(n);while(n<b&&!(v<=32||v===Db||v===Nk||v===Bk||v===Fk||v===Lb||v===Lk||v===zk&&A));s=r.slice(g,n),Lk===v?P=s:t.push({type:"word",sourceIndex:g,value:s}),g=n}for(g=M.length-1;g;g-=1)M[g].unclosed=!0;return M[0].nodes},BNe=function e(t,r,n){var i,o,s,a;for(i=0,o=t.length;i<o;i+=1)s=t[i],n||(a=r(s,i,t)),a!==!1&&s.type==="function"&&Array.isArray(s.nodes)&&e(s.nodes,r,n),n&&r(s,i,t)};function U4(e,t){var r=e.type,n=e.value,i,o;return t&&(o=t(e))!==void 0?o:r==="word"||r==="space"?n:r==="string"?(i=e.quote||"",i+n+(e.unclosed?"":i)):r==="comment"?"/*"+n+(e.unclosed?"":"*/"):r==="div"?(e.before||"")+n+(e.after||""):Array.isArray(e.nodes)?(i=DH(e.nodes),r!=="function"?i:n+"("+(e.before||"")+i+(e.after||"")+(e.unclosed?"":")")):n}function DH(e,t){var r,n;if(Array.isArray(e)){for(r="",n=e.length-1;~n;n-=1)r=U4(e[n],t)+r;return r}return U4(e,t)}var FNe=DH,Uk,V4;function UNe(){if(V4)return Uk;V4=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),r=".".charCodeAt(0),n="e".charCodeAt(0),i="E".charCodeAt(0);return Uk=function(o){for(var s=0,a=o.length,d=!1,h=-1,g=!1,v;s<a;){if(v=o.charCodeAt(s),v>=48&&v<=57)g=!0;else if(v===n||v===i){if(h>-1)break;h=s}else if(v===r){if(d)break;d=!0}else if(v===t||v===e){if(s!==0)break}else break;s+=1}return h+1===s&&s--,g?{number:o.slice(0,s),unit:o.slice(s)}:!1},Uk}var VNe=jNe,LH=BNe,zH=FNe;function Of(e){return this instanceof Of?(this.nodes=VNe(e),this):new Of(e)}Of.prototype.toString=function(){return Array.isArray(this.nodes)?zH(this.nodes):""};Of.prototype.walk=function(e,t){return LH(this.nodes,e,t),this};Of.unit=UNe();Of.walk=LH;Of.stringify=zH;var WNe=Of;function qNe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NH={};(function(e){var t=function(){function r(b,M){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),b==null&&(b="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:b}),this.hash=M;var A;if(M&&M.exception instanceof Error){var w=M.exception;this.message=w.message||b,A=w.stack}A||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):A=new Error(b).stack),A&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:A})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.name="JisonParserError";function n(b){for(var M=[],A=b.pop,w=b.rule,P=0,O=A.length;P<O;P++)M.push([A[P],w[P]]);return M}function i(b){for(var M={},A=b.idx,w=b.goto,P=0,O=A.length;P<O;P++){var I=A[P];M[I]=w[P]}return M}function o(b){for(var M=[],A=b.len,w=b.symbol,P=b.type,O=b.state,I=b.mode,T=b.goto,R=0,z=A.length;R<z;R++){for(var j=A[R],V={},Z=0;Z<j;Z++){var ie=w.shift();switch(P.shift()){case 2:V[ie]=[I.shift(),T.shift()];break;case 0:V[ie]=O.shift();break;default:V[ie]=[3]}}M.push(V)}return M}function s(b,M,A){A=A||0;for(var w=0;w<M;w++)this.push(b),b+=A}function a(b,M){for(b=this.length-b,M+=b;b<M;b++)this.push(this[b])}function d(b){for(var M=[],A=0,w=b.length;A<w;A++){var P=b[A];typeof P=="function"?(A++,P.apply(M,b[A])):M.push(P)}return M}var h={trace:function(){},JisonParserError:r,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(M){return'"'+M+'"'},getSymbolName:function(M){if(this.terminals_[M])return this.terminals_[M];var A=this.symbols_;for(var w in A)if(A[w]===M)return w;return null},describeSymbol:function(M){if(M!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[M])return this.terminal_descriptions_[M];if(M===this.EOF)return"end of input";var A=this.getSymbolName(M);return A?this.quoteName(A):null},collect_expected_token_set:function(M,A){var w=this.TERROR,P=[],O={};if(!A&&this.state_descriptions_&&this.state_descriptions_[M])return[this.state_descriptions_[M]];for(var I in this.table[M])if(I=+I,I!==w){var T=A?I:this.describeSymbol(I);T&&!O[T]&&(P.push(T),O[T]=!0)}return P},productions_:n({pop:d([29,s,[30,10],31,31,32,32,s,[33,15]]),rule:d([2,s,[3,5],4,7,s,[1,4],2,4,6,s,[1,14],2])}),performAction:function(M,A,w){var P=this.yy;switch(P.parser,P.lexer,M){case 0:this.$=w[A-1];break;case 1:return this.$=w[A-1],w[A-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:w[A-1],left:w[A-2],right:w[A]};break;case 6:this.$=w[A-1];break;case 7:this.$={type:"Calc",value:w[A-1]};break;case 8:this.$={type:"Calc",value:w[A-1],prefix:w[A-5]};break;case 9:case 10:case 11:this.$=w[A];break;case 12:this.$={type:"Value",value:parseFloat(w[A])};break;case 13:this.$={type:"Value",value:parseFloat(w[A])*-1};break;case 14:this.$={type:"CssVariable",value:w[A-1]};break;case 15:this.$={type:"CssVariable",value:w[A-3],fallback:w[A-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(w[A]),unit:/[a-z]+/.exec(w[A])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(w[A]),unit:/[a-z]+/.exec(w[A])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(w[A]),unit:/[a-z]+/.exec(w[A])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(w[A]),unit:/[a-z]+/.exec(w[A])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(w[A]),unit:/[a-z]+/.exec(w[A])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(w[A]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(w[A]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(w[A]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(w[A]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(w[A]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(w[A]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(w[A]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(w[A]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(w[A]),unit:"%"};break;case 30:var O=w[A];O.value*=-1,this.$=O;break}},table:o({len:d([24,1,5,23,1,18,s,[0,3],1,s,[0,16],s,[23,4],a,[28,3],0,0,16,1,6,6,s,[0,3],5,1,2,a,[37,3],a,[20,3],5,0,0]),symbol:d([4,7,9,11,12,s,[15,19,1],1,1,s,[3,4,1],a,[30,19],a,[29,4],7,4,10,11,a,[22,14],a,[19,3],a,[43,22],a,[23,69],a,[139,4],8,a,[51,24],4,a,[138,15],13,a,[186,5],8,a,[6,6],a,[5,5],9,8,14,a,[159,47],a,[60,10]]),type:d([s,[2,19],s,[0,5],1,s,[2,24],s,[0,4],a,[22,19],a,[43,42],a,[23,70],a,[28,25],a,[45,25],a,[113,54]]),state:d([1,2,8,6,7,30,a,[4,3],33,37,a,[5,3],38,a,[4,3],39,a,[4,3],40,a,[4,3],42,a,[21,4],50,a,[5,3],51,a,[4,3]]),mode:d([s,[1,179],s,[2,3],a,[5,5],a,[6,4],s,[1,57]]),goto:d([5,3,4,24,s,[9,15,1],s,[25,5,1],a,[24,19],31,35,32,34,a,[18,14],36,a,[38,19],a,[19,57],a,[118,4],41,a,[24,19],43,35,a,[16,14],44,s,[2,3],28,29,2,s,[3,3],28,29,3,a,[53,4],s,[45,5,1],a,[100,42],52,a,[5,4],53])}),defaultActions:i({idx:d([6,7,8,s,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:d([9,10,11,s,[16,14,1],12,1,30,13,s,[4,4,1],14,15,8])}),parseError:function(M,A,w){if(A.recoverable)typeof this.trace=="function"&&this.trace(M),A.destroy();else throw typeof this.trace=="function"&&this.trace(M),w||(w=this.JisonParserError),new w(M,A)},parse:function(M){var A=this,w=new Array(128),P=new Array(128),O=new Array(128),I=this.table,T=0,R=0;this.TERROR;var z=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var j=[0,54],V;this.__lexer__?V=this.__lexer__:V=this.__lexer__=Object.create(this.lexer);var Z={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return Z};function ie(nt,Ve){for(var Je in Ve)typeof nt[Je]>"u"&&Object.prototype.hasOwnProperty.call(Ve,Je)&&(nt[Je]=Ve[Je])}ie(Z,this.yy),Z.lexer=V,Z.parser=this,typeof Z.parseError=="function"?this.parseError=function(Ve,Je,ct){return ct||(ct=this.JisonParserError),Z.parseError.call(this,Ve,Je,ct)}:this.parseError=this.originalParseError,typeof Z.quoteName=="function"?this.quoteName=function(Ve){return Z.quoteName.call(this,Ve)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(Ve,Je,ct){var Fe;if(Je){var Re;(Z.post_parse||this.post_parse)&&(Re=this.constructParseErrorInfo(null,null,null,!1)),Z.post_parse&&(Fe=Z.post_parse.call(this,Z,Ve,Re),typeof Fe<"u"&&(Ve=Fe)),this.post_parse&&(Fe=this.post_parse.call(this,Z,Ve,Re),typeof Fe<"u"&&(Ve=Fe)),Re&&Re.destroy&&Re.destroy()}if(this.__reentrant_call_depth>1)return Ve;if(V.cleanupAfterLex&&V.cleanupAfterLex(ct),Z&&(Z.lexer=void 0,Z.parser=void 0,V.yy===Z&&(V.yy=void 0)),Z=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,w.length=0,P.length=0,O.length=0,T=0,!ct){for(var St=this.__error_infos.length-1;St>=0;St--){var Zt=this.__error_infos[St];Zt&&typeof Zt.destroy=="function"&&Zt.destroy()}this.__error_infos.length=0}return Ve},this.constructParseErrorInfo=function(Ve,Je,ct,Fe){var Re={errStr:Ve,exception:Je,text:V.match,value:V.yytext,token:this.describeSymbol(R)||R,token_id:R,line:V.yylineno,expected:ct,recoverable:Fe,state:pe,action:Pe,new_state:Xe,symbol_stack:w,state_stack:P,value_stack:O,stack_pointer:T,yy:Z,lexer:V,parser:this,destroy:function(){var Zt=!!this.recoverable;for(var Ot in this)this.hasOwnProperty(Ot)&&typeof Ot=="object"&&(this[Ot]=void 0);this.recoverable=Zt}};return this.__error_infos.push(Re),Re};function ne(){var nt=V.lex();return typeof nt!="number"&&(nt=A.symbols_[nt]||nt),nt||z}function ae(){var nt=V.fastLex();return typeof nt!="number"&&(nt=A.symbols_[nt]||nt),nt||z}var de=ne,pe,Pe,be,he,ve={$:!0,_$:void 0,yy:Z},Se,ye,Ie,Xe,Ee=!1;try{if(this.__reentrant_call_depth++,V.setInput(M,Z),typeof V.canIUse=="function"){var De=V.canIUse();De.fastLex&&typeof ae=="function"&&(de=ae)}for(O[T]=null,P[T]=0,w[T]=0,++T,this.pre_parse&&this.pre_parse.call(this,Z),Z.pre_parse&&Z.pre_parse.call(this,Z),Xe=P[T-1];;){if(pe=Xe,this.defaultActions[pe])Pe=2,Xe=this.defaultActions[pe];else if(R||(R=de()),he=I[pe]&&I[pe][R]||j,Xe=he[1],Pe=he[0],!Pe){var Oe,Ge=this.describeSymbol(R)||R,Be=this.collect_expected_token_set(pe);typeof V.yylineno=="number"?Oe="Parse error on line "+(V.yylineno+1)+": ":Oe="Parse error: ",typeof V.showPosition=="function"&&(Oe+=`
`+V.showPosition(79-10,10)+`
`),Be.length?Oe+="Expecting "+Be.join(", ")+", got unexpected "+Ge:Oe+="Unexpected "+Ge,Se=this.constructParseErrorInfo(Oe,null,Be,!1),be=this.parseError(Se.errStr,Se,this.JisonParserError),typeof be<"u"&&(Ee=be);break}switch(Pe){default:if(Pe instanceof Array){Se=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+pe+", token: "+R,null,null,!1),be=this.parseError(Se.errStr,Se,this.JisonParserError),typeof be<"u"&&(Ee=be);break}Se=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),be=this.parseError(Se.errStr,Se,this.JisonParserError),typeof be<"u"&&(Ee=be);break;case 1:w[T]=R,O[T]=V.yytext,P[T]=Xe,++T,R=0;continue;case 2:if(Ie=this.productions_[Xe-1],ye=Ie[1],be=this.performAction.call(ve,Xe,T-1,O),typeof be<"u"){Ee=be;break}T-=ye;var at=Ie[0];w[T]=at,O[T]=ve.$,Xe=I[P[T-1]][at],P[T]=Xe,++T;continue;case 3:T!==-2&&(Ee=!0,T--,typeof O[T]<"u"&&(Ee=O[T]));break}break}}catch(nt){if(nt instanceof this.JisonParserError)throw nt;if(V&&typeof V.JisonLexerError=="function"&&nt instanceof V.JisonLexerError)throw nt;Se=this.constructParseErrorInfo("Parsing aborted due to exception.",nt,null,!1),Ee=!1,be=this.parseError(Se.errStr,Se,this.JisonParserError),typeof be<"u"&&(Ee=be)}finally{Ee=this.cleanupAfterParse(Ee,!0,!0),this.__reentrant_call_depth--}return Ee}};h.originalParseError=h.parseError,h.originalQuoteName=h.quoteName;var g=function(){function b(A,w){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),A==null&&(A="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:A}),this.hash=w;var P;if(w&&w.exception instanceof Error){var O=w.exception;this.message=O.message||A,P=O.stack}P||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):P=new Error(A).stack),P&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:P})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(b.prototype,Error.prototype):b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b.prototype.name="JisonLexerError";var M={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(w,P,O){if(w=""+w,O==null&&(O=!(w.indexOf(`
`)>0&&w.indexOf("^")>0)),this.yylloc&&O){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(w)||(w+=`
`),w+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var I=this.showPosition();I&&(w.length&&w[w.length-1]!==`
`&&I[0]!==`
`?w+=`
`+I:w+=I)}}var T={errStr:w,recoverable:!!P,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var z=!!this.recoverable;for(var j in this)this.hasOwnProperty(j)&&typeof j=="object"&&(this[j]=void 0);this.recoverable=z}};return this.__error_infos.push(T),T},parseError:function(w,P,O){if(O||(O=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,w,P,O)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,w,P,O)||this.ERROR}throw new O(w,P)},yyerror:function(w){var P="";this.yylloc&&(P=" on line "+(this.yylineno+1));var O=this.constructLexErrorInfo("Lexical error"+P+": "+w,this.options.lexerErrorsAreRecoverable),I=Array.prototype.slice.call(arguments,1);return I.length&&(O.extra_error_attributes=I),this.parseError(O.errStr,O,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(w){if(this.setInput("",{}),!w){for(var P=this.__error_infos.length-1;P>=0;P--){var O=this.__error_infos[P];O&&typeof O.destroy=="function"&&O.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var w=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:w,last_line:this.yylineno+1,last_column:w,range:[this.offset,this.offset]}},setInput:function(w,P){if(this.yy=P||this.yy||{},!this.__decompressed){for(var O=this.rules,I=0,T=O.length;I<T;I++){var R=O[I];typeof R=="number"&&(O[I]=O[R])}var z=this.conditions;for(var j in z){for(var V=z[j],Z=V.rules,T=Z.length,ie=new Array(T+1),ne=new Array(T+1),I=0;I<T;I++){var ae=Z[I],R=O[ae];ie[I+1]=R,ne[I+1]=ae}V.rules=ne,V.__rule_regexes=ie,V.__rule_count=T}this.__decompressed=!0}return this._input=w||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(w,P){var O=w.call(this,this._input,P);return typeof O!="string"?O&&(this._input=""+O):this._input=O,this},input:function(){if(!this._input)return null;var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var P=1,O=!1;if(w===`
`)O=!0;else if(w==="\r"){O=!0;var I=this._input[1];I===`
`&&(P++,w+=I,this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I,this.yylloc.range[1]++)}return O?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(P),w},unput:function(w){var P=w.length,O=w.split(/(?:\r\n?|\n)/g);if(this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.yyleng=this.yytext.length,this.offset-=P,this.match=this.match.substr(0,this.match.length-P),this.matched=this.matched.substr(0,this.matched.length-P),O.length>1){this.yylineno-=O.length-1,this.yylloc.last_line=this.yylineno+1;var I=this.match,T=I.split(/(?:\r\n?|\n)/g);T.length===1&&(I=this.matched,T=I.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=T[T.length-1].length}else this.yylloc.last_column-=P;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var w="";this.yylloc&&(w=" on line "+(this.yylineno+1));var P=this.constructLexErrorInfo("Lexical error"+w+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(P.errStr,P,this.JisonLexerError)||this.ERROR}return this},less:function(w){return this.unput(this.match.slice(w))},pastInput:function(w,P){var O=this.matched.substring(0,this.matched.length-this.match.length);w<0?w=O.length:w||(w=20),P<0?P=O.length:P||(P=1),O=O.substr(-w*2-2);var I=O.replace(/\r\n|\r/g,`
`).split(`
`);return I=I.slice(-P),O=I.join(`
`),O.length>w&&(O="..."+O.substr(-w)),O},upcomingInput:function(w,P){var O=this.match;w<0?w=O.length+this._input.length:w||(w=20),P<0?P=w:P||(P=1),O.length<w*2+2&&(O+=this._input.substring(0,w*2+2));var I=O.replace(/\r\n|\r/g,`
`).split(`
`);return I=I.slice(0,P),O=I.join(`
`),O.length>w&&(O=O.substring(0,w)+"..."),O},showPosition:function(w,P){var O=this.pastInput(w).replace(/\s/g," "),I=new Array(O.length+1).join("-");return O+this.upcomingInput(P).replace(/\s/g," ")+`
`+I+"^"},deriveLocationInfo:function(w,P,O,I){var T={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return w&&(T.first_line=w.first_line|0,T.last_line=w.last_line|0,T.first_column=w.first_column|0,T.last_column=w.last_column|0,w.range&&(T.range[0]=w.range[0]|0,T.range[1]=w.range[1]|0)),(T.first_line<=0||T.last_line<T.first_line)&&(T.first_line<=0&&P&&(T.first_line=P.last_line|0,T.first_column=P.last_column|0,P.range&&(T.range[0]=w.range[1]|0)),(T.last_line<=0||T.last_line<T.first_line)&&O&&(T.last_line=O.first_line|0,T.last_column=O.first_column|0,O.range&&(T.range[1]=w.range[0]|0)),T.first_line<=0&&I&&(T.last_line<=0||I.last_line<=T.last_line)&&(T.first_line=I.first_line|0,T.first_column=I.first_column|0,I.range&&(T.range[0]=I.range[0]|0)),T.last_line<=0&&I&&(T.first_line<=0||I.first_line>=T.first_line)&&(T.last_line=I.last_line|0,T.last_column=I.last_column|0,I.range&&(T.range[1]=I.range[1]|0))),T.last_line<=0&&(T.first_line<=0?(T.first_line=this.yylloc.first_line,T.last_line=this.yylloc.last_line,T.first_column=this.yylloc.first_column,T.last_column=this.yylloc.last_column,T.range[0]=this.yylloc.range[0],T.range[1]=this.yylloc.range[1]):(T.last_line=this.yylloc.last_line,T.last_column=this.yylloc.last_column,T.range[1]=this.yylloc.range[1])),T.first_line<=0&&(T.first_line=T.last_line,T.first_column=0,T.range[1]=T.range[0]),T.first_column<0&&(T.first_column=0),T.last_column<0&&(T.last_column=T.first_column>0?T.first_column:80),T},prettyPrintRange:function(w,P,O){w=this.deriveLocationInfo(w,P,O);const I=3,T=1,R=2;var z=this.matched+this._input,j=z.split(`
`),V=Math.max(1,P?P.first_line:w.first_line-I),Z=Math.max(1,O?O.last_line:w.last_line+T),ie=1+Math.log10(Z|1)|0,ne=new Array(ie).join(" "),ae=[],de=j.slice(V-1,Z+1).map(function(ve,Se){var ye=Se+V,Ie=(ne+ye).substr(-ie),Xe=Ie+": "+ve,Ee=new Array(ie+1).join("^"),De=2+1,Oe=0;if(ye===w.first_line?(De+=w.first_column,Oe=Math.max(2,(ye===w.last_line?w.last_column:ve.length)-w.first_column+1)):ye===w.last_line?Oe=Math.max(2,w.last_column+1):ye>w.first_line&&ye<w.last_line&&(Oe=Math.max(2,ve.length+1)),Oe){var Ge=new Array(De).join("."),Be=new Array(Oe).join("^");Xe+=`
`+Ee+Ge+Be,ve.trim().length>0&&ae.push(Se)}return Xe=Xe.replace(/\t/g," "),Xe});if(ae.length>2*R){var pe=ae[R-1]+1,Pe=ae[ae.length-R]-1,be=new Array(ie+1).join(" ")+"  (...continued...)";be+=`
`+new Array(ie+1).join("-")+"  (---------------)",de.splice(pe,Pe-pe+1,be)}return de.join(`
`)},describeYYLLOC:function(w,P){var O=w.first_line,I=w.last_line,T=w.first_column,R=w.last_column,z=I-O,j=R-T,V;if(z===0?(V="line "+O+", ",j<=1?V+="column "+T:V+="columns "+T+" .. "+R):V="lines "+O+"(column "+T+") .. "+I+"(column "+R+")",w.range&&P){var Z=w.range[0],ie=w.range[1]-1;ie<=Z?V+=" {String Offset: "+Z+"}":V+=" {String Offset range: "+Z+" .. "+ie+"}"}return V},test_match:function(w,P){var O,I,T,R,z;if(this.options.backtrack_lexer&&(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),R=w[0],z=R.length,I=R.split(/(?:\r\n?|\n)/g),I.length>1?(this.yylineno+=I.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=I[I.length-1].length):this.yylloc.last_column+=z,this.yytext+=R,this.match+=R,this.matched+=R,this.matches=w,this.yyleng=this.yytext.length,this.yylloc.range[1]+=z,this.offset+=z,this._more=!1,this._backtrack=!1,this._input=this._input.slice(z),O=this.performAction.call(this,this.yy,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var j in T)this[j]=T[j];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return O=this._signaled_error_token,this._signaled_error_token=!1,O;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var w,P,O,I;this._more||this.clear();var T=this.__currentRuleSet__;if(!T&&(T=this.__currentRuleSet__=this._currentRules(),!T||!T.rules)){var R="";this.options.trackPosition&&(R=" on line "+(this.yylineno+1));var z=this.constructLexErrorInfo("Internal lexer engine error"+R+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(z.errStr,z,this.JisonLexerError)||this.ERROR}for(var j=T.rules,V=T.__rule_regexes,Z=T.__rule_count,ie=1;ie<=Z;ie++)if(O=this._input.match(V[ie]),O&&(!P||O[0].length>P[0].length)){if(P=O,I=ie,this.options.backtrack_lexer){if(w=this.test_match(O,j[ie]),w!==!1)return w;if(this._backtrack){P=void 0;continue}else return!1}else if(!this.options.flex)break}if(P)return w=this.test_match(P,j[I]),w!==!1?w:!1;if(this._input){var R="";this.options.trackPosition&&(R=" on line "+(this.yylineno+1));var z=this.constructLexErrorInfo("Lexical error"+R+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),ne=this._input,ae=this.topState(),de=this.conditionStack.length;return w=this.parseError(z.errStr,z,this.JisonLexerError)||this.ERROR,w===this.ERROR&&!this.matches&&ne===this._input&&ae===this.topState()&&de===this.conditionStack.length&&this.input(),w}else return this.done=!0,this.clear(),this.EOF},lex:function(){var w;for(typeof this.pre_lex=="function"&&(w=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(w=this.options.pre_lex.call(this,w)||w),this.yy&&typeof this.yy.pre_lex=="function"&&(w=this.yy.pre_lex.call(this,w)||w);!w;)w=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(w=this.yy.post_lex.call(this,w)||w),typeof this.options.post_lex=="function"&&(w=this.options.post_lex.call(this,w)||w),typeof this.post_lex=="function"&&(w=this.post_lex.call(this,w)||w),w},fastLex:function(){for(var w;!w;)w=this.next();return w},canIUse:function(){var w={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return w},begin:function(w){return this.pushState(w)},pushState:function(w){return this.conditionStack.push(w),this.__currentRuleSet__=null,this},popState:function(){var w=this.conditionStack.length-1;return w>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:b,performAction:function(w,P,O){switch(P){case 1:break;default:return this.simpleCaseActionClusters[P]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return M}();h.lexer=g;function v(){this.yy={}}return v.prototype=h,h.Parser=v,new v}();typeof qNe<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(NH);var j_={},PM={exports:{}},Vk={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},HNe=function(e,t,r,n){if(!Vk.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!Vk[r].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+r);var i=Vk[r][t]*e;return n!==!1?(n=Math.pow(10,parseInt(n)||5),Math.round(i*n)/n):i};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=HNe,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function o(a,d,h){switch(a.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return s(a,d,h);default:return{left:a,right:d}}}function s(a,d,h){return d.type===a.type&&(d={type:a.type,value:(0,n.default)(d.value,d.unit,a.unit,h),unit:a.unit}),{left:a,right:d}}t.default=o,e.exports=t.default})(PM,PM.exports);var GNe=PM.exports;Object.defineProperty(j_,"__esModule",{value:!0});j_.flip=AM;var YNe=GNe,Wk=KNe(YNe);function KNe(e){return e&&e.__esModule?e:{default:e}}function Oo(e,t){return e.type==="MathExpression"?e3e(e,t):e.type==="Calc"?Oo(e.value,t):e}function W4(e,t){return e.type===t.type&&e.value===t.value}function ya(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function ZNe(e,t){var r=(0,Wk.default)(e.left,e.right,t),n=Oo(r.left,t),i=Oo(r.right,t);return n.type==="MathExpression"&&i.type==="MathExpression"&&(n.operator==="/"&&i.operator==="*"||n.operator==="-"&&i.operator==="+"||n.operator==="*"&&i.operator==="/"||n.operator==="+"&&i.operator==="-")&&(W4(n.right,i.right)?r=(0,Wk.default)(n.left,i.left,t):W4(n.right,i.left)&&(r=(0,Wk.default)(n.left,i.right,t)),n=Oo(r.left,t),i=Oo(r.right,t)),e.left=n,e.right=i,e}function AM(e){return e==="+"?"-":"+"}function MM(e){return ya(e.type)?e.value=-e.value:e.type=="MathExpression"&&(e.left=MM(e.left),e.right=MM(e.right)),e}function XNe(e,t){var r=e,n=r.left,i=r.right,o=r.operator;if(n.type==="CssVariable"||i.type==="CssVariable")return e;if(i.value===0)return n;if(n.value===0&&o==="+")return i;if(n.value===0&&o==="-")return MM(i);if(n.type===i.type&&ya(n.type)&&(e=Object.assign({},n),o==="+"?e.value=n.value+i.value:e.value=n.value-i.value),ya(n.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(n.type===i.left.type)return e=Object.assign({},e),e.left=Oo({type:"MathExpression",operator:o,left:n,right:i.left},t),e.right=i.right,e.operator=o==="-"?AM(i.operator):i.operator,Oo(e,t);if(n.type===i.right.type)return e=Object.assign({},e),e.left=Oo({type:"MathExpression",operator:o==="-"?AM(i.operator):i.operator,left:n,right:i.right},t),e.right=i.left,Oo(e,t)}if(n.type==="MathExpression"&&(n.operator==="+"||n.operator==="-")&&ya(i.type)){if(i.type===n.left.type)return e=Object.assign({},n),e.left=Oo({type:"MathExpression",operator:o,left:n.left,right:i},t),Oo(e,t);if(i.type===n.right.type)return e=Object.assign({},n),n.operator==="-"?(e.right=Oo({type:"MathExpression",operator:o==="-"?"+":"-",left:i,right:n.right},t),e.operator=o==="-"?"-":"+"):e.right=Oo({type:"MathExpression",operator:o,left:n.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator=e.operator==="-"?"+":"-"),Oo(e,t)}return e}function JNe(e,t){if(!ya(e.right.type))return e;if(e.right.type!=="Value")throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(e.right.value===0)throw new Error("Cannot divide by zero");return e.left.type==="MathExpression"?ya(e.left.left.type)&&ya(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,Oo(e.left,t)):e:ya(e.left.type)?(e.left.value/=e.right.value,e.left):e}function QNe(e){if(e.left.type==="MathExpression"&&e.right.type==="Value"){if(ya(e.left.left.type)&&ya(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(ya(e.left.type)&&e.right.type==="Value")return e.left.value*=e.right.value,e.left;if(e.left.type==="Value"&&e.right.type==="MathExpression"){if(ya(e.right.left.type)&&ya(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if(e.left.type==="Value"&&ya(e.right.type))return e.right.value*=e.left.value,e.right}return e}function e3e(e,t){switch(e=ZNe(e,t),e.operator){case"+":case"-":return XNe(e,t);case"/":return JNe(e,t);case"*":return QNe(e)}return e}j_.default=Oo;var OM={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(s,a,d){var h=o(a,d);return a.type==="MathExpression"&&(h=s+"("+h+")"),h};var r=j_,n={"*":0,"/":0,"+":1,"-":1};function i(s,a){if(a!==!1){var d=Math.pow(10,a);return Math.round(s*d)/d}return s}function o(s,a){switch(s.type){case"MathExpression":{var d=s.left,h=s.right,g=s.operator,v="";return d.type==="MathExpression"&&n[g]<n[d.operator]?v+="("+o(d,a)+")":v+=o(d,a),v+=" "+s.operator+" ",h.type==="MathExpression"&&n[g]<n[h.operator]?v+="("+o(h,a)+")":(h.type==="MathExpression"&&g==="-"&&["+","-"].includes(h.operator)&&(h.operator=(0,r.flip)(h.operator)),v+=o(h,a)),v}case"Value":return i(s.value,a);case"CssVariable":return s.fallback?"var("+s.value+", "+o(s.fallback,a)+")":"var("+s.value+")";case"Calc":return s.prefix?"-"+s.prefix+"-calc("+o(s.value,a)+")":"calc("+o(s.value,a)+")";default:return i(s.value,a)+s.unit}}e.exports=t.default})(OM,OM.exports);var t3e=OM.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=WNe,n=h(r),i=NH,o=j_,s=h(o),a=t3e,d=h(a);function h(v){return v&&v.__esModule?v:{default:v}}var g=/((?:\-[a-z]+\-)?calc)/;t.default=function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,n.default)(v).walk(function(M){if(!(M.type!=="function"||!g.test(M.value))){var A=n.default.stringify(M.nodes);if(!(A.indexOf("constant")>=0||A.indexOf("env")>=0)){var w=i.parser.parse(A),P=(0,s.default)(w,b);M.type="word",M.value=(0,d.default)(M.value,P,b)}}},!0).toString()},e.exports=t.default})(kM,kM.exports);var r3e=kM.exports;const qk=Kr(r3e);function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){n3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n3e(e,t,r){return t=i3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3e(e){var t=o3e(e,"string");return F0(t)==="symbol"?t:String(t)}function o3e(e,t){if(F0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G4(e){return c3e(e)||l3e(e)||s3e(e)||a3e()}function a3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3e(e,t){if(e){if(typeof e=="string")return IM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IM(e,t)}}function l3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c3e(e){if(Array.isArray(e))return IM(e)}function IM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wp={widthCache:{},cacheCount:0},u3e=2e3,f3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d3e=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Y4="recharts_measurement_span";function h3e(e,t){return d3e.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function p3e(e){var t=e.split(""),r=t.reduce(function(n,i){return i===i.toUpperCase()?[].concat(G4(n),["-",i.toLowerCase()]):[].concat(G4(n),[i])},[]);return r.join("")}var m3e=function(t){return Object.keys(t).reduce(function(r,n){return"".concat(r).concat(p3e(n),":").concat(h3e(n,t[n]),";")},"")},Ul=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qc.isSsr)return{width:0,height:0};var n="".concat(t),i=m3e(r),o="".concat(n,"-").concat(i);if(wp.widthCache[o])return wp.widthCache[o];try{var s=document.getElementById(Y4);s||(s=document.createElement("span"),s.setAttribute("id",Y4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=H4(H4({},f3e),r);Object.keys(a).map(function(g){return s.style[g]=a[g],g}),s.textContent=n;var d=s.getBoundingClientRect(),h={width:d.width,height:d.height};return wp.widthCache[o]=h,++wp.cacheCount>u3e&&(wp.cacheCount=0,wp.widthCache={}),h}catch{return{width:0,height:0}}},g3e=function(t){var r=t.ownerDocument.documentElement,n={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft}},y3e=function(t,r){return{chartX:Math.round(t.pageX-r.left),chartY:Math.round(t.pageY-r.top)}},v3e=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RM.apply(this,arguments)}function _3e(e,t){if(e==null)return{};var r=x3e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x3e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function K4(e,t){return E3e(e)||S3e(e,t)||w3e(e,t)||b3e()}function b3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(e,t){if(e){if(typeof e=="string")return Z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(e,t)}}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function E3e(e){if(Array.isArray(e))return e}var jH=/[ \f\n\r\t\v\u2028\u2029]+/,BH=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];fr(r)||(n?o=r.toString().split(""):o=r.toString().split(jH));var s=o.map(function(d){return{word:d,width:Ul(d,i).width}}),a=n?0:Ul(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},C3e=function(t,r,n,i,o){var s=t.maxLines,a=t.children,d=t.style,h=t.breakAll,g=Mt(s),v=a,b=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return be.reduce(function(he,ve){var Se=ve.word,ye=ve.width,Ie=he[he.length-1];if(Ie&&(i==null||o||Ie.width+ye+n<Number(i)))Ie.words.push(Se),Ie.width+=ye+n;else{var Xe={words:[Se],width:ye};he.push(Xe)}return he},[])},M=b(r),A=function(be){return be.reduce(function(he,ve){return he.width>ve.width?he:ve})};if(!g)return M;for(var w="…",P=function(be){var he=v.slice(0,be),ve=BH({breakAll:h,style:d,children:he+w}).wordsWithComputedWidth,Se=b(ve),ye=Se.length>s||A(Se).width>Number(i);return[ye,Se]},O=0,I=v.length-1,T=0,R;O<=I&&T<=v.length-1;){var z=Math.floor((O+I)/2),j=z-1,V=P(j),Z=K4(V,2),ie=Z[0],ne=Z[1],ae=P(z),de=K4(ae,1),pe=de[0];if(!ie&&!pe&&(O=z+1),ie&&pe&&(I=z-1),!ie&&pe){R=ne;break}T++}return R||M},X4=function(t){var r=fr(t)?[]:t.toString().split(jH);return[{words:r}]},T3e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((r||n)&&!qc.isSsr){var d,h,g=BH({breakAll:s,children:i,style:o});if(g){var v=g.wordsWithComputedWidth,b=g.spaceWidth;d=v,h=b}else return X4(i);return C3e({breakAll:s,children:i,maxLines:a,style:o},d,h,r,n)}return X4(i)},FH={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"},U0=function(t){var r=W.useMemo(function(){return T3e({breakAll:t.breakAll,children:t.children,maxLines:t.maxLines,scaleToFit:t.scaleToFit,style:t.style,width:t.width})},[t.breakAll,t.children,t.maxLines,t.scaleToFit,t.style,t.width]),n=t.dx,i=t.dy,o=t.textAnchor,s=t.verticalAnchor,a=t.scaleToFit,d=t.angle,h=t.lineHeight,g=t.capHeight,v=t.className,b=t.breakAll,M=_3e(t,v3e);if(!zi(M.x)||!zi(M.y))return null;var A=M.x+(Mt(n)?n:0),w=M.y+(Mt(i)?i:0),P;switch(s){case"start":P=qk("calc(".concat(g,")"));break;case"middle":P=qk("calc(".concat((r.length-1)/2," * -").concat(h," + (").concat(g," / 2))"));break;default:P=qk("calc(".concat(r.length-1," * -").concat(h,")"));break}var O=[];if(a){var I=r[0].width,T=t.width;O.push("scale(".concat((Mt(T)?T/I:1)/I,")"))}return d&&O.push("rotate(".concat(d,", ").concat(A,", ").concat(w,")")),O.length&&(M.transform=O.join(" ")),qe.createElement("text",RM({},Ur(M,!0),{x:A,y:w,className:_n("recharts-text",v),textAnchor:o,fill:M.fill.includes("url")?FH.fill:M.fill}),r.map(function(R,z){return qe.createElement("tspan",{x:A,dy:z===0?P:h,key:z},R.words.join(b?"":" "))}))};U0.defaultProps=FH;var k3e=J$;function P3e(e,t){return k3e(e,t)}var A3e=P3e;const aD=Kr(A3e);var M3e=bg;function O3e(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(a===void 0?s===s&&!M3e(s):r(s,a)))var a=s,d=o}return d}var UH=O3e;function I3e(e,t){return e>t}var R3e=I3e,$3e=UH,D3e=R3e,L3e=kg;function z3e(e){return e&&e.length?$3e(e,L3e,D3e):void 0}var N3e=z3e;const bE=Kr(N3e);function j3e(e,t){return e<t}var B3e=j3e,F3e=UH,U3e=B3e,V3e=kg;function W3e(e){return e&&e.length?F3e(e,V3e,U3e):void 0}var q3e=W3e;const wE=Kr(q3e);var H3e=W$,G3e=Uf,Y3e=AH,K3e=oa;function Z3e(e,t){var r=K3e(e)?H3e:Y3e;return r(e,G3e(t))}var X3e=Z3e,J3e=kH,Q3e=X3e;function e5e(e,t){return J3e(Q3e(e,t),1)}var t5e=e5e;const r5e=Kr(t5e);function wf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VH(e){let t,r,n;e.length!==2?(t=wf,r=(a,d)=>wf(e(a),d),n=(a,d)=>e(a)-d):(t=e===wf||e===n5e?e:i5e,r=e,n=e);function i(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<0?h=v+1:g=v}while(h<g)}return h}function o(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<=0?h=v+1:g=v}while(h<g)}return h}function s(a,d,h=0,g=a.length){const v=i(a,d,h,g-1);return v>h&&n(a[v-1],d)>-n(a[v],d)?v-1:v}return{left:i,center:s,right:o}}function i5e(){return 0}function WH(e){return e===null?NaN:+e}function*o5e(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const a5e=VH(wf),s5e=a5e.right;VH(WH).center;const B_=s5e;class J4 extends Map{constructor(t,r=u5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Q4(this,t))}has(t){return super.has(Q4(this,t))}set(t,r){return super.set(l5e(this,t),r)}delete(t){return super.delete(c5e(this,t))}}function Q4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function u5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function f5e(e=wf){if(e===wf)return qH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const d5e=Math.sqrt(50),h5e=Math.sqrt(10),p5e=Math.sqrt(2);function Lw(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=d5e?10:o>=h5e?5:o>=p5e?2:1;let a,d,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),d=Math.round(t*h),a/h<e&&++a,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),d=Math.round(t/h),a*h<e&&++a,d*h>t&&--d),d<a&&.5<=r&&r<2?Lw(e,t,r*2):[a,d,h]}function $M(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,s]=n?Lw(t,e,r):Lw(e,t,r);if(!(o>=i))return[];const a=o-i+1,d=new Array(a);if(n)if(s<0)for(let h=0;h<a;++h)d[h]=(o-h)/-s;else for(let h=0;h<a;++h)d[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)d[h]=(i+h)/-s;else for(let h=0;h<a;++h)d[h]=(i+h)*s;return d}function DM(e,t,r){return t=+t,e=+e,r=+r,Lw(e,t,r)[2]}function m5e(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?DM(t,e,r):DM(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function eB(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function tB(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function HH(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?qH:f5e(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),M=Math.max(r,Math.floor(t-h*v/d+b)),A=Math.min(n,Math.floor(t+(d-h)*v/d+b));HH(e,t,M,A,i)}const o=e[t];let s=r,a=n;for(rv(e,r,t),i(e[n],o)>0&&rv(e,r,n);s<a;){for(rv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[r],o)===0?rv(e,r,a):(++a,rv(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function rv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g5e(e,t,r){if(e=Float64Array.from(o5e(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return tB(e);if(t>=1)return eB(e);var n,i=(n-1)*t,o=Math.floor(i),s=eB(HH(e,o).subarray(0,o+1)),a=tB(e.subarray(o+1));return s+(a-s)*(i-o)}}function y5e(e,t,r=WH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function v5e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const LM=Symbol("implicit");function sD(){var e=new J4,t=[],r=[],n=LM;function i(o){let s=e.get(o);if(s===void 0){if(n!==LM)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new J4;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sD(t,r).unknown(n)},Ls.apply(i,arguments),i}function V0(){var e=sD().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,d=0,h=0,g=.5;delete e.unknown;function v(){var b=t().length,M=i<n,A=M?i:n,w=M?n:i;o=(w-A)/Math.max(1,b-d+h*2),a&&(o=Math.floor(o)),A+=(w-A-o*(b-d))*g,s=o*(1-d),a&&(A=Math.round(A),s=Math.round(s));var P=v5e(b).map(function(O){return A+o*O});return r(M?P.reverse():P)}return e.domain=function(b){return arguments.length?(t(b),v()):t()},e.range=function(b){return arguments.length?([n,i]=b,n=+n,i=+i,v()):[n,i]},e.rangeRound=function(b){return[n,i]=b,n=+n,i=+i,a=!0,v()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(b){return arguments.length?(a=!!b,v()):a},e.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),v()):d},e.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),v()):d},e.paddingOuter=function(b){return arguments.length?(h=+b,v()):h},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),v()):g},e.copy=function(){return V0(t(),[n,i]).round(a).paddingInner(d).paddingOuter(h).align(g)},Ls.apply(v(),arguments)}function GH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GH(t())},e}function Hv(){return GH(V0.apply(null,arguments).paddingInner(1))}function lD(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function F_(){}var W0=.7,zw=1/W0,ym="\\s*([+-]?\\d+)\\s*",q0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_5e=/^#([0-9a-f]{3,8})$/,x5e=new RegExp(`^rgb\\(${ym},${ym},${ym}\\)$`),b5e=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),w5e=new RegExp(`^rgba\\(${ym},${ym},${ym},${q0}\\)$`),S5e=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${q0}\\)$`),E5e=new RegExp(`^hsl\\(${q0},${Xl},${Xl}\\)$`),C5e=new RegExp(`^hsla\\(${q0},${Xl},${Xl},${q0}\\)$`),rB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lD(F_,H0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nB,formatHex:nB,formatHex8:T5e,formatHsl:k5e,formatRgb:iB,toString:iB});function nB(){return this.rgb().formatHex()}function T5e(){return this.rgb().formatHex8()}function k5e(){return KH(this).formatHsl()}function iB(){return this.rgb().formatRgb()}function H0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oB(t):r===3?new _a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x5e.exec(e))?new _a(t[1],t[2],t[3],1):(t=b5e.exec(e))?new _a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w5e.exec(e))?zb(t[1],t[2],t[3],t[4]):(t=S5e.exec(e))?zb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=E5e.exec(e))?lB(t[1],t[2]/100,t[3]/100,1):(t=C5e.exec(e))?lB(t[1],t[2]/100,t[3]/100,t[4]):rB.hasOwnProperty(e)?oB(rB[e]):e==="transparent"?new _a(NaN,NaN,NaN,0):null}function oB(e){return new _a(e>>16&255,e>>8&255,e&255,1)}function zb(e,t,r,n){return n<=0&&(e=t=r=NaN),new _a(e,t,r,n)}function P5e(e){return e instanceof F_||(e=H0(e)),e?(e=e.rgb(),new _a(e.r,e.g,e.b,e.opacity)):new _a}function zM(e,t,r,n){return arguments.length===1?P5e(e):new _a(e,t,r,n??1)}function _a(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}lD(_a,zM,YH(F_,{brighter(e){return e=e==null?zw:Math.pow(zw,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?W0:Math.pow(W0,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _a(Wd(this.r),Wd(this.g),Wd(this.b),Nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aB,formatHex:aB,formatHex8:A5e,formatRgb:sB,toString:sB}));function aB(){return`#${Ld(this.r)}${Ld(this.g)}${Ld(this.b)}`}function A5e(){return`#${Ld(this.r)}${Ld(this.g)}${Ld(this.b)}${Ld((isNaN(this.opacity)?1:this.opacity)*255)}`}function sB(){const e=Nw(this.opacity);return`${e===1?"rgb(":"rgba("}${Wd(this.r)}, ${Wd(this.g)}, ${Wd(this.b)}${e===1?")":`, ${e})`}`}function Nw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ld(e){return e=Wd(e),(e<16?"0":"")+e.toString(16)}function lB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sl(e,t,r,n)}function KH(e){if(e instanceof sl)return new sl(e.h,e.s,e.l,e.opacity);if(e instanceof F_||(e=H0(e)),!e)return new sl;if(e instanceof sl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,d=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=d<.5?o+i:2-o-i,s*=60):a=d>0&&d<1?0:s,new sl(s,a,d,e.opacity)}function M5e(e,t,r,n){return arguments.length===1?KH(e):new sl(e,t,r,n??1)}function sl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}lD(sl,M5e,YH(F_,{brighter(e){return e=e==null?zw:Math.pow(zw,e),new sl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?W0:Math.pow(W0,e),new sl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new _a(Hk(e>=240?e-240:e+120,i,n),Hk(e,i,n),Hk(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sl(cB(this.h),Nb(this.s),Nb(this.l),Nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nw(this.opacity);return`${e===1?"hsl(":"hsla("}${cB(this.h)}, ${Nb(this.s)*100}%, ${Nb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cB(e){return e=(e||0)%360,e<0?e+360:e}function Nb(e){return Math.max(0,Math.min(1,e||0))}function Hk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cD=e=>()=>e;function O5e(e,t){return function(r){return e+r*t}}function I5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function R5e(e){return(e=+e)==1?ZH:function(t,r){return r-t?I5e(t,r,e):cD(isNaN(t)?r:t)}}function ZH(e,t){var r=t-e;return r?O5e(e,r):cD(isNaN(e)?t:e)}const uB=function e(t){var r=R5e(t);function n(i,o){var s=r((i=zM(i)).r,(o=zM(o)).r),a=r(i.g,o.g),d=r(i.b,o.b),h=ZH(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=d(g),i.opacity=h(g),i+""}}return n.gamma=e,n}(1);function $5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function D5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Ag(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function z5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function N5e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ag(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var NM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gk=new RegExp(NM.source,"g");function j5e(e){return function(){return e}}function B5e(e){return function(t){return e(t)+""}}function F5e(e,t){var r=NM.lastIndex=Gk.lastIndex=0,n,i,o,s=-1,a=[],d=[];for(e=e+"",t=t+"";(n=NM.exec(e))&&(i=Gk.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,d.push({i:s,x:jw(n,i)})),r=Gk.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?d[0]?B5e(d[0].x):j5e(t):(t=d.length,function(h){for(var g=0,v;g<t;++g)a[(v=d[g]).i]=v.x(h);return a.join("")})}function Ag(e,t){var r=typeof t,n;return t==null||r==="boolean"?cD(t):(r==="number"?jw:r==="string"?(n=H0(t))?(t=n,uB):F5e:t instanceof H0?uB:t instanceof Date?z5e:D5e(t)?$5e:Array.isArray(t)?L5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?N5e:jw)(e,t)}function uD(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function U5e(e,t){t===void 0&&(t=e,e=Ag);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function V5e(e){return function(){return e}}function Bw(e){return+e}var fB=[0,1];function ta(e){return e}function jM(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:V5e(isNaN(t)?NaN:.5)}function W5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function q5e(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=jM(i,n),o=r(s,o)):(n=jM(n,i),o=r(o,s)),function(a){return o(n(a))}}function H5e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=jM(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var d=B_(e,a,1,n)-1;return o[d](i[d](a))}}function U_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function SE(){var e=fB,t=fB,r=Ag,n,i,o,s=ta,a,d,h;function g(){var b=Math.min(e.length,t.length);return s!==ta&&(s=W5e(e[0],e[b-1])),a=b>2?H5e:q5e,d=h=null,v}function v(b){return b==null||isNaN(b=+b)?o:(d||(d=a(e.map(n),t,r)))(n(s(b)))}return v.invert=function(b){return s(i((h||(h=a(t,e.map(n),jw)))(b)))},v.domain=function(b){return arguments.length?(e=Array.from(b,Bw),g()):e.slice()},v.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},v.rangeRound=function(b){return t=Array.from(b),r=uD,g()},v.clamp=function(b){return arguments.length?(s=b?!0:ta,g()):s!==ta},v.interpolate=function(b){return arguments.length?(r=b,g()):r},v.unknown=function(b){return arguments.length?(o=b,v):o},function(b,M){return n=b,i=M,g()}}function fD(){return SE()(ta,ta)}function G5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gm(e){return e=Fw(Math.abs(e)),e?e[1]:NaN}function Y5e(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],d=0;i>0&&a>0&&(d+a+1>n&&(a=Math.max(1,n-d)),o.push(r.substring(i-=a,i+a)),!((d+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function K5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Z5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function G0(e){if(!(t=Z5e.exec(e)))throw new Error("invalid format: "+e);var t;return new dD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}G0.prototype=dD.prototype;function dD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function X5e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var XH;function J5e(e,t){var r=Fw(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(XH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Fw(e,Math.max(0,t+o-1))[0]}function dB(e,t){var r=Fw(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const hB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dB(e*100,t),r:dB,s:J5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pB(e){return e}var mB=Array.prototype.map,gB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Q5e(e){var t=e.grouping===void 0||e.thousands===void 0?pB:Y5e(mB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?pB:K5e(mB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(v){v=G0(v);var b=v.fill,M=v.align,A=v.sign,w=v.symbol,P=v.zero,O=v.width,I=v.comma,T=v.precision,R=v.trim,z=v.type;z==="n"?(I=!0,z="g"):hB[z]||(T===void 0&&(T=12),R=!0,z="g"),(P||b==="0"&&M==="=")&&(P=!0,b="0",M="=");var j=w==="$"?r:w==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",V=w==="$"?n:/[%p]/.test(z)?s:"",Z=hB[z],ie=/[defgprs%]/.test(z);T=T===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ne(ae){var de=j,pe=V,Pe,be,he;if(z==="c")pe=Z(ae)+pe,ae="";else{ae=+ae;var ve=ae<0||1/ae<0;if(ae=isNaN(ae)?d:Z(Math.abs(ae),T),R&&(ae=X5e(ae)),ve&&+ae==0&&A!=="+"&&(ve=!1),de=(ve?A==="("?A:a:A==="-"||A==="("?"":A)+de,pe=(z==="s"?gB[8+XH/3]:"")+pe+(ve&&A==="("?")":""),ie){for(Pe=-1,be=ae.length;++Pe<be;)if(he=ae.charCodeAt(Pe),48>he||he>57){pe=(he===46?i+ae.slice(Pe+1):ae.slice(Pe))+pe,ae=ae.slice(0,Pe);break}}}I&&!P&&(ae=t(ae,1/0));var Se=de.length+ae.length+pe.length,ye=Se<O?new Array(O-Se+1).join(b):"";switch(I&&P&&(ae=t(ye+ae,ye.length?O-pe.length:1/0),ye=""),M){case"<":ae=de+ae+pe+ye;break;case"=":ae=de+ye+ae+pe;break;case"^":ae=ye.slice(0,Se=ye.length>>1)+de+ae+pe+ye.slice(Se);break;default:ae=ye+de+ae+pe;break}return o(ae)}return ne.toString=function(){return v+""},ne}function g(v,b){var M=h((v=G0(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(Gm(b)/3)))*3,w=Math.pow(10,-A),P=gB[8+A/3];return function(O){return M(w*O)+P}}return{format:h,formatPrefix:g}}var jb,hD,JH;eje({thousands:",",grouping:[3],currency:["$",""]});function eje(e){return jb=Q5e(e),hD=jb.format,JH=jb.formatPrefix,jb}function tje(e){return Math.max(0,-Gm(Math.abs(e)))}function rje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gm(t)/3)))*3-Gm(Math.abs(e)))}function nje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gm(t)-Gm(e))+1}function QH(e,t,r,n){var i=m5e(e,t,r),o;switch(n=G0(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=rje(i,s))&&(n.precision=o),JH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=nje(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=tje(i))&&(n.precision=o-(n.type==="%")*2);break}}return hD(n)}function Wf(e){var t=e.domain;return e.ticks=function(r){var n=t();return $M(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return QH(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],d,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=DM(s,a,r),h===d)return n[i]=s,n[o]=a,t(n);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;d=h}return e},e}function Uw(){var e=fD();return e.copy=function(){return U_(e,Uw())},Ls.apply(e,arguments),Wf(e)}function eG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Bw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eG(e).unknown(t)},e=arguments.length?Array.from(e,Bw):[0,1],Wf(r)}function tG(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}function yB(e){return Math.log(e)}function vB(e){return Math.exp(e)}function ije(e){return-Math.log(-e)}function oje(e){return-Math.exp(-e)}function aje(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sje(e){return e===10?aje:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _B(e){return(t,r)=>-e(-t,r)}function pD(e){const t=e(yB,vB),r=t.domain;let n=10,i,o;function s(){return i=lje(n),o=sje(n),r()[0]<0?(i=_B(i),o=_B(o),e(ije,oje)):e(yB,vB),t}return t.base=function(a){return arguments.length?(n=+a,s()):n},t.domain=function(a){return arguments.length?(r(a),s()):r()},t.ticks=a=>{const d=r();let h=d[0],g=d[d.length-1];const v=g<h;v&&([h,g]=[g,h]);let b=i(h),M=i(g),A,w;const P=a==null?10:+a;let O=[];if(!(n%1)&&M-b<P){if(b=Math.floor(b),M=Math.ceil(M),h>0){for(;b<=M;++b)for(A=1;A<n;++A)if(w=b<0?A/o(-b):A*o(b),!(w<h)){if(w>g)break;O.push(w)}}else for(;b<=M;++b)for(A=n-1;A>=1;--A)if(w=b>0?A/o(-b):A*o(b),!(w<h)){if(w>g)break;O.push(w)}O.length*2<P&&(O=$M(h,g,P))}else O=$M(b,M,Math.min(M-b,P)).map(o);return v?O.reverse():O},t.tickFormat=(a,d)=>{if(a==null&&(a=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=G0(d)).precision==null&&(d.trim=!0),d=hD(d)),a===1/0)return d;const h=Math.max(1,n*a/t.ticks().length);return g=>{let v=g/o(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=h?d(g):""}},t.nice=()=>r(tG(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function rG(){const e=pD(SE()).domain([1,10]);return e.copy=()=>U_(e,rG()).base(e.base()),Ls.apply(e,arguments),e}function xB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mD(e){var t=1,r=e(xB(t),bB(t));return r.constant=function(n){return arguments.length?e(xB(t=+n),bB(t)):t},Wf(r)}function nG(){var e=mD(SE());return e.copy=function(){return U_(e,nG()).constant(e.constant())},Ls.apply(e,arguments)}function wB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cje(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uje(e){return e<0?-e*e:e*e}function gD(e){var t=e(ta,ta),r=1;function n(){return r===1?e(ta,ta):r===.5?e(cje,uje):e(wB(r),wB(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Wf(t)}function yD(){var e=gD(SE());return e.copy=function(){return U_(e,yD()).exponent(e.exponent())},Ls.apply(e,arguments),e}function fje(){return yD.apply(null,arguments).exponent(.5)}function SB(e){return Math.sign(e)*e*e}function dje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iG(){var e=fD(),t=[0,1],r=!1,n;function i(o){var s=dje(e(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return e.invert(SB(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Bw)).map(SB)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return iG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ls.apply(i,arguments),Wf(i)}function oG(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=y5e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[B_(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(wf),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return oG().domain(e).range(t).unknown(n)},Ls.apply(o,arguments)}function aG(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function s(d){return d!=null&&d<=d?i[B_(n,d,0,r)]:o}function a(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,a()):[e,t]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,a()):i.slice()},s.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},s.unknown=function(d){return arguments.length&&(o=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return aG().domain([e,t]).range(i).unknown(o)},Ls.apply(Wf(s),arguments)}function sG(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[B_(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return sG().domain(e).range(t).unknown(r)},Ls.apply(i,arguments)}const Yk=new Date,Kk=new Date;function Bi(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const d=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return d;let h;do d.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return d},i.filter=o=>Bi(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),r&&(i.count=(o,s)=>(Yk.setTime(+o),Kk.setTime(+s),e(Yk),e(Kk),Math.floor(r(Yk,Kk))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Vw=Bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vw);Vw.range;const Fc=1e3,_s=Fc*60,Uc=_s*60,ou=Uc*24,vD=ou*7,EB=ou*30,Zk=ou*365,zd=Bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fc)},(e,t)=>(t-e)/Fc,e=>e.getUTCSeconds());zd.range;const _D=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fc)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getMinutes());_D.range;const xD=Bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getUTCMinutes());xD.range;const bD=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fc-e.getMinutes()*_s)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getHours());bD.range;const wD=Bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getUTCHours());wD.range;const V_=Bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_s)/ou,e=>e.getDate()-1);V_.range;const EE=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>e.getUTCDate()-1);EE.range;const lG=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>Math.floor(e/ou));lG.range;function mh(e){return Bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_s)/vD)}const CE=mh(0),Ww=mh(1),hje=mh(2),pje=mh(3),Ym=mh(4),mje=mh(5),gje=mh(6);CE.range;Ww.range;hje.range;pje.range;Ym.range;mje.range;gje.range;function gh(e){return Bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vD)}const TE=gh(0),qw=gh(1),yje=gh(2),vje=gh(3),Km=gh(4),_je=gh(5),xje=gh(6);TE.range;qw.range;yje.range;vje.range;Km.range;_je.range;xje.range;const SD=Bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SD.range;const ED=Bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ED.range;const au=Bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());au.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});au.range;const su=Bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());su.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});su.range;function Xk(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wje(e){let t,r,n;e.length!==2?(t=Xk,r=(a,d)=>Xk(e(a),d),n=(a,d)=>e(a)-d):(t=e===Xk||e===bje?e:Sje,r=e,n=e);function i(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<0?h=v+1:g=v}while(h<g)}return h}function o(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<=0?h=v+1:g=v}while(h<g)}return h}function s(a,d,h=0,g=a.length){const v=i(a,d,h,g-1);return v>h&&n(a[v-1],d)>-n(a[v],d)?v-1:v}return{left:i,center:s,right:o}}function Sje(){return 0}const Eje=Math.sqrt(50),Cje=Math.sqrt(10),Tje=Math.sqrt(2);function cG(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Eje?10:o>=Cje?5:o>=Tje?2:1;let a,d,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),d=Math.round(t*h),a/h<e&&++a,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),d=Math.round(t/h),a*h<e&&++a,d*h>t&&--d),d<a&&.5<=r&&r<2?cG(e,t,r*2):[a,d,h]}function CB(e,t,r){return t=+t,e=+e,r=+r,cG(e,t,r)[2]}function TB(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?CB(t,e,r):CB(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function uG(e,t,r,n,i,o){const s=[[zd,1,Fc],[zd,5,5*Fc],[zd,15,15*Fc],[zd,30,30*Fc],[o,1,_s],[o,5,5*_s],[o,15,15*_s],[o,30,30*_s],[i,1,Uc],[i,3,3*Uc],[i,6,6*Uc],[i,12,12*Uc],[n,1,ou],[n,2,2*ou],[r,1,vD],[t,1,EB],[t,3,3*EB],[e,1,Zk]];function a(h,g,v){const b=g<h;b&&([h,g]=[g,h]);const M=v&&typeof v.range=="function"?v:d(h,g,v),A=M?M.range(h,+g+1):[];return b?A.reverse():A}function d(h,g,v){const b=Math.abs(g-h)/v,M=wje(([,,P])=>P).right(s,b);if(M===s.length)return e.every(TB(h/Zk,g/Zk,v));if(M===0)return Vw.every(Math.max(TB(h,g,v),1));const[A,w]=s[b/s[M-1][2]<s[M][2]/b?M-1:M];return A.every(w)}return[a,d]}const[kje,Pje]=uG(su,ED,TE,lG,wD,xD),[Aje,Mje]=uG(au,SD,CE,V_,bD,_D);function Jk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Oje(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,d=e.shortMonths,h=iv(i),g=ov(i),v=iv(o),b=ov(o),M=iv(s),A=ov(s),w=iv(a),P=ov(a),O=iv(d),I=ov(d),T={a:ve,A:Se,b:ye,B:Ie,c:null,d:IB,e:IB,f:e4e,g:u4e,G:d4e,H:Xje,I:Jje,j:Qje,L:fG,m:t4e,M:r4e,p:Xe,q:Ee,Q:DB,s:LB,S:n4e,u:i4e,U:o4e,V:a4e,w:s4e,W:l4e,x:null,X:null,y:c4e,Y:f4e,Z:h4e,"%":$B},R={a:De,A:Oe,b:Ge,B:Be,c:null,d:RB,e:RB,f:y4e,g:k4e,G:A4e,H:p4e,I:m4e,j:g4e,L:hG,m:v4e,M:_4e,p:at,q:nt,Q:DB,s:LB,S:x4e,u:b4e,U:w4e,V:S4e,w:E4e,W:C4e,x:null,X:null,y:T4e,Y:P4e,Z:M4e,"%":$B},z={a:ne,A:ae,b:de,B:pe,c:Pe,d:MB,e:MB,f:Gje,g:AB,G:PB,H:OB,I:OB,j:Vje,L:Hje,m:Uje,M:Wje,p:ie,q:Fje,Q:Kje,s:Zje,S:qje,u:Lje,U:zje,V:Nje,w:Dje,W:jje,x:be,X:he,y:AB,Y:PB,Z:Bje,"%":Yje};T.x=j(r,T),T.X=j(n,T),T.c=j(t,T),R.x=j(r,R),R.X=j(n,R),R.c=j(t,R);function j(Ve,Je){return function(ct){var Fe=[],Re=-1,St=0,Zt=Ve.length,Ot,zt,Mr;for(ct instanceof Date||(ct=new Date(+ct));++Re<Zt;)Ve.charCodeAt(Re)===37&&(Fe.push(Ve.slice(St,Re)),(zt=kB[Ot=Ve.charAt(++Re)])!=null?Ot=Ve.charAt(++Re):zt=Ot==="e"?" ":"0",(Mr=Je[Ot])&&(Ot=Mr(ct,zt)),Fe.push(Ot),St=Re+1);return Fe.push(Ve.slice(St,Re)),Fe.join("")}}function V(Ve,Je){return function(ct){var Fe=nv(1900,void 0,1),Re=Z(Fe,Ve,ct+="",0),St,Zt;if(Re!=ct.length)return null;if("Q"in Fe)return new Date(Fe.Q);if("s"in Fe)return new Date(Fe.s*1e3+("L"in Fe?Fe.L:0));if(Je&&!("Z"in Fe)&&(Fe.Z=0),"p"in Fe&&(Fe.H=Fe.H%12+Fe.p*12),Fe.m===void 0&&(Fe.m="q"in Fe?Fe.q:0),"V"in Fe){if(Fe.V<1||Fe.V>53)return null;"w"in Fe||(Fe.w=1),"Z"in Fe?(St=Qk(nv(Fe.y,0,1)),Zt=St.getUTCDay(),St=Zt>4||Zt===0?qw.ceil(St):qw(St),St=EE.offset(St,(Fe.V-1)*7),Fe.y=St.getUTCFullYear(),Fe.m=St.getUTCMonth(),Fe.d=St.getUTCDate()+(Fe.w+6)%7):(St=Jk(nv(Fe.y,0,1)),Zt=St.getDay(),St=Zt>4||Zt===0?Ww.ceil(St):Ww(St),St=V_.offset(St,(Fe.V-1)*7),Fe.y=St.getFullYear(),Fe.m=St.getMonth(),Fe.d=St.getDate()+(Fe.w+6)%7)}else("W"in Fe||"U"in Fe)&&("w"in Fe||(Fe.w="u"in Fe?Fe.u%7:"W"in Fe?1:0),Zt="Z"in Fe?Qk(nv(Fe.y,0,1)).getUTCDay():Jk(nv(Fe.y,0,1)).getDay(),Fe.m=0,Fe.d="W"in Fe?(Fe.w+6)%7+Fe.W*7-(Zt+5)%7:Fe.w+Fe.U*7-(Zt+6)%7);return"Z"in Fe?(Fe.H+=Fe.Z/100|0,Fe.M+=Fe.Z%100,Qk(Fe)):Jk(Fe)}}function Z(Ve,Je,ct,Fe){for(var Re=0,St=Je.length,Zt=ct.length,Ot,zt;Re<St;){if(Fe>=Zt)return-1;if(Ot=Je.charCodeAt(Re++),Ot===37){if(Ot=Je.charAt(Re++),zt=z[Ot in kB?Je.charAt(Re++):Ot],!zt||(Fe=zt(Ve,ct,Fe))<0)return-1}else if(Ot!=ct.charCodeAt(Fe++))return-1}return Fe}function ie(Ve,Je,ct){var Fe=h.exec(Je.slice(ct));return Fe?(Ve.p=g.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function ne(Ve,Je,ct){var Fe=M.exec(Je.slice(ct));return Fe?(Ve.w=A.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function ae(Ve,Je,ct){var Fe=v.exec(Je.slice(ct));return Fe?(Ve.w=b.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function de(Ve,Je,ct){var Fe=O.exec(Je.slice(ct));return Fe?(Ve.m=I.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function pe(Ve,Je,ct){var Fe=w.exec(Je.slice(ct));return Fe?(Ve.m=P.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function Pe(Ve,Je,ct){return Z(Ve,t,Je,ct)}function be(Ve,Je,ct){return Z(Ve,r,Je,ct)}function he(Ve,Je,ct){return Z(Ve,n,Je,ct)}function ve(Ve){return s[Ve.getDay()]}function Se(Ve){return o[Ve.getDay()]}function ye(Ve){return d[Ve.getMonth()]}function Ie(Ve){return a[Ve.getMonth()]}function Xe(Ve){return i[+(Ve.getHours()>=12)]}function Ee(Ve){return 1+~~(Ve.getMonth()/3)}function De(Ve){return s[Ve.getUTCDay()]}function Oe(Ve){return o[Ve.getUTCDay()]}function Ge(Ve){return d[Ve.getUTCMonth()]}function Be(Ve){return a[Ve.getUTCMonth()]}function at(Ve){return i[+(Ve.getUTCHours()>=12)]}function nt(Ve){return 1+~~(Ve.getUTCMonth()/3)}return{format:function(Ve){var Je=j(Ve+="",T);return Je.toString=function(){return Ve},Je},parse:function(Ve){var Je=V(Ve+="",!1);return Je.toString=function(){return Ve},Je},utcFormat:function(Ve){var Je=j(Ve+="",R);return Je.toString=function(){return Ve},Je},utcParse:function(Ve){var Je=V(Ve+="",!0);return Je.toString=function(){return Ve},Je}}}var kB={"-":"",_:" ",0:"0"},eo=/^\s*\d+/,Ije=/^%/,Rje=/[\\^$*+?|[\]().{}]/g;function Yr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function $je(e){return e.replace(Rje,"\\$&")}function iv(e){return new RegExp("^(?:"+e.map($je).join("|")+")","i")}function ov(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Dje(e,t,r){var n=eo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Lje(e,t,r){var n=eo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zje(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Nje(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jje(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PB(e,t,r){var n=eo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AB(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fje(e,t,r){var n=eo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Uje(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function MB(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Vje(e,t,r){var n=eo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OB(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Wje(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qje(e,t,r){var n=eo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Hje(e,t,r){var n=eo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Gje(e,t,r){var n=eo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Yje(e,t,r){var n=Ije.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kje(e,t,r){var n=eo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Zje(e,t,r){var n=eo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function IB(e,t){return Yr(e.getDate(),t,2)}function Xje(e,t){return Yr(e.getHours(),t,2)}function Jje(e,t){return Yr(e.getHours()%12||12,t,2)}function Qje(e,t){return Yr(1+V_.count(au(e),e),t,3)}function fG(e,t){return Yr(e.getMilliseconds(),t,3)}function e4e(e,t){return fG(e,t)+"000"}function t4e(e,t){return Yr(e.getMonth()+1,t,2)}function r4e(e,t){return Yr(e.getMinutes(),t,2)}function n4e(e,t){return Yr(e.getSeconds(),t,2)}function i4e(e){var t=e.getDay();return t===0?7:t}function o4e(e,t){return Yr(CE.count(au(e)-1,e),t,2)}function dG(e){var t=e.getDay();return t>=4||t===0?Ym(e):Ym.ceil(e)}function a4e(e,t){return e=dG(e),Yr(Ym.count(au(e),e)+(au(e).getDay()===4),t,2)}function s4e(e){return e.getDay()}function l4e(e,t){return Yr(Ww.count(au(e)-1,e),t,2)}function c4e(e,t){return Yr(e.getFullYear()%100,t,2)}function u4e(e,t){return e=dG(e),Yr(e.getFullYear()%100,t,2)}function f4e(e,t){return Yr(e.getFullYear()%1e4,t,4)}function d4e(e,t){var r=e.getDay();return e=r>=4||r===0?Ym(e):Ym.ceil(e),Yr(e.getFullYear()%1e4,t,4)}function h4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yr(t/60|0,"0",2)+Yr(t%60,"0",2)}function RB(e,t){return Yr(e.getUTCDate(),t,2)}function p4e(e,t){return Yr(e.getUTCHours(),t,2)}function m4e(e,t){return Yr(e.getUTCHours()%12||12,t,2)}function g4e(e,t){return Yr(1+EE.count(su(e),e),t,3)}function hG(e,t){return Yr(e.getUTCMilliseconds(),t,3)}function y4e(e,t){return hG(e,t)+"000"}function v4e(e,t){return Yr(e.getUTCMonth()+1,t,2)}function _4e(e,t){return Yr(e.getUTCMinutes(),t,2)}function x4e(e,t){return Yr(e.getUTCSeconds(),t,2)}function b4e(e){var t=e.getUTCDay();return t===0?7:t}function w4e(e,t){return Yr(TE.count(su(e)-1,e),t,2)}function pG(e){var t=e.getUTCDay();return t>=4||t===0?Km(e):Km.ceil(e)}function S4e(e,t){return e=pG(e),Yr(Km.count(su(e),e)+(su(e).getUTCDay()===4),t,2)}function E4e(e){return e.getUTCDay()}function C4e(e,t){return Yr(qw.count(su(e)-1,e),t,2)}function T4e(e,t){return Yr(e.getUTCFullYear()%100,t,2)}function k4e(e,t){return e=pG(e),Yr(e.getUTCFullYear()%100,t,2)}function P4e(e,t){return Yr(e.getUTCFullYear()%1e4,t,4)}function A4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Km(e):Km.ceil(e),Yr(e.getUTCFullYear()%1e4,t,4)}function M4e(){return"+0000"}function $B(){return"%"}function DB(e){return+e}function LB(e){return Math.floor(+e/1e3)}var Sp,mG,gG;O4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O4e(e){return Sp=Oje(e),mG=Sp.format,Sp.parse,gG=Sp.utcFormat,Sp.utcParse,Sp}function I4e(e){return new Date(e)}function R4e(e){return e instanceof Date?+e:+new Date(+e)}function CD(e,t,r,n,i,o,s,a,d,h){var g=fD(),v=g.invert,b=g.domain,M=h(".%L"),A=h(":%S"),w=h("%I:%M"),P=h("%I %p"),O=h("%a %d"),I=h("%b %d"),T=h("%B"),R=h("%Y");function z(j){return(d(j)<j?M:a(j)<j?A:s(j)<j?w:o(j)<j?P:n(j)<j?i(j)<j?O:I:r(j)<j?T:R)(j)}return g.invert=function(j){return new Date(v(j))},g.domain=function(j){return arguments.length?b(Array.from(j,R4e)):b().map(I4e)},g.ticks=function(j){var V=b();return e(V[0],V[V.length-1],j??10)},g.tickFormat=function(j,V){return V==null?z:h(V)},g.nice=function(j){var V=b();return(!j||typeof j.range!="function")&&(j=t(V[0],V[V.length-1],j??10)),j?b(tG(V,j)):g},g.copy=function(){return U_(g,CD(e,t,r,n,i,o,s,a,d,h))},g}function $4e(){return Ls.apply(CD(Aje,Mje,au,SD,CE,V_,bD,_D,zd,mG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D4e(){return Ls.apply(CD(kje,Pje,su,ED,TE,EE,wD,xD,zd,gG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kE(){var e=0,t=1,r,n,i,o,s=ta,a=!1,d;function h(v){return v==null||isNaN(v=+v)?d:s(i===0?.5:(v=(o(v)-r)*i,a?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(v){return arguments.length?(a=!!v,h):a},h.interpolator=function(v){return arguments.length?(s=v,h):s};function g(v){return function(b){var M,A;return arguments.length?([M,A]=b,s=v(M,A),h):[s(0),s(1)]}}return h.range=g(Ag),h.rangeRound=g(uD),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return o=v,r=v(e),n=v(t),i=r===n?0:1/(n-r),h}}function qf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yG(){var e=Wf(kE()(ta));return e.copy=function(){return qf(e,yG())},hu.apply(e,arguments)}function vG(){var e=pD(kE()).domain([1,10]);return e.copy=function(){return qf(e,vG()).base(e.base())},hu.apply(e,arguments)}function _G(){var e=mD(kE());return e.copy=function(){return qf(e,_G()).constant(e.constant())},hu.apply(e,arguments)}function TD(){var e=gD(kE());return e.copy=function(){return qf(e,TD()).exponent(e.exponent())},hu.apply(e,arguments)}function L4e(){return TD.apply(null,arguments).exponent(.5)}function xG(){var e=[],t=ta;function r(n){if(n!=null&&!isNaN(n=+n))return t((B_(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(wf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>g5e(e,o/n))},r.copy=function(){return xG(t).domain(e)},hu.apply(r,arguments)}function PE(){var e=0,t=.5,r=1,n=1,i,o,s,a,d,h=ta,g,v=!1,b;function M(w){return isNaN(w=+w)?b:(w=.5+((w=+g(w))-o)*(n*w<n*o?a:d),h(v?Math.max(0,Math.min(1,w)):w))}M.domain=function(w){return arguments.length?([e,t,r]=w,i=g(e=+e),o=g(t=+t),s=g(r=+r),a=i===o?0:.5/(o-i),d=o===s?0:.5/(s-o),n=o<i?-1:1,M):[e,t,r]},M.clamp=function(w){return arguments.length?(v=!!w,M):v},M.interpolator=function(w){return arguments.length?(h=w,M):h};function A(w){return function(P){var O,I,T;return arguments.length?([O,I,T]=P,h=U5e(w,[O,I,T]),M):[h(0),h(.5),h(1)]}}return M.range=A(Ag),M.rangeRound=A(uD),M.unknown=function(w){return arguments.length?(b=w,M):b},function(w){return g=w,i=w(e),o=w(t),s=w(r),a=i===o?0:.5/(o-i),d=o===s?0:.5/(s-o),n=o<i?-1:1,M}}function bG(){var e=Wf(PE()(ta));return e.copy=function(){return qf(e,bG())},hu.apply(e,arguments)}function wG(){var e=pD(PE()).domain([.1,1,10]);return e.copy=function(){return qf(e,wG()).base(e.base())},hu.apply(e,arguments)}function SG(){var e=mD(PE());return e.copy=function(){return qf(e,SG()).constant(e.constant())},hu.apply(e,arguments)}function kD(){var e=gD(PE());return e.copy=function(){return qf(e,kD()).exponent(e.exponent())},hu.apply(e,arguments)}function z4e(){return kD.apply(null,arguments).exponent(.5)}const zB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:V0,scaleDiverging:bG,scaleDivergingLog:wG,scaleDivergingPow:kD,scaleDivergingSqrt:z4e,scaleDivergingSymlog:SG,scaleIdentity:eG,scaleImplicit:LM,scaleLinear:Uw,scaleLog:rG,scaleOrdinal:sD,scalePoint:Hv,scalePow:yD,scaleQuantile:oG,scaleQuantize:aG,scaleRadial:iG,scaleSequential:yG,scaleSequentialLog:vG,scaleSequentialPow:TD,scaleSequentialQuantile:xG,scaleSequentialSqrt:L4e,scaleSequentialSymlog:_G,scaleSqrt:fje,scaleSymlog:nG,scaleThreshold:sG,scaleTime:$4e,scaleUtc:D4e,tickFormat:QH},Symbol.toStringTag,{value:"Module"}));var Mg=1e9,N4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AD,Yn=!0,Os="[DecimalError] ",qd=Os+"Invalid argument: ",PD=Os+"Exponent out of range: ",Og=Math.floor,Sd=Math.pow,j4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Va,Zi=1e7,$n=7,EG=9007199254740991,Hw=Og(EG/$n),Yt={};Yt.absoluteValue=Yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Yt.comparedTo=Yt.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Yt.decimalPlaces=Yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$n;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Yt.dividedBy=Yt.div=function(e){return Hc(this,new this.constructor(e))};Yt.dividedToIntegerBy=Yt.idiv=function(e){var t=this,r=t.constructor;return En(Hc(t,new r(e),0,1),r.precision)};Yt.equals=Yt.eq=function(e){return!this.cmp(e)};Yt.exponent=function(){return Ii(this)};Yt.greaterThan=Yt.gt=function(e){return this.cmp(e)>0};Yt.greaterThanOrEqualTo=Yt.gte=function(e){return this.cmp(e)>=0};Yt.isInteger=Yt.isint=function(){return this.e>this.d.length-2};Yt.isNegative=Yt.isneg=function(){return this.s<0};Yt.isPositive=Yt.ispos=function(){return this.s>0};Yt.isZero=function(){return this.s===0};Yt.lessThan=Yt.lt=function(e){return this.cmp(e)<0};Yt.lessThanOrEqualTo=Yt.lte=function(e){return this.cmp(e)<1};Yt.logarithm=Yt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Va))throw Error(Os+"NaN");if(r.s<1)throw Error(Os+(r.s?"NaN":"-Infinity"));return r.eq(Va)?new n(0):(Yn=!1,t=Hc(Y0(r,o),Y0(e,o),o),Yn=!0,En(t,i))};Yt.minus=Yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kG(t,e):CG(t,(e.s=-e.s,e))};Yt.modulo=Yt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Os+"NaN");return r.s?(Yn=!1,t=Hc(r,e,0,1).times(e),Yn=!0,r.minus(t)):En(new n(r),i)};Yt.naturalExponential=Yt.exp=function(){return TG(this)};Yt.naturalLogarithm=Yt.ln=function(){return Y0(this)};Yt.negated=Yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Yt.plus=Yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CG(t,e):kG(t,(e.s=-e.s,e))};Yt.precision=Yt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qd+e);if(t=Ii(i)+1,n=i.d.length-1,r=n*$n+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Yt.squareRoot=Yt.sqrt=function(){var e,t,r,n,i,o,s,a=this,d=a.constructor;if(a.s<1){if(!a.s)return new d(0);throw Error(Os+"NaN")}for(e=Ii(a),Yn=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Vl(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Og((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(o=n,n=o.plus(Hc(a,o,s+2)).times(.5),Vl(o.d).slice(0,s)===(t=Vl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(En(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return Yn=!0,En(n,r)};Yt.times=Yt.mul=function(e){var t,r,n,i,o,s,a,d,h,g=this,v=g.constructor,b=g.d,M=(e=new v(e)).d;if(!g.s||!e.s)return new v(0);for(e.s*=g.s,r=g.e+e.e,d=b.length,h=M.length,d<h&&(o=b,b=M,M=o,s=d,d=h,h=s),o=[],s=d+h,n=s;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)a=o[i]+M[n]*b[i-n-1]+t,o[i--]=a%Zi|0,t=a/Zi|0;o[i]=(o[i]+t)%Zi|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Yn?En(e,v.precision):e};Yt.toDecimalPlaces=Yt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(rc(e,0,Mg),t===void 0?t=n.rounding:rc(t,0,8),En(r,e+Ii(r)+1,t))};Yt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ah(n,!0):(rc(e,0,Mg),t===void 0?t=i.rounding:rc(t,0,8),n=En(new i(n),e+1,t),r=ah(n,!0,e+1)),r};Yt.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?ah(i):(rc(e,0,Mg),t===void 0?t=o.rounding:rc(t,0,8),n=En(new o(i),e+Ii(i)+1,t),r=ah(n.abs(),!1,e+Ii(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Yt.toInteger=Yt.toint=function(){var e=this,t=e.constructor;return En(new t(e),Ii(e)+1,t.rounding)};Yt.toNumber=function(){return+this};Yt.toPower=Yt.pow=function(e){var t,r,n,i,o,s,a=this,d=a.constructor,h=12,g=+(e=new d(e));if(!e.s)return new d(Va);if(a=new d(a),!a.s){if(e.s<1)throw Error(Os+"Infinity");return a}if(a.eq(Va))return a;if(n=d.precision,e.eq(Va))return En(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=g<0?-g:g)<=EG){for(i=new d(Va),t=Math.ceil(n/$n+4),Yn=!1;r%2&&(i=i.times(a),jB(i.d,t)),r=Og(r/2),r!==0;)a=a.times(a),jB(a.d,t);return Yn=!0,e.s<0?new d(Va).div(i):En(i,n)}}else if(o<0)throw Error(Os+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,Yn=!1,i=e.times(Y0(a,n+h)),Yn=!0,i=TG(i),i.s=o,i};Yt.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=Ii(i),n=ah(i,r<=o.toExpNeg||r>=o.toExpPos)):(rc(e,1,Mg),t===void 0?t=o.rounding:rc(t,0,8),i=En(new o(i),e,t),r=Ii(i),n=ah(i,e<=r||r<=o.toExpNeg,e)),n};Yt.toSignificantDigits=Yt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(rc(e,1,Mg),t===void 0?t=n.rounding:rc(t,0,8)),En(new n(r),e,t)};Yt.toString=Yt.valueOf=Yt.val=Yt.toJSON=Yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ii(e),r=e.constructor;return ah(e,t<=r.toExpNeg||t>=r.toExpPos)};function CG(e,t){var r,n,i,o,s,a,d,h,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Yn?En(t,v):t;if(d=e.d,h=t.d,s=e.e,i=t.e,d=d.slice(),o=s-i,o){for(o<0?(n=d,o=-o,a=h.length):(n=h,i=s,a=d.length),s=Math.ceil(v/$n),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=d.length,o=h.length,a-o<0&&(o=a,n=h,h=d,d=n),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/Zi|0,d[o]%=Zi;for(r&&(d.unshift(r),++i),a=d.length;d[--a]==0;)d.pop();return t.d=d,t.e=i,Yn?En(t,v):t}function rc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qd+e)}function Vl(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=$n-n.length,r&&(o+=Hu(r)),o+=n;s=e[t],n=s+"",r=$n-n.length,r&&(o+=Hu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Hc=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Zi|0,s=o/Zi|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,d;if(o!=s)d=o>s?1:-1;else for(a=d=0;a<o;a++)if(n[a]!=i[a]){d=n[a]>i[a]?1:-1;break}return d}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Zi+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,d,h,g,v,b,M,A,w,P,O,I,T,R,z,j,V,Z,ie=n.constructor,ne=n.s==i.s?1:-1,ae=n.d,de=i.d;if(!n.s)return new ie(n);if(!i.s)throw Error(Os+"Division by zero");for(d=n.e-i.e,V=de.length,z=ae.length,M=new ie(ne),A=M.d=[],h=0;de[h]==(ae[h]||0);)++h;if(de[h]>(ae[h]||0)&&--d,o==null?I=o=ie.precision:s?I=o+(Ii(n)-Ii(i))+1:I=o,I<0)return new ie(0);if(I=I/$n+2|0,h=0,V==1)for(g=0,de=de[0],I++;(h<z||g)&&I--;h++)T=g*Zi+(ae[h]||0),A[h]=T/de|0,g=T%de|0;else{for(g=Zi/(de[0]+1)|0,g>1&&(de=e(de,g),ae=e(ae,g),V=de.length,z=ae.length),R=V,w=ae.slice(0,V),P=w.length;P<V;)w[P++]=0;Z=de.slice(),Z.unshift(0),j=de[0],de[1]>=Zi/2&&++j;do g=0,a=t(de,w,V,P),a<0?(O=w[0],V!=P&&(O=O*Zi+(w[1]||0)),g=O/j|0,g>1?(g>=Zi&&(g=Zi-1),v=e(de,g),b=v.length,P=w.length,a=t(v,w,b,P),a==1&&(g--,r(v,V<b?Z:de,b))):(g==0&&(a=g=1),v=de.slice()),b=v.length,b<P&&v.unshift(0),r(w,v,P),a==-1&&(P=w.length,a=t(de,w,V,P),a<1&&(g++,r(w,V<P?Z:de,P))),P=w.length):a===0&&(g++,w=[0]),A[h++]=g,a&&w[0]?w[P++]=ae[R]||0:(w=[ae[R]],P=1);while((R++<z||w[0]!==void 0)&&I--)}return A[0]||A.shift(),M.e=d,En(M,s?o+Ii(M)+1:o)}}();function TG(e,t){var r,n,i,o,s,a,d=0,h=0,g=e.constructor,v=g.precision;if(Ii(e)>16)throw Error(PD+Ii(e));if(!e.s)return new g(Va);for(t==null?(Yn=!1,a=v):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(n=Math.log(Sd(2,h))/Math.LN10*2+5|0,a+=n,r=i=o=new g(Va),g.precision=a;;){if(i=En(i.times(e),a),r=r.times(++d),s=o.plus(Hc(i,r,a)),Vl(s.d).slice(0,a)===Vl(o.d).slice(0,a)){for(;h--;)o=En(o.times(o),a);return g.precision=v,t==null?(Yn=!0,En(o,v)):o}o=s}}function Ii(e){for(var t=e.e*$n,r=e.d[0];r>=10;r/=10)t++;return t}function eP(e,t,r){if(t>e.LN10.sd())throw Yn=!0,r&&(e.precision=r),Error(Os+"LN10 precision limit exceeded");return En(new e(e.LN10),t)}function Hu(e){for(var t="";e--;)t+="0";return t}function Y0(e,t){var r,n,i,o,s,a,d,h,g,v=1,b=10,M=e,A=M.d,w=M.constructor,P=w.precision;if(M.s<1)throw Error(Os+(M.s?"NaN":"-Infinity"));if(M.eq(Va))return new w(0);if(t==null?(Yn=!1,h=P):h=t,M.eq(10))return t==null&&(Yn=!0),eP(w,h);if(h+=b,w.precision=h,r=Vl(A),n=r.charAt(0),o=Ii(M),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)M=M.times(e),r=Vl(M.d),n=r.charAt(0),v++;o=Ii(M),n>1?(M=new w("0."+r),o++):M=new w(n+"."+r.slice(1))}else return d=eP(w,h+2,P).times(o+""),M=Y0(new w(n+"."+r.slice(1)),h-b).plus(d),w.precision=P,t==null?(Yn=!0,En(M,P)):M;for(a=s=M=Hc(M.minus(Va),M.plus(Va),h),g=En(M.times(M),h),i=3;;){if(s=En(s.times(g),h),d=a.plus(Hc(s,new w(i),h)),Vl(d.d).slice(0,h)===Vl(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(eP(w,h+2,P).times(o+""))),a=Hc(a,new w(v),h),w.precision=P,t==null?(Yn=!0,En(a,P)):a;a=d,i+=2}}function NB(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Og(r/$n),e.d=[],n=(r+1)%$n,r<0&&(n+=$n),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$n;n<i;)e.d.push(+t.slice(n,n+=$n));t=t.slice(n),n=$n-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Yn&&(e.e>Hw||e.e<-Hw))throw Error(PD+r)}else e.s=0,e.e=0,e.d=[0];return e}function En(e,t,r){var n,i,o,s,a,d,h,g,v=e.d;for(s=1,o=v[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=$n,i=t,h=v[g=0];else{if(g=Math.ceil((n+1)/$n),o=v.length,g>=o)return e;for(h=o=v[g],s=1;o>=10;o/=10)s++;n%=$n,i=n-$n+s}if(r!==void 0&&(o=Sd(10,s-i-1),a=h/o%10|0,d=t<0||v[g+1]!==void 0||h%o,d=r<4?(a||d)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||d||r==6&&(n>0?i>0?h/Sd(10,s-i):0:v[g-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return d?(o=Ii(e),v.length=1,t=t-o-1,v[0]=Sd(10,($n-t%$n)%$n),e.e=Og(-t/$n)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=g,o=1,g--):(v.length=g+1,o=Sd(10,$n-n),v[g]=i>0?(h/Sd(10,s-i)%Sd(10,i)|0)*o:0),d)for(;;)if(g==0){(v[0]+=o)==Zi&&(v[0]=1,++e.e);break}else{if(v[g]+=o,v[g]!=Zi)break;v[g--]=0,o=1}for(n=v.length;v[--n]===0;)v.pop();if(Yn&&(e.e>Hw||e.e<-Hw))throw Error(PD+Ii(e));return e}function kG(e,t){var r,n,i,o,s,a,d,h,g,v,b=e.constructor,M=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Yn?En(t,M):t;if(d=e.d,v=t.d,n=t.e,h=e.e,d=d.slice(),s=h-n,s){for(g=s<0,g?(r=d,s=-s,a=v.length):(r=v,n=h,a=d.length),i=Math.max(Math.ceil(M/$n),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,a=v.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(d[i]!=v[i]){g=d[i]<v[i];break}s=0}for(g&&(r=d,d=v,v=r,t.s=-t.s),a=d.length,i=v.length-a;i>0;--i)d[a++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(o=i;o&&d[--o]===0;)d[o]=Zi-1;--d[o],d[i]+=Zi}d[i]-=v[i]}for(;d[--a]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Yn?En(t,M):t):new b(0)}function ah(e,t,r){var n,i=Ii(e),o=Vl(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Hu(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Hu(-i-1)+o,r&&(n=r-s)>0&&(o+=Hu(n))):i>=s?(o+=Hu(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Hu(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Hu(n))),e.s<0?"-"+o:o}function jB(e,t){if(e.length>t)return e.length=t,!0}function PG(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(qd+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return NB(s,o.toString())}else if(typeof o!="string")throw Error(qd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,j4e.test(o))NB(s,o);else throw Error(qd+o)}if(i.prototype=Yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PG,i.config=i.set=B4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function B4e(e){if(!e||typeof e!="object")throw Error(Os+"Object expected");var t,r,n,i=["precision",1,Mg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Og(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qd+r+": "+n);return this}var AD=PG(N4e);Va=new AD(1);const yn=AD;function F4e(e){return q4e(e)||W4e(e)||V4e(e)||U4e()}function U4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V4e(e,t){if(e){if(typeof e=="string")return BM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BM(e,t)}}function W4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function q4e(e){if(Array.isArray(e))return BM(e)}function BM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H4e=function(t){return t},AG={"@@functional/placeholder":!0},MG=function(t){return t===AG},BB=function(t){return function r(){return arguments.length===0||arguments.length===1&&MG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},G4e=function e(t,r){return t===1?r:BB(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==AG}).length;return s>=t?r.apply(void 0,i):e(t-s,BB(function(){for(var a=arguments.length,d=new Array(a),h=0;h<a;h++)d[h]=arguments[h];var g=i.map(function(v){return MG(v)?d.shift():v});return r.apply(void 0,F4e(g).concat(d))}))})},AE=function(t){return G4e(t.length,t)},FM=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Y4e=AE(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),K4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H4e;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,d){return d(a)},o.apply(void 0,arguments))}},UM=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},OG=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,d){return a===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function Z4e(e){var t;return e===0?t=1:t=Math.floor(new yn(e).abs().log(10).toNumber())+1,t}function X4e(e,t,r){for(var n=new yn(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var J4e=AE(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Q4e=AE(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),eBe=AE(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ME={rangeStep:X4e,getDigitCount:Z4e,interpolateNumber:J4e,uninterpolateNumber:Q4e,uninterpolateTruncation:eBe};function VM(e){return nBe(e)||rBe(e)||IG(e)||tBe()}function tBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nBe(e){if(Array.isArray(e))return WM(e)}function K0(e,t){return aBe(e)||oBe(e,t)||IG(e,t)||iBe()}function iBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(e,t){if(e){if(typeof e=="string")return WM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(e,t)}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oBe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function aBe(e){if(Array.isArray(e))return e}function RG(e){var t=K0(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function $G(e,t,r){if(e.lte(0))return new yn(0);var n=ME.getDigitCount(e.toNumber()),i=new yn(10).pow(n),o=e.div(i),s=n!==1?.05:.1,a=new yn(Math.ceil(o.div(s).toNumber())).add(r).mul(s),d=a.mul(i);return t?d:new yn(Math.ceil(d))}function sBe(e,t,r){var n=1,i=new yn(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new yn(10).pow(ME.getDigitCount(e)-1),i=new yn(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new yn(Math.floor(e)))}else e===0?i=new yn(Math.floor((t-1)/2)):r||(i=new yn(Math.floor(e)));var s=Math.floor((t-1)/2),a=K4e(Y4e(function(d){return i.add(new yn(d-s).mul(n)).toNumber()}),FM);return a(0,t)}function DG(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new yn(0),tickMin:new yn(0),tickMax:new yn(0)};var o=$G(new yn(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new yn(0):(s=new yn(e).add(t).div(2),s=s.sub(new yn(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),d=Math.ceil(new yn(t).sub(s).div(o).toNumber()),h=a+d+1;return h>r?DG(e,t,r,n,i+1):(h<r&&(d=t>0?d+(r-h):d,a=t>0?a:a+(r-h)),{step:o,tickMin:s.sub(new yn(a).mul(o)),tickMax:s.add(new yn(d).mul(o))})}function lBe(e){var t=K0(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=RG([r,n]),d=K0(a,2),h=d[0],g=d[1];if(h===-1/0||g===1/0){var v=g===1/0?[h].concat(VM(FM(0,i-1).map(function(){return 1/0}))):[].concat(VM(FM(0,i-1).map(function(){return-1/0})),[g]);return r>n?UM(v):v}if(h===g)return sBe(h,i,o);var b=DG(h,g,s,o),M=b.step,A=b.tickMin,w=b.tickMax,P=ME.rangeStep(A,w.add(new yn(.1).mul(M)),M);return r>n?UM(P):P}function cBe(e,t){var r=K0(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=RG([n,i]),a=K0(s,2),d=a[0],h=a[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var g=Math.max(t,2),v=$G(new yn(h).sub(d).div(g-1),o,0),b=[].concat(VM(ME.rangeStep(new yn(d),new yn(h).sub(new yn(.99).mul(v)),v)),[h]);return n>i?UM(b):b}var uBe=OG(lBe),fBe=OG(cBe),dBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function hBe(e,t){return yBe(e)||gBe(e,t)||mBe(e,t)||pBe()}function pBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mBe(e,t){if(e){if(typeof e=="string")return FB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FB(e,t)}}function FB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function yBe(e){if(Array.isArray(e))return e}function vBe(e,t){if(e==null)return{};var r=_Be(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Be(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function W_(e){var t=e.offset,r=e.layout,n=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,d=e.yAxis,h=vBe(e,dBe),g=Ur(h),v=o.map(function(b,M){var A=s(b,i),w=A.x,P=A.y,O=A.value,I=A.errorVal;if(!I)return null;var T=[],R,z;if(Array.isArray(I)){var j=hBe(I,2);R=j[0],z=j[1]}else R=z=I;if(r==="vertical"){var V=a.scale,Z=P+t,ie=Z+n,ne=Z-n,ae=V(O-R),de=V(O+z);T.push({x1:de,y1:ie,x2:de,y2:ne}),T.push({x1:ae,y1:Z,x2:de,y2:Z}),T.push({x1:ae,y1:ie,x2:ae,y2:ne})}else if(r==="horizontal"){var pe=d.scale,Pe=w+t,be=Pe-n,he=Pe+n,ve=pe(O-R),Se=pe(O+z);T.push({x1:be,y1:Se,x2:he,y2:Se}),T.push({x1:Pe,y1:ve,x2:Pe,y2:Se}),T.push({x1:be,y1:ve,x2:he,y2:ve})}return qe.createElement(Oi,Gw({className:"recharts-errorBar",key:"bar-".concat(M)},g),T.map(function(ye,Ie){return qe.createElement("line",Gw({},ye,{key:"line-".concat(Ie)}))}))});return qe.createElement(Oi,{className:"recharts-errorBars"},v)}W_.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};W_.displayName="ErrorBar";function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function UB(e){return SBe(e)||wBe(e)||bBe(e)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bBe(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function wBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SBe(e){if(Array.isArray(e))return qM(e)}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vm(e,t,r){return t=EBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EBe(e){var t=CBe(e,"string");return Z0(t)==="symbol"?t:String(t)}function CBe(e,t){if(Z0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(e,t,r){return fr(e)||fr(t)?r:zi(t)?Es(e,t,r):hr(t)?t(e):r}function Gv(e,t,r,n){var i=r5e(e,function(a){return Xa(a,t)});if(r==="number"){var o=i.filter(function(a){return Mt(a)||parseFloat(a)});return o.length?[wE(o),bE(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!fr(a)}):i;return s.map(function(a){return zi(a)||a instanceof Date?a:""})}var TBe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,v=i[h].coordinate,b=h>=a-1?i[0].coordinate:i[h+1].coordinate,M=void 0;if(vs(v-g)!==vs(b-v)){var A=[];if(vs(b-v)===vs(d[1]-d[0])){M=b;var w=v+d[1]-d[0];A[0]=Math.min(w,(w+g)/2),A[1]=Math.max(w,(w+g)/2)}else{M=g;var P=b+d[1]-d[0];A[0]=Math.min(v,(P+v)/2),A[1]=Math.max(v,(P+v)/2)}var O=[Math.min(v,(M+v)/2),Math.max(v,(M+v)/2)];if(t>O[0]&&t<=O[1]||t>=A[0]&&t<=A[1]){s=i[h].index;break}}else{var I=Math.min(g,b),T=Math.max(g,b);if(t>(I+v)/2&&t<=(T+v)/2){s=i[h].index;break}}}else for(var R=0;R<a;R++)if(R===0&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<a-1&&t>(n[R].coordinate+n[R-1].coordinate)/2&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R===a-1&&t>(n[R].coordinate+n[R-1].coordinate)/2){s=n[R].index;break}return s},MD=function(t){var r=t,n=r.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(n){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},LG=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Bc(r,Wm);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(n||[]).reduce(function(d,h){var g=h.item,v=h.props,b=v.sectors||v.data||[];return d.concat(b.map(function(M){return{type:s.props.iconType||g.props.legendType,value:M.name,color:M.fill,payload:M}}))},[]):a=(n||[]).map(function(d){var h=d.item,g=h.props,v=g.dataKey,b=g.name,M=g.legendType,A=g.hide;return{inactive:A,dataKey:v,type:s.props.iconType||M||"square",color:MD(h),value:b||v,payload:h.props}}),ea(ea(ea({},s.props),Wm.getWithHeight(s,i)),{},{payload:a,item:s})},kBe=function(t){var r=t.barSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},s=Object.keys(i),a=0,d=s.length;a<d;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),v=0,b=g.length;v<b;v++){var M=h[g[v]],A=M.items,w=M.cateAxisId,P=A.filter(function(T){return bf(T.type).indexOf("Bar")>=0});if(P&&P.length){var O=P[0].props.barSize,I=P[0].props[w];o[I]||(o[I]=[]),o[I].push({item:P[0],stackList:P.slice(1),barSize:fr(O)?r:O})}}return o},PBe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,d=s.length;if(d<1)return null;var h=Bm(r,i,0,!0),g;if(s[0].barSize===+s[0].barSize){var v=!1,b=i/d,M=s.reduce(function(T,R){return T+R.barSize||0},0);M+=(d-1)*h,M>=i&&(M-=(d-1)*h,h=0),M>=i&&b>0&&(v=!0,b*=.9,M=d*b);var A=(i-M)/2>>0,w={offset:A-h,size:0};g=s.reduce(function(T,R){var z=[].concat(UB(T),[{item:R.item,position:{offset:w.offset+w.size+h,size:v?b:R.barSize}}]);return w=z[z.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(j){z.push({item:j,position:w})}),z},[])}else{var P=Bm(n,i,0,!0);i-2*P-(d-1)*h<=0&&(h=0);var O=(i-2*P-(d-1)*h)/d;O>1&&(O>>=0);var I=a===+a?Math.min(O,a):O;g=s.reduce(function(T,R,z){var j=[].concat(UB(T),[{item:R.item,position:{offset:P+(O+h)*z+(O-I)/2,size:I}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(V){j.push({item:V,position:j[j.length-1].position})}),j},[])}return g},ABe=function(t,r,n,i){var o=n.children,s=n.width,a=n.margin,d=s-(a.left||0)-(a.right||0),h=LG({children:o,legendWidth:d}),g=t;if(h){var v=i||{},b=h.align,M=h.verticalAlign,A=h.layout;(A==="vertical"||A==="horizontal"&&M==="middle")&&Mt(t[b])&&(g=ea(ea({},t),{},vm({},b,g[b]+(v.width||0)))),(A==="horizontal"||A==="vertical"&&b==="center")&&Mt(t[M])&&(g=ea(ea({},t),{},vm({},M,g[M]+(v.height||0))))}return g},MBe=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zG=function(t,r,n,i,o){var s=r.props.children,a=Cs(s,W_).filter(function(h){return MBe(i,o,h.props.direction)});if(a&&a.length){var d=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var v=Xa(g,n,0),b=co(v)?[wE(v),bE(v)]:[v,v],M=d.reduce(function(A,w){var P=Xa(g,w,0),O=b[0]-Math.abs(co(P)?P[0]:P),I=b[1]+Math.abs(co(P)?P[1]:P);return[Math.min(O,A[0]),Math.max(I,A[1])]},[1/0,-1/0]);return[Math.min(M[0],h[0]),Math.max(M[1],h[1])]},[1/0,-1/0])}return null},OBe=function(t,r,n,i,o){var s=r.map(function(a){return zG(t,a,n,o,i)}).filter(function(a){return!fr(a)});return s&&s.length?s.reduce(function(a,d){return[Math.min(a[0],d[0]),Math.max(a[1],d[1])]},[1/0,-1/0]):null},NG=function(t,r,n,i,o){var s=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&zG(t,d,h,i)||Gv(t,h,n,o)});if(n==="number")return s.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(d,h){for(var g=0,v=h.length;g<v;g++)a[h[g]]||(a[h[g]]=!0,d.push(h[g]));return d},[])},jG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},WB=function(t,r,n){var i,o,s=t.map(function(a){return a.coordinate===r&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate});return i||s.push(r),o||s.push(n),s},Vu=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?vs(a[0]-a[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(v){var b=o?o.indexOf(v):v;return{coordinate:i(b)+h,value:v,offset:h}});return g.filter(function(v){return!L_(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,b){return{coordinate:i(v)+h,value:v,index:b,offset:h}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(v){return{coordinate:i(v)+h,value:v,offset:h}}):i.domain().map(function(v,b){return{coordinate:i(v)+h,value:o?o[v]:v,index:b,offset:h}})},Bb=function(t,r,n){var i;return hr(n)?i=n:hr(r)&&(i=r),hr(t)||i?function(o,s,a,d){hr(t)&&t(o,s,a,d),hr(i)&&i(o,s,a,d)}:null},IBe=function(t,r,n){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:V0(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Uw(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hv(),realScaleType:"point"}:o==="category"?{scale:V0(),realScaleType:"band"}:{scale:Uw(),realScaleType:"linear"};if(D_(i)){var d="scale".concat(mE(i));return{scale:(zB[d]||Hv)(),realScaleType:zB[d]?d:"point"}}return hr(i)?{scale:i}:{scale:Hv(),realScaleType:"point"}},qB=1e-4,RBe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-qB,s=Math.max(i[0],i[1])+qB,a=t(r[0]),d=t(r[n-1]);(a<o||a>s||d<o||d>s)&&t.domain([r[0],r[n-1]])}},$Be=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},DBe=function(t,r){if(!r||r.length!==2||!Mt(r[0])||!Mt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Mt(t[0])||t[0]<n)&&(o[0]=n),(!Mt(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},LBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var d=L_(t[a][n][1])?t[a][n][0]:t[a][n][1];d>=0?(t[a][n][0]=o,t[a][n][1]=o+d,o=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+d,s=t[a][n][1])}},zBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=L_(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},NBe={sign:LBe,expand:h$e,none:Fm,silhouette:p$e,wiggle:m$e,positive:zBe},jBe=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),o=d$e().keys(i).value(function(s,a){return+Xa(s,a,0)}).order(uM).offset(NBe[n]);return o(t)},BBe=function(t,r,n,i,o,s){if(!t)return null;var a=s?r.reverse():r,d=a.reduce(function(h,g){var v=g.props,b=v.stackId,M=v.hide;if(M)return h;var A=g.props[n],w=h[A]||{hasStack:!1,stackGroups:{}};if(zi(b)){var P=w.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(g),w.hasStack=!0,w.stackGroups[b]=P}else w.stackGroups[z_("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return ea(ea({},h),{},vm({},A,w))},{});return Object.keys(d).reduce(function(h,g){var v=d[g];return v.hasStack&&(v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,M){var A=v.stackGroups[M];return ea(ea({},b),{},vm({},M,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:jBe(t,A.items,o)}))},{})),ea(ea({},h),{},vm({},g,v))},{})},FBe=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=uBe(h,o,a);return t.domain([wE(g),bE(g)]),{niceTicks:g}}if(o&&i==="number"){var v=t.domain(),b=fBe(v,o,a);return{niceTicks:b}}return null},HB=function(t){var r=t.axis,n=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!fr(o[r.dataKey])){var d=vw(n,"value",o[r.dataKey]);if(d)return d.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var h=Xa(o,fr(a)?r.dataKey:a);return fr(h)?null:r.scale(h)},GB=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var d=Xa(s,r.dataKey,r.domain[a]);return fr(d)?null:r.scale(d)-o/2+i},UBe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},VBe=function(t,r){var n=t.props.stackId;if(zi(n)){var i=r[n];if(i&&i.items.length){for(var o=-1,s=0,a=i.items.length;s<a;s++)if(i.items[s]===t){o=s;break}return o>=0?i.stackedData[o]:null}}return null},WBe=function(t){return t.reduce(function(r,n){return[wE(n.concat([r[0]]).filter(Mt)),bE(n.concat([r[1]]).filter(Mt))]},[1/0,-1/0])},BG=function(t,r,n){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,d=a.reduce(function(h,g){var v=WBe(g.slice(r,n+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HM=function(t,r,n){if(hr(t))return t(r,n);if(!co(t))return r;var i=[];if(Mt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(YB.test(t[0])){var o=+YB.exec(t[0])[1];i[0]=r[0]-o}else hr(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Mt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(KB.test(t[1])){var s=+KB.exec(t[1])[1];i[1]=r[1]+s}else hr(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Yw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=oD(r,function(v){return v.coordinate}),s=1/0,a=1,d=o.length;a<d;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},ZB=function(t,r,n){return!t||!t.length||aD(t,Es(n,"type.defaultProps.domain"))?r:t},FG=function(t,r){var n=t.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,d=n.tooltipType,h=n.chartType;return ea(ea({},Ur(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:MD(t),value:Xa(r,i),type:d,payload:r,chartType:h})};function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function XB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(r),!0).forEach(function(n){qBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qBe(e,t,r){return t=HBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HBe(e){var t=GBe(e,"string");return X0(t)==="symbol"?t:String(t)}function GBe(e,t){if(X0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(X0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw=Math.PI/180,YBe=function(t){return t*180/Math.PI},uo=function(t,r,n,i){return{x:t+Math.cos(-Kw*i)*n,y:r+Math.sin(-Kw*i)*n}},KBe=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},ZBe=function(t,r){var n=t.x,i=t.y,o=r.cx,s=r.cy,a=KBe({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var d=(n-o)/a,h=Math.acos(d);return i>s&&(h=2*Math.PI-h),{radius:a,angle:YBe(h),angleInRadian:h}},XBe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},JBe=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},QB=function(t,r){var n=t.x,i=t.y,o=ZBe({x:n,y:i},r),s=o.radius,a=o.angle,d=r.innerRadius,h=r.outerRadius;if(s<d||s>h)return!1;if(s===0)return!0;var g=XBe(r),v=g.startAngle,b=g.endAngle,M=a,A;if(v<=b){for(;M>b;)M-=360;for(;M<v;)M+=360;A=M>=v&&M<=b}else{for(;M>v;)M-=360;for(;M<b;)M+=360;A=M>=b&&M<=v}return A?JB(JB({},r),{},{radius:s,angle:JBe(M,r)}):null};function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function QBe(e){return nFe(e)||rFe(e)||tFe(e)||eFe()}function eFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tFe(e,t){if(e){if(typeof e=="string")return GM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GM(e,t)}}function rFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nFe(e){if(Array.isArray(e))return GM(e)}function GM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){iFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iFe(e,t,r){return t=oFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oFe(e){var t=aFe(e,"string");return J0(t)==="symbol"?t:String(t)}function aFe(e,t){if(J0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}var sFe=function(t){var r=t.value,n=t.formatter,i=fr(t.children)?r:t.children;return hr(n)?n(i):i},lFe=function(t,r){var n=vs(r-t),i=Math.min(Math.abs(r-t),360);return n*i},cFe=function(t,r,n){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,d=o,h=d.cx,g=d.cy,v=d.innerRadius,b=d.outerRadius,M=d.startAngle,A=d.endAngle,w=d.clockWise,P=(v+b)/2,O=lFe(M,A),I=O>=0?1:-1,T,R;i==="insideStart"?(T=M+I*s,R=w):i==="insideEnd"?(T=A-I*s,R=!w):i==="end"&&(T=A+I*s,R=w),R=O<=0?R:!R;var z=uo(h,g,P,T),j=uo(h,g,P,T+(R?1:-1)*359),V="M".concat(z.x,",").concat(z.y,`
    A`).concat(P,",").concat(P,",0,1,").concat(R?0:1,`,
    `).concat(j.x,",").concat(j.y),Z=fr(t.id)?z_("recharts-radial-line-"):t.id;return qe.createElement("text",Q0({},n,{dominantBaseline:"central",className:_n("recharts-radial-bar-label",a)}),qe.createElement("defs",null,qe.createElement("path",{id:Z,d:V})),qe.createElement("textPath",{xlinkHref:"#".concat(Z)},r))},uFe=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,s=o.cx,a=o.cy,d=o.innerRadius,h=o.outerRadius,g=o.startAngle,v=o.endAngle,b=(g+v)/2;if(i==="outside"){var M=uo(s,a,h+n,b),A=M.x,w=M.y;return{x:A,y:w,textAnchor:A>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var P=(d+h)/2,O=uo(s,a,P,b),I=O.x,T=O.y;return{x:I,y:T,textAnchor:"middle",verticalAnchor:"middle"}},fFe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,s=r,a=s.x,d=s.y,h=s.width,g=s.height,v=g>=0?1:-1,b=v*i,M=v>0?"end":"start",A=v>0?"start":"end",w=h>=0?1:-1,P=w*i,O=w>0?"end":"start",I=w>0?"start":"end";if(o==="top"){var T={x:a+h/2,y:d-v*i,textAnchor:"middle",verticalAnchor:M};return Yi(Yi({},T),n?{height:Math.max(d-n.y,0),width:h}:{})}if(o==="bottom"){var R={x:a+h/2,y:d+g+b,textAnchor:"middle",verticalAnchor:A};return Yi(Yi({},R),n?{height:Math.max(n.y+n.height-(d+g),0),width:h}:{})}if(o==="left"){var z={x:a-P,y:d+g/2,textAnchor:O,verticalAnchor:"middle"};return Yi(Yi({},z),n?{width:Math.max(z.x-n.x,0),height:g}:{})}if(o==="right"){var j={x:a+h+P,y:d+g/2,textAnchor:I,verticalAnchor:"middle"};return Yi(Yi({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:g}:{})}var V=n?{width:h,height:g}:{};return o==="insideLeft"?Yi({x:a+P,y:d+g/2,textAnchor:I,verticalAnchor:"middle"},V):o==="insideRight"?Yi({x:a+h-P,y:d+g/2,textAnchor:O,verticalAnchor:"middle"},V):o==="insideTop"?Yi({x:a+h/2,y:d+b,textAnchor:"middle",verticalAnchor:A},V):o==="insideBottom"?Yi({x:a+h/2,y:d+g-b,textAnchor:"middle",verticalAnchor:M},V):o==="insideTopLeft"?Yi({x:a+P,y:d+b,textAnchor:I,verticalAnchor:A},V):o==="insideTopRight"?Yi({x:a+h-P,y:d+b,textAnchor:O,verticalAnchor:A},V):o==="insideBottomLeft"?Yi({x:a+P,y:d+g-b,textAnchor:I,verticalAnchor:M},V):o==="insideBottomRight"?Yi({x:a+h-P,y:d+g-b,textAnchor:O,verticalAnchor:M},V):xg(o)&&(Mt(o.x)||$d(o.x))&&(Mt(o.y)||$d(o.y))?Yi({x:a+Bm(o.x,h),y:d+Bm(o.y,g),textAnchor:"end",verticalAnchor:"end"},V):Yi({x:a+h/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},V)},dFe=function(t){return"cx"in t&&Mt(t.cx)};function lo(e){var t=e.viewBox,r=e.position,n=e.value,i=e.children,o=e.content,s=e.className,a=s===void 0?"":s,d=e.textBreakAll;if(!t||fr(n)&&fr(i)&&!W.isValidElement(o)&&!hr(o))return null;if(W.isValidElement(o))return W.cloneElement(o,e);var h;if(hr(o)){if(h=W.createElement(o,e),W.isValidElement(h))return h}else h=sFe(e);var g=dFe(t),v=Ur(e,!0);if(g&&(r==="insideStart"||r==="insideEnd"||r==="end"))return cFe(e,h,v);var b=g?uFe(e):fFe(e);return qe.createElement(U0,Q0({className:_n("recharts-label",a)},v,b,{breakAll:d}),h)}lo.displayName="Label";lo.defaultProps={offset:5};var UG=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,d=t.radius,h=t.innerRadius,g=t.outerRadius,v=t.x,b=t.y,M=t.top,A=t.left,w=t.width,P=t.height,O=t.clockWise,I=t.labelViewBox;if(I)return I;if(Mt(w)&&Mt(P)){if(Mt(v)&&Mt(b))return{x:v,y:b,width:w,height:P};if(Mt(M)&&Mt(A))return{x:M,y:A,width:w,height:P}}return Mt(v)&&Mt(b)?{x:v,y:b,width:0,height:0}:Mt(r)&&Mt(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||d||a||0,clockWise:O}:t.viewBox?t.viewBox:{}},hFe=function(t,r){return t?t===!0?qe.createElement(lo,{key:"label-implicit",viewBox:r}):zi(t)?qe.createElement(lo,{key:"label-implicit",viewBox:r,value:t}):W.isValidElement(t)?t.type===lo?W.cloneElement(t,{key:"label-implicit",viewBox:r}):qe.createElement(lo,{key:"label-implicit",content:t,viewBox:r}):hr(t)?qe.createElement(lo,{key:"label-implicit",content:t,viewBox:r}):xg(t)?qe.createElement(lo,Q0({viewBox:r},t,{key:"label-implicit"})):null:null},pFe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=UG(t),s=Cs(i,lo).map(function(d,h){return W.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return s;var a=hFe(t.label,r||o);return[a].concat(QBe(s))};lo.parseViewBox=UG;lo.renderCallByParent=pFe;function mFe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gFe=mFe;const yFe=Kr(gFe);function e_(e){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e_(e)}var vFe=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function _Fe(e){return SFe(e)||wFe(e)||bFe(e)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bFe(e,t){if(e){if(typeof e=="string")return YM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(e,t)}}function wFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SFe(e){if(Array.isArray(e))return YM(e)}function YM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){EFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EFe(e,t,r){return t=CFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CFe(e){var t=TFe(e,"string");return e_(t)==="symbol"?t:String(t)}function TFe(e,t){if(e_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(e==null)return{};var r=PFe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var AFe={valueAccessor:function(t){return co(t.value)?yFe(t.value):t.value}};function Gc(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,i=e.clockWise,o=e.id,s=e.textBreakAll,a=kFe(e,vFe);return!t||!t.length?null:qe.createElement(Oi,{className:"recharts-label-list"},t.map(function(d,h){var g=fr(n)?r(d,h):Xa(d&&d.payload,n),v=fr(o)?{}:{id:"".concat(o,"-").concat(h)};return qe.createElement(lo,Zw({},Ur(d,!0),a,v,{parentViewBox:d.parentViewBox,index:h,value:g,textBreakAll:s,viewBox:lo.parseViewBox(fr(i)?d:rF(rF({},d),{},{clockWise:i})),key:"label-".concat(h)}))}))}Gc.displayName="LabelList";function MFe(e,t){return e?e===!0?qe.createElement(Gc,{key:"labelList-implicit",data:t}):qe.isValidElement(e)||hr(e)?qe.createElement(Gc,{key:"labelList-implicit",data:t,content:e}):xg(e)?qe.createElement(Gc,Zw({data:t},e,{key:"labelList-implicit"})):null:null}function OFe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Cs(n,Gc).map(function(s,a){return W.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!r)return i;var o=MFe(e.label,t);return[o].concat(_Fe(i))}Gc.renderCallByParent=OFe;Gc.defaultProps=AFe;function KM(){return KM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KM.apply(this,arguments)}var IFe=function(t,r){var n=vs(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Fb=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,d=t.cornerRadius,h=t.cornerIsExternal,g=d*(a?1:-1)+i,v=Math.asin(d/g)/Kw,b=h?o:o+s*v,M=uo(r,n,g,b),A=uo(r,n,i,b),w=h?o-s*v:o,P=uo(r,n,g*Math.cos(v*Kw),w);return{center:M,circleTangency:A,lineTangency:P,theta:v}},VG=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,d=IFe(s,a),h=s+d,g=uo(r,n,o,s),v=uo(r,n,o,h),b="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var M=uo(r,n,i,s),A=uo(r,n,i,h);b+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(M.x,",").concat(M.y," Z")}else b+="L ".concat(r,",").concat(n," Z");return b},RFe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,v=vs(g-h),b=Fb({cx:r,cy:n,radius:o,angle:h,sign:v,cornerRadius:s,cornerIsExternal:d}),M=b.circleTangency,A=b.lineTangency,w=b.theta,P=Fb({cx:r,cy:n,radius:o,angle:g,sign:-v,cornerRadius:s,cornerIsExternal:d}),O=P.circleTangency,I=P.lineTangency,T=P.theta,R=d?Math.abs(h-g):Math.abs(h-g)-w-T;if(R<0)return a?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):VG({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var z="M ".concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(v<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var j=Fb({cx:r,cy:n,radius:i,angle:h,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),V=j.circleTangency,Z=j.lineTangency,ie=j.theta,ne=Fb({cx:r,cy:n,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),ae=ne.circleTangency,de=ne.lineTangency,pe=ne.theta,Pe=d?Math.abs(h-g):Math.abs(h-g)-ie-pe;if(Pe<0&&s===0)return"".concat(z,"L").concat(r,",").concat(n,"Z");z+="L".concat(de.x,",").concat(de.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(ae.x,",").concat(ae.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Pe>180),",").concat(+(v>0),",").concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(Z.x,",").concat(Z.y,"Z")}else z+="L".concat(r,",").concat(n,"Z");return z},WG=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,v=t.className;if(o<i||h===g)return null;var b=_n("recharts-sector",v),M=o-i,A=Bm(s,M,0,!0),w;return A>0&&Math.abs(h-g)<360?w=RFe({cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(A,M/2),forceCornerRadius:a,cornerIsExternal:d,startAngle:h,endAngle:g}):w=VG({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g}),qe.createElement("path",KM({},Ur(t,!0),{className:b,d:w,role:"img"}))};WG.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};function t_(e){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t_(e)}function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZM.apply(this,arguments)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){$Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Fe(e,t,r){return t=DFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DFe(e){var t=LFe(e,"string");return t_(t)==="symbol"?t:String(t)}function LFe(e,t){if(t_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(t_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oF={curveBasisClosed:t$e,curveBasisOpen:r$e,curveBasis:e$e,curveBumpX:BRe,curveBumpY:FRe,curveLinearClosed:n$e,curveLinear:yE,curveMonotoneX:i$e,curveMonotoneY:o$e,curveNatural:a$e,curveStep:s$e,curveStepAfter:c$e,curveStepBefore:l$e},Ub=function(t){return t.x===+t.x&&t.y===+t.y},av=function(t){return t.x},sv=function(t){return t.y},zFe=function(t,r){if(hr(t))return t;var n="curve".concat(mE(t));return(n==="curveMonotone"||n==="curveBump")&&r?oF["".concat(n).concat(r==="vertical"?"Y":"X")]:oF[n]||yE},NFe=function(t){var r=t.type,n=t.points,i=t.baseLine,o=t.layout,s=t.connectNulls,a=zFe(r,o),d=s?n.filter(function(b){return Ub(b)}):n,h;if(co(i)){var g=s?i.filter(function(b){return Ub(b)}):i,v=d.map(function(b,M){return iF(iF({},b),{},{base:g[M]})});return o==="vertical"?h=Ib().y(sv).x1(av).x0(function(b){return b.base.x}):h=Ib().x(av).y1(sv).y0(function(b){return b.base.y}),h.defined(Ub).curve(a),h(v)}return o==="vertical"&&Mt(i)?h=Ib().y(sv).x1(av).x0(i):Mt(i)?h=Ib().x(av).y1(sv).y0(i):h=iH().x(av).y(sv),h.defined(Ub).curve(a),h(d)},Xw=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?NFe(t):i;return qe.createElement("path",ZM({},Ur(t),_w(t),{className:_n("recharts-curve",r),d:s,ref:o}))};Xw.defaultProps={type:"linear",points:[],connectNulls:!1};function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function jFe(e,t){return VFe(e)||UFe(e,t)||FFe(e,t)||BFe()}function BFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FFe(e,t){if(e){if(typeof e=="string")return aF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(e,t)}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function VFe(e){if(Array.isArray(e))return e}var sF=function(t,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(s>0&&o instanceof Array){for(var v=[0,0,0,0],b=0,M=4;b<M;b++)v[b]=o[b]>s?s:o[b];g="M".concat(t,",").concat(r+a*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(t+d*v[0],",").concat(r)),g+="L ".concat(t+n-d*v[1],",").concat(r),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+a*v[1])),g+="L ".concat(t+n,",").concat(r+i-a*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(t+n-d*v[2],",").concat(r+i)),g+="L ".concat(t+d*v[3],",").concat(r+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-a*v[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var A=Math.min(s,o);g="M ".concat(t,",").concat(r+a*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(t+d*A,",").concat(r,`
            L `).concat(t+n-d*A,",").concat(r,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(t+n,",").concat(r+a*A,`
            L `).concat(t+n,",").concat(r+i-a*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(t+n-d*A,",").concat(r+i,`
            L `).concat(t+d*A,",").concat(r+i,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(t,",").concat(r+i-a*A," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},WFe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,s=r.y,a=r.width,d=r.height;if(Math.abs(a)>0&&Math.abs(d)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),v=Math.min(s,s+d),b=Math.max(s,s+d);return n>=h&&n<=g&&i>=v&&i<=b}return!1},OE=function(t){var r=W.useRef(),n=W.useState(-1),i=jFe(n,2),o=i[0],s=i[1];W.useLayoutEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var a=t.x,d=t.y,h=t.width,g=t.height,v=t.radius,b=t.className,M=t.animationEasing,A=t.animationDuration,w=t.animationBegin,P=t.isAnimationActive,O=t.isUpdateAnimationActive;if(a!==+a||d!==+d||h!==+h||g!==+g||h===0||g===0)return null;var I=_n("recharts-rectangle",b);return O?qe.createElement(oh,{canBegin:o>0,from:{width:h,height:g,x:a,y:d},to:{width:h,height:g,x:a,y:d},duration:A,animationEasing:M,isActive:O},function(T){var R=T.width,z=T.height,j=T.x,V=T.y;return qe.createElement(oh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:A,isActive:P,easing:M},qe.createElement("path",Jw({},Ur(t,!0),{className:I,d:sF(j,V,R,z,v),ref:r})))}):qe.createElement("path",Jw({},Ur(t,!0),{className:I,d:sF(a,d,h,g,v)}))};OE.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};function XM(){return XM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XM.apply(this,arguments)}var OD=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,s=_n("recharts-dot",o);return r===+r&&n===+n&&i===+i?qe.createElement("circle",XM({},Ur(t),_w(t),{className:s,cx:r,cy:n,r:i})):null};function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JM.apply(this,arguments)}var qFe=function(t,r,n,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},qG=function(t){var r=t.x,n=t.y,i=t.width,o=t.height,s=t.top,a=t.left,d=t.className;return!Mt(r)||!Mt(n)||!Mt(i)||!Mt(o)||!Mt(s)||!Mt(a)?null:qe.createElement("path",JM({},Ur(t,!0),{className:_n("recharts-cross",d),d:qFe(r,n,i,o,s,a)}))};qG.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var HFe=Math.ceil,GFe=Math.max;function YFe(e,t,r,n){for(var i=-1,o=GFe(HFe((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}var KFe=YFe,ZFe=OH,lF=1/0,XFe=17976931348623157e292;function JFe(e){if(!e)return e===0?e:0;if(e=ZFe(e),e===lF||e===-lF){var t=e<0?-1:1;return t*XFe}return e===e?e:0}var HG=JFe,QFe=KFe,e6e=xE,tP=HG;function t6e(e){return function(t,r,n){return n&&typeof n!="number"&&e6e(t,r,n)&&(r=n=void 0),t=tP(t),r===void 0?(r=t,t=0):r=tP(r),n=n===void 0?t<r?1:-1:tP(n),QFe(t,r,n,e)}}var r6e=t6e,n6e=r6e,i6e=n6e(),o6e=i6e;const Qw=Kr(o6e);function r_(e){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r_(e)}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){GG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GG(e,t,r){return t=a6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6e(e){var t=s6e(e,"string");return r_(t)==="symbol"?t:String(t)}function s6e(e,t){if(r_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(r_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6e=["Webkit","Moz","O","ms"],c6e=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=l6e.reduce(function(o,s){return uF(uF({},o),{},GG({},s+n,r))},{});return i[t]=r,i};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){ds(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function f6e(e,t,r){return t&&dF(e.prototype,t),r&&dF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QM(e,t)}function QM(e,t){return QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QM(e,t)}function h6e(e){var t=m6e();return function(){var n=tS(e),i;if(t){var o=tS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return p6e(this,i)}}function p6e(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rl(e)}function Rl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function ds(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=g6e(e,"string");return Zm(t)==="symbol"?t:String(t)}function g6e(e,t){if(Zm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y6e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Hv().domain(Qw(0,d)).range([o,o+s-a]),g=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},hF=function(t){return t.changedTouches&&!!t.changedTouches.length},n_=function(e){d6e(r,e);var t=h6e(r);function r(n){var i;return u6e(this,r),i=t.call(this,n),ds(Rl(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),ds(Rl(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),ds(Rl(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()}),ds(Rl(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),ds(Rl(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),ds(Rl(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),ds(Rl(i),"handleSlideDragStart",function(o){var s=hF(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Rl(i),"startX"),endX:i.handleTravellerDragStart.bind(Rl(i),"endX")},i.state={},i}return f6e(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,d=this.props,h=d.gap,g=d.data,v=g.length-1,b=Math.min(o,s),M=Math.max(o,s),A=r.getIndexInRange(a,b),w=r.getIndexInRange(a,M);return{startIndex:A-A%h,endIndex:w===v?v:w-w%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,d=o.dataKey,h=Xa(s[i],d,i);return hr(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,d=o.endX,h=this.props,g=h.x,v=h.width,b=h.travellerWidth,M=h.startIndex,A=h.endIndex,w=h.onChange,P=i.pageX-s;P>0?P=Math.min(P,g+v-b-d,g+v-b-a):P<0&&(P=Math.max(P,g-a,g-d));var O=this.getIndex({startX:a+P,endX:d+P});(O.startIndex!==M||O.endIndex!==A)&&w&&w(O),this.setState({startX:a+P,endX:d+P,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=hF(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,d=s.movingTravellerId,h=s.endX,g=s.startX,v=this.state[d],b=this.props,M=b.x,A=b.width,w=b.travellerWidth,P=b.onChange,O=b.gap,I=b.data,T={startX:this.state.startX,endX:this.state.endX},R=i.pageX-a;R>0?R=Math.min(R,M+A-w-v):R<0&&(R=Math.max(R,M-v)),T[d]=v+R;var z=this.getIndex(T),j=z.startIndex,V=z.endIndex,Z=function(){var ne=I.length-1;return d==="startX"&&(h>g?j%O===0:V%O===0)||h<g&&V===ne||d==="endX"&&(h>g?V%O===0:j%O===0)||h>g&&V===ne};this.setState((o={},ds(o,d,v+R),ds(o,"brushMoveStartX",i.pageX),o),function(){P&&Z()&&P(z)})}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.fill,g=i.stroke;return qe.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:d})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.data,g=i.children,v=i.padding,b=W.Children.only(g);return b?qe.cloneElement(b,{x:o,y:s,width:a,height:d,margin:v,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this.props,a=s.y,d=s.travellerWidth,h=s.height,g=s.traveller,v=Math.max(i,this.props.x),b=rP(rP({},Ur(this.props)),{},{x:v,y:a,width:d,height:h});return qe.createElement(Oi,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],style:{cursor:"col-resize"}},r.renderTraveller(g,b))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,d=s.height,h=s.stroke,g=s.travellerWidth,v=Math.min(i,o)+g,b=Math.max(Math.abs(o-i)-g,0);return qe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:v,y:a,width:b,height:d})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,d=i.height,h=i.travellerWidth,g=i.stroke,v=this.state,b=v.startX,M=v.endX,A=5,w={pointerEvents:"none",fill:g};return qe.createElement(Oi,{className:"recharts-brush-texts"},qe.createElement(U0,eS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(b,M)-A,y:a+d/2},w),this.getTextOfTick(o)),qe.createElement(U0,eS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(b,M)+h+A,y:a+d/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,d=i.x,h=i.y,g=i.width,v=i.height,b=i.alwaysShowText,M=this.state,A=M.startX,w=M.endX,P=M.isTextActive,O=M.isSlideMoving,I=M.isTravellerMoving;if(!o||!o.length||!Mt(d)||!Mt(h)||!Mt(g)||!Mt(v)||g<=0||v<=0)return null;var T=_n("recharts-brush",s),R=qe.Children.count(a)===1,z=c6e("userSelect","none");return qe.createElement(Oi,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:z},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(A,w),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(w,"endX"),(P||O||I||b)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,d=i.height,h=i.stroke,g=Math.floor(s+d/2)-1;return qe.createElement(qe.Fragment,null,qe.createElement("rect",{x:o,y:s,width:a,height:d,fill:h,stroke:"none"}),qe.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),qe.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return qe.isValidElement(i)?s=qe.cloneElement(i,o):hr(i)?s=i(o):s=r.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,d=i.x,h=i.travellerWidth,g=i.updateId,v=i.startIndex,b=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return rP({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:d,prevWidth:a},s&&s.length?y6e({data:s,width:a,x:d,travellerWidth:h,startIndex:v,endIndex:b}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||d!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([d,d+a-h]);var M=o.scale.domain().map(function(A){return o.scale(A)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:d,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:M}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,d=s-1;d-a>1;){var h=Math.floor((a+d)/2);i[h]>o?d=h:a=h}return o>=i[d]?d:a}}]),r}(W.PureComponent);ds(n_,"displayName","Brush");ds(n_,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var v6e=iD;function _6e(e,t){var r;return v6e(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var x6e=_6e,b6e=Iq,w6e=Uf,S6e=x6e,E6e=oa,C6e=xE;function T6e(e,t,r){var n=E6e(e)?b6e:S6e;return r&&C6e(e,t,r)&&(t=void 0),n(e,w6e(t))}var k6e=T6e;const P6e=Kr(k6e);var Jl=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r};function A6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var M6e=A6e,O6e=iD;function I6e(e,t){var r=!0;return O6e(e,function(n,i,o){return r=!!t(n,i,o),r}),r}var R6e=I6e,$6e=M6e,D6e=R6e,L6e=Uf,z6e=oa,N6e=xE;function j6e(e,t,r){var n=z6e(e)?$6e:D6e;return r&&N6e(e,t,r)&&(t=void 0),n(e,L6e(t))}var B6e=j6e;const KG=Kr(B6e);var pF=MH;function F6e(e,t,r){t=="__proto__"&&pF?pF(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var U6e=F6e,V6e=U6e,W6e=PH,q6e=Uf;function H6e(e,t){var r={};return t=q6e(t),W6e(e,function(n,i,o){V6e(r,i,t(n,i,o))}),r}var G6e=H6e;const Y6e=Kr(G6e);var K6e=["value","background"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Z6e(e,t){if(e==null)return{};var r=X6e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X6e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eO.apply(this,arguments)}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(n){of(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function Q6e(e,t,r){return t&&gF(e.prototype,t),r&&gF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tO(e,t)}function tO(e,t){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tO(e,t)}function tUe(e){var t=nUe();return function(){var n=rS(e),i;if(t){var o=rS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return rUe(this,i)}}function rUe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ev(e)}function Ev(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(e)}function of(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=iUe(e,"string");return Xm(t)==="symbol"?t:String(t)}function iUe(e,t){if(Xm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IE=function(e){eUe(r,e);var t=tUe(r);function r(){var n;J6e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),of(Ev(n),"state",{isAnimationFinished:!1}),of(Ev(n),"id",z_("recharts-bar-")),of(Ev(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),of(Ev(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Q6e(r,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props.shape,a=Ur(this.props);return i&&i.map(function(d,h){var g=Ki(Ki(Ki({},a),d),{},{index:h});return qe.createElement(Oi,eO({className:"recharts-bar-rectangle"},xw(o.props,d,h),{key:"rectangle-".concat(h)}),r.renderRectangle(s,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,d=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,v=o.animationEasing,b=o.animationId,M=this.state.prevData;return qe.createElement(oh,{begin:h,duration:g,isActive:d,easing:v,from:{t:0},to:{t:1},key:"bar-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var w=A.t,P=s.map(function(O,I){var T=M&&M[I];if(T){var R=ol(T.x,O.x),z=ol(T.y,O.y),j=ol(T.width,O.width),V=ol(T.height,O.height);return Ki(Ki({},O),{},{x:R(w),y:z(w),width:j(w),height:V(w)})}if(a==="horizontal"){var Z=ol(0,O.height),ie=Z(w);return Ki(Ki({},O),{},{y:O.y+O.height-ie,height:ie})}var ne=ol(0,O.width),ae=ne(w);return Ki(Ki({},O),{},{width:ae})});return qe.createElement(Oi,null,i.renderRectanglesStatically(P))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!aD(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props.data,s=Ur(this.props.background);return o.map(function(a,d){a.value;var h=a.background,g=Z6e(a,K6e);if(!h)return null;var v=Ki(Ki(Ki(Ki(Ki({},g),{},{fill:"#eee"},h),s),xw(i.props,a,d)),{},{index:d,key:"background-bar-".concat(d),className:"recharts-bar-background-rectangle"});return r.renderRectangle(i.props.background,v)})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,d=s.xAxis,h=s.yAxis,g=s.layout,v=s.children,b=Cs(v,W_);if(!b)return null;var M=g==="vertical"?a[0].height/2:a[0].width/2,A=function(O,I){var T=Array.isArray(O.value)?O.value[1]:O.value;return{x:O.x,y:O.y,value:T,errorVal:Xa(O,I)}},w={clipPath:i?"url(#clipPath-".concat(o,")"):null};return qe.createElement(Oi,w,b.map(function(P,O){return qe.cloneElement(P,{key:"error-bar-".concat(O),data:a,xAxis:d,yAxis:h,layout:g,offset:M,dataPointFormatter:A})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,d=i.xAxis,h=i.yAxis,g=i.left,v=i.top,b=i.width,M=i.height,A=i.isAnimationActive,w=i.background,P=i.id;if(o||!s||!s.length)return null;var O=this.state.isAnimationFinished,I=_n("recharts-bar",a),T=d&&d.allowDataOverflow,R=h&&h.allowDataOverflow,z=T||R,j=fr(P)?this.id:P;return qe.createElement(Oi,{className:I},T||R?qe.createElement("defs",null,qe.createElement("clipPath",{id:"clipPath-".concat(j)},qe.createElement("rect",{x:T?g:g-b/2,y:R?v:v-M/2,width:T?b:b*2,height:R?M:M*2}))):null,qe.createElement(Oi,{className:"recharts-bar-rectangles",clipPath:z?"url(#clipPath-".concat(j,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(z,j),(!A||O)&&Gc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}},{key:"renderRectangle",value:function(i,o){var s;return qe.isValidElement(i)?s=qe.cloneElement(i,o):hr(i)?s=i(o):s=qe.createElement(OE,o),s}}]),r}(W.PureComponent);of(IE,"displayName","Bar");of(IE,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!qc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});of(IE,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,d=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,v=e.displayedData,b=e.offset,M=$Be(n,r);if(!M)return null;var A=t.layout,w=r.props,P=w.dataKey,O=w.children,I=w.minPointSize,T=A==="horizontal"?s:o,R=h?T.scale.domain():null,z=UBe({numericAxis:T}),j=Cs(O,$H),V=v.map(function(Z,ie){var ne,ae,de,pe,Pe,be;if(h?ne=DBe(h[g+ie],R):(ne=Xa(Z,P),co(ne)||(ne=[z,ne])),A==="horizontal"){var he,ve=[s.scale(ne[0]),s.scale(ne[1])],Se=ve[0],ye=ve[1];ae=GB({axis:o,ticks:a,bandSize:i,offset:M.offset,entry:Z,index:ie}),de=(he=ye??Se)!==null&&he!==void 0?he:void 0,pe=M.size;var Ie=Se-ye;if(Pe=Number.isNaN(Ie)?0:Ie,be={x:ae,y:s.y,width:pe,height:s.height},Math.abs(I)>0&&Math.abs(Pe)<Math.abs(I)){var Xe=vs(Pe||I)*(Math.abs(I)-Math.abs(Pe));de-=Xe,Pe+=Xe}}else{var Ee=[o.scale(ne[0]),o.scale(ne[1])],De=Ee[0],Oe=Ee[1];if(ae=De,de=GB({axis:s,ticks:d,bandSize:i,offset:M.offset,entry:Z,index:ie}),pe=Oe-De,Pe=M.size,be={x:o.x,y:de,width:o.width,height:Pe},Math.abs(I)>0&&Math.abs(pe)<Math.abs(I)){var Ge=vs(pe||I)*(Math.abs(I)-Math.abs(pe));pe+=Ge}}return Ki(Ki(Ki({},Z),{},{x:ae,y:de,width:pe,height:Pe,value:h?ne:ne[1],payload:Z,background:be},j&&j[ie]&&j[ie].props),{},{tooltipPayload:[FG(r,Z)],tooltipPosition:{x:ae+pe/2,y:de+Pe/2}})});return Ki({data:V,layout:A},b)});function i_(e){"@babel/helpers - typeof";return i_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i_(e)}function oUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function aUe(e,t,r){return t&&yF(e.prototype,t),r&&yF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){RE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RE(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=sUe(e,"string");return i_(t)==="symbol"?t:String(t)}function sUe(e,t){if(i_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lUe=function(t,r,n,i,o){var s=t.width,a=t.height,d=t.layout,h=t.children,g=Object.keys(r),v={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},b=!!Bc(h,IE);return g.reduce(function(M,A){var w=r[A],P=w.orientation,O=w.domain,I=w.padding,T=I===void 0?{}:I,R=w.mirror,z=w.reversed,j="".concat(P).concat(R?"Mirror":""),V,Z,ie,ne,ae;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var de=O[1]-O[0],pe=1/0,Pe=w.categoricalDomain.sort();Pe.forEach(function(Oe,Ge){Ge>0&&(pe=Math.min((Oe||0)-(Pe[Ge-1]||0),pe))});var be=pe/de,he=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(V=be*he/2),w.padding==="no-gap"){var ve=Bm(t.barCategoryGap,be*he),Se=be*he/2;V=Se-ve-(Se-ve)/he*ve}}i==="xAxis"?Z=[n.left+(T.left||0)+(V||0),n.left+n.width-(T.right||0)-(V||0)]:i==="yAxis"?Z=d==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(V||0),n.top+n.height-(T.bottom||0)-(V||0)]:Z=w.range,z&&(Z=[Z[1],Z[0]]);var ye=IBe(w,o,b),Ie=ye.scale,Xe=ye.realScaleType;Ie.domain(O).range(Z),RBe(Ie);var Ee=FBe(Ie,rl(rl({},w),{},{realScaleType:Xe}));i==="xAxis"?(ae=P==="top"&&!R||P==="bottom"&&R,ie=n.left,ne=v[j]-ae*w.height):i==="yAxis"&&(ae=P==="left"&&!R||P==="right"&&R,ie=v[j]-ae*w.width,ne=n.top);var De=rl(rl(rl({},w),Ee),{},{realScaleType:Xe,x:ie,y:ne,scale:Ie,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return De.bandSize=Yw(De,Ee),!w.hide&&i==="xAxis"?v[j]+=(ae?-1:1)*De.height:w.hide||(v[j]+=(ae?-1:1)*De.width),rl(rl({},M),{},RE({},A,De))},{})},JG=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},cUe=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return JG({x:r,y:n},{x:i,y:o})},QG=function(){function e(t){oUe(this,e),this.scale=t}return aUe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}]),e}();RE(QG,"EPS",1e-4);var ID=function(t){var r=Object.keys(t).reduce(function(n,i){return rl(rl({},n),{},RE({},i,QG.create(t[i])))},{});return rl(rl({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Y6e(i,function(d,h){return r[h].apply(d,{bandAware:s,position:a})})},isInRange:function(i){return KG(i,function(o,s){return r[s].isInRange(o)})}})};function uUe(e){return(e%180+180)%180}var fUe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=uUe(i),s=o*Math.PI/180,a=Math.atan(n/r),d=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)};function o_(e){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o_(e)}function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(r),!0).forEach(function(n){dUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dUe(e,t,r){return t=hUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hUe(e){var t=pUe(e,"string");return o_(t)==="symbol"?t:String(t)}function pUe(e,t){if(o_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mUe(e,t){return _Ue(e)||vUe(e,t)||yUe(e,t)||gUe()}function gUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yUe(e,t){if(e){if(typeof e=="string")return bF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bF(e,t)}}function bF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function _Ue(e){if(Array.isArray(e))return e}function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rO.apply(this,arguments)}var xUe=function(t,r){var n;return qe.isValidElement(t)?n=qe.cloneElement(t,r):hr(t)?n=t(r):n=qe.createElement("line",rO({},r,{className:"recharts-reference-line-line"})),n},bUe=function(t,r,n,i,o){var s=o.viewBox,a=s.x,d=s.y,h=s.width,g=s.height,v=o.position;if(n){var b=o.y,M=o.yAxis.orientation,A=t.y.apply(b,{position:v});if(Jl(o,"discard")&&!t.y.isInRange(A))return null;var w=[{x:a+h,y:A},{x:a,y:A}];return M==="left"?w.reverse():w}if(r){var P=o.x,O=o.xAxis.orientation,I=t.x.apply(P,{position:v});if(Jl(o,"discard")&&!t.x.isInRange(I))return null;var T=[{x:I,y:d+g},{x:I,y:d}];return O==="top"?T.reverse():T}if(i){var R=o.segment,z=R.map(function(j){return t.apply(j,{position:v})});return Jl(o,"discard")&&P6e(z,function(j){return!t.isInRange(j)})?null:z}return null};function RD(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,d=e.alwaysShow,h=e.clipPathId;gm(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ID({x:i.scale,y:o.scale}),v=zi(t),b=zi(r),M=n&&n.length===2,A=bUe(g,v,b,M,e);if(!A)return null;var w=mUe(A,2),P=w[0],O=P.x,I=P.y,T=w[1],R=T.x,z=T.y,j=Jl(e,"hidden")?"url(#".concat(h,")"):void 0,V=xF(xF({clipPath:j},Ur(e,!0)),{},{x1:O,y1:I,x2:R,y2:z});return qe.createElement(Oi,{className:_n("recharts-reference-line",a)},xUe(s,V),lo.renderCallByParent(e,cUe({x1:O,y1:I,x2:R,y2:z})))}RD.displayName="ReferenceLine";RD.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function a_(e){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a_(e)}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(n){wUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wUe(e,t,r){return t=SUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SUe(e){var t=EUe(e,"string");return a_(t)==="symbol"?t:String(t)}function EUe(e,t){if(a_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CUe=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,s=ID({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return Jl(t,"discard")&&!s.isInRange(a)?null:a};function q_(e){var t=e.x,r=e.y,n=e.r,i=e.alwaysShow,o=e.clipPathId,s=zi(t),a=zi(r);if(gm(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var d=CUe(e);if(!d)return null;var h=d.x,g=d.y,v=e.shape,b=e.className,M=Jl(e,"hidden")?"url(#".concat(o,")"):void 0,A=SF(SF({clipPath:M},Ur(e,!0)),{},{cx:h,cy:g});return qe.createElement(Oi,{className:_n("recharts-reference-dot",b)},q_.renderDot(v,A),lo.renderCallByParent(e,{x:h-n,y:g-n,width:2*n,height:2*n}))}q_.displayName="ReferenceDot";q_.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};q_.renderDot=function(e,t){var r;return qe.isValidElement(e)?r=qe.cloneElement(e,t):hr(e)?r=e(t):r=qe.createElement(OD,nO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function s_(e){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s_(e)}function iO(){return iO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iO.apply(this,arguments)}function EF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EF(Object(r),!0).forEach(function(n){TUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TUe(e,t,r){return t=kUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kUe(e){var t=PUe(e,"string");return s_(t)==="symbol"?t:String(t)}function PUe(e,t){if(s_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AUe=function(t,r,n,i,o){var s=o.x1,a=o.x2,d=o.y1,h=o.y2,g=o.xAxis,v=o.yAxis;if(!g||!v)return null;var b=ID({x:g.scale,y:v.scale}),M={x:t?b.x.apply(s,{position:"start"}):b.x.rangeMin,y:n?b.y.apply(d,{position:"start"}):b.y.rangeMin},A={x:r?b.x.apply(a,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(h,{position:"end"}):b.y.rangeMax};return Jl(o,"discard")&&(!b.isInRange(M)||!b.isInRange(A))?null:JG(M,A)};function H_(e){var t=e.x1,r=e.x2,n=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;gm(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=zi(t),h=zi(r),g=zi(n),v=zi(i),b=e.shape;if(!d&&!h&&!g&&!v&&!b)return null;var M=AUe(d,h,g,v,e);if(!M&&!b)return null;var A=Jl(e,"hidden")?"url(#".concat(a,")"):void 0;return qe.createElement(Oi,{className:_n("recharts-reference-area",o)},H_.renderRect(b,CF(CF({clipPath:A},Ur(e,!0)),M)),lo.renderCallByParent(e,M))}H_.displayName="ReferenceArea";H_.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};H_.renderRect=function(e,t){var r;return qe.isValidElement(e)?r=qe.cloneElement(e,t):hr(e)?r=e(t):r=qe.createElement(OE,iO({},t,{className:"recharts-reference-area-rect"})),r};function oO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function l_(e){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l_(e)}function TF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(r),!0).forEach(function(n){MUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MUe(e,t,r){return t=OUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OUe(e){var t=IUe(e,"string");return l_(t)==="symbol"?t:String(t)}function IUe(e,t){if(l_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RUe(e){for(var t=1,r=oO(e,t,function(n){return n.isShow});t<=e.length;){if(r!==void 0)return r;t++,r=oO(e,t,function(n){return n.isShow})}return e.slice(0,1)}function $Ue(e,t){return oO(e,t+1)}function aO(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fUe(n,r)}function DUe(e){var t=e.angle,r=e.ticks,n=e.tickFormatter,i=e.viewBox,o=e.orientation,s=e.minTickGap,a=e.unit,d=e.fontSize,h=e.letterSpacing,g=i.x,v=i.y,b=i.width,M=i.height,A=o==="top"||o==="bottom"?"width":"height",w=a&&A==="width"?Ul(a,{fontSize:d,letterSpacing:h}):{width:0,height:0},P=(r||[]).slice(),O=P.length,I=O>=2?vs(P[1].coordinate-P[0].coordinate):1,T,R;I===1?(T=A==="width"?g:v,R=A==="width"?g+b:v+M):(T=A==="width"?g+b:v+M,R=A==="width"?g:v);for(var z=O-1;z>=0;z--){var j=P[z],V=hr(n)?n(j.value,O-z-1):j.value,Z=A==="width"?aO(Ul(V,{fontSize:d,letterSpacing:h}),w,t):Ul(V,{fontSize:d,letterSpacing:h})[A];if(z===O-1){var ie=I*(j.coordinate+I*Z/2-R);P[z]=j=Mo(Mo({},j),{},{tickCoord:ie>0?j.coordinate-ie*I:j.coordinate})}else P[z]=j=Mo(Mo({},j),{},{tickCoord:j.coordinate});var ne=I*(j.tickCoord-I*Z/2-T)>=0&&I*(j.tickCoord+I*Z/2-R)<=0;ne&&(R=j.tickCoord-I*(Z/2+s),P[z]=Mo(Mo({},j),{},{isShow:!0}))}return P}function kF(e,t){var r=e.angle,n=e.ticks,i=e.tickFormatter,o=e.viewBox,s=e.orientation,a=e.minTickGap,d=e.unit,h=e.fontSize,g=e.letterSpacing,v=o.x,b=o.y,M=o.width,A=o.height,w=s==="top"||s==="bottom"?"width":"height",P=(n||[]).slice(),O=d&&w==="width"?Ul(d,{fontSize:h,letterSpacing:g}):{width:0,height:0},I=P.length,T=I>=2?vs(P[1].coordinate-P[0].coordinate):1,R,z;if(T===1?(R=w==="width"?v:b,z=w==="width"?v+M:b+A):(R=w==="width"?v+M:b+A,z=w==="width"?v:b),t){var j=n[I-1],V=hr(i)?i(j.value,I-1):j.value,Z=w==="width"?aO(Ul(V,{fontSize:h,letterSpacing:g}),O,r):Ul(V,{fontSize:h,letterSpacing:g})[w],ie=T*(j.coordinate+T*Z/2-z);P[I-1]=j=Mo(Mo({},j),{},{tickCoord:ie>0?j.coordinate-ie*T:j.coordinate});var ne=T*(j.tickCoord-T*Z/2-R)>=0&&T*(j.tickCoord+T*Z/2-z)<=0;ne&&(z=j.tickCoord-T*(Z/2+a),P[I-1]=Mo(Mo({},j),{},{isShow:!0}))}for(var ae=t?I-1:I,de=0;de<ae;de++){var pe=P[de],Pe=hr(i)?i(pe.value,de):pe.value,be=w==="width"?aO(Ul(Pe,{fontSize:h,letterSpacing:g}),O,r):Ul(Pe,{fontSize:h,letterSpacing:g})[w];if(de===0){var he=T*(pe.coordinate-T*be/2-R);P[de]=pe=Mo(Mo({},pe),{},{tickCoord:he<0?pe.coordinate-he*T:pe.coordinate})}else P[de]=pe=Mo(Mo({},pe),{},{tickCoord:pe.coordinate});var ve=T*(pe.tickCoord-T*be/2-R)>=0&&T*(pe.tickCoord+T*be/2-z)<=0;ve&&(R=pe.tickCoord+T*(be/2+a),P[de]=Mo(Mo({},pe),{},{isShow:!0}))}return P}function sO(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,d=e.interval,h=e.tickFormatter,g=e.unit,v=e.angle;if(!i||!i.length||!n)return[];if(Mt(d)||qc.isSsr)return $Ue(i,typeof d=="number"&&Mt(d)?d:0);var b=[];return d==="equidistantPreserveStart"?(b=kF({angle:v,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r}),RUe(b)):(d==="preserveStart"||d==="preserveStartEnd"?b=kF({angle:v,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r},d==="preserveStartEnd"):b=DUe({angle:v,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r}),b.filter(function(M){return M.isShow}))}var LUe=["viewBox"],zUe=["viewBox"],NUe=["ticks"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(r),!0).forEach(function(n){$D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nP(e,t){if(e==null)return{};var r=jUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function BUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eY(n.key),n)}}function FUe(e,t,r){return t&&AF(e.prototype,t),r&&AF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lO(e,t)}function lO(e,t){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lO(e,t)}function VUe(e){var t=HUe();return function(){var n=nS(e),i;if(t){var o=nS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return WUe(this,i)}}function WUe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qUe(e)}function qUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nS(e)}function $D(e,t,r){return t=eY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=GUe(e,"string");return Jm(t)==="symbol"?t:String(t)}function GUe(e,t){if(Jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yv=function(e){UUe(r,e);var t=VUe(r);function r(n){var i;return BUe(this,r),i=t.call(this,n),i.state={fontSize:"",letterSpacing:""},i}return FUe(r,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=nP(i,LUe),d=this.props,h=d.viewBox,g=nP(d,zUe);return!mm(s,h)||!mm(a,g)||!mm(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,d=o.width,h=o.height,g=o.orientation,v=o.tickSize,b=o.mirror,M=o.tickMargin,A,w,P,O,I,T,R=b?-1:1,z=i.tickSize||v,j=Mt(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":A=w=i.coordinate,O=a+ +!b*h,P=O-R*z,T=P-R*M,I=j;break;case"left":P=O=i.coordinate,w=s+ +!b*d,A=w-R*z,I=A-R*M,T=j;break;case"right":P=O=i.coordinate,w=s+ +b*d,A=w+R*z,I=A+R*M,T=j;break;default:A=w=i.coordinate,O=a+ +b*h,P=O+R*z,T=P+R*M,I=j;break}return{line:{x1:A,y1:P,x2:w,y2:O},tick:{x:I,y:T}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.orientation,g=i.mirror,v=i.axisLine,b=Xo(Xo(Xo({},Ur(this.props)),Ur(v)),{},{fill:"none"});if(h==="top"||h==="bottom"){var M=+(h==="top"&&!g||h==="bottom"&&g);b=Xo(Xo({},b),{},{x1:o,y1:s+M*d,x2:o+a,y2:s+M*d})}else{var A=+(h==="left"&&!g||h==="right"&&g);b=Xo(Xo({},b),{},{x1:o+A*a,y1:s,x2:o+A*a,y2:s+d})}return qe.createElement("line",Zp({},b,{className:_n("recharts-cartesian-axis-line",Es(v,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,d=this.props,h=d.tickLine,g=d.stroke,v=d.tick,b=d.tickFormatter,M=d.unit,A=sO(Xo(Xo({},this.props),{},{ticks:i}),o,s),w=this.getTickTextAnchor(),P=this.getTickVerticalAnchor(),O=Ur(this.props),I=Ur(v),T=Xo(Xo({},O),{},{fill:"none"},Ur(h)),R=A.map(function(z,j){var V=a.getTickLineCoord(z),Z=V.line,ie=V.tick,ne=Xo(Xo(Xo(Xo({textAnchor:w,verticalAnchor:P},O),{},{stroke:"none",fill:g},I),ie),{},{index:j,payload:z,visibleTicksCount:A.length,tickFormatter:b});return qe.createElement(Oi,Zp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j)},xw(a.props,z,j)),h&&qe.createElement("line",Zp({},T,Z,{className:_n("recharts-cartesian-axis-tick-line",Es(h,"className"))})),v&&r.renderTickItem(v,ne,"".concat(hr(b)?b(z.value,j):z.value).concat(M||"")))});return qe.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,d=o.height,h=o.ticksGenerator,g=o.className,v=o.hide;if(v)return null;var b=this.props,M=b.ticks,A=nP(b,NUe),w=M;return hr(h)&&(w=M&&M.length>0?h(this.props):h(A)),a<=0||d<=0||!w||!w.length?null:qe.createElement(Oi,{className:_n("recharts-cartesian-axis",g),ref:function(O){i.layerReference=O}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),lo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return qe.isValidElement(i)?a=qe.cloneElement(i,o):hr(i)?a=i(o):a=qe.createElement(U0,Zp({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),r}(W.Component);$D(Yv,"displayName","CartesianAxis");$D(Yv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var YUe=["x1","y1","x2","y2","key"];function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function cO(){return cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cO.apply(this,arguments)}function KUe(e,t){if(e==null)return{};var r=ZUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function MF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(r),!0).forEach(function(n){DD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tY(n.key),n)}}function JUe(e,t,r){return t&&OF(e.prototype,t),r&&OF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uO(e,t)}function uO(e,t){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uO(e,t)}function e8e(e){var t=n8e();return function(){var n=iS(e),i;if(t){var o=iS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return t8e(this,i)}}function t8e(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r8e(e)}function r8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function DD(e,t,r){return t=tY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=i8e(e,"string");return Qm(t)==="symbol"?t:String(t)}function i8e(e,t){if(Qm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LD=function(e){QUe(r,e);var t=e8e(r);function r(){return XUe(this,r),t.apply(this,arguments)}return JUe(r,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,d=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(v,b){var M=Vb(Vb({},o.props),{},{x1:a,y1:v,x2:a+d,y2:v,key:"line-".concat(b),index:b});return r.renderLineItem(h,M)});return qe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,d=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(v,b){var M=Vb(Vb({},o.props),{},{x1:v,y1:a,x2:v,y2:a+d,key:"line-".concat(b),index:b});return r.renderLineItem(h,M)});return qe.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,d=s.x,h=s.y,g=s.width,v=s.height,b=i.map(function(A){return Math.round(A+d-d)}).sort(function(A,w){return A-w});d!==b[0]&&b.unshift(0);var M=b.map(function(A,w){var P=!b[w+1],O=P?d+g-A:b[w+1]-A;if(O<=0)return null;var I=w%o.length;return qe.createElement("rect",{key:"react-".concat(w),x:A,y:h,width:O,height:v,stroke:"none",fill:o[I],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return qe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},M)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,d=s.x,h=s.y,g=s.width,v=s.height,b=i.map(function(A){return Math.round(A+h-h)}).sort(function(A,w){return A-w});h!==b[0]&&b.unshift(0);var M=b.map(function(A,w){var P=!b[w+1],O=P?h+v-A:b[w+1]-A;if(O<=0)return null;var I=w%o.length;return qe.createElement("rect",{key:"react-".concat(w),y:A,x:d,height:O,width:g,stroke:"none",fill:o[I],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return qe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},M)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,d=o.y,h=o.width,g=o.height;return qe.createElement("rect",{x:a,y:d,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.horizontal,g=i.vertical,v=i.horizontalCoordinatesGenerator,b=i.verticalCoordinatesGenerator,M=i.xAxis,A=i.yAxis,w=i.offset,P=i.chartWidth,O=i.chartHeight;if(!Mt(a)||a<=0||!Mt(d)||d<=0||!Mt(o)||o!==+o||!Mt(s)||s!==+s)return null;var I=this.props,T=I.horizontalPoints,R=I.verticalPoints;return(!T||!T.length)&&hr(v)&&(T=v({yAxis:A,width:P,height:O,offset:w})),(!R||!R.length)&&hr(b)&&(R=b({xAxis:M,width:P,height:O,offset:w})),qe.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(T),g&&this.renderVertical(R),h&&this.renderHorizontalStripes(T),g&&this.renderVerticalStripes(R))}}],[{key:"renderLineItem",value:function(i,o){var s;if(qe.isValidElement(i))s=qe.cloneElement(i,o);else if(hr(i))s=i(o);else{var a=o.x1,d=o.y1,h=o.x2,g=o.y2,v=o.key,b=KUe(o,YUe);s=qe.createElement("line",cO({},Ur(b),{x1:a,y1:d,x2:h,y2:g,fill:"none",key:v}))}return s}}]),r}(W.PureComponent);DD(LD,"displayName","CartesianGrid");DD(LD,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var o8e=["type","layout","connectNulls","ref"];function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function a8e(e,t){if(e==null)return{};var r=s8e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(n){zl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ep(e){return f8e(e)||u8e(e)||c8e(e)||l8e()}function l8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8e(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function u8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f8e(e){if(Array.isArray(e))return fO(e)}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rY(n.key),n)}}function h8e(e,t,r){return t&&RF(e.prototype,t),r&&RF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dO(e,t)}function dO(e,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dO(e,t)}function m8e(e){var t=y8e();return function(){var n=oS(e),i;if(t){var o=oS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return g8e(this,i)}}function g8e(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ed(e)}function Ed(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function zl(e,t,r){return t=rY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=v8e(e,"string");return eg(t)==="symbol"?t:String(t)}function v8e(e,t){if(eg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg=function(e){p8e(r,e);var t=m8e(r);function r(){var n;d8e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),zl(Ed(n),"state",{isAnimationFinished:!0,totalLength:0}),zl(Ed(n),"getStrokeDasharray",function(a,d,h){for(var g=h.reduce(function(I,T){return I+T}),v=Math.floor(a/g),b=a%g,M=d-a,A=[],w=0,P=0;;P+=h[w],++w)if(P+h[w]>b){A=[].concat(Ep(h.slice(0,w)),[b-P]);break}var O=A.length%2===0?[0,M]:[M];return[].concat(Ep(r.repeat(h,v)),Ep(A),O).map(function(I){return"".concat(I,"px")}).join(", ")}),zl(Ed(n),"id",z_("recharts-line-")),zl(Ed(n),"pathRef",function(a){n.mainCurve=a}),zl(Ed(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),zl(Ed(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return h8e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,d=s.xAxis,h=s.yAxis,g=s.layout,v=s.children,b=Cs(v,W_);if(!b)return null;var M=function(P,O){return{x:P.x,y:P.y,value:P.value,errorVal:Xa(P.payload,O)}},A={clipPath:i?"url(#clipPath-".concat(o,")"):null};return qe.createElement(Oi,A,b.map(function(w,P){return qe.cloneElement(w,{key:"bar-".concat(P),data:a,xAxis:d,yAxis:h,layout:g,dataPointFormatter:M})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var d=this.props,h=d.dot,g=d.points,v=d.dataKey,b=Ur(this.props),M=Ur(h,!0),A=g.map(function(P,O){var I=za(za(za({key:"dot-".concat(O),r:3},b),M),{},{value:P.value,dataKey:v,cx:P.x,cy:P.y,index:O,payload:P.payload});return r.renderDotItem(h,I)}),w={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return qe.createElement(Oi,Kv({className:"recharts-line-dots",key:"dots"},w),A)}},{key:"renderCurveStatically",value:function(i,o,s,a){var d=this.props,h=d.type,g=d.layout,v=d.connectNulls;d.ref;var b=a8e(d,o8e),M=za(za(za({},Ur(b,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:v});return qe.createElement(Xw,Kv({},M,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,d=a.points,h=a.strokeDasharray,g=a.isAnimationActive,v=a.animationBegin,b=a.animationDuration,M=a.animationEasing,A=a.animationId,w=a.animateNewValues,P=a.width,O=a.height,I=this.state,T=I.prevPoints,R=I.totalLength;return qe.createElement(oh,{begin:v,duration:b,isActive:g,easing:M,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(z){var j=z.t;if(T){var V=T.length/d.length,Z=d.map(function(pe,Pe){var be=Math.floor(Pe*V);if(T[be]){var he=T[be],ve=ol(he.x,pe.x),Se=ol(he.y,pe.y);return za(za({},pe),{},{x:ve(j),y:Se(j)})}if(w){var ye=ol(P*2,pe.x),Ie=ol(O/2,pe.y);return za(za({},pe),{},{x:ye(j),y:Ie(j)})}return za(za({},pe),{},{x:pe.x,y:pe.y})});return s.renderCurveStatically(Z,i,o)}var ie=ol(0,R),ne=ie(j),ae;if(h){var de="".concat(h).split(/[,\s]+/gim).map(function(pe){return parseFloat(pe)});ae=s.getStrokeDasharray(ne,R,de)}else ae="".concat(ne,"px ").concat(R-ne,"px");return s.renderCurveStatically(d,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,d=s.isAnimationActive,h=this.state,g=h.prevPoints,v=h.totalLength;return d&&a&&a.length&&(!g&&v>0||!aD(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,d=o.points,h=o.className,g=o.xAxis,v=o.yAxis,b=o.top,M=o.left,A=o.width,w=o.height,P=o.isAnimationActive,O=o.id;if(s||!d||!d.length)return null;var I=this.state.isAnimationFinished,T=d.length===1,R=_n("recharts-line",h),z=g&&g.allowDataOverflow,j=v&&v.allowDataOverflow,V=z||j,Z=fr(O)?this.id:O,ie=(i=Ur(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},ne=ie.r,ae=ne===void 0?3:ne,de=ie.strokeWidth,pe=de===void 0?2:de,Pe=uke(a)?a:{},be=Pe.clipDot,he=be===void 0?!0:be,ve=ae*2+pe;return qe.createElement(Oi,{className:R},z||j?qe.createElement("defs",null,qe.createElement("clipPath",{id:"clipPath-".concat(Z)},qe.createElement("rect",{x:z?M:M-A/2,y:j?b:b-w/2,width:z?A:A*2,height:j?w:w*2})),!he&&qe.createElement("clipPath",{id:"clipPath-dots-".concat(Z)},qe.createElement("rect",{x:M-ve/2,y:b-ve/2,width:A+ve,height:w+ve}))):null,!T&&this.renderCurve(V,Z),this.renderErrorBar(V,Z),(T||a)&&this.renderDots(V,he,Z),(!P||I)&&Gc.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(Ep(i),[0]):i,a=[],d=0;d<o;++d)a=[].concat(Ep(a),Ep(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(qe.isValidElement(i))s=qe.cloneElement(i,o);else if(hr(i))s=i(o);else{var a=_n("recharts-line-dot",i?i.className:"");s=qe.createElement(OD,Kv({},o,{className:a}))}return s}}]),r}(W.PureComponent);zl(tg,"displayName","Line");zl(tg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});zl(tg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,d=e.displayedData,h=e.offset,g=t.layout,v=d.map(function(b,M){var A=Xa(b,s);return g==="horizontal"?{x:HB({axis:r,ticks:i,bandSize:a,entry:b,index:M}),y:fr(A)?null:n.scale(A),value:A,payload:b}:{x:fr(A)?null:r.scale(A),y:HB({axis:n,ticks:o,bandSize:a,entry:b,index:M}),value:A,payload:b}});return za({points:v,layout:g},h)});var $E=function(){return null};$E.displayName="XAxis";$E.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var DE=function(){return null};DE.displayName="YAxis";DE.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var _8e=Uf,x8e=N_,b8e=pE;function w8e(e){return function(t,r,n){var i=Object(t);if(!x8e(t)){var o=_8e(r);t=b8e(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var S8e=w8e,E8e=HG;function C8e(e){var t=E8e(e),r=t%1;return t===t?r?t-r:t:0}var T8e=C8e,k8e=qq,P8e=Uf,A8e=T8e,M8e=Math.max;function O8e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:A8e(r);return i<0&&(i=M8e(n+i,0)),k8e(e,P8e(t),i)}var I8e=O8e,R8e=S8e,$8e=I8e,D8e=R8e($8e),L8e=D8e;const z8e=Kr(L8e);var N8e=Bf,j8e=Ff,B8e="[object Boolean]";function F8e(e){return e===!0||e===!1||j8e(e)&&N8e(e)==B8e}var U8e=F8e;const V8e=Kr(U8e);function $F(e){return G8e(e)||H8e(e)||q8e(e)||W8e()}function W8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(e,t){if(e){if(typeof e=="string")return hO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hO(e,t)}}function H8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G8e(e){if(Array.isArray(e))return hO(e)}function hO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pO=function(t,r,n,i,o){var s=Cs(t,RD),a=Cs(t,q_),d=[].concat($F(s),$F(a)),h=Cs(t,H_),g="".concat(i,"Id"),v=i[0],b=r;if(d.length&&(b=d.reduce(function(w,P){if(P.props[g]===n&&Jl(P.props,"extendDomain")&&Mt(P.props[v])){var O=P.props[v];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},b)),h.length){var M="".concat(v,"1"),A="".concat(v,"2");b=h.reduce(function(w,P){if(P.props[g]===n&&Jl(P.props,"extendDomain")&&Mt(P.props[M])&&Mt(P.props[A])){var O=P.props[M],I=P.props[A];return[Math.min(w[0],O,I),Math.max(w[1],O,I)]}return w},b)}return o&&o.length&&(b=o.reduce(function(w,P){return Mt(P)?[Math.min(w[0],P),Math.max(w[1],P)]:w},b)),b},nY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,g){this.fn=d,this.context=h,this.once=g||!1}function o(d,h,g,v,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var M=new i(g,v||d,b),A=r?r+h:h;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],M]:d._events[A].push(M):(d._events[A]=M,d._eventsCount++),d}function s(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)t.call(g,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=r?r+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,M=v.length,A=new Array(M);b<M;b++)A[b]=v[b].fn;return A},a.prototype.listenerCount=function(h){var g=r?r+h:h,v=this._events[g];return v?v.fn?1:v.length:0},a.prototype.emit=function(h,g,v,b,M,A){var w=r?r+h:h;if(!this._events[w])return!1;var P=this._events[w],O=arguments.length,I,T;if(P.fn){switch(P.once&&this.removeListener(h,P.fn,void 0,!0),O){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,g),!0;case 3:return P.fn.call(P.context,g,v),!0;case 4:return P.fn.call(P.context,g,v,b),!0;case 5:return P.fn.call(P.context,g,v,b,M),!0;case 6:return P.fn.call(P.context,g,v,b,M,A),!0}for(T=1,I=new Array(O-1);T<O;T++)I[T-1]=arguments[T];P.fn.apply(P.context,I)}else{var R=P.length,z;for(T=0;T<R;T++)switch(P[T].once&&this.removeListener(h,P[T].fn,void 0,!0),O){case 1:P[T].fn.call(P[T].context);break;case 2:P[T].fn.call(P[T].context,g);break;case 3:P[T].fn.call(P[T].context,g,v);break;case 4:P[T].fn.call(P[T].context,g,v,b);break;default:if(!I)for(z=1,I=new Array(O-1);z<O;z++)I[z-1]=arguments[z];P[T].fn.apply(P[T].context,I)}}return!0},a.prototype.on=function(h,g,v){return o(this,h,g,v,!1)},a.prototype.once=function(h,g,v){return o(this,h,g,v,!0)},a.prototype.removeListener=function(h,g,v,b){var M=r?r+h:h;if(!this._events[M])return this;if(!g)return s(this,M),this;var A=this._events[M];if(A.fn)A.fn===g&&(!b||A.once)&&(!v||A.context===v)&&s(this,M);else{for(var w=0,P=[],O=A.length;w<O;w++)(A[w].fn!==g||b&&!A[w].once||v&&A[w].context!==v)&&P.push(A[w]);P.length?this._events[M]=P.length===1?P[0]:P:s(this,M)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&s(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(nY);var Y8e=nY.exports;const K8e=Kr(Y8e);var Na=new K8e;Na.setMaxListeners&&Na.setMaxListeners(10);var iP="recharts.syncMouseEvents";function c_(e){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c_(e)}function Z8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iY(n.key),n)}}function X8e(e,t,r){return t&&DF(e.prototype,t),r&&DF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oP(e,t,r){return t=iY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=J8e(e,"string");return c_(t)==="symbol"?t:String(t)}function J8e(e,t){if(c_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q8e=function(){function e(){Z8e(this,e),oP(this,"activeIndex",0),oP(this,"coordinateList",[]),oP(this,"layout","horizontal")}return X8e(e,[{key:"setDetails",value:function(r){var n=r.coordinateList,i=n===void 0?[]:n,o=r.container,s=o===void 0?null:o,a=r.layout,d=a===void 0?null:a,h=r.offset,g=h===void 0?null:h,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=d??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),n=r.x,i=r.y,o=this.coordinateList[this.activeIndex].coordinate,s=n+o,a=i+this.offset.top;this.mouseHandlerCallback({pageX:s,pageY:a})}}}]),e}(),eVe=["item"],tVe=["children","className","width","height","style","compact","title","desc"];function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function LF(e,t){return iVe(e)||nVe(e,t)||oY(e,t)||rVe()}function rVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function iVe(e){if(Array.isArray(e))return e}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(this,arguments)}function zF(e,t){if(e==null)return{};var r=oVe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oVe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function aVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aY(n.key),n)}}function sVe(e,t,r){return t&&NF(e.prototype,t),r&&NF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mO(e,t)}function cVe(e){var t=fVe();return function(){var n=aS(e),i;if(t){var o=aS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return uVe(this,i)}}function uVe(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aS(e){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aS(e)}function ng(e){return pVe(e)||hVe(e)||oY(e)||dVe()}function dVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(e,t){if(e){if(typeof e=="string")return gO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(e,t)}}function hVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pVe(e){if(Array.isArray(e))return gO(e)}function gO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(n){ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ur(e,t,r){return t=aY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=mVe(e,"string");return rg(t)==="symbol"?t:String(t)}function mVe(e,t){if(rg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gVe={xAxis:["bottom","top"],yAxis:["left","right"]},sY={x:0,y:0},yVe=Number.isFinite?Number.isFinite:isFinite,BF=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,FF=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,vVe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_Ve=function(t,r,n,i){var o=r.find(function(g){return g&&g.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return ft(ft(ft({},i),uo(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var d=o.coordinate,h=i.angle;return ft(ft(ft({},i),uo(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return sY},LE=function(t,r,n){var i=r.graphicalItems,o=r.dataStartIndex,s=r.dataEndIndex,a=(i||[]).reduce(function(d,h){var g=h.props.data;return g&&g.length?[].concat(ng(d),ng(g)):d},[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:t&&t.length&&Mt(o)&&Mt(s)?t.slice(o,s+1):[]};function xVe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Mt(n)&&Mt(i))return!0}return!1}function lY(e){return e==="number"?[0,"auto"]:void 0}var cY=function(t,r,n,i){var o=t.graphicalItems,s=t.tooltipAxis,a=LE(r,t);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(d,h){var g=h.props.hide;if(g)return d;var v=h.props.data,b;if(s.dataKey&&!s.allowDuplicatedCategory){var M=v===void 0?a:v;b=vw(M,s.dataKey,i)}else b=v&&v[n]||a[n];return b?[].concat(ng(d),[FG(h,b)]):d},[])},UF=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},s=vVe(o,n),a=t.orderedTooltipTicks,d=t.tooltipAxis,h=t.tooltipTicks,g=TBe(s,a,h,d);if(g>=0&&h){var v=h[g]&&h[g].value,b=cY(t,r,g,v),M=_Ve(n,a,g,o);return{activeTooltipIndex:g,activeLabel:v,activePayload:b,activeCoordinate:M}}return null},bVe=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=t.layout,v=t.children,b=t.stackOffset,M=jG(g,o),A=n.reduce(function(w,P){var O,I=P.props,T=I.type,R=I.dataKey,z=I.allowDataOverflow,j=I.allowDuplicatedCategory,V=I.scale,Z=I.ticks,ie=I.includeHidden,ne=P.props[s];if(w[ne])return w;var ae=LE(t.data,{graphicalItems:i.filter(function(De){return De.props[s]===ne}),dataStartIndex:d,dataEndIndex:h}),de=ae.length,pe,Pe,be;xVe(P.props.domain,z,T)&&(pe=HM(P.props.domain,null,z),M&&(T==="number"||V!=="auto")&&(be=Gv(ae,R,"category")));var he=lY(T);if(!pe||pe.length===0){var ve,Se=(ve=P.props.domain)!==null&&ve!==void 0?ve:he;if(R){if(pe=Gv(ae,R,T),T==="category"&&M){var ye=tke(pe);j&&ye?(Pe=pe,pe=Qw(0,de)):j||(pe=ZB(Se,pe,P).reduce(function(De,Oe){return De.indexOf(Oe)>=0?De:[].concat(ng(De),[Oe])},[]))}else if(T==="category")j?pe=pe.filter(function(De){return De!==""&&!fr(De)}):pe=ZB(Se,pe,P).reduce(function(De,Oe){return De.indexOf(Oe)>=0||Oe===""||fr(Oe)?De:[].concat(ng(De),[Oe])},[]);else if(T==="number"){var Ie=OBe(ae,i.filter(function(De){return De.props[s]===ne&&(ie||!De.props.hide)}),R,o,g);Ie&&(pe=Ie)}M&&(T==="number"||V!=="auto")&&(be=Gv(ae,R,"category"))}else M?pe=Qw(0,de):a&&a[ne]&&a[ne].hasStack&&T==="number"?pe=b==="expand"?[0,1]:BG(a[ne].stackGroups,d,h):pe=NG(ae,i.filter(function(De){return De.props[s]===ne&&(ie||!De.props.hide)}),T,g,!0);if(T==="number")pe=pO(v,pe,ne,o,Z),Se&&(pe=HM(Se,pe,z));else if(T==="category"&&Se){var Xe=Se,Ee=pe.every(function(De){return Xe.indexOf(De)>=0});Ee&&(pe=Xe)}}return ft(ft({},w),{},ur({},ne,ft(ft({},P.props),{},{axisType:o,domain:pe,categoricalDomain:be,duplicateDomain:Pe,originalDomain:(O=P.props.domain)!==null&&O!==void 0?O:he,isCategorical:M,layout:g})))},{});return A},wVe=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=t.layout,v=t.children,b=LE(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),M=b.length,A=jG(g,o),w=-1,P=n.reduce(function(O,I){var T=I.props[s],R=lY("number");if(!O[T]){w++;var z;return A?z=Qw(0,M):a&&a[T]&&a[T].hasStack?(z=BG(a[T].stackGroups,d,h),z=pO(v,z,T,o)):(z=HM(R,NG(b,n.filter(function(j){return j.props[s]===T&&!j.props.hide}),"number",g),i.defaultProps.allowDataOverflow),z=pO(v,z,T,o)),ft(ft({},O),{},ur({},T,ft(ft({axisType:o},i.defaultProps),{},{hide:!0,orientation:Es(gVe,"".concat(o,".").concat(w%2),null),domain:z,originalDomain:R,isCategorical:A,layout:g})))}return O},{});return P},SVe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=t.children,v="".concat(i,"Id"),b=Cs(g,o),M={};return b&&b.length?M=bVe(t,{axes:b,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:a,dataStartIndex:d,dataEndIndex:h}):s&&s.length&&(M=wVe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:a,dataStartIndex:d,dataEndIndex:h})),M},EVe=function(t){var r=Uu(t),n=Vu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:oD(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Yw(r,n)}},VF=function(t){var r,n,i=t.children,o=t.defaultShowTooltip,s=Bc(i,n_),a=s&&s.props&&s.props.startIndex||0,d=(s==null||(r=s.props)===null||r===void 0?void 0:r.endIndex)!==void 0?s==null||(n=s.props)===null||n===void 0?void 0:n.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:d,activeTooltipIndex:-1,isTooltipActive:fr(o)?!1:o}},CVe=function(t){return!t||!t.length?!1:t.some(function(r){var n=bf(r&&r.type);return n&&n.indexOf("Bar")>=0})},WF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},TVe=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,d=a===void 0?{}:a,h=n.width,g=n.height,v=n.children,b=n.margin||{},M=Bc(v,n_),A=Bc(v,Wm),w=Object.keys(d).reduce(function(T,R){var z=d[R],j=z.orientation;return!z.mirror&&!z.hide?ft(ft({},T),{},ur({},j,T[j]+z.width)):T},{left:b.left||0,right:b.right||0}),P=Object.keys(s).reduce(function(T,R){var z=s[R],j=z.orientation;return!z.mirror&&!z.hide?ft(ft({},T),{},ur({},j,Es(T,"".concat(j))+z.height)):T},{top:b.top||0,bottom:b.bottom||0}),O=ft(ft({},P),w),I=O.bottom;return M&&(O.bottom+=M.props.height||n_.defaultProps.height),A&&r&&(O=ABe(O,i,n,r)),ft(ft({brushBottom:I},O),{},{width:h-O.left-O.right,height:g-O.top-O.bottom})},kVe=function(t){var r,n=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,d=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,v=t.formatAxisMap,b=t.defaultProps,M=function(P,O){var I=O.graphicalItems,T=O.stackGroups,R=O.offset,z=O.updateId,j=O.dataStartIndex,V=O.dataEndIndex,Z=P.barSize,ie=P.layout,ne=P.barGap,ae=P.barCategoryGap,de=P.maxBarSize,pe=WF(ie),Pe=pe.numericAxisName,be=pe.cateAxisName,he=CVe(I),ve=he&&kBe({barSize:Z,stackGroups:T}),Se=[];return I.forEach(function(ye,Ie){var Xe=LE(P.data,{dataStartIndex:j,dataEndIndex:V},ye),Ee=ye.props,De=Ee.dataKey,Oe=Ee.maxBarSize,Ge=ye.props["".concat(Pe,"Id")],Be=ye.props["".concat(be,"Id")],at=h.reduce(function(pr,Sr){var cr,Er=O["".concat(Sr.axisType,"Map")],an=ye.props["".concat(Sr.axisType,"Id")],ut=Er&&Er[an];return ft(ft({},pr),{},(cr={},ur(cr,Sr.axisType,ut),ur(cr,"".concat(Sr.axisType,"Ticks"),Vu(ut)),cr))},{}),nt=at[be],Ve=at["".concat(be,"Ticks")],Je=T&&T[Ge]&&T[Ge].hasStack&&VBe(ye,T[Ge].stackGroups),ct=bf(ye.type).indexOf("Bar")>=0,Fe=Yw(nt,Ve),Re=[];if(ct){var St,Zt,Ot=fr(Oe)?de:Oe,zt=(St=(Zt=Yw(nt,Ve,!0))!==null&&Zt!==void 0?Zt:Ot)!==null&&St!==void 0?St:0;Re=PBe({barGap:ne,barCategoryGap:ae,bandSize:zt!==Fe?zt:Fe,sizeList:ve[Be],maxBarSize:Ot}),zt!==Fe&&(Re=Re.map(function(pr){return ft(ft({},pr),{},{position:ft(ft({},pr.position),{},{offset:pr.position.offset-zt/2})})}))}var Mr=ye&&ye.type&&ye.type.getComposedData;if(Mr){var Vr;Se.push({props:ft(ft({},Mr(ft(ft({},at),{},{displayedData:Xe,props:P,dataKey:De,item:ye,bandSize:Fe,barPosition:Re,offset:R,stackedData:Je,layout:ie,dataStartIndex:j,dataEndIndex:V}))),{},(Vr={key:ye.key||"item-".concat(Ie)},ur(Vr,Pe,at[Pe]),ur(Vr,be,at[be]),ur(Vr,"animationId",z),Vr)),childIndex:hke(ye,P.children),item:ye})}}),Se},A=function(P,O){var I=P.props,T=P.dataStartIndex,R=P.dataEndIndex,z=P.updateId;if(!Pj({props:I}))return null;var j=I.children,V=I.layout,Z=I.stackOffset,ie=I.data,ne=I.reverseStackOrder,ae=WF(V),de=ae.numericAxisName,pe=ae.cateAxisName,Pe=Cs(j,i),be=BBe(ie,Pe,"".concat(de,"Id"),"".concat(pe,"Id"),Z,ne),he=h.reduce(function(Xe,Ee){var De="".concat(Ee.axisType,"Map");return ft(ft({},Xe),{},ur({},De,SVe(I,ft(ft({},Ee),{},{graphicalItems:Pe,stackGroups:Ee.axisType===de&&be,dataStartIndex:T,dataEndIndex:R}))))},{}),ve=TVe(ft(ft({},he),{},{props:I,graphicalItems:Pe}),O==null?void 0:O.legendBBox);Object.keys(he).forEach(function(Xe){he[Xe]=v(I,he[Xe],ve,Xe.replace("Map",""),n)});var Se=he["".concat(pe,"Map")],ye=EVe(Se),Ie=M(I,ft(ft({},he),{},{dataStartIndex:T,dataEndIndex:R,updateId:z,graphicalItems:Pe,stackGroups:be,offset:ve}));return ft(ft({formattedGraphicalItems:Ie,graphicalItems:Pe,offset:ve,stackGroups:be},ye),he)};return r=function(w){lVe(O,w);var P=cVe(O);function O(I){var T;return aVe(this,O),T=P.call(this,I),ur(Rr(T),"accessibilityManager",new Q8e),ur(Rr(T),"clearDeferId",function(){!fr(T.deferId)&&FF&&FF(T.deferId),T.deferId=null}),ur(Rr(T),"handleLegendBBoxUpdate",function(R){if(R){var z=T.state,j=z.dataStartIndex,V=z.dataEndIndex,Z=z.updateId;T.setState(ft({legendBBox:R},A({props:T.props,dataStartIndex:j,dataEndIndex:V,updateId:Z},ft(ft({},T.state),{},{legendBBox:R}))))}}),ur(Rr(T),"handleReceiveSyncEvent",function(R,z,j){var V=T.props.syncId;V===R&&z!==T.uniqueChartId&&(T.clearDeferId(),T.deferId=BF&&BF(T.applySyncEvent.bind(Rr(T),j)))}),ur(Rr(T),"handleBrushChange",function(R){var z=R.startIndex,j=R.endIndex;if(z!==T.state.dataStartIndex||j!==T.state.dataEndIndex){var V=T.state.updateId;T.setState(function(){return ft({dataStartIndex:z,dataEndIndex:j},A({props:T.props,dataStartIndex:z,dataEndIndex:j,updateId:V},T.state))}),T.triggerSyncEvent({dataStartIndex:z,dataEndIndex:j})}}),ur(Rr(T),"handleMouseEnter",function(R){var z=T.props.onMouseEnter,j=T.getMouseInfo(R);if(j){var V=ft(ft({},j),{},{isTooltipActive:!0});T.setState(V),T.triggerSyncEvent(V),hr(z)&&z(V,R)}}),ur(Rr(T),"triggeredAfterMouseMove",function(R){var z=T.props.onMouseMove,j=T.getMouseInfo(R),V=j?ft(ft({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(V),T.triggerSyncEvent(V),hr(z)&&z(V,R)}),ur(Rr(T),"handleItemMouseEnter",function(R){T.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),ur(Rr(T),"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ur(Rr(T),"handleMouseMove",function(R){R&&hr(R.persist)&&R.persist(),T.triggeredAfterMouseMove(R)}),ur(Rr(T),"handleMouseLeave",function(R){var z=T.props.onMouseLeave,j={isTooltipActive:!1};T.setState(j),T.triggerSyncEvent(j),hr(z)&&z(j,R),T.cancelThrottledTriggerAfterMouseMove()}),ur(Rr(T),"handleOuterEvent",function(R){var z=dke(R),j=Es(T.props,"".concat(z));if(z&&hr(j)){var V;/.*touch.*/i.test(z)?V=T.getMouseInfo(R.changedTouches[0]):V=T.getMouseInfo(R);var Z=j;Z(V,R)}}),ur(Rr(T),"handleClick",function(R){var z=T.props.onClick,j=T.getMouseInfo(R);if(j){var V=ft(ft({},j),{},{isTooltipActive:!0});T.setState(V),T.triggerSyncEvent(V),hr(z)&&z(V,R)}}),ur(Rr(T),"handleMouseDown",function(R){var z=T.props.onMouseDown;if(hr(z)){var j=T.getMouseInfo(R);z(j,R)}}),ur(Rr(T),"handleMouseUp",function(R){var z=T.props.onMouseUp;if(hr(z)){var j=T.getMouseInfo(R);z(j,R)}}),ur(Rr(T),"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&T.handleMouseMove(R.changedTouches[0])}),ur(Rr(T),"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&T.handleMouseDown(R.changedTouches[0])}),ur(Rr(T),"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&T.handleMouseUp(R.changedTouches[0])}),ur(Rr(T),"verticalCoordinatesGenerator",function(R){var z=R.xAxis,j=R.width,V=R.height,Z=R.offset;return WB(sO(ft(ft(ft({},Yv.defaultProps),z),{},{ticks:Vu(z,!0),viewBox:{x:0,y:0,width:j,height:V}})),Z.left,Z.left+Z.width)}),ur(Rr(T),"horizontalCoordinatesGenerator",function(R){var z=R.yAxis,j=R.width,V=R.height,Z=R.offset;return WB(sO(ft(ft(ft({},Yv.defaultProps),z),{},{ticks:Vu(z,!0),viewBox:{x:0,y:0,width:j,height:V}})),Z.top,Z.top+Z.height)}),ur(Rr(T),"axesTicksGenerator",function(R){return Vu(R,!0)}),ur(Rr(T),"renderCursor",function(R){var z=T.state,j=z.isTooltipActive,V=z.activeCoordinate,Z=z.activePayload,ie=z.offset,ne=z.activeTooltipIndex,ae=T.getTooltipEventType();if(!R||!R.props.cursor||!j||!V||n!=="ScatterChart"&&ae!=="axis")return null;var de=T.props.layout,pe,Pe=Xw;if(n==="ScatterChart")pe=V,Pe=qG;else if(n==="BarChart")pe=T.getCursorRectangle(),Pe=OE;else if(de==="radial"){var be=T.getCursorPoints(),he=be.cx,ve=be.cy,Se=be.radius,ye=be.startAngle,Ie=be.endAngle;pe={cx:he,cy:ve,startAngle:ye,endAngle:Ie,innerRadius:Se,outerRadius:Se},Pe=WG}else pe={points:T.getCursorPoints()},Pe=Xw;var Xe=R.key||"_recharts-cursor",Ee=ft(ft(ft(ft({stroke:"#ccc",pointerEvents:"none"},ie),pe),Ur(R.props.cursor)),{},{payload:Z,payloadIndex:ne,key:Xe,className:"recharts-tooltip-cursor"});return W.isValidElement(R.props.cursor)?W.cloneElement(R.props.cursor,Ee):W.createElement(Pe,Ee)}),ur(Rr(T),"renderPolarAxis",function(R,z,j){var V=Es(R,"type.axisType"),Z=Es(T.state,"".concat(V,"Map")),ie=Z&&Z[R.props["".concat(V,"Id")]];return W.cloneElement(R,ft(ft({},ie),{},{className:V,key:R.key||"".concat(z,"-").concat(j),ticks:Vu(ie,!0)}))}),ur(Rr(T),"renderXAxis",function(R,z,j){var V=T.state.xAxisMap,Z=V[R.props.xAxisId];return T.renderAxis(Z,R,z,j)}),ur(Rr(T),"renderYAxis",function(R,z,j){var V=T.state.yAxisMap,Z=V[R.props.yAxisId];return T.renderAxis(Z,R,z,j)}),ur(Rr(T),"renderGrid",function(R){var z=T.state,j=z.xAxisMap,V=z.yAxisMap,Z=z.offset,ie=T.props,ne=ie.width,ae=ie.height,de=Uu(j),pe=z8e(V,function(he){return KG(he.domain,yVe)}),Pe=pe||Uu(V),be=R.props||{};return W.cloneElement(R,{key:R.key||"grid",x:Mt(be.x)?be.x:Z.left,y:Mt(be.y)?be.y:Z.top,width:Mt(be.width)?be.width:Z.width,height:Mt(be.height)?be.height:Z.height,xAxis:de,yAxis:Pe,offset:Z,chartWidth:ne,chartHeight:ae,verticalCoordinatesGenerator:be.verticalCoordinatesGenerator||T.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:be.horizontalCoordinatesGenerator||T.horizontalCoordinatesGenerator})}),ur(Rr(T),"renderPolarGrid",function(R){var z=R.props,j=z.radialLines,V=z.polarAngles,Z=z.polarRadius,ie=T.state,ne=ie.radiusAxisMap,ae=ie.angleAxisMap,de=Uu(ne),pe=Uu(ae),Pe=pe.cx,be=pe.cy,he=pe.innerRadius,ve=pe.outerRadius;return W.cloneElement(R,{polarAngles:co(V)?V:Vu(pe,!0).map(function(Se){return Se.coordinate}),polarRadius:co(Z)?Z:Vu(de,!0).map(function(Se){return Se.coordinate}),cx:Pe,cy:be,innerRadius:he,outerRadius:ve,key:R.key||"polar-grid",radialLines:j})}),ur(Rr(T),"renderLegend",function(){var R=T.state.formattedGraphicalItems,z=T.props,j=z.children,V=z.width,Z=z.height,ie=T.props.margin||{},ne=V-(ie.left||0)-(ie.right||0),ae=LG({children:j,formattedGraphicalItems:R,legendWidth:ne,legendContent:g});if(!ae)return null;var de=ae.item,pe=zF(ae,eVe);return W.cloneElement(de,ft(ft({},pe),{},{chartWidth:V,chartHeight:Z,margin:ie,ref:function(be){T.legendInstance=be},onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ur(Rr(T),"renderTooltip",function(){var R=T.props.children,z=Bc(R,Dd);if(!z)return null;var j=T.state,V=j.isTooltipActive,Z=j.activeCoordinate,ie=j.activePayload,ne=j.activeLabel,ae=j.offset;return W.cloneElement(z,{viewBox:ft(ft({},ae),{},{x:ae.left,y:ae.top}),active:V,label:ne,payload:V?ie:[],coordinate:Z})}),ur(Rr(T),"renderBrush",function(R){var z=T.props,j=z.margin,V=z.data,Z=T.state,ie=Z.offset,ne=Z.dataStartIndex,ae=Z.dataEndIndex,de=Z.updateId;return W.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Bb(T.handleBrushChange,null,R.props.onChange),data:V,x:Mt(R.props.x)?R.props.x:ie.left,y:Mt(R.props.y)?R.props.y:ie.top+ie.height+ie.brushBottom-(j.bottom||0),width:Mt(R.props.width)?R.props.width:ie.width,startIndex:ne,endIndex:ae,updateId:"brush-".concat(de)})}),ur(Rr(T),"renderReferenceElement",function(R,z,j){if(!R)return null;var V=Rr(T),Z=V.clipPathId,ie=T.state,ne=ie.xAxisMap,ae=ie.yAxisMap,de=ie.offset,pe=R.props,Pe=pe.xAxisId,be=pe.yAxisId;return W.cloneElement(R,{key:R.key||"".concat(z,"-").concat(j),xAxis:ne[Pe],yAxis:ae[be],viewBox:{x:de.left,y:de.top,width:de.width,height:de.height},clipPathId:Z})}),ur(Rr(T),"renderActivePoints",function(R){var z=R.item,j=R.activePoint,V=R.basePoint,Z=R.childIndex,ie=R.isRange,ne=[],ae=z.props.key,de=z.item.props,pe=de.activeDot,Pe=de.dataKey,be=ft(ft({index:Z,dataKey:Pe,cx:j.x,cy:j.y,r:4,fill:MD(z.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value,key:"".concat(ae,"-activePoint-").concat(Z)},Ur(pe)),_w(pe));return ne.push(O.renderActiveDot(pe,be)),V?ne.push(O.renderActiveDot(pe,ft(ft({},be),{},{cx:V.x,cy:V.y,key:"".concat(ae,"-basePoint-").concat(Z)}))):ie&&ne.push(null),ne}),ur(Rr(T),"renderGraphicChild",function(R,z,j){var V=T.filterFormatItem(R,z,j);if(!V)return null;var Z=T.getTooltipEventType(),ie=T.state,ne=ie.isTooltipActive,ae=ie.tooltipAxis,de=ie.activeTooltipIndex,pe=ie.activeLabel,Pe=T.props.children,be=Bc(Pe,Dd),he=V.props,ve=he.points,Se=he.isRange,ye=he.baseLine,Ie=V.item.props,Xe=Ie.activeDot,Ee=Ie.hide,De=!Ee&&ne&&be&&Xe&&de>=0,Oe={};Z!=="axis"&&be&&be.props.trigger==="click"?Oe={onClick:Bb(T.handleItemMouseEnter,null,R.props.onCLick)}:Z!=="axis"&&(Oe={onMouseLeave:Bb(T.handleItemMouseLeave,null,R.props.onMouseLeave),onMouseEnter:Bb(T.handleItemMouseEnter,null,R.props.onMouseEnter)});var Ge=W.cloneElement(R,ft(ft({},V.props),Oe));function Be(Je){return typeof ae.dataKey=="function"?ae.dataKey(Je.payload):null}if(De){var at,nt;if(ae.dataKey&&!ae.allowDuplicatedCategory){var Ve=typeof ae.dataKey=="function"?Be:"payload.".concat(ae.dataKey.toString());at=vw(ve,Ve,pe),nt=Se&&ye&&vw(ye,Ve,pe)}else at=ve[de],nt=Se&&ye&&ye[de];if(!fr(at))return[Ge].concat(ng(T.renderActivePoints({item:V,activePoint:at,basePoint:nt,childIndex:de,isRange:Se})))}return Se?[Ge,null,null]:[Ge,null]}),ur(Rr(T),"renderCustomized",function(R,z,j){return W.cloneElement(R,ft(ft({key:"recharts-customized-".concat(j)},T.props),T.state))}),T.uniqueChartId=fr(I.id)?z_("recharts"):I.id,T.clipPathId="".concat(T.uniqueChartId,"-clip"),I.throttleDelay&&(T.triggeredAfterMouseMove=RH(T.triggeredAfterMouseMove,I.throttleDelay)),T.state={},T}return sVe(O,[{key:"componentDidMount",value:function(){var T,R;fr(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(T,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var z,j;this.accessibilityManager.setDetails({offset:{left:(z=this.props.margin.left)!==null&&z!==void 0?z:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(T){fr(T.syncId)&&!fr(this.props.syncId)&&this.addListener(),!fr(T.syncId)&&fr(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),fr(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Bc(this.props.children,Dd);if(T&&V8e(T.props.shared)){var R=T.props.shared?"axis":"item";return d.indexOf(R)>=0?R:s}return s}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var R=g3e(this.container),z=y3e(T,R),j=this.inRange(z.chartX,z.chartY);if(!j)return null;var V=this.state,Z=V.xAxisMap,ie=V.yAxisMap,ne=this.getTooltipEventType();if(ne!=="axis"&&Z&&ie){var ae=Uu(Z).scale,de=Uu(ie).scale,pe=ae&&ae.invert?ae.invert(z.chartX):null,Pe=de&&de.invert?de.invert(z.chartY):null;return ft(ft({},z),{},{xValue:pe,yValue:Pe})}var be=UF(this.state,this.props.data,this.props.layout,j);return be?ft(ft({},z),be):null}},{key:"getCursorRectangle",value:function(){var T=this.props.layout,R=this.state,z=R.activeCoordinate,j=R.offset,V=R.tooltipAxisBandSize,Z=V/2;return{stroke:"none",fill:"#ccc",x:T==="horizontal"?z.x-Z:j.left+.5,y:T==="horizontal"?j.top+.5:z.y-Z,width:T==="horizontal"?V:j.width-1,height:T==="horizontal"?j.height-1:V}}},{key:"getCursorPoints",value:function(){var T=this.props.layout,R=this.state,z=R.activeCoordinate,j=R.offset,V,Z,ie,ne;if(T==="horizontal")V=z.x,ie=V,Z=j.top,ne=j.top+j.height;else if(T==="vertical")Z=z.y,ne=Z,V=j.left,ie=j.left+j.width;else if(!fr(z.cx)||!fr(z.cy))if(T==="centric"){var ae=z.cx,de=z.cy,pe=z.innerRadius,Pe=z.outerRadius,be=z.angle,he=uo(ae,de,pe,be),ve=uo(ae,de,Pe,be);V=he.x,Z=he.y,ie=ve.x,ne=ve.y}else{var Se=z.cx,ye=z.cy,Ie=z.radius,Xe=z.startAngle,Ee=z.endAngle,De=uo(Se,ye,Ie,Xe),Oe=uo(Se,ye,Ie,Ee);return{points:[De,Oe],cx:Se,cy:ye,radius:Ie,startAngle:Xe,endAngle:Ee}}return[{x:V,y:Z},{x:ie,y:ne}]}},{key:"inRange",value:function(T,R){var z=this.props.layout;if(z==="horizontal"||z==="vertical"){var j=this.state.offset,V=T>=j.left&&T<=j.left+j.width&&R>=j.top&&R<=j.top+j.height;return V?{x:T,y:R}:null}var Z=this.state,ie=Z.angleAxisMap,ne=Z.radiusAxisMap;if(ie&&ne){var ae=Uu(ie);return QB({x:T,y:R},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,R=this.getTooltipEventType(),z=Bc(T,Dd),j={};z&&R==="axis"&&(z.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var V=_w(this.props,this.handleOuterEvent);return ft(ft({},V),j)}},{key:"addListener",value:function(){Na.on(iP,this.handleReceiveSyncEvent),Na.setMaxListeners&&Na._maxListeners&&Na.setMaxListeners(Na._maxListeners+1)}},{key:"removeListener",value:function(){Na.removeListener(iP,this.handleReceiveSyncEvent),Na.setMaxListeners&&Na._maxListeners&&Na.setMaxListeners(Na._maxListeners-1)}},{key:"triggerSyncEvent",value:function(T){var R=this.props.syncId;fr(R)||Na.emit(iP,R,this.uniqueChartId,T)}},{key:"applySyncEvent",value:function(T){var R=this.props,z=R.layout,j=R.syncMethod,V=this.state.updateId,Z=T.dataStartIndex,ie=T.dataEndIndex;if(!fr(T.dataStartIndex)||!fr(T.dataEndIndex))this.setState(ft({dataStartIndex:Z,dataEndIndex:ie},A({props:this.props,dataStartIndex:Z,dataEndIndex:ie,updateId:V},this.state)));else if(fr(T.activeTooltipIndex))this.setState(T);else{var ne=T.chartX,ae=T.chartY,de=T.activeTooltipIndex,pe=this.state,Pe=pe.offset,be=pe.tooltipTicks;if(!Pe)return;if(typeof j=="function")de=j(be,T);else if(j==="value"){de=-1;for(var he=0;he<be.length;he++)if(be[he].value===T.activeLabel){de=he;break}}var ve=ft(ft({},Pe),{},{x:Pe.left,y:Pe.top}),Se=Math.min(ne,ve.x+ve.width),ye=Math.min(ae,ve.y+ve.height),Ie=be[de]&&be[de].value,Xe=cY(this.state,this.props.data,de),Ee=be[de]?{x:z==="horizontal"?be[de].coordinate:Se,y:z==="horizontal"?ye:be[de].coordinate}:sY;this.setState(ft(ft({},T),{},{activeLabel:Ie,activeCoordinate:Ee,activePayload:Xe,activeTooltipIndex:de}))}}},{key:"filterFormatItem",value:function(T,R,z){for(var j=this.state.formattedGraphicalItems,V=0,Z=j.length;V<Z;V++){var ie=j[V];if(ie.item===T||ie.props.key===T.key||R===bf(ie.item.type)&&z===ie.childIndex)return ie}return null}},{key:"renderAxis",value:function(T,R,z,j){var V=this.props,Z=V.width,ie=V.height;return qe.createElement(Yv,Xp({},T,{className:_n("recharts-".concat(T.axisType," ").concat(T.axisType),T.className),key:R.key||"".concat(z,"-").concat(j),viewBox:{x:0,y:0,width:Z,height:ie},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var T=this.clipPathId,R=this.state.offset,z=R.left,j=R.top,V=R.height,Z=R.width;return qe.createElement("defs",null,qe.createElement("clipPath",{id:T},qe.createElement("rect",{x:z,y:j,height:V,width:Z})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(R,z){var j=LF(z,2),V=j[0],Z=j[1];return ft(ft({},R),{},ur({},V,Z.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(R,z){var j=LF(z,2),V=j[0],Z=j[1];return ft(ft({},R),{},ur({},V,Z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var R,z;return(R=this.state.xAxisMap)===null||R===void 0||(z=R[T])===null||z===void 0?void 0:z.scale}},{key:"getYScaleByAxisId",value:function(T){var R,z;return(R=this.state.yAxisMap)===null||R===void 0||(z=R[T])===null||z===void 0?void 0:z.scale}},{key:"getItemByXY",value:function(T){var R=this.state.formattedGraphicalItems;if(R&&R.length)for(var z=0,j=R.length;z<j;z++){var V=R[z],Z=V.props,ie=V.item,ne=bf(ie.type);if(ne==="Bar"){var ae=(Z.data||[]).find(function(pe){return WFe(T,pe)});if(ae)return{graphicalItem:V,payload:ae}}else if(ne==="RadialBar"){var de=(Z.data||[]).find(function(pe){return QB(T,pe)});if(de)return{graphicalItem:V,payload:de}}}return null}},{key:"render",value:function(){var T=this;if(!Pj(this))return null;var R=this.props,z=R.children,j=R.className,V=R.width,Z=R.height,ie=R.style,ne=R.compact,ae=R.title,de=R.desc,pe=zF(R,tVe),Pe=Ur(pe),be={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(ne)return qe.createElement(JA,Xp({},Pe,{width:V,height:Z,title:ae,desc:de}),this.renderClipPath(),Mj(z,be));if(this.props.accessibilityLayer){var he,ve;Pe.tabIndex=(he=0)!==null&&he!==void 0?he:this.props.tabIndex,Pe.role=(ve="img")!==null&&ve!==void 0?ve:this.props.role,Pe.onKeyDown=function(ye){T.accessibilityManager.keyboardEvent(ye)},Pe.onFocus=function(){T.accessibilityManager.focus()}}var Se=this.parseEventsOfWrapper();return qe.createElement("div",Xp({className:_n("recharts-wrapper",j),style:ft({position:"relative",cursor:"default",width:V,height:Z},ie)},Se,{ref:function(Ie){T.container=Ie},role:"region"}),qe.createElement(JA,Xp({},Pe,{width:V,height:Z,title:ae,desc:de}),this.renderClipPath(),Mj(z,be)),this.renderLegend(),this.renderTooltip())}}]),O}(W.Component),ur(r,"displayName",n),ur(r,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},b)),ur(r,"getDerivedStateFromProps",function(w,P){var O=w.data,I=w.children,T=w.width,R=w.height,z=w.layout,j=w.stackOffset,V=w.margin;if(fr(P.updateId)){var Z=VF(w);return ft(ft(ft({},Z),{},{updateId:0},A(ft(ft({props:w},Z),{},{updateId:0}),P)),{},{prevData:O,prevWidth:T,prevHeight:R,prevLayout:z,prevStackOffset:j,prevMargin:V,prevChildren:I})}if(O!==P.prevData||T!==P.prevWidth||R!==P.prevHeight||z!==P.prevLayout||j!==P.prevStackOffset||!mm(V,P.prevMargin)){var ie=VF(w),ne={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},ae=ft(ft({},UF(P,O,z)),{},{updateId:P.updateId+1}),de=ft(ft(ft({},ie),ne),ae);return ft(ft(ft({},de),A(ft({props:w},de),P)),{},{prevData:O,prevWidth:T,prevHeight:R,prevLayout:z,prevStackOffset:j,prevMargin:V,prevChildren:I})}if(!Aq(I,P.prevChildren)){var pe=!fr(O),Pe=pe?P.updateId:P.updateId+1;return ft(ft({updateId:Pe},A(ft(ft({props:w},P),{},{updateId:Pe}),P)),{},{prevChildren:I})}return null}),ur(r,"renderActiveDot",function(w,P){var O;return W.isValidElement(w)?O=W.cloneElement(w,P):hr(w)?O=w(P):O=qe.createElement(OD,P),qe.createElement(Oi,{className:"recharts-active-dot",key:P.key},O)}),r},PVe=kVe({chartName:"LineChart",GraphicalChild:tg,axisComponents:[{axisType:"xAxis",AxisComp:$E},{axisType:"yAxis",AxisComp:DE}],formatAxisMap:lUe});const AVe=Lo(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),MVe=()=>{const e=AVe(),[t,r]=W.useState([]),[n,i]=W.useState([]),[o,s]=W.useState(-1),a=Ln(P=>P.mission),d=t.map(P=>P.elevation),h=t.map(P=>P.uavheight),g=Math.min(...d),v=Math.max(...h),b=v-g,M=[{name:"RT0",data:[{length:0,uavheight:20.5,elevation:15.5,wp:0,rt:0},{length:4,uavheight:20.5,elevation:20.5,wp:0,rt:0},{length:7.5,uavheight:20.5,elevation:1.5,wp:1,rt:0},{length:18.5,uavheight:20.5,elevation:15.5,wp:2,rt:0},{length:25.8,uavheight:20.5,elevation:15.5,wp:3,rt:0}],color:"#F34C28"},{name:"RT1",data:[{length:0,uavheight:10.5,elevation:5.5,wp:0,rt:1},{length:4.8,uavheight:10.5,elevation:5.5,wp:1,rt:1},{length:10.2,uavheight:10.5,elevation:5.4,wp:2,rt:1},{length:17.1,uavheight:10.5,elevation:5.4,wp:3,rt:1},{length:24.4,uavheight:10.5,elevation:5.5,wp:4,rt:1}],color:"#F39A28"},{name:"RT2",data:[{length:0,uavheight:28.2,elevation:6.2,wp:0,rt:2},{length:6.3,uavheight:26.2,elevation:8.6,wp:1,rt:2},{length:13.9,uavheight:36.2,elevation:8.2,wp:2,rt:2},{length:18.5,uavheight:26.2,elevation:8.1,wp:3,rt:2},{length:22.9,uavheight:31.2,elevation:7.1,wp:4,rt:2}],color:"#1EC910"}];async function A(){s(-1),i(M),r(M)}W.useEffect(()=>{console.log("mission Elevation")},[]),W.useEffect(()=>{A()},[a]),W.useEffect(()=>{o==-1?r(n):r([n[o]])},[o]);const w=({active:P,payload:O,label:I})=>{if(P&&O&&O.length){let T=[O[0].payload];return T[0].color=O[0].color,O.map(R=>{let z=!0;T.map(j=>{R.payload.rt==j.rt&&(z=!1)}),R.payload.color=R.color,z&&T.push(R.payload)}),F.jsx("div",{style:{background:"#FFFFFF"},children:T.map(R=>F.jsxs(W.Fragment,{children:[F.jsx("div",{style:{color:R.color,fontSize:16},children:`Ruta ${R.rt} - wp ${R.wp}`},`trt${R.rt}`),F.jsx("div",{style:{color:R.color,fontSize:16},children:`Terreno:${R.elevation} - UAV: ${R.uavheight}`},`drt${R.rt}`)]}))})}return null};return F.jsxs("div",{className:e.content,children:[F.jsxs(Bu,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[F.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),F.jsxs(T0,{children:[F.jsx(k0,{id:"demo-simple-select-label",children:"Route"}),F.jsxs(P0,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Elevation Profile",onChange:P=>s(P.target.value),children:[F.jsx(ma,{value:-1,children:"All Routes"}),n.map((P,O,I)=>F.jsx(ma,{value:O,children:`Route${O}`},`sel${O}`))]})]})]}),t.length>0&&F.jsx("div",{className:e.chart,children:F.jsx(NNe,{width:"100%",height:"100%",children:F.jsxs(PVe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[F.jsx($E,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),F.jsx(DE,{type:"number",tickFormatter:P=>P.toFixed(2),domain:[g-b/5,v+b/5]}),F.jsx(LD,{strokeDasharray:"3 3"}),F.jsx(Dd,{content:F.jsx(w,{})}),F.jsx(Wm,{}),t.map((P,O,I)=>F.jsxs(W.Fragment,{children:[F.jsx(tg,{type:"monotone",dataKey:"elevation",data:P.data,name:P.name,stroke:P.color,activeDot:{r:8}},P.name),F.jsx(tg,{connectNulls:!0,type:"monotone",dataKey:"uavheight",data:P.data,name:P.name+"-v",stroke:P.color,strokeDasharray:"5 5"},P.name+"-v")]},"s-"+O))]})})})]})},OVe=Lo(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),IVe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},RVe=()=>{const e=OVe();return F.jsx("div",{className:e.root,children:F.jsxs(M9,{notification:IVe,children:[F.jsx(O9,{}),F.jsx(U9,{}),F.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[F.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),F.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:F.jsx(NW,{children:F.jsx(s2e,{})})})]}),F.jsx("div",{className:e.sidebarStyle,children:F.jsx("div",{className:e.middleStyle,children:F.jsx(tu,{square:!0,children:F.jsx(S2e,{})})})}),F.jsx("div",{className:e.panelElevation,children:F.jsx("div",{className:e.middleStyle,children:F.jsx(tu,{square:!0,children:F.jsx(MVe,{})})})})]})})},$Ve=()=>F.jsx("div",{children:"EventPage"}),DVe=()=>F.jsx("div",{children:"ReplayPage"}),LVe=Lo(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})),zVe=()=>{const e=LVe(),t=m_(),{id:r}=aQ(),[n,i]=W.useState();M2(async()=>{if(r){const s=await fetch(`/api/positions?id=${r}`);if(s.ok){const a=await s.json();a.length>0&&i(a[0])}else throw Error(await s.text())}},[r]);const o=Ln(s=>{if(n){const a=s.devices.items[n.deviceId];if(a)return a.name}return null});return F.jsxs("div",{className:e.root,children:[F.jsx(zV,{position:"sticky",color:"inherit",children:F.jsxs(A2,{children:[F.jsx(cn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:F.jsx(D$,{})}),F.jsx(ln,{variant:"h6",children:o})]})}),F.jsx("div",{className:e.content,children:F.jsx(QV,{maxWidth:"sm",children:F.jsx(tu,{children:F.jsxs(mW,{children:[F.jsx(ype,{children:F.jsxs(s1,{children:[F.jsx(Js,{children:"stateName"}),F.jsx(Js,{children:"sharedName"}),F.jsx(Js,{children:"stateValue"})]})}),F.jsxs(gW,{children:[n&&Object.getOwnPropertyNames(n).filter(s=>s!=="attributes").map(s=>F.jsxs(s1,{children:[F.jsx(Js,{children:s}),F.jsx(Js,{children:F.jsx("strong",{children:m1("position",s)})}),F.jsxs(Js,{children:[s," "]})]},s)),n&&Object.getOwnPropertyNames(n.attributes).map(s=>F.jsxs(s1,{children:[F.jsx(Js,{children:s}),F.jsx(Js,{children:F.jsx("strong",{children:m1("position",s)||m1("device",s)})}),F.jsxs(Js,{children:[s," "]})]},s))]})]})})})})]})},NVe=()=>{const e=m_();TS();const t=qge();return M2(async()=>{e("/")},[t]),F.jsx(bQ,{children:F.jsxs(yd,{path:"/",element:F.jsx(Wge,{}),children:[F.jsx(yd,{index:!0,element:F.jsx(o2e,{})}),F.jsx(yd,{path:"mission",element:F.jsx(RVe,{})}),F.jsx(yd,{path:"device/:id",element:F.jsx(zVe,{})}),F.jsx(yd,{path:"event/:id",element:F.jsx($Ve,{})}),F.jsx(yd,{path:"replay",element:F.jsx(DVe,{})})]})})},jVe=()=>{const e={white:Jd.white,background:Gl[50],primary:G8[900],secondary:il[800],positive:il[500],medium:AI[700],negative:Rc[500],neutral:Gl[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},BVe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},FVe={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:Gl[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},UVe=()=>W.useMemo(()=>ZI({palette:jVe(),dimensions:BVe,components:FVe}),[]),VVe=({children:e})=>{const t=UVe();return F.jsx(doe,{theme:t,children:e})};Gte();const WVe=o8(document.getElementById("root"));WVe.render(F.jsx(Mee,{store:Mte,children:F.jsx(ane,{injectFirst:!0,children:F.jsxs(VVe,{children:[F.jsx(Sue,{}),F.jsx(SQ,{children:F.jsx(NVe,{})})]})})}))});export default qVe();
