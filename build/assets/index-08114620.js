var RX=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var nqe=RX((oqe,G1)=>{function $X(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var fU={exports:{}},BS={},hU={exports:{}},Nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=Symbol.for("react.element"),DX=Symbol.for("react.portal"),LX=Symbol.for("react.fragment"),NX=Symbol.for("react.strict_mode"),zX=Symbol.for("react.profiler"),jX=Symbol.for("react.provider"),BX=Symbol.for("react.context"),FX=Symbol.for("react.forward_ref"),UX=Symbol.for("react.suspense"),VX=Symbol.for("react.memo"),WX=Symbol.for("react.lazy"),yz=Symbol.iterator;function qX(e){return e===null||typeof e!="object"?null:(e=yz&&e[yz]||e["@@iterator"],typeof e=="function"?e:null)}var pU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mU=Object.assign,gU={};function Pg(e,t,r){this.props=e,this.context=t,this.refs=gU,this.updater=r||pU}Pg.prototype.isReactComponent={};Pg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yU(){}yU.prototype=Pg.prototype;function cI(e,t,r){this.props=e,this.context=t,this.refs=gU,this.updater=r||pU}var uI=cI.prototype=new yU;uI.constructor=cI;mU(uI,Pg.prototype);uI.isPureReactComponent=!0;var vz=Array.isArray,vU=Object.prototype.hasOwnProperty,dI={current:null},_U={key:!0,ref:!0,__self:!0,__source:!0};function xU(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)vU.call(t,n)&&!_U.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:j_,type:e,key:o,ref:s,props:i,_owner:dI.current}}function HX(e,t){return{$$typeof:j_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fI(e){return typeof e=="object"&&e!==null&&e.$$typeof===j_}function GX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _z=/\/+/g;function Ak(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GX(""+e.key):t.toString(36)}function S1(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case j_:case DX:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Ak(s,0):n,vz(i)?(r="",e!=null&&(r=e.replace(_z,"$&/")+"/"),S1(i,t,r,"",function(h){return h})):i!=null&&(fI(i)&&(i=HX(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_z,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",vz(e))for(var a=0;a<e.length;a++){o=e[a];var f=n+Ak(o,a);s+=S1(o,t,r,f,i)}else if(f=qX(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=n+Ak(o,a++),s+=S1(o,t,r,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Sb(e,t,r){if(e==null)return e;var n=[],i=0;return S1(e,n,"","",function(o){return t.call(r,o,i++)}),n}function YX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sa={current:null},E1={transition:null},KX={ReactCurrentDispatcher:sa,ReactCurrentBatchConfig:E1,ReactCurrentOwner:dI};Nr.Children={map:Sb,forEach:function(e,t,r){Sb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sb(e,function(){t++}),t},toArray:function(e){return Sb(e,function(t){return t})||[]},only:function(e){if(!fI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nr.Component=Pg;Nr.Fragment=LX;Nr.Profiler=zX;Nr.PureComponent=cI;Nr.StrictMode=NX;Nr.Suspense=UX;Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KX;Nr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mU({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=dI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)vU.call(t,f)&&!_U.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:j_,type:e.type,key:i,ref:o,props:n,_owner:s}};Nr.createContext=function(e){return e={$$typeof:BX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jX,_context:e},e.Consumer=e};Nr.createElement=xU;Nr.createFactory=function(e){var t=xU.bind(null,e);return t.type=e,t};Nr.createRef=function(){return{current:null}};Nr.forwardRef=function(e){return{$$typeof:FX,render:e}};Nr.isValidElement=fI;Nr.lazy=function(e){return{$$typeof:WX,_payload:{_status:-1,_result:e},_init:YX}};Nr.memo=function(e,t){return{$$typeof:VX,type:e,compare:t===void 0?null:t}};Nr.startTransition=function(e){var t=E1.transition;E1.transition={};try{e()}finally{E1.transition=t}};Nr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nr.useCallback=function(e,t){return sa.current.useCallback(e,t)};Nr.useContext=function(e){return sa.current.useContext(e)};Nr.useDebugValue=function(){};Nr.useDeferredValue=function(e){return sa.current.useDeferredValue(e)};Nr.useEffect=function(e,t){return sa.current.useEffect(e,t)};Nr.useId=function(){return sa.current.useId()};Nr.useImperativeHandle=function(e,t,r){return sa.current.useImperativeHandle(e,t,r)};Nr.useInsertionEffect=function(e,t){return sa.current.useInsertionEffect(e,t)};Nr.useLayoutEffect=function(e,t){return sa.current.useLayoutEffect(e,t)};Nr.useMemo=function(e,t){return sa.current.useMemo(e,t)};Nr.useReducer=function(e,t,r){return sa.current.useReducer(e,t,r)};Nr.useRef=function(e){return sa.current.useRef(e)};Nr.useState=function(e){return sa.current.useState(e)};Nr.useSyncExternalStore=function(e,t,r){return sa.current.useSyncExternalStore(e,t,r)};Nr.useTransition=function(){return sa.current.useTransition()};Nr.version="18.2.0";hU.exports=Nr;var V=hU.exports;const De=Jr(V),Y1=$X({__proto__:null,default:De},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZX=V,XX=Symbol.for("react.element"),JX=Symbol.for("react.fragment"),QX=Object.prototype.hasOwnProperty,eJ=ZX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tJ={key:!0,ref:!0,__self:!0,__source:!0};function bU(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)QX.call(t,n)&&!tJ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:XX,type:e,key:o,ref:s,props:i,_owner:eJ.current}}BS.Fragment=JX;BS.jsx=bU;BS.jsxs=bU;fU.exports=BS;var B=fU.exports,wU={exports:{}},es={},SU={exports:{}},EU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ee,Oe){var qe=Ee.length;Ee.push(Oe);e:for(;0<qe;){var rt=qe-1>>>1,Pe=Ee[rt];if(0<i(Pe,Oe))Ee[rt]=Oe,Ee[qe]=Pe,qe=rt;else break e}}function r(Ee){return Ee.length===0?null:Ee[0]}function n(Ee){if(Ee.length===0)return null;var Oe=Ee[0],qe=Ee.pop();if(qe!==Oe){Ee[0]=qe;e:for(var rt=0,Pe=Ee.length,je=Pe>>>1;rt<je;){var Le=2*(rt+1)-1,Ye=Ee[Le],Be=Le+1,lt=Ee[Be];if(0>i(Ye,qe))Be<Pe&&0>i(lt,Ye)?(Ee[rt]=lt,Ee[Be]=qe,rt=Be):(Ee[rt]=Ye,Ee[Le]=qe,rt=Le);else if(Be<Pe&&0>i(lt,qe))Ee[rt]=lt,Ee[Be]=qe,rt=Be;else break e}}return Oe}function i(Ee,Oe){var qe=Ee.sortIndex-Oe.sortIndex;return qe!==0?qe:Ee.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var f=[],h=[],g=1,y=null,x=3,A=!1,T=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Ee){for(var Oe=r(h);Oe!==null;){if(Oe.callback===null)n(h);else if(Oe.startTime<=Ee)n(h),Oe.sortIndex=Oe.expirationTime,t(f,Oe);else break;Oe=r(h)}}function R(Ee){if(w=!1,E(Ee),!T)if(r(f)!==null)T=!0,Ce(N);else{var Oe=r(h);Oe!==null&&Te(R,Oe.startTime-Ee)}}function N(Ee,Oe){T=!1,w&&(w=!1,O(q),q=-1),A=!0;var qe=x;try{for(E(Oe),y=r(f);y!==null&&(!(y.expirationTime>Oe)||Ee&&!ae());){var rt=y.callback;if(typeof rt=="function"){y.callback=null,x=y.priorityLevel;var Pe=rt(y.expirationTime<=Oe);Oe=e.unstable_now(),typeof Pe=="function"?y.callback=Pe:y===r(f)&&n(f),E(Oe)}else n(f);y=r(f)}if(y!==null)var je=!0;else{var Le=r(h);Le!==null&&Te(R,Le.startTime-Oe),je=!1}return je}finally{y=null,x=qe,A=!1}}var D=!1,F=null,q=-1,J=5,Q=-1;function ae(){return!(e.unstable_now()-Q<J)}function he(){if(F!==null){var Ee=e.unstable_now();Q=Ee;var Oe=!0;try{Oe=F(!0,Ee)}finally{Oe?fe():(D=!1,F=null)}}else D=!1}var fe;if(typeof I=="function")fe=function(){I(he)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ge=we.port2;we.port1.onmessage=he,fe=function(){ge.postMessage(null)}}else fe=function(){M(he,0)};function Ce(Ee){F=Ee,D||(D=!0,fe())}function Te(Ee,Oe){q=M(function(){Ee(e.unstable_now())},Oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ee){Ee.callback=null},e.unstable_continueExecution=function(){T||A||(T=!0,Ce(N))},e.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Ee?Math.floor(1e3/Ee):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(Ee){switch(x){case 1:case 2:case 3:var Oe=3;break;default:Oe=x}var qe=x;x=Oe;try{return Ee()}finally{x=qe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ee,Oe){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var qe=x;x=Ee;try{return Oe()}finally{x=qe}},e.unstable_scheduleCallback=function(Ee,Oe,qe){var rt=e.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?rt+qe:rt):qe=rt,Ee){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=qe+Pe,Ee={id:g++,callback:Oe,priorityLevel:Ee,startTime:qe,expirationTime:Pe,sortIndex:-1},qe>rt?(Ee.sortIndex=qe,t(h,Ee),r(f)===null&&Ee===r(h)&&(w?(O(q),q=-1):w=!0,Te(R,qe-rt))):(Ee.sortIndex=Pe,t(f,Ee),T||A||(T=!0,Ce(N))),Ee},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(Ee){var Oe=x;return function(){var qe=x;x=Oe;try{return Ee.apply(this,arguments)}finally{x=qe}}}})(EU);SU.exports=EU;var rJ=SU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CU=V,Za=rJ;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kU=new Set,A0={};function kh(e,t){Bm(e,t),Bm(e+"Capture",t)}function Bm(e,t){for(A0[e]=t,e=0;e<t.length;e++)kU.add(t[e])}var au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),KP=Object.prototype.hasOwnProperty,nJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xz={},bz={};function iJ(e){return KP.call(bz,e)?!0:KP.call(xz,e)?!1:nJ.test(e)?bz[e]=!0:(xz[e]=!0,!1)}function oJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aJ(e,t,r,n){if(t===null||typeof t>"u"||oJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function la(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var yo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yo[e]=new la(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yo[t]=new la(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yo[e]=new la(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yo[e]=new la(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yo[e]=new la(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yo[e]=new la(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yo[e]=new la(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yo[e]=new la(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yo[e]=new la(e,5,!1,e.toLowerCase(),null,!1,!1)});var hI=/[\-:]([a-z])/g;function pI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hI,pI);yo[t]=new la(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hI,pI);yo[t]=new la(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hI,pI);yo[t]=new la(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yo[e]=new la(e,1,!1,e.toLowerCase(),null,!1,!1)});yo.xlinkHref=new la("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yo[e]=new la(e,1,!1,e.toLowerCase(),null,!0,!0)});function mI(e,t,r,n){var i=yo.hasOwnProperty(t)?yo[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aJ(t,r,i,n)&&(r=null),n||i===null?iJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _u=CU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eb=Symbol.for("react.element"),Yp=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),gI=Symbol.for("react.strict_mode"),ZP=Symbol.for("react.profiler"),TU=Symbol.for("react.provider"),PU=Symbol.for("react.context"),yI=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),JP=Symbol.for("react.suspense_list"),vI=Symbol.for("react.memo"),td=Symbol.for("react.lazy"),AU=Symbol.for("react.offscreen"),wz=Symbol.iterator;function nv(e){return e===null||typeof e!="object"?null:(e=wz&&e[wz]||e["@@iterator"],typeof e=="function"?e:null)}var li=Object.assign,Mk;function Uv(e){if(Mk===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mk=t&&t[1]||""}return`
`+Mk+e}var Ok=!1;function Ik(e,t){if(!e||Ok)return"";Ok=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=a);break}}}finally{Ok=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uv(e):""}function sJ(e){switch(e.tag){case 5:return Uv(e.type);case 16:return Uv("Lazy");case 13:return Uv("Suspense");case 19:return Uv("SuspenseList");case 0:case 2:case 15:return e=Ik(e.type,!1),e;case 11:return e=Ik(e.type.render,!1),e;case 1:return e=Ik(e.type,!0),e;default:return""}}function QP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kp:return"Fragment";case Yp:return"Portal";case ZP:return"Profiler";case gI:return"StrictMode";case XP:return"Suspense";case JP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PU:return(e.displayName||"Context")+".Consumer";case TU:return(e._context.displayName||"Context")+".Provider";case yI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vI:return t=e.displayName||null,t!==null?t:QP(e.type)||"Memo";case td:t=e._payload,e=e._init;try{return QP(e(t))}catch{}}return null}function lJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QP(t);case 8:return t===gI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Od(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function MU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cJ(e){var t=MU(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cb(e){e._valueTracker||(e._valueTracker=cJ(e))}function OU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=MU(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function K1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eA(e,t){var r=t.checked;return li({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sz(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Od(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IU(e,t){t=t.checked,t!=null&&mI(e,"checked",t,!1)}function tA(e,t){IU(e,t);var r=Od(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rA(e,t.type,r):t.hasOwnProperty("defaultValue")&&rA(e,t.type,Od(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ez(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rA(e,t,r){(t!=="number"||K1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vv=Array.isArray;function vm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Od(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_t(91));return li({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cz(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_t(92));if(Vv(r)){if(1<r.length)throw Error(_t(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Od(r)}}function RU(e,t){var r=Od(t.value),n=Od(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $U(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$U(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kb,DU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kb=kb||document.createElement("div"),kb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function M0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var r0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uJ=["Webkit","ms","Moz","O"];Object.keys(r0).forEach(function(e){uJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),r0[t]=r0[e]})});function LU(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||r0.hasOwnProperty(e)&&r0[e]?(""+t).trim():t+"px"}function NU(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=LU(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var dJ=li({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oA(e,t){if(t){if(dJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_t(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_t(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_t(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_t(62))}}function aA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sA=null;function _I(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lA=null,_m=null,xm=null;function Tz(e){if(e=U_(e)){if(typeof lA!="function")throw Error(_t(280));var t=e.stateNode;t&&(t=qS(t),lA(e.stateNode,e.type,t))}}function zU(e){_m?xm?xm.push(e):xm=[e]:_m=e}function jU(){if(_m){var e=_m,t=xm;if(xm=_m=null,Tz(e),t)for(e=0;e<t.length;e++)Tz(t[e])}}function BU(e,t){return e(t)}function FU(){}var Rk=!1;function UU(e,t,r){if(Rk)return e(t,r);Rk=!0;try{return BU(e,t,r)}finally{Rk=!1,(_m!==null||xm!==null)&&(FU(),jU())}}function O0(e,t){var r=e.stateNode;if(r===null)return null;var n=qS(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_t(231,t,typeof r));return r}var cA=!1;if(au)try{var iv={};Object.defineProperty(iv,"passive",{get:function(){cA=!0}}),window.addEventListener("test",iv,iv),window.removeEventListener("test",iv,iv)}catch{cA=!1}function fJ(e,t,r,n,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(g){this.onError(g)}}var n0=!1,Z1=null,X1=!1,uA=null,hJ={onError:function(e){n0=!0,Z1=e}};function pJ(e,t,r,n,i,o,s,a,f){n0=!1,Z1=null,fJ.apply(hJ,arguments)}function mJ(e,t,r,n,i,o,s,a,f){if(pJ.apply(this,arguments),n0){if(n0){var h=Z1;n0=!1,Z1=null}else throw Error(_t(198));X1||(X1=!0,uA=h)}}function Th(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function VU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pz(e){if(Th(e)!==e)throw Error(_t(188))}function gJ(e){var t=e.alternate;if(!t){if(t=Th(e),t===null)throw Error(_t(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Pz(i),e;if(o===n)return Pz(i),t;o=o.sibling}throw Error(_t(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(_t(189))}}if(r.alternate!==n)throw Error(_t(190))}if(r.tag!==3)throw Error(_t(188));return r.stateNode.current===r?e:t}function WU(e){return e=gJ(e),e!==null?qU(e):null}function qU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qU(e);if(t!==null)return t;e=e.sibling}return null}var HU=Za.unstable_scheduleCallback,Az=Za.unstable_cancelCallback,yJ=Za.unstable_shouldYield,vJ=Za.unstable_requestPaint,Si=Za.unstable_now,_J=Za.unstable_getCurrentPriorityLevel,xI=Za.unstable_ImmediatePriority,GU=Za.unstable_UserBlockingPriority,J1=Za.unstable_NormalPriority,xJ=Za.unstable_LowPriority,YU=Za.unstable_IdlePriority,FS=null,Zl=null;function bJ(e){if(Zl&&typeof Zl.onCommitFiberRoot=="function")try{Zl.onCommitFiberRoot(FS,e,void 0,(e.current.flags&128)===128)}catch{}}var pl=Math.clz32?Math.clz32:EJ,wJ=Math.log,SJ=Math.LN2;function EJ(e){return e>>>=0,e===0?32:31-(wJ(e)/SJ|0)|0}var Tb=64,Pb=4194304;function Wv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Q1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Wv(a):(o&=s,o!==0&&(n=Wv(o)))}else s=r&~i,s!==0?n=Wv(s):o!==0&&(n=Wv(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pl(t),i=1<<r,n|=e[r],t&=~i;return n}function CJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kJ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-pl(o),a=1<<s,f=i[s];f===-1?(!(a&r)||a&n)&&(i[s]=CJ(a,t)):f<=t&&(e.expiredLanes|=a),o&=~a}}function dA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KU(){var e=Tb;return Tb<<=1,!(Tb&4194240)&&(Tb=64),e}function $k(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function B_(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pl(t),e[t]=r}function TJ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-pl(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function bI(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var fn=0;function ZU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XU,wI,JU,QU,e8,fA=!1,Ab=[],md=null,gd=null,yd=null,I0=new Map,R0=new Map,id=[],PJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mz(e,t){switch(e){case"focusin":case"focusout":md=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":I0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":R0.delete(t.pointerId)}}function ov(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=U_(t),t!==null&&wI(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function AJ(e,t,r,n,i){switch(t){case"focusin":return md=ov(md,e,t,r,n,i),!0;case"dragenter":return gd=ov(gd,e,t,r,n,i),!0;case"mouseover":return yd=ov(yd,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return I0.set(o,ov(I0.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,R0.set(o,ov(R0.get(o)||null,e,t,r,n,i)),!0}return!1}function t8(e){var t=Bf(e.target);if(t!==null){var r=Th(t);if(r!==null){if(t=r.tag,t===13){if(t=VU(r),t!==null){e.blockedOn=t,e8(e.priority,function(){JU(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function C1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sA=n,r.target.dispatchEvent(n),sA=null}else return t=U_(r),t!==null&&wI(t),e.blockedOn=r,!1;t.shift()}return!0}function Oz(e,t,r){C1(e)&&r.delete(t)}function MJ(){fA=!1,md!==null&&C1(md)&&(md=null),gd!==null&&C1(gd)&&(gd=null),yd!==null&&C1(yd)&&(yd=null),I0.forEach(Oz),R0.forEach(Oz)}function av(e,t){e.blockedOn===t&&(e.blockedOn=null,fA||(fA=!0,Za.unstable_scheduleCallback(Za.unstable_NormalPriority,MJ)))}function $0(e){function t(i){return av(i,e)}if(0<Ab.length){av(Ab[0],e);for(var r=1;r<Ab.length;r++){var n=Ab[r];n.blockedOn===e&&(n.blockedOn=null)}}for(md!==null&&av(md,e),gd!==null&&av(gd,e),yd!==null&&av(yd,e),I0.forEach(t),R0.forEach(t),r=0;r<id.length;r++)n=id[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<id.length&&(r=id[0],r.blockedOn===null);)t8(r),r.blockedOn===null&&id.shift()}var bm=_u.ReactCurrentBatchConfig,ew=!0;function OJ(e,t,r,n){var i=fn,o=bm.transition;bm.transition=null;try{fn=1,SI(e,t,r,n)}finally{fn=i,bm.transition=o}}function IJ(e,t,r,n){var i=fn,o=bm.transition;bm.transition=null;try{fn=4,SI(e,t,r,n)}finally{fn=i,bm.transition=o}}function SI(e,t,r,n){if(ew){var i=hA(e,t,r,n);if(i===null)Wk(e,t,n,tw,r),Mz(e,n);else if(AJ(i,e,t,r,n))n.stopPropagation();else if(Mz(e,n),t&4&&-1<PJ.indexOf(e)){for(;i!==null;){var o=U_(i);if(o!==null&&XU(o),o=hA(e,t,r,n),o===null&&Wk(e,t,n,tw,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Wk(e,t,n,null,r)}}var tw=null;function hA(e,t,r,n){if(tw=null,e=_I(n),e=Bf(e),e!==null)if(t=Th(e),t===null)e=null;else if(r=t.tag,r===13){if(e=VU(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tw=e,null}function r8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_J()){case xI:return 1;case GU:return 4;case J1:case xJ:return 16;case YU:return 536870912;default:return 16}default:return 16}}var sd=null,EI=null,k1=null;function n8(){if(k1)return k1;var e,t=EI,r=t.length,n,i="value"in sd?sd.value:sd.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return k1=i.slice(e,1<n?1-n:void 0)}function T1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mb(){return!0}function Iz(){return!1}function ts(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mb:Iz,this.isPropagationStopped=Iz,this}return li(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mb)},persist:function(){},isPersistent:Mb}),t}var Ag={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CI=ts(Ag),F_=li({},Ag,{view:0,detail:0}),RJ=ts(F_),Dk,Lk,sv,US=li({},F_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sv&&(sv&&e.type==="mousemove"?(Dk=e.screenX-sv.screenX,Lk=e.screenY-sv.screenY):Lk=Dk=0,sv=e),Dk)},movementY:function(e){return"movementY"in e?e.movementY:Lk}}),Rz=ts(US),$J=li({},US,{dataTransfer:0}),DJ=ts($J),LJ=li({},F_,{relatedTarget:0}),Nk=ts(LJ),NJ=li({},Ag,{animationName:0,elapsedTime:0,pseudoElement:0}),zJ=ts(NJ),jJ=li({},Ag,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BJ=ts(jJ),FJ=li({},Ag,{data:0}),$z=ts(FJ),UJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WJ[e])?!!t[e]:!1}function kI(){return qJ}var HJ=li({},F_,{key:function(e){if(e.key){var t=UJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=T1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kI,charCode:function(e){return e.type==="keypress"?T1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?T1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GJ=ts(HJ),YJ=li({},US,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dz=ts(YJ),KJ=li({},F_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kI}),ZJ=ts(KJ),XJ=li({},Ag,{propertyName:0,elapsedTime:0,pseudoElement:0}),JJ=ts(XJ),QJ=li({},US,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eQ=ts(QJ),tQ=[9,13,27,32],TI=au&&"CompositionEvent"in window,i0=null;au&&"documentMode"in document&&(i0=document.documentMode);var rQ=au&&"TextEvent"in window&&!i0,i8=au&&(!TI||i0&&8<i0&&11>=i0),Lz=String.fromCharCode(32),Nz=!1;function o8(e,t){switch(e){case"keyup":return tQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zp=!1;function nQ(e,t){switch(e){case"compositionend":return a8(t);case"keypress":return t.which!==32?null:(Nz=!0,Lz);case"textInput":return e=t.data,e===Lz&&Nz?null:e;default:return null}}function iQ(e,t){if(Zp)return e==="compositionend"||!TI&&o8(e,t)?(e=n8(),k1=EI=sd=null,Zp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i8&&t.locale!=="ko"?null:t.data;default:return null}}var oQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oQ[e.type]:t==="textarea"}function s8(e,t,r,n){zU(n),t=rw(t,"onChange"),0<t.length&&(r=new CI("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var o0=null,D0=null;function aQ(e){v8(e,0)}function VS(e){var t=Qp(e);if(OU(t))return e}function sQ(e,t){if(e==="change")return t}var l8=!1;if(au){var zk;if(au){var jk="oninput"in document;if(!jk){var jz=document.createElement("div");jz.setAttribute("oninput","return;"),jk=typeof jz.oninput=="function"}zk=jk}else zk=!1;l8=zk&&(!document.documentMode||9<document.documentMode)}function Bz(){o0&&(o0.detachEvent("onpropertychange",c8),D0=o0=null)}function c8(e){if(e.propertyName==="value"&&VS(D0)){var t=[];s8(t,D0,e,_I(e)),UU(aQ,t)}}function lQ(e,t,r){e==="focusin"?(Bz(),o0=t,D0=r,o0.attachEvent("onpropertychange",c8)):e==="focusout"&&Bz()}function cQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return VS(D0)}function uQ(e,t){if(e==="click")return VS(t)}function dQ(e,t){if(e==="input"||e==="change")return VS(t)}function fQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gl=typeof Object.is=="function"?Object.is:fQ;function L0(e,t){if(gl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!KP.call(t,i)||!gl(e[i],t[i]))return!1}return!0}function Fz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uz(e,t){var r=Fz(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fz(r)}}function u8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d8(){for(var e=window,t=K1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=K1(e.document)}return t}function PI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hQ(e){var t=d8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&u8(r.ownerDocument.documentElement,r)){if(n!==null&&PI(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=Uz(r,o);var s=Uz(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pQ=au&&"documentMode"in document&&11>=document.documentMode,Xp=null,pA=null,a0=null,mA=!1;function Vz(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mA||Xp==null||Xp!==K1(n)||(n=Xp,"selectionStart"in n&&PI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),a0&&L0(a0,n)||(a0=n,n=rw(pA,"onSelect"),0<n.length&&(t=new CI("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xp)))}function Ob(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jp={animationend:Ob("Animation","AnimationEnd"),animationiteration:Ob("Animation","AnimationIteration"),animationstart:Ob("Animation","AnimationStart"),transitionend:Ob("Transition","TransitionEnd")},Bk={},f8={};au&&(f8=document.createElement("div").style,"AnimationEvent"in window||(delete Jp.animationend.animation,delete Jp.animationiteration.animation,delete Jp.animationstart.animation),"TransitionEvent"in window||delete Jp.transitionend.transition);function WS(e){if(Bk[e])return Bk[e];if(!Jp[e])return e;var t=Jp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in f8)return Bk[e]=t[r];return e}var h8=WS("animationend"),p8=WS("animationiteration"),m8=WS("animationstart"),g8=WS("transitionend"),y8=new Map,Wz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ud(e,t){y8.set(e,t),kh(t,[e])}for(var Fk=0;Fk<Wz.length;Fk++){var Uk=Wz[Fk],mQ=Uk.toLowerCase(),gQ=Uk[0].toUpperCase()+Uk.slice(1);Ud(mQ,"on"+gQ)}Ud(h8,"onAnimationEnd");Ud(p8,"onAnimationIteration");Ud(m8,"onAnimationStart");Ud("dblclick","onDoubleClick");Ud("focusin","onFocus");Ud("focusout","onBlur");Ud(g8,"onTransitionEnd");Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);kh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kh("onBeforeInput",["compositionend","keypress","textInput","paste"]);kh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(qv));function qz(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mJ(n,t,void 0,e),e.currentTarget=null}function v8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;qz(i,a,h),o=f}else for(s=0;s<n.length;s++){if(a=n[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;qz(i,a,h),o=f}}}if(X1)throw e=uA,X1=!1,uA=null,e}function Ln(e,t){var r=t[xA];r===void 0&&(r=t[xA]=new Set);var n=e+"__bubble";r.has(n)||(_8(t,e,2,!1),r.add(n))}function Vk(e,t,r){var n=0;t&&(n|=4),_8(r,e,n,t)}var Ib="_reactListening"+Math.random().toString(36).slice(2);function N0(e){if(!e[Ib]){e[Ib]=!0,kU.forEach(function(r){r!=="selectionchange"&&(yQ.has(r)||Vk(r,!1,e),Vk(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ib]||(t[Ib]=!0,Vk("selectionchange",!1,t))}}function _8(e,t,r,n){switch(r8(t)){case 1:var i=OJ;break;case 4:i=IJ;break;default:i=SI}r=i.bind(null,t,r,e),i=void 0,!cA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Wk(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Bf(a),s===null)return;if(f=s.tag,f===5||f===6){n=o=s;continue e}a=a.parentNode}}n=n.return}UU(function(){var h=o,g=_I(r),y=[];e:{var x=y8.get(e);if(x!==void 0){var A=CI,T=e;switch(e){case"keypress":if(T1(r)===0)break e;case"keydown":case"keyup":A=GJ;break;case"focusin":T="focus",A=Nk;break;case"focusout":T="blur",A=Nk;break;case"beforeblur":case"afterblur":A=Nk;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Rz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=DJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=ZJ;break;case h8:case p8:case m8:A=zJ;break;case g8:A=JJ;break;case"scroll":A=RJ;break;case"wheel":A=eQ;break;case"copy":case"cut":case"paste":A=BJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Dz}var w=(t&4)!==0,M=!w&&e==="scroll",O=w?x!==null?x+"Capture":null:x;w=[];for(var I=h,E;I!==null;){E=I;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,O!==null&&(R=O0(I,O),R!=null&&w.push(z0(I,R,E)))),M)break;I=I.return}0<w.length&&(x=new A(x,T,null,r,g),y.push({event:x,listeners:w}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",x&&r!==sA&&(T=r.relatedTarget||r.fromElement)&&(Bf(T)||T[su]))break e;if((A||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,A?(T=r.relatedTarget||r.toElement,A=h,T=T?Bf(T):null,T!==null&&(M=Th(T),T!==M||T.tag!==5&&T.tag!==6)&&(T=null)):(A=null,T=h),A!==T)){if(w=Rz,R="onMouseLeave",O="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(w=Dz,R="onPointerLeave",O="onPointerEnter",I="pointer"),M=A==null?x:Qp(A),E=T==null?x:Qp(T),x=new w(R,I+"leave",A,r,g),x.target=M,x.relatedTarget=E,R=null,Bf(g)===h&&(w=new w(O,I+"enter",T,r,g),w.target=E,w.relatedTarget=M,R=w),M=R,A&&T)t:{for(w=A,O=T,I=0,E=w;E;E=kp(E))I++;for(E=0,R=O;R;R=kp(R))E++;for(;0<I-E;)w=kp(w),I--;for(;0<E-I;)O=kp(O),E--;for(;I--;){if(w===O||O!==null&&w===O.alternate)break t;w=kp(w),O=kp(O)}w=null}else w=null;A!==null&&Hz(y,x,A,w,!1),T!==null&&M!==null&&Hz(y,M,T,w,!0)}}e:{if(x=h?Qp(h):window,A=x.nodeName&&x.nodeName.toLowerCase(),A==="select"||A==="input"&&x.type==="file")var N=sQ;else if(zz(x))if(l8)N=dQ;else{N=cQ;var D=lQ}else(A=x.nodeName)&&A.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=uQ);if(N&&(N=N(e,h))){s8(y,N,r,g);break e}D&&D(e,x,h),e==="focusout"&&(D=x._wrapperState)&&D.controlled&&x.type==="number"&&rA(x,"number",x.value)}switch(D=h?Qp(h):window,e){case"focusin":(zz(D)||D.contentEditable==="true")&&(Xp=D,pA=h,a0=null);break;case"focusout":a0=pA=Xp=null;break;case"mousedown":mA=!0;break;case"contextmenu":case"mouseup":case"dragend":mA=!1,Vz(y,r,g);break;case"selectionchange":if(pQ)break;case"keydown":case"keyup":Vz(y,r,g)}var F;if(TI)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Zp?o8(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(i8&&r.locale!=="ko"&&(Zp||q!=="onCompositionStart"?q==="onCompositionEnd"&&Zp&&(F=n8()):(sd=g,EI="value"in sd?sd.value:sd.textContent,Zp=!0)),D=rw(h,q),0<D.length&&(q=new $z(q,e,null,r,g),y.push({event:q,listeners:D}),F?q.data=F:(F=a8(r),F!==null&&(q.data=F)))),(F=rQ?nQ(e,r):iQ(e,r))&&(h=rw(h,"onBeforeInput"),0<h.length&&(g=new $z("onBeforeInput","beforeinput",null,r,g),y.push({event:g,listeners:h}),g.data=F))}v8(y,t)})}function z0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rw(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=O0(e,r),o!=null&&n.unshift(z0(e,o,i)),o=O0(e,t),o!=null&&n.push(z0(e,o,i))),e=e.return}return n}function kp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hz(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,f=a.alternate,h=a.stateNode;if(f!==null&&f===n)break;a.tag===5&&h!==null&&(a=h,i?(f=O0(r,o),f!=null&&s.unshift(z0(r,f,a))):i||(f=O0(r,o),f!=null&&s.push(z0(r,f,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var vQ=/\r\n?/g,_Q=/\u0000|\uFFFD/g;function Gz(e){return(typeof e=="string"?e:""+e).replace(vQ,`
`).replace(_Q,"")}function Rb(e,t,r){if(t=Gz(t),Gz(e)!==t&&r)throw Error(_t(425))}function nw(){}var gA=null,yA=null;function vA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _A=typeof setTimeout=="function"?setTimeout:void 0,xQ=typeof clearTimeout=="function"?clearTimeout:void 0,Yz=typeof Promise=="function"?Promise:void 0,bQ=typeof queueMicrotask=="function"?queueMicrotask:typeof Yz<"u"?function(e){return Yz.resolve(null).then(e).catch(wQ)}:_A;function wQ(e){setTimeout(function(){throw e})}function qk(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),$0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$0(t)}function vd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mg=Math.random().toString(36).slice(2),Vl="__reactFiber$"+Mg,j0="__reactProps$"+Mg,su="__reactContainer$"+Mg,xA="__reactEvents$"+Mg,SQ="__reactListeners$"+Mg,EQ="__reactHandles$"+Mg;function Bf(e){var t=e[Vl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[su]||r[Vl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kz(e);e!==null;){if(r=e[Vl])return r;e=Kz(e)}return t}e=r,r=e.parentNode}return null}function U_(e){return e=e[Vl]||e[su],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_t(33))}function qS(e){return e[j0]||null}var bA=[],em=-1;function Vd(e){return{current:e}}function jn(e){0>em||(e.current=bA[em],bA[em]=null,em--)}function An(e,t){em++,bA[em]=e.current,e.current=t}var Id={},Fo=Vd(Id),wa=Vd(!1),sh=Id;function Fm(e,t){var r=e.type.contextTypes;if(!r)return Id;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Sa(e){return e=e.childContextTypes,e!=null}function iw(){jn(wa),jn(Fo)}function Zz(e,t,r){if(Fo.current!==Id)throw Error(_t(168));An(Fo,t),An(wa,r)}function x8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(_t(108,lJ(e)||"Unknown",i));return li({},r,n)}function ow(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Id,sh=Fo.current,An(Fo,e),An(wa,wa.current),!0}function Xz(e,t,r){var n=e.stateNode;if(!n)throw Error(_t(169));r?(e=x8(e,t,sh),n.__reactInternalMemoizedMergedChildContext=e,jn(wa),jn(Fo),An(Fo,e)):jn(wa),An(wa,r)}var Uc=null,HS=!1,Hk=!1;function b8(e){Uc===null?Uc=[e]:Uc.push(e)}function CQ(e){HS=!0,b8(e)}function Wd(){if(!Hk&&Uc!==null){Hk=!0;var e=0,t=fn;try{var r=Uc;for(fn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Uc=null,HS=!1}catch(i){throw Uc!==null&&(Uc=Uc.slice(e+1)),HU(xI,Wd),i}finally{fn=t,Hk=!1}}return null}var tm=[],rm=0,aw=null,sw=0,gs=[],ys=0,lh=null,qc=1,Hc="";function Tf(e,t){tm[rm++]=sw,tm[rm++]=aw,aw=e,sw=t}function w8(e,t,r){gs[ys++]=qc,gs[ys++]=Hc,gs[ys++]=lh,lh=e;var n=qc;e=Hc;var i=32-pl(n)-1;n&=~(1<<i),r+=1;var o=32-pl(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,qc=1<<32-pl(t)+i|r<<i|n,Hc=o+e}else qc=1<<o|r<<i|n,Hc=e}function AI(e){e.return!==null&&(Tf(e,1),w8(e,1,0))}function MI(e){for(;e===aw;)aw=tm[--rm],tm[rm]=null,sw=tm[--rm],tm[rm]=null;for(;e===lh;)lh=gs[--ys],gs[ys]=null,Hc=gs[--ys],gs[ys]=null,qc=gs[--ys],gs[ys]=null}var Ga=null,Ha=null,Yn=!1,ol=null;function S8(e,t){var r=_s(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jz(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ga=e,Ha=vd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ga=e,Ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lh!==null?{id:qc,overflow:Hc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_s(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ga=e,Ha=null,!0):!1;default:return!1}}function wA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function SA(e){if(Yn){var t=Ha;if(t){var r=t;if(!Jz(e,t)){if(wA(e))throw Error(_t(418));t=vd(r.nextSibling);var n=Ga;t&&Jz(e,t)?S8(n,r):(e.flags=e.flags&-4097|2,Yn=!1,Ga=e)}}else{if(wA(e))throw Error(_t(418));e.flags=e.flags&-4097|2,Yn=!1,Ga=e}}}function Qz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ga=e}function $b(e){if(e!==Ga)return!1;if(!Yn)return Qz(e),Yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vA(e.type,e.memoizedProps)),t&&(t=Ha)){if(wA(e))throw E8(),Error(_t(418));for(;t;)S8(e,t),t=vd(t.nextSibling)}if(Qz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_t(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ha=vd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ha=null}}else Ha=Ga?vd(e.stateNode.nextSibling):null;return!0}function E8(){for(var e=Ha;e;)e=vd(e.nextSibling)}function Um(){Ha=Ga=null,Yn=!1}function OI(e){ol===null?ol=[e]:ol.push(e)}var kQ=_u.ReactCurrentBatchConfig;function rl(e,t){if(e&&e.defaultProps){t=li({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var lw=Vd(null),cw=null,nm=null,II=null;function RI(){II=nm=cw=null}function $I(e){var t=lw.current;jn(lw),e._currentValue=t}function EA(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wm(e,t){cw=e,II=nm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xa=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(II!==e)if(e={context:e,memoizedValue:t,next:null},nm===null){if(cw===null)throw Error(_t(308));nm=e,cw.dependencies={lanes:0,firstContext:e}}else nm=nm.next=e;return t}var Ff=null;function DI(e){Ff===null?Ff=[e]:Ff.push(e)}function C8(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,DI(t)):(r.next=i.next,i.next=r),t.interleaved=r,lu(e,n)}function lu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var rd=!1;function LI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function eu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _d(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Wr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,lu(e,r)}return i=n.interleaved,i===null?(t.next=t,DI(n)):(t.next=i.next,i.next=t),n.interleaved=t,lu(e,r)}function P1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bI(e,r)}}function ej(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uw(e,t,r,n){var i=e.updateQueue;rd=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=f))}if(o!==null){var y=i.baseState;s=0,g=h=f=null,a=o;do{var x=a.lane,A=a.eventTime;if((n&x)===x){g!==null&&(g=g.next={eventTime:A,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=e,w=a;switch(x=t,A=r,w.tag){case 1:if(T=w.payload,typeof T=="function"){y=T.call(A,y,x);break e}y=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,x=typeof T=="function"?T.call(A,y,x):T,x==null)break e;y=li({},y,x);break e;case 2:rd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else A={eventTime:A,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=A,f=y):g=g.next=A,s|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(1);if(g===null&&(f=y),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);uh|=s,e.lanes=s,e.memoizedState=y}}function tj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(_t(191,i));i.call(n)}}}var T8=new CU.Component().refs;function CA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:li({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var GS={isMounted:function(e){return(e=e._reactInternals)?Th(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=aa(),i=bd(e),o=eu(n,i);o.payload=t,r!=null&&(o.callback=r),t=_d(e,o,i),t!==null&&(ml(t,e,i,n),P1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=aa(),i=bd(e),o=eu(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=_d(e,o,i),t!==null&&(ml(t,e,i,n),P1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=aa(),n=bd(e),i=eu(r,n);i.tag=2,t!=null&&(i.callback=t),t=_d(e,i,n),t!==null&&(ml(t,e,n,r),P1(t,e,n))}};function rj(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!L0(r,n)||!L0(i,o):!0}function P8(e,t,r){var n=!1,i=Id,o=t.contextType;return typeof o=="object"&&o!==null?o=Ps(o):(i=Sa(t)?sh:Fo.current,n=t.contextTypes,o=(n=n!=null)?Fm(e,i):Id),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=GS,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function nj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&GS.enqueueReplaceState(t,t.state,null)}function kA(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=T8,LI(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ps(o):(o=Sa(t)?sh:Fo.current,i.context=Fm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(CA(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&GS.enqueueReplaceState(i,i.state,null),uw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function lv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_t(309));var n=r.stateNode}if(!n)throw Error(_t(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===T8&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(_t(284));if(!r._owner)throw Error(_t(290,e))}return e}function Db(e,t){throw e=Object.prototype.toString.call(t),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ij(e){var t=e._init;return t(e._payload)}function A8(e){function t(O,I){if(e){var E=O.deletions;E===null?(O.deletions=[I],O.flags|=16):E.push(I)}}function r(O,I){if(!e)return null;for(;I!==null;)t(O,I),I=I.sibling;return null}function n(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function i(O,I){return O=wd(O,I),O.index=0,O.sibling=null,O}function o(O,I,E){return O.index=E,e?(E=O.alternate,E!==null?(E=E.index,E<I?(O.flags|=2,I):E):(O.flags|=2,I)):(O.flags|=1048576,I)}function s(O){return e&&O.alternate===null&&(O.flags|=2),O}function a(O,I,E,R){return I===null||I.tag!==6?(I=Qk(E,O.mode,R),I.return=O,I):(I=i(I,E),I.return=O,I)}function f(O,I,E,R){var N=E.type;return N===Kp?g(O,I,E.props.children,R,E.key):I!==null&&(I.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===td&&ij(N)===I.type)?(R=i(I,E.props),R.ref=lv(O,I,E),R.return=O,R):(R=$1(E.type,E.key,E.props,null,O.mode,R),R.ref=lv(O,I,E),R.return=O,R)}function h(O,I,E,R){return I===null||I.tag!==4||I.stateNode.containerInfo!==E.containerInfo||I.stateNode.implementation!==E.implementation?(I=eT(E,O.mode,R),I.return=O,I):(I=i(I,E.children||[]),I.return=O,I)}function g(O,I,E,R,N){return I===null||I.tag!==7?(I=Jf(E,O.mode,R,N),I.return=O,I):(I=i(I,E),I.return=O,I)}function y(O,I,E){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Qk(""+I,O.mode,E),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Eb:return E=$1(I.type,I.key,I.props,null,O.mode,E),E.ref=lv(O,null,I),E.return=O,E;case Yp:return I=eT(I,O.mode,E),I.return=O,I;case td:var R=I._init;return y(O,R(I._payload),E)}if(Vv(I)||nv(I))return I=Jf(I,O.mode,E,null),I.return=O,I;Db(O,I)}return null}function x(O,I,E,R){var N=I!==null?I.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(O,I,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eb:return E.key===N?f(O,I,E,R):null;case Yp:return E.key===N?h(O,I,E,R):null;case td:return N=E._init,x(O,I,N(E._payload),R)}if(Vv(E)||nv(E))return N!==null?null:g(O,I,E,R,null);Db(O,E)}return null}function A(O,I,E,R,N){if(typeof R=="string"&&R!==""||typeof R=="number")return O=O.get(E)||null,a(I,O,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Eb:return O=O.get(R.key===null?E:R.key)||null,f(I,O,R,N);case Yp:return O=O.get(R.key===null?E:R.key)||null,h(I,O,R,N);case td:var D=R._init;return A(O,I,E,D(R._payload),N)}if(Vv(R)||nv(R))return O=O.get(E)||null,g(I,O,R,N,null);Db(I,R)}return null}function T(O,I,E,R){for(var N=null,D=null,F=I,q=I=0,J=null;F!==null&&q<E.length;q++){F.index>q?(J=F,F=null):J=F.sibling;var Q=x(O,F,E[q],R);if(Q===null){F===null&&(F=J);break}e&&F&&Q.alternate===null&&t(O,F),I=o(Q,I,q),D===null?N=Q:D.sibling=Q,D=Q,F=J}if(q===E.length)return r(O,F),Yn&&Tf(O,q),N;if(F===null){for(;q<E.length;q++)F=y(O,E[q],R),F!==null&&(I=o(F,I,q),D===null?N=F:D.sibling=F,D=F);return Yn&&Tf(O,q),N}for(F=n(O,F);q<E.length;q++)J=A(F,O,q,E[q],R),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?q:J.key),I=o(J,I,q),D===null?N=J:D.sibling=J,D=J);return e&&F.forEach(function(ae){return t(O,ae)}),Yn&&Tf(O,q),N}function w(O,I,E,R){var N=nv(E);if(typeof N!="function")throw Error(_t(150));if(E=N.call(E),E==null)throw Error(_t(151));for(var D=N=null,F=I,q=I=0,J=null,Q=E.next();F!==null&&!Q.done;q++,Q=E.next()){F.index>q?(J=F,F=null):J=F.sibling;var ae=x(O,F,Q.value,R);if(ae===null){F===null&&(F=J);break}e&&F&&ae.alternate===null&&t(O,F),I=o(ae,I,q),D===null?N=ae:D.sibling=ae,D=ae,F=J}if(Q.done)return r(O,F),Yn&&Tf(O,q),N;if(F===null){for(;!Q.done;q++,Q=E.next())Q=y(O,Q.value,R),Q!==null&&(I=o(Q,I,q),D===null?N=Q:D.sibling=Q,D=Q);return Yn&&Tf(O,q),N}for(F=n(O,F);!Q.done;q++,Q=E.next())Q=A(F,O,q,Q.value,R),Q!==null&&(e&&Q.alternate!==null&&F.delete(Q.key===null?q:Q.key),I=o(Q,I,q),D===null?N=Q:D.sibling=Q,D=Q);return e&&F.forEach(function(he){return t(O,he)}),Yn&&Tf(O,q),N}function M(O,I,E,R){if(typeof E=="object"&&E!==null&&E.type===Kp&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Eb:e:{for(var N=E.key,D=I;D!==null;){if(D.key===N){if(N=E.type,N===Kp){if(D.tag===7){r(O,D.sibling),I=i(D,E.props.children),I.return=O,O=I;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===td&&ij(N)===D.type){r(O,D.sibling),I=i(D,E.props),I.ref=lv(O,D,E),I.return=O,O=I;break e}r(O,D);break}else t(O,D);D=D.sibling}E.type===Kp?(I=Jf(E.props.children,O.mode,R,E.key),I.return=O,O=I):(R=$1(E.type,E.key,E.props,null,O.mode,R),R.ref=lv(O,I,E),R.return=O,O=R)}return s(O);case Yp:e:{for(D=E.key;I!==null;){if(I.key===D)if(I.tag===4&&I.stateNode.containerInfo===E.containerInfo&&I.stateNode.implementation===E.implementation){r(O,I.sibling),I=i(I,E.children||[]),I.return=O,O=I;break e}else{r(O,I);break}else t(O,I);I=I.sibling}I=eT(E,O.mode,R),I.return=O,O=I}return s(O);case td:return D=E._init,M(O,I,D(E._payload),R)}if(Vv(E))return T(O,I,E,R);if(nv(E))return w(O,I,E,R);Db(O,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,I!==null&&I.tag===6?(r(O,I.sibling),I=i(I,E),I.return=O,O=I):(r(O,I),I=Qk(E,O.mode,R),I.return=O,O=I),s(O)):r(O,I)}return M}var Vm=A8(!0),M8=A8(!1),V_={},Xl=Vd(V_),B0=Vd(V_),F0=Vd(V_);function Uf(e){if(e===V_)throw Error(_t(174));return e}function NI(e,t){switch(An(F0,t),An(B0,e),An(Xl,V_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iA(t,e)}jn(Xl),An(Xl,t)}function Wm(){jn(Xl),jn(B0),jn(F0)}function O8(e){Uf(F0.current);var t=Uf(Xl.current),r=iA(t,e.type);t!==r&&(An(B0,e),An(Xl,r))}function zI(e){B0.current===e&&(jn(Xl),jn(B0))}var oi=Vd(0);function dw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gk=[];function jI(){for(var e=0;e<Gk.length;e++)Gk[e]._workInProgressVersionPrimary=null;Gk.length=0}var A1=_u.ReactCurrentDispatcher,Yk=_u.ReactCurrentBatchConfig,ch=0,si=null,Li=null,Qi=null,fw=!1,s0=!1,U0=0,TQ=0;function Po(){throw Error(_t(321))}function BI(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gl(e[r],t[r]))return!1;return!0}function FI(e,t,r,n,i,o){if(ch=o,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A1.current=e===null||e.memoizedState===null?OQ:IQ,e=r(n,i),s0){o=0;do{if(s0=!1,U0=0,25<=o)throw Error(_t(301));o+=1,Qi=Li=null,t.updateQueue=null,A1.current=RQ,e=r(n,i)}while(s0)}if(A1.current=hw,t=Li!==null&&Li.next!==null,ch=0,Qi=Li=si=null,fw=!1,t)throw Error(_t(300));return e}function UI(){var e=U0!==0;return U0=0,e}function jl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?si.memoizedState=Qi=e:Qi=Qi.next=e,Qi}function As(){if(Li===null){var e=si.alternate;e=e!==null?e.memoizedState:null}else e=Li.next;var t=Qi===null?si.memoizedState:Qi.next;if(t!==null)Qi=t,Li=e;else{if(e===null)throw Error(_t(310));Li=e,e={memoizedState:Li.memoizedState,baseState:Li.baseState,baseQueue:Li.baseQueue,queue:Li.queue,next:null},Qi===null?si.memoizedState=Qi=e:Qi=Qi.next=e}return Qi}function V0(e,t){return typeof t=="function"?t(e):t}function Kk(e){var t=As(),r=t.queue;if(r===null)throw Error(_t(311));r.lastRenderedReducer=e;var n=Li,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,f=null,h=o;do{var g=h.lane;if((ch&g)===g)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var y={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=y,s=n):f=f.next=y,si.lanes|=g,uh|=g}h=h.next}while(h!==null&&h!==o);f===null?s=n:f.next=a,gl(n,t.memoizedState)||(xa=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=f,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,si.lanes|=o,uh|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zk(e){var t=As(),r=t.queue;if(r===null)throw Error(_t(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);gl(o,t.memoizedState)||(xa=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function I8(){}function R8(e,t){var r=si,n=As(),i=t(),o=!gl(n.memoizedState,i);if(o&&(n.memoizedState=i,xa=!0),n=n.queue,VI(L8.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Qi!==null&&Qi.memoizedState.tag&1){if(r.flags|=2048,W0(9,D8.bind(null,r,n,i,t),void 0,null),eo===null)throw Error(_t(349));ch&30||$8(r,t,i)}return i}function $8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=si.updateQueue,t===null?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function D8(e,t,r,n){t.value=r,t.getSnapshot=n,N8(t)&&z8(e)}function L8(e,t,r){return r(function(){N8(t)&&z8(e)})}function N8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gl(e,r)}catch{return!0}}function z8(e){var t=lu(e,1);t!==null&&ml(t,e,1,-1)}function oj(e){var t=jl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:e},t.queue=e,e=e.dispatch=MQ.bind(null,si,e),[t.memoizedState,e]}function W0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=si.updateQueue,t===null?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j8(){return As().memoizedState}function M1(e,t,r,n){var i=jl();si.flags|=e,i.memoizedState=W0(1|t,r,void 0,n===void 0?null:n)}function YS(e,t,r,n){var i=As();n=n===void 0?null:n;var o=void 0;if(Li!==null){var s=Li.memoizedState;if(o=s.destroy,n!==null&&BI(n,s.deps)){i.memoizedState=W0(t,r,o,n);return}}si.flags|=e,i.memoizedState=W0(1|t,r,o,n)}function aj(e,t){return M1(8390656,8,e,t)}function VI(e,t){return YS(2048,8,e,t)}function B8(e,t){return YS(4,2,e,t)}function F8(e,t){return YS(4,4,e,t)}function U8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function V8(e,t,r){return r=r!=null?r.concat([e]):null,YS(4,4,U8.bind(null,t,e),r)}function WI(){}function W8(e,t){var r=As();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BI(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function q8(e,t){var r=As();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BI(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function H8(e,t,r){return ch&21?(gl(r,t)||(r=KU(),si.lanes|=r,uh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xa=!0),e.memoizedState=r)}function PQ(e,t){var r=fn;fn=r!==0&&4>r?r:4,e(!0);var n=Yk.transition;Yk.transition={};try{e(!1),t()}finally{fn=r,Yk.transition=n}}function G8(){return As().memoizedState}function AQ(e,t,r){var n=bd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Y8(e))K8(t,r);else if(r=C8(e,t,r,n),r!==null){var i=aa();ml(r,e,n,i),Z8(r,t,n)}}function MQ(e,t,r){var n=bd(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y8(e))K8(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,gl(a,s)){var f=t.interleaved;f===null?(i.next=i,DI(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}r=C8(e,t,i,n),r!==null&&(i=aa(),ml(r,e,n,i),Z8(r,t,n))}}function Y8(e){var t=e.alternate;return e===si||t!==null&&t===si}function K8(e,t){s0=fw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Z8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bI(e,r)}}var hw={readContext:Ps,useCallback:Po,useContext:Po,useEffect:Po,useImperativeHandle:Po,useInsertionEffect:Po,useLayoutEffect:Po,useMemo:Po,useReducer:Po,useRef:Po,useState:Po,useDebugValue:Po,useDeferredValue:Po,useTransition:Po,useMutableSource:Po,useSyncExternalStore:Po,useId:Po,unstable_isNewReconciler:!1},OQ={readContext:Ps,useCallback:function(e,t){return jl().memoizedState=[e,t===void 0?null:t],e},useContext:Ps,useEffect:aj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,M1(4194308,4,U8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return M1(4194308,4,e,t)},useInsertionEffect:function(e,t){return M1(4,2,e,t)},useMemo:function(e,t){var r=jl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=AQ.bind(null,si,e),[n.memoizedState,e]},useRef:function(e){var t=jl();return e={current:e},t.memoizedState=e},useState:oj,useDebugValue:WI,useDeferredValue:function(e){return jl().memoizedState=e},useTransition:function(){var e=oj(!1),t=e[0];return e=PQ.bind(null,e[1]),jl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=si,i=jl();if(Yn){if(r===void 0)throw Error(_t(407));r=r()}else{if(r=t(),eo===null)throw Error(_t(349));ch&30||$8(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,aj(L8.bind(null,n,o,e),[e]),n.flags|=2048,W0(9,D8.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=jl(),t=eo.identifierPrefix;if(Yn){var r=Hc,n=qc;r=(n&~(1<<32-pl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=U0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IQ={readContext:Ps,useCallback:W8,useContext:Ps,useEffect:VI,useImperativeHandle:V8,useInsertionEffect:B8,useLayoutEffect:F8,useMemo:q8,useReducer:Kk,useRef:j8,useState:function(){return Kk(V0)},useDebugValue:WI,useDeferredValue:function(e){var t=As();return H8(t,Li.memoizedState,e)},useTransition:function(){var e=Kk(V0)[0],t=As().memoizedState;return[e,t]},useMutableSource:I8,useSyncExternalStore:R8,useId:G8,unstable_isNewReconciler:!1},RQ={readContext:Ps,useCallback:W8,useContext:Ps,useEffect:VI,useImperativeHandle:V8,useInsertionEffect:B8,useLayoutEffect:F8,useMemo:q8,useReducer:Zk,useRef:j8,useState:function(){return Zk(V0)},useDebugValue:WI,useDeferredValue:function(e){var t=As();return Li===null?t.memoizedState=e:H8(t,Li.memoizedState,e)},useTransition:function(){var e=Zk(V0)[0],t=As().memoizedState;return[e,t]},useMutableSource:I8,useSyncExternalStore:R8,useId:G8,unstable_isNewReconciler:!1};function qm(e,t){try{var r="",n=t;do r+=sJ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Xk(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function TA(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $Q=typeof WeakMap=="function"?WeakMap:Map;function X8(e,t,r){r=eu(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mw||(mw=!0,NA=n),TA(e,t)},r}function J8(e,t,r){r=eu(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){TA(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){TA(e,t),typeof n!="function"&&(xd===null?xd=new Set([this]):xd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function sj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $Q;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=YQ.bind(null,e,t,r),t.then(e,e))}function lj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cj(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=eu(-1,1),t.tag=2,_d(r,t,1))),r.lanes|=1),e)}var DQ=_u.ReactCurrentOwner,xa=!1;function ra(e,t,r,n){t.child=e===null?M8(t,null,r,n):Vm(t,e.child,r,n)}function uj(e,t,r,n,i){r=r.render;var o=t.ref;return wm(t,i),n=FI(e,t,r,n,o,i),r=UI(),e!==null&&!xa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(Yn&&r&&AI(t),t.flags|=1,ra(e,t,n,i),t.child)}function dj(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!JI(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Q8(e,t,o,n,i)):(e=$1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:L0,r(s,n)&&e.ref===t.ref)return cu(e,t,i)}return t.flags|=1,e=wd(o,n),e.ref=t.ref,e.return=t,t.child=e}function Q8(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(L0(o,n)&&e.ref===t.ref)if(xa=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(xa=!0);else return t.lanes=e.lanes,cu(e,t,i)}return PA(e,t,r,n,i)}function eV(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(om,Fa),Fa|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,An(om,Fa),Fa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,An(om,Fa),Fa|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,An(om,Fa),Fa|=n;return ra(e,t,i,r),t.child}function tV(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function PA(e,t,r,n,i){var o=Sa(r)?sh:Fo.current;return o=Fm(t,o),wm(t,i),r=FI(e,t,r,n,o,i),n=UI(),e!==null&&!xa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(Yn&&n&&AI(t),t.flags|=1,ra(e,t,r,i),t.child)}function fj(e,t,r,n,i){if(Sa(r)){var o=!0;ow(t)}else o=!1;if(wm(t,i),t.stateNode===null)O1(e,t),P8(t,r,n),kA(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=Ps(h):(h=Sa(r)?sh:Fo.current,h=Fm(t,h));var g=r.getDerivedStateFromProps,y=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||f!==h)&&nj(t,s,n,h),rd=!1;var x=t.memoizedState;s.state=x,uw(t,n,s,i),f=t.memoizedState,a!==n||x!==f||wa.current||rd?(typeof g=="function"&&(CA(t,r,g,n),f=t.memoizedState),(a=rd||rj(t,r,a,n,x,f,h))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=h,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,k8(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:rl(t.type,a),s.props=h,y=t.pendingProps,x=s.context,f=r.contextType,typeof f=="object"&&f!==null?f=Ps(f):(f=Sa(r)?sh:Fo.current,f=Fm(t,f));var A=r.getDerivedStateFromProps;(g=typeof A=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||x!==f)&&nj(t,s,n,f),rd=!1,x=t.memoizedState,s.state=x,uw(t,n,s,i);var T=t.memoizedState;a!==y||x!==T||wa.current||rd?(typeof A=="function"&&(CA(t,r,A,n),T=t.memoizedState),(h=rd||rj(t,r,h,n,x,T,f)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,T,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,T,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=T),s.props=n,s.state=T,s.context=f,n=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return AA(e,t,r,n,o,i)}function AA(e,t,r,n,i,o){tV(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Xz(t,r,!1),cu(e,t,o);n=t.stateNode,DQ.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Vm(t,e.child,null,o),t.child=Vm(t,null,a,o)):ra(e,t,a,o),t.memoizedState=n.state,i&&Xz(t,r,!0),t.child}function rV(e){var t=e.stateNode;t.pendingContext?Zz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zz(e,t.context,!1),NI(e,t.containerInfo)}function hj(e,t,r,n,i){return Um(),OI(i),t.flags|=256,ra(e,t,r,n),t.child}var MA={dehydrated:null,treeContext:null,retryLane:0};function OA(e){return{baseLanes:e,cachePool:null,transitions:null}}function nV(e,t,r){var n=t.pendingProps,i=oi.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),An(oi,i&1),e===null)return SA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=XS(s,n,0,null),e=Jf(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=OA(r),t.memoizedState=MA,e):qI(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LQ(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var f={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=f,t.deletions=null):(n=wd(i,f),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wd(a,o):(o=Jf(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?OA(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=MA,n}return o=e.child,e=o.sibling,n=wd(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qI(e,t){return t=XS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lb(e,t,r,n){return n!==null&&OI(n),Vm(t,e.child,null,r),e=qI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LQ(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=Xk(Error(_t(422))),Lb(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=XS({mode:"visible",children:n.children},i,0,null),o=Jf(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Vm(t,e.child,null,s),t.child.memoizedState=OA(s),t.memoizedState=MA,o);if(!(t.mode&1))return Lb(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(_t(419)),n=Xk(o,n,void 0),Lb(e,t,s,n)}if(a=(s&e.childLanes)!==0,xa||a){if(n=eo,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,lu(e,i),ml(n,e,i,-1))}return XI(),n=Xk(Error(_t(421))),Lb(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=KQ.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ha=vd(i.nextSibling),Ga=t,Yn=!0,ol=null,e!==null&&(gs[ys++]=qc,gs[ys++]=Hc,gs[ys++]=lh,qc=e.id,Hc=e.overflow,lh=t),t=qI(t,n.children),t.flags|=4096,t)}function pj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),EA(e.return,t,r)}function Jk(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function iV(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(ra(e,t,n.children,r),n=oi.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pj(e,r,t);else if(e.tag===19)pj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(An(oi,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&dw(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Jk(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&dw(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Jk(t,!0,r,null,o);break;case"together":Jk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function O1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),uh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_t(153));if(t.child!==null){for(e=t.child,r=wd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NQ(e,t,r){switch(t.tag){case 3:rV(t),Um();break;case 5:O8(t);break;case 1:Sa(t.type)&&ow(t);break;case 4:NI(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;An(lw,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(An(oi,oi.current&1),t.flags|=128,null):r&t.child.childLanes?nV(e,t,r):(An(oi,oi.current&1),e=cu(e,t,r),e!==null?e.sibling:null);An(oi,oi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return iV(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),An(oi,oi.current),n)break;return null;case 22:case 23:return t.lanes=0,eV(e,t,r)}return cu(e,t,r)}var oV,IA,aV,sV;oV=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};IA=function(){};aV=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Uf(Xl.current);var o=null;switch(r){case"input":i=eA(e,i),n=eA(e,n),o=[];break;case"select":i=li({},i,{value:void 0}),n=li({},n,{value:void 0}),o=[];break;case"textarea":i=nA(e,i),n=nA(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nw)}oA(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(A0.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var f=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(r||(r={}),r[s]=f[s])}else r||(o||(o=[]),o.push(h,r)),r=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(A0.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Ln("scroll",e),o||a===f||(o=[])):(o=o||[]).push(h,f))}r&&(o=o||[]).push("style",r);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};sV=function(e,t,r,n){r!==n&&(t.flags|=4)};function cv(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ao(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zQ(e,t,r){var n=t.pendingProps;switch(MI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ao(t),null;case 1:return Sa(t.type)&&iw(),Ao(t),null;case 3:return n=t.stateNode,Wm(),jn(wa),jn(Fo),jI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($b(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ol!==null&&(BA(ol),ol=null))),IA(e,t),Ao(t),null;case 5:zI(t);var i=Uf(F0.current);if(r=t.type,e!==null&&t.stateNode!=null)aV(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_t(166));return Ao(t),null}if(e=Uf(Xl.current),$b(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Vl]=t,n[j0]=o,e=(t.mode&1)!==0,r){case"dialog":Ln("cancel",n),Ln("close",n);break;case"iframe":case"object":case"embed":Ln("load",n);break;case"video":case"audio":for(i=0;i<qv.length;i++)Ln(qv[i],n);break;case"source":Ln("error",n);break;case"img":case"image":case"link":Ln("error",n),Ln("load",n);break;case"details":Ln("toggle",n);break;case"input":Sz(n,o),Ln("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ln("invalid",n);break;case"textarea":Cz(n,o),Ln("invalid",n)}oA(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Rb(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Rb(n.textContent,a,e),i=["children",""+a]):A0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ln("scroll",n)}switch(r){case"input":Cb(n),Ez(n,o,!0);break;case"textarea":Cb(n),kz(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nw)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$U(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Vl]=t,e[j0]=n,oV(e,t,!1,!1),t.stateNode=e;e:{switch(s=aA(r,n),r){case"dialog":Ln("cancel",e),Ln("close",e),i=n;break;case"iframe":case"object":case"embed":Ln("load",e),i=n;break;case"video":case"audio":for(i=0;i<qv.length;i++)Ln(qv[i],e);i=n;break;case"source":Ln("error",e),i=n;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),i=n;break;case"details":Ln("toggle",e),i=n;break;case"input":Sz(e,n),i=eA(e,n),Ln("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=li({},n,{value:void 0}),Ln("invalid",e);break;case"textarea":Cz(e,n),i=nA(e,n),Ln("invalid",e);break;default:i=n}oA(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?NU(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&DU(e,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&M0(e,f):typeof f=="number"&&M0(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(A0.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Ln("scroll",e):f!=null&&mI(e,o,f,s))}switch(r){case"input":Cb(e),Ez(e,n,!1);break;case"textarea":Cb(e),kz(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Od(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?vm(e,!!n.multiple,o,!1):n.defaultValue!=null&&vm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=nw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ao(t),null;case 6:if(e&&t.stateNode!=null)sV(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_t(166));if(r=Uf(F0.current),Uf(Xl.current),$b(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vl]=t,(o=n.nodeValue!==r)&&(e=Ga,e!==null))switch(e.tag){case 3:Rb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rb(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vl]=t,t.stateNode=n}return Ao(t),null;case 13:if(jn(oi),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yn&&Ha!==null&&t.mode&1&&!(t.flags&128))E8(),Um(),t.flags|=98560,o=!1;else if(o=$b(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(_t(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_t(317));o[Vl]=t}else Um(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ao(t),o=!1}else ol!==null&&(BA(ol),ol=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oi.current&1?Ni===0&&(Ni=3):XI())),t.updateQueue!==null&&(t.flags|=4),Ao(t),null);case 4:return Wm(),IA(e,t),e===null&&N0(t.stateNode.containerInfo),Ao(t),null;case 10:return $I(t.type._context),Ao(t),null;case 17:return Sa(t.type)&&iw(),Ao(t),null;case 19:if(jn(oi),o=t.memoizedState,o===null)return Ao(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)cv(o,!1);else{if(Ni!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=dw(e),s!==null){for(t.flags|=128,cv(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return An(oi,oi.current&1|2),t.child}e=e.sibling}o.tail!==null&&Si()>Hm&&(t.flags|=128,n=!0,cv(o,!1),t.lanes=4194304)}else{if(!n)if(e=dw(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Yn)return Ao(t),null}else 2*Si()-o.renderingStartTime>Hm&&r!==1073741824&&(t.flags|=128,n=!0,cv(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Si(),t.sibling=null,r=oi.current,An(oi,n?r&1|2:r&1),t):(Ao(t),null);case 22:case 23:return ZI(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fa&1073741824&&(Ao(t),t.subtreeFlags&6&&(t.flags|=8192)):Ao(t),null;case 24:return null;case 25:return null}throw Error(_t(156,t.tag))}function jQ(e,t){switch(MI(t),t.tag){case 1:return Sa(t.type)&&iw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wm(),jn(wa),jn(Fo),jI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zI(t),null;case 13:if(jn(oi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_t(340));Um()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jn(oi),null;case 4:return Wm(),null;case 10:return $I(t.type._context),null;case 22:case 23:return ZI(),null;case 24:return null;default:return null}}var Nb=!1,No=!1,BQ=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function im(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mi(e,t,n)}else r.current=null}function RA(e,t,r){try{r()}catch(n){mi(e,t,n)}}var mj=!1;function FQ(e,t){if(gA=ew,e=d8(),PI(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,f=-1,h=0,g=0,y=e,x=null;t:for(;;){for(var A;y!==r||i!==0&&y.nodeType!==3||(a=s+i),y!==o||n!==0&&y.nodeType!==3||(f=s+n),y.nodeType===3&&(s+=y.nodeValue.length),(A=y.firstChild)!==null;)x=y,y=A;for(;;){if(y===e)break t;if(x===r&&++h===i&&(a=s),x===o&&++g===n&&(f=s),(A=y.nextSibling)!==null)break;y=x,x=y.parentNode}y=A}r=a===-1||f===-1?null:{start:a,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(yA={focusedElem:e,selectionRange:r},ew=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){t=Gt;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,M=T.memoizedState,O=t.stateNode,I=O.getSnapshotBeforeUpdate(t.elementType===t.type?w:rl(t.type,w),M);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_t(163))}}catch(R){mi(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}return T=mj,mj=!1,T}function l0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&RA(t,r,o)}i=i.next}while(i!==n)}}function KS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $A(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lV(e){var t=e.alternate;t!==null&&(e.alternate=null,lV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vl],delete t[j0],delete t[xA],delete t[SQ],delete t[EQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cV(e){return e.tag===5||e.tag===3||e.tag===4}function gj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function DA(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nw));else if(n!==4&&(e=e.child,e!==null))for(DA(e,t,r),e=e.sibling;e!==null;)DA(e,t,r),e=e.sibling}function LA(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(LA(e,t,r),e=e.sibling;e!==null;)LA(e,t,r),e=e.sibling}var lo=null,nl=!1;function Hu(e,t,r){for(r=r.child;r!==null;)uV(e,t,r),r=r.sibling}function uV(e,t,r){if(Zl&&typeof Zl.onCommitFiberUnmount=="function")try{Zl.onCommitFiberUnmount(FS,r)}catch{}switch(r.tag){case 5:No||im(r,t);case 6:var n=lo,i=nl;lo=null,Hu(e,t,r),lo=n,nl=i,lo!==null&&(nl?(e=lo,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lo.removeChild(r.stateNode));break;case 18:lo!==null&&(nl?(e=lo,r=r.stateNode,e.nodeType===8?qk(e.parentNode,r):e.nodeType===1&&qk(e,r),$0(e)):qk(lo,r.stateNode));break;case 4:n=lo,i=nl,lo=r.stateNode.containerInfo,nl=!0,Hu(e,t,r),lo=n,nl=i;break;case 0:case 11:case 14:case 15:if(!No&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&RA(r,t,s),i=i.next}while(i!==n)}Hu(e,t,r);break;case 1:if(!No&&(im(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){mi(r,t,a)}Hu(e,t,r);break;case 21:Hu(e,t,r);break;case 22:r.mode&1?(No=(n=No)||r.memoizedState!==null,Hu(e,t,r),No=n):Hu(e,t,r);break;default:Hu(e,t,r)}}function yj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BQ),t.forEach(function(n){var i=ZQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Js(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:lo=a.stateNode,nl=!1;break e;case 3:lo=a.stateNode.containerInfo,nl=!0;break e;case 4:lo=a.stateNode.containerInfo,nl=!0;break e}a=a.return}if(lo===null)throw Error(_t(160));uV(o,s,i),lo=null,nl=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){mi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dV(t,e),t=t.sibling}function dV(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Js(t,e),Nl(e),n&4){try{l0(3,e,e.return),KS(3,e)}catch(w){mi(e,e.return,w)}try{l0(5,e,e.return)}catch(w){mi(e,e.return,w)}}break;case 1:Js(t,e),Nl(e),n&512&&r!==null&&im(r,r.return);break;case 5:if(Js(t,e),Nl(e),n&512&&r!==null&&im(r,r.return),e.flags&32){var i=e.stateNode;try{M0(i,"")}catch(w){mi(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&IU(i,o),aA(a,s);var h=aA(a,o);for(s=0;s<f.length;s+=2){var g=f[s],y=f[s+1];g==="style"?NU(i,y):g==="dangerouslySetInnerHTML"?DU(i,y):g==="children"?M0(i,y):mI(i,g,y,h)}switch(a){case"input":tA(i,o);break;case"textarea":RU(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var A=o.value;A!=null?vm(i,!!o.multiple,A,!1):x!==!!o.multiple&&(o.defaultValue!=null?vm(i,!!o.multiple,o.defaultValue,!0):vm(i,!!o.multiple,o.multiple?[]:"",!1))}i[j0]=o}catch(w){mi(e,e.return,w)}}break;case 6:if(Js(t,e),Nl(e),n&4){if(e.stateNode===null)throw Error(_t(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){mi(e,e.return,w)}}break;case 3:if(Js(t,e),Nl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$0(t.containerInfo)}catch(w){mi(e,e.return,w)}break;case 4:Js(t,e),Nl(e);break;case 13:Js(t,e),Nl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(YI=Si())),n&4&&yj(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(No=(h=No)||g,Js(t,e),No=h):Js(t,e),Nl(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Gt=e,g=e.child;g!==null;){for(y=Gt=g;Gt!==null;){switch(x=Gt,A=x.child,x.tag){case 0:case 11:case 14:case 15:l0(4,x,x.return);break;case 1:im(x,x.return);var T=x.stateNode;if(typeof T.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(w){mi(n,r,w)}}break;case 5:im(x,x.return);break;case 22:if(x.memoizedState!==null){_j(y);continue}}A!==null?(A.return=x,Gt=A):_j(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{i=y.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,f=y.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=LU("display",s))}catch(w){mi(e,e.return,w)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(w){mi(e,e.return,w)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Js(t,e),Nl(e),n&4&&yj(e);break;case 21:break;default:Js(t,e),Nl(e)}}function Nl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cV(r)){var n=r;break e}r=r.return}throw Error(_t(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(M0(i,""),n.flags&=-33);var o=gj(e);LA(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=gj(e);DA(e,a,s);break;default:throw Error(_t(161))}}catch(f){mi(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UQ(e,t,r){Gt=e,fV(e)}function fV(e,t,r){for(var n=(e.mode&1)!==0;Gt!==null;){var i=Gt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Nb;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||No;a=Nb;var h=No;if(Nb=s,(No=f)&&!h)for(Gt=i;Gt!==null;)s=Gt,f=s.child,s.tag===22&&s.memoizedState!==null?xj(i):f!==null?(f.return=s,Gt=f):xj(i);for(;o!==null;)Gt=o,fV(o),o=o.sibling;Gt=i,Nb=a,No=h}vj(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Gt=o):vj(e)}}function vj(e){for(;Gt!==null;){var t=Gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:No||KS(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!No)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:rl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&tj(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tj(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&$0(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_t(163))}No||t.flags&512&&$A(t)}catch(x){mi(t,t.return,x)}}if(t===e){Gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function _j(e){for(;Gt!==null;){var t=Gt;if(t===e){Gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function xj(e){for(;Gt!==null;){var t=Gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{KS(4,t)}catch(f){mi(t,r,f)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(f){mi(t,i,f)}}var o=t.return;try{$A(t)}catch(f){mi(t,o,f)}break;case 5:var s=t.return;try{$A(t)}catch(f){mi(t,s,f)}}}catch(f){mi(t,t.return,f)}if(t===e){Gt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Gt=a;break}Gt=t.return}}var VQ=Math.ceil,pw=_u.ReactCurrentDispatcher,HI=_u.ReactCurrentOwner,ws=_u.ReactCurrentBatchConfig,Wr=0,eo=null,Oi=null,go=0,Fa=0,om=Vd(0),Ni=0,q0=null,uh=0,ZS=0,GI=0,c0=null,ya=null,YI=0,Hm=1/0,Bc=null,mw=!1,NA=null,xd=null,zb=!1,ld=null,gw=0,u0=0,zA=null,I1=-1,R1=0;function aa(){return Wr&6?Si():I1!==-1?I1:I1=Si()}function bd(e){return e.mode&1?Wr&2&&go!==0?go&-go:kQ.transition!==null?(R1===0&&(R1=KU()),R1):(e=fn,e!==0||(e=window.event,e=e===void 0?16:r8(e.type)),e):1}function ml(e,t,r,n){if(50<u0)throw u0=0,zA=null,Error(_t(185));B_(e,r,n),(!(Wr&2)||e!==eo)&&(e===eo&&(!(Wr&2)&&(ZS|=r),Ni===4&&od(e,go)),Ea(e,n),r===1&&Wr===0&&!(t.mode&1)&&(Hm=Si()+500,HS&&Wd()))}function Ea(e,t){var r=e.callbackNode;kJ(e,t);var n=Q1(e,e===eo?go:0);if(n===0)r!==null&&Az(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Az(r),t===1)e.tag===0?CQ(bj.bind(null,e)):b8(bj.bind(null,e)),bQ(function(){!(Wr&6)&&Wd()}),r=null;else{switch(ZU(n)){case 1:r=xI;break;case 4:r=GU;break;case 16:r=J1;break;case 536870912:r=YU;break;default:r=J1}r=xV(r,hV.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hV(e,t){if(I1=-1,R1=0,Wr&6)throw Error(_t(327));var r=e.callbackNode;if(Sm()&&e.callbackNode!==r)return null;var n=Q1(e,e===eo?go:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yw(e,n);else{t=n;var i=Wr;Wr|=2;var o=mV();(eo!==e||go!==t)&&(Bc=null,Hm=Si()+500,Xf(e,t));do try{HQ();break}catch(a){pV(e,a)}while(1);RI(),pw.current=o,Wr=i,Oi!==null?t=0:(eo=null,go=0,t=Ni)}if(t!==0){if(t===2&&(i=dA(e),i!==0&&(n=i,t=jA(e,i))),t===1)throw r=q0,Xf(e,0),od(e,n),Ea(e,Si()),r;if(t===6)od(e,n);else{if(i=e.current.alternate,!(n&30)&&!WQ(i)&&(t=yw(e,n),t===2&&(o=dA(e),o!==0&&(n=o,t=jA(e,o))),t===1))throw r=q0,Xf(e,0),od(e,n),Ea(e,Si()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(_t(345));case 2:Pf(e,ya,Bc);break;case 3:if(od(e,n),(n&130023424)===n&&(t=YI+500-Si(),10<t)){if(Q1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){aa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_A(Pf.bind(null,e,ya,Bc),t);break}Pf(e,ya,Bc);break;case 4:if(od(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-pl(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Si()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VQ(n/1960))-n,10<n){e.timeoutHandle=_A(Pf.bind(null,e,ya,Bc),n);break}Pf(e,ya,Bc);break;case 5:Pf(e,ya,Bc);break;default:throw Error(_t(329))}}}return Ea(e,Si()),e.callbackNode===r?hV.bind(null,e):null}function jA(e,t){var r=c0;return e.current.memoizedState.isDehydrated&&(Xf(e,t).flags|=256),e=yw(e,t),e!==2&&(t=ya,ya=r,t!==null&&BA(t)),e}function BA(e){ya===null?ya=e:ya.push.apply(ya,e)}function WQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!gl(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function od(e,t){for(t&=~GI,t&=~ZS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pl(t),n=1<<r;e[r]=-1,t&=~n}}function bj(e){if(Wr&6)throw Error(_t(327));Sm();var t=Q1(e,0);if(!(t&1))return Ea(e,Si()),null;var r=yw(e,t);if(e.tag!==0&&r===2){var n=dA(e);n!==0&&(t=n,r=jA(e,n))}if(r===1)throw r=q0,Xf(e,0),od(e,t),Ea(e,Si()),r;if(r===6)throw Error(_t(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pf(e,ya,Bc),Ea(e,Si()),null}function KI(e,t){var r=Wr;Wr|=1;try{return e(t)}finally{Wr=r,Wr===0&&(Hm=Si()+500,HS&&Wd())}}function dh(e){ld!==null&&ld.tag===0&&!(Wr&6)&&Sm();var t=Wr;Wr|=1;var r=ws.transition,n=fn;try{if(ws.transition=null,fn=1,e)return e()}finally{fn=n,ws.transition=r,Wr=t,!(Wr&6)&&Wd()}}function ZI(){Fa=om.current,jn(om)}function Xf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xQ(r)),Oi!==null)for(r=Oi.return;r!==null;){var n=r;switch(MI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&iw();break;case 3:Wm(),jn(wa),jn(Fo),jI();break;case 5:zI(n);break;case 4:Wm();break;case 13:jn(oi);break;case 19:jn(oi);break;case 10:$I(n.type._context);break;case 22:case 23:ZI()}r=r.return}if(eo=e,Oi=e=wd(e.current,null),go=Fa=t,Ni=0,q0=null,GI=ZS=uh=0,ya=c0=null,Ff!==null){for(t=0;t<Ff.length;t++)if(r=Ff[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Ff=null}return e}function pV(e,t){do{var r=Oi;try{if(RI(),A1.current=hw,fw){for(var n=si.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fw=!1}if(ch=0,Qi=Li=si=null,s0=!1,U0=0,HI.current=null,r===null||r.return===null){Ni=1,q0=t,Oi=null;break}e:{var o=e,s=r.return,a=r,f=t;if(t=go,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,g=a,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var A=lj(s);if(A!==null){A.flags&=-257,cj(A,s,a,o,t),A.mode&1&&sj(o,h,t),t=A,f=h;var T=t.updateQueue;if(T===null){var w=new Set;w.add(f),t.updateQueue=w}else T.add(f);break e}else{if(!(t&1)){sj(o,h,t),XI();break e}f=Error(_t(426))}}else if(Yn&&a.mode&1){var M=lj(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),cj(M,s,a,o,t),OI(qm(f,a));break e}}o=f=qm(f,a),Ni!==4&&(Ni=2),c0===null?c0=[o]:c0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var O=X8(o,f,t);ej(o,O);break e;case 1:a=f;var I=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof I.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xd===null||!xd.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=J8(o,a,t);ej(o,R);break e}}o=o.return}while(o!==null)}yV(r)}catch(N){t=N,Oi===r&&r!==null&&(Oi=r=r.return);continue}break}while(1)}function mV(){var e=pw.current;return pw.current=hw,e===null?hw:e}function XI(){(Ni===0||Ni===3||Ni===2)&&(Ni=4),eo===null||!(uh&268435455)&&!(ZS&268435455)||od(eo,go)}function yw(e,t){var r=Wr;Wr|=2;var n=mV();(eo!==e||go!==t)&&(Bc=null,Xf(e,t));do try{qQ();break}catch(i){pV(e,i)}while(1);if(RI(),Wr=r,pw.current=n,Oi!==null)throw Error(_t(261));return eo=null,go=0,Ni}function qQ(){for(;Oi!==null;)gV(Oi)}function HQ(){for(;Oi!==null&&!yJ();)gV(Oi)}function gV(e){var t=_V(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,t===null?yV(e):Oi=t,HI.current=null}function yV(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jQ(r,t),r!==null){r.flags&=32767,Oi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ni=6,Oi=null;return}}else if(r=zQ(r,t,Fa),r!==null){Oi=r;return}if(t=t.sibling,t!==null){Oi=t;return}Oi=t=e}while(t!==null);Ni===0&&(Ni=5)}function Pf(e,t,r){var n=fn,i=ws.transition;try{ws.transition=null,fn=1,GQ(e,t,r,n)}finally{ws.transition=i,fn=n}return null}function GQ(e,t,r,n){do Sm();while(ld!==null);if(Wr&6)throw Error(_t(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_t(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(TJ(e,o),e===eo&&(Oi=eo=null,go=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zb||(zb=!0,xV(J1,function(){return Sm(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ws.transition,ws.transition=null;var s=fn;fn=1;var a=Wr;Wr|=4,HI.current=null,FQ(e,r),dV(r,e),hQ(yA),ew=!!gA,yA=gA=null,e.current=r,UQ(r),vJ(),Wr=a,fn=s,ws.transition=o}else e.current=r;if(zb&&(zb=!1,ld=e,gw=i),o=e.pendingLanes,o===0&&(xd=null),bJ(r.stateNode),Ea(e,Si()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(mw)throw mw=!1,e=NA,NA=null,e;return gw&1&&e.tag!==0&&Sm(),o=e.pendingLanes,o&1?e===zA?u0++:(u0=0,zA=e):u0=0,Wd(),null}function Sm(){if(ld!==null){var e=ZU(gw),t=ws.transition,r=fn;try{if(ws.transition=null,fn=16>e?16:e,ld===null)var n=!1;else{if(e=ld,ld=null,gw=0,Wr&6)throw Error(_t(331));var i=Wr;for(Wr|=4,Gt=e.current;Gt!==null;){var o=Gt,s=o.child;if(Gt.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(Gt=h;Gt!==null;){var g=Gt;switch(g.tag){case 0:case 11:case 15:l0(8,g,o)}var y=g.child;if(y!==null)y.return=g,Gt=y;else for(;Gt!==null;){g=Gt;var x=g.sibling,A=g.return;if(lV(g),g===h){Gt=null;break}if(x!==null){x.return=A,Gt=x;break}Gt=A}}}var T=o.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var M=w.sibling;w.sibling=null,w=M}while(w!==null)}}Gt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Gt=s;else e:for(;Gt!==null;){if(o=Gt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:l0(9,o,o.return)}var O=o.sibling;if(O!==null){O.return=o.return,Gt=O;break e}Gt=o.return}}var I=e.current;for(Gt=I;Gt!==null;){s=Gt;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Gt=E;else e:for(s=I;Gt!==null;){if(a=Gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:KS(9,a)}}catch(N){mi(a,a.return,N)}if(a===s){Gt=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Gt=R;break e}Gt=a.return}}if(Wr=i,Wd(),Zl&&typeof Zl.onPostCommitFiberRoot=="function")try{Zl.onPostCommitFiberRoot(FS,e)}catch{}n=!0}return n}finally{fn=r,ws.transition=t}}return!1}function wj(e,t,r){t=qm(r,t),t=X8(e,t,1),e=_d(e,t,1),t=aa(),e!==null&&(B_(e,1,t),Ea(e,t))}function mi(e,t,r){if(e.tag===3)wj(e,e,r);else for(;t!==null;){if(t.tag===3){wj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xd===null||!xd.has(n))){e=qm(r,e),e=J8(t,e,1),t=_d(t,e,1),e=aa(),t!==null&&(B_(t,1,e),Ea(t,e));break}}t=t.return}}function YQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=aa(),e.pingedLanes|=e.suspendedLanes&r,eo===e&&(go&r)===r&&(Ni===4||Ni===3&&(go&130023424)===go&&500>Si()-YI?Xf(e,0):GI|=r),Ea(e,t)}function vV(e,t){t===0&&(e.mode&1?(t=Pb,Pb<<=1,!(Pb&130023424)&&(Pb=4194304)):t=1);var r=aa();e=lu(e,t),e!==null&&(B_(e,t,r),Ea(e,r))}function KQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vV(e,r)}function ZQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_t(314))}n!==null&&n.delete(t),vV(e,r)}var _V;_V=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wa.current)xa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xa=!1,NQ(e,t,r);xa=!!(e.flags&131072)}else xa=!1,Yn&&t.flags&1048576&&w8(t,sw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;O1(e,t),e=t.pendingProps;var i=Fm(t,Fo.current);wm(t,r),i=FI(null,t,n,e,i,r);var o=UI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sa(n)?(o=!0,ow(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LI(t),i.updater=GS,t.stateNode=i,i._reactInternals=t,kA(t,n,e,r),t=AA(null,t,n,!0,o,r)):(t.tag=0,Yn&&o&&AI(t),ra(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(O1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=JQ(n),e=rl(n,e),i){case 0:t=PA(null,t,n,e,r);break e;case 1:t=fj(null,t,n,e,r);break e;case 11:t=uj(null,t,n,e,r);break e;case 14:t=dj(null,t,n,rl(n.type,e),r);break e}throw Error(_t(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rl(n,i),PA(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rl(n,i),fj(e,t,n,i,r);case 3:e:{if(rV(t),e===null)throw Error(_t(387));n=t.pendingProps,o=t.memoizedState,i=o.element,k8(e,t),uw(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=qm(Error(_t(423)),t),t=hj(e,t,n,r,i);break e}else if(n!==i){i=qm(Error(_t(424)),t),t=hj(e,t,n,r,i);break e}else for(Ha=vd(t.stateNode.containerInfo.firstChild),Ga=t,Yn=!0,ol=null,r=M8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Um(),n===i){t=cu(e,t,r);break e}ra(e,t,n,r)}t=t.child}return t;case 5:return O8(t),e===null&&SA(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,vA(n,i)?s=null:o!==null&&vA(n,o)&&(t.flags|=32),tV(e,t),ra(e,t,s,r),t.child;case 6:return e===null&&SA(t),null;case 13:return nV(e,t,r);case 4:return NI(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vm(t,null,n,r):ra(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rl(n,i),uj(e,t,n,i,r);case 7:return ra(e,t,t.pendingProps,r),t.child;case 8:return ra(e,t,t.pendingProps.children,r),t.child;case 12:return ra(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,An(lw,n._currentValue),n._currentValue=s,o!==null)if(gl(o.value,s)){if(o.children===i.children&&!wa.current){t=cu(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===n){if(o.tag===1){f=eu(-1,r&-r),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}}o.lanes|=r,f=o.alternate,f!==null&&(f.lanes|=r),EA(o.return,r,t),a.lanes|=r;break}f=f.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_t(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),EA(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ra(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wm(t,r),i=Ps(i),n=n(i),t.flags|=1,ra(e,t,n,r),t.child;case 14:return n=t.type,i=rl(n,t.pendingProps),i=rl(n.type,i),dj(e,t,n,i,r);case 15:return Q8(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rl(n,i),O1(e,t),t.tag=1,Sa(n)?(e=!0,ow(t)):e=!1,wm(t,r),P8(t,n,i),kA(t,n,i,r),AA(null,t,n,!0,e,r);case 19:return iV(e,t,r);case 22:return eV(e,t,r)}throw Error(_t(156,t.tag))};function xV(e,t){return HU(e,t)}function XQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,r,n){return new XQ(e,t,r,n)}function JI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JQ(e){if(typeof e=="function")return JI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yI)return 11;if(e===vI)return 14}return 2}function wd(e,t){var r=e.alternate;return r===null?(r=_s(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $1(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")JI(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Kp:return Jf(r.children,i,o,t);case gI:s=8,i|=8;break;case ZP:return e=_s(12,r,t,i|2),e.elementType=ZP,e.lanes=o,e;case XP:return e=_s(13,r,t,i),e.elementType=XP,e.lanes=o,e;case JP:return e=_s(19,r,t,i),e.elementType=JP,e.lanes=o,e;case AU:return XS(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case TU:s=10;break e;case PU:s=9;break e;case yI:s=11;break e;case vI:s=14;break e;case td:s=16,n=null;break e}throw Error(_t(130,e==null?e:typeof e,""))}return t=_s(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Jf(e,t,r,n){return e=_s(7,e,n,t),e.lanes=r,e}function XS(e,t,r,n){return e=_s(22,e,n,t),e.elementType=AU,e.lanes=r,e.stateNode={isHidden:!1},e}function Qk(e,t,r){return e=_s(6,e,null,t),e.lanes=r,e}function eT(e,t,r){return t=_s(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QQ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$k(0),this.expirationTimes=$k(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$k(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QI(e,t,r,n,i,o,s,a,f){return e=new QQ(e,t,r,a,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_s(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},LI(o),e}function eee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bV(e){if(!e)return Id;e=e._reactInternals;e:{if(Th(e)!==e||e.tag!==1)throw Error(_t(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_t(171))}if(e.tag===1){var r=e.type;if(Sa(r))return x8(e,r,t)}return t}function wV(e,t,r,n,i,o,s,a,f){return e=QI(r,n,!0,e,i,o,s,a,f),e.context=bV(null),r=e.current,n=aa(),i=bd(r),o=eu(n,i),o.callback=t??null,_d(r,o,i),e.current.lanes=i,B_(e,i,n),Ea(e,n),e}function JS(e,t,r,n){var i=t.current,o=aa(),s=bd(i);return r=bV(r),t.context===null?t.context=r:t.pendingContext=r,t=eu(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_d(i,t,s),e!==null&&(ml(e,i,s,o),P1(e,i,s)),s}function vw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eR(e,t){Sj(e,t),(e=e.alternate)&&Sj(e,t)}function tee(){return null}var SV=typeof reportError=="function"?reportError:function(e){console.error(e)};function tR(e){this._internalRoot=e}QS.prototype.render=tR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_t(409));JS(e,t,null,null)};QS.prototype.unmount=tR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dh(function(){JS(null,e,null,null)}),t[su]=null}};function QS(e){this._internalRoot=e}QS.prototype.unstable_scheduleHydration=function(e){if(e){var t=QU();e={blockedOn:null,target:e,priority:t};for(var r=0;r<id.length&&t!==0&&t<id[r].priority;r++);id.splice(r,0,e),r===0&&t8(e)}};function rR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function e2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ej(){}function ree(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var h=vw(s);o.call(h)}}var s=wV(t,n,e,0,null,!1,!1,"",Ej);return e._reactRootContainer=s,e[su]=s.current,N0(e.nodeType===8?e.parentNode:e),dh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=vw(f);a.call(h)}}var f=QI(e,0,!1,null,null,!1,!1,"",Ej);return e._reactRootContainer=f,e[su]=f.current,N0(e.nodeType===8?e.parentNode:e),dh(function(){JS(t,f,r,n)}),f}function t2(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=vw(s);a.call(f)}}JS(t,s,e,i)}else s=ree(r,t,e,i,n);return vw(s)}XU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wv(t.pendingLanes);r!==0&&(bI(t,r|1),Ea(t,Si()),!(Wr&6)&&(Hm=Si()+500,Wd()))}break;case 13:dh(function(){var n=lu(e,1);if(n!==null){var i=aa();ml(n,e,1,i)}}),eR(e,1)}};wI=function(e){if(e.tag===13){var t=lu(e,134217728);if(t!==null){var r=aa();ml(t,e,134217728,r)}eR(e,134217728)}};JU=function(e){if(e.tag===13){var t=bd(e),r=lu(e,t);if(r!==null){var n=aa();ml(r,e,t,n)}eR(e,t)}};QU=function(){return fn};e8=function(e,t){var r=fn;try{return fn=e,t()}finally{fn=r}};lA=function(e,t,r){switch(t){case"input":if(tA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=qS(n);if(!i)throw Error(_t(90));OU(n),tA(n,i)}}}break;case"textarea":RU(e,r);break;case"select":t=r.value,t!=null&&vm(e,!!r.multiple,t,!1)}};BU=KI;FU=dh;var nee={usingClientEntryPoint:!1,Events:[U_,Qp,qS,zU,jU,KI]},uv={findFiberByHostInstance:Bf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iee={bundleType:uv.bundleType,version:uv.version,rendererPackageName:uv.rendererPackageName,rendererConfig:uv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WU(e),e===null?null:e.stateNode},findFiberByHostInstance:uv.findFiberByHostInstance||tee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jb.isDisabled&&jb.supportsFiber)try{FS=jb.inject(iee),Zl=jb}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nee;es.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rR(t))throw Error(_t(200));return eee(e,t,null,r)};es.createRoot=function(e,t){if(!rR(e))throw Error(_t(299));var r=!1,n="",i=SV;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=QI(e,1,!1,null,null,r,!1,n,i),e[su]=t.current,N0(e.nodeType===8?e.parentNode:e),new tR(t)};es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_t(188)):(e=Object.keys(e).join(","),Error(_t(268,e)));return e=WU(t),e=e===null?null:e.stateNode,e};es.flushSync=function(e){return dh(e)};es.hydrate=function(e,t,r){if(!e2(t))throw Error(_t(200));return t2(null,e,t,!0,r)};es.hydrateRoot=function(e,t,r){if(!rR(e))throw Error(_t(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=SV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=wV(t,null,e,1,r??null,i,!1,o,s),e[su]=t.current,N0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new QS(t)};es.render=function(e,t,r){if(!e2(t))throw Error(_t(200));return t2(null,e,t,!1,r)};es.unmountComponentAtNode=function(e){if(!e2(e))throw Error(_t(40));return e._reactRootContainer?(dh(function(){t2(null,null,e,!1,function(){e._reactRootContainer=null,e[su]=null})}),!0):!1};es.unstable_batchedUpdates=KI;es.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!e2(r))throw Error(_t(200));if(e==null||e._reactInternals===void 0)throw Error(_t(38));return t2(e,t,r,!1,n)};es.version="18.2.0-next-9e3b772b8-20220608";function EV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EV)}catch(e){console.error(e)}}EV(),wU.exports=es;var cc=wU.exports;const Bb=Jr(cc);var CV,Cj=cc;CV=Cj.createRoot,Cj.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}var cd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cd||(cd={}));const kj="popstate";function oee(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return FA("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:kV(i)}return see(t,r,null,e)}function Bi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aee(){return Math.random().toString(36).substr(2,8)}function Tj(e,t){return{usr:e.state,key:e.key,idx:t}}function FA(e,t,r,n){return r===void 0&&(r=null),H0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Og(t):t,{state:r,key:t&&t.key||n||aee()})}function kV(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Og(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function see(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=cd.Pop,f=null,h=g();h==null&&(h=0,s.replaceState(H0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function y(){a=cd.Pop;let M=g(),O=M==null?null:M-h;h=M,f&&f({action:a,location:w.location,delta:O})}function x(M,O){a=cd.Push;let I=FA(w.location,M,O);r&&r(I,M),h=g()+1;let E=Tj(I,h),R=w.createHref(I);try{s.pushState(E,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(R)}o&&f&&f({action:a,location:w.location,delta:1})}function A(M,O){a=cd.Replace;let I=FA(w.location,M,O);r&&r(I,M),h=g();let E=Tj(I,h),R=w.createHref(I);s.replaceState(E,"",R),o&&f&&f({action:a,location:w.location,delta:0})}function T(M){let O=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof M=="string"?M:kV(M);return Bi(O,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,O)}let w={get action(){return a},get location(){return e(i,s)},listen(M){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(kj,y),f=M,()=>{i.removeEventListener(kj,y),f=null}},createHref(M){return t(i,M)},createURL:T,encodeLocation(M){let O=T(M);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:A,go(M){return s.go(M)}};return w}var Pj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pj||(Pj={}));function lee(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Og(t):t,i=AV(n.pathname||"/",r);if(i==null)return null;let o=TV(e);cee(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=vee(o[a],bee(i));return s}function TV(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let f={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};f.relativePath.startsWith("/")&&(Bi(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Qf([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(Bi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),TV(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:gee(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let f of PV(o.path))i(o,s,f)}),t}function PV(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=PV(n.join("/")),a=[];return a.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&a.push(...s),a.map(f=>e.startsWith("/")&&f===""?"/":f)}function cee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uee=/^:\w+$/,dee=3,fee=2,hee=1,pee=10,mee=-2,Aj=e=>e==="*";function gee(e,t){let r=e.split("/"),n=r.length;return r.some(Aj)&&(n+=mee),t&&(n+=fee),r.filter(i=>!Aj(i)).reduce((i,o)=>i+(uee.test(o)?dee:o===""?hee:pee),n)}function yee(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function vee(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let s=0;s<r.length;++s){let a=r[s],f=s===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=_ee({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},h);if(!g)return null;Object.assign(n,g.params);let y=a.route;o.push({params:n,pathname:Qf([i,g.pathname]),pathnameBase:Tee(Qf([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Qf([i,g.pathnameBase]))}return o}function _ee(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xee(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((h,g,y)=>{if(g==="*"){let x=a[y]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}return h[g]=wee(a[y]||"",g),h},{}),pathname:o,pathnameBase:s,pattern:e}}function xee(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(n.push(a),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function bee(e){try{return decodeURI(e)}catch(t){return nR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wee(e,t){try{return decodeURIComponent(e)}catch(r){return nR(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function AV(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function See(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Og(e):e;return{pathname:r?r.startsWith("/")?r:Eee(r,t):t,search:Pee(n),hash:Aee(i)}}function Eee(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function tT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kee(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Og(e):(i=H0({},e),Bi(!i.pathname||!i.pathname.includes("?"),tT("?","pathname","search",i)),Bi(!i.pathname||!i.pathname.includes("#"),tT("#","pathname","hash",i)),Bi(!i.search||!i.search.includes("#"),tT("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(n||s==null)a=r;else{let y=t.length-1;if(s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}a=y>=0?t[y]:"/"}let f=See(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Qf=e=>e.join("/").replace(/\/\/+/g,"/"),Tee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MV=["post","put","patch","delete"];new Set(MV);const Oee=["get",...MV];new Set(Oee);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}const iR=V.createContext(null),Iee=V.createContext(null),r2=V.createContext(null),n2=V.createContext(null),qd=V.createContext({outlet:null,matches:[],isDataRoute:!1}),OV=V.createContext(null);function i2(){return V.useContext(n2)!=null}function o2(){return i2()||Bi(!1),V.useContext(n2).location}function IV(e){V.useContext(r2).static||V.useLayoutEffect(e)}function Ig(){let{isDataRoute:e}=V.useContext(qd);return e?Yee():Ree()}function Ree(){i2()||Bi(!1);let e=V.useContext(iR),{basename:t,navigator:r}=V.useContext(r2),{matches:n}=V.useContext(qd),{pathname:i}=o2(),o=JSON.stringify(Cee(n).map(f=>f.pathnameBase)),s=V.useRef(!1);return IV(()=>{s.current=!0}),V.useCallback(function(f,h){if(h===void 0&&(h={}),!s.current)return;if(typeof f=="number"){r.go(f);return}let g=kee(f,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Qf([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,o,i,e])}const $ee=V.createContext(null);function Dee(e){let t=V.useContext(qd).outlet;return t&&V.createElement($ee.Provider,{value:e},t)}function Lee(){let{matches:e}=V.useContext(qd),t=e[e.length-1];return t?t.params:{}}function Nee(e,t){return zee(e,t)}function zee(e,t,r){i2()||Bi(!1);let{navigator:n}=V.useContext(r2),{matches:i}=V.useContext(qd),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let f=o2(),h;if(t){var g;let w=typeof t=="string"?Og(t):t;a==="/"||(g=w.pathname)!=null&&g.startsWith(a)||Bi(!1),h=w}else h=f;let y=h.pathname||"/",x=a==="/"?y:y.slice(a.length)||"/",A=lee(e,{pathname:x}),T=Vee(A&&A.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Qf([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Qf([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r);return t&&T?V.createElement(n2.Provider,{value:{location:_w({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:cd.Pop}},T):T}function jee(){let e=Gee(),t=Mee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:i},r):null,o)}const Bee=V.createElement(jee,null);class Fee extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?V.createElement(qd.Provider,{value:this.props.routeContext},V.createElement(OV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uee(e){let{routeContext:t,match:r,children:n}=e,i=V.useContext(iR);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(qd.Provider,{value:t},n)}function Vee(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var i;if((i=r)!=null&&i.errors)e=r.matches;else return null}let o=e,s=(n=r)==null?void 0:n.errors;if(s!=null){let a=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id]));a>=0||Bi(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,f,h)=>{let g=f.route.id?s==null?void 0:s[f.route.id]:null,y=null;r&&(y=f.route.errorElement||Bee);let x=t.concat(o.slice(0,h+1)),A=()=>{let T;return g?T=y:f.route.Component?T=V.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=a,V.createElement(Uee,{match:f,routeContext:{outlet:a,matches:x,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?V.createElement(Fee,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}var RV=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RV||{}),xw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xw||{});function Wee(e){let t=V.useContext(iR);return t||Bi(!1),t}function qee(e){let t=V.useContext(Iee);return t||Bi(!1),t}function Hee(e){let t=V.useContext(qd);return t||Bi(!1),t}function $V(e){let t=Hee(),r=t.matches[t.matches.length-1];return r.route.id||Bi(!1),r.route.id}function Gee(){var e;let t=V.useContext(OV),r=qee(xw.UseRouteError),n=$V(xw.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function Yee(){let{router:e}=Wee(RV.UseNavigateStable),t=$V(xw.UseNavigateStable),r=V.useRef(!1);return IV(()=>{r.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_w({fromRouteId:t},o)))},[e,t])}function Kee(e){return Dee(e.context)}function jc(e){Bi(!1)}function Zee(e){let{basename:t="/",children:r=null,location:n,navigationType:i=cd.Pop,navigator:o,static:s=!1}=e;i2()&&Bi(!1);let a=t.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=Og(n));let{pathname:h="/",search:g="",hash:y="",state:x=null,key:A="default"}=n,T=V.useMemo(()=>{let w=AV(h,a);return w==null?null:{location:{pathname:w,search:g,hash:y,state:x,key:A},navigationType:i}},[a,h,g,y,x,A,i]);return T==null?null:V.createElement(r2.Provider,{value:f},V.createElement(n2.Provider,{children:r,value:T}))}function Xee(e){let{children:t,location:r}=e;return Nee(UA(t),r)}new Promise(()=>{});function UA(e,t){t===void 0&&(t=[]);let r=[];return V.Children.forEach(e,(n,i)=>{if(!V.isValidElement(n))return;let o=[...t,i];if(n.type===V.Fragment){r.push.apply(r,UA(n.props.children,o));return}n.type!==jc&&Bi(!1),!n.props.index||!n.props.children||Bi(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=UA(n.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Jee="startTransition",Mj=Y1[Jee];function Qee(e){let{basename:t,children:r,future:n,window:i}=e,o=V.useRef();o.current==null&&(o.current=oee({window:i,v5Compat:!0}));let s=o.current,[a,f]=V.useState({action:s.action,location:s.location}),{v7_startTransition:h}=n||{},g=V.useCallback(y=>{h&&Mj?Mj(()=>f(y)):f(y)},[f,h]);return V.useLayoutEffect(()=>s.listen(g),[s,g]),V.createElement(Zee,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s})}var Oj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Oj||(Oj={}));var Ij;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ij||(Ij={}));var DV={exports:{}},LV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=V;function ete(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tte=typeof Object.is=="function"?Object.is:ete,rte=Gm.useState,nte=Gm.useEffect,ite=Gm.useLayoutEffect,ote=Gm.useDebugValue;function ate(e,t){var r=t(),n=rte({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return ite(function(){i.value=r,i.getSnapshot=t,rT(i)&&o({inst:i})},[e,r,t]),nte(function(){return rT(i)&&o({inst:i}),e(function(){rT(i)&&o({inst:i})})},[e]),ote(r),r}function rT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tte(e,r)}catch{return!0}}function ste(e,t){return t()}var lte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ste:ate;LV.useSyncExternalStore=Gm.useSyncExternalStore!==void 0?Gm.useSyncExternalStore:lte;DV.exports=LV;var NV=DV.exports,zV={exports:{}},jV={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=V,cte=NV;function ute(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dte=typeof Object.is=="function"?Object.is:ute,fte=cte.useSyncExternalStore,hte=a2.useRef,pte=a2.useEffect,mte=a2.useMemo,gte=a2.useDebugValue;jV.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=hte(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=mte(function(){function f(A){if(!h){if(h=!0,g=A,A=n(A),i!==void 0&&s.hasValue){var T=s.value;if(i(T,A))return y=T}return y=A}if(T=y,dte(g,A))return T;var w=n(A);return i!==void 0&&i(T,w)?T:(g=A,y=w)}var h=!1,g,y,x=r===void 0?null:r;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,r,n,i]);var a=fte(e,o[0],o[1]);return pte(function(){s.hasValue=!0,s.value=a},[a]),gte(a),a};zV.exports=jV;var yte=zV.exports;function vte(e){e()}let BV=vte;const _te=e=>BV=e,xte=()=>BV,Rj=Symbol.for("react-redux-context"),$j=typeof globalThis<"u"?globalThis:{};function bte(){var e;if(!V.createContext)return{};const t=(e=$j[Rj])!=null?e:$j[Rj]=new Map;let r=t.get(V.createContext);return r||(r=V.createContext(null),t.set(V.createContext,r)),r}const uu=bte();function oR(e=uu){return function(){return V.useContext(e)}}const FV=oR(),UV=()=>{throw new Error("uSES not initialized!")};let VV=UV;const wte=e=>{VV=e},Ste=(e,t)=>e===t;function Ete(e=uu){const t=e===uu?FV:oR(e);return function(n,i={}){const{equalityFn:o=Ste,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:h,getServerState:g,stabilityCheck:y,noopCheck:x}=t();V.useRef(!0);const A=V.useCallback({[n.name](w){return n(w)}}[n.name],[n,y,s]),T=VV(h.addNestedSub,f.getState,g||f.getState,A,o);return V.useDebugValue(T),T}}const Br=Ete();function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bn.apply(this,arguments)}function W_(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var WV={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=typeof Symbol=="function"&&Symbol.for,aR=to?Symbol.for("react.element"):60103,sR=to?Symbol.for("react.portal"):60106,s2=to?Symbol.for("react.fragment"):60107,l2=to?Symbol.for("react.strict_mode"):60108,c2=to?Symbol.for("react.profiler"):60114,u2=to?Symbol.for("react.provider"):60109,d2=to?Symbol.for("react.context"):60110,lR=to?Symbol.for("react.async_mode"):60111,f2=to?Symbol.for("react.concurrent_mode"):60111,h2=to?Symbol.for("react.forward_ref"):60112,p2=to?Symbol.for("react.suspense"):60113,Cte=to?Symbol.for("react.suspense_list"):60120,m2=to?Symbol.for("react.memo"):60115,g2=to?Symbol.for("react.lazy"):60116,kte=to?Symbol.for("react.block"):60121,Tte=to?Symbol.for("react.fundamental"):60117,Pte=to?Symbol.for("react.responder"):60118,Ate=to?Symbol.for("react.scope"):60119;function rs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case aR:switch(e=e.type,e){case lR:case f2:case s2:case c2:case l2:case p2:return e;default:switch(e=e&&e.$$typeof,e){case d2:case h2:case g2:case m2:case u2:return e;default:return t}}case sR:return t}}}function qV(e){return rs(e)===f2}hn.AsyncMode=lR;hn.ConcurrentMode=f2;hn.ContextConsumer=d2;hn.ContextProvider=u2;hn.Element=aR;hn.ForwardRef=h2;hn.Fragment=s2;hn.Lazy=g2;hn.Memo=m2;hn.Portal=sR;hn.Profiler=c2;hn.StrictMode=l2;hn.Suspense=p2;hn.isAsyncMode=function(e){return qV(e)||rs(e)===lR};hn.isConcurrentMode=qV;hn.isContextConsumer=function(e){return rs(e)===d2};hn.isContextProvider=function(e){return rs(e)===u2};hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===aR};hn.isForwardRef=function(e){return rs(e)===h2};hn.isFragment=function(e){return rs(e)===s2};hn.isLazy=function(e){return rs(e)===g2};hn.isMemo=function(e){return rs(e)===m2};hn.isPortal=function(e){return rs(e)===sR};hn.isProfiler=function(e){return rs(e)===c2};hn.isStrictMode=function(e){return rs(e)===l2};hn.isSuspense=function(e){return rs(e)===p2};hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===s2||e===f2||e===c2||e===l2||e===p2||e===Cte||typeof e=="object"&&e!==null&&(e.$$typeof===g2||e.$$typeof===m2||e.$$typeof===u2||e.$$typeof===d2||e.$$typeof===h2||e.$$typeof===Tte||e.$$typeof===Pte||e.$$typeof===Ate||e.$$typeof===kte)};hn.typeOf=rs;WV.exports=hn;var HV=WV.exports,cR=HV,Mte={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ote={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ite={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},GV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uR={};uR[cR.ForwardRef]=Ite;uR[cR.Memo]=GV;function Dj(e){return cR.isMemo(e)?GV:uR[e.$$typeof]||Mte}var Rte=Object.defineProperty,$te=Object.getOwnPropertyNames,Lj=Object.getOwnPropertySymbols,Dte=Object.getOwnPropertyDescriptor,Lte=Object.getPrototypeOf,Nj=Object.prototype;function YV(e,t,r){if(typeof t!="string"){if(Nj){var n=Lte(t);n&&n!==Nj&&YV(e,n,r)}var i=$te(t);Lj&&(i=i.concat(Lj(t)));for(var o=Dj(e),s=Dj(t),a=0;a<i.length;++a){var f=i[a];if(!Ote[f]&&!(r&&r[f])&&!(s&&s[f])&&!(o&&o[f])){var h=Dte(t,f);try{Rte(e,f,h)}catch{}}}}return e}var Nte=YV;const zj=Jr(Nte);var KV={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=Symbol.for("react.element"),fR=Symbol.for("react.portal"),y2=Symbol.for("react.fragment"),v2=Symbol.for("react.strict_mode"),_2=Symbol.for("react.profiler"),x2=Symbol.for("react.provider"),b2=Symbol.for("react.context"),zte=Symbol.for("react.server_context"),w2=Symbol.for("react.forward_ref"),S2=Symbol.for("react.suspense"),E2=Symbol.for("react.suspense_list"),C2=Symbol.for("react.memo"),k2=Symbol.for("react.lazy"),jte=Symbol.for("react.offscreen"),ZV;ZV=Symbol.for("react.module.reference");function $s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dR:switch(e=e.type,e){case y2:case _2:case v2:case S2:case E2:return e;default:switch(e=e&&e.$$typeof,e){case zte:case b2:case w2:case k2:case C2:case x2:return e;default:return t}}case fR:return t}}}pn.ContextConsumer=b2;pn.ContextProvider=x2;pn.Element=dR;pn.ForwardRef=w2;pn.Fragment=y2;pn.Lazy=k2;pn.Memo=C2;pn.Portal=fR;pn.Profiler=_2;pn.StrictMode=v2;pn.Suspense=S2;pn.SuspenseList=E2;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(e){return $s(e)===b2};pn.isContextProvider=function(e){return $s(e)===x2};pn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dR};pn.isForwardRef=function(e){return $s(e)===w2};pn.isFragment=function(e){return $s(e)===y2};pn.isLazy=function(e){return $s(e)===k2};pn.isMemo=function(e){return $s(e)===C2};pn.isPortal=function(e){return $s(e)===fR};pn.isProfiler=function(e){return $s(e)===_2};pn.isStrictMode=function(e){return $s(e)===v2};pn.isSuspense=function(e){return $s(e)===S2};pn.isSuspenseList=function(e){return $s(e)===E2};pn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===y2||e===_2||e===v2||e===S2||e===E2||e===jte||typeof e=="object"&&e!==null&&(e.$$typeof===k2||e.$$typeof===C2||e.$$typeof===x2||e.$$typeof===b2||e.$$typeof===w2||e.$$typeof===ZV||e.getModuleId!==void 0)};pn.typeOf=$s;KV.exports=pn;var Bte=KV.exports;const Fte=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ute(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,f,h,g,y,x;function A(I,E){return f=I,h=E,g=e(f,h),y=t(n,h),x=r(g,y,h),a=!0,x}function T(){return g=e(f,h),t.dependsOnOwnProps&&(y=t(n,h)),x=r(g,y,h),x}function w(){return e.dependsOnOwnProps&&(g=e(f,h)),t.dependsOnOwnProps&&(y=t(n,h)),x=r(g,y,h),x}function M(){const I=e(f,h),E=!s(I,g);return g=I,E&&(x=r(g,y,h)),x}function O(I,E){const R=!o(E,h),N=!i(I,f,E,h);return f=I,h=E,R&&N?T():R?w():N?M():x}return function(E,R){return a?O(E,R):A(E,R)}}function Vte(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,o=W_(t,Fte);const s=r(e,o),a=n(e,o),f=i(e,o);return Ute(s,a,f,e,o)}function Wte(e,t){const r={};for(const n in e){const i=e[n];typeof i=="function"&&(r[n]=(...o)=>t(i(...o)))}return r}function VA(e){return function(r){const n=e(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function jj(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function XV(e,t){return function(n,{displayName:i}){const o=function(a,f){return o.dependsOnOwnProps?o.mapToProps(a,f):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,f){o.mapToProps=e,o.dependsOnOwnProps=jj(e);let h=o(a,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=jj(h),h=o(a,f)),h},o}}function hR(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function qte(e){return e&&typeof e=="object"?VA(t=>Wte(e,t)):e?typeof e=="function"?XV(e):hR(e,"mapDispatchToProps"):VA(t=>({dispatch:t}))}function Hte(e){return e?typeof e=="function"?XV(e):hR(e,"mapStateToProps"):VA(()=>({}))}function Gte(e,t,r){return bn({},r,e,t)}function Yte(e){return function(r,{displayName:n,areMergedPropsEqual:i}){let o=!1,s;return function(f,h,g){const y=e(f,h,g);return o?i(y,s)||(s=y):(o=!0,s=y),s}}}function Kte(e){return e?typeof e=="function"?Yte(e):hR(e,"mergeProps"):()=>Gte}function Zte(){const e=xte();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Bj={notify(){},get:()=>[]};function JV(e,t){let r,n=Bj;function i(y){return f(),n.subscribe(y)}function o(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function a(){return!!r}function f(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=Zte())}function h(){r&&(r(),r=void 0,n.clear(),n=Bj)}const g={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return g}const Xte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bw=Xte?V.useLayoutEffect:V.useEffect;function Fj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nT(e,t){if(Fj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Fj(e[r[i]],t[r[i]]))return!1;return!0}const Jte=["reactReduxForwardedRef"];let QV=UV;const Qte=e=>{QV=e},ere=[null,null];function tre(e,t,r){bw(()=>e(...t),r)}function rre(e,t,r,n,i,o){e.current=n,r.current=!1,i.current&&(i.current=null,o())}function nre(e,t,r,n,i,o,s,a,f,h,g){if(!e)return()=>{};let y=!1,x=null;const A=()=>{if(y||!a.current)return;const w=t.getState();let M,O;try{M=n(w,i.current)}catch(I){O=I,x=I}O||(x=null),M===o.current?s.current||h():(o.current=M,f.current=M,s.current=!0,g())};return r.onStateChange=A,r.trySubscribe(),A(),()=>{if(y=!0,r.tryUnsubscribe(),r.onStateChange=null,x)throw x}}function ire(e,t){return e===t}function ore(e,t,r,{pure:n,areStatesEqual:i=ire,areOwnPropsEqual:o=nT,areStatePropsEqual:s=nT,areMergedPropsEqual:a=nT,forwardRef:f=!1,context:h=uu}={}){const g=h,y=Hte(e),x=qte(t),A=Kte(r),T=!!e;return M=>{const O=M.displayName||M.name||"Component",I=`Connect(${O})`,E={shouldHandleStateChanges:T,displayName:I,wrappedComponentName:O,WrappedComponent:M,initMapStateToProps:y,initMapDispatchToProps:x,initMergeProps:A,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function R(F){const[q,J,Q]=V.useMemo(()=>{const{reactReduxForwardedRef:Fe}=F,Me=W_(F,Jte);return[F.context,Fe,Me]},[F]),ae=V.useMemo(()=>q&&q.Consumer&&Bte.isContextConsumer(V.createElement(q.Consumer,null))?q:g,[q,g]),he=V.useContext(ae),fe=!!F.store&&!!F.store.getState&&!!F.store.dispatch,we=!!he&&!!he.store,ge=fe?F.store:he.store,Ce=we?he.getServerState:ge.getState,Te=V.useMemo(()=>Vte(ge.dispatch,E),[ge]),[Ee,Oe]=V.useMemo(()=>{if(!T)return ere;const Fe=JV(ge,fe?void 0:he.subscription),Me=Fe.notifyNestedSubs.bind(Fe);return[Fe,Me]},[ge,fe,he]),qe=V.useMemo(()=>fe?he:bn({},he,{subscription:Ee}),[fe,he,Ee]),rt=V.useRef(),Pe=V.useRef(Q),je=V.useRef(),Le=V.useRef(!1);V.useRef(!1);const Ye=V.useRef(!1),Be=V.useRef();bw(()=>(Ye.current=!0,()=>{Ye.current=!1}),[]);const lt=V.useMemo(()=>()=>je.current&&Q===Pe.current?je.current:Te(ge.getState(),Q),[ge,Q]),it=V.useMemo(()=>Me=>Ee?nre(T,ge,Ee,Te,Pe,rt,Le,Ye,je,Oe,Me):()=>{},[Ee]);tre(rre,[Pe,rt,Le,Q,je,Oe]);let Ve;try{Ve=QV(it,lt,Ce?()=>Te(Ce(),Q):lt)}catch(Fe){throw Be.current&&(Fe.message+=`
The error may be correlated with this previous error:
${Be.current.stack}

`),Fe}bw(()=>{Be.current=void 0,je.current=void 0,rt.current=Ve});const Xe=V.useMemo(()=>V.createElement(M,bn({},Ve,{ref:J})),[J,M,Ve]);return V.useMemo(()=>T?V.createElement(ae.Provider,{value:qe},Xe):Xe,[ae,Xe,qe])}const D=V.memo(R);if(D.WrappedComponent=M,D.displayName=R.displayName=I,f){const q=V.forwardRef(function(Q,ae){return V.createElement(D,bn({},Q,{reactReduxForwardedRef:ae}))});return q.displayName=I,q.WrappedComponent=M,zj(q,M)}return zj(D,M)}}function are({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const s=V.useMemo(()=>{const h=JV(e);return{store:e,subscription:h,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[e,n,i,o]),a=V.useMemo(()=>e.getState(),[e]);bw(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const f=t||uu;return V.createElement(f.Provider,{value:s},r)}function eW(e=uu){const t=e===uu?FV:oR(e);return function(){const{store:n}=t();return n}}const sre=eW();function lre(e=uu){const t=e===uu?sre:eW(e);return function(){return t().dispatch}}const bl=lre();wte(yte.useSyncExternalStoreWithSelector);Qte(NV.useSyncExternalStore);_te(cc.unstable_batchedUpdates);function ll(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Rd(e){return!!e&&!!e[Gn]}function du(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===yre}(e)||Array.isArray(e)||!!e[Yj]||!!(!((t=e.constructor)===null||t===void 0)&&t[Yj])||pR(e)||mR(e))}function fh(e,t,r){r===void 0&&(r=!1),Rg(e)===0?(r?Object.keys:Cm)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Rg(e){var t=e[Gn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pR(e)?2:mR(e)?3:0}function Em(e,t){return Rg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cre(e,t){return Rg(e)===2?e.get(t):e[t]}function tW(e,t,r){var n=Rg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function rW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function pR(e){return mre&&e instanceof Map}function mR(e){return gre&&e instanceof Set}function Af(e){return e.o||e.t}function gR(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=iW(e);delete t[Gn];for(var r=Cm(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function yR(e,t){return t===void 0&&(t=!1),vR(e)||Rd(e)||!du(e)||(Rg(e)>1&&(e.set=e.add=e.clear=e.delete=ure),Object.freeze(e),t&&fh(e,function(r,n){return yR(n,!0)},!0)),e}function ure(){ll(2)}function vR(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Jl(e){var t=GA[e];return t||ll(18,e),t}function dre(e,t){GA[e]||(GA[e]=t)}function WA(){return G0}function iT(e,t){t&&(Jl("Patches"),e.u=[],e.s=[],e.v=t)}function ww(e){qA(e),e.p.forEach(fre),e.p=null}function qA(e){e===G0&&(G0=e.l)}function Uj(e){return G0={p:[],l:G0,h:e,m:!0,_:0}}function fre(e){var t=e[Gn];t.i===0||t.i===1?t.j():t.g=!0}function oT(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Jl("ES5").S(t,e,n),n?(r[Gn].P&&(ww(t),ll(4)),du(e)&&(e=Sw(t,e),t.l||Ew(t,e)),t.u&&Jl("Patches").M(r[Gn].t,e,t.u,t.s)):e=Sw(t,r,[]),ww(t),t.u&&t.v(t.u,t.s),e!==nW?e:void 0}function Sw(e,t,r){if(vR(t))return t;var n=t[Gn];if(!n)return fh(t,function(a,f){return Vj(e,n,t,a,f,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Ew(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=gR(n.k):n.o,o=i,s=!1;n.i===3&&(o=new Set(i),i.clear(),s=!0),fh(o,function(a,f){return Vj(e,n,i,a,f,r,s)}),Ew(e,i,!1),r&&e.u&&Jl("Patches").N(n,r,e.u,e.s)}return n.o}function Vj(e,t,r,n,i,o,s){if(Rd(i)){var a=Sw(e,i,o&&t&&t.i!==3&&!Em(t.R,n)?o.concat(n):void 0);if(tW(r,n,a),!Rd(a))return;e.m=!1}else s&&r.add(i);if(du(i)&&!vR(i)){if(!e.h.D&&e._<1)return;Sw(e,i),t&&t.A.l||Ew(e,i)}}function Ew(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&yR(t,r)}function aT(e,t){var r=e[Gn];return(r?Af(r):e)[t]}function Wj(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ad(e){e.P||(e.P=!0,e.l&&ad(e.l))}function sT(e){e.o||(e.o=gR(e.t))}function HA(e,t,r){var n=pR(t)?Jl("MapSet").F(t,r):mR(t)?Jl("MapSet").T(t,r):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:WA(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=a,h=Y0;s&&(f=[a],h=Hv);var g=Proxy.revocable(f,h),y=g.revoke,x=g.proxy;return a.k=x,a.j=y,x}(t,r):Jl("ES5").J(t,r);return(r?r.A:WA()).p.push(n),n}function hre(e){return Rd(e)||ll(22,e),function t(r){if(!du(r))return r;var n,i=r[Gn],o=Rg(r);if(i){if(!i.P&&(i.i<4||!Jl("ES5").K(i)))return i.t;i.I=!0,n=qj(r,o),i.I=!1}else n=qj(r,o);return fh(n,function(s,a){i&&cre(i.t,s)===a||tW(n,s,t(a))}),o===3?new Set(n):n}(e)}function qj(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return gR(e)}function pre(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var f=this[Gn];return Y0.get(f,o)},set:function(f){var h=this[Gn];Y0.set(h,o,f)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Gn];if(!a.P)switch(a.i){case 5:n(a)&&ad(a);break;case 4:r(a)&&ad(a)}}}function r(o){for(var s=o.t,a=o.k,f=Cm(a),h=f.length-1;h>=0;h--){var g=f[h];if(g!==Gn){var y=s[g];if(y===void 0&&!Em(s,g))return!0;var x=a[g],A=x&&x[Gn];if(A?A.t!==y:!rW(x,y))return!0}}var T=!!s[Gn];return f.length!==Cm(s).length+(T?0:1)}function n(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var f=0;f<s.length;f++)if(!s.hasOwnProperty(f))return!0;return!1}var i={};dre("ES5",{J:function(o,s){var a=Array.isArray(o),f=function(g,y){if(g){for(var x=Array(y.length),A=0;A<y.length;A++)Object.defineProperty(x,""+A,e(A,!0));return x}var T=iW(y);delete T[Gn];for(var w=Cm(T),M=0;M<w.length;M++){var O=w[M];T[O]=e(O,g||!!T[O].enumerable)}return Object.create(Object.getPrototypeOf(y),T)}(a,o),h={i:a?5:4,A:s?s.A:WA(),P:!1,I:!1,R:{},l:s,t:o,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,Gn,{value:h,writable:!0}),f},S:function(o,s,a){a?Rd(s)&&s[Gn].A===o&&t(o.p):(o.u&&function f(h){if(h&&typeof h=="object"){var g=h[Gn];if(g){var y=g.t,x=g.k,A=g.R,T=g.i;if(T===4)fh(x,function(E){E!==Gn&&(y[E]!==void 0||Em(y,E)?A[E]||f(x[E]):(A[E]=!0,ad(g)))}),fh(y,function(E){x[E]!==void 0||Em(x,E)||(A[E]=!1,ad(g))});else if(T===5){if(n(g)&&(ad(g),A.length=!0),x.length<y.length)for(var w=x.length;w<y.length;w++)A[w]=!1;else for(var M=y.length;M<x.length;M++)A[M]=!0;for(var O=Math.min(x.length,y.length),I=0;I<O;I++)x.hasOwnProperty(I)||(A[I]=!0),A[I]===void 0&&f(x[I])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var Hj,G0,_R=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",mre=typeof Map<"u",gre=typeof Set<"u",Gj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",nW=_R?Symbol.for("immer-nothing"):((Hj={})["immer-nothing"]=!0,Hj),Yj=_R?Symbol.for("immer-draftable"):"__$immer_draftable",Gn=_R?Symbol.for("immer-state"):"__$immer_state",yre=""+Object.prototype.constructor,Cm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,iW=Object.getOwnPropertyDescriptors||function(e){var t={};return Cm(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},GA={},Y0={get:function(e,t){if(t===Gn)return e;var r=Af(e);if(!Em(r,t))return function(i,o,s){var a,f=Wj(o,s);return f?"value"in f?f.value:(a=f.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!du(n)?n:n===aT(e.t,t)?(sT(e),e.o[t]=HA(e.A.h,n,e)):n},has:function(e,t){return t in Af(e)},ownKeys:function(e){return Reflect.ownKeys(Af(e))},set:function(e,t,r){var n=Wj(Af(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=aT(Af(e),t),o=i==null?void 0:i[Gn];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(rW(r,i)&&(r!==void 0||Em(e.t,t)))return!0;sT(e),ad(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return aT(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,sT(e),ad(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Af(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){ll(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ll(12)}},Hv={};fh(Y0,function(e,t){Hv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Hv.deleteProperty=function(e,t){return Hv.set.call(this,e,t,void 0)},Hv.set=function(e,t,r){return Y0.set.call(this,e[0],t,r,e[0])};var vre=function(){function e(r){var n=this;this.O=Gj,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var f=n;return function(w){var M=this;w===void 0&&(w=a);for(var O=arguments.length,I=Array(O>1?O-1:0),E=1;E<O;E++)I[E-1]=arguments[E];return f.produce(w,function(R){var N;return(N=o).call.apply(N,[M,R].concat(I))})}}var h;if(typeof o!="function"&&ll(6),s!==void 0&&typeof s!="function"&&ll(7),du(i)){var g=Uj(n),y=HA(n,i,void 0),x=!0;try{h=o(y),x=!1}finally{x?ww(g):qA(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(w){return iT(g,s),oT(w,g)},function(w){throw ww(g),w}):(iT(g,s),oT(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===nW&&(h=void 0),n.D&&yR(h,!0),s){var A=[],T=[];Jl("Patches").M(i,h,A,T),s(A,T)}return h}ll(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,y=Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];return n.produceWithPatches(h,function(A){return i.apply(void 0,[A].concat(y))})};var s,a,f=n.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return[h,s,a]}):[f,s,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){du(r)||ll(8),Rd(r)&&(r=hre(r));var n=Uj(this),i=HA(this,r,void 0);return i[Gn].C=!0,qA(n),i},t.finishDraft=function(r,n){var i=r&&r[Gn],o=i.A;return iT(o,n),oT(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Gj&&ll(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Jl("Patches").$;return Rd(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},e}(),Xa=new vre,oW=Xa.produce;Xa.produceWithPatches.bind(Xa);Xa.setAutoFreeze.bind(Xa);Xa.setUseProxies.bind(Xa);Xa.applyPatches.bind(Xa);Xa.createDraft.bind(Xa);Xa.finishDraft.bind(Xa);function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function _re(e,t){if(K0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aW(e){var t=_re(e,"string");return K0(t)==="symbol"?t:String(t)}function xre(e,t,r){return t=aW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Xj=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lT=function(){return Math.random().toString(36).substring(7).split("").join(".")},Cw={INIT:"@@redux/INIT"+lT(),REPLACE:"@@redux/REPLACE"+lT(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lT()}};function bre(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function sW(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($o(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($o(1));return r(sW)(e,t)}if(typeof e!="function")throw new Error($o(2));var i=e,o=t,s=[],a=s,f=!1;function h(){a===s&&(a=s.slice())}function g(){if(f)throw new Error($o(3));return o}function y(w){if(typeof w!="function")throw new Error($o(4));if(f)throw new Error($o(5));var M=!0;return h(),a.push(w),function(){if(M){if(f)throw new Error($o(6));M=!1,h();var I=a.indexOf(w);a.splice(I,1),s=null}}}function x(w){if(!bre(w))throw new Error($o(7));if(typeof w.type>"u")throw new Error($o(8));if(f)throw new Error($o(9));try{f=!0,o=i(o,w)}finally{f=!1}for(var M=s=a,O=0;O<M.length;O++){var I=M[O];I()}return w}function A(w){if(typeof w!="function")throw new Error($o(10));i=w,x({type:Cw.REPLACE})}function T(){var w,M=y;return w={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error($o(11));function E(){I.next&&I.next(g())}E();var R=M(E);return{unsubscribe:R}}},w[Xj]=function(){return this},w}return x({type:Cw.INIT}),n={dispatch:x,subscribe:y,getState:g,replaceReducer:A},n[Xj]=T,n}function wre(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Cw.INIT});if(typeof n>"u")throw new Error($o(12));if(typeof r(void 0,{type:Cw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($o(13))})}function lW(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),s;try{wre(r)}catch(a){s=a}return function(f,h){if(f===void 0&&(f={}),s)throw s;for(var g=!1,y={},x=0;x<o.length;x++){var A=o[x],T=r[A],w=f[A],M=T(w,h);if(typeof M>"u")throw h&&h.type,new Error($o(14));y[A]=M,g=g||M!==w}return g=g||o.length!==Object.keys(f).length,g?y:f}}function kw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Sre(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error($o(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(f){return f(s)});return o=kw.apply(void 0,a)(i.dispatch),Zj(Zj({},i),{},{dispatch:o})}}}function cW(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var uW=cW();uW.withExtraArgument=cW;const Jj=uW;var dW=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ere=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return f([h,g])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Ym=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Cre=Object.defineProperty,kre=Object.defineProperties,Tre=Object.getOwnPropertyDescriptors,Qj=Object.getOwnPropertySymbols,Pre=Object.prototype.hasOwnProperty,Are=Object.prototype.propertyIsEnumerable,e3=function(e,t,r){return t in e?Cre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Sd=function(e,t){for(var r in t||(t={}))Pre.call(t,r)&&e3(e,r,t[r]);if(Qj)for(var n=0,i=Qj(t);n<i.length;n++){var r=i[n];Are.call(t,r)&&e3(e,r,t[r])}return e},cT=function(e,t){return kre(e,Tre(t))},Mre=function(e,t,r){return new Promise(function(n,i){var o=function(f){try{a(r.next(f))}catch(h){i(h)}},s=function(f){try{a(r.throw(f))}catch(h){i(h)}},a=function(f){return f.done?n(f.value):Promise.resolve(f.value).then(o,s)};a((r=r.apply(e,t)).next())})},Ore=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kw:kw.apply(null,arguments)};function Ire(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var Rre=function(e){dW(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Ym([void 0],r[0].concat(this)))):new(t.bind.apply(t,Ym([void 0],r.concat(this))))},t}(Array),$re=function(e){dW(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Ym([void 0],r[0].concat(this)))):new(t.bind.apply(t,Ym([void 0],r.concat(this))))},t}(Array);function YA(e){return du(e)?oW(e,function(){}):e}function Dre(e){return typeof e=="boolean"}function Lre(){return function(t){return Nre(t)}}function Nre(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new Rre;return r&&(Dre(r)?n.push(Jj):n.push(Jj.withExtraArgument(r.extraArgument))),n}var zre=!0;function jre(e){var t=Lre(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,s=o===void 0?t():o,a=r.devTools,f=a===void 0?!0:a,h=r.preloadedState,g=h===void 0?void 0:h,y=r.enhancers,x=y===void 0?void 0:y,A;if(typeof i=="function")A=i;else if(Ire(i))A=lW(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var T=s;typeof T=="function"&&(T=T(t));var w=Sre.apply(void 0,T),M=kw;f&&(M=Ore(Sd({trace:!zre},typeof f=="object"&&f)));var O=new $re(w),I=O;Array.isArray(x)?I=Ym([w],x):typeof x=="function"&&(I=x(O));var E=M.apply(void 0,I);return sW(A,g,E)}function Ed(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Sd(Sd({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function fW(e){var t={},r=[],n,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return r.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function Bre(e){return typeof e=="function"}function Fre(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?fW(t):[t,r,n],o=i[0],s=i[1],a=i[2],f;if(Bre(e))f=function(){return YA(e())};else{var h=YA(e);f=function(){return h}}function g(y,x){y===void 0&&(y=f());var A=Ym([o[x.type]],s.filter(function(T){var w=T.matcher;return w(x)}).map(function(T){var w=T.reducer;return w}));return A.filter(function(T){return!!T}).length===0&&(A=[a]),A.reduce(function(T,w){if(w)if(Rd(T)){var M=T,O=w(M,x);return O===void 0?T:O}else{if(du(T))return oW(T,function(I){return w(I,x)});var O=w(T,x);if(O===void 0){if(T===null)return T;throw Error("A case reducer on a non-draftable value must not return undefined")}return O}return T},y)}return g.getInitialState=f,g}function Ure(e,t){return e+"/"+t}function $g(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:YA(e.initialState),n=e.reducers||{},i=Object.keys(n),o={},s={},a={};i.forEach(function(g){var y=n[g],x=Ure(t,g),A,T;"reducer"in y?(A=y.reducer,T=y.prepare):A=y,o[g]=A,s[x]=A,a[g]=T?Ed(x,T):Ed(x)});function f(){var g=typeof e.extraReducers=="function"?fW(e.extraReducers):[e.extraReducers],y=g[0],x=y===void 0?{}:y,A=g[1],T=A===void 0?[]:A,w=g[2],M=w===void 0?void 0:w,O=Sd(Sd({},x),s);return Fre(r,function(I){for(var E in O)I.addCase(E,O[E]);for(var R=0,N=T;R<N.length;R++){var D=N[R];I.addMatcher(D.matcher,D.reducer)}M&&I.addDefaultCase(M)})}var h;return{name:t,reducer:function(g,y){return h||(h=f()),h(g,y)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var Vre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wre=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=Vre[Math.random()*64|0];return t},qre=["name","message","stack","code"],uT=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),t3=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Hre=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=qre;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,r,n){var i=Ed(t+"/fulfilled",function(h,g,y,x){return{payload:h,meta:cT(Sd({},x||{}),{arg:y,requestId:g,requestStatus:"fulfilled"})}}),o=Ed(t+"/pending",function(h,g,y){return{payload:void 0,meta:cT(Sd({},y||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=Ed(t+"/rejected",function(h,g,y,x,A){return{payload:x,error:(n&&n.serializeError||Hre)(h||"Rejected"),meta:cT(Sd({},A||{}),{arg:y,requestId:g,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function f(h){return function(g,y,x){var A=n!=null&&n.idGenerator?n.idGenerator(h):Wre(),T=new a,w;function M(I){w=I,T.abort()}var O=function(){return Mre(this,null,function(){var I,E,R,N,D,F,q;return Ere(this,function(J){switch(J.label){case 0:return J.trys.push([0,4,,5]),N=(I=n==null?void 0:n.condition)==null?void 0:I.call(n,h,{getState:y,extra:x}),Yre(N)?[4,N]:[3,2];case 1:N=J.sent(),J.label=2;case 2:if(N===!1||T.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return D=new Promise(function(Q,ae){return T.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:w||"Aborted"})})}),g(o(A,h,(E=n==null?void 0:n.getPendingMeta)==null?void 0:E.call(n,{requestId:A,arg:h},{getState:y,extra:x}))),[4,Promise.race([D,Promise.resolve(r(h,{dispatch:g,getState:y,extra:x,requestId:A,signal:T.signal,abort:M,rejectWithValue:function(Q,ae){return new uT(Q,ae)},fulfillWithValue:function(Q,ae){return new t3(Q,ae)}})).then(function(Q){if(Q instanceof uT)throw Q;return Q instanceof t3?i(Q.payload,A,h,Q.meta):i(Q,A,h)})])];case 3:return R=J.sent(),[3,5];case 4:return F=J.sent(),R=F instanceof uT?s(null,A,h,F.payload,F.meta):s(F,A,h),[3,5];case 5:return q=n&&!n.dispatchConditionRejection&&s.match(R)&&R.meta.condition,q||g(R),[2,R]}})})}();return Object.assign(O,{abort:M,requestId:A,arg:h,unwrap:function(){return O.then(Gre)}})}}return Object.assign(f,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Gre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Yre(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var xR="listenerMiddleware";Ed(xR+"/add");Ed(xR+"/removeAll");Ed(xR+"/remove");var r3;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);pre();const{reducer:Kre,actions:hW}=$g({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:Zre,actions:cl}=$g({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(r=>e.items[r.id]=r)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(r=>e.items[r.id]=r)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:Xre,actions:dT}=$g({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(r=>{e.positions[r.deviceId]=r,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(r=>{e.camera[r.deviceId]=r})}}}),Jre=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let r=0;r<e.length;r++){console.log("uav - "+r),t[r]={},e[r].hasOwnProperty("uav")&&(t[r].uav=e[r].uav),t[r].id=r,t[r].name=e[r].name,t[r].wp=[],t[r].attributes={};for(let n=0;n<e[r].wp.length;n++)t[r].wp[n]={},t[r].wp[n].pos=e[r].wp[n].pos,t[r].wp[n].yaw=e[r].wp[n].yaw,t[r].wp[n].gimbal=e[r].wp[n].gimbal,e[r].wp[n].hasOwnProperty("speed")&&(t[r].wp[n].speed=e[r].wp[n].speed),e[r].wp[n].hasOwnProperty("action")&&(t[r].wp[n].action=e[r].wp[n].action);e[r].hasOwnProperty("attributes")?(console.log("have atribute"),e[r].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[r].attributes.mode_landing=e[r].attributes.mode_landing),e[r].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e[r].attributes.mode_yaw),e[r].attributes.hasOwnProperty("mode_gimbal")&&(t[r].attributes.mode_gimbal=e[r].attributes.mode_gimbal),e[r].attributes.hasOwnProperty("mode_trace")&&(t[r].attributes.mode_trace=e[r].attributes.mode_trace),e[r].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e[r].attributes.idle_vel),e[r].attributes.hasOwnProperty("max_vel")&&(t[r].attributes.max_vel=e[r].attributes.max_vel)):(e[r].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[r].attributes.mode_landing=e[r].mode_landing),e[r].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e[r].mode_yaw),e[r].hasOwnProperty("mode_gimbal")&&(t[r].attributes.mode_gimbal=e[r].mode_gimbal),e[r].hasOwnProperty("mode_trace")&&(t[r].attributes.mode_trace=e[r].mode_trace),e[r].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e[r].idle_vel),e[r].hasOwnProperty("max_vel")&&(t[r].attributes.max_vel=e[r].max_vel))}return console.log("-------------------"),console.log(t),t},Qre=e=>{let t=[];console.log("mission < 3");for(let r=1;r<=e.uav_n;r++)if(e.hasOwnProperty("uav_"+r)){let n=r-1;console.log("uav - "+n),t[n]={},t[n].id=n,t[n].uav="uav_"+r,t[n].name="uav_"+r,t[n].wp=[],t[n].attributes={};for(let i=0;i<e["uav_"+r].wp_n;i++)t[n].wp[i]={},e["uav_"+r]["wp_"+i].length==3?(t[n].wp[i].yaw=0,t[n].wp[i].pos=e["uav_"+r]["wp_"+i]):(t[n].wp[i].yaw=e["uav_"+r]["wp_"+i][3],t[n].wp[i].pos=e["uav_"+r]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[n].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e.idle_vel),e["uav_"+r].hasOwnProperty("attributes")?(e["uav_"+r].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[n].attributes.mode_landing=e["uav_"+r].attributes.mode_landing),e["uav_"+r].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e["uav_"+r].attributes.mode_yaw),e["uav_"+r].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e["uav_"+r].attributes.idle_vel),e["uav_"+r].attributes.hasOwnProperty("max_vel")&&(t[r].attributes.max_vel=e["uav_"+r].attributes.max_vel)):(e["uav_"+r].hasOwnProperty("mode_landing")&&(t[n].attributes.mode_landing=e["uav_"+r].mode_landing),e["uav_"+r].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e["uav_"+r].mode_yaw),e["uav_"+r].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e["uav_"+r].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:ene,actions:Yl}=$g({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},reloadName(e,t){e.name=t.payload.name,e.description=t.payload.description},updateMission(e,t){if(e.name=t.payload.name,t.payload.mission.version=="3"){let r=0;e.home=t.payload.mission.route[r].wp[0].pos,e.route=Jre(t.payload.mission.route)}else{let r=1;e.home=t.payload.mission["uav_"+r].wp_0,e.route=Qre(t.payload.mission)}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:tne,actions:am}=$g({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{},markers:[]},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const r=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",n=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,r!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-n),[i.longitude,i.latitude]])}else e.history={}})},updateMarker(e,t){e.markers=t.payload},addMarker(e,t){e.markers.push(...t.payload)}}}),{reducer:rne,actions:nne}=$g({name:"events",initialState:{items:[]},reducers:{add(e,t){e.items.unshift(...t.payload),e.items.splice(50)},delete(e,t){e.items=e.items.filter(r=>r.id!==t.payload.id)},deleteAll(e){e.items=[]}}}),n3=3,ine=1500,one=()=>e=>{const t=[];let r=!1,n=0;return setInterval(()=>{r?(t.length<n3&&(r=!1),cc.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(n>n3&&(r=!0),n=0)},ine),i=>i.type==="devices/update"||i.type==="positions/update"?r?(t.push(i),null):(n+=1,e(i)):e(i)},ane=lW({errors:Kre,devices:Zre,data:Xre,events:rne,mission:ene,session:tne}),sne=jre({reducer:ane,middleware:e=>e().concat(one)}),lne={black:"#000",white:"#fff"},hh=lne,cne={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vc=cne,une={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Tp=une,dne={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},pW=dne,fne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pp=fne,hne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ap=hne,pne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},al=pne,mne={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},bR=mne,gne={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},dv=gne,yne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ql=yne,fv={white:hh.white,background:Ql[50],primary:pW[900],secondary:al[800],positive:al[500],medium:bR[700],negative:Vc[500],neutral:Ql[500],geometry:"#3bb2d0"},vne={background:{default:fv.background},primary:{main:fv.primary},secondary:{main:fv.secondary,contrastText:fv.white},colors:fv};var wR={exports:{}};wR.exports=mW;wR.exports.parse=mW;wR.exports.stringify=gW;var i3=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,o3=new RegExp("^"+i3.source+"(\\s"+i3.source+"){1,}");function mW(e){var t=e.split(";"),r=t.pop(),n=(t.shift()||"").split("=").pop(),i=0;function o(I){var E=r.substring(i).match(I);return E?(i+=E[0].length,E[0]):null}function s(I){return I&&n.match(/\d+/)&&(I.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+n}}),I}function a(){o(/^\s*/)}function f(){a();for(var I=0,E=[],R=[E],N=E,D;D=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(o3);){if(D==="(")R.push(N),N=[],R[R.length-1].push(N),I++;else if(D===")"){if(N.length===0||(N=R.pop(),!N))return null;if(I--,I===0)break}else if(D===",")N=[],R[R.length-1].push(N);else if(!D.split(/\s/g).some(isNaN))Array.prototype.push.apply(N,D.split(/\s/g).map(parseFloat));else return null;a()}return I!==0?null:E}function h(){for(var I=[],E,R;R=o(o3)||o(/^(,)/);)R===","?(I.push(E),E=[]):R.split(/\s/g).some(isNaN)||(E||(E=[]),Array.prototype.push.apply(E,R.split(/\s/g).map(parseFloat))),a();if(E)I.push(E);else return null;return I.length?I:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var I=h();return!I||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:I[0]}}function y(){if(!o(/^(multipoint)/i))return null;a();var I=r.substring(r.indexOf("(")+1,r.length-1).replace(/\(/g,"").replace(/\)/g,"");r="MULTIPOINT ("+I+")";var E=f();return E?(a(),{type:"MultiPoint",coordinates:E}):null}function x(){if(!o(/^(multilinestring)/i))return null;a();var I=f();return I?(a(),{type:"MultiLineString",coordinates:I}):null}function A(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var I=h();return!I||!o(/^(\))/)?null:{type:"LineString",coordinates:I}}function T(){if(!o(/^(polygon(\sz)?)/i))return null;a();var I=f();return I?{type:"Polygon",coordinates:I}:null}function w(){if(!o(/^(multipolygon)/i))return null;a();var I=f();return I?{type:"MultiPolygon",coordinates:I}:null}function M(){var I=[],E;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;E=O();)I.push(E),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:I}:null}function O(){return g()||A()||T()||y()||x()||w()||M()}return s(O())}function gW(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function r(s){return s.map(t).join(", ")}function n(s){return s.map(r).map(o).join(", ")}function i(s){return s.map(n).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+r(e.coordinates)+")";case"Polygon":return"POLYGON ("+n(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+r(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+n(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(gW).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const Mp=e=>new Promise(t=>{const r=new Image;r.onload=()=>t(r),r.src=e}),a3=(e,t)=>{const r=document.createElement("canvas");r.width=e.width*devicePixelRatio,r.height=e.height*devicePixelRatio,r.style.width=`${e.width}px`,r.style.height=`${e.height}px`;const n=r.getContext("2d");return n.save(),n.fillStyle=t,n.globalAlpha=1,n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.globalAlpha=1,n.drawImage(e,0,0,r.width,r.height),n.restore(),r},Ef=(e,t,r)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const i=n.getContext("2d");if(i.drawImage(e,0,0,n.width,n.height),t){const s=n.width*.5,a=n.height*.5;i.drawImage(a3(t,r),(n.width-s)/2,(n.height-a)/2,s,a)}else r&&i.drawImage(a3(e,r),0,0,n.width,n.height);return i.getImageData(0,0,n.width,n.height)},tu=e=>{var s;const t=new Set,{layers:r}=e.getStyle();(s=r==null?void 0:r.forEach)==null||s.call(r,a=>{var f,h,g;(g=(h=(f=a.layout)==null?void 0:f["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const n=[...t],i=n.find(a=>a.includes("Regular"));if(i)return[i];const o=n.find(Boolean);return o?[o]:["Roboto Regular"]},_ne="/assets/background-53c65562.svg",xne="/assets/direction-2fdacc6e.svg",Fb="/assets/plane-4238c02c.svg",bne="/assets/helicopter-651bc896.svg",wne="/assets/drone1-b9b242c5.svg",fT="/assets/drone2-e1a01f63.svg",Sne="/assets/drone3-e4211ef1.svg",Ene="/assets/triangle-a6d1e515.svg",Cne="/assets/PowerTower1-88c51b2e.svg",kne="/assets/Rectangle-1e58e137.svg",Km={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},Tw={helicopter:bne,plane:Fb,drone:wne,dji_M210_noetic:fT,dji_M210_melodic:fT,dji_M300:fT,px4:Fb,catec:Sne,fuvex:Fb,default:Fb},yW=e=>Tw.hasOwnProperty(e)?e:"default",Xu={},Tne=async()=>{const e=await Mp(_ne);Xu.background=await Ef(e),Xu.item=await Ef(await Mp(Ene)),Xu.powerTower=await Ef(await Mp(Cne)),Xu.base=await Ef(await Mp(kne)),Xu.direction=await Ef(await Mp(xne)),Object.keys(Km).forEach(t=>{Xu[`background-${t}`]=Ef(e,null,Km[t])}),await Promise.all(Object.keys(Tw).map(async t=>{const r=[];["primary","positive","negative","neutral"].forEach(n=>{r.push(Mp(Tw[t]).then(i=>{Xu[`${t}-${n}`]=Ef(e,i,vne.colors[n])}))}),await Promise.all(r)}))};function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function Nf(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function vW(e){if(!Nf(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=vW(e[r])}),t}function zo(e,t,r={clone:!0}){const n=r.clone?km({},e):e;return Nf(e)&&Nf(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Nf(t[i])&&i in e&&Nf(e[i])?n[i]=zo(e[i],t[i],r):r.clone?n[i]=Nf(t[i])?vW(t[i]):t[i]:n[i]=t[i])}),n}var _W={exports:{}},Pne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ane=Pne,Mne=Ane;function xW(){}function bW(){}bW.resetWarningCache=xW;var One=function(){function e(n,i,o,s,a,f){if(f!==Mne){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bW,resetWarningCache:xW};return r.PropTypes=r,r};_W.exports=One();var SR=_W.exports;const kr=Jr(SR);function $d(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function mt(e){if(typeof e!="string")throw new Error($d(7));return e.charAt(0).toUpperCase()+e.slice(1)}function KA(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function ER(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function Ine(e,t){return()=>null}function D1(e,t){return V.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Fi(e){return e&&e.ownerDocument||document}function Dd(e){return Fi(e).defaultView||window}function Rne(e,t){return()=>null}function Pw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const $ne=typeof window<"u"?V.useLayoutEffect:V.useEffect,yl=$ne;let s3=0;function Dne(e){const[t,r]=V.useState(e),n=e||t;return V.useEffect(()=>{t==null&&(s3+=1,r(`mui-${s3}`))},[t]),n}const l3=Y1["useId".toString()];function CR(e){if(l3!==void 0){const t=l3();return e??t}return Dne(e)}function Lne(e,t,r,n,i){return null}function Zm({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=V.useRef(e!==void 0),[o,s]=V.useState(t),a=i?e:o,f=V.useCallback(h=>{i||s(h)},[]);return[a,f]}function dl(e){const t=V.useRef(e);return yl(()=>{t.current=e}),V.useCallback((...r)=>(0,t.current)(...r),[])}function ci(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{Pw(r,t)})},e)}let T2=!0,ZA=!1,c3;const Nne={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zne(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Nne[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function jne(e){e.metaKey||e.altKey||e.ctrlKey||(T2=!0)}function hT(){T2=!1}function Bne(){this.visibilityState==="hidden"&&ZA&&(T2=!0)}function Fne(e){e.addEventListener("keydown",jne,!0),e.addEventListener("mousedown",hT,!0),e.addEventListener("pointerdown",hT,!0),e.addEventListener("touchstart",hT,!0),e.addEventListener("visibilitychange",Bne,!0)}function Une(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return T2||zne(t)}function P2(){const e=V.useCallback(i=>{i!=null&&Fne(i.ownerDocument)},[]),t=V.useRef(!1);function r(){return t.current?(ZA=!0,window.clearTimeout(c3),c3=window.setTimeout(()=>{ZA=!1},100),t.current=!1,!0):!1}function n(i){return Une(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function wW(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Vne=e=>{const t=V.useRef({});return V.useEffect(()=>{t.current=e}),t.current},SW=Vne;function kR(e,t){const r=km({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=km({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},o=t[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=km({},o),Object.keys(i).forEach(s=>{r[n][s]=kR(i[s],o[s])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function nr(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),r&&r[s]&&o.push(r[s])}return o},[]).join(" ")}),n}const u3=e=>e,Wne=()=>{let e=u3;return{configure(t){e=t},generate(t){return e(t)},reset(){e=u3}}},qne=Wne(),TR=qne,Hne={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function tr(e,t,r="Mui"){const n=Hne[t];return n?`${r}-${n}`:`${TR.generate(e)}-${t}`}function ir(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=tr(e,i,r)}),n}const ph="$$material";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(this,arguments)}function Rt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function EW(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Gne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Yne=EW(function(e){return Gne.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Kne(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Zne(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Xne=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Zne(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Kne(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Io="-ms-",Aw="-moz-",nn="-webkit-",CW="comm",PR="rule",AR="decl",Jne="@import",kW="@keyframes",Qne="@layer",eie=Math.abs,A2=String.fromCharCode,tie=Object.assign;function rie(e,t){return uo(e,0)^45?(((t<<2^uo(e,0))<<2^uo(e,1))<<2^uo(e,2))<<2^uo(e,3):0}function TW(e){return e.trim()}function nie(e,t){return(e=t.exec(e))?e[0]:e}function on(e,t,r){return e.replace(t,r)}function XA(e,t){return e.indexOf(t)}function uo(e,t){return e.charCodeAt(t)|0}function Z0(e,t,r){return e.slice(t,r)}function Bl(e){return e.length}function MR(e){return e.length}function Ub(e,t){return t.push(e),e}function iie(e,t){return e.map(t).join("")}var M2=1,Xm=1,PW=0,Ta=0,Mi=0,Dg="";function O2(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:M2,column:Xm,length:s,return:""}}function hv(e,t){return tie(O2("",null,null,"",null,null,0),e,{length:-e.length},t)}function oie(){return Mi}function aie(){return Mi=Ta>0?uo(Dg,--Ta):0,Xm--,Mi===10&&(Xm=1,M2--),Mi}function Ya(){return Mi=Ta<PW?uo(Dg,Ta++):0,Xm++,Mi===10&&(Xm=1,M2++),Mi}function ec(){return uo(Dg,Ta)}function L1(){return Ta}function q_(e,t){return Z0(Dg,e,t)}function X0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AW(e){return M2=Xm=1,PW=Bl(Dg=e),Ta=0,[]}function MW(e){return Dg="",e}function N1(e){return TW(q_(Ta-1,JA(e===91?e+2:e===40?e+1:e)))}function sie(e){for(;(Mi=ec())&&Mi<33;)Ya();return X0(e)>2||X0(Mi)>3?"":" "}function lie(e,t){for(;--t&&Ya()&&!(Mi<48||Mi>102||Mi>57&&Mi<65||Mi>70&&Mi<97););return q_(e,L1()+(t<6&&ec()==32&&Ya()==32))}function JA(e){for(;Ya();)switch(Mi){case e:return Ta;case 34:case 39:e!==34&&e!==39&&JA(Mi);break;case 40:e===41&&JA(e);break;case 92:Ya();break}return Ta}function cie(e,t){for(;Ya()&&e+Mi!==47+10;)if(e+Mi===42+42&&ec()===47)break;return"/*"+q_(t,Ta-1)+"*"+A2(e===47?e:Ya())}function uie(e){for(;!X0(ec());)Ya();return q_(e,Ta)}function die(e){return MW(z1("",null,null,null,[""],e=AW(e),0,[0],e))}function z1(e,t,r,n,i,o,s,a,f){for(var h=0,g=0,y=s,x=0,A=0,T=0,w=1,M=1,O=1,I=0,E="",R=i,N=o,D=n,F=E;M;)switch(T=I,I=Ya()){case 40:if(T!=108&&uo(F,y-1)==58){XA(F+=on(N1(I),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:F+=N1(I);break;case 9:case 10:case 13:case 32:F+=sie(T);break;case 92:F+=lie(L1()-1,7);continue;case 47:switch(ec()){case 42:case 47:Ub(fie(cie(Ya(),L1()),t,r),f);break;default:F+="/"}break;case 123*w:a[h++]=Bl(F)*O;case 125*w:case 59:case 0:switch(I){case 0:case 125:M=0;case 59+g:O==-1&&(F=on(F,/\f/g,"")),A>0&&Bl(F)-y&&Ub(A>32?f3(F+";",n,r,y-1):f3(on(F," ","")+";",n,r,y-2),f);break;case 59:F+=";";default:if(Ub(D=d3(F,t,r,h,g,i,a,E,R=[],N=[],y),o),I===123)if(g===0)z1(F,t,D,D,R,o,y,a,N);else switch(x===99&&uo(F,3)===110?100:x){case 100:case 108:case 109:case 115:z1(e,D,D,n&&Ub(d3(e,D,D,0,0,i,a,E,i,R=[],y),N),i,N,y,a,n?R:N);break;default:z1(F,D,D,D,[""],N,0,a,N)}}h=g=A=0,w=O=1,E=F="",y=s;break;case 58:y=1+Bl(F),A=T;default:if(w<1){if(I==123)--w;else if(I==125&&w++==0&&aie()==125)continue}switch(F+=A2(I),I*w){case 38:O=g>0?1:(F+="\f",-1);break;case 44:a[h++]=(Bl(F)-1)*O,O=1;break;case 64:ec()===45&&(F+=N1(Ya())),x=ec(),g=y=Bl(E=F+=uie(L1())),I++;break;case 45:T===45&&Bl(F)==2&&(w=0)}}return o}function d3(e,t,r,n,i,o,s,a,f,h,g){for(var y=i-1,x=i===0?o:[""],A=MR(x),T=0,w=0,M=0;T<n;++T)for(var O=0,I=Z0(e,y+1,y=eie(w=s[T])),E=e;O<A;++O)(E=TW(w>0?x[O]+" "+I:on(I,/&\f/g,x[O])))&&(f[M++]=E);return O2(e,t,r,i===0?PR:a,f,h,g)}function fie(e,t,r){return O2(e,t,r,CW,A2(oie()),Z0(e,2,-2),0)}function f3(e,t,r,n){return O2(e,t,r,AR,Z0(e,0,n),Z0(e,n+1,-1),n)}function Tm(e,t){for(var r="",n=MR(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function hie(e,t,r,n){switch(e.type){case Qne:if(e.children.length)break;case Jne:case AR:return e.return=e.return||e.value;case CW:return"";case kW:return e.return=e.value+"{"+Tm(e.children,n)+"}";case PR:e.value=e.props.join(",")}return Bl(r=Tm(e.children,n))?e.return=e.value+"{"+r+"}":""}function pie(e){var t=MR(e);return function(r,n,i,o){for(var s="",a=0;a<t;a++)s+=e[a](r,n,i,o)||"";return s}}function mie(e){return function(t){t.root||(t=t.return)&&e(t)}}var gie=function(t,r,n){for(var i=0,o=0;i=o,o=ec(),i===38&&o===12&&(r[n]=1),!X0(o);)Ya();return q_(t,Ta)},yie=function(t,r){var n=-1,i=44;do switch(X0(i)){case 0:i===38&&ec()===12&&(r[n]=1),t[n]+=gie(Ta-1,r,n);break;case 2:t[n]+=N1(i);break;case 4:if(i===44){t[++n]=ec()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=A2(i)}while(i=Ya());return t},vie=function(t,r){return MW(yie(AW(t),r))},h3=new WeakMap,_ie=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!h3.get(n))&&!i){h3.set(t,!0);for(var o=[],s=vie(r,o),a=n.props,f=0,h=0;f<s.length;f++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[f]?s[f].replace(/&\f/g,a[g]):a[g]+" "+s[f]}}},xie=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function OW(e,t){switch(rie(e,t)){case 5103:return nn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nn+e+Aw+e+Io+e+e;case 6828:case 4268:return nn+e+Io+e+e;case 6165:return nn+e+Io+"flex-"+e+e;case 5187:return nn+e+on(e,/(\w+).+(:[^]+)/,nn+"box-$1$2"+Io+"flex-$1$2")+e;case 5443:return nn+e+Io+"flex-item-"+on(e,/flex-|-self/,"")+e;case 4675:return nn+e+Io+"flex-line-pack"+on(e,/align-content|flex-|-self/,"")+e;case 5548:return nn+e+Io+on(e,"shrink","negative")+e;case 5292:return nn+e+Io+on(e,"basis","preferred-size")+e;case 6060:return nn+"box-"+on(e,"-grow","")+nn+e+Io+on(e,"grow","positive")+e;case 4554:return nn+on(e,/([^-])(transform)/g,"$1"+nn+"$2")+e;case 6187:return on(on(on(e,/(zoom-|grab)/,nn+"$1"),/(image-set)/,nn+"$1"),e,"")+e;case 5495:case 3959:return on(e,/(image-set\([^]*)/,nn+"$1$`$1");case 4968:return on(on(e,/(.+:)(flex-)?(.*)/,nn+"box-pack:$3"+Io+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nn+e+e;case 4095:case 3583:case 4068:case 2532:return on(e,/(.+)-inline(.+)/,nn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bl(e)-1-t>6)switch(uo(e,t+1)){case 109:if(uo(e,t+4)!==45)break;case 102:return on(e,/(.+:)(.+)-([^]+)/,"$1"+nn+"$2-$3$1"+Aw+(uo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~XA(e,"stretch")?OW(on(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(uo(e,t+1)!==115)break;case 6444:switch(uo(e,Bl(e)-3-(~XA(e,"!important")&&10))){case 107:return on(e,":",":"+nn)+e;case 101:return on(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nn+(uo(e,14)===45?"inline-":"")+"box$3$1"+nn+"$2$3$1"+Io+"$2box$3")+e}break;case 5936:switch(uo(e,t+11)){case 114:return nn+e+Io+on(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nn+e+Io+on(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nn+e+Io+on(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nn+e+Io+e+e}return e}var bie=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case AR:t.return=OW(t.value,t.length);break;case kW:return Tm([hv(t,{value:on(t.value,"@","@"+nn)})],i);case PR:if(t.length)return iie(t.props,function(o){switch(nie(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Tm([hv(t,{props:[on(o,/:(read-\w+)/,":"+Aw+"$1")]})],i);case"::placeholder":return Tm([hv(t,{props:[on(o,/:(plac\w+)/,":"+nn+"input-$1")]}),hv(t,{props:[on(o,/:(plac\w+)/,":"+Aw+"$1")]}),hv(t,{props:[on(o,/:(plac\w+)/,Io+"input-$1")]})],i)}return""})}},wie=[bie],IW=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var M=w.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=t.stylisPlugins||wie,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var M=w.getAttribute("data-emotion").split(" "),O=1;O<M.length;O++)o[M[O]]=!0;a.push(w)});var f,h=[_ie,xie];{var g,y=[hie,mie(function(w){g.insert(w)})],x=pie(h.concat(i,y)),A=function(M){return Tm(die(M),x)};f=function(M,O,I,E){g=I,A(M?M+"{"+O.styles+"}":O.styles),E&&(T.inserted[O.name]=!0)}}var T={key:r,sheet:new Xne({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return T.sheet.hydrate(a),T},Sie=!0;function Eie(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var RW=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Sie===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},$W=function(t,r,n){RW(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Cie(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var kie={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tie=/[A-Z]|^ms/g,Pie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,DW=function(t){return t.charCodeAt(1)===45},p3=function(t){return t!=null&&typeof t!="boolean"},pT=EW(function(e){return DW(e)?e:e.replace(Tie,"-$&").toLowerCase()}),m3=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Pie,function(n,i,o){return Fl={name:i,styles:o,next:Fl},i})}return kie[t]!==1&&!DW(t)&&typeof r=="number"&&r!==0?r+"px":r};function J0(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Fl={name:r.name,styles:r.styles,next:Fl},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Fl={name:n.name,styles:n.styles,next:Fl},n=n.next;var i=r.styles+";";return i}return Aie(e,t,r)}case"function":{if(e!==void 0){var o=Fl,s=r(e);return Fl=o,J0(e,t,s)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function Aie(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=J0(e,t,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":p3(s)&&(n+=pT(o)+":"+m3(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)p3(s[a])&&(n+=pT(o)+":"+m3(o,s[a])+";");else{var f=J0(e,t,s);switch(o){case"animation":case"animationName":{n+=pT(o)+":"+f+";";break}default:n+=o+"{"+f+"}"}}}return n}var g3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fl,OR=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Fl=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=J0(n,r,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=J0(n,r,t[a]),i&&(o+=s[a]);g3.lastIndex=0;for(var f="",h;(h=g3.exec(o))!==null;)f+="-"+h[1];var g=Cie(o)+f;return{name:g,styles:o,next:Fl}},Mie=function(t){return t()},LW=Y1["useInsertionEffect"]?Y1["useInsertionEffect"]:!1,Oie=LW||Mie,y3=LW||V.useLayoutEffect,NW=V.createContext(typeof HTMLElement<"u"?IW({key:"css"}):null),Iie=NW.Provider,zW=function(t){return V.forwardRef(function(r,n){var i=V.useContext(NW);return t(r,i,n)})},I2=V.createContext({}),Rie=zW(function(e,t){var r=e.styles,n=OR([r],void 0,V.useContext(I2)),i=V.useRef();return y3(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,f=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),f!==null&&(a=!0,f.setAttribute("data-emotion",o),s.hydrate([f])),i.current=[s,a],function(){s.flush()}},[t]),y3(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&$W(t,n.next,!0),s.tags.length){var f=s.tags[s.tags.length-1].nextElementSibling;s.before=f,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function $ie(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return OR(t)}var IR=function(){var t=$ie.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Die=Yne,Lie=function(t){return t!=="theme"},v3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Die:Lie},_3=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},Nie=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return RW(r,n,i),Oie(function(){return $W(r,n,i)}),null},zie=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,s;r!==void 0&&(o=r.label,s=r.target);var a=_3(t,r,n),f=a||v3(i),h=!f("as");return function(){var g=arguments,y=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{y.push(g[0][0]);for(var x=g.length,A=1;A<x;A++)y.push(g[A],g[0][A])}var T=zW(function(w,M,O){var I=h&&w.as||i,E="",R=[],N=w;if(w.theme==null){N={};for(var D in w)N[D]=w[D];N.theme=V.useContext(I2)}typeof w.className=="string"?E=Eie(M.registered,R,w.className):w.className!=null&&(E=w.className+" ");var F=OR(y.concat(R),M.registered,N);E+=M.key+"-"+F.name,s!==void 0&&(E+=" "+s);var q=h&&a===void 0?v3(I):f,J={};for(var Q in w)h&&Q==="as"||q(Q)&&(J[Q]=w[Q]);return J.className=E,J.ref=O,V.createElement(V.Fragment,null,V.createElement(Nie,{cache:M,serialized:F,isStringTag:typeof I=="string"}),V.createElement(I,J))});return T.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",T.defaultProps=t.defaultProps,T.__emotion_real=T,T.__emotion_base=i,T.__emotion_styles=y,T.__emotion_forwardProp=a,Object.defineProperty(T,"toString",{value:function(){return"."+s}}),T.withComponent=function(w,M){return e(w,bn({},r,M,{shouldForwardProp:_3(T,M,!0)})).apply(void 0,y)},T}},jie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],QA=zie.bind();jie.forEach(function(e){QA[e]=QA(e)});let eM;typeof document=="object"&&(eM=IW({key:"css",prepend:!0}));function Bie(e){const{injectFirst:t,children:r}=e;return t&&eM?B.jsx(Iie,{value:eM,children:r}):r}function Fie(e){return e==null||Object.keys(e).length===0}function Uie(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(Fie(i)?r:i):t;return B.jsx(Rie,{styles:n})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function jW(e,t){return QA(e,t)}const Vie=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(this,arguments)}function Hd(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const Wie=["values","unit","step"],qie=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>an({},r,{[n.key]:n.val}),{})};function Hie(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=Hd(e,Wie),o=qie(t),s=Object.keys(o);function a(x){return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${r})`}function f(x){return`@media (max-width:${(typeof t[x]=="number"?t[x]:x)-n/100}${r})`}function h(x,A){const T=s.indexOf(A);return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${r}) and (max-width:${(T!==-1&&typeof t[s[T]]=="number"?t[s[T]]:A)-n/100}${r})`}function g(x){return s.indexOf(x)+1<s.length?h(x,s[s.indexOf(x)+1]):a(x)}function y(x){const A=s.indexOf(x);return A===0?a(s[1]):A===s.length-1?f(s[A]):h(x,s[s.indexOf(x)+1]).replace("@media","@media not all and")}return an({keys:s,values:o,up:a,down:f,between:h,only:g,not:y,unit:r},i)}const Gie={borderRadius:4},Yie=Gie;function d0(e,t){return t?zo(e,t,{clone:!1}):e}const RR={xs:0,sm:600,md:900,lg:1200,xl:1536},x3={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${RR[e]}px)`};function Pa(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||x3;return t.reduce((s,a,f)=>(s[o.up(o.keys[f])]=r(t[f]),s),{})}if(typeof t=="object"){const o=n.breakpoints||x3;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||RR).indexOf(a)!==-1){const f=o.up(a);s[f]=r(t[a],a)}else{const f=a;s[f]=t[f]}return s},{})}return r(t)}function BW(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function FW(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function Kie(e,...t){const r=BW(e),n=[r,...t].reduce((i,o)=>zo(i,o),{});return FW(Object.keys(r),n)}function Zie(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,o)=>{o<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function eh({values:e,breakpoints:t,base:r}){const n=r||Zie(e,t),i=Object.keys(n);if(i.length===0)return e;let o;return i.reduce((s,a,f)=>(Array.isArray(e)?(s[a]=e[f]!=null?e[f]:e[o],o=f):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Jm(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function Mw(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=Jm(e,r)||n,t&&(i=t(i,n,e)),i}function sn(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],f=s.theme,h=Jm(f,n)||{};return Pa(s,a,y=>{let x=Mw(h,i,y);return y===x&&typeof y=="string"&&(x=Mw(h,i,`${t}${y==="default"?"":mt(y)}`,y)),r===!1?x:{[r]:x}})};return o.propTypes={},o.filterProps=[t],o}function Xie(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Jie={m:"margin",p:"padding"},Qie={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},b3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},eoe=Xie(e=>{if(e.length>2)if(b3[e])e=b3[e];else return[e];const[t,r]=e.split(""),n=Jie[t],i=Qie[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),$R=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],DR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$R,...DR];function H_(e,t,r,n){var i;const o=(i=Jm(e,t,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function LR(e){return H_(e,"spacing",8)}function mh(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function toe(e,t){return r=>e.reduce((n,i)=>(n[i]=mh(t,r),n),{})}function roe(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=eoe(r),o=toe(i,n),s=e[r];return Pa(e,s,o)}function UW(e,t){const r=LR(e.theme);return Object.keys(e).map(n=>roe(e,t,n,r)).reduce(d0,{})}function hi(e){return UW(e,$R)}hi.propTypes={};hi.filterProps=$R;function pi(e){return UW(e,DR)}pi.propTypes={};pi.filterProps=DR;function noe(e=8){if(e.mui)return e;const t=LR({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function R2(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?d0(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Wl(e){return typeof e!="number"?e:`${e}px solid`}const ioe=sn({prop:"border",themeKey:"borders",transform:Wl}),ooe=sn({prop:"borderTop",themeKey:"borders",transform:Wl}),aoe=sn({prop:"borderRight",themeKey:"borders",transform:Wl}),soe=sn({prop:"borderBottom",themeKey:"borders",transform:Wl}),loe=sn({prop:"borderLeft",themeKey:"borders",transform:Wl}),coe=sn({prop:"borderColor",themeKey:"palette"}),uoe=sn({prop:"borderTopColor",themeKey:"palette"}),doe=sn({prop:"borderRightColor",themeKey:"palette"}),foe=sn({prop:"borderBottomColor",themeKey:"palette"}),hoe=sn({prop:"borderLeftColor",themeKey:"palette"}),$2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=H_(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:mh(t,n)});return Pa(e,e.borderRadius,r)}return null};$2.propTypes={};$2.filterProps=["borderRadius"];R2(ioe,ooe,aoe,soe,loe,coe,uoe,doe,foe,hoe,$2);const D2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=H_(e.theme,"spacing",8),r=n=>({gap:mh(t,n)});return Pa(e,e.gap,r)}return null};D2.propTypes={};D2.filterProps=["gap"];const L2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=H_(e.theme,"spacing",8),r=n=>({columnGap:mh(t,n)});return Pa(e,e.columnGap,r)}return null};L2.propTypes={};L2.filterProps=["columnGap"];const N2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=H_(e.theme,"spacing",8),r=n=>({rowGap:mh(t,n)});return Pa(e,e.rowGap,r)}return null};N2.propTypes={};N2.filterProps=["rowGap"];const poe=sn({prop:"gridColumn"}),moe=sn({prop:"gridRow"}),goe=sn({prop:"gridAutoFlow"}),yoe=sn({prop:"gridAutoColumns"}),voe=sn({prop:"gridAutoRows"}),_oe=sn({prop:"gridTemplateColumns"}),xoe=sn({prop:"gridTemplateRows"}),boe=sn({prop:"gridTemplateAreas"}),woe=sn({prop:"gridArea"});R2(D2,L2,N2,poe,moe,goe,yoe,voe,_oe,xoe,boe,woe);function Pm(e,t){return t==="grey"?t:e}const Soe=sn({prop:"color",themeKey:"palette",transform:Pm}),Eoe=sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Pm}),Coe=sn({prop:"backgroundColor",themeKey:"palette",transform:Pm});R2(Soe,Eoe,Coe);function Va(e){return e<=1&&e!==0?`${e*100}%`:e}const koe=sn({prop:"width",transform:Va}),NR=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n;return{maxWidth:((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||RR[r]||Va(r)}};return Pa(e,e.maxWidth,t)}return null};NR.filterProps=["maxWidth"];const Toe=sn({prop:"minWidth",transform:Va}),Poe=sn({prop:"height",transform:Va}),Aoe=sn({prop:"maxHeight",transform:Va}),Moe=sn({prop:"minHeight",transform:Va});sn({prop:"size",cssProperty:"width",transform:Va});sn({prop:"size",cssProperty:"height",transform:Va});const Ooe=sn({prop:"boxSizing"});R2(koe,NR,Toe,Poe,Aoe,Moe,Ooe);const Ioe={border:{themeKey:"borders",transform:Wl},borderTop:{themeKey:"borders",transform:Wl},borderRight:{themeKey:"borders",transform:Wl},borderBottom:{themeKey:"borders",transform:Wl},borderLeft:{themeKey:"borders",transform:Wl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$2},color:{themeKey:"palette",transform:Pm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Pm},backgroundColor:{themeKey:"palette",transform:Pm},p:{style:pi},pt:{style:pi},pr:{style:pi},pb:{style:pi},pl:{style:pi},px:{style:pi},py:{style:pi},padding:{style:pi},paddingTop:{style:pi},paddingRight:{style:pi},paddingBottom:{style:pi},paddingLeft:{style:pi},paddingX:{style:pi},paddingY:{style:pi},paddingInline:{style:pi},paddingInlineStart:{style:pi},paddingInlineEnd:{style:pi},paddingBlock:{style:pi},paddingBlockStart:{style:pi},paddingBlockEnd:{style:pi},m:{style:hi},mt:{style:hi},mr:{style:hi},mb:{style:hi},ml:{style:hi},mx:{style:hi},my:{style:hi},margin:{style:hi},marginTop:{style:hi},marginRight:{style:hi},marginBottom:{style:hi},marginLeft:{style:hi},marginX:{style:hi},marginY:{style:hi},marginInline:{style:hi},marginInlineStart:{style:hi},marginInlineEnd:{style:hi},marginBlock:{style:hi},marginBlockStart:{style:hi},marginBlockEnd:{style:hi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:D2},rowGap:{style:N2},columnGap:{style:L2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Va},maxWidth:{style:NR},minWidth:{transform:Va},height:{transform:Va},maxHeight:{transform:Va},minHeight:{transform:Va},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},z2=Ioe;function Roe(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function $oe(e,t){return typeof e=="function"?e(t):e}function Doe(){function e(r,n,i,o){const s={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:f=r,themeKey:h,transform:g,style:y}=a;if(n==null)return null;if(h==="typography"&&n==="inherit")return{[r]:n};const x=Jm(i,h)||{};return y?y(s):Pa(s,n,T=>{let w=Mw(x,g,T);return T===w&&typeof T=="string"&&(w=Mw(x,g,`${r}${T==="default"?"":mt(T)}`,T)),f===!1?w:{[f]:w}})}function t(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const s=(n=o.unstable_sxConfig)!=null?n:z2;function a(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const g=BW(o.breakpoints),y=Object.keys(g);let x=g;return Object.keys(h).forEach(A=>{const T=$oe(h[A],o);if(T!=null)if(typeof T=="object")if(s[A])x=d0(x,e(A,T,o,s));else{const w=Pa({theme:o},T,M=>({[A]:M}));Roe(w,T)?x[A]=t({sx:T,theme:o}):x=d0(x,w)}else x=d0(x,e(A,T,o,s))}),FW(y,x)}return Array.isArray(i)?i.map(a):a(i)}return t}const VW=Doe();VW.filterProps=["sx"];const j2=VW,Loe=["breakpoints","palette","spacing","shape"];function G_(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=Hd(e,Loe),a=Hie(r),f=noe(i);let h=zo({breakpoints:a,direction:"ltr",components:{},palette:an({mode:"light"},n),spacing:f,shape:an({},Yie,o)},s);return h=t.reduce((g,y)=>zo(g,y),h),h.unstable_sxConfig=an({},z2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return j2({sx:y,theme:this})},h}function Noe(e){return Object.keys(e).length===0}function zR(e=null){const t=V.useContext(I2);return!t||Noe(t)?e:t}const zoe=G_();function B2(e=zoe){return zR(e)}function joe({styles:e,themeId:t,defaultTheme:r={}}){const n=B2(r),i=typeof e=="function"?e(t&&n[t]||n):e;return B.jsx(Uie,{styles:i})}const Boe=["sx"],Foe=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:z2;return Object.keys(e).forEach(o=>{i[o]?n.systemProps[o]=e[o]:n.otherProps[o]=e[o]}),n};function F2(e){const{sx:t}=e,r=Hd(e,Boe),{systemProps:n,otherProps:i}=Foe(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Nf(a)?an({},n,a):n}:o=an({},n,t),an({},i,{sx:o})}function WW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=WW(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function jR(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=WW(e))&&(n&&(n+=" "),n+=t);return n}const Uoe=["className","component"];function Voe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,o=jW("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(j2);return V.forwardRef(function(f,h){const g=B2(r),y=F2(f),{className:x,component:A="div"}=y,T=Hd(y,Uoe);return B.jsx(o,an({as:A,ref:h,className:jR(x,i?i(n):n),theme:t&&g[t]||g},T))})}const Woe=["variant"];function w3(e){return e.length===0}function qW(e){const{variant:t}=e,r=Hd(e,Woe);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=w3(n)?e[i]:mt(e[i]):n+=`${w3(n)?i:mt(i)}${mt(e[i].toString())}`}),n}const qoe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Hoe(e){return Object.keys(e).length===0}function Goe(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Yoe=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Koe=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const o=qW(i.props);n[o]=i.style}),n},Zoe=(e,t,r,n)=>{var i;const{ownerState:o={}}=e,s=[],a=r==null||(i=r.components)==null||(i=i[n])==null?void 0:i.variants;return a&&a.forEach(f=>{let h=!0;Object.keys(f.props).forEach(g=>{o[g]!==f.props[g]&&e[g]!==f.props[g]&&(h=!1)}),h&&s.push(t[qW(f.props)])}),s};function f0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Xoe=G_(),Joe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function pv({defaultTheme:e,theme:t,themeId:r}){return Hoe(t)?e:t[r]||t}function Qoe(e){return e?(t,r)=>r[e]:null}function HW(e={}){const{themeId:t,defaultTheme:r=Xoe,rootShouldForwardProp:n=f0,slotShouldForwardProp:i=f0}=e,o=s=>j2(an({},s,{theme:pv(an({},s,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{Vie(s,R=>R.filter(N=>!(N!=null&&N.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:x=Qoe(Joe(h))}=a,A=Hd(a,qoe),T=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,w=y||!1;let M,O=f0;h==="Root"||h==="root"?O=n:h?O=i:Goe(s)&&(O=void 0);const I=jW(s,an({shouldForwardProp:O,label:M},A)),E=(R,...N)=>{const D=N?N.map(Q=>typeof Q=="function"&&Q.__emotion_real!==Q?ae=>Q(an({},ae,{theme:pv(an({},ae,{defaultTheme:r,themeId:t}))})):Q):[];let F=R;f&&x&&D.push(Q=>{const ae=pv(an({},Q,{defaultTheme:r,themeId:t})),he=Yoe(f,ae);if(he){const fe={};return Object.entries(he).forEach(([we,ge])=>{fe[we]=typeof ge=="function"?ge(an({},Q,{theme:ae})):ge}),x(Q,fe)}return null}),f&&!T&&D.push(Q=>{const ae=pv(an({},Q,{defaultTheme:r,themeId:t}));return Zoe(Q,Koe(f,ae),ae,f)}),w||D.push(o);const q=D.length-N.length;if(Array.isArray(R)&&q>0){const Q=new Array(q).fill("");F=[...R,...Q],F.raw=[...R.raw,...Q]}else typeof R=="function"&&R.__emotion_real!==R&&(F=Q=>R(an({},Q,{theme:pv(an({},Q,{defaultTheme:r,themeId:t}))})));const J=I(F,...D);return s.muiName&&(J.muiName=s.muiName),J};return I.withConfig&&(E.withConfig=I.withConfig),E}}const eae=HW(),GW=eae;function tae(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:kR(t.components[r].defaultProps,n)}function BR({props:e,name:t,defaultTheme:r,themeId:n}){let i=B2(r);return n&&(i=i[n]||i),tae({theme:i,name:t,props:e})}function FR(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function rae(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function gh(e){if(e.type)return e;if(e.charAt(0)==="#")return gh(rae(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error($d(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error($d(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function U2(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function nae(e){e=gh(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(h,g=(h+r/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const f=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",f.push(t[3])),U2({type:a,values:f})}function tM(e){e=gh(e);let t=e.type==="hsl"||e.type==="hsla"?gh(nae(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function iae(e,t){const r=tM(e),n=tM(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Mn(e,t){return e=gh(e),t=FR(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,U2(e)}function UR(e,t){if(e=gh(e),t=FR(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return U2(e)}function VR(e,t){if(e=gh(e),t=FR(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return U2(e)}function oae(e,t=.15){return tM(e)>.5?UR(e,t):VR(e,t)}function rM(){return rM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rM.apply(this,arguments)}const aae=V.createContext(null),YW=aae;function WR(){return V.useContext(YW)}const sae=typeof Symbol=="function"&&Symbol.for,KW=sae?Symbol.for("mui.nested"):"__THEME_NESTED__";function lae(e,t){return typeof t=="function"?t(e):rM({},e,t)}function cae(e){const{children:t,theme:r}=e,n=WR(),i=V.useMemo(()=>{const o=n===null?r:lae(n,r);return o!=null&&(o[KW]=n!==null),o},[r,n]);return B.jsx(YW.Provider,{value:i,children:t})}const S3={};function E3(e,t,r,n=!1){return V.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const o=r(i),s=e?an({},t,{[e]:o}):o;return n?()=>s:s}return e?an({},t,{[e]:r}):an({},t,r)},[e,t,r,n])}function uae(e){const{children:t,theme:r,themeId:n}=e,i=zR(S3),o=WR()||S3,s=E3(n,i,r),a=E3(n,o,r,!0);return B.jsx(cae,{theme:a,children:B.jsx(I2.Provider,{value:s,children:t})})}const dae=["className","component","disableGutters","fixed","maxWidth","classes"],fae=G_(),hae=GW("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${mt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),pae=e=>BR({props:e,name:"MuiContainer",defaultTheme:fae}),mae=(e,t)=>{const r=f=>tr(t,f),{classes:n,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${mt(String(s))}`,i&&"fixed",o&&"disableGutters"]};return nr(a,r,n)};function gae(e={}){const{createStyledComponent:t=hae,useThemeProps:r=pae,componentName:n="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>an({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((f,h)=>{const g=h,y=s.breakpoints.values[g];return y!==0&&(f[s.breakpoints.up(g)]={maxWidth:`${y}${s.breakpoints.unit}`}),f},{}),({theme:s,ownerState:a})=>an({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return V.forwardRef(function(a,f){const h=r(a),{className:g,component:y="div",disableGutters:x=!1,fixed:A=!1,maxWidth:T="lg"}=h,w=Hd(h,dae),M=an({},h,{component:y,disableGutters:x,fixed:A,maxWidth:T}),O=mae(M,n);return B.jsx(i,an({as:y,ownerState:M,className:jR(O.root,g),ref:f},w))})}const yae=["component","direction","spacing","divider","children","className","useFlexGap"],vae=G_(),_ae=GW("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function xae(e){return BR({props:e,name:"MuiStack",defaultTheme:vae})}function bae(e,t){const r=V.Children.toArray(e).filter(Boolean);return r.reduce((n,i,o)=>(n.push(i),o<r.length-1&&n.push(V.cloneElement(t,{key:`separator-${o}`})),n),[])}const wae=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Sae=({ownerState:e,theme:t})=>{let r=an({display:"flex",flexDirection:"column"},Pa({theme:t},eh({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=LR(t),i=Object.keys(t.breakpoints.values).reduce((f,h)=>((typeof e.spacing=="object"&&e.spacing[h]!=null||typeof e.direction=="object"&&e.direction[h]!=null)&&(f[h]=!0),f),{}),o=eh({values:e.direction,base:i}),s=eh({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((f,h,g)=>{if(!o[f]){const x=h>0?o[g[h-1]]:"column";o[f]=x}}),r=zo(r,Pa({theme:t},s,(f,h)=>e.useFlexGap?{gap:mh(n,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${wae(h?o[h]:e.direction)}`]:mh(n,f)}}))}return r=Kie(t.breakpoints,r),r};function Eae(e={}){const{createStyledComponent:t=_ae,useThemeProps:r=xae,componentName:n="MuiStack"}=e,i=()=>nr({root:["root"]},f=>tr(n,f),{}),o=t(Sae);return V.forwardRef(function(f,h){const g=r(f),y=F2(g),{component:x="div",direction:A="column",spacing:T=0,divider:w,children:M,className:O,useFlexGap:I=!1}=y,E=Hd(y,yae),R={direction:A,spacing:T,useFlexGap:I},N=i();return B.jsx(o,an({as:x,ownerState:R,ref:h,className:jR(N.root,O)},E,{children:w?bae(M,w):M}))})}function Cae(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const kae=["mode","contrastThreshold","tonalOffset"],C3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hh.white,default:hh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},mT={text:{primary:hh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k3(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=VR(e.main,i):t==="dark"&&(e.dark=UR(e.main,o)))}function Tae(e="light"){return e==="dark"?{main:Pp[200],light:Pp[50],dark:Pp[400]}:{main:Pp[700],light:Pp[400],dark:Pp[800]}}function Pae(e="light"){return e==="dark"?{main:Tp[200],light:Tp[50],dark:Tp[400]}:{main:Tp[500],light:Tp[300],dark:Tp[700]}}function Aae(e="light"){return e==="dark"?{main:Vc[500],light:Vc[300],dark:Vc[700]}:{main:Vc[700],light:Vc[400],dark:Vc[800]}}function Mae(e="light"){return e==="dark"?{main:Ap[400],light:Ap[300],dark:Ap[700]}:{main:Ap[700],light:Ap[500],dark:Ap[900]}}function Oae(e="light"){return e==="dark"?{main:al[400],light:al[300],dark:al[700]}:{main:al[800],light:al[500],dark:al[900]}}function Iae(e="light"){return e==="dark"?{main:dv[400],light:dv[300],dark:dv[700]}:{main:"#ed6c02",light:dv[500],dark:dv[900]}}function Rae(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=Rt(e,kae),o=e.primary||Tae(t),s=e.secondary||Pae(t),a=e.error||Aae(t),f=e.info||Mae(t),h=e.success||Oae(t),g=e.warning||Iae(t);function y(w){return iae(w,mT.text.primary)>=r?mT.text.primary:C3.text.primary}const x=({color:w,name:M,mainShade:O=500,lightShade:I=300,darkShade:E=700})=>{if(w=oe({},w),!w.main&&w[O]&&(w.main=w[O]),!w.hasOwnProperty("main"))throw new Error($d(11,M?` (${M})`:"",O));if(typeof w.main!="string")throw new Error($d(12,M?` (${M})`:"",JSON.stringify(w.main)));return k3(w,"light",I,n),k3(w,"dark",E,n),w.contrastText||(w.contrastText=y(w.main)),w},A={dark:mT,light:C3};return zo(oe({common:oe({},hh),mode:t,primary:x({color:o,name:"primary"}),secondary:x({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:a,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:f,name:"info"}),success:x({color:h,name:"success"}),grey:Ql,contrastThreshold:r,getContrastText:y,augmentColor:x,tonalOffset:n},A[t]),i)}const $ae=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Dae(e){return Math.round(e*1e5)/1e5}const T3={textTransform:"uppercase"},P3='"Roboto", "Helvetica", "Arial", sans-serif';function Lae(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=P3,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:f=700,htmlFontSize:h=16,allVariants:g,pxToRem:y}=r,x=Rt(r,$ae),A=i/14,T=y||(O=>`${O/h*A}rem`),w=(O,I,E,R,N)=>oe({fontFamily:n,fontWeight:O,fontSize:T(I),lineHeight:E},n===P3?{letterSpacing:`${Dae(R/I)}em`}:{},N,g),M={h1:w(o,96,1.167,-1.5),h2:w(o,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(a,14,1.75,.4,T3),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,T3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zo(oe({htmlFontSize:h,pxToRem:T,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:f},M),x,{clone:!1})}const Nae=.2,zae=.14,jae=.12;function qn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Nae})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${zae})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${jae})`].join(",")}const Bae=["none",qn(0,2,1,-1,0,1,1,0,0,1,3,0),qn(0,3,1,-2,0,2,2,0,0,1,5,0),qn(0,3,3,-2,0,3,4,0,0,1,8,0),qn(0,2,4,-1,0,4,5,0,0,1,10,0),qn(0,3,5,-1,0,5,8,0,0,1,14,0),qn(0,3,5,-1,0,6,10,0,0,1,18,0),qn(0,4,5,-2,0,7,10,1,0,2,16,1),qn(0,5,5,-3,0,8,10,1,0,3,14,2),qn(0,5,6,-3,0,9,12,1,0,3,16,2),qn(0,6,6,-3,0,10,14,1,0,4,18,3),qn(0,6,7,-4,0,11,15,1,0,4,20,3),qn(0,7,8,-4,0,12,17,2,0,5,22,4),qn(0,7,8,-4,0,13,19,2,0,5,24,4),qn(0,7,9,-4,0,14,21,2,0,5,26,4),qn(0,8,9,-5,0,15,22,2,0,6,28,5),qn(0,8,10,-5,0,16,24,2,0,6,30,5),qn(0,8,11,-5,0,17,26,2,0,6,32,5),qn(0,9,11,-5,0,18,28,2,0,7,34,6),qn(0,9,12,-6,0,19,29,2,0,7,36,6),qn(0,10,13,-6,0,20,31,3,0,8,38,7),qn(0,10,13,-6,0,21,33,3,0,8,40,7),qn(0,10,14,-6,0,22,35,3,0,8,42,7),qn(0,11,14,-7,0,23,36,3,0,9,44,8),qn(0,11,15,-7,0,24,38,3,0,9,46,8)],Fae=Bae,Uae=["duration","easing","delay"],Vae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ZW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function A3(e){return`${Math.round(e)}ms`}function Wae(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function qae(e){const t=oe({},Vae,e.easing),r=oe({},ZW,e.duration);return oe({getAutoHeightDuration:Wae,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:a=t.easeInOut,delay:f=0}=o;return Rt(o,Uae),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:A3(s)} ${a} ${typeof f=="string"?f:A3(f)}`).join(",")}},e,{easing:t,duration:r})}const Hae={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Gae=Hae,Yae=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function qR(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,s=Rt(e,Yae);if(e.vars)throw new Error($d(18));const a=Rae(n),f=G_(e);let h=zo(f,{mixins:Cae(f.breakpoints,r),palette:a,shadows:Fae.slice(),typography:Lae(a,o),transitions:qae(i),zIndex:oe({},Gae)});return h=zo(h,s),h=t.reduce((g,y)=>zo(g,y),h),h.unstable_sxConfig=oe({},z2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return j2({sx:y,theme:this})},h}const Kae=qR(),V2=Kae;function xu(){const e=B2(V2);return e[ph]||e}function or({props:e,name:t}){return BR({props:e,name:t,defaultTheme:V2,themeId:ph})}const Ds=e=>f0(e)&&e!=="classes",Zae=f0,Xae=HW({themeId:ph,defaultTheme:V2,rootShouldForwardProp:Ds}),vt=Xae,Jae=["theme"];function Qae(e){let{theme:t}=e,r=Rt(e,Jae);const n=t[ph];return B.jsx(uae,oe({},r,{themeId:n?ph:void 0,theme:n||t}))}const ese=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},M3=ese;function XW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=XW(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Lt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=XW(e))&&(n&&(n+=" "),n+=t);return n}function tse(e){return tr("MuiSvgIcon",e)}ir("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nse=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${mt(t)}`,`fontSize${mt(r)}`]};return nr(i,tse,n)},ise=vt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${mt(r.color)}`],t[`fontSize${mt(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,s,a,f,h,g,y,x,A,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(f=a.pxToRem)==null?void 0:f.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(y=(x=(e.vars||e).palette)==null||(x=x[t.color])==null?void 0:x.main)!=null?y:{action:(A=(e.vars||e).palette)==null||(A=A.action)==null?void 0:A.active,disabled:(T=(e.vars||e).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[t.color]}}),JW=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:y,viewBox:x="0 0 24 24"}=n,A=Rt(n,rse),T=V.isValidElement(i)&&i.type==="svg",w=oe({},n,{color:s,component:a,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:T}),M={};g||(M.viewBox=x);const O=nse(w);return B.jsxs(ise,oe({as:a,className:Lt(O.root,o),focusable:"false",color:h,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:r},M,A,T&&i.props,{ownerState:w,children:[T?i.props.children:i,y?B.jsx("title",{children:y}):null]}))});JW.muiName="SvgIcon";const O3=JW;function Lg(e,t){function r(n,i){return B.jsx(O3,oe({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=O3.muiName,V.memo(V.forwardRef(r))}const ose={configure:e=>{TR.configure(e)}},ase=Object.freeze(Object.defineProperty({__proto__:null,capitalize:mt,createChainedFunction:KA,createSvgIcon:Lg,debounce:ER,deprecatedPropType:Ine,isMuiElement:D1,ownerDocument:Fi,ownerWindow:Dd,requirePropFactory:Rne,setRef:Pw,unstable_ClassNameGenerator:ose,unstable_useEnhancedEffect:yl,unstable_useId:CR,unsupportedProp:Lne,useControlled:Zm,useEventCallback:dl,useForkRef:ci,useIsFocusVisible:P2},Symbol.toStringTag,{value:"Module"}));var Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=Symbol.for("react.element"),GR=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),H2=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),sse=Symbol.for("react.server_context"),K2=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),X2=Symbol.for("react.suspense_list"),J2=Symbol.for("react.memo"),Q2=Symbol.for("react.lazy"),lse=Symbol.for("react.offscreen"),QW;QW=Symbol.for("react.module.reference");function Ls(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case HR:switch(e=e.type,e){case W2:case H2:case q2:case Z2:case X2:return e;default:switch(e=e&&e.$$typeof,e){case sse:case Y2:case K2:case Q2:case J2:case G2:return e;default:return t}}case GR:return t}}}Sn.ContextConsumer=Y2;Sn.ContextProvider=G2;Sn.Element=HR;Sn.ForwardRef=K2;Sn.Fragment=W2;Sn.Lazy=Q2;Sn.Memo=J2;Sn.Portal=GR;Sn.Profiler=H2;Sn.StrictMode=q2;Sn.Suspense=Z2;Sn.SuspenseList=X2;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(e){return Ls(e)===Y2};Sn.isContextProvider=function(e){return Ls(e)===G2};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===HR};Sn.isForwardRef=function(e){return Ls(e)===K2};Sn.isFragment=function(e){return Ls(e)===W2};Sn.isLazy=function(e){return Ls(e)===Q2};Sn.isMemo=function(e){return Ls(e)===J2};Sn.isPortal=function(e){return Ls(e)===GR};Sn.isProfiler=function(e){return Ls(e)===H2};Sn.isStrictMode=function(e){return Ls(e)===q2};Sn.isSuspense=function(e){return Ls(e)===Z2};Sn.isSuspenseList=function(e){return Ls(e)===X2};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===W2||e===H2||e===q2||e===Z2||e===X2||e===lse||typeof e=="object"&&e!==null&&(e.$$typeof===Q2||e.$$typeof===J2||e.$$typeof===G2||e.$$typeof===Y2||e.$$typeof===K2||e.$$typeof===QW||e.getModuleId!==void 0)};Sn.typeOf=Ls;function nM(e,t){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nM(e,t)}function Y_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nM(e,t)}const I3={disabled:!1},Ow=De.createContext(null);var cse=function(t){return t.scrollTop},Gv="unmounted",Mf="exited",Of="entering",qp="entered",iM="exiting",bu=function(e){Y_(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,f;return o.appearStatus=null,n.in?a?(f=Mf,o.appearStatus=Of):f=qp:n.unmountOnExit||n.mountOnEnter?f=Gv:f=Mf,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Gv?{status:Mf}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Of&&s!==qp&&(o=Of):(s===Of||s===qp)&&(o=iM)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Of){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Bb.findDOMNode(this);s&&cse(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mf&&this.setState({status:Gv})},r.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,f=this.props.nodeRef?[a]:[Bb.findDOMNode(this),a],h=f[0],g=f[1],y=this.getTimeouts(),x=a?y.appear:y.enter;if(!i&&!s||I3.disabled){this.safeSetState({status:qp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Of},function(){o.props.onEntering(h,g),o.onTransitionEnd(x,function(){o.safeSetState({status:qp},function(){o.props.onEntered(h,g)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Bb.findDOMNode(this);if(!o||I3.disabled){this.safeSetState({status:Mf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:iM},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Mf},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Bb.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Gv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=W_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return De.createElement(Ow.Provider,{value:null},typeof s=="function"?s(i,a):De.cloneElement(De.Children.only(s),a))},t}(De.Component);bu.contextType=Ow;bu.propTypes={};function Op(){}bu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Op,onEntering:Op,onEntered:Op,onExit:Op,onExiting:Op,onExited:Op};bu.UNMOUNTED=Gv;bu.EXITED=Mf;bu.ENTERING=Of;bu.ENTERED=qp;bu.EXITING=iM;const YR=bu;function Q0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KR(e,t){var r=function(o){return t&&V.isValidElement(o)?t(o):o},n=Object.create(null);return e&&V.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function use(e,t){e=e||{},t=t||{};function r(g){return g in t?t[g]:e[g]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var f in t){if(n[f])for(s=0;s<n[f].length;s++){var h=n[f][s];a[n[f][s]]=r(h)}a[f]=r(f)}for(s=0;s<i.length;s++)a[i[s]]=r(i[s]);return a}function Vf(e,t,r){return r[t]!=null?r[t]:e.props[t]}function dse(e,t){return KR(e.children,function(r){return V.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Vf(r,"appear",e),enter:Vf(r,"enter",e),exit:Vf(r,"exit",e)})})}function fse(e,t,r){var n=KR(e.children),i=use(t,n);return Object.keys(i).forEach(function(o){var s=i[o];if(V.isValidElement(s)){var a=o in t,f=o in n,h=t[o],g=V.isValidElement(h)&&!h.props.in;f&&(!a||g)?i[o]=V.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:Vf(s,"exit",e),enter:Vf(s,"enter",e)}):!f&&a&&!g?i[o]=V.cloneElement(s,{in:!1}):f&&a&&V.isValidElement(h)&&(i[o]=V.cloneElement(s,{onExited:r.bind(null,s),in:h.props.in,exit:Vf(s,"exit",e),enter:Vf(s,"enter",e)}))}}),i}var hse=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},pse={component:"div",childFactory:function(t){return t}},ZR=function(e){Y_(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=o.handleExited.bind(Q0(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,f=o.firstRender;return{children:f?dse(i,a):fse(i,s,a),firstRender:!1}},r.handleExited=function(i,o){var s=KR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var f=bn({},a.children);return delete f[i.key],{children:f}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=W_(i,["component","childFactory"]),f=this.state.contextValue,h=hse(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?De.createElement(Ow.Provider,{value:f},h):De.createElement(Ow.Provider,{value:f},De.createElement(o,a,h))},t}(De.Component);ZR.propTypes={};ZR.defaultProps=pse;const mse=ZR,e9=e=>e.scrollTop;function Qm(e,t){var r,n;const{timeout:i,easing:o,style:s={}}=e;return{duration:(r=s.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=s.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function gse(e){return tr("MuiCollapse",e)}ir("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const yse=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],vse=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return nr(n,gse,r)},_se=vt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>oe({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&oe({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),xse=vt("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>oe({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),bse=vt("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>oe({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),t9=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:f,easing:h,in:g,onEnter:y,onEntered:x,onEntering:A,onExit:T,onExited:w,onExiting:M,orientation:O="vertical",style:I,timeout:E=ZW.standard,TransitionComponent:R=YR}=n,N=Rt(n,yse),D=oe({},n,{orientation:O,collapsedSize:a}),F=vse(D),q=xu(),J=V.useRef(),Q=V.useRef(null),ae=V.useRef(),he=typeof a=="number"?`${a}px`:a,fe=O==="horizontal",we=fe?"width":"height";V.useEffect(()=>()=>{clearTimeout(J.current)},[]);const ge=V.useRef(null),Ce=ci(r,ge),Te=Be=>lt=>{if(Be){const it=ge.current;lt===void 0?Be(it):Be(it,lt)}},Ee=()=>Q.current?Q.current[fe?"clientWidth":"clientHeight"]:0,Oe=Te((Be,lt)=>{Q.current&&fe&&(Q.current.style.position="absolute"),Be.style[we]=he,y&&y(Be,lt)}),qe=Te((Be,lt)=>{const it=Ee();Q.current&&fe&&(Q.current.style.position="");const{duration:Ve,easing:Xe}=Qm({style:I,timeout:E,easing:h},{mode:"enter"});if(E==="auto"){const ct=q.transitions.getAutoHeightDuration(it);Be.style.transitionDuration=`${ct}ms`,ae.current=ct}else Be.style.transitionDuration=typeof Ve=="string"?Ve:`${Ve}ms`;Be.style[we]=`${it}px`,Be.style.transitionTimingFunction=Xe,A&&A(Be,lt)}),rt=Te((Be,lt)=>{Be.style[we]="auto",x&&x(Be,lt)}),Pe=Te(Be=>{Be.style[we]=`${Ee()}px`,T&&T(Be)}),je=Te(w),Le=Te(Be=>{const lt=Ee(),{duration:it,easing:Ve}=Qm({style:I,timeout:E,easing:h},{mode:"exit"});if(E==="auto"){const Xe=q.transitions.getAutoHeightDuration(lt);Be.style.transitionDuration=`${Xe}ms`,ae.current=Xe}else Be.style.transitionDuration=typeof it=="string"?it:`${it}ms`;Be.style[we]=he,Be.style.transitionTimingFunction=Ve,M&&M(Be)}),Ye=Be=>{E==="auto"&&(J.current=setTimeout(Be,ae.current||0)),i&&i(ge.current,Be)};return B.jsx(R,oe({in:g,onEnter:Oe,onEntered:rt,onEntering:qe,onExit:Pe,onExited:je,onExiting:Le,addEndListener:Ye,nodeRef:ge,timeout:E==="auto"?null:E},N,{children:(Be,lt)=>B.jsx(_se,oe({as:f,className:Lt(F.root,s,{entered:F.entered,exited:!g&&he==="0px"&&F.hidden}[Be]),style:oe({[fe?"minWidth":"minHeight"]:he},I),ownerState:oe({},D,{state:Be}),ref:Ce},lt,{children:B.jsx(xse,{ownerState:oe({},D,{state:Be}),className:F.wrapper,ref:Q,children:B.jsx(bse,{ownerState:oe({},D,{state:Be}),className:F.wrapperInner,children:o})})}))}))});t9.muiSupportAuto=!0;const wse=t9;function Sse(e){return tr("MuiPaper",e)}ir("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ese=["className","component","elevation","square","variant"],Cse=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return nr(o,Sse,i)},kse=vt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return oe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Mn("#fff",M3(t.elevation))}, ${Mn("#fff",M3(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),Tse=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:f="elevation"}=n,h=Rt(n,Ese),g=oe({},n,{component:o,elevation:s,square:a,variant:f}),y=Cse(g);return B.jsx(kse,oe({as:o,ownerState:g,className:Lt(y.root,i),ref:r},h))}),vl=Tse,Pse=V.createContext({}),r9=Pse;function Ase(e){return tr("MuiAccordion",e)}const Mse=ir("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Vb=Mse,Ose=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Ise=e=>{const{classes:t,square:r,expanded:n,disabled:i,disableGutters:o}=e;return nr({root:["root",!r&&"rounded",n&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Ase,t)},Rse=vt(vl,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Vb.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${Vb.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${Vb.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>oe({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${Vb.expanded}`]:{margin:"16px 0"}})),$se=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:f=!1,expanded:h,onChange:g,square:y=!1,TransitionComponent:x=wse,TransitionProps:A}=n,T=Rt(n,Ose),[w,M]=Zm({controlled:h,default:s,name:"Accordion",state:"expanded"}),O=V.useCallback(F=>{M(!w),g&&g(F,!w)},[w,g,M]),[I,...E]=V.Children.toArray(i),R=V.useMemo(()=>({expanded:w,disabled:a,disableGutters:f,toggle:O}),[w,a,f,O]),N=oe({},n,{square:y,disabled:a,disableGutters:f,expanded:w}),D=Ise(N);return B.jsxs(Rse,oe({className:Lt(D.root,o),ref:r,ownerState:N,square:y},T,{children:[B.jsx(r9.Provider,{value:R,children:I}),B.jsx(x,oe({in:w,timeout:"auto"},A,{children:B.jsx("div",{"aria-labelledby":I.props.id,id:I.props["aria-controls"],role:"region",className:D.region,children:E})}))]}))}),yh=$se;function Dse(e){return tr("MuiAccordionDetails",e)}ir("MuiAccordionDetails",["root"]);const Lse=["className"],Nse=e=>{const{classes:t}=e;return nr({root:["root"]},Dse,t)},zse=vt("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),jse=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiAccordionDetails"}),{className:i}=n,o=Rt(n,Lse),s=n,a=Nse(s);return B.jsx(zse,oe({className:Lt(a.root,i),ref:r,ownerState:s},o))}),vh=jse;function Bse(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:f,timeout:h}=e,[g,y]=V.useState(!1),x=Lt(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),A={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},T=Lt(r.child,g&&r.childLeaving,n&&r.childPulsate);return!a&&!g&&y(!0),V.useEffect(()=>{if(!a&&f!=null){const w=setTimeout(f,h);return()=>{clearTimeout(w)}}},[f,a,h]),B.jsx("span",{className:x,style:A,children:B.jsx("span",{className:T})})}const Fse=ir("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ms=Fse,Use=["center","classes","className"];let eE=e=>e,R3,$3,D3,L3;const oM=550,Vse=80,Wse=IR(R3||(R3=eE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),qse=IR($3||($3=eE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Hse=IR(D3||(D3=eE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Gse=vt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Yse=vt(Bse,{name:"MuiTouchRipple",slot:"Ripple"})(L3||(L3=eE`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ms.rippleVisible,Wse,oM,({theme:e})=>e.transitions.easing.easeInOut,ms.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ms.child,ms.childLeaving,qse,oM,({theme:e})=>e.transitions.easing.easeInOut,ms.childPulsate,Hse,({theme:e})=>e.transitions.easing.easeInOut),Kse=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,a=Rt(n,Use),[f,h]=V.useState([]),g=V.useRef(0),y=V.useRef(null);V.useEffect(()=>{y.current&&(y.current(),y.current=null)},[f]);const x=V.useRef(!1),A=V.useRef(0),T=V.useRef(null),w=V.useRef(null);V.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]);const M=V.useCallback(R=>{const{pulsate:N,rippleX:D,rippleY:F,rippleSize:q,cb:J}=R;h(Q=>[...Q,B.jsx(Yse,{classes:{ripple:Lt(o.ripple,ms.ripple),rippleVisible:Lt(o.rippleVisible,ms.rippleVisible),ripplePulsate:Lt(o.ripplePulsate,ms.ripplePulsate),child:Lt(o.child,ms.child),childLeaving:Lt(o.childLeaving,ms.childLeaving),childPulsate:Lt(o.childPulsate,ms.childPulsate)},timeout:oM,pulsate:N,rippleX:D,rippleY:F,rippleSize:q},g.current)]),g.current+=1,y.current=J},[o]),O=V.useCallback((R={},N={},D=()=>{})=>{const{pulsate:F=!1,center:q=i||N.pulsate,fakeElement:J=!1}=N;if((R==null?void 0:R.type)==="mousedown"&&x.current){x.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(x.current=!0);const Q=J?null:w.current,ae=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let he,fe,we;if(q||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)he=Math.round(ae.width/2),fe=Math.round(ae.height/2);else{const{clientX:ge,clientY:Ce}=R.touches&&R.touches.length>0?R.touches[0]:R;he=Math.round(ge-ae.left),fe=Math.round(Ce-ae.top)}if(q)we=Math.sqrt((2*ae.width**2+ae.height**2)/3),we%2===0&&(we+=1);else{const ge=Math.max(Math.abs((Q?Q.clientWidth:0)-he),he)*2+2,Ce=Math.max(Math.abs((Q?Q.clientHeight:0)-fe),fe)*2+2;we=Math.sqrt(ge**2+Ce**2)}R!=null&&R.touches?T.current===null&&(T.current=()=>{M({pulsate:F,rippleX:he,rippleY:fe,rippleSize:we,cb:D})},A.current=setTimeout(()=>{T.current&&(T.current(),T.current=null)},Vse)):M({pulsate:F,rippleX:he,rippleY:fe,rippleSize:we,cb:D})},[i,M]),I=V.useCallback(()=>{O({},{pulsate:!0})},[O]),E=V.useCallback((R,N)=>{if(clearTimeout(A.current),(R==null?void 0:R.type)==="touchend"&&T.current){T.current(),T.current=null,A.current=setTimeout(()=>{E(R,N)});return}T.current=null,h(D=>D.length>0?D.slice(1):D),y.current=N},[]);return V.useImperativeHandle(r,()=>({pulsate:I,start:O,stop:E}),[I,O,E]),B.jsx(Gse,oe({className:Lt(ms.root,o.root,s),ref:w},a,{children:B.jsx(mse,{component:null,exit:!0,children:f})}))}),Zse=Kse;function Xse(e){return tr("MuiButtonBase",e)}const Jse=ir("MuiButtonBase",["root","disabled","focusVisible"]),Qse=Jse,ele=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],tle=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,s=nr({root:["root",t&&"disabled",r&&"focusVisible"]},Xse,i);return r&&n&&(s.root+=` ${n}`),s},rle=vt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Qse.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nle=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:f="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:y=!1,focusRipple:x=!1,LinkComponent:A="a",onBlur:T,onClick:w,onContextMenu:M,onDragLeave:O,onFocus:I,onFocusVisible:E,onKeyDown:R,onKeyUp:N,onMouseDown:D,onMouseLeave:F,onMouseUp:q,onTouchEnd:J,onTouchMove:Q,onTouchStart:ae,tabIndex:he=0,TouchRippleProps:fe,touchRippleRef:we,type:ge}=n,Ce=Rt(n,ele),Te=V.useRef(null),Ee=V.useRef(null),Oe=ci(Ee,we),{isFocusVisibleRef:qe,onFocus:rt,onBlur:Pe,ref:je}=P2(),[Le,Ye]=V.useState(!1);h&&Le&&Ye(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{Ye(!0),Te.current.focus()}}),[]);const[Be,lt]=V.useState(!1);V.useEffect(()=>{lt(!0)},[]);const it=Be&&!g&&!h;V.useEffect(()=>{Le&&x&&!g&&Be&&Ee.current.pulsate()},[g,x,Le,Be]);function Ve(Jt,Ke,At=y){return dl($t=>(Ke&&Ke($t),!At&&Ee.current&&Ee.current[Jt]($t),!0))}const Xe=Ve("start",D),ct=Ve("stop",M),Fe=Ve("stop",O),Me=Ve("stop",q),Et=Ve("stop",Jt=>{Le&&Jt.preventDefault(),F&&F(Jt)}),Zt=Ve("start",ae),Ot=Ve("stop",J),jt=Ve("stop",Q),Mr=Ve("stop",Jt=>{Pe(Jt),qe.current===!1&&Ye(!1),T&&T(Jt)},!1),Hr=dl(Jt=>{Te.current||(Te.current=Jt.currentTarget),rt(Jt),qe.current===!0&&(Ye(!0),E&&E(Jt)),I&&I(Jt)}),pr=()=>{const Jt=Te.current;return f&&f!=="button"&&!(Jt.tagName==="A"&&Jt.href)},Sr=V.useRef(!1),cr=dl(Jt=>{x&&!Sr.current&&Le&&Ee.current&&Jt.key===" "&&(Sr.current=!0,Ee.current.stop(Jt,()=>{Ee.current.start(Jt)})),Jt.target===Jt.currentTarget&&pr()&&Jt.key===" "&&Jt.preventDefault(),R&&R(Jt),Jt.target===Jt.currentTarget&&pr()&&Jt.key==="Enter"&&!h&&(Jt.preventDefault(),w&&w(Jt))}),Er=dl(Jt=>{x&&Jt.key===" "&&Ee.current&&Le&&!Jt.defaultPrevented&&(Sr.current=!1,Ee.current.stop(Jt,()=>{Ee.current.pulsate(Jt)})),N&&N(Jt),w&&Jt.target===Jt.currentTarget&&pr()&&Jt.key===" "&&!Jt.defaultPrevented&&w(Jt)});let un=f;un==="button"&&(Ce.href||Ce.to)&&(un=A);const ut={};un==="button"?(ut.type=ge===void 0?"button":ge,ut.disabled=h):(!Ce.href&&!Ce.to&&(ut.role="button"),h&&(ut["aria-disabled"]=h));const Ir=ci(r,je,Te),en=oe({},n,{centerRipple:o,component:f,disabled:h,disableRipple:g,disableTouchRipple:y,focusRipple:x,tabIndex:he,focusVisible:Le}),mr=tle(en);return B.jsxs(rle,oe({as:un,className:Lt(mr.root,a),ownerState:en,onBlur:Mr,onClick:w,onContextMenu:ct,onFocus:Hr,onKeyDown:cr,onKeyUp:Er,onMouseDown:Xe,onMouseLeave:Et,onMouseUp:Me,onDragLeave:Fe,onTouchEnd:Ot,onTouchMove:jt,onTouchStart:Zt,ref:Ir,tabIndex:h?-1:he,type:ge},ut,Ce,{children:[s,it?B.jsx(Zse,oe({ref:Oe,center:o},fe)):null]}))}),Ng=nle;function ile(e){return tr("MuiAccordionSummary",e)}const ole=ir("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),sm=ole,ale=["children","className","expandIcon","focusVisibleClassName","onClick"],sle=e=>{const{classes:t,expanded:r,disabled:n,disableGutters:i}=e;return nr({root:["root",r&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},ile,t)},lle=vt(Ng,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const r={duration:e.transitions.duration.shortest};return oe({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],r),[`&.${sm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${sm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${sm.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${sm.expanded}`]:{minHeight:64}})}),cle=vt("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>oe({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${sm.expanded}`]:{margin:"20px 0"}})),ule=vt("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${sm.expanded}`]:{transform:"rotate(180deg)"}})),dle=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:f}=n,h=Rt(n,ale),{disabled:g=!1,disableGutters:y,expanded:x,toggle:A}=V.useContext(r9),T=O=>{A&&A(O),f&&f(O)},w=oe({},n,{expanded:x,disabled:g,disableGutters:y}),M=sle(w);return B.jsxs(lle,oe({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":x,className:Lt(M.root,o),focusVisibleClassName:Lt(M.focusVisible,a),onClick:T,ref:r,ownerState:w},h,{children:[B.jsx(cle,{className:M.content,ownerState:w,children:i}),s&&B.jsx(ule,{className:M.expandIconWrapper,ownerState:w,children:s})]}))}),_h=dle;function fle(e){return tr("MuiIconButton",e)}const hle=ir("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ple=hle,mle=["edge","children","className","color","disabled","disableFocusRipple","size"],gle=e=>{const{classes:t,disabled:r,color:n,edge:i,size:o}=e,s={root:["root",r&&"disabled",n!=="default"&&`color${mt(n)}`,i&&`edge${mt(i)}`,`size${mt(o)}`]};return nr(s,fle,t)},yle=vt(Ng,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${mt(r.color)}`],r.edge&&t[`edge${mt(r.edge)}`],t[`size${mt(r.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Mn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":oe({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Mn(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${ple.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),vle=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:f=!1,disableFocusRipple:h=!1,size:g="medium"}=n,y=Rt(n,mle),x=oe({},n,{edge:i,color:a,disabled:f,disableFocusRipple:h,size:g}),A=gle(x);return B.jsx(yle,oe({className:Lt(A.root,s),centerRipple:!0,focusRipple:!h,disabled:f,ref:r,ownerState:x},y,{children:o}))}),Vr=vle;function _le(e){return tr("MuiTypography",e)}ir("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const xle=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ble=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${mt(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return nr(a,_le,s)},wle=vt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${mt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>oe({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),N3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Sle={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ele=e=>Sle[e]||e,Cle=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTypography"}),i=Ele(n.color),o=F2(oe({},n,{color:i})),{align:s="inherit",className:a,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:x="body1",variantMapping:A=N3}=o,T=Rt(o,xle),w=oe({},o,{align:s,color:i,className:a,component:f,gutterBottom:h,noWrap:g,paragraph:y,variant:x,variantMapping:A}),M=f||(y?"p":A[x]||N3[x])||"span",O=ble(w);return B.jsx(wle,oe({as:M,ref:r,ownerState:w,className:Lt(O.root,a)},T))}),Or=Cle;function kle(e){return tr("MuiAppBar",e)}ir("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const Tle=["className","color","enableColorOnDark","position"],Ple=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${mt(t)}`,`position${mt(r)}`]};return nr(i,kle,n)},Wb=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Ale=vt(vl,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${mt(r.position)}`],t[`color${mt(r.color)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return oe({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&oe({},t.color==="default"&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&oe({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&oe({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Wb(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Wb(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Wb(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Wb(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Mle=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=n,f=Rt(n,Tle),h=oe({},n,{color:o,position:a,enableColorOnDark:s}),g=Ple(h);return B.jsx(Ale,oe({square:!0,component:"header",ownerState:h,elevation:4,className:Lt(g.root,i,a==="fixed"&&"mui-fixed"),ref:r},f))}),XR=Mle;function e_(e){return typeof e=="string"}function Yv(e,t,r){return e===void 0||e_(e)?t:oe({},t,{ownerState:oe({},t.ownerState,r)})}const Ole={disableDefaultClasses:!1},Ile=V.createContext(Ole);function n9(e){const{disableDefaultClasses:t}=V.useContext(Ile);return r=>t?"":e(r)}function JR(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function aM(e,t,r){return typeof e=="function"?e(t,r):e}function z3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Rle(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const A=Lt(i==null?void 0:i.className,n==null?void 0:n.className,o,r==null?void 0:r.className),T=oe({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),w=oe({},r,i,n);return A.length>0&&(w.className=A),Object.keys(T).length>0&&(w.style=T),{props:w,internalRef:void 0}}const s=JR(oe({},i,n)),a=z3(n),f=z3(i),h=t(s),g=Lt(h==null?void 0:h.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),y=oe({},h==null?void 0:h.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),x=oe({},h,r,f,a);return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:h.ref}}const $le=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function oc(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=Rt(e,$le),a=o?{}:aM(n,i),{props:f,internalRef:h}=Rle(oe({},s,{externalSlotProps:a})),g=ci(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return Yv(r,oe({},f,{ref:g}),i)}function Dle(e){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:i=!1}=e,o=SW({badgeContent:t,max:n});let s=r;r===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:f=n}=s?o:e,h=a&&Number(a)>f?`${f}+`:a;return{badgeContent:a,invisible:s,max:f,displayValue:h}}function j3(e){return e.substring(2).toLowerCase()}function Lle(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Nle(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=V.useRef(!1),a=V.useRef(null),f=V.useRef(!1),h=V.useRef(!1);V.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const g=ci(t.ref,a),y=dl(T=>{const w=h.current;h.current=!1;const M=Fi(a.current);if(!f.current||!a.current||"clientX"in T&&Lle(T,M))return;if(s.current){s.current=!1;return}let O;T.composedPath?O=T.composedPath().indexOf(a.current)>-1:O=!M.documentElement.contains(T.target)||a.current.contains(T.target),!O&&(r||!w)&&i(T)}),x=T=>w=>{h.current=!0;const M=t.props[T];M&&M(w)},A={ref:g};return o!==!1&&(A[o]=x(o)),V.useEffect(()=>{if(o!==!1){const T=j3(o),w=Fi(a.current),M=()=>{s.current=!0};return w.addEventListener(T,y),w.addEventListener("touchmove",M),()=>{w.removeEventListener(T,y),w.removeEventListener("touchmove",M)}}},[y,o]),n!==!1&&(A[n]=x(n)),V.useEffect(()=>{if(n!==!1){const T=j3(n),w=Fi(a.current);return w.addEventListener(T,y),()=>{w.removeEventListener(T,y)}}},[y,n]),B.jsx(V.Fragment,{children:V.cloneElement(t,A)})}const zle=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function jle(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Ble(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function Fle(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Ble(e))}function Ule(e){const t=[],r=[];return Array.from(e.querySelectorAll(zle)).forEach((n,i)=>{const o=jle(n);o===-1||!Fle(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function Vle(){return!0}function Wle(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=Ule,isEnabled:s=Vle,open:a}=e,f=V.useRef(!1),h=V.useRef(null),g=V.useRef(null),y=V.useRef(null),x=V.useRef(null),A=V.useRef(!1),T=V.useRef(null),w=ci(t.ref,T),M=V.useRef(null);V.useEffect(()=>{!a||!T.current||(A.current=!r)},[r,a]),V.useEffect(()=>{if(!a||!T.current)return;const E=Fi(T.current);return T.current.contains(E.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),A.current&&T.current.focus()),()=>{i||(y.current&&y.current.focus&&(f.current=!0,y.current.focus()),y.current=null)}},[a]),V.useEffect(()=>{if(!a||!T.current)return;const E=Fi(T.current),R=F=>{const{current:q}=T;if(q!==null){if(!E.hasFocus()||n||!s()||f.current){f.current=!1;return}if(!q.contains(E.activeElement)){if(F&&x.current!==F.target||E.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!A.current)return;let ae=[];if((E.activeElement===h.current||E.activeElement===g.current)&&(ae=o(T.current)),ae.length>0){var J,Q;const he=!!((J=M.current)!=null&&J.shiftKey&&((Q=M.current)==null?void 0:Q.key)==="Tab"),fe=ae[0],we=ae[ae.length-1];typeof fe!="string"&&typeof we!="string"&&(he?we.focus():fe.focus())}else q.focus()}}},N=F=>{M.current=F,!(n||!s()||F.key!=="Tab")&&E.activeElement===T.current&&F.shiftKey&&(f.current=!0,g.current&&g.current.focus())};E.addEventListener("focusin",R),E.addEventListener("keydown",N,!0);const D=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&R(null)},50);return()=>{clearInterval(D),E.removeEventListener("focusin",R),E.removeEventListener("keydown",N,!0)}},[r,n,i,s,a,o]);const O=E=>{y.current===null&&(y.current=E.relatedTarget),A.current=!0,x.current=E.target;const R=t.props.onFocus;R&&R(E)},I=E=>{y.current===null&&(y.current=E.relatedTarget),A.current=!0};return B.jsxs(V.Fragment,{children:[B.jsx("div",{tabIndex:a?0:-1,onFocus:I,ref:h,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:w,onFocus:O}),B.jsx("div",{tabIndex:a?0:-1,onFocus:I,ref:g,"data-testid":"sentinelEnd"})]})}var Ca="top",Ms="bottom",Os="right",ka="left",QR="auto",K_=[Ca,Ms,Os,ka],eg="start",t_="end",qle="clippingParents",i9="viewport",mv="popper",Hle="reference",B3=K_.reduce(function(e,t){return e.concat([t+"-"+eg,t+"-"+t_])},[]),o9=[].concat(K_,[QR]).reduce(function(e,t){return e.concat([t,t+"-"+eg,t+"-"+t_])},[]),Gle="beforeRead",Yle="read",Kle="afterRead",Zle="beforeMain",Xle="main",Jle="afterMain",Qle="beforeWrite",ece="write",tce="afterWrite",rce=[Gle,Yle,Kle,Zle,Xle,Jle,Qle,ece,tce];function ac(e){return e?(e.nodeName||"").toLowerCase():null}function Ja(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xh(e){var t=Ja(e).Element;return e instanceof t||e instanceof Element}function Ss(e){var t=Ja(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function e$(e){if(typeof ShadowRoot>"u")return!1;var t=Ja(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nce(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!Ss(o)||!ac(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function ice(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=s.reduce(function(f,h){return f[h]="",f},{});!Ss(i)||!ac(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const oce={name:"applyStyles",enabled:!0,phase:"write",fn:nce,effect:ice,requires:["computeStyles"]};function tc(e){return e.split("-")[0]}var th=Math.max,Iw=Math.min,tg=Math.round;function sM(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function a9(){return!/^((?!chrome|android).)*safari/i.test(sM())}function rg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&Ss(e)&&(i=e.offsetWidth>0&&tg(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&tg(n.height)/e.offsetHeight||1);var s=xh(e)?Ja(e):window,a=s.visualViewport,f=!a9()&&r,h=(n.left+(f&&a?a.offsetLeft:0))/i,g=(n.top+(f&&a?a.offsetTop:0))/o,y=n.width/i,x=n.height/o;return{width:y,height:x,top:g,right:h+y,bottom:g+x,left:h,x:h,y:g}}function t$(e){var t=rg(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function s9(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&e$(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function fu(e){return Ja(e).getComputedStyle(e)}function ace(e){return["table","td","th"].indexOf(ac(e))>=0}function Gd(e){return((xh(e)?e.ownerDocument:e.document)||window.document).documentElement}function tE(e){return ac(e)==="html"?e:e.assignedSlot||e.parentNode||(e$(e)?e.host:null)||Gd(e)}function F3(e){return!Ss(e)||fu(e).position==="fixed"?null:e.offsetParent}function sce(e){var t=/firefox/i.test(sM()),r=/Trident/i.test(sM());if(r&&Ss(e)){var n=fu(e);if(n.position==="fixed")return null}var i=tE(e);for(e$(i)&&(i=i.host);Ss(i)&&["html","body"].indexOf(ac(i))<0;){var o=fu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Z_(e){for(var t=Ja(e),r=F3(e);r&&ace(r)&&fu(r).position==="static";)r=F3(r);return r&&(ac(r)==="html"||ac(r)==="body"&&fu(r).position==="static")?t:r||sce(e)||t}function r$(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function h0(e,t,r){return th(e,Iw(t,r))}function lce(e,t,r){var n=h0(e,t,r);return n>r?r:n}function l9(){return{top:0,right:0,bottom:0,left:0}}function c9(e){return Object.assign({},l9(),e)}function u9(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var cce=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,c9(typeof t!="number"?t:u9(t,K_))};function uce(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=tc(r.placement),f=r$(a),h=[ka,Os].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var y=cce(i.padding,r),x=t$(o),A=f==="y"?Ca:ka,T=f==="y"?Ms:Os,w=r.rects.reference[g]+r.rects.reference[f]-s[f]-r.rects.popper[g],M=s[f]-r.rects.reference[f],O=Z_(o),I=O?f==="y"?O.clientHeight||0:O.clientWidth||0:0,E=w/2-M/2,R=y[A],N=I-x[g]-y[T],D=I/2-x[g]/2+E,F=h0(R,D,N),q=f;r.modifiersData[n]=(t={},t[q]=F,t.centerOffset=F-D,t)}}function dce(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||s9(t.elements.popper,i)&&(t.elements.arrow=i))}const fce={name:"arrow",enabled:!0,phase:"main",fn:uce,effect:dce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ng(e){return e.split("-")[1]}var hce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pce(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:tg(r*i)/i||0,y:tg(n*i)/i||0}}function U3(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,f=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,y=e.isFixed,x=s.x,A=x===void 0?0:x,T=s.y,w=T===void 0?0:T,M=typeof g=="function"?g({x:A,y:w}):{x:A,y:w};A=M.x,w=M.y;var O=s.hasOwnProperty("x"),I=s.hasOwnProperty("y"),E=ka,R=Ca,N=window;if(h){var D=Z_(r),F="clientHeight",q="clientWidth";if(D===Ja(r)&&(D=Gd(r),fu(D).position!=="static"&&a==="absolute"&&(F="scrollHeight",q="scrollWidth")),D=D,i===Ca||(i===ka||i===Os)&&o===t_){R=Ms;var J=y&&D===N&&N.visualViewport?N.visualViewport.height:D[F];w-=J-n.height,w*=f?1:-1}if(i===ka||(i===Ca||i===Ms)&&o===t_){E=Os;var Q=y&&D===N&&N.visualViewport?N.visualViewport.width:D[q];A-=Q-n.width,A*=f?1:-1}}var ae=Object.assign({position:a},h&&hce),he=g===!0?pce({x:A,y:w},Ja(r)):{x:A,y:w};if(A=he.x,w=he.y,f){var fe;return Object.assign({},ae,(fe={},fe[R]=I?"0":"",fe[E]=O?"0":"",fe.transform=(N.devicePixelRatio||1)<=1?"translate("+A+"px, "+w+"px)":"translate3d("+A+"px, "+w+"px, 0)",fe))}return Object.assign({},ae,(t={},t[R]=I?w+"px":"",t[E]=O?A+"px":"",t.transform="",t))}function mce(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,f=a===void 0?!0:a,h={placement:tc(t.placement),variation:ng(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,U3(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,U3(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const gce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mce,data:{}};var qb={passive:!0};function yce(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,f=Ja(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",r.update,qb)}),a&&f.addEventListener("resize",r.update,qb),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",r.update,qb)}),a&&f.removeEventListener("resize",r.update,qb)}}const vce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yce,data:{}};var _ce={left:"right",right:"left",bottom:"top",top:"bottom"};function j1(e){return e.replace(/left|right|bottom|top/g,function(t){return _ce[t]})}var xce={start:"end",end:"start"};function V3(e){return e.replace(/start|end/g,function(t){return xce[t]})}function n$(e){var t=Ja(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function i$(e){return rg(Gd(e)).left+n$(e).scrollLeft}function bce(e,t){var r=Ja(e),n=Gd(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,f=0;if(i){o=i.width,s=i.height;var h=a9();(h||!h&&t==="fixed")&&(a=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:a+i$(e),y:f}}function wce(e){var t,r=Gd(e),n=n$(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=th(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=th(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+i$(e),f=-n.scrollTop;return fu(i||r).direction==="rtl"&&(a+=th(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:f}}function o$(e){var t=fu(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function d9(e){return["html","body","#document"].indexOf(ac(e))>=0?e.ownerDocument.body:Ss(e)&&o$(e)?e:d9(tE(e))}function p0(e,t){var r;t===void 0&&(t=[]);var n=d9(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Ja(n),s=i?[o].concat(o.visualViewport||[],o$(n)?n:[]):n,a=t.concat(s);return i?a:a.concat(p0(tE(s)))}function lM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Sce(e,t){var r=rg(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function W3(e,t,r){return t===i9?lM(bce(e,r)):xh(t)?Sce(t,r):lM(wce(Gd(e)))}function Ece(e){var t=p0(tE(e)),r=["absolute","fixed"].indexOf(fu(e).position)>=0,n=r&&Ss(e)?Z_(e):e;return xh(n)?t.filter(function(i){return xh(i)&&s9(i,n)&&ac(i)!=="body"}):[]}function Cce(e,t,r,n){var i=t==="clippingParents"?Ece(e):[].concat(t),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(f,h){var g=W3(e,h,n);return f.top=th(g.top,f.top),f.right=Iw(g.right,f.right),f.bottom=Iw(g.bottom,f.bottom),f.left=th(g.left,f.left),f},W3(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function f9(e){var t=e.reference,r=e.element,n=e.placement,i=n?tc(n):null,o=n?ng(n):null,s=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,f;switch(i){case Ca:f={x:s,y:t.y-r.height};break;case Ms:f={x:s,y:t.y+t.height};break;case Os:f={x:t.x+t.width,y:a};break;case ka:f={x:t.x-r.width,y:a};break;default:f={x:t.x,y:t.y}}var h=i?r$(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case eg:f[h]=f[h]-(t[g]/2-r[g]/2);break;case t_:f[h]=f[h]+(t[g]/2-r[g]/2);break}}return f}function r_(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,s=o===void 0?e.strategy:o,a=r.boundary,f=a===void 0?qle:a,h=r.rootBoundary,g=h===void 0?i9:h,y=r.elementContext,x=y===void 0?mv:y,A=r.altBoundary,T=A===void 0?!1:A,w=r.padding,M=w===void 0?0:w,O=c9(typeof M!="number"?M:u9(M,K_)),I=x===mv?Hle:mv,E=e.rects.popper,R=e.elements[T?I:x],N=Cce(xh(R)?R:R.contextElement||Gd(e.elements.popper),f,g,s),D=rg(e.elements.reference),F=f9({reference:D,element:E,strategy:"absolute",placement:i}),q=lM(Object.assign({},E,F)),J=x===mv?q:D,Q={top:N.top-J.top+O.top,bottom:J.bottom-N.bottom+O.bottom,left:N.left-J.left+O.left,right:J.right-N.right+O.right},ae=e.modifiersData.offset;if(x===mv&&ae){var he=ae[i];Object.keys(Q).forEach(function(fe){var we=[Os,Ms].indexOf(fe)>=0?1:-1,ge=[Ca,Ms].indexOf(fe)>=0?"y":"x";Q[fe]+=he[ge]*we})}return Q}function kce(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,f=r.allowedAutoPlacements,h=f===void 0?o9:f,g=ng(n),y=g?a?B3:B3.filter(function(T){return ng(T)===g}):K_,x=y.filter(function(T){return h.indexOf(T)>=0});x.length===0&&(x=y);var A=x.reduce(function(T,w){return T[w]=r_(e,{placement:w,boundary:i,rootBoundary:o,padding:s})[tc(w)],T},{});return Object.keys(A).sort(function(T,w){return A[T]-A[w]})}function Tce(e){if(tc(e)===QR)return[];var t=j1(e);return[V3(e),t,V3(t)]}function Pce(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,f=r.fallbackPlacements,h=r.padding,g=r.boundary,y=r.rootBoundary,x=r.altBoundary,A=r.flipVariations,T=A===void 0?!0:A,w=r.allowedAutoPlacements,M=t.options.placement,O=tc(M),I=O===M,E=f||(I||!T?[j1(M)]:Tce(M)),R=[M].concat(E).reduce(function(Le,Ye){return Le.concat(tc(Ye)===QR?kce(t,{placement:Ye,boundary:g,rootBoundary:y,padding:h,flipVariations:T,allowedAutoPlacements:w}):Ye)},[]),N=t.rects.reference,D=t.rects.popper,F=new Map,q=!0,J=R[0],Q=0;Q<R.length;Q++){var ae=R[Q],he=tc(ae),fe=ng(ae)===eg,we=[Ca,Ms].indexOf(he)>=0,ge=we?"width":"height",Ce=r_(t,{placement:ae,boundary:g,rootBoundary:y,altBoundary:x,padding:h}),Te=we?fe?Os:ka:fe?Ms:Ca;N[ge]>D[ge]&&(Te=j1(Te));var Ee=j1(Te),Oe=[];if(o&&Oe.push(Ce[he]<=0),a&&Oe.push(Ce[Te]<=0,Ce[Ee]<=0),Oe.every(function(Le){return Le})){J=ae,q=!1;break}F.set(ae,Oe)}if(q)for(var qe=T?3:1,rt=function(Ye){var Be=R.find(function(lt){var it=F.get(lt);if(it)return it.slice(0,Ye).every(function(Ve){return Ve})});if(Be)return J=Be,"break"},Pe=qe;Pe>0;Pe--){var je=rt(Pe);if(je==="break")break}t.placement!==J&&(t.modifiersData[n]._skip=!0,t.placement=J,t.reset=!0)}}const Ace={name:"flip",enabled:!0,phase:"main",fn:Pce,requiresIfExists:["offset"],data:{_skip:!1}};function q3(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function H3(e){return[Ca,Os,Ms,ka].some(function(t){return e[t]>=0})}function Mce(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=r_(t,{elementContext:"reference"}),a=r_(t,{altBoundary:!0}),f=q3(s,n),h=q3(a,i,o),g=H3(f),y=H3(h);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const Oce={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mce};function Ice(e,t,r){var n=tc(e),i=[ka,Ca].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ka,Os].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function Rce(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,s=o9.reduce(function(g,y){return g[y]=Ice(y,t.rects,o),g},{}),a=s[t.placement],f=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=s}const $ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Rce};function Dce(e){var t=e.state,r=e.name;t.modifiersData[r]=f9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Lce={name:"popperOffsets",enabled:!0,phase:"read",fn:Dce,data:{}};function Nce(e){return e==="x"?"y":"x"}function zce(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,f=r.boundary,h=r.rootBoundary,g=r.altBoundary,y=r.padding,x=r.tether,A=x===void 0?!0:x,T=r.tetherOffset,w=T===void 0?0:T,M=r_(t,{boundary:f,rootBoundary:h,padding:y,altBoundary:g}),O=tc(t.placement),I=ng(t.placement),E=!I,R=r$(O),N=Nce(R),D=t.modifiersData.popperOffsets,F=t.rects.reference,q=t.rects.popper,J=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,Q=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,he={x:0,y:0};if(D){if(o){var fe,we=R==="y"?Ca:ka,ge=R==="y"?Ms:Os,Ce=R==="y"?"height":"width",Te=D[R],Ee=Te+M[we],Oe=Te-M[ge],qe=A?-q[Ce]/2:0,rt=I===eg?F[Ce]:q[Ce],Pe=I===eg?-q[Ce]:-F[Ce],je=t.elements.arrow,Le=A&&je?t$(je):{width:0,height:0},Ye=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:l9(),Be=Ye[we],lt=Ye[ge],it=h0(0,F[Ce],Le[Ce]),Ve=E?F[Ce]/2-qe-it-Be-Q.mainAxis:rt-it-Be-Q.mainAxis,Xe=E?-F[Ce]/2+qe+it+lt+Q.mainAxis:Pe+it+lt+Q.mainAxis,ct=t.elements.arrow&&Z_(t.elements.arrow),Fe=ct?R==="y"?ct.clientTop||0:ct.clientLeft||0:0,Me=(fe=ae==null?void 0:ae[R])!=null?fe:0,Et=Te+Ve-Me-Fe,Zt=Te+Xe-Me,Ot=h0(A?Iw(Ee,Et):Ee,Te,A?th(Oe,Zt):Oe);D[R]=Ot,he[R]=Ot-Te}if(a){var jt,Mr=R==="x"?Ca:ka,Hr=R==="x"?Ms:Os,pr=D[N],Sr=N==="y"?"height":"width",cr=pr+M[Mr],Er=pr-M[Hr],un=[Ca,ka].indexOf(O)!==-1,ut=(jt=ae==null?void 0:ae[N])!=null?jt:0,Ir=un?cr:pr-F[Sr]-q[Sr]-ut+Q.altAxis,en=un?pr+F[Sr]+q[Sr]-ut-Q.altAxis:Er,mr=A&&un?lce(Ir,pr,en):h0(A?Ir:cr,pr,A?en:Er);D[N]=mr,he[N]=mr-pr}t.modifiersData[n]=he}}const jce={name:"preventOverflow",enabled:!0,phase:"main",fn:zce,requiresIfExists:["offset"]};function Bce(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Fce(e){return e===Ja(e)||!Ss(e)?n$(e):Bce(e)}function Uce(e){var t=e.getBoundingClientRect(),r=tg(t.width)/e.offsetWidth||1,n=tg(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Vce(e,t,r){r===void 0&&(r=!1);var n=Ss(t),i=Ss(t)&&Uce(t),o=Gd(t),s=rg(e,i,r),a={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(n||!n&&!r)&&((ac(t)!=="body"||o$(o))&&(a=Fce(t)),Ss(t)?(f=rg(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=i$(o))),{x:s.left+a.scrollLeft-f.x,y:s.top+a.scrollTop-f.y,width:s.width,height:s.height}}function Wce(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var f=t.get(a);f&&i(f)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function qce(e){var t=Wce(e);return rce.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function Hce(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Gce(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var G3={placement:"bottom",modifiers:[],strategy:"absolute"};function Y3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Yce(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?G3:i;return function(a,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},G3,o),modifiersData:{},elements:{reference:a,popper:f},attributes:{},styles:{}},y=[],x=!1,A={state:g,setOptions:function(O){var I=typeof O=="function"?O(g.options):O;w(),g.options=Object.assign({},o,g.options,I),g.scrollParents={reference:xh(a)?p0(a):a.contextElement?p0(a.contextElement):[],popper:p0(f)};var E=qce(Gce([].concat(n,g.options.modifiers)));return g.orderedModifiers=E.filter(function(R){return R.enabled}),T(),A.update()},forceUpdate:function(){if(!x){var O=g.elements,I=O.reference,E=O.popper;if(Y3(I,E)){g.rects={reference:Vce(I,Z_(E),g.options.strategy==="fixed"),popper:t$(E)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(Q){return g.modifiersData[Q.name]=Object.assign({},Q.data)});for(var R=0;R<g.orderedModifiers.length;R++){if(g.reset===!0){g.reset=!1,R=-1;continue}var N=g.orderedModifiers[R],D=N.fn,F=N.options,q=F===void 0?{}:F,J=N.name;typeof D=="function"&&(g=D({state:g,options:q,name:J,instance:A})||g)}}}},update:Hce(function(){return new Promise(function(M){A.forceUpdate(),M(g)})}),destroy:function(){w(),x=!0}};if(!Y3(a,f))return A;A.setOptions(h).then(function(M){!x&&h.onFirstUpdate&&h.onFirstUpdate(M)});function T(){g.orderedModifiers.forEach(function(M){var O=M.name,I=M.options,E=I===void 0?{}:I,R=M.effect;if(typeof R=="function"){var N=R({state:g,name:O,instance:A,options:E}),D=function(){};y.push(N||D)}})}function w(){y.forEach(function(M){return M()}),y=[]}return A}}var Kce=[vce,Lce,gce,oce,$ce,Ace,jce,fce,Oce],Zce=Yce({defaultModifiers:Kce});function Xce(e){return typeof e=="function"?e():e}const h9=V.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[s,a]=V.useState(null),f=ci(V.isValidElement(n)?n.ref:null,r);if(yl(()=>{o||a(Xce(i)||document.body)},[i,o]),yl(()=>{if(s&&!o)return Pw(r,s),()=>{Pw(r,null)}},[r,s,o]),o){if(V.isValidElement(n)){const h={ref:f};return V.cloneElement(n,h)}return B.jsx(V.Fragment,{children:n})}return B.jsx(V.Fragment,{children:s&&cc.createPortal(n,s)})});function Jce(e){return tr("MuiPopper",e)}ir("MuiPopper",["root"]);const Qce=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],eue=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function tue(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function cM(e){return typeof e=="function"?e():e}function rue(e){return e.nodeType!==void 0}const nue=()=>nr({root:["root"]},n9(Jce)),iue={},oue=V.forwardRef(function(t,r){var n;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:f,open:h,placement:g,popperOptions:y,popperRef:x,slotProps:A={},slots:T={},TransitionProps:w}=t,M=Rt(t,Qce),O=V.useRef(null),I=ci(O,r),E=V.useRef(null),R=ci(E,x),N=V.useRef(R);yl(()=>{N.current=R},[R]),V.useImperativeHandle(x,()=>E.current,[]);const D=tue(g,s),[F,q]=V.useState(D),[J,Q]=V.useState(cM(i));V.useEffect(()=>{E.current&&E.current.forceUpdate()}),V.useEffect(()=>{i&&Q(cM(i))},[i]),yl(()=>{if(!J||!h)return;const ge=Ee=>{q(Ee.placement)};let Ce=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Ee})=>{ge(Ee)}}];f!=null&&(Ce=Ce.concat(f)),y&&y.modifiers!=null&&(Ce=Ce.concat(y.modifiers));const Te=Zce(J,O.current,oe({placement:D},y,{modifiers:Ce}));return N.current(Te),()=>{Te.destroy(),N.current(null)}},[J,a,f,h,y,D]);const ae={placement:F};w!==null&&(ae.TransitionProps=w);const he=nue(),fe=(n=T.root)!=null?n:"div",we=oc({elementType:fe,externalSlotProps:A.root,externalForwardedProps:M,additionalProps:{role:"tooltip",ref:I},ownerState:t,className:he.root});return B.jsx(fe,oe({},we,{children:typeof o=="function"?o(ae):o}))}),aue=V.forwardRef(function(t,r){const{anchorEl:n,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:f=!1,modifiers:h,open:g,placement:y="bottom",popperOptions:x=iue,popperRef:A,style:T,transition:w=!1,slotProps:M={},slots:O={}}=t,I=Rt(t,eue),[E,R]=V.useState(!0),N=()=>{R(!1)},D=()=>{R(!0)};if(!f&&!g&&(!w||E))return null;let F;if(o)F=o;else if(n){const Q=cM(n);F=Q&&rue(Q)?Fi(Q).body:Fi(null).body}const q=!g&&f&&(!w||E)?"none":void 0,J=w?{in:g,onEnter:N,onExited:D}:void 0;return B.jsx(h9,{disablePortal:a,container:F,children:B.jsx(oue,oe({anchorEl:n,direction:s,disablePortal:a,modifiers:h,ref:r,open:w?!E:g,placement:y,popperOptions:x,popperRef:A,slotProps:M,slots:O},I,{style:oe({position:"fixed",top:0,left:0,display:q},T),TransitionProps:J,children:i}))})});function sue(e){const t=Fi(e);return t.body===e?Dd(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function m0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function K3(e){return parseInt(Dd(e).getComputedStyle(e).paddingRight,10)||0}function lue(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function Z3(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,f=!lue(s);a&&f&&m0(s,i)})}function gT(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function cue(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(sue(n)){const s=wW(Fi(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${K3(n)+s}px`;const a=Fi(n).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${K3(f)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Fi(n).body;else{const s=n.parentElement,a=Dd(n);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function uue(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class due{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&m0(t.modalRef,!1);const i=uue(r);Z3(r,t.mount,t.modalRef,i,!0);const o=gT(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=gT(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=cue(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=gT(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&m0(t.modalRef,r),Z3(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&m0(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function fue(e){return typeof e=="function"?e():e}function hue(e){return e?e.props.hasOwnProperty("in"):!1}const pue=new due;function mue(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=pue,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:f,onClose:h,open:g,rootRef:y}=e,x=V.useRef({}),A=V.useRef(null),T=V.useRef(null),w=ci(T,y),[M,O]=V.useState(!g),I=hue(f);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const R=()=>Fi(A.current),N=()=>(x.current.modalRef=T.current,x.current.mount=A.current,x.current),D=()=>{i.mount(N(),{disableScrollLock:n}),T.current&&(T.current.scrollTop=0)},F=dl(()=>{const Ce=fue(t)||R().body;i.add(N(),Ce),T.current&&D()}),q=V.useCallback(()=>i.isTopModal(N()),[i]),J=dl(Ce=>{A.current=Ce,Ce&&(g&&q()?D():T.current&&m0(T.current,E))}),Q=V.useCallback(()=>{i.remove(N(),E)},[E,i]);V.useEffect(()=>()=>{Q()},[Q]),V.useEffect(()=>{g?F():(!I||!o)&&Q()},[g,Q,I,o,F]);const ae=Ce=>Te=>{var Ee;(Ee=Ce.onKeyDown)==null||Ee.call(Ce,Te),!(Te.key!=="Escape"||!q())&&(r||(Te.stopPropagation(),h&&h(Te,"escapeKeyDown")))},he=Ce=>Te=>{var Ee;(Ee=Ce.onClick)==null||Ee.call(Ce,Te),Te.target===Te.currentTarget&&h&&h(Te,"backdropClick")};return{getRootProps:(Ce={})=>{const Te=JR(e);delete Te.onTransitionEnter,delete Te.onTransitionExited;const Ee=oe({},Te,Ce);return oe({role:"presentation"},Ee,{onKeyDown:ae(Ee),ref:w})},getBackdropProps:(Ce={})=>{const Te=Ce;return oe({"aria-hidden":!0},Te,{onClick:he(Te),open:g})},getTransitionProps:()=>{const Ce=()=>{O(!1),s&&s()},Te=()=>{O(!0),a&&a(),o&&Q()};return{onEnter:KA(Ce,f.props.onEnter),onExited:KA(Te,f.props.onExited)}},rootRef:w,portalRef:J,isTopModal:q,exited:M,hasTransition:I}}function gue(e){return tr("MuiModal",e)}ir("MuiModal",["root","hidden","backdrop"]);const yue=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],vue=e=>{const{open:t,exited:r}=e;return nr({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},n9(gue))},_ue=V.forwardRef(function(t,r){var n;const{children:i,closeAfterTransition:o=!1,container:s,disableAutoFocus:a=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:h=!1,disablePortal:g=!1,disableRestoreFocus:y=!1,disableScrollLock:x=!1,hideBackdrop:A=!1,keepMounted:T=!1,onBackdropClick:w,open:M,slotProps:O={},slots:I={}}=t,E=Rt(t,yue),R=oe({},t,{closeAfterTransition:o,disableAutoFocus:a,disableEnforceFocus:f,disableEscapeKeyDown:h,disablePortal:g,disableRestoreFocus:y,disableScrollLock:x,hideBackdrop:A,keepMounted:T}),{getRootProps:N,getBackdropProps:D,getTransitionProps:F,portalRef:q,isTopModal:J,exited:Q,hasTransition:ae}=mue(oe({},R,{rootRef:r})),he=oe({},R,{exited:Q,hasTransition:ae}),fe=vue(he),we={};if(i.props.tabIndex===void 0&&(we.tabIndex="-1"),ae){const{onEnter:Oe,onExited:qe}=F();we.onEnter=Oe,we.onExited=qe}const ge=(n=I.root)!=null?n:"div",Ce=oc({elementType:ge,externalSlotProps:O.root,externalForwardedProps:E,getSlotProps:N,className:fe.root,ownerState:he}),Te=I.backdrop,Ee=oc({elementType:Te,externalSlotProps:O.backdrop,getSlotProps:Oe=>D(oe({},Oe,{onClick:qe=>{w&&w(qe),Oe!=null&&Oe.onClick&&Oe.onClick(qe)}})),className:fe.backdrop,ownerState:he});return!T&&!M&&(!ae||Q)?null:B.jsx(h9,{ref:q,container:s,disablePortal:g,children:B.jsxs(ge,oe({},Ce,{children:[!A&&Te?B.jsx(Te,oe({},Ee)):null,B.jsx(Wle,{disableEnforceFocus:f,disableAutoFocus:a,disableRestoreFocus:y,isEnabled:J,open:M,children:V.cloneElement(i,we)})]}))})});function xue(e){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:i,resumeHideDuration:o}=e,s=V.useRef();V.useEffect(()=>{if(!i)return;function O(I){I.defaultPrevented||(I.key==="Escape"||I.key==="Esc")&&(n==null||n(I,"escapeKeyDown"))}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[i,n]);const a=dl((O,I)=>{n==null||n(O,I)}),f=dl(O=>{!n||O==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},O))});V.useEffect(()=>(i&&f(t),()=>{clearTimeout(s.current)}),[i,t,f]);const h=O=>{n==null||n(O,"clickaway")},g=()=>{clearTimeout(s.current)},y=V.useCallback(()=>{t!=null&&f(o??t*.5)},[t,o,f]),x=O=>I=>{const E=O.onBlur;E==null||E(I),y()},A=O=>I=>{const E=O.onFocus;E==null||E(I),g()},T=O=>I=>{const E=O.onMouseEnter;E==null||E(I),g()},w=O=>I=>{const E=O.onMouseLeave;E==null||E(I),y()};return V.useEffect(()=>{if(!r&&i)return window.addEventListener("focus",y),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",g)}},[r,y,i]),{getRootProps:(O={})=>{const I=JR(e),E=oe({},I,O);return oe({role:"presentation"},E,{onBlur:x(E),onFocus:A(E),onMouseEnter:T(E),onMouseLeave:w(E)})},onClickAway:h}}const bue=["onChange","maxRows","minRows","style","value"];function Hb(e){return parseInt(e,10)||0}const wue={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function X3(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const Sue=V.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:s,value:a}=t,f=Rt(t,bue),{current:h}=V.useRef(a!=null),g=V.useRef(null),y=ci(r,g),x=V.useRef(null),A=V.useRef(0),[T,w]=V.useState({outerHeightStyle:0}),M=V.useCallback(()=>{const N=g.current,F=Dd(N).getComputedStyle(N);if(F.width==="0px")return{outerHeightStyle:0};const q=x.current;q.style.width=F.width,q.value=N.value||t.placeholder||"x",q.value.slice(-1)===`
`&&(q.value+=" ");const J=F.boxSizing,Q=Hb(F.paddingBottom)+Hb(F.paddingTop),ae=Hb(F.borderBottomWidth)+Hb(F.borderTopWidth),he=q.scrollHeight;q.value="x";const fe=q.scrollHeight;let we=he;o&&(we=Math.max(Number(o)*fe,we)),i&&(we=Math.min(Number(i)*fe,we)),we=Math.max(we,fe);const ge=we+(J==="border-box"?Q+ae:0),Ce=Math.abs(we-he)<=1;return{outerHeightStyle:ge,overflow:Ce}},[i,o,t.placeholder]),O=(N,D)=>{const{outerHeightStyle:F,overflow:q}=D;return A.current<20&&(F>0&&Math.abs((N.outerHeightStyle||0)-F)>1||N.overflow!==q)?(A.current+=1,{overflow:q,outerHeightStyle:F}):N},I=V.useCallback(()=>{const N=M();X3(N)||w(D=>O(D,N))},[M]),E=()=>{const N=M();X3(N)||cc.flushSync(()=>{w(D=>O(D,N))})};V.useEffect(()=>{const N=ER(()=>{A.current=0,g.current&&E()});let D;const F=g.current,q=Dd(F);return q.addEventListener("resize",N),typeof ResizeObserver<"u"&&(D=new ResizeObserver(N),D.observe(F)),()=>{N.clear(),q.removeEventListener("resize",N),D&&D.disconnect()}}),yl(()=>{I()}),V.useEffect(()=>{A.current=0},[a]);const R=N=>{A.current=0,h||I(),n&&n(N)};return B.jsxs(V.Fragment,{children:[B.jsx("textarea",oe({value:a,onChange:R,ref:y,rows:o,style:oe({height:T.outerHeightStyle,overflow:T.overflow?"hidden":void 0},s)},f)),B.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:oe({},wue.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),Eue=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Cue=vt(aue,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kue=V.forwardRef(function(t,r){var n;const i=zR(),o=or({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:f,componentsProps:h,container:g,disablePortal:y,keepMounted:x,modifiers:A,open:T,placement:w,popperOptions:M,popperRef:O,transition:I,slots:E,slotProps:R}=o,N=Rt(o,Eue),D=(n=E==null?void 0:E.root)!=null?n:f==null?void 0:f.Root,F=oe({anchorEl:s,container:g,disablePortal:y,keepMounted:x,modifiers:A,open:T,placement:w,popperOptions:M,popperRef:O,transition:I},N);return B.jsx(Cue,oe({as:a,direction:i==null?void 0:i.direction,slots:{root:D},slotProps:R??h},F,{ref:r}))}),p9=kue;function Yd({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const Tue=V.createContext(void 0),rE=Tue;function uc(){return V.useContext(rE)}function m9(e){return B.jsx(joe,oe({},e,{defaultTheme:V2,themeId:ph}))}function J3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Rw(e,t=!1){return e&&(J3(e.value)&&e.value!==""||t&&J3(e.defaultValue)&&e.defaultValue!=="")}function Pue(e){return e.startAdornment}function Aue(e){return tr("MuiInputBase",e)}const Mue=ir("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ig=Mue,Oue=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],nE=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${mt(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},iE=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Iue=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:f,hiddenLabel:h,multiline:g,readOnly:y,size:x,startAdornment:A,type:T}=e,w={root:["root",`color${mt(r)}`,n&&"disabled",i&&"error",f&&"fullWidth",s&&"focused",a&&"formControl",x==="small"&&"sizeSmall",g&&"multiline",A&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",y&&"readOnly"],input:["input",n&&"disabled",T==="search"&&"inputTypeSearch",g&&"inputMultiline",x==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",A&&"inputAdornedStart",o&&"inputAdornedEnd",y&&"readOnly"]};return nr(w,Aue,t)},oE=vt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:nE})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ig.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&oe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),aE=vt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:iE})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=oe({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return oe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ig.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ig.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Rue=B.jsx(m9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),$ue=V.forwardRef(function(t,r){var n;const i=or({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:f,components:h={},componentsProps:g={},defaultValue:y,disabled:x,disableInjectingGlobalStyles:A,endAdornment:T,fullWidth:w=!1,id:M,inputComponent:O="input",inputProps:I={},inputRef:E,maxRows:R,minRows:N,multiline:D=!1,name:F,onBlur:q,onChange:J,onClick:Q,onFocus:ae,onKeyDown:he,onKeyUp:fe,placeholder:we,readOnly:ge,renderSuffix:Ce,rows:Te,slotProps:Ee={},slots:Oe={},startAdornment:qe,type:rt="text",value:Pe}=i,je=Rt(i,Oue),Le=I.value!=null?I.value:Pe,{current:Ye}=V.useRef(Le!=null),Be=V.useRef(),lt=V.useCallback(mr=>{},[]),it=ci(Be,E,I.ref,lt),[Ve,Xe]=V.useState(!1),ct=uc(),Fe=Yd({props:i,muiFormControl:ct,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Fe.focused=ct?ct.focused:Ve,V.useEffect(()=>{!ct&&x&&Ve&&(Xe(!1),q&&q())},[ct,x,Ve,q]);const Me=ct&&ct.onFilled,Et=ct&&ct.onEmpty,Zt=V.useCallback(mr=>{Rw(mr)?Me&&Me():Et&&Et()},[Me,Et]);yl(()=>{Ye&&Zt({value:Le})},[Le,Zt,Ye]);const Ot=mr=>{if(Fe.disabled){mr.stopPropagation();return}ae&&ae(mr),I.onFocus&&I.onFocus(mr),ct&&ct.onFocus?ct.onFocus(mr):Xe(!0)},jt=mr=>{q&&q(mr),I.onBlur&&I.onBlur(mr),ct&&ct.onBlur?ct.onBlur(mr):Xe(!1)},Mr=(mr,...Jt)=>{if(!Ye){const Ke=mr.target||Be.current;if(Ke==null)throw new Error($d(1));Zt({value:Ke.value})}I.onChange&&I.onChange(mr,...Jt),J&&J(mr,...Jt)};V.useEffect(()=>{Zt(Be.current)},[]);const Hr=mr=>{Be.current&&mr.currentTarget===mr.target&&Be.current.focus(),Q&&!Fe.disabled&&Q(mr)};let pr=O,Sr=I;D&&pr==="input"&&(Te?Sr=oe({type:void 0,minRows:Te,maxRows:Te},Sr):Sr=oe({type:void 0,maxRows:R,minRows:N},Sr),pr=Sue);const cr=mr=>{Zt(mr.animationName==="mui-auto-fill-cancel"?Be.current:{value:"x"})};V.useEffect(()=>{ct&&ct.setAdornedStart(!!qe)},[ct,qe]);const Er=oe({},i,{color:Fe.color||"primary",disabled:Fe.disabled,endAdornment:T,error:Fe.error,focused:Fe.focused,formControl:ct,fullWidth:w,hiddenLabel:Fe.hiddenLabel,multiline:D,size:Fe.size,startAdornment:qe,type:rt}),un=Iue(Er),ut=Oe.root||h.Root||oE,Ir=Ee.root||g.root||{},en=Oe.input||h.Input||aE;return Sr=oe({},Sr,(n=Ee.input)!=null?n:g.input),B.jsxs(V.Fragment,{children:[!A&&Rue,B.jsxs(ut,oe({},Ir,!e_(ut)&&{ownerState:oe({},Er,Ir.ownerState)},{ref:r,onClick:Hr},je,{className:Lt(un.root,Ir.className,f,ge&&"MuiInputBase-readOnly"),children:[qe,B.jsx(rE.Provider,{value:null,children:B.jsx(en,oe({ownerState:Er,"aria-invalid":Fe.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:y,disabled:Fe.disabled,id:M,onAnimationStart:cr,name:F,placeholder:we,readOnly:ge,required:Fe.required,rows:Te,value:Le,onKeyDown:he,onKeyUp:fe,type:rt},Sr,!e_(en)&&{as:pr,ownerState:oe({},Er,Sr.ownerState)},{ref:it,className:Lt(un.input,Sr.className,ge&&"MuiInputBase-readOnly"),onBlur:jt,onChange:Mr,onFocus:Ot}))}),T,Ce?Ce(oe({},Fe,{startAdornment:qe})):null]}))]})}),a$=$ue;function Due(e){return tr("MuiInput",e)}const Lue=oe({},ig,ir("MuiInput",["root","underline","input"])),gv=Lue;function Nue(e){return tr("MuiOutlinedInput",e)}const zue=oe({},ig,ir("MuiOutlinedInput",["root","notchedOutline","input"])),Gu=zue;function jue(e){return tr("MuiFilledInput",e)}const Bue=oe({},ig,ir("MuiFilledInput",["root","underline","input"])),Cf=Bue,Fue=Lg(B.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Uue=Lg(B.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Vue(e){return tr("MuiAvatar",e)}ir("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Wue=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],que=e=>{const{classes:t,variant:r,colorDefault:n}=e;return nr({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},Vue,t)},Hue=vt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&oe({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),Gue=vt("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Yue=vt(Uue,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Kue({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[i,o]=V.useState(!1);return V.useEffect(()=>{if(!r&&!n)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=r,n&&(a.srcset=n),()=>{s=!1}},[e,t,r,n]),i}const Zue=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:f,sizes:h,src:g,srcSet:y,variant:x="circular"}=n,A=Rt(n,Wue);let T=null;const w=Kue(oe({},f,{src:g,srcSet:y})),M=g||y,O=M&&w!=="error",I=oe({},n,{colorDefault:!O,component:a,variant:x}),E=que(I);return O?T=B.jsx(Gue,oe({alt:i,src:g,srcSet:y,sizes:h,ownerState:I,className:E.img},f)):o!=null?T=o:M&&i?T=i[0]:T=B.jsx(Yue,{ownerState:I,className:E.fallback}),B.jsx(Hue,oe({as:a,ownerState:I,className:Lt(E.root,s),ref:r},A,{children:T}))}),Xue=Zue,Jue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Que={entering:{opacity:1},entered:{opacity:1}},ede=V.forwardRef(function(t,r){const n=xu(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:f,in:h,onEnter:g,onEntered:y,onEntering:x,onExit:A,onExited:T,onExiting:w,style:M,timeout:O=i,TransitionComponent:I=YR}=t,E=Rt(t,Jue),R=V.useRef(null),N=ci(R,a.ref,r),D=we=>ge=>{if(we){const Ce=R.current;ge===void 0?we(Ce):we(Ce,ge)}},F=D(x),q=D((we,ge)=>{e9(we);const Ce=Qm({style:M,timeout:O,easing:f},{mode:"enter"});we.style.webkitTransition=n.transitions.create("opacity",Ce),we.style.transition=n.transitions.create("opacity",Ce),g&&g(we,ge)}),J=D(y),Q=D(w),ae=D(we=>{const ge=Qm({style:M,timeout:O,easing:f},{mode:"exit"});we.style.webkitTransition=n.transitions.create("opacity",ge),we.style.transition=n.transitions.create("opacity",ge),A&&A(we)}),he=D(T),fe=we=>{o&&o(R.current,we)};return B.jsx(I,oe({appear:s,in:h,nodeRef:R,onEnter:q,onEntered:J,onEntering:F,onExit:ae,onExited:he,onExiting:Q,addEndListener:fe,timeout:O},E,{children:(we,ge)=>V.cloneElement(a,oe({style:oe({opacity:0,visibility:we==="exited"&&!h?"hidden":void 0},Que[we],M,a.props.style),ref:N},ge))}))}),tde=ede;function rde(e){return tr("MuiBackdrop",e)}ir("MuiBackdrop",["root","invisible"]);const nde=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],ide=e=>{const{classes:t,invisible:r}=e;return nr({root:["root",r&&"invisible"]},rde,t)},ode=vt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>oe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),ade=V.forwardRef(function(t,r){var n,i,o;const s=or({props:t,name:"MuiBackdrop"}),{children:a,className:f,component:h="div",components:g={},componentsProps:y={},invisible:x=!1,open:A,slotProps:T={},slots:w={},TransitionComponent:M=tde,transitionDuration:O}=s,I=Rt(s,nde),E=oe({},s,{component:h,invisible:x}),R=ide(E),N=(n=T.root)!=null?n:y.root;return B.jsx(M,oe({in:A,timeout:O},I,{children:B.jsx(ode,oe({"aria-hidden":!0},N,{as:(i=(o=w.root)!=null?o:g.Root)!=null?i:h,className:Lt(R.root,f,N==null?void 0:N.className),ownerState:oe({},E,N==null?void 0:N.ownerState),classes:R,ref:r,children:a}))}))}),sde=ade;function lde(e){return tr("MuiBadge",e)}const cde=ir("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Yu=cde,ude=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],yT=10,vT=4,dde=e=>{const{color:t,anchorOrigin:r,invisible:n,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${mt(r.vertical)}${mt(r.horizontal)}`,`anchorOrigin${mt(r.vertical)}${mt(r.horizontal)}${mt(i)}`,`overlap${mt(i)}`,t!=="default"&&`color${mt(t)}`]};return nr(a,lde,s)},fde=vt("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),hde=vt("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${mt(r.anchorOrigin.vertical)}${mt(r.anchorOrigin.horizontal)}${mt(r.overlap)}`],r.color!=="default"&&t[`color${mt(r.color)}`],r.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>oe({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:yT*2,lineHeight:1,padding:"0 6px",height:yT*2,borderRadius:yT,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:vT,height:vT*2,minWidth:vT*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Yu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),pde=V.forwardRef(function(t,r){var n,i,o,s,a,f;const h=or({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:y,component:x,components:A={},componentsProps:T={},children:w,overlap:M="rectangular",color:O="default",invisible:I=!1,max:E=99,badgeContent:R,slots:N,slotProps:D,showZero:F=!1,variant:q="standard"}=h,J=Rt(h,ude),{badgeContent:Q,invisible:ae,max:he,displayValue:fe}=Dle({max:E,invisible:I,badgeContent:R,showZero:F}),we=SW({anchorOrigin:g,color:O,overlap:M,variant:q,badgeContent:R}),ge=ae||Q==null&&q!=="dot",{color:Ce=O,overlap:Te=M,anchorOrigin:Ee=g,variant:Oe=q}=ge?we:h,qe=Oe!=="dot"?fe:void 0,rt=oe({},h,{badgeContent:Q,invisible:ge,max:he,displayValue:qe,showZero:F,anchorOrigin:Ee,color:Ce,overlap:Te,variant:Oe}),Pe=dde(rt),je=(n=(i=N==null?void 0:N.root)!=null?i:A.Root)!=null?n:fde,Le=(o=(s=N==null?void 0:N.badge)!=null?s:A.Badge)!=null?o:hde,Ye=(a=D==null?void 0:D.root)!=null?a:T.root,Be=(f=D==null?void 0:D.badge)!=null?f:T.badge,lt=oc({elementType:je,externalSlotProps:Ye,externalForwardedProps:J,additionalProps:{ref:r,as:x},ownerState:rt,className:Lt(Ye==null?void 0:Ye.className,Pe.root,y)}),it=oc({elementType:Le,externalSlotProps:Be,ownerState:rt,className:Lt(Pe.badge,Be==null?void 0:Be.className)});return B.jsxs(je,oe({},lt,{children:[w,B.jsx(Le,oe({},it,{children:qe}))]}))}),mde=pde,gde=qR(),yde=Voe({themeId:ph,defaultTheme:gde,defaultClassName:"MuiBox-root",generateClassName:TR.generate}),Gc=yde;function vde(e){return tr("MuiButton",e)}const _de=ir("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Gb=_de,xde=V.createContext({}),g9=xde,bde=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],wde=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${mt(t)}`,`size${mt(i)}`,`${o}Size${mt(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${mt(i)}`],endIcon:["endIcon",`iconSize${mt(i)}`]},f=nr(a,vde,s);return oe({},s,f)},y9=e=>oe({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Sde=vt(Ng,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${mt(r.color)}`],t[`size${mt(r.size)}`],t[`${r.variant}Size${mt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return oe({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":oe({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Mn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Mn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Mn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Gb.focusVisible}`]:oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Gb.disabled}`]:oe({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Mn(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Gb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Gb.disabled}`]:{boxShadow:"none"}}),Ede=vt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${mt(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},y9(e))),Cde=vt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${mt(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},y9(e))),kde=V.forwardRef(function(t,r){const n=V.useContext(g9),i=kR(n,t),o=or({props:i,name:"MuiButton"}),{children:s,color:a="primary",component:f="button",className:h,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:x=!1,endIcon:A,focusVisibleClassName:T,fullWidth:w=!1,size:M="medium",startIcon:O,type:I,variant:E="text"}=o,R=Rt(o,bde),N=oe({},o,{color:a,component:f,disabled:g,disableElevation:y,disableFocusRipple:x,fullWidth:w,size:M,type:I,variant:E}),D=wde(N),F=O&&B.jsx(Ede,{className:D.startIcon,ownerState:N,children:O}),q=A&&B.jsx(Cde,{className:D.endIcon,ownerState:N,children:A});return B.jsxs(Sde,oe({ownerState:N,className:Lt(n.className,D.root,h),component:f,disabled:g,focusRipple:!x,focusVisibleClassName:Lt(D.focusVisible,T),ref:r,type:I},R,{classes:D,children:[F,s,q]}))}),_n=kde;function Tde(e){return tr("MuiButtonGroup",e)}const Pde=ir("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),ql=Pde,Ade=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Mde=(e,t)=>{const{ownerState:r}=e;return[{[`& .${ql.grouped}`]:t.grouped},{[`& .${ql.grouped}`]:t[`grouped${mt(r.orientation)}`]},{[`& .${ql.grouped}`]:t[`grouped${mt(r.variant)}`]},{[`& .${ql.grouped}`]:t[`grouped${mt(r.variant)}${mt(r.orientation)}`]},{[`& .${ql.grouped}`]:t[`grouped${mt(r.variant)}${mt(r.color)}`]},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},Ode=e=>{const{classes:t,color:r,disabled:n,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,f={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${mt(s)}`,`grouped${mt(a)}`,`grouped${mt(a)}${mt(s)}`,`grouped${mt(a)}${mt(r)}`,n&&"disabled"]};return nr(f,Tde,t)},Ide=vt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Mde})(({theme:e,ownerState:t})=>oe({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${ql.grouped}`]:oe({minWidth:40,"&:not(:first-of-type)":oe({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":oe({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ql.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ql.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Mn(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ql.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ql.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":oe({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":oe({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),Rde=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:y=!1,fullWidth:x=!1,orientation:A="horizontal",size:T="medium",variant:w="outlined"}=n,M=Rt(n,Ade),O=oe({},n,{color:s,component:a,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,orientation:A,size:T,variant:w}),I=Ode(O),E=V.useMemo(()=>({className:I.grouped,color:s,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,size:T,variant:w}),[s,f,h,g,y,x,T,w,I.grouped]);return B.jsx(Ide,oe({as:a,role:"group",className:Lt(I.root,o),ref:r,ownerState:O},M,{children:B.jsx(g9.Provider,{value:E,children:i})}))}),$de=Rde;function Dde(e){return tr("MuiCard",e)}ir("MuiCard",["root"]);const Lde=["className","raised"],Nde=e=>{const{classes:t}=e;return nr({root:["root"]},Dde,t)},zde=vt(vl,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),jde=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=n,s=Rt(n,Lde),a=oe({},n,{raised:o}),f=Nde(a);return B.jsx(zde,oe({className:Lt(f.root,i),elevation:o?8:void 0,ref:r,ownerState:a},s))}),zg=jde;function Bde(e){return tr("MuiCardActions",e)}ir("MuiCardActions",["root","spacing"]);const Fde=["disableSpacing","className"],Ude=e=>{const{classes:t,disableSpacing:r}=e;return nr({root:["root",!r&&"spacing"]},Bde,t)},Vde=vt("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>oe({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Wde=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=n,s=Rt(n,Fde),a=oe({},n,{disableSpacing:i}),f=Ude(a);return B.jsx(Vde,oe({className:Lt(f.root,o),ownerState:a,ref:r},s))}),qde=Wde;function Hde(e){return tr("MuiCardContent",e)}ir("MuiCardContent",["root"]);const Gde=["className","component"],Yde=e=>{const{classes:t}=e;return nr({root:["root"]},Hde,t)},Kde=vt("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Zde=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=n,s=Rt(n,Gde),a=oe({},n,{component:o}),f=Yde(a);return B.jsx(Kde,oe({as:o,className:Lt(f.root,i),ownerState:a,ref:r},s))}),Xde=Zde;function Jde(e){return tr("MuiCardMedia",e)}ir("MuiCardMedia",["root","media","img"]);const Qde=["children","className","component","image","src","style"],efe=e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e;return nr({root:["root",r&&"media",n&&"img"]},Jde,t)},tfe=vt("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:i}=r;return[t.root,n&&t.media,i&&t.img]}})(({ownerState:e})=>oe({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),rfe=["video","audio","picture","iframe","img"],nfe=["picture","img"],ife=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:f,style:h}=n,g=Rt(n,Qde),y=rfe.indexOf(s)!==-1,x=!y&&a?oe({backgroundImage:`url("${a}")`},h):h,A=oe({},n,{component:s,isMediaComponent:y,isImageComponent:nfe.indexOf(s)!==-1}),T=efe(A);return B.jsx(tfe,oe({className:Lt(T.root,o),as:s,role:!y&&a?"img":void 0,ref:r,style:x,ownerState:A,src:y?a||f:void 0},g,{children:i}))}),ofe=ife;function afe(e){return tr("PrivateSwitchBase",e)}ir("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const sfe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],lfe=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${mt(i)}`],input:["input"]};return nr(o,afe,t)},cfe=vt(Ng)(({ownerState:e})=>oe({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),ufe=vt("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),dfe=V.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:f,disableFocusRipple:h=!1,edge:g=!1,icon:y,id:x,inputProps:A,inputRef:T,name:w,onBlur:M,onChange:O,onFocus:I,readOnly:E,required:R=!1,tabIndex:N,type:D,value:F}=t,q=Rt(t,sfe),[J,Q]=Zm({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ae=uc(),he=Oe=>{I&&I(Oe),ae&&ae.onFocus&&ae.onFocus(Oe)},fe=Oe=>{M&&M(Oe),ae&&ae.onBlur&&ae.onBlur(Oe)},we=Oe=>{if(Oe.nativeEvent.defaultPrevented)return;const qe=Oe.target.checked;Q(qe),O&&O(Oe,qe)};let ge=f;ae&&typeof ge>"u"&&(ge=ae.disabled);const Ce=D==="checkbox"||D==="radio",Te=oe({},t,{checked:J,disabled:ge,disableFocusRipple:h,edge:g}),Ee=lfe(Te);return B.jsxs(cfe,oe({component:"span",className:Lt(Ee.root,s),centerRipple:!0,focusRipple:!h,disabled:ge,tabIndex:null,role:void 0,onFocus:he,onBlur:fe,ownerState:Te,ref:r},q,{children:[B.jsx(ufe,oe({autoFocus:n,checked:i,defaultChecked:a,className:Ee.input,disabled:ge,id:Ce?x:void 0,name:w,onChange:we,readOnly:E,ref:T,required:R,ownerState:Te,tabIndex:N,type:D},D==="checkbox"&&F===void 0?{}:{value:F},A)),J?o:y]}))}),ffe=dfe,hfe=Lg(B.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),pfe=Lg(B.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),mfe=Lg(B.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function gfe(e){return tr("MuiCheckbox",e)}const yfe=ir("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),_T=yfe,vfe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],_fe=e=>{const{classes:t,indeterminate:r,color:n,size:i}=e,o={root:["root",r&&"indeterminate",`color${mt(n)}`,`size${mt(i)}`]},s=nr(o,gfe,t);return oe({},t,s)},xfe=vt(ffe,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,r.color!=="default"&&t[`color${mt(r.color)}`]]}})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Mn(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${_T.checked}, &.${_T.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${_T.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),bfe=B.jsx(pfe,{}),wfe=B.jsx(hfe,{}),Sfe=B.jsx(mfe,{}),Efe=V.forwardRef(function(t,r){var n,i;const o=or({props:t,name:"MuiCheckbox"}),{checkedIcon:s=bfe,color:a="primary",icon:f=wfe,indeterminate:h=!1,indeterminateIcon:g=Sfe,inputProps:y,size:x="medium",className:A}=o,T=Rt(o,vfe),w=h?g:f,M=h?g:s,O=oe({},o,{color:a,indeterminate:h,size:x}),I=_fe(O);return B.jsx(xfe,oe({type:"checkbox",inputProps:oe({"data-indeterminate":h},y),icon:V.cloneElement(w,{fontSize:(n=w.props.fontSize)!=null?n:x}),checkedIcon:V.cloneElement(M,{fontSize:(i=M.props.fontSize)!=null?i:x}),ownerState:O,ref:r,className:Lt(I.root,A)},T,{classes:I}))}),Q3=Efe,Cfe=gae({createStyledComponent:vt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${mt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>or({props:e,name:"MuiContainer"})}),$w=Cfe,kfe=(e,t)=>oe({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Tfe=e=>oe({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Pfe=(e,t=!1)=>{var r;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var f;n[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(f=a.palette)==null?void 0:f.mode}});let i=oe({html:kfe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:oe({margin:0},Tfe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const o=(r=e.components)==null||(r=r.MuiCssBaseline)==null?void 0:r.styleOverrides;return o&&(i=[i,o]),i};function Afe(e){const t=or({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return B.jsxs(V.Fragment,{children:[B.jsx(m9,{styles:i=>Pfe(i,n)}),r]})}const Mfe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Ofe=vt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>oe({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Ife=vt(sde,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Rfe=V.forwardRef(function(t,r){var n,i,o,s,a,f;const h=or({name:"MuiModal",props:t}),{BackdropComponent:g=Ife,BackdropProps:y,classes:x,className:A,closeAfterTransition:T=!1,children:w,container:M,component:O,components:I={},componentsProps:E={},disableAutoFocus:R=!1,disableEnforceFocus:N=!1,disableEscapeKeyDown:D=!1,disablePortal:F=!1,disableRestoreFocus:q=!1,disableScrollLock:J=!1,hideBackdrop:Q=!1,keepMounted:ae=!1,onBackdropClick:he,onClose:fe,open:we,slotProps:ge,slots:Ce,theme:Te}=h,Ee=Rt(h,Mfe),[Oe,qe]=V.useState(!0),rt={container:M,closeAfterTransition:T,disableAutoFocus:R,disableEnforceFocus:N,disableEscapeKeyDown:D,disablePortal:F,disableRestoreFocus:q,disableScrollLock:J,hideBackdrop:Q,keepMounted:ae,onBackdropClick:he,onClose:fe,open:we},Pe=oe({},h,rt,{exited:Oe}),je=(n=(i=Ce==null?void 0:Ce.root)!=null?i:I.Root)!=null?n:Ofe,Le=(o=(s=Ce==null?void 0:Ce.backdrop)!=null?s:I.Backdrop)!=null?o:g,Ye=(a=ge==null?void 0:ge.root)!=null?a:E.root,Be=(f=ge==null?void 0:ge.backdrop)!=null?f:E.backdrop;return B.jsx(_ue,oe({slots:{root:je,backdrop:Le},slotProps:{root:()=>oe({},aM(Ye,Pe),!e_(je)&&{as:O,theme:Te},{className:Lt(A,Ye==null?void 0:Ye.className,x==null?void 0:x.root,!Pe.open&&Pe.exited&&(x==null?void 0:x.hidden))}),backdrop:()=>oe({},y,aM(Be,Pe),{className:Lt(Be==null?void 0:Be.className,y==null?void 0:y.className,x==null?void 0:x.backdrop)})},onTransitionEnter:()=>qe(!1),onTransitionExited:()=>qe(!0),ref:r},Ee,rt,{children:w}))}),$fe=Rfe;function Dfe(e){return tr("MuiDivider",e)}const Lfe=ir("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),e5=Lfe,Nfe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],zfe=e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:s,textAlign:a,variant:f}=e;return nr({root:["root",t&&"absolute",f,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Dfe,n)},jfe=vt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>oe({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Mn(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>oe({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>oe({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Bfe=vt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>oe({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),v9=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:y=a!=="hr"?"separator":void 0,textAlign:x="center",variant:A="fullWidth"}=n,T=Rt(n,Nfe),w=oe({},n,{absolute:i,component:a,flexItem:f,light:h,orientation:g,role:y,textAlign:x,variant:A}),M=zfe(w);return B.jsx(jfe,oe({as:a,className:Lt(M.root,s),role:y,ref:r,ownerState:w},T,{children:o?B.jsx(Bfe,{className:M.wrapper,ownerState:w,children:o}):null}))});v9.muiSkipListHighlight=!0;const s$=v9,Ffe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Ufe=e=>{const{classes:t,disableUnderline:r}=e,i=nr({root:["root",!r&&"underline"],input:["input"]},jue,t);return oe({},t,i)},Vfe=vt(oE,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...nE(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return oe({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${Cf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${Cf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cf.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cf.disabled}, .${Cf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Cf.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&oe({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),Wfe=vt(aE,{name:"MuiFilledInput",slot:"Input",overridesResolver:iE})(({theme:e,ownerState:t})=>oe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),_9=V.forwardRef(function(t,r){var n,i,o,s;const a=or({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:h,fullWidth:g=!1,inputComponent:y="input",multiline:x=!1,slotProps:A,slots:T={},type:w="text"}=a,M=Rt(a,Ffe),O=oe({},a,{fullWidth:g,inputComponent:y,multiline:x,type:w}),I=Ufe(a),E={root:{ownerState:O},input:{ownerState:O}},R=A??h?zo(A??h,E):E,N=(n=(i=T.root)!=null?i:f.Root)!=null?n:Vfe,D=(o=(s=T.input)!=null?s:f.Input)!=null?o:Wfe;return B.jsx(a$,oe({slots:{root:N,input:D},componentsProps:R,fullWidth:g,inputComponent:y,multiline:x,ref:r,type:w},M,{classes:I}))});_9.muiName="Input";const x9=_9;function qfe(e){return tr("MuiFormControl",e)}ir("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hfe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Gfe=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${mt(r)}`,n&&"fullWidth"]};return nr(i,qfe,t)},Yfe=vt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,t[`margin${mt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>oe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Kfe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,error:h=!1,focused:g,fullWidth:y=!1,hiddenLabel:x=!1,margin:A="none",required:T=!1,size:w="medium",variant:M="outlined"}=n,O=Rt(n,Hfe),I=oe({},n,{color:s,component:a,disabled:f,error:h,fullWidth:y,hiddenLabel:x,margin:A,required:T,size:w,variant:M}),E=Gfe(I),[R,N]=V.useState(()=>{let fe=!1;return i&&V.Children.forEach(i,we=>{if(!D1(we,["Input","Select"]))return;const ge=D1(we,["Select"])?we.props.input:we;ge&&Pue(ge.props)&&(fe=!0)}),fe}),[D,F]=V.useState(()=>{let fe=!1;return i&&V.Children.forEach(i,we=>{D1(we,["Input","Select"])&&(Rw(we.props,!0)||Rw(we.props.inputProps,!0))&&(fe=!0)}),fe}),[q,J]=V.useState(!1);f&&q&&J(!1);const Q=g!==void 0&&!f?g:q;let ae;const he=V.useMemo(()=>({adornedStart:R,setAdornedStart:N,color:s,disabled:f,error:h,filled:D,focused:Q,fullWidth:y,hiddenLabel:x,size:w,onBlur:()=>{J(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{J(!0)},registerEffect:ae,required:T,variant:M}),[R,s,f,h,D,Q,y,x,ae,T,w,M]);return B.jsx(rE.Provider,{value:he,children:B.jsx(Yfe,oe({as:a,ownerState:I,className:Lt(E.root,o),ref:r},O,{children:i}))})}),sE=Kfe,Zfe=Eae({createStyledComponent:vt("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>or({props:e,name:"MuiStack"})}),Xfe=Zfe;function Jfe(e){return tr("MuiFormControlLabel",e)}const Qfe=ir("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Kv=Qfe,ehe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],the=e=>{const{classes:t,disabled:r,labelPlacement:n,error:i,required:o}=e,s={root:["root",r&&"disabled",`labelPlacement${mt(n)}`,i&&"error",o&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return nr(s,Jfe,t)},rhe=vt("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Kv.label}`]:t.label},t.root,t[`labelPlacement${mt(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>oe({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Kv.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Kv.label}`]:{[`&.${Kv.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),nhe=vt("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Kv.error}`]:{color:(e.vars||e).palette.error.main}})),ihe=V.forwardRef(function(t,r){var n,i;const o=or({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:f,disabled:h,disableTypography:g,label:y,labelPlacement:x="end",required:A,slotProps:T={}}=o,w=Rt(o,ehe),M=uc(),O=(n=h??f.props.disabled)!=null?n:M==null?void 0:M.disabled,I=A??f.props.required,E={disabled:O,required:I};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof f.props[J]>"u"&&typeof o[J]<"u"&&(E[J]=o[J])});const R=Yd({props:o,muiFormControl:M,states:["error"]}),N=oe({},o,{disabled:O,labelPlacement:x,required:I,error:R.error}),D=the(N),F=(i=T.typography)!=null?i:a.typography;let q=y;return q!=null&&q.type!==Or&&!g&&(q=B.jsx(Or,oe({component:"span"},F,{className:Lt(D.label,F==null?void 0:F.className),children:q}))),B.jsxs(rhe,oe({className:Lt(D.root,s),ownerState:N,ref:r},w,{children:[V.cloneElement(f,E),I?B.jsxs(Xfe,{direction:"row",alignItems:"center",children:[q,B.jsxs(nhe,{ownerState:N,"aria-hidden":!0,className:D.asterisk,children:["","*"]})]}):q]}))}),t5=ihe;function ohe(e){return tr("MuiFormGroup",e)}ir("MuiFormGroup",["root","row","error"]);const ahe=["className","row"],she=e=>{const{classes:t,row:r,error:n}=e;return nr({root:["root",r&&"row",n&&"error"]},ohe,t)},lhe=vt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>oe({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),che=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=n,s=Rt(n,ahe),a=uc(),f=Yd({props:n,muiFormControl:a,states:["error"]}),h=oe({},n,{row:o,error:f.error}),g=she(h);return B.jsx(lhe,oe({className:Lt(g.root,i),ownerState:h,ref:r},s))}),uhe=che;function dhe(e){return tr("MuiFormHelperText",e)}const fhe=ir("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),r5=fhe;var n5;const hhe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],phe=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:a,required:f}=e,h={root:["root",i&&"disabled",o&&"error",n&&`size${mt(n)}`,r&&"contained",a&&"focused",s&&"filled",f&&"required"]};return nr(h,dhe,t)},mhe=vt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${mt(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${r5.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${r5.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),ghe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=n,a=Rt(n,hhe),f=uc(),h=Yd({props:n,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),g=oe({},n,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=phe(g);return B.jsx(mhe,oe({as:s,ownerState:g,className:Lt(y.root,o),ref:r},a,{children:i===" "?n5||(n5=B.jsx("span",{className:"notranslate",children:""})):i}))}),yhe=ghe;function vhe(e){return tr("MuiFormLabel",e)}const _he=ir("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),g0=_he,xhe=["children","className","color","component","disabled","error","filled","focused","required"],bhe=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:a}=e,f={root:["root",`color${mt(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return nr(f,vhe,t)},whe=vt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${g0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${g0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${g0.error}`]:{color:(e.vars||e).palette.error.main}})),She=vt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${g0.error}`]:{color:(e.vars||e).palette.error.main}})),Ehe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=n,a=Rt(n,xhe),f=uc(),h=Yd({props:n,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),g=oe({},n,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=bhe(g);return B.jsxs(whe,oe({as:s,ownerState:g,className:Lt(y.root,o),ref:r},a,{children:[i,h.required&&B.jsxs(She,{ownerState:g,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]}))}),Che=Ehe,khe=V.createContext(),i5=khe;function The(e){return tr("MuiGrid",e)}const Phe=[0,1,2,3,4,5,6,7,8,9,10],Ahe=["column-reverse","column","row-reverse","row"],Mhe=["nowrap","wrap-reverse","wrap"],yv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],n_=ir("MuiGrid",["root","container","item","zeroMinWidth",...Phe.map(e=>`spacing-xs-${e}`),...Ahe.map(e=>`direction-xs-${e}`),...Mhe.map(e=>`wrap-xs-${e}`),...yv.map(e=>`grid-xs-${e}`),...yv.map(e=>`grid-sm-${e}`),...yv.map(e=>`grid-md-${e}`),...yv.map(e=>`grid-lg-${e}`),...yv.map(e=>`grid-xl-${e}`)]),Ohe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Am(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Ihe({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let o={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=eh({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return n;const f=`${Math.round(r/a*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const g=e.spacing(t.columnSpacing);if(g!=="0px"){const y=`calc(${f} + ${Am(g)})`;h={flexBasis:y,maxWidth:y}}}o=oe({flexBasis:f,flexGrow:0,maxWidth:f},h)}return e.breakpoints.values[i]===0?Object.assign(n,o):n[e.breakpoints.up(i)]=o,n},{})}function Rhe({theme:e,ownerState:t}){const r=eh({values:t.direction,breakpoints:e.breakpoints.values});return Pa({theme:e},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${n_.item}`]={maxWidth:"none"}),i})}function b9({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,o)=>e[i]-e[o]);return n.slice(0,n.indexOf(r))}function $he({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const o=eh({values:n,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=b9({breakpoints:e.breakpoints.values,values:o})),i=Pa({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{marginTop:`-${Am(g)}`,[`& > .${n_.item}`]:{paddingTop:Am(g)}}:(h=s)!=null&&h.includes(f)?{}:{marginTop:0,[`& > .${n_.item}`]:{paddingTop:0}}})}return i}function Dhe({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const o=eh({values:n,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=b9({breakpoints:e.breakpoints.values,values:o})),i=Pa({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{width:`calc(100% + ${Am(g)})`,marginLeft:`-${Am(g)}`,[`& > .${n_.item}`]:{paddingLeft:Am(g)}}:(h=s)!=null&&h.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${n_.item}`]:{paddingLeft:0}}})}return i}function Lhe(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&n.push(r[`spacing-${i}-${String(o)}`])}),n}const Nhe=vt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:f,breakpoints:h}=r;let g=[];n&&(g=Lhe(s,h,t));const y=[];return h.forEach(x=>{const A=r[x];A&&y.push(t[`grid-${x}-${String(A)}`])}),[t.root,n&&t.container,o&&t.item,f&&t.zeroMinWidth,...g,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...y]}})(({ownerState:e})=>oe({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Rhe,$he,Dhe,Ihe);function zhe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const o=`spacing-${n}-${String(i)}`;r.push(o)}}),r}const jhe=e=>{const{classes:t,container:r,direction:n,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:f}=e;let h=[];r&&(h=zhe(o,f));const g=[];f.forEach(x=>{const A=e[x];A&&g.push(`grid-${x}-${String(A)}`)});const y={root:["root",r&&"container",i&&"item",a&&"zeroMinWidth",...h,n!=="row"&&`direction-xs-${String(n)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...g]};return nr(y,The,t)},Bhe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiGrid"}),{breakpoints:i}=xu(),o=F2(n),{className:s,columns:a,columnSpacing:f,component:h="div",container:g=!1,direction:y="row",item:x=!1,rowSpacing:A,spacing:T=0,wrap:w="wrap",zeroMinWidth:M=!1}=o,O=Rt(o,Ohe),I=A||T,E=f||T,R=V.useContext(i5),N=g?a||12:R,D={},F=oe({},O);i.keys.forEach(Q=>{O[Q]!=null&&(D[Q]=O[Q],delete F[Q])});const q=oe({},o,{columns:N,container:g,direction:y,item:x,rowSpacing:I,columnSpacing:E,wrap:w,zeroMinWidth:M,spacing:T},D,{breakpoints:i.keys}),J=jhe(q);return B.jsx(i5.Provider,{value:N,children:B.jsx(Nhe,oe({ownerState:q,className:Lt(J.root,s),as:h,ref:r},F))})}),o5=Bhe,Fhe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function uM(e){return`scale(${e}, ${e**2})`}const Uhe={entering:{opacity:1,transform:uM(1)},entered:{opacity:1,transform:"none"}},xT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),w9=V.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:s,in:a,onEnter:f,onEntered:h,onEntering:g,onExit:y,onExited:x,onExiting:A,style:T,timeout:w="auto",TransitionComponent:M=YR}=t,O=Rt(t,Fhe),I=V.useRef(),E=V.useRef(),R=xu(),N=V.useRef(null),D=ci(N,o.ref,r),F=ge=>Ce=>{if(ge){const Te=N.current;Ce===void 0?ge(Te):ge(Te,Ce)}},q=F(g),J=F((ge,Ce)=>{e9(ge);const{duration:Te,delay:Ee,easing:Oe}=Qm({style:T,timeout:w,easing:s},{mode:"enter"});let qe;w==="auto"?(qe=R.transitions.getAutoHeightDuration(ge.clientHeight),E.current=qe):qe=Te,ge.style.transition=[R.transitions.create("opacity",{duration:qe,delay:Ee}),R.transitions.create("transform",{duration:xT?qe:qe*.666,delay:Ee,easing:Oe})].join(","),f&&f(ge,Ce)}),Q=F(h),ae=F(A),he=F(ge=>{const{duration:Ce,delay:Te,easing:Ee}=Qm({style:T,timeout:w,easing:s},{mode:"exit"});let Oe;w==="auto"?(Oe=R.transitions.getAutoHeightDuration(ge.clientHeight),E.current=Oe):Oe=Ce,ge.style.transition=[R.transitions.create("opacity",{duration:Oe,delay:Te}),R.transitions.create("transform",{duration:xT?Oe:Oe*.666,delay:xT?Te:Te||Oe*.333,easing:Ee})].join(","),ge.style.opacity=0,ge.style.transform=uM(.75),y&&y(ge)}),fe=F(x),we=ge=>{w==="auto"&&(I.current=setTimeout(ge,E.current||0)),n&&n(N.current,ge)};return V.useEffect(()=>()=>{clearTimeout(I.current)},[]),B.jsx(M,oe({appear:i,in:a,nodeRef:N,onEnter:J,onEntered:Q,onEntering:q,onExit:he,onExited:fe,onExiting:ae,addEndListener:we,timeout:w==="auto"?null:w},O,{children:(ge,Ce)=>V.cloneElement(o,oe({style:oe({opacity:0,transform:uM(.75),visibility:ge==="exited"&&!a?"hidden":void 0},Uhe[ge],T,o.props.style),ref:D},Ce))}))});w9.muiSupportAuto=!0;const Dw=w9,Vhe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Whe=e=>{const{classes:t,disableUnderline:r}=e,i=nr({root:["root",!r&&"underline"],input:["input"]},Due,t);return oe({},t,i)},qhe=vt(oE,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...nE(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),oe({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${gv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${gv.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${gv.disabled}, .${gv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${gv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Hhe=vt(aE,{name:"MuiInput",slot:"Input",overridesResolver:iE})({}),S9=V.forwardRef(function(t,r){var n,i,o,s;const a=or({props:t,name:"MuiInput"}),{disableUnderline:f,components:h={},componentsProps:g,fullWidth:y=!1,inputComponent:x="input",multiline:A=!1,slotProps:T,slots:w={},type:M="text"}=a,O=Rt(a,Vhe),I=Whe(a),R={root:{ownerState:{disableUnderline:f}}},N=T??g?zo(T??g,R):R,D=(n=(i=w.root)!=null?i:h.Root)!=null?n:qhe,F=(o=(s=w.input)!=null?s:h.Input)!=null?o:Hhe;return B.jsx(a$,oe({slots:{root:D,input:F},slotProps:N,fullWidth:y,inputComponent:x,multiline:A,ref:r,type:M},O,{classes:I}))});S9.muiName="Input";const E9=S9;function Ghe(e){return tr("MuiInputAdornment",e)}const Yhe=ir("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),a5=Yhe;var s5;const Khe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Zhe=(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${mt(r.position)}`],r.disablePointerEvents===!0&&t.disablePointerEvents,t[r.variant]]},Xhe=e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:n,position:i,size:o,variant:s}=e,a={root:["root",r&&"disablePointerEvents",i&&`position${mt(i)}`,s,n&&"hiddenLabel",o&&`size${mt(o)}`]};return nr(a,Ghe,t)},Jhe=vt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Zhe})(({theme:e,ownerState:t})=>oe({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${a5.positionStart}&:not(.${a5.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Qhe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:f=!1,position:h,variant:g}=n,y=Rt(n,Khe),x=uc()||{};let A=g;g&&x.variant,x&&!A&&(A=x.variant);const T=oe({},n,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:a,position:h,variant:A}),w=Xhe(T);return B.jsx(rE.Provider,{value:null,children:B.jsx(Jhe,oe({as:s,ownerState:T,className:Lt(w.root,o),ref:r},y,{children:typeof i=="string"&&!f?B.jsx(Or,{color:"text.secondary",children:i}):B.jsxs(V.Fragment,{children:[h==="start"?s5||(s5=B.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),epe=Qhe;function tpe(e){return tr("MuiInputLabel",e)}ir("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const rpe=["disableAnimation","margin","shrink","variant","className"],npe=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:a}=e,h=nr({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n==="small"&&"sizeSmall",s],asterisk:[a&&"asterisk"]},tpe,t);return oe({},t,h)},ipe=vt(Che,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${g0.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&oe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),ope=V.forwardRef(function(t,r){const n=or({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=n,a=Rt(n,rpe),f=uc();let h=o;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const g=Yd({props:n,muiFormControl:f,states:["size","variant","required"]}),y=oe({},n,{disableAnimation:i,formControl:f,shrink:h,size:g.size,variant:g.variant,required:g.required}),x=npe(y);return B.jsx(ipe,oe({"data-shrink":h,ownerState:y,ref:r,className:Lt(x.root,s)},a,{classes:x}))}),lE=ope;function ape(e){return tr("MuiLink",e)}const spe=ir("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),lpe=spe,C9={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},cpe=e=>C9[e]||e,upe=({theme:e,ownerState:t})=>{const r=cpe(t.color),n=Jm(e,`palette.${r}`,!1)||t.color,i=Jm(e,`palette.${r}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:Mn(n,.4)},dpe=upe,fpe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],hpe=e=>{const{classes:t,component:r,focusVisible:n,underline:i}=e,o={root:["root",`underline${mt(i)}`,r==="button"&&"button",n&&"focusVisible"]};return nr(o,ape,t)},ppe=vt(Or,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${mt(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>oe({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&oe({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:dpe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lpe.focusVisible}`]:{outline:"auto"}})),mpe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:f,TypographyClasses:h,underline:g="always",variant:y="inherit",sx:x}=n,A=Rt(n,fpe),{isFocusVisibleRef:T,onBlur:w,onFocus:M,ref:O}=P2(),[I,E]=V.useState(!1),R=ci(r,O),N=J=>{w(J),T.current===!1&&E(!1),a&&a(J)},D=J=>{M(J),T.current===!0&&E(!0),f&&f(J)},F=oe({},n,{color:o,component:s,focusVisible:I,underline:g,variant:y}),q=hpe(F);return B.jsx(ppe,oe({color:o,className:Lt(q.root,i),classes:h,component:s,onBlur:N,onFocus:D,ref:R,ownerState:F,variant:y,sx:[...Object.keys(C9).includes(o)?[]:[{color:o}],...Array.isArray(x)?x:[x]]},A))}),gpe=mpe,ype=V.createContext({}),bh=ype;function vpe(e){return tr("MuiList",e)}ir("MuiList",["root","padding","dense","subheader"]);const _pe=["children","className","component","dense","disablePadding","subheader"],xpe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return nr({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},vpe,t)},bpe=vt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>oe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),wpe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:f=!1,subheader:h}=n,g=Rt(n,_pe),y=V.useMemo(()=>({dense:a}),[a]),x=oe({},n,{component:s,dense:a,disablePadding:f}),A=xpe(x);return B.jsx(bh.Provider,{value:y,children:B.jsxs(bpe,oe({as:s,className:Lt(A.root,o),ref:r,ownerState:x},g,{children:[h,i]}))})}),Spe=wpe;function Epe(e){return tr("MuiListItemButton",e)}const Cpe=ir("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),vv=Cpe,kpe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Tpe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},Ppe=e=>{const{alignItems:t,classes:r,dense:n,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=nr({root:["root",n&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Epe,r);return oe({},r,h)},Ape=vt(Ng,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Tpe})(({theme:e,ownerState:t})=>oe({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${vv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${vv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${vv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${vv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Mpe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:f=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:y,selected:x=!1,className:A}=n,T=Rt(n,kpe),w=V.useContext(bh),M=V.useMemo(()=>({dense:f||w.dense||!1,alignItems:i,disableGutters:h}),[i,w.dense,f,h]),O=V.useRef(null);yl(()=>{o&&O.current&&O.current.focus()},[o]);const I=oe({},n,{alignItems:i,dense:M.dense,disableGutters:h,divider:g,selected:x}),E=Ppe(I),R=ci(O,r);return B.jsx(bh.Provider,{value:M,children:B.jsx(Ape,oe({ref:R,href:T.href||T.to,component:(T.href||T.to)&&s==="div"?"button":s,focusVisibleClassName:Lt(E.focusVisible,y),ownerState:I,className:Lt(E.root,A)},T,{classes:E,children:a}))})}),Ope=Mpe;function Ipe(e){return tr("MuiListItemAvatar",e)}ir("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Rpe=["className"],$pe=e=>{const{alignItems:t,classes:r}=e;return nr({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Ipe,r)},Dpe=vt("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>oe({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),Lpe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiListItemAvatar"}),{className:i}=n,o=Rt(n,Rpe),s=V.useContext(bh),a=oe({},n,{alignItems:s.alignItems}),f=$pe(a);return B.jsx(Dpe,oe({className:Lt(f.root,i),ownerState:a,ref:r},o))}),Npe=Lpe,zpe=ir("MuiListItemIcon",["root","alignItemsFlexStart"]),l5=zpe;function jpe(e){return tr("MuiListItemText",e)}const Bpe=ir("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Lw=Bpe,Fpe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Upe=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:o}=e;return nr({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},jpe,t)},Vpe=vt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Lw.primary}`]:t.primary},{[`& .${Lw.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>oe({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Wpe=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:f,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:y}=n,x=Rt(n,Fpe),{dense:A}=V.useContext(bh);let T=f??i,w=g;const M=oe({},n,{disableTypography:s,inset:a,primary:!!T,secondary:!!w,dense:A}),O=Upe(M);return T!=null&&T.type!==Or&&!s&&(T=B.jsx(Or,oe({variant:A?"body2":"body1",className:O.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:T}))),w!=null&&w.type!==Or&&!s&&(w=B.jsx(Or,oe({variant:"body2",className:O.secondary,color:"text.secondary",display:"block"},y,{children:w}))),B.jsxs(Vpe,oe({className:Lt(O.root,o),ownerState:M,ref:r},x,{children:[T,w]}))}),qpe=Wpe,Hpe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function bT(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function c5(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function k9(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function _v(e,t,r,n,i,o){let s=!1,a=i(e,t,t?r:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const f=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!k9(a,o)||f)a=i(e,a,r);else return a.focus(),!0}return!1}const Gpe=V.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:g,variant:y="selectedMenu"}=t,x=Rt(t,Hpe),A=V.useRef(null),T=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});yl(()=>{i&&A.current.focus()},[i]),V.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(E,R)=>{const N=!A.current.style.width;if(E.clientHeight<A.current.clientHeight&&N){const D=`${wW(Fi(E))}px`;A.current.style[R.direction==="rtl"?"paddingLeft":"paddingRight"]=D,A.current.style.width=`calc(100% + ${D})`}return A.current}}),[]);const w=E=>{const R=A.current,N=E.key,D=Fi(R).activeElement;if(N==="ArrowDown")E.preventDefault(),_v(R,D,h,f,bT);else if(N==="ArrowUp")E.preventDefault(),_v(R,D,h,f,c5);else if(N==="Home")E.preventDefault(),_v(R,null,h,f,bT);else if(N==="End")E.preventDefault(),_v(R,null,h,f,c5);else if(N.length===1){const F=T.current,q=N.toLowerCase(),J=performance.now();F.keys.length>0&&(J-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&q!==F.keys[0]&&(F.repeating=!1)),F.lastTime=J,F.keys.push(q);const Q=D&&!F.repeating&&k9(D,F);F.previousKeyMatched&&(Q||_v(R,D,!1,f,bT,F))?E.preventDefault():F.previousKeyMatched=!1}g&&g(E)},M=ci(A,r);let O=-1;V.Children.forEach(s,(E,R)=>{if(!V.isValidElement(E)){O===R&&(O+=1,O>=s.length&&(O=-1));return}E.props.disabled||(y==="selectedMenu"&&E.props.selected||O===-1)&&(O=R),O===R&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(O+=1,O>=s.length&&(O=-1))});const I=V.Children.map(s,(E,R)=>{if(R===O){const N={};return o&&(N.autoFocus=!0),E.props.tabIndex===void 0&&y==="selectedMenu"&&(N.tabIndex=0),V.cloneElement(E,N)}return E});return B.jsx(Spe,oe({role:"menu",ref:M,className:a,onKeyDown:w,tabIndex:i?0:-1},x,{children:I}))}),Ype=Gpe;function Kpe(e){return tr("MuiPopover",e)}ir("MuiPopover",["root","paper"]);const Zpe=["onEntering"],Xpe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Jpe=["slotProps"];function u5(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function d5(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function f5(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function wT(e){return typeof e=="function"?e():e}const Qpe=e=>{const{classes:t}=e;return nr({root:["root"],paper:["paper"]},Kpe,t)},eme=vt($fe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),T9=vt(vl,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),tme=V.forwardRef(function(t,r){var n,i,o;const s=or({props:t,name:"MuiPopover"}),{action:a,anchorEl:f,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:y="anchorEl",children:x,className:A,container:T,elevation:w=8,marginThreshold:M=16,open:O,PaperProps:I={},slots:E,slotProps:R,transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:D=Dw,transitionDuration:F="auto",TransitionProps:{onEntering:q}={}}=s,J=Rt(s.TransitionProps,Zpe),Q=Rt(s,Xpe),ae=(n=R==null?void 0:R.paper)!=null?n:I,he=V.useRef(),fe=ci(he,ae.ref),we=oe({},s,{anchorOrigin:h,anchorReference:y,elevation:w,marginThreshold:M,externalPaperSlotProps:ae,transformOrigin:N,TransitionComponent:D,transitionDuration:F,TransitionProps:J}),ge=Qpe(we),Ce=V.useCallback(()=>{if(y==="anchorPosition")return g;const Fe=wT(f),Et=(Fe&&Fe.nodeType===1?Fe:Fi(he.current).body).getBoundingClientRect();return{top:Et.top+u5(Et,h.vertical),left:Et.left+d5(Et,h.horizontal)}},[f,h.horizontal,h.vertical,g,y]),Te=V.useCallback(Fe=>({vertical:u5(Fe,N.vertical),horizontal:d5(Fe,N.horizontal)}),[N.horizontal,N.vertical]),Ee=V.useCallback(Fe=>{const Me={width:Fe.offsetWidth,height:Fe.offsetHeight},Et=Te(Me);if(y==="none")return{top:null,left:null,transformOrigin:f5(Et)};const Zt=Ce();let Ot=Zt.top-Et.vertical,jt=Zt.left-Et.horizontal;const Mr=Ot+Me.height,Hr=jt+Me.width,pr=Dd(wT(f)),Sr=pr.innerHeight-M,cr=pr.innerWidth-M;if(Ot<M){const Er=Ot-M;Ot-=Er,Et.vertical+=Er}else if(Mr>Sr){const Er=Mr-Sr;Ot-=Er,Et.vertical+=Er}if(jt<M){const Er=jt-M;jt-=Er,Et.horizontal+=Er}else if(Hr>cr){const Er=Hr-cr;jt-=Er,Et.horizontal+=Er}return{top:`${Math.round(Ot)}px`,left:`${Math.round(jt)}px`,transformOrigin:f5(Et)}},[f,y,Ce,Te,M]),[Oe,qe]=V.useState(O),rt=V.useCallback(()=>{const Fe=he.current;if(!Fe)return;const Me=Ee(Fe);Me.top!==null&&(Fe.style.top=Me.top),Me.left!==null&&(Fe.style.left=Me.left),Fe.style.transformOrigin=Me.transformOrigin,qe(!0)},[Ee]),Pe=(Fe,Me)=>{q&&q(Fe,Me),rt()},je=()=>{qe(!1)};V.useEffect(()=>{O&&rt()}),V.useImperativeHandle(a,()=>O?{updatePosition:()=>{rt()}}:null,[O,rt]),V.useEffect(()=>{if(!O)return;const Fe=ER(()=>{rt()}),Me=Dd(f);return Me.addEventListener("resize",Fe),()=>{Fe.clear(),Me.removeEventListener("resize",Fe)}},[f,O,rt]);let Le=F;F==="auto"&&!D.muiSupportAuto&&(Le=void 0);const Ye=T||(f?Fi(wT(f)).body:void 0),Be=(i=E==null?void 0:E.root)!=null?i:eme,lt=(o=E==null?void 0:E.paper)!=null?o:T9,it=oc({elementType:lt,externalSlotProps:oe({},ae,{style:Oe?ae.style:oe({},ae.style,{opacity:0})}),additionalProps:{elevation:w,ref:fe},ownerState:we,className:Lt(ge.paper,ae==null?void 0:ae.className)}),Ve=oc({elementType:Be,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:Q,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Ye,open:O},ownerState:we,className:Lt(ge.root,A)}),{slotProps:Xe}=Ve,ct=Rt(Ve,Jpe);return B.jsx(Be,oe({},ct,!e_(Be)&&{slotProps:Xe},{children:B.jsx(D,oe({appear:!0,in:O,onEntering:Pe,onExited:je,timeout:Le},J,{children:B.jsx(lt,oe({},it,{children:x}))}))}))}),rme=tme;function nme(e){return tr("MuiMenu",e)}ir("MuiMenu",["root","paper","list"]);const ime=["onEntering"],ome=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ame={vertical:"top",horizontal:"right"},sme={vertical:"top",horizontal:"left"},lme=e=>{const{classes:t}=e;return nr({root:["root"],paper:["paper"],list:["list"]},nme,t)},cme=vt(rme,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ume=vt(T9,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),dme=vt(Ype,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),fme=V.forwardRef(function(t,r){var n,i;const o=or({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:f,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:y,open:x,PaperProps:A={},PopoverClasses:T,transitionDuration:w="auto",TransitionProps:{onEntering:M}={},variant:O="selectedMenu",slots:I={},slotProps:E={}}=o,R=Rt(o.TransitionProps,ime),N=Rt(o,ome),D=xu(),F=D.direction==="rtl",q=oe({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:M,PaperProps:A,transitionDuration:w,TransitionProps:R,variant:O}),J=lme(q),Q=s&&!h&&x,ae=V.useRef(null),he=(Oe,qe)=>{ae.current&&ae.current.adjustStyleForScrollbar(Oe,D),M&&M(Oe,qe)},fe=Oe=>{Oe.key==="Tab"&&(Oe.preventDefault(),y&&y(Oe,"tabKeyDown"))};let we=-1;V.Children.map(a,(Oe,qe)=>{V.isValidElement(Oe)&&(Oe.props.disabled||(O==="selectedMenu"&&Oe.props.selected||we===-1)&&(we=qe))});const ge=(n=I.paper)!=null?n:ume,Ce=(i=E.paper)!=null?i:A,Te=oc({elementType:I.root,externalSlotProps:E.root,ownerState:q,className:[J.root,f]}),Ee=oc({elementType:ge,externalSlotProps:Ce,ownerState:q,className:J.paper});return B.jsx(cme,oe({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?ame:sme,slots:{paper:ge,root:I.root},slotProps:{root:Te,paper:Ee},open:x,ref:r,transitionDuration:w,TransitionProps:oe({onEntering:he},R),ownerState:q},N,{classes:T,children:B.jsx(dme,oe({onKeyDown:fe,actions:ae,autoFocus:s&&(we===-1||h),autoFocusItem:Q,variant:O},g,{className:Lt(J.list,g.className),children:a}))}))}),P9=fme;function hme(e){return tr("MuiMenuItem",e)}const pme=ir("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),xv=pme,mme=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],gme=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},yme=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:o,classes:s}=e,f=nr({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},hme,s);return oe({},s,f)},vme=vt(Ng,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:gme})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${xv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${xv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${xv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${xv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${e5.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${e5.inset}`]:{marginLeft:52},[`& .${Lw.root}`]:{marginTop:0,marginBottom:0},[`& .${Lw.inset}`]:{paddingLeft:36},[`& .${l5.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&oe({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${l5.root} svg`]:{fontSize:"1.25rem"}}))),_me=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:y,className:x}=n,A=Rt(n,mme),T=V.useContext(bh),w=V.useMemo(()=>({dense:s||T.dense||!1,disableGutters:f}),[T.dense,s,f]),M=V.useRef(null);yl(()=>{i&&M.current&&M.current.focus()},[i]);const O=oe({},n,{dense:w.dense,divider:a,disableGutters:f}),I=yme(n),E=ci(M,r);let R;return n.disabled||(R=y!==void 0?y:-1),B.jsx(bh.Provider,{value:w,children:B.jsx(vme,oe({ref:E,role:g,tabIndex:R,component:o,focusVisibleClassName:Lt(I.focusVisible,h),className:Lt(I.root,x)},A,{ownerState:O,classes:I}))})}),fl=_me;function xme(e){return tr("MuiNativeSelect",e)}const bme=ir("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),l$=bme,wme=["className","disabled","error","IconComponent","inputRef","variant"],Sme=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e,a={select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${mt(r)}`,o&&"iconOpen",n&&"disabled"]};return nr(a,xme,t)},A9=({ownerState:e,theme:t})=>oe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":oe({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${l$.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Eme=vt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ds,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${l$.multiple}`]:t.multiple}]}})(A9),M9=({ownerState:e,theme:t})=>oe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${l$.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Cme=vt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${mt(r.variant)}`],r.open&&t.iconOpen]}})(M9),kme=V.forwardRef(function(t,r){const{className:n,disabled:i,error:o,IconComponent:s,inputRef:a,variant:f="standard"}=t,h=Rt(t,wme),g=oe({},t,{disabled:i,variant:f,error:o}),y=Sme(g);return B.jsxs(V.Fragment,{children:[B.jsx(Eme,oe({ownerState:g,className:Lt(y.select,n),disabled:i,ref:a||r},h)),t.multiple?null:B.jsx(Cme,{as:s,ownerState:g,className:y.icon})]})}),Tme=kme;var h5;const Pme=["children","classes","className","label","notched"],Ame=vt("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Mme=vt("legend")(({ownerState:e,theme:t})=>oe({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&oe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Ome(e){const{className:t,label:r,notched:n}=e,i=Rt(e,Pme),o=r!=null&&r!=="",s=oe({},e,{notched:n,withLabel:o});return B.jsx(Ame,oe({"aria-hidden":!0,className:t,ownerState:s},i,{children:B.jsx(Mme,{ownerState:s,children:o?B.jsx("span",{children:r}):h5||(h5=B.jsx("span",{className:"notranslate",children:""}))})}))}const Ime=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Rme=e=>{const{classes:t}=e,n=nr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Nue,t);return oe({},t,n)},$me=vt(oE,{shouldForwardProp:e=>Ds(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:nE})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return oe({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Gu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Gu.focused} .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Gu.error} .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Gu.disabled} .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&oe({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Dme=vt(Ome,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Lme=vt(aE,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:iE})(({theme:e,ownerState:t})=>oe({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),O9=V.forwardRef(function(t,r){var n,i,o,s,a;const f=or({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:y="input",label:x,multiline:A=!1,notched:T,slots:w={},type:M="text"}=f,O=Rt(f,Ime),I=Rme(f),E=uc(),R=Yd({props:f,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),N=oe({},f,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:E,fullWidth:g,hiddenLabel:R.hiddenLabel,multiline:A,size:R.size,type:M}),D=(n=(i=w.root)!=null?i:h.Root)!=null?n:$me,F=(o=(s=w.input)!=null?s:h.Input)!=null?o:Lme;return B.jsx(a$,oe({slots:{root:D,input:F},renderSuffix:q=>B.jsx(Dme,{ownerState:N,className:I.notchedOutline,label:x!=null&&x!==""&&R.required?a||(a=B.jsxs(V.Fragment,{children:[x,"","*"]})):x,notched:typeof T<"u"?T:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:g,inputComponent:y,multiline:A,ref:r,type:M},O,{classes:oe({},I,{notchedOutline:null})}))});O9.muiName="Input";const c$=O9;function Nme(e){return tr("MuiSelect",e)}const zme=ir("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),bv=zme;var p5;const jme=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Bme=vt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${bv.select}`]:t.select},{[`&.${bv.select}`]:t[r.variant]},{[`&.${bv.error}`]:t.error},{[`&.${bv.multiple}`]:t.multiple}]}})(A9,{[`&.${bv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Fme=vt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${mt(r.variant)}`],r.open&&t.iconOpen]}})(M9),Ume=vt("input",{shouldForwardProp:e=>Zae(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function m5(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Vme(e){return e==null||typeof e=="string"&&!e.trim()}const Wme=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e,a={select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${mt(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return nr(a,Nme,t)},qme=V.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:f,defaultOpen:h,defaultValue:g,disabled:y,displayEmpty:x,error:A=!1,IconComponent:T,inputRef:w,labelId:M,MenuProps:O={},multiple:I,name:E,onBlur:R,onChange:N,onClose:D,onFocus:F,onOpen:q,open:J,readOnly:Q,renderValue:ae,SelectDisplayProps:he={},tabIndex:fe,value:we,variant:ge="standard"}=t,Ce=Rt(t,jme),[Te,Ee]=Zm({controlled:we,default:g,name:"Select"}),[Oe,qe]=Zm({controlled:J,default:h,name:"Select"}),rt=V.useRef(null),Pe=V.useRef(null),[je,Le]=V.useState(null),{current:Ye}=V.useRef(J!=null),[Be,lt]=V.useState(),it=ci(r,w),Ve=V.useCallback(Ke=>{Pe.current=Ke,Ke&&Le(Ke)},[]),Xe=je==null?void 0:je.parentNode;V.useImperativeHandle(it,()=>({focus:()=>{Pe.current.focus()},node:rt.current,value:Te}),[Te]),V.useEffect(()=>{h&&Oe&&je&&!Ye&&(lt(s?null:Xe.clientWidth),Pe.current.focus())},[je,s]),V.useEffect(()=>{o&&Pe.current.focus()},[o]),V.useEffect(()=>{if(!M)return;const Ke=Fi(Pe.current).getElementById(M);if(Ke){const At=()=>{getSelection().isCollapsed&&Pe.current.focus()};return Ke.addEventListener("click",At),()=>{Ke.removeEventListener("click",At)}}},[M]);const ct=(Ke,At)=>{Ke?q&&q(At):D&&D(At),Ye||(lt(s?null:Xe.clientWidth),qe(Ke))},Fe=Ke=>{Ke.button===0&&(Ke.preventDefault(),Pe.current.focus(),ct(!0,Ke))},Me=Ke=>{ct(!1,Ke)},Et=V.Children.toArray(a),Zt=Ke=>{const At=Et.find($t=>$t.props.value===Ke.target.value);At!==void 0&&(Ee(At.props.value),N&&N(Ke,At))},Ot=Ke=>At=>{let $t;if(At.currentTarget.hasAttribute("tabindex")){if(I){$t=Array.isArray(Te)?Te.slice():[];const tn=Te.indexOf(Ke.props.value);tn===-1?$t.push(Ke.props.value):$t.splice(tn,1)}else $t=Ke.props.value;if(Ke.props.onClick&&Ke.props.onClick(At),Te!==$t&&(Ee($t),N)){const tn=At.nativeEvent||At,no=new tn.constructor(tn.type,tn);Object.defineProperty(no,"target",{writable:!0,value:{value:$t,name:E}}),N(no,Ke)}I||ct(!1,At)}},jt=Ke=>{Q||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ke.key)!==-1&&(Ke.preventDefault(),ct(!0,Ke))},Mr=je!==null&&Oe,Hr=Ke=>{!Mr&&R&&(Object.defineProperty(Ke,"target",{writable:!0,value:{value:Te,name:E}}),R(Ke))};delete Ce["aria-invalid"];let pr,Sr;const cr=[];let Er=!1;(Rw({value:Te})||x)&&(ae?pr=ae(Te):Er=!0);const un=Et.map(Ke=>{if(!V.isValidElement(Ke))return null;let At;if(I){if(!Array.isArray(Te))throw new Error($d(2));At=Te.some($t=>m5($t,Ke.props.value)),At&&Er&&cr.push(Ke.props.children)}else At=m5(Te,Ke.props.value),At&&Er&&(Sr=Ke.props.children);return V.cloneElement(Ke,{"aria-selected":At?"true":"false",onClick:Ot(Ke),onKeyUp:$t=>{$t.key===" "&&$t.preventDefault(),Ke.props.onKeyUp&&Ke.props.onKeyUp($t)},role:"option",selected:At,value:void 0,"data-value":Ke.props.value})});Er&&(I?cr.length===0?pr=null:pr=cr.reduce((Ke,At,$t)=>(Ke.push(At),$t<cr.length-1&&Ke.push(", "),Ke),[]):pr=Sr);let ut=Be;!s&&Ye&&je&&(ut=Xe.clientWidth);let Ir;typeof fe<"u"?Ir=fe:Ir=y?null:0;const en=he.id||(E?`mui-component-select-${E}`:void 0),mr=oe({},t,{variant:ge,value:Te,open:Mr,error:A}),Jt=Wme(mr);return B.jsxs(V.Fragment,{children:[B.jsx(Bme,oe({ref:Ve,tabIndex:Ir,role:"button","aria-disabled":y?"true":void 0,"aria-expanded":Mr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[M,en].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:jt,onMouseDown:y||Q?null:Fe,onBlur:Hr,onFocus:F},he,{ownerState:mr,className:Lt(he.className,Jt.select,f),id:en,children:Vme(pr)?p5||(p5=B.jsx("span",{className:"notranslate",children:""})):pr})),B.jsx(Ume,oe({"aria-invalid":A,value:Array.isArray(Te)?Te.join(","):Te,name:E,ref:rt,"aria-hidden":!0,onChange:Zt,tabIndex:-1,disabled:y,className:Jt.nativeInput,autoFocus:o,ownerState:mr},Ce)),B.jsx(Fme,{as:T,className:Jt.icon,ownerState:mr}),B.jsx(P9,oe({id:`menu-${E||""}`,anchorEl:Xe,open:Mr,onClose:Me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},O,{MenuListProps:oe({"aria-labelledby":M,role:"listbox",disableListWrap:!0},O.MenuListProps),PaperProps:oe({},O.PaperProps,{style:oe({minWidth:ut},O.PaperProps!=null?O.PaperProps.style:null)}),children:un}))]})}),Hme=qme,Gme=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Yme=e=>{const{classes:t}=e;return t},u$={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ds(e)&&e!=="variant",slot:"Root"},Kme=vt(E9,u$)(""),Zme=vt(c$,u$)(""),Xme=vt(x9,u$)(""),I9=V.forwardRef(function(t,r){const n=or({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:g=Fue,id:y,input:x,inputProps:A,label:T,labelId:w,MenuProps:M,multiple:O=!1,native:I=!1,onClose:E,onOpen:R,open:N,renderValue:D,SelectDisplayProps:F,variant:q="outlined"}=n,J=Rt(n,Gme),Q=I?Tme:Hme,ae=uc(),he=Yd({props:n,muiFormControl:ae,states:["variant","error"]}),fe=he.variant||q,we=oe({},n,{variant:fe,classes:s}),ge=Yme(we),Ce=x||{standard:B.jsx(Kme,{ownerState:we}),outlined:B.jsx(Zme,{label:T,ownerState:we}),filled:B.jsx(Xme,{ownerState:we})}[fe],Te=ci(r,Ce.ref);return B.jsx(V.Fragment,{children:V.cloneElement(Ce,oe({inputComponent:Q,inputProps:oe({children:o,error:he.error,IconComponent:g,variant:fe,type:void 0,multiple:O},I?{id:y}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:w,MenuProps:M,onClose:E,onOpen:R,open:N,renderValue:D,SelectDisplayProps:oe({id:y},F)},A,{classes:A?zo(ge,A.classes):ge},x?x.props.inputProps:{})},O&&I&&fe==="outlined"?{notched:!0}:{},{ref:Te,className:Lt(Ce.props.className,a)},!x&&{variant:fe},J))})});I9.muiName="Select";const cE=I9;function Jme(e){return tr("MuiSnackbarContent",e)}ir("MuiSnackbarContent",["root","message","action"]);const Qme=["action","className","message","role"],ege=e=>{const{classes:t}=e;return nr({root:["root"],action:["action"],message:["message"]},Jme,t)},tge=vt(vl,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=oae(e.palette.background.default,t);return oe({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),rge=vt("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),nge=vt("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ige=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=n,f=Rt(n,Qme),h=n,g=ege(h);return B.jsxs(tge,oe({role:a,square:!0,elevation:6,className:Lt(g.root,o),ownerState:h,ref:r},f,{children:[B.jsx(rge,{className:g.message,ownerState:h,children:s}),i?B.jsx(nge,{className:g.action,ownerState:h,children:i}):null]}))}),oge=ige;function age(e){return tr("MuiSnackbar",e)}ir("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const sge=["onEnter","onExited"],lge=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],cge=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${mt(r.vertical)}${mt(r.horizontal)}`]};return nr(n,age,t)},g5=vt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${mt(r.anchorOrigin.vertical)}${mt(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return oe({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:oe({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),uge=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiSnackbar"}),i=xu(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:y,ClickAwayListenerProps:x,ContentProps:A,disableWindowBlurListener:T=!1,message:w,open:M,TransitionComponent:O=Dw,transitionDuration:I=o,TransitionProps:{onEnter:E,onExited:R}={}}=n,N=Rt(n.TransitionProps,sge),D=Rt(n,lge),F=oe({},n,{anchorOrigin:{vertical:a,horizontal:f},autoHideDuration:h,disableWindowBlurListener:T,TransitionComponent:O,transitionDuration:I}),q=cge(F),{getRootProps:J,onClickAway:Q}=xue(oe({},F)),[ae,he]=V.useState(!0),fe=oc({elementType:g5,getSlotProps:J,externalForwardedProps:D,ownerState:F,additionalProps:{ref:r},className:[q.root,y]}),we=Ce=>{he(!0),R&&R(Ce)},ge=(Ce,Te)=>{he(!1),E&&E(Ce,Te)};return!M&&ae?null:B.jsx(Nle,oe({onClickAway:Q},x,{children:B.jsx(g5,oe({},fe,{children:B.jsx(O,oe({appear:!0,in:M,timeout:I,direction:a==="top"?"down":"up",onEnter:ge,onExited:we},N,{children:g||B.jsx(oge,oe({message:w,action:s},A))}))}))}))}),dge=uge;function fge(e){return tr("MuiTooltip",e)}const hge=ir("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ud=hge,pge=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function mge(e){return Math.round(e*1e5)/1e5}const gge=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:i,placement:o}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${mt(o.split("-")[0])}`],arrow:["arrow"]};return nr(s,fge,t)},yge=vt(p9,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>oe({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${ud.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ud.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ud.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ud.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),vge=vt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${mt(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>oe({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Mn(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${mge(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${ud.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${ud.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${ud.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${ud.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),_ge=vt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Mn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Yb=!1,ST=null,wv={x:0,y:0};function Kb(e,t){return r=>{t&&t(r),e(r)}}const xge=V.forwardRef(function(t,r){var n,i,o,s,a,f,h,g,y,x,A,T,w,M,O,I,E,R,N;const D=or({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:q,components:J={},componentsProps:Q={},describeChild:ae=!1,disableFocusListener:he=!1,disableHoverListener:fe=!1,disableInteractive:we=!1,disableTouchListener:ge=!1,enterDelay:Ce=100,enterNextDelay:Te=0,enterTouchDelay:Ee=700,followCursor:Oe=!1,id:qe,leaveDelay:rt=0,leaveTouchDelay:Pe=1500,onClose:je,onOpen:Le,open:Ye,placement:Be="bottom",PopperComponent:lt,PopperProps:it={},slotProps:Ve={},slots:Xe={},title:ct,TransitionComponent:Fe=Dw,TransitionProps:Me}=D,Et=Rt(D,pge),Zt=V.isValidElement(q)?q:B.jsx("span",{children:q}),Ot=xu(),jt=Ot.direction==="rtl",[Mr,Hr]=V.useState(),[pr,Sr]=V.useState(null),cr=V.useRef(!1),Er=we||Oe,un=V.useRef(),ut=V.useRef(),Ir=V.useRef(),en=V.useRef(),[mr,Jt]=Zm({controlled:Ye,default:!1,name:"Tooltip",state:"open"});let Ke=mr;const At=CR(qe),$t=V.useRef(),tn=V.useCallback(()=>{$t.current!==void 0&&(document.body.style.WebkitUserSelect=$t.current,$t.current=void 0),clearTimeout(en.current)},[]);V.useEffect(()=>()=>{clearTimeout(un.current),clearTimeout(ut.current),clearTimeout(Ir.current),tn()},[tn]);const no=gt=>{clearTimeout(ST),Yb=!0,Jt(!0),Le&&!Ke&&Le(gt)},Xt=dl(gt=>{clearTimeout(ST),ST=setTimeout(()=>{Yb=!1},800+rt),Jt(!1),je&&Ke&&je(gt),clearTimeout(un.current),un.current=setTimeout(()=>{cr.current=!1},Ot.transitions.duration.shortest)}),vo=gt=>{cr.current&&gt.type!=="touchstart"||(Mr&&Mr.removeAttribute("title"),clearTimeout(ut.current),clearTimeout(Ir.current),Ce||Yb&&Te?ut.current=setTimeout(()=>{no(gt)},Yb?Te:Ce):no(gt))},Wo=gt=>{clearTimeout(ut.current),clearTimeout(Ir.current),Ir.current=setTimeout(()=>{Xt(gt)},rt)},{isFocusVisibleRef:Aa,onBlur:_o,onFocus:is,ref:yi}=P2(),[,Gr]=V.useState(!1),Cl=gt=>{_o(gt),Aa.current===!1&&(Gr(!1),Wo(gt))},qo=gt=>{Mr||Hr(gt.currentTarget),is(gt),Aa.current===!0&&(Gr(!0),vo(gt))},pe=gt=>{cr.current=!0;const Dr=Zt.props;Dr.onTouchStart&&Dr.onTouchStart(gt)},X=vo,te=Wo,se=gt=>{pe(gt),clearTimeout(Ir.current),clearTimeout(un.current),tn(),$t.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",en.current=setTimeout(()=>{document.body.style.WebkitUserSelect=$t.current,vo(gt)},Ee)},ye=gt=>{Zt.props.onTouchEnd&&Zt.props.onTouchEnd(gt),tn(),clearTimeout(Ir.current),Ir.current=setTimeout(()=>{Xt(gt)},Pe)};V.useEffect(()=>{if(!Ke)return;function gt(Dr){(Dr.key==="Escape"||Dr.key==="Esc")&&Xt(Dr)}return document.addEventListener("keydown",gt),()=>{document.removeEventListener("keydown",gt)}},[Xt,Ke]);const be=ci(Zt.ref,yi,Hr,r);!ct&&ct!==0&&(Ke=!1);const Re=V.useRef(),ke=gt=>{const Dr=Zt.props;Dr.onMouseMove&&Dr.onMouseMove(gt),wv={x:gt.clientX,y:gt.clientY},Re.current&&Re.current.update()},Se={},ze=typeof ct=="string";ae?(Se.title=!Ke&&ze&&!fe?ct:null,Se["aria-describedby"]=Ke?At:null):(Se["aria-label"]=ze?ct:null,Se["aria-labelledby"]=Ke&&!ze?At:null);const Je=oe({},Se,Et,Zt.props,{className:Lt(Et.className,Zt.props.className),onTouchStart:pe,ref:be},Oe?{onMouseMove:ke}:{}),et={};ge||(Je.onTouchStart=se,Je.onTouchEnd=ye),fe||(Je.onMouseOver=Kb(X,Je.onMouseOver),Je.onMouseLeave=Kb(te,Je.onMouseLeave),Er||(et.onMouseOver=X,et.onMouseLeave=te)),he||(Je.onFocus=Kb(qo,Je.onFocus),Je.onBlur=Kb(Cl,Je.onBlur),Er||(et.onFocus=qo,et.onBlur=Cl));const ot=V.useMemo(()=>{var gt;let Dr=[{name:"arrow",enabled:!!pr,options:{element:pr,padding:4}}];return(gt=it.popperOptions)!=null&&gt.modifiers&&(Dr=Dr.concat(it.popperOptions.modifiers)),oe({},it.popperOptions,{modifiers:Dr})},[pr,it]),Vt=oe({},D,{isRtl:jt,arrow:F,disableInteractive:Er,placement:Be,PopperComponentProp:lt,touch:cr.current}),sr=gge(Vt),Nt=(n=(i=Xe.popper)!=null?i:J.Popper)!=null?n:yge,Wt=(o=(s=(a=Xe.transition)!=null?a:J.Transition)!=null?s:Fe)!=null?o:Dw,ar=(f=(h=Xe.tooltip)!=null?h:J.Tooltip)!=null?f:vge,Pr=(g=(y=Xe.arrow)!=null?y:J.Arrow)!=null?g:_ge,Ur=Yv(Nt,oe({},it,(x=Ve.popper)!=null?x:Q.popper,{className:Lt(sr.popper,it==null?void 0:it.className,(A=(T=Ve.popper)!=null?T:Q.popper)==null?void 0:A.className)}),Vt),gr=Yv(Wt,oe({},Me,(w=Ve.transition)!=null?w:Q.transition),Vt),Ar=Yv(ar,oe({},(M=Ve.tooltip)!=null?M:Q.tooltip,{className:Lt(sr.tooltip,(O=(I=Ve.tooltip)!=null?I:Q.tooltip)==null?void 0:O.className)}),Vt),Vi=Yv(Pr,oe({},(E=Ve.arrow)!=null?E:Q.arrow,{className:Lt(sr.arrow,(R=(N=Ve.arrow)!=null?N:Q.arrow)==null?void 0:R.className)}),Vt);return B.jsxs(V.Fragment,{children:[V.cloneElement(Zt,Je),B.jsx(Nt,oe({as:lt??p9,placement:Be,anchorEl:Oe?{getBoundingClientRect:()=>({top:wv.y,left:wv.x,right:wv.x,bottom:wv.y,width:0,height:0})}:Mr,popperRef:Re,open:Mr?Ke:!1,id:At,transition:!0},et,Ur,{popperOptions:ot,children:({TransitionProps:gt})=>B.jsx(Wt,oe({timeout:Ot.transitions.duration.shorter},gt,gr,{children:B.jsxs(ar,oe({},Ar,{children:[ct,F?B.jsx(Pr,oe({},Vi,{ref:Sr})):null]}))}))}))]})}),Hp=xge,bge=V.createContext(),R9=bge;function wge(e){return tr("MuiTable",e)}ir("MuiTable",["root","stickyHeader"]);const Sge=["className","component","padding","size","stickyHeader"],Ege=e=>{const{classes:t,stickyHeader:r}=e;return nr({root:["root",r&&"stickyHeader"]},wge,t)},Cge=vt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>oe({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":oe({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),y5="table",kge=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTable"}),{className:i,component:o=y5,padding:s="normal",size:a="medium",stickyHeader:f=!1}=n,h=Rt(n,Sge),g=oe({},n,{component:o,padding:s,size:a,stickyHeader:f}),y=Ege(g),x=V.useMemo(()=>({padding:s,size:a,stickyHeader:f}),[s,a,f]);return B.jsx(R9.Provider,{value:x,children:B.jsx(Cge,oe({as:o,role:o===y5?null:"table",ref:r,className:Lt(y.root,i),ownerState:g},h))})}),d$=kge,Tge=V.createContext(),uE=Tge;function Pge(e){return tr("MuiTableBody",e)}ir("MuiTableBody",["root"]);const Age=["className","component"],Mge=e=>{const{classes:t}=e;return nr({root:["root"]},Pge,t)},Oge=vt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Ige={variant:"body"},v5="tbody",Rge=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTableBody"}),{className:i,component:o=v5}=n,s=Rt(n,Age),a=oe({},n,{component:o}),f=Mge(a);return B.jsx(uE.Provider,{value:Ige,children:B.jsx(Oge,oe({className:Lt(f.root,i),as:o,ref:r,role:o===v5?null:"rowgroup",ownerState:a},s))})}),f$=Rge;function $ge(e){return tr("MuiTableCell",e)}const Dge=ir("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Lge=Dge,Nge=["align","className","component","padding","scope","size","sortDirection","variant"],zge=e=>{const{classes:t,variant:r,align:n,padding:i,size:o,stickyHeader:s}=e,a={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${mt(n)}`,i!=="normal"&&`padding${mt(i)}`,`size${mt(o)}`]};return nr(a,$ge,t)},jge=vt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${mt(r.size)}`],r.padding!=="normal"&&t[`padding${mt(r.padding)}`],r.align!=="inherit"&&t[`align${mt(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>oe({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?VR(Mn(e.palette.divider,1),.88):UR(Mn(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Lge.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Bge=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:f,size:h,sortDirection:g,variant:y}=n,x=Rt(n,Nge),A=V.useContext(R9),T=V.useContext(uE),w=T&&T.variant==="head";let M;s?M=s:M=w?"th":"td";let O=f;M==="td"?O=void 0:!O&&w&&(O="col");const I=y||T&&T.variant,E=oe({},n,{align:i,component:M,padding:a||(A&&A.padding?A.padding:"normal"),size:h||(A&&A.size?A.size:"medium"),sortDirection:g,stickyHeader:I==="head"&&A&&A.stickyHeader,variant:I}),R=zge(E);let N=null;return g&&(N=g==="asc"?"ascending":"descending"),B.jsx(jge,oe({as:M,ref:r,className:Lt(R.root,o),"aria-sort":N,scope:O,ownerState:E},x))}),co=Bge;function Fge(e){return tr("MuiTableHead",e)}ir("MuiTableHead",["root"]);const Uge=["className","component"],Vge=e=>{const{classes:t}=e;return nr({root:["root"]},Fge,t)},Wge=vt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),qge={variant:"head"},_5="thead",Hge=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTableHead"}),{className:i,component:o=_5}=n,s=Rt(n,Uge),a=oe({},n,{component:o}),f=Vge(a);return B.jsx(uE.Provider,{value:qge,children:B.jsx(Wge,oe({as:o,className:Lt(f.root,i),ref:r,role:o===_5?null:"rowgroup",ownerState:a},s))})}),$9=Hge;function Gge(e){return tr("MuiToolbar",e)}ir("MuiToolbar",["root","gutters","regular","dense"]);const Yge=["className","component","disableGutters","variant"],Kge=e=>{const{classes:t,disableGutters:r,variant:n}=e;return nr({root:["root",!r&&"gutters",n]},Gge,t)},Zge=vt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),Xge=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=n,f=Rt(n,Yge),h=oe({},n,{component:o,disableGutters:s,variant:a}),g=Kge(h);return B.jsx(Zge,oe({as:o,className:Lt(g.root,i),ref:r,ownerState:h},f))}),X_=Xge;function Jge(e){return tr("MuiTableRow",e)}const Qge=ir("MuiTableRow",["root","selected","hover","head","footer"]),x5=Qge,eye=["className","component","hover","selected"],tye=e=>{const{classes:t,selected:r,hover:n,head:i,footer:o}=e;return nr({root:["root",r&&"selected",n&&"hover",i&&"head",o&&"footer"]},Jge,t)},rye=vt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${x5.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${x5.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),b5="tr",nye=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTableRow"}),{className:i,component:o=b5,hover:s=!1,selected:a=!1}=n,f=Rt(n,eye),h=V.useContext(uE),g=oe({},n,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),y=tye(g);return B.jsx(rye,oe({as:o,ref:r,className:Lt(y.root,i),role:o===b5?null:"row",ownerState:g},f))}),Mm=nye;function iye(e){return tr("MuiTextField",e)}ir("MuiTextField",["root"]);const oye=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],aye={standard:E9,filled:x9,outlined:c$},sye=e=>{const{classes:t}=e;return nr({root:["root"]},iye,t)},lye=vt(sE,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cye=V.forwardRef(function(t,r){const n=or({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:f="primary",defaultValue:h,disabled:g=!1,error:y=!1,FormHelperTextProps:x,fullWidth:A=!1,helperText:T,id:w,InputLabelProps:M,inputProps:O,InputProps:I,inputRef:E,label:R,maxRows:N,minRows:D,multiline:F=!1,name:q,onBlur:J,onChange:Q,onClick:ae,onFocus:he,placeholder:fe,required:we=!1,rows:ge,select:Ce=!1,SelectProps:Te,type:Ee,value:Oe,variant:qe="outlined"}=n,rt=Rt(n,oye),Pe=oe({},n,{autoFocus:o,color:f,disabled:g,error:y,fullWidth:A,multiline:F,required:we,select:Ce,variant:qe}),je=sye(Pe),Le={};qe==="outlined"&&(M&&typeof M.shrink<"u"&&(Le.notched=M.shrink),Le.label=R),Ce&&((!Te||!Te.native)&&(Le.id=void 0),Le["aria-describedby"]=void 0);const Ye=ct=>{!g&&ae&&(ct.stopPropagation(),ae(ct))},Be=CR(w),lt=T&&Be?`${Be}-helper-text`:void 0,it=R&&Be?`${Be}-label`:void 0,Ve=aye[qe],Xe=B.jsx(Ve,oe({"aria-describedby":lt,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:A,multiline:F,name:q,rows:ge,maxRows:N,minRows:D,type:Ee,value:Oe,id:Be,inputRef:E,onBlur:J,onChange:Q,onFocus:he,onClick:Ye,placeholder:fe,inputProps:O},Le,I));return B.jsxs(lye,oe({className:Lt(je.root,a),disabled:g,error:y,fullWidth:A,ref:r,required:we,color:f,variant:qe,ownerState:Pe,onClick:Ye},rt,{children:[R!=null&&R!==""&&B.jsx(lE,oe({htmlFor:Be,id:it},M,{children:R})),Ce?B.jsx(cE,oe({"aria-describedby":lt,id:Be,labelId:it,value:Oe,input:Xe},Te,{children:s})):Xe,T&&B.jsx(yhe,oe({id:lt},x,{children:T}))]}))}),fo=cye,h$=(e,t)=>{const r=bl(),n=V.useRef();V.useEffect(()=>(e().then(i=>n.current=i).catch(i=>r(hW.push(i.message))),()=>{const i=n.current;i&&i()}),[...t,r])},uye=e=>{const t=bl();return(...r)=>{e(...r).catch(n=>t(hW.push(n.message)))}};function D9(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}var w5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J_=(typeof window>"u"?"undefined":w5(window))==="object"&&(typeof document>"u"?"undefined":w5(document))==="object"&&document.nodeType===9;function S5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aW(n.key),n)}}function L9(e,t,r){return t&&S5(e.prototype,t),r&&S5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var dye={}.constructor;function dM(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(dM);if(e.constructor!==dye)return e;var t={};for(var r in e)t[r]=dM(e[r]);return t}function p$(e,t,r){e===void 0&&(e="unnamed");var n=r.jss,i=dM(t),o=n.plugins.onCreateRule(e,i,r);return o||(e[0],null)}var E5=function(t,r){for(var n="",i=0;i<t.length&&t[i]!=="!important";i++)n&&(n+=r),n+=t[i];return n},rh=function(t){if(!Array.isArray(t))return t;var r="";if(Array.isArray(t[0]))for(var n=0;n<t.length&&t[n]!=="!important";n++)r&&(r+=", "),r+=E5(t[n]," ");else r=E5(t,", ");return t[t.length-1]==="!important"&&(r+=" !important"),r};function jg(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Sv(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function i_(e,t,r){r===void 0&&(r={});var n="";if(!t)return n;var i=r,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;r.format===!1&&(s=-1/0);var f=jg(r),h=f.linebreak,g=f.space;if(e&&s++,a)if(Array.isArray(a))for(var y=0;y<a.length;y++){var x=a[y];for(var A in x){var T=x[A];T!=null&&(n&&(n+=h),n+=Sv(A+":"+g+rh(T)+";",s))}}else for(var w in a){var M=a[w];M!=null&&(n&&(n+=h),n+=Sv(w+":"+g+rh(M)+";",s))}for(var O in t){var I=t[O];I!=null&&O!=="fallbacks"&&(n&&(n+=h),n+=Sv(O+":"+g+rh(I)+";",s))}return!n&&!r.allowEmpty||!e?n:(s--,n&&(n=""+h+n+h),Sv(""+e+g+"{"+n,s)+Sv("}",s))}var fye=/([[\].#*$><+~=|^:(),"'`\s])/g,C5=typeof CSS<"u"&&CSS.escape,m$=function(e){return C5?C5(e):e.replace(fye,"\\$1")},N9=function(){function e(r,n,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=r,this.options=i,this.style=n,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(n,i,o){if(i===void 0)return this.style[n];var s=o?o.force:!1;if(!s&&this.style[n]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,n,this));var f=a==null||a===!1,h=n in this.style;if(f&&!h&&!s)return this;var g=f&&h;if(g?delete this.style[n]:this.style[n]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,a),this;var y=this.options.sheet;return y&&y.attached,this},e}(),fM=function(e){Y_(t,e);function t(n,i,o){var s;s=e.call(this,n,i,o)||this;var a=o.selector,f=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:f!==!1&&(s.id=g(Q0(Q0(s)),h),s.selectorText="."+m$(s.id)),s}var r=t.prototype;return r.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},r.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=rh(s))}return i},r.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?bn({},i,{allowEmpty:!0}):i;return i_(this.selectorText,this.style,a)},L9(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(N9),hye={onCreateRule:function(t,r,n){return t[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new fM(t,r,n)}},ET={indent:1,children:!0},pye=/@([\w-]+)/,mye=function(){function e(r,n,i){this.type="conditional",this.isProcessed=!1,this.key=r;var o=r.match(pye);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new dE(bn({},i,{parent:this}));for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(n){return this.rules.get(n)},t.indexOf=function(n){return this.rules.indexOf(n)},t.addRule=function(n,i,o){var s=this.rules.add(n,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(n,i,o){var s=this.rules.replace(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(n){n===void 0&&(n=ET);var i=jg(n),o=i.linebreak;if(n.indent==null&&(n.indent=ET.indent),n.children==null&&(n.children=ET.children),n.children===!1)return this.query+" {}";var s=this.rules.toString(n);return s?this.query+" {"+o+s+o+"}":""},e}(),gye=/@container|@media|@supports\s+/,yye={onCreateRule:function(t,r,n){return gye.test(t)?new mye(t,r,n):null}},CT={indent:1,children:!0},vye=/@keyframes\s+([\w-]+)/,hM=function(){function e(r,n,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=r.match(vye);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,f=i.generateId;this.id=s===!1?this.name:m$(f(this,a)),this.rules=new dE(bn({},i,{parent:this}));for(var h in n)this.rules.add(h,n[h],bn({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(n){n===void 0&&(n=CT);var i=jg(n),o=i.linebreak;if(n.indent==null&&(n.indent=CT.indent),n.children==null&&(n.children=CT.children),n.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(n);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),_ye=/@keyframes\s+/,xye=/\$([\w-]+)/g,pM=function(t,r){return typeof t=="string"?t.replace(xye,function(n,i){return i in r?r[i]:n}):t},k5=function(t,r,n){var i=t[r],o=pM(i,n);o!==i&&(t[r]=o)},bye={onCreateRule:function(t,r,n){return typeof t=="string"&&_ye.test(t)?new hM(t,r,n):null},onProcessStyle:function(t,r,n){return r.type!=="style"||!n||("animation-name"in t&&k5(t,"animation-name",n.keyframes),"animation"in t&&k5(t,"animation",n.keyframes)),t},onChangeValue:function(t,r,n){var i=n.options.sheet;if(!i)return t;switch(r){case"animation":return pM(t,i.keyframes);case"animation-name":return pM(t,i.keyframes);default:return t}}},wye=function(e){Y_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?bn({},i,{allowEmpty:!0}):i;return i_(this.key,this.style,a)},t}(N9),Sye={onCreateRule:function(t,r,n){return n.parent&&n.parent.type==="keyframes"?new wye(t,r,n):null}},Eye=function(){function e(r,n,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var t=e.prototype;return t.toString=function(n){var i=jg(n),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=i_(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return i_(this.at,this.style,n)},e}(),Cye=/@font-face/,kye={onCreateRule:function(t,r,n){return Cye.test(t)?new Eye(t,r,n):null}},Tye=function(){function e(r,n,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var t=e.prototype;return t.toString=function(n){return i_(this.key,this.style,n)},e}(),Pye={onCreateRule:function(t,r,n){return t==="@viewport"||t==="@-ms-viewport"?new Tye(t,r,n):null}},Aye=function(){function e(r,n,i){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=i}var t=e.prototype;return t.toString=function(n){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),Mye={"@charset":!0,"@import":!0,"@namespace":!0},Oye={onCreateRule:function(t,r,n){return t in Mye?new Aye(t,r,n):null}},T5=[hye,yye,bye,Sye,kye,Pye,Oye],Iye={process:!0},P5={force:!0,process:!0},dE=function(){function e(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var t=e.prototype;return t.add=function(n,i,o){var s=this.options,a=s.parent,f=s.sheet,h=s.jss,g=s.Renderer,y=s.generateId,x=s.scoped,A=bn({classes:this.classes,parent:a,sheet:f,jss:h,Renderer:g,generateId:y,scoped:x,name:n,keyframes:this.keyframes,selector:void 0},o),T=n;n in this.raw&&(T=n+"-d"+this.counter++),this.raw[T]=i,T in this.classes&&(A.selector="."+m$(this.classes[T]));var w=p$(T,i,A);if(!w)return null;this.register(w);var M=A.index===void 0?this.index.length:A.index;return this.index.splice(M,0,w),w},t.replace=function(n,i,o){var s=this.get(n),a=this.index.indexOf(s);s&&this.remove(s);var f=o;return a!==-1&&(f=bn({},o,{index:a})),this.add(n,i,f)},t.get=function(n){return this.map[n]},t.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},t.indexOf=function(n){return this.index.indexOf(n)},t.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},t.register=function(n){this.map[n.key]=n,n instanceof fM?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof hM&&this.keyframes&&(this.keyframes[n.name]=n.id)},t.unregister=function(n){delete this.map[n.key],n instanceof fM?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof hM&&delete this.keyframes[n.name]},t.update=function(){var n,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(n,i,o){o===void 0&&(o=Iye);var s=this.options,a=s.jss.plugins,f=s.sheet;if(n.rules instanceof e){n.rules.update(i,o);return}var h=n.style;if(a.onUpdate(i,n,f,o),o.process&&h&&h!==n.style){a.onProcessStyle(n.style,n,f);for(var g in n.style){var y=n.style[g],x=h[g];y!==x&&n.prop(g,y,P5)}for(var A in h){var T=n.style[A],w=h[A];T==null&&T!==w&&n.prop(A,null,P5)}}},t.toString=function(n){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=jg(n),f=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],y=g.toString(n);!y&&!s||(i&&(i+=f),i+=y)}return i},e}(),z9=function(){function e(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=bn({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new dE(this.options);for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(n,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(n,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(n,i,o){var s=this.rules.get(n);if(!s)return this.addRule(n,i,o);var a=this.rules.replace(n,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},t.addRules=function(n,i){var o=[];for(var s in n){var a=this.addRule(s,n[s],i);a&&o.push(a)}return o},t.getRule=function(n){return this.rules.get(n)},t.deleteRule=function(n){var i=typeof n=="object"?n:this.rules.get(n);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(n){return this.rules.indexOf(n)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},t.updateOne=function(n,i,o){return this.rules.updateOne(n,i,o),this},t.toString=function(n){return this.rules.toString(n)},e}(),Rye=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(n,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](n,i,o);if(a)return a}return null},t.onProcessRule=function(n){if(!n.isProcessed){for(var i=n.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](n,i);n.style&&this.onProcessStyle(n.style,n,i),n.isProcessed=!0}},t.onProcessStyle=function(n,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(n){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](n)},t.onUpdate=function(n,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](n,i,o,s)},t.onChangeValue=function(n,i,o){for(var s=n,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(n,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(n)===-1&&(o.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var f in a)f in s&&s[f].push(a[f]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),$ye=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(n){var i=this.registry,o=n.options.index;if(i.indexOf(n)===-1){if(i.length===0||o>=this.index){i.push(n);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,n);return}}},t.reset=function(){this.registry=[]},t.remove=function(n){var i=this.registry.indexOf(n);this.registry.splice(i,1)},t.toString=function(n){for(var i=n===void 0?{}:n,o=i.attached,s=W_(i,["attached"]),a=jg(s),f=a.linebreak,h="",g=0;g<this.registry.length;g++){var y=this.registry[g];o!=null&&y.attached!==o||(h&&(h+=f),h+=y.toString(s))}return h},L9(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),y0=new $ye,mM=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),gM="2f1acc6c3a606b082e5eef5e54414ffb";mM[gM]==null&&(mM[gM]=0);var A5=mM[gM]++,M5=function(t){t===void 0&&(t={});var r=0,n=function(o,s){r+=1;var a="",f="";return s&&(s.options.classNamePrefix&&(f=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(f||"c")+A5+a+r:f+o.key+"-"+A5+(a?"-"+a:"")+"-"+r};return n},j9=function(t){var r;return function(){return r||(r=t()),r}},Dye=function(t,r){try{return t.attributeStyleMap?t.attributeStyleMap.get(r):t.style.getPropertyValue(r)}catch{return""}},Lye=function(t,r,n){try{var i=n;if(Array.isArray(n)&&(i=rh(n)),t.attributeStyleMap)t.attributeStyleMap.set(r,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(r,s,o>-1?"important":"")}}catch{return!1}return!0},Nye=function(t,r){try{t.attributeStyleMap?t.attributeStyleMap.delete(r):t.style.removeProperty(r)}catch{}},zye=function(t,r){return t.selectorText=r,t.selectorText===r},B9=j9(function(){return document.querySelector("head")});function jye(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}function Bye(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}function Fye(e){for(var t=B9(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===e)return n}return null}function Uye(e){var t=y0.registry;if(t.length>0){var r=jye(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=Bye(t,e),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&typeof n=="string"){var i=Fye(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function Vye(e,t){var r=t.insertionPoint,n=Uye(t);if(n!==!1&&n.parent){n.parent.insertBefore(e,n.node);return}if(r&&typeof r.nodeType=="number"){var i=r,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}B9().appendChild(e)}var Wye=j9(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),O5=function(t,r,n){try{"insertRule"in t?t.insertRule(r,n):"appendRule"in t&&t.appendRule(r)}catch{return!1}return t.cssRules[n]},I5=function(t,r){var n=t.cssRules.length;return r===void 0||r>n?n:r},qye=function(){var t=document.createElement("style");return t.textContent=`
`,t},Hye=function(){function e(r){this.getPropertyValue=Dye,this.setProperty=Lye,this.removeProperty=Nye,this.setSelector=zye,this.hasInsertedRules=!1,this.cssRules=[],r&&y0.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},i=n.media,o=n.meta,s=n.element;this.element=s||qye(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=Wye();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){Vye(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},t.insertRules=function(n,i){for(var o=0;o<n.index.length;o++)this.insertRule(n.index[o],o,i)},t.insertRule=function(n,i,o){if(o===void 0&&(o=this.element.sheet),n.rules){var s=n,a=o;if(n.type==="conditional"||n.type==="keyframes"){var f=I5(o,i);if(a=O5(o,s.toString({children:!1}),f),a===!1)return!1;this.refCssRule(n,f,a)}return this.insertRules(s.rules,a),a}var h=n.toString();if(!h)return!1;var g=I5(o,i),y=O5(o,h,g);return y===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,g,y),y)},t.refCssRule=function(n,i,o){n.renderable=o,n.options.parent instanceof z9&&this.cssRules.splice(i,0,o)},t.deleteRule=function(n){var i=this.element.sheet,o=this.indexOf(n);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(n){return this.cssRules.indexOf(n)},t.replaceRule=function(n,i){var o=this.indexOf(n);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Gye=0,Yye=function(){function e(r){this.id=Gye++,this.version="10.10.0",this.plugins=new Rye,this.options={id:{minify:!1},createGenerateId:M5,Renderer:J_?Hye:null,plugins:[]},this.generateId=M5({minify:!1});for(var n=0;n<T5.length;n++)this.plugins.use(T5[n],{queue:"internal"});this.setup(r)}var t=e.prototype;return t.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=bn({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},t.createStyleSheet=function(n,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=y0.index===0?0:y0.index+1);var a=new z9(n,bn({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(n){return n.detach(),y0.remove(n),this},t.createRule=function(n,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof n=="object")return this.createRule(void 0,n,i);var s=bn({},o,{name:n,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=p$(n,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){n.plugins.use(a)}),this},e}(),F9=function(t){return new Yye(t)},g$=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function U9(e){var t=null;for(var r in e){var n=e[r],i=typeof n;if(i==="function")t||(t={}),t[r]=n;else if(i==="object"&&n!==null&&!Array.isArray(n)){var o=U9(n);o&&(t||(t={}),t[r]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */F9();function V9(e={}){const{baseClasses:t,newClasses:r,Component:n}=e;if(!r)return t;const i=Cd({},t);return Object.keys(r).forEach(o=>{r[o]&&(i[o]=`${t[o]} ${r[o]}`)}),i}const Kye={set:(e,t,r,n)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:(e,t,r)=>{const n=e.get(t);return n?n.get(r):void 0},delete:(e,t,r)=>{e.get(t).delete(r)}},lm=Kye;function W9(){var e;const t=WR();return(e=t==null?void 0:t.$$material)!=null?e:t}const Zye=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Xye(e={}){const{disableGlobal:t=!1,productionPrefix:r="jss",seed:n=""}=e,i=n===""?"":`${n}-`;let o=0;const s=()=>(o+=1,o);return(a,f)=>{const h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!t){if(Zye.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!f.options.theme[KW]||n!==""?g:`${g}-${s()}`}return`${i}${r}${s()}`}}var q9=Date.now(),kT="fnValues"+q9,TT="fnStyle"+ ++q9,Jye=function(){return{onCreateRule:function(r,n,i){if(typeof n!="function")return null;var o=p$(r,{},i);return o[TT]=n,o},onProcessStyle:function(r,n){if(kT in n||TT in n)return r;var i={};for(var o in r){var s=r[o];typeof s=="function"&&(delete r[o],i[o]=s)}return n[kT]=i,r},onUpdate:function(r,n,i,o){var s=n,a=s[TT];a&&(s.style=a(r)||{});var f=s[kT];if(f)for(var h in f)s.prop(h,f[h](r),o)}}};const Qye=Jye;var kd="@global",yM="@global ",eve=function(){function e(r,n,i){this.type="global",this.at=kd,this.isProcessed=!1,this.key=r,this.options=i,this.rules=new dE(bn({},i,{parent:this}));for(var o in n)this.rules.add(o,n[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(n){return this.rules.get(n)},t.addRule=function(n,i,o){var s=this.rules.add(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(n,i,o){var s=this.rules.replace(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(n){return this.rules.indexOf(n)},t.toString=function(n){return this.rules.toString(n)},e}(),tve=function(){function e(r,n,i){this.type="global",this.at=kd,this.isProcessed=!1,this.key=r,this.options=i;var o=r.substr(yM.length);this.rule=i.jss.createRule(o,n,bn({},i,{parent:this}))}var t=e.prototype;return t.toString=function(n){return this.rule?this.rule.toString(n):""},e}(),rve=/\s*,\s*/g;function H9(e,t){for(var r=e.split(rve),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}function nve(e,t){var r=e.options,n=e.style,i=n?n[kd]:null;if(i){for(var o in i)t.addRule(o,i[o],bn({},r,{selector:H9(o,e.selector)}));delete n[kd]}}function ive(e,t){var r=e.options,n=e.style;for(var i in n)if(!(i[0]!=="@"||i.substr(0,kd.length)!==kd)){var o=H9(i.substr(kd.length),e.selector);t.addRule(o,n[i],bn({},r,{selector:o})),delete n[i]}}function ove(){function e(r,n,i){if(!r)return null;if(r===kd)return new eve(r,n,i);if(r[0]==="@"&&r.substr(0,yM.length)===yM)return new tve(r,n,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=r),null}function t(r,n){r.type!=="style"||!n||(nve(r,n),ive(r,n))}return{onCreateRule:e,onProcessRule:t}}var R5=/\s*,\s*/g,ave=/&/g,sve=/\$([\w-]+)/g;function lve(){function e(i,o){return function(s,a){var f=i.getRule(a)||o&&o.getRule(a);return f?f.selector:a}}function t(i,o){for(var s=o.split(R5),a=i.split(R5),f="",h=0;h<s.length;h++)for(var g=s[h],y=0;y<a.length;y++){var x=a[y];f&&(f+=", "),f+=x.indexOf("&")!==-1?x.replace(ave,g):g+" "+x}return f}function r(i,o,s){if(s)return bn({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var f=bn({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete f.name,f}function n(i,o,s){if(o.type!=="style")return i;var a=o,f=a.options.parent,h,g;for(var y in i){var x=y.indexOf("&")!==-1,A=y[0]==="@";if(!(!x&&!A)){if(h=r(a,f,h),x){var T=t(y,a.selector);g||(g=e(f,s)),T=T.replace(sve,g);var w=a.key+"-"+y;"replaceRule"in f?f.replaceRule(w,i[y],bn({},h,{selector:T})):f.addRule(w,i[y],bn({},h,{selector:T}))}else A&&f.addRule(y,{},h).addRule(a.key,i[y],{selector:a.selector});delete i[y]}}return i}return{onProcessStyle:n}}var cve=/[A-Z]/g,uve=/^ms-/,PT={};function dve(e){return"-"+e.toLowerCase()}function G9(e){if(PT.hasOwnProperty(e))return PT[e];var t=e.replace(cve,dve);return PT[e]=uve.test(t)?"-"+t:t}function Nw(e){var t={};for(var r in e){var n=r.indexOf("--")===0?r:G9(r);t[n]=e[r]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Nw):t.fallbacks=Nw(e.fallbacks)),t}function fve(){function e(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=Nw(r[n]);return r}return Nw(r)}function t(r,n,i){if(n.indexOf("--")===0)return r;var o=G9(n);return n===o?r:(i.prop(o,r),null)}return{onProcessStyle:e,onChangeValue:t}}var st=g$&&CSS?CSS.px:"px",Zb=g$&&CSS?CSS.ms:"ms",Ip=g$&&CSS?CSS.percent:"%",hve={"animation-delay":Zb,"animation-duration":Zb,"background-position":st,"background-position-x":st,"background-position-y":st,"background-size":st,border:st,"border-bottom":st,"border-bottom-left-radius":st,"border-bottom-right-radius":st,"border-bottom-width":st,"border-left":st,"border-left-width":st,"border-radius":st,"border-right":st,"border-right-width":st,"border-top":st,"border-top-left-radius":st,"border-top-right-radius":st,"border-top-width":st,"border-width":st,"border-block":st,"border-block-end":st,"border-block-end-width":st,"border-block-start":st,"border-block-start-width":st,"border-block-width":st,"border-inline":st,"border-inline-end":st,"border-inline-end-width":st,"border-inline-start":st,"border-inline-start-width":st,"border-inline-width":st,"border-start-start-radius":st,"border-start-end-radius":st,"border-end-start-radius":st,"border-end-end-radius":st,margin:st,"margin-bottom":st,"margin-left":st,"margin-right":st,"margin-top":st,"margin-block":st,"margin-block-end":st,"margin-block-start":st,"margin-inline":st,"margin-inline-end":st,"margin-inline-start":st,padding:st,"padding-bottom":st,"padding-left":st,"padding-right":st,"padding-top":st,"padding-block":st,"padding-block-end":st,"padding-block-start":st,"padding-inline":st,"padding-inline-end":st,"padding-inline-start":st,"mask-position-x":st,"mask-position-y":st,"mask-size":st,height:st,width:st,"min-height":st,"max-height":st,"min-width":st,"max-width":st,bottom:st,left:st,top:st,right:st,inset:st,"inset-block":st,"inset-block-end":st,"inset-block-start":st,"inset-inline":st,"inset-inline-end":st,"inset-inline-start":st,"box-shadow":st,"text-shadow":st,"column-gap":st,"column-rule":st,"column-rule-width":st,"column-width":st,"font-size":st,"font-size-delta":st,"letter-spacing":st,"text-decoration-thickness":st,"text-indent":st,"text-stroke":st,"text-stroke-width":st,"word-spacing":st,motion:st,"motion-offset":st,outline:st,"outline-offset":st,"outline-width":st,perspective:st,"perspective-origin-x":Ip,"perspective-origin-y":Ip,"transform-origin":Ip,"transform-origin-x":Ip,"transform-origin-y":Ip,"transform-origin-z":Ip,"transition-delay":Zb,"transition-duration":Zb,"vertical-align":st,"flex-basis":st,"shape-margin":st,size:st,gap:st,grid:st,"grid-gap":st,"row-gap":st,"grid-row-gap":st,"grid-column-gap":st,"grid-template-rows":st,"grid-template-columns":st,"grid-auto-rows":st,"grid-auto-columns":st,"box-shadow-x":st,"box-shadow-y":st,"box-shadow-blur":st,"box-shadow-spread":st,"font-line-height":st,"text-shadow-x":st,"text-shadow-y":st,"text-shadow-blur":st};function Y9(e){var t=/(-[a-z])/g,r=function(s){return s[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}var pve=Y9(hve);function v0(e,t,r){if(t==null)return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=v0(e,t[n],r);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=v0(i,t[i],r);else for(var o in t)t[o]=v0(e+"-"+o,t[o],r);else if(typeof t=="number"&&isNaN(t)===!1){var s=r[e]||pve[e];return s&&!(t===0&&s===st)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function mve(e){e===void 0&&(e={});var t=Y9(e);function r(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=v0(s,i[s],t);return i}function n(i,o){return v0(o,i,t)}return{onProcessStyle:r,onChangeValue:n}}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gve(e){if(Array.isArray(e))return vM(e)}function yve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vve(e,t){if(e){if(typeof e=="string")return vM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vM(e,t)}}function _ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(e){return gve(e)||yve(e)||vve(e)||_ve()}var Zv="",_M="",K9="",Z9="",bve=J_&&"ontouchstart"in document.documentElement;if(J_){var AT={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},wve=document.createElement("p"),MT=wve.style,Sve="Transform";for(var OT in AT)if(OT+Sve in MT){Zv=OT,_M=AT[OT];break}Zv==="Webkit"&&"msHyphens"in MT&&(Zv="ms",_M=AT.ms,Z9="edge"),Zv==="Webkit"&&"-apple-trailing-word"in MT&&(K9="apple")}var wr={js:Zv,css:_M,vendor:K9,browser:Z9,isTouch:bve};function Eve(e){return e[1]==="-"||wr.js==="ms"?e:"@"+wr.css+"keyframes"+e.substr(10)}var Cve={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:wr.js==="ms"?"-webkit-"+t:wr.css+t}},kve={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:wr.js==="Webkit"?wr.css+"print-"+t:t}},Tve=/[-\s]+(.)?/g;function Pve(e,t){return t?t.toUpperCase():""}function y$(e){return e.replace(Tve,Pve)}function Ld(e){return y$("-"+e)}var Ave={noPrefill:["mask"],supportedProperty:function(t,r){if(!/^mask/.test(t))return!1;if(wr.js==="Webkit"){var n="mask-image";if(y$(n)in r)return t;if(wr.js+Ld(n)in r)return wr.css+t}return t}},Mve={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:wr.vendor==="apple"&&!wr.isTouch?wr.css+t:t}},Ove={noPrefill:["transform"],supportedProperty:function(t,r,n){return t!=="transform"?!1:n.transform?t:wr.css+t}},Ive={noPrefill:["transition"],supportedProperty:function(t,r,n){return t!=="transition"?!1:n.transition?t:wr.css+t}},Rve={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:wr.js==="Webkit"||wr.js==="ms"&&wr.browser!=="edge"?wr.css+t:t}},$ve={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:wr.js==="Moz"||wr.js==="ms"||wr.vendor==="apple"?wr.css+t:t}},Dve={supportedProperty:function(t,r){if(!/^break-/.test(t))return!1;if(wr.js==="Webkit"){var n="WebkitColumn"+Ld(t);return n in r?wr.css+"column-"+t:!1}if(wr.js==="Moz"){var i="page"+Ld(t);return i in r?"page-"+t:!1}return!1}},Lve={supportedProperty:function(t,r){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(wr.js==="Moz")return t;var n=t.replace("-inline","");return wr.js+Ld(n)in r?wr.css+n:!1}},Nve={supportedProperty:function(t,r){return y$(t)in r?t:!1}},zve={supportedProperty:function(t,r){var n=Ld(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:wr.js+n in r?wr.css+t:wr.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+t:!1}},jve={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:wr.js==="ms"?""+wr.css+t:t}},Bve={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:wr.js==="ms"?wr.css+"scroll-chaining":t}},Fve={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Uve={supportedProperty:function(t,r){var n=Fve[t];return n&&wr.js+Ld(n)in r?wr.css+n:!1}},X9={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Vve=Object.keys(X9),Wve=function(t){return wr.css+t},qve={supportedProperty:function(t,r,n){var i=n.multiple;if(Vve.indexOf(t)>-1){var o=X9[t];if(!Array.isArray(o))return wr.js+Ld(o)in r?wr.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(wr.js+Ld(o[0])in r))return!1;return o.map(Wve)}return!1}},J9=[Cve,kve,Ave,Mve,Ove,Ive,Rve,$ve,Dve,Lve,Nve,zve,jve,Bve,Uve,qve],$5=J9.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Hve=J9.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,xve(t.noPrefill)),e},[]),Xv,zf={};if(J_){Xv=document.createElement("p");var IT=window.getComputedStyle(document.documentElement,"");for(var RT in IT)isNaN(RT)||(zf[IT[RT]]=IT[RT]);Hve.forEach(function(e){return delete zf[e]})}function xM(e,t){if(t===void 0&&(t={}),!Xv)return e;if(zf[e]!=null)return zf[e];(e==="transition"||e==="transform")&&(t[e]=e in Xv.style);for(var r=0;r<$5.length&&(zf[e]=$5[r](e,Xv.style,t),!zf[e]);r++);try{Xv.style[e]=""}catch{return!1}return zf[e]}var Rp={},Gve={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yve=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ju;function Kve(e,t,r){if(t==="var")return"var";if(t==="all")return"all";if(r==="all")return", all";var n=t?xM(t):", "+xM(r);return n||t||r}J_&&(Ju=document.createElement("p"));function D5(e,t){var r=t;if(!Ju||e==="content")return t;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=e+r;if(Rp[n]!=null)return Rp[n];try{Ju.style[e]=r}catch{return Rp[n]=!1,!1}if(Gve[e])r=r.replace(Yve,Kve);else if(Ju.style[e]===""&&(r=wr.css+r,r==="-ms-flex"&&(Ju.style[e]="-ms-flexbox"),Ju.style[e]=r,Ju.style[e]===""))return Rp[n]=!1,!1;return Ju.style[e]="",Rp[n]=r,Rp[n]}function Zve(){function e(i){if(i.type==="keyframes"){var o=i;o.at=Eve(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,f=xM(o);f&&f!==o&&(a=!0);var h=!1,g=D5(f,rh(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[f||o]=g||s)}return i}function r(i,o){return o.type!=="style"?i:t(i)}function n(i,o){return D5(o,rh(i))||i}return{onProcessRule:e,onProcessStyle:r,onChangeValue:n}}function Xve(){var e=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var i={},o=Object.keys(r).sort(e),s=0;s<o.length;s++)i[o[s]]=r[o[s]];return i}}}function Jve(){return{plugins:[Qye(),ove(),lve(),fve(),mve(),typeof window>"u"?null:Zve(),Xve()]}}const Qve=F9(Jve()),e0e=Xye(),t0e=new Map,r0e={disableGeneration:!1,generateClassName:e0e,jss:Qve,sheetsCache:null,sheetsManager:t0e,sheetsRegistry:null},n0e=V.createContext(r0e);let L5=-1e9;function i0e(){return L5+=1,L5}const o0e=["variant"];function N5(e){return e.length===0}function a0e(e){const{variant:t}=e,r=D9(e,o0e);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=N5(n)?e[i]:mt(e[i]):n+=`${N5(n)?i:mt(i)}${mt(e[i].toString())}`}),n}const s0e={},l0e=s0e;function c0e(e){const t=typeof e=="function";return{create:(r,n)=>{let i;try{i=t?e(r):e}catch(f){throw f}if(!n||!r.components||!r.components[n]||!r.components[n].styleOverrides&&!r.components[n].variants)return i;const o=r.components[n].styleOverrides||{},s=r.components[n].variants||[],a=Cd({},i);return Object.keys(o).forEach(f=>{a[f]=zo(a[f]||{},o[f])}),s.forEach(f=>{const h=a0e(f.props);a[h]=zo(a[h]||{},f.style)}),a},options:{}}}const u0e=["name","classNamePrefix","Component","defaultTheme"];function d0e({state:e,stylesOptions:t},r,n){if(t.disableGeneration)return r||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),r!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=r,i=!0),i&&(e.cacheClasses.value=V9({baseClasses:e.cacheClasses.lastJSS,newClasses:r,Component:n})),e.cacheClasses.value}function f0e({state:e,theme:t,stylesOptions:r,stylesCreator:n,name:i},o){if(r.disableGeneration)return;let s=lm.get(r.sheetsManager,n,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},lm.set(r.sheetsManager,n,t,s));const a=Cd({},n.options,r,{theme:t,flip:typeof r.flip=="boolean"?r.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const f=r.sheetsRegistry;if(s.refs===0){let h;r.sheetsCache&&(h=lm.get(r.sheetsCache,n,t));const g=n.create(t,i);h||(h=r.jss.createStyleSheet(g,Cd({link:!1},a)),h.attach(),r.sheetsCache&&lm.set(r.sheetsCache,n,t,h)),f&&f.add(h),s.staticSheet=h,s.dynamicStyles=U9(g)}if(s.dynamicStyles){const h=r.jss.createStyleSheet(s.dynamicStyles,Cd({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=V9({baseClasses:s.staticSheet.classes,newClasses:h.classes}),f&&f.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function h0e({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function p0e({state:e,theme:t,stylesOptions:r,stylesCreator:n}){if(r.disableGeneration)return;const i=lm.get(r.sheetsManager,n,t);i.refs-=1;const o=r.sheetsRegistry;i.refs===0&&(lm.delete(r.sheetsManager,n,t),r.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function m0e(e,t){const r=V.useRef([]);let n;const i=V.useMemo(()=>({}),t);r.current!==i&&(r.current=i,n=e()),V.useEffect(()=>()=>{n&&n()},[i])}function $i(e,t={}){const{name:r,classNamePrefix:n,Component:i,defaultTheme:o=l0e}=t,s=D9(t,u0e),a=c0e(e),f=r||n||"makeStyles";return a.options={index:i0e(),name:r,meta:f,classNamePrefix:f},(g={})=>{const y=W9()||o,x=Cd({},V.useContext(n0e),s),A=V.useRef(),T=V.useRef();return m0e(()=>{const M={name:r,state:{},stylesCreator:a,stylesOptions:x,theme:y};return f0e(M,g),T.current=!1,A.current=M,()=>{p0e(M)}},[y,a]),V.useEffect(()=>{T.current&&h0e(A.current,g),T.current=!0}),d0e(A.current,g.classes,i)}}const g0e="/assets/alarm-5d2ecd46.mp3";function Q9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Q9(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function hu(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Q9(e))&&(n&&(n+=" "),n+=t);return n}const y0e=Object.freeze(Object.defineProperty({__proto__:null,clsx:hu,default:hu},Symbol.toStringTag,{value:"Module"}));let v0e={data:""},_0e=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||v0e,x0e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,b0e=/\/\*[^]*?\*\/|  +/g,z5=/\n+/g,jf=(e,t)=>{let r="",n="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+s+";":n+=o[1]=="f"?jf(s,o):o+"{"+jf(s,o[1]=="k"?"":t)+"}":typeof s=="object"?n+=jf(s,t?t.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=jf.p?jf.p(o,s):o+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Dc={},e7=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+e7(e[r]);return t}return e},w0e=(e,t,r,n,i)=>{let o=e7(e),s=Dc[o]||(Dc[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!Dc[s]){let f=o!==e?e:(h=>{let g,y,x=[{}];for(;g=x0e.exec(h.replace(b0e,""));)g[4]?x.shift():g[3]?(y=g[3].replace(z5," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][g[1]]=g[2].replace(z5," ").trim();return x[0]})(e);Dc[s]=jf(i?{["@keyframes "+s]:f}:f,r?"":"."+s)}let a=r&&Dc.g?Dc.g:null;return r&&(Dc.g=Dc[s]),((f,h,g,y)=>{y?h.data=h.data.replace(y,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Dc[s],t,n,a),s},S0e=(e,t,r)=>e.reduce((n,i,o)=>{let s=t[o];if(s&&s.call){let a=s(r),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=f?"."+f:a&&typeof a=="object"?a.props?"":jf(a,""):a===!1?"":a}return n+i+(s??"")},"");function v$(e){let t=this||{},r=e.call?e(t.p):e;return w0e(r.unshift?r.raw?S0e(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,_0e(t.target),t.g,t.o,t.k)}v$.bind({g:1});v$.bind({k:1});function j5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t7(e,t,r){return t&&j5(e.prototype,t),r&&j5(e,r),e}function vn(){return vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(this,arguments)}function r7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Q_(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function B5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var F5=function(){return""},E0e=De.createContext({enqueueSnackbar:F5,closeSnackbar:F5}),If={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},U5=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},_$=function(t){return""+U5(t.vertical)+U5(t.horizontal)},Xb=function(t){return!!t||t===0},Jb="unmounted",$p="exited",Dp="entering",Ev="entered",V5="exiting",x$=function(e){r7(t,e);function t(n){var i;i=e.call(this,n)||this;var o=n.appear,s;return i.appearStatus=null,n.in?o?(s=$p,i.appearStatus=Dp):s=Ev:n.unmountOnExit||n.mountOnEnter?s=Jb:s=$p,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Jb?{status:$p}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Dp&&s!==Ev&&(o=Dp):(s===Dp||s===Ev)&&(o=V5)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},r.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Dp?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===$p&&this.setState({status:Jb})},r.performEnter=function(i){var o=this,s=this.props.enter,a=i,f=this.getTimeouts();if(!i&&!s){this.safeSetState({status:Ev},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:Dp},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(f.enter,function(){o.safeSetState({status:Ev},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:$p},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:V5},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:$p},function(){i.props.onExited&&i.props.onExited(i.node)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Jb)return null;var o=this.props,s=o.children,a=Q_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},t7(t,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),t}(De.Component);function Lp(){}x$.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Lp,onEntering:Lp,onEntered:Lp,onExit:Lp,onExiting:Lp,onExited:Lp};function W5(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function bM(e,t){return V.useMemo(function(){return e==null&&t==null?null:function(r){W5(e,r),W5(t,r)}},[e,t])}function zw(e){var t=e.timeout,r=e.style,n=r===void 0?{}:r,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:n.transitionTimingFunction,delay:n.transitionDelay}}var wM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},n7=function(t){t.scrollTop=t.scrollTop},q5=function(t){return Math.round(t)+"ms"};function cm(e,t){e===void 0&&(e=["all"]);var r=t||{},n=r.duration,i=n===void 0?300:n,o=r.easing,s=o===void 0?wM.easeInOut:o,a=r.delay,f=a===void 0?0:a,h=Array.isArray(e)?e:[e];return h.map(function(g){var y=typeof i=="string"?i:q5(i),x=typeof f=="string"?f:q5(f);return g+" "+y+" "+s+" "+x}).join(",")}function C0e(e){return e&&e.ownerDocument||document}function i7(e){var t=C0e(e);return t.defaultView||window}function k0e(e,t){t===void 0&&(t=166);var r;function n(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=function(){e.apply(i,s)};clearTimeout(r),r=setTimeout(f,t)}return n.clear=function(){clearTimeout(r)},n}function T0e(e,t){var r=t.getBoundingClientRect(),n=i7(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var o=n.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var f=i.split("(")[1].split(")")[0].split(",");s=parseInt(f[4],10),a=parseInt(f[5],10)}switch(e){case"left":return"translateX("+(n.innerWidth+s-r.left)+"px)";case"right":return"translateX(-"+(r.left+r.width-s)+"px)";case"up":return"translateY("+(n.innerHeight+a-r.top)+"px)";default:return"translateY(-"+(r.top+r.height-a)+"px)"}}function Qb(e,t){if(t){var r=T0e(e,t);r&&(t.style.webkitTransform=r,t.style.transform=r)}}var o7=V.forwardRef(function(e,t){var r=e.children,n=e.direction,i=n===void 0?"down":n,o=e.in,s=e.style,a=e.timeout,f=a===void 0?0:a,h=e.onEnter,g=e.onEntered,y=e.onExit,x=e.onExited,A=Q_(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),T=V.useRef(null),w=bM(r.ref,T),M=bM(w,t),O=function(F,q){Qb(i,F),n7(F),h&&h(F,q)},I=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||wM.easeOut,J=zw({timeout:f,mode:"enter",style:vn({},s,{transitionTimingFunction:q})});F.style.webkitTransition=cm("-webkit-transform",J),F.style.transition=cm("transform",J),F.style.webkitTransform="none",F.style.transform="none"},E=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||wM.sharp,J=zw({timeout:f,mode:"exit",style:vn({},s,{transitionTimingFunction:q})});F.style.webkitTransition=cm("-webkit-transform",J),F.style.transition=cm("transform",J),Qb(i,F),y&&y(F)},R=function(F){F.style.webkitTransition="",F.style.transition="",x&&x(F)},N=V.useCallback(function(){T.current&&Qb(i,T.current)},[i]);return V.useEffect(function(){if(!(o||i==="down"||i==="right")){var D=k0e(function(){T.current&&Qb(i,T.current)}),F=i7(T.current);return F.addEventListener("resize",D),function(){D.clear(),F.removeEventListener("resize",D)}}},[i,o]),V.useEffect(function(){o||N()},[o,N]),V.createElement(x$,Object.assign({appear:!0,nodeRef:T,onEnter:O,onEntered:g,onEntering:I,onExit:E,onExited:R,in:o,timeout:f},A),function(D,F){return V.cloneElement(r,vn({ref:M,style:vn({visibility:D==="exited"&&!o?"hidden":void 0},s,{},r.props.style)},F))})});o7.displayName="Slide";var fE=function(t){return De.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},P0e=function(){return De.createElement(fE,null,De.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},A0e=function(){return De.createElement(fE,null,De.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},M0e=function(){return De.createElement(fE,null,De.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},O0e=function(){return De.createElement(fE,null,De.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},I0e={default:void 0,success:De.createElement(P0e,null),warning:De.createElement(A0e,null),error:De.createElement(M0e,null),info:De.createElement(O0e,null)},nh={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:I0e,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:o7,transitionDuration:{enter:225,exit:195}},R0e=function(t,r){var n=function(o){return typeof o=="number"||o===null};return n(t)?t:n(r)?r:nh.autoHideDuration},$0e=function(t,r){var n=function(o,s){return s.some(function(a){return typeof o===a})};return n(t,["string","number"])?t:n(t,["object"])?vn({},nh.transitionDuration,{},n(r,["object"])&&r,{},t):n(r,["string","number"])?r:n(r,["object"])?vn({},nh.transitionDuration,{},r):nh.transitionDuration},D0e=function(t,r){return function(n,i){return i===void 0&&(i=!1),i?vn({},nh[n],{},r[n],{},t[n]):n==="autoHideDuration"?R0e(t.autoHideDuration,r.autoHideDuration):n==="transitionDuration"?$0e(t.transitionDuration,r.transitionDuration):t[n]||r[n]||nh[n]}};function ex(e){return Object.entries(e).reduce(function(t,r){var n,i=r[0],o=r[1];return vn({},t,(n={},n[i]=v$(o),n))},{})}var og={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},H5=ex({root:{height:0},entered:{height:"auto"}}),$T="0px",DT=175,a7=V.forwardRef(function(e,t){var r=e.children,n=e.in,i=e.onExited,o=V.useRef(null),s=V.useRef(null),a=bM(t,s),f=function(){return o.current?o.current.clientHeight:0},h=function(w){w.style.height=$T},g=function(w){var M=f(),O=zw({timeout:DT,mode:"enter"}),I=O.duration,E=O.easing;w.style.transitionDuration=typeof I=="string"?I:I+"ms",w.style.height=M+"px",w.style.transitionTimingFunction=E||""},y=function(w){w.style.height="auto"},x=function(w){w.style.height=f()+"px"},A=function(w){n7(w);var M=zw({timeout:DT,mode:"exit"}),O=M.duration,I=M.easing;w.style.transitionDuration=typeof O=="string"?O:O+"ms",w.style.height=$T,w.style.transitionTimingFunction=I||""};return V.createElement(x$,{in:n,unmountOnExit:!0,onEnter:h,onEntered:y,onEntering:g,onExit:x,onExited:i,onExiting:A,nodeRef:s,timeout:DT},function(T,w){return V.createElement("div",Object.assign({ref:a,className:hu(H5.root,T==="entered"&&H5.entered),style:vn({pointerEvents:"all",overflow:"hidden",minHeight:$T,transition:cm("height")},T==="entered"&&{overflow:"visible"},{},T==="exited"&&!n&&{visibility:"hidden"})},w),V.createElement("div",{ref:o,className:og.CollapseWrapper,style:{display:"flex",width:"100%"}},r))})});a7.displayName="Collapse";var G5={right:"left",left:"right",bottom:"up",top:"down"},L0e=function(t){return t.horizontal!=="center"?G5[t.horizontal]:G5[t.vertical]},N0e=function(t){return"anchorOrigin"+_$(t)},z0e=function(t){t===void 0&&(t={});var r={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(n){return!r[n]}).reduce(function(n,i){var o;return vn({},n,(o={},o[i]=t[i],o))},{})},j0e=function(){};function _0(e,t){return e.reduce(function(r,n){return n==null?r:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=[].concat(s);t&&f.indexOf(t)===-1&&f.push(t),r.apply(this,f),n.apply(this,f)}},j0e)}var B0e=typeof window<"u"?V.useLayoutEffect:V.useEffect;function Y5(e){var t=V.useRef(e);return B0e(function(){t.current=e}),V.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var s7=V.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.autoHideDuration,o=e.disableWindowBlurListener,s=o===void 0?!1:o,a=e.onClose,f=e.id,h=e.open,g=e.SnackbarProps,y=g===void 0?{}:g,x=V.useRef(),A=Y5(function(){a&&a.apply(void 0,arguments)}),T=Y5(function(E){!a||E==null||(x.current&&clearTimeout(x.current),x.current=setTimeout(function(){A(null,"timeout",f)},E))});V.useEffect(function(){return h&&T(i),function(){x.current&&clearTimeout(x.current)}},[h,i,T]);var w=function(){x.current&&clearTimeout(x.current)},M=V.useCallback(function(){i!=null&&T(i*.5)},[i,T]),O=function(R){y.onMouseEnter&&y.onMouseEnter(R),w()},I=function(R){y.onMouseLeave&&y.onMouseLeave(R),M()};return V.useEffect(function(){if(!s&&h)return window.addEventListener("focus",M),window.addEventListener("blur",w),function(){window.removeEventListener("focus",M),window.removeEventListener("blur",w)}},[s,M,h]),V.createElement("div",Object.assign({ref:t},y,{className:hu(og.Snackbar,n),onMouseEnter:O,onMouseLeave:I}),r)});s7.displayName="Snackbar";var LT,F0e=ex({root:(LT={display:"flex",flexWrap:"wrap",flexGrow:1},LT[If.upSm]={flexGrow:"initial",minWidth:"288px"},LT)}),l7=V.forwardRef(function(e,t){var r=e.className,n=Q_(e,["className"]);return De.createElement("div",Object.assign({ref:t,className:hu(F0e.root,r)},n))});l7.displayName="SnackbarContent";var Cv=ex({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),K5="notistack-snackbar",c7=V.forwardRef(function(e,t){var r=e.id,n=e.message,i=e.action,o=e.iconVariant,s=e.variant,a=e.hideIconVariant,f=e.style,h=e.className,g=o[s],y=i;return typeof y=="function"&&(y=y(r)),De.createElement(l7,{ref:t,role:"alert","aria-describedby":K5,style:f,className:hu(og.MuiContent,og.MuiContentVariant(s),Cv.root,Cv[s],h,!a&&g&&Cv.lessPadding)},De.createElement("div",{id:K5,className:Cv.message},a?null:g,n),y&&De.createElement("div",{className:Cv.action},y))});c7.displayName="MaterialDesignContent";var U0e=V.memo(c7),V0e=ex({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),W0e=function(t){var r=V.useRef(),n=V.useState(!0),i=n[0],o=n[1],s=_0([t.snack.onClose,t.onClose]),a=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},f=V.useCallback(function(){r.current=setTimeout(function(){o(function(J){return!J})},125)},[]);V.useEffect(function(){return function(){r.current&&clearTimeout(r.current)}},[]);var h=t.snack,g=t.classes,y=t.Component,x=y===void 0?U0e:y,A=V.useMemo(function(){return z0e(g)},[g]),T=h.open,w=h.SnackbarProps,M=h.TransitionComponent,O=h.TransitionProps,I=h.transitionDuration,E=h.disableWindowBlurListener,R=h.content,N=Q_(h,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),D=vn({direction:L0e(N.anchorOrigin),timeout:I},O),F=R;typeof F=="function"&&(F=F(N.id,N.message));var q=["onEnter","onEntered","onExit","onExited"].reduce(function(J,Q){var ae;return vn({},J,(ae={},ae[Q]=_0([t.snack[Q],t[Q]],N.id),ae))},{});return De.createElement(a7,{in:i,onExited:q.onExited},De.createElement(s7,{open:T,id:N.id,disableWindowBlurListener:E,autoHideDuration:N.autoHideDuration,className:hu(V0e.wrappedRoot,A.root,A[N0e(N.anchorOrigin)]),SnackbarProps:w,onClose:s},De.createElement(M,Object.assign({},D,{appear:!0,in:T,onExit:q.onExit,onExited:f,onEnter:q.onEnter,onEntered:_0([q.onEntered,a],N.id)}),F||De.createElement(x,Object.assign({},N)))))},kv,NT,e1,t1,zT,Lc={view:{default:20,dense:4},snackbar:{default:6,dense:2}},Z5="."+og.CollapseWrapper,jT=16,r1=ex({root:(kv={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:cm(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},kv[Z5]={padding:Lc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},kv.maxWidth="calc(100% - "+Lc.view.default*2+"px)",kv[If.downXs]={width:"100%",maxWidth:"calc(100% - "+jT*2+"px)"},kv),rootDense:(NT={},NT[Z5]={padding:Lc.snackbar.dense+"px 0px"},NT),top:{top:Lc.view.default-Lc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Lc.view.default-Lc.snackbar.default+"px",flexDirection:"column-reverse"},left:(e1={left:Lc.view.default+"px"},e1[If.upSm]={alignItems:"flex-start"},e1[If.downXs]={left:jT+"px"},e1),right:(t1={right:Lc.view.default+"px"},t1[If.upSm]={alignItems:"flex-end"},t1[If.downXs]={right:jT+"px"},t1),center:(zT={left:"50%",transform:"translateX(-50%)"},zT[If.upSm]={alignItems:"center"},zT)}),q0e=function(t){var r=t.classes,n=r===void 0?{}:r,i=t.anchorOrigin,o=t.dense,s=t.children,a=hu(og.SnackbarContainer,r1[i.vertical],r1[i.horizontal],r1.root,n.containerRoot,n["containerAnchorOrigin"+_$(i)],o&&r1.rootDense);return De.createElement("div",{className:a},s)},H0e=V.memo(q0e),X5=function(t){var r=typeof t=="string"||V.isValidElement(t);return!r},u7,G0e=function(e){r7(t,e);function t(n){var i;return i=e.call(this,n)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=X5(o)?o:s,f=X5(o)?o.message:o,h=a.key,g=a.preventDuplicate,y=Q_(a,["key","preventDuplicate"]),x=Xb(h),A=x?h:new Date().getTime()+Math.random(),T=D0e(y,i.props),w=vn({id:A},y,{message:f,open:!0,entered:!1,requestClose:!1,persist:T("persist"),action:T("action"),content:T("content"),variant:T("variant"),anchorOrigin:T("anchorOrigin"),disableWindowBlurListener:T("disableWindowBlurListener"),autoHideDuration:T("autoHideDuration"),hideIconVariant:T("hideIconVariant"),TransitionComponent:T("TransitionComponent"),transitionDuration:T("transitionDuration"),TransitionProps:T("TransitionProps",!0),iconVariant:T("iconVariant",!0),style:T("style",!0),SnackbarProps:T("SnackbarProps",!0),className:hu(i.props.className,y.className)});return w.persist&&(w.autoHideDuration=void 0),i.setState(function(M){if(g===void 0&&i.props.preventDuplicate||g){var O=function(N){return x?N.id===A:N.message===f},I=M.queue.findIndex(O)>-1,E=M.snacks.findIndex(O)>-1;if(I||E)return M}return i.handleDisplaySnack(vn({},M,{queue:[].concat(M.queue,[w])}))}),A},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?vn({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(g){return!g.open||g.requestClose}))return o;var s=!1,a=!1,f=o.snacks.reduce(function(g,y){return g+(y.open&&y.persist?1:0)},0);f===i.maxSnack&&(a=!0);var h=o.snacks.map(function(g){return!s&&(!g.persist||a)?(s=!0,g.entered?(g.onClose&&g.onClose(null,"maxsnack",g.id),i.props.onClose&&i.props.onClose(null,"maxsnack",g.id),vn({},g,{open:!1})):vn({},g,{requestClose:!0})):vn({},g)});return vn({},o,{snacks:h})},i.handleEnteredSnack=function(o,s,a){if(!Xb(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(f){var h=f.snacks;return{snacks:h.map(function(g){return g.id===a?vn({},g,{entered:!0}):vn({},g)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var f=a===void 0;i.setState(function(h){var g=h.snacks,y=h.queue;return{snacks:g.map(function(x){return!f&&x.id!==a?vn({},x):x.entered?vn({},x,{open:!1}):vn({},x,{requestClose:!0})}),queue:y.filter(function(x){return x.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});Xb(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!Xb(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var f=i.processQueue(vn({},a,{snacks:a.snacks.filter(function(h){return h.id!==s})}));return f.queue.length===0?f:i.handleDismissOldest(f)})},u7=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(B5(i)),closeSnackbar:i.closeSnackbar.bind(B5(i))}},i}var r=t.prototype;return r.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,f=s.children,h=s.dense,g=h===void 0?!1:h,y=s.Components,x=y===void 0?{}:y,A=s.classes,T=this.state.snacks.reduce(function(M,O){var I,E=_$(O.anchorOrigin),R=M[E]||[];return vn({},M,(I={},I[E]=[].concat(R,[O]),I))},{}),w=Object.keys(T).map(function(M){var O=T[M],I=O[0];return De.createElement(H0e,{key:M,dense:g,anchorOrigin:I.anchorOrigin,classes:A},O.map(function(E){return De.createElement(W0e,{key:E.id,snack:E,classes:A,Component:x[E.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:_0([i.handleExitedSnack,i.props.onExited],E.id),onEntered:_0([i.handleEnteredSnack,i.props.onEntered],E.id)})}))});return De.createElement(E0e.Provider,{value:o},f,a?cc.createPortal(w,a):w)},t7(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||nh.maxSnack}}]),t}(V.Component);const J5=4e3,Y0e=()=>{const e=bl();Br(h=>h.devices.items);const t=V.useRef(),[r,n]=V.useState(!0),[i,o]=V.useState([]),[s,a]=V.useState([]),f=()=>{const h=window.location.protocol==="https:"?"wss:":"ws:",g=new WebSocket(`${h}//${window.location.host}/api/socket`);console.log(`${h}//${window.location.host}/api/socket`),t.current=g,console.log("funcion web socket"),g.onopen=()=>{e(am.updateSocket(!0)),console.log("funcion web socket open")},g.onclose=async y=>{if(console.log("funcion web socket close"),e(am.updateSocket(!1)),y.code!==J5){try{const x=await fetch("/api/devices");x.ok&&e(cl.update(await x.json()));const A=await fetch("/api/positions");A.ok&&e(dT.updatePositions(await A.json())),x.status===401||A.status}catch{}setTimeout(()=>f(),6e4)}},g.onmessage=y=>{const x=JSON.parse(y.data);x.devices&&(x.devices.length>0?e(cl.update(x.devices)):e(cl.clear())),x.positions&&e(dT.updatePositions(x.positions)),x.camera&&e(dT.updateCamera(x.camera)),x.server&&(x.server.rosState==="connect"?e(am.updateServer(!0)):e(am.updateServer(!1))),x.mission&&(console.log("data mission"),console.log(x.mission),e(Yl.updateMission(x.mission))),x.events&&(console.log("add data events -------"),e(nne.add(x.events)),o(x.events),console.log(x.events))}};return h$(async()=>{if(r){n(!1);const h=await fetch("/api/devices",{method:"GET"});if(h.ok)e(cl.refresh(await h.json()));else throw Error(await h.text());return console.log("primera conexion --s"),f(),()=>{const g=t.current;g&&g.close(J5)}}else return null},[]),V.useEffect(()=>{console.log("set notifications"),console.log(i);let h=[];i.map(g=>{let y=!0;s.map(x=>{x.id==g.id&&(y=!1)}),y&&h.push({id:g.id,type:g.type,message:g.attributes.message,show:!0})}),console.log("aux console log"),console.log(h),h.length>0&&a(h),h.forEach(g=>{g.type==="error"&&new Audio(g0e).play()})},[i]),V.useEffect(()=>{console.log("notifications"),s.map(h=>{u7(h.message,{variant:h.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(g=>g.id!==h.id))})})},[s]),B.jsx(B.Fragment,{children:B.jsx(G0e,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},K0e=ore()(Y0e),Z0e=$i(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),X0e=()=>{const e=Z0e();return xu(),B.jsxs(B.Fragment,{children:[B.jsx(K0e,{}),B.jsx("div",{className:e.page,children:B.jsx(Kee,{})})]})},J0e=()=>{const{search:e}=o2();return V.useMemo(()=>new URLSearchParams(e),[e])};var d7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Fv,function(){var r,n,i;function o(a,f){if(!r)r=f;else if(!n)n=f;else{var h="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",g={};r(g),i=f(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function f(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var h=g;function g(u,l){this.x=u,this.y=l}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,l){var d=Math.cos(u),m=Math.sin(u),_=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(u){return u instanceof g?u:Array.isArray(u)?new g(u[0],u[1]):u};var y=f(h),x=A;function A(u,l,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=m}A.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var _=this.sampleCurveX(d)-u;if(Math.abs(_)<l)return d;var C=this.sampleCurveDerivativeX(d);if(Math.abs(C)<1e-6)break;d-=_/C}var P=0,$=1;for(d=u,m=0;m<20&&(_=this.sampleCurveX(d),!(Math.abs(_-u)<l));m++)u>_?P=d:$=d,d=.5*($-P)+P;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var T=f(x);function w(u,l,d,m){const _=new T(u,l,d,m);return function(C){return _.solve(C)}}const M=w(.25,.1,.25,1);function O(u,l,d){return Math.min(d,Math.max(l,u))}function I(u,l,d){const m=d-l,_=((u-l)%m+m)%m+l;return _===l?d:_}function E(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}let R=1;function N(u,l,d){const m={};for(const _ in u)m[_]=l.call(d||this,u[_],_,u);return m}function D(u,l,d){const m={};for(const _ in u)l.call(d||this,u[_],_,u)&&(m[_]=u[_]);return m}function F(u){return Array.isArray(u)?u.map(F):typeof u=="object"&&u?N(u,F):u}const q={};function J(u){q[u]||(typeof console<"u"&&console.warn(u),q[u]=!0)}function Q(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function ae(u){let l=0;for(let d,m,_=0,C=u.length,P=C-1;_<C;P=_++)d=u[_],m=u[P],l+=(m.x-d.x)*(d.y+m.y);return l}function he(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let fe=null;function we(u){if(fe==null){const l=u.navigator?u.navigator.userAgent:null;fe=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return fe}function ge(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Te,Ee;const Oe={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),d=l.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,d.drawImage(u,0,0,u.width,u.height),d},resolveURL:u=>(Te||(Te=document.createElement("a")),Te.href=u,Te.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Ee==null&&(Ee=matchMedia("(prefers-reduced-motion: reduce)")),Ee.matches)}},qe={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class rt extends Error{constructor(l,d,m,_){super(`AJAXError: ${d} (${l}): ${m}`),this.status=l,this.statusText=d,this.url=m,this.body=_}}const Pe=he()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,je=u=>qe.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function Le(u,l){const d=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:Pe(),signal:d.signal});let _=!1,C=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),C||fetch(m).then(P=>P.ok?($=>{(u.type==="arrayBuffer"||u.type==="image"?$.arrayBuffer():u.type==="json"?$.json():$.text()).then(j=>{C||(_=!0,l(null,j,$.headers.get("Cache-Control"),$.headers.get("Expires")))}).catch(j=>{C||l(new Error(j.message))})})(P):P.blob().then($=>l(new rt(P.status,P.statusText,u.url,$)))).catch(P=>{P.code!==20&&l(new Error(P.message))}),{cancel:()=>{C=!0,_||d.abort()}}}const Ye=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(he()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!he())return(je(u.url)||Le)(u,l)}if(!(/^file:/.test(d=u.url)||/^file:/.test(Pe())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Le(u,l);if(he()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(m,_){const C=new XMLHttpRequest;C.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(C.responseType="arraybuffer");for(const P in m.headers)C.setRequestHeader(P,m.headers[P]);return m.type==="json"&&(C.responseType="text",C.setRequestHeader("Accept","application/json")),C.withCredentials=m.credentials==="include",C.onerror=()=>{_(new Error(C.statusText))},C.onload=()=>{if((C.status>=200&&C.status<300||C.status===0)&&C.response!==null){let P=C.response;if(m.type==="json")try{P=JSON.parse(C.response)}catch($){return _($)}_(null,P,C.getResponseHeader("Cache-Control"),C.getResponseHeader("Expires"))}else{const P=new Blob([C.response],{type:C.getResponseHeader("Content-Type")});_(new rt(C.status,C.statusText,m.url,P))}},C.send(m.body),{cancel:()=>C.abort()}}(u,l)},Be=function(u,l){return Ye(E(u,{type:"arrayBuffer"}),l)};function lt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function it(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function Ve(u,l,d){if(d&&d[u]){const m=d[u].indexOf(l);m!==-1&&d[u].splice(m,1)}}class Xe{constructor(l,d={}){E(this,d),this.type=l}}class ct extends Xe{constructor(l,d={}){super("error",E({error:l},d))}}class Fe{on(l,d){return this._listeners=this._listeners||{},it(l,d,this._listeners),this}off(l,d){return Ve(l,d,this._listeners),Ve(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},it(l,d,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,d){typeof l=="string"&&(l=new Xe(l,d||{}));const m=l.type;if(this.listens(m)){l.target=this;const _=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const $ of _)$.call(this,l);const C=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const $ of C)Ve(m,$,this._oneTimeListeners),$.call(this,l);const P=this._eventedParent;P&&(E(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(l))}else l instanceof ct&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var Me={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Et=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Zt(u,l){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return Et.forEach(m=>{m in l&&(d[m]=l[m])}),d}function Ot(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let d=0;d<u.length;d++)if(!Ot(u[d],l[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const d in u)if(!Ot(u[d],l[d]))return!1;return!0}return u===l}const jt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Mr(u,l,d){d.push({command:jt.addSource,args:[u,l[u]]})}function Hr(u,l,d){l.push({command:jt.removeSource,args:[u]}),d[u]=!0}function pr(u,l,d,m){Hr(u,d,m),Mr(u,l,d)}function Sr(u,l,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!Ot(u[d][m],l[d][m]))return!1;for(m in l[d])if(Object.prototype.hasOwnProperty.call(l[d],m)&&m!=="data"&&!Ot(u[d][m],l[d][m]))return!1;return!0}function cr(u,l,d,m,_,C){let P;for(P in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,P)&&(Ot(u[P],l[P])||d.push({command:C,args:[m,P,l[P],_]}));for(P in l)Object.prototype.hasOwnProperty.call(l,P)&&!Object.prototype.hasOwnProperty.call(u,P)&&(Ot(u[P],l[P])||d.push({command:C,args:[m,P,l[P],_]}))}function Er(u){return u.id}function un(u,l){return u[l.id]=l,u}class ut{constructor(l,d,m,_){this.message=(l?`${l}: `:"")+m,_&&(this.identifier=_),d!=null&&d.__line__&&(this.line=d.__line__)}}function Ir(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}class en extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class mr{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[m,_]of d)this.bindings[m]=_}concat(l){return new mr(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Jt={kind:"null"},Ke={kind:"number"},At={kind:"string"},$t={kind:"boolean"},tn={kind:"color"},no={kind:"object"},Xt={kind:"value"},vo={kind:"collator"},Wo={kind:"formatted"},Aa={kind:"padding"},_o={kind:"resolvedImage"},is={kind:"variableAnchorOffsetCollection"};function yi(u,l){return{kind:"array",itemType:u,N:l}}function Gr(u){if(u.kind==="array"){const l=Gr(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const Cl=[Jt,Ke,At,$t,tn,Wo,no,yi(Xt),Aa,_o,is];function qo(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!qo(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of Cl)if(!qo(d,l))return null}}return`Expected ${Gr(u)} but found ${Gr(l)} instead.`}function pe(u,l){return l.some(d=>d.kind===u.kind)}function X(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}function te(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const se=.96422,ye=.82521,be=4/29,Re=6/29,ke=3*Re*Re,Se=Re*Re*Re,ze=Math.PI/180,Je=180/Math.PI;function et(u){return(u%=360)<0&&(u+=360),u}function ot([u,l,d,m]){let _,C;const P=sr((.2225045*(u=Vt(u))+.7168786*(l=Vt(l))+.0606169*(d=Vt(d)))/1);u===l&&l===d?_=C=P:(_=sr((.4360747*u+.3850649*l+.1430804*d)/se),C=sr((.0139322*u+.0971045*l+.7141733*d)/ye));const $=116*P-16;return[$<0?0:$,500*(_-P),200*(P-C),m]}function Vt(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function sr(u){return u>Se?Math.pow(u,1/3):u/ke+be}function Nt([u,l,d,m]){let _=(u+16)/116,C=isNaN(l)?_:_+l/500,P=isNaN(d)?_:_-d/200;return _=1*ar(_),C=se*ar(C),P=ye*ar(P),[Wt(3.1338561*C-1.6168667*_-.4906146*P),Wt(-.9787684*C+1.9161415*_+.033454*P),Wt(.0719453*C-.2289914*_+1.4052427*P),m]}function Wt(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function ar(u){return u>Re?u*u*u:ke*(u-be)}function Pr(u){return parseInt(u.padEnd(2,u),16)/255}function Ur(u,l){return gr(l?u/100:u,0,1)}function gr(u,l,d){return Math.min(Math.max(l,u),d)}function Ar(u){return!u.some(Number.isNaN)}const Vi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class gt{constructor(l,d,m,_=1,C=!0){this.r=l,this.g=d,this.b=m,this.a=_,C||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[l,d,m,_]))}static parse(l){if(l instanceof gt)return l;if(typeof l!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const _=Vi[m];if(_){const[P,$,j]=_;return[P/255,$/255,j/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const P=m.length<6?1:2;let $=1;return[Pr(m.slice($,$+=P)),Pr(m.slice($,$+=P)),Pr(m.slice($,$+=P)),Pr(m.slice($,$+P)||"ff")]}if(m.startsWith("rgb")){const P=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[$,j,W,Y,Z,ee,ne,ie,de,ve,xe,Ne]=P,Ae=[Y||" ",ne||" ",ve].join("");if(Ae==="  "||Ae==="  /"||Ae===",,"||Ae===",,,"){const Ue=[W,ee,de].join(""),He=Ue==="%%%"?100:Ue===""?255:0;if(He){const nt=[gr(+j/He,0,1),gr(+Z/He,0,1),gr(+ie/He,0,1),xe?Ur(+xe,Ne):1];if(Ar(nt))return nt}}return}}const C=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(C){const[P,$,j,W,Y,Z,ee,ne,ie]=C,de=[j||" ",Y||" ",ee].join("");if(de==="  "||de==="  /"||de===",,"||de===",,,"){const ve=[+$,gr(+W,0,100),gr(+Z,0,100),ne?Ur(+ne,ie):1];if(Ar(ve))return function([xe,Ne,Ae,Ue]){function He(nt){const Tt=(nt+xe/30)%12,Ft=Ne*Math.min(Ae,1-Ae);return Ae-Ft*Math.max(-1,Math.min(Tt-3,9-Tt,1))}return xe=et(xe),Ne/=100,Ae/=100,[He(0),He(8),He(4),Ue]}(ve)}}}(l);return d?new gt(...d,!1):void 0}get rgb(){const{r:l,g:d,b:m,a:_}=this,C=_||1/0;return this.overwriteGetter("rgb",[l/C,d/C,m/C,_])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,m,_,C]=ot(l),P=Math.sqrt(m*m+_*_);return[Math.round(1e4*P)?et(Math.atan2(_,m)*Je):NaN,P,d,C]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ot(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,m,_]=this.rgb;return`rgba(${[l,d,m].map(C=>Math.round(255*C)).join(",")},${_})`}}gt.black=new gt(0,0,0,1),gt.white=new gt(1,1,1,1),gt.transparent=new gt(0,0,0,0),gt.red=new gt(1,0,0,1);class Dr{constructor(l,d,m){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Di{constructor(l,d,m,_,C){this.text=l,this.image=d,this.scale=m,this.fontStack=_,this.textColor=C}}class Xn{constructor(l){this.sections=l}static fromString(l){return new Xn([new Di(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Xn?l:Xn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Ho{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ho)return l;if(typeof l=="number")return new Ho([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Ho(l)}}toString(){return JSON.stringify(this.values)}}const xC=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Wi{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Wi)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const m=l[d],_=l[d+1];if(typeof m!="string"||!xC.has(m)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new Wi(l)}}toString(){return JSON.stringify(this.values)}}class ua{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ua({name:l,available:!1}):null}}function bx(u,l,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,d,m]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $h(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof gt||u instanceof Dr||u instanceof Xn||u instanceof Ho||u instanceof Wi||u instanceof ua)return!0;if(Array.isArray(u)){for(const l of u)if(!$h(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!$h(u[l]))return!1;return!0}return!1}function Jn(u){if(u===null)return Jt;if(typeof u=="string")return At;if(typeof u=="boolean")return $t;if(typeof u=="number")return Ke;if(u instanceof gt)return tn;if(u instanceof Dr)return vo;if(u instanceof Xn)return Wo;if(u instanceof Ho)return Aa;if(u instanceof Wi)return is;if(u instanceof ua)return _o;if(Array.isArray(u)){const l=u.length;let d;for(const m of u){const _=Jn(m);if(d){if(d===_)continue;d=Xt;break}d=_}return yi(d||Xt,l)}return no}function kl(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof gt||u instanceof Xn||u instanceof Ho||u instanceof Wi||u instanceof ua?u.toString():JSON.stringify(u)}class gc{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!$h(l[1]))return d.error("invalid value");const m=l[1];let _=Jn(m);const C=d.expectedType;return _.kind!=="array"||_.N!==0||!C||C.kind!=="array"||typeof C.N=="number"&&C.N!==0||(_=C),new gc(_,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Qn{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Dh={string:At,number:Ke,boolean:$t,object:no};class qi{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let m,_=1;const C=l[0];if(C==="array"){let $,j;if(l.length>2){const W=l[1];if(typeof W!="string"||!(W in Dh)||W==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);$=Dh[W],_++}else $=Xt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);j=l[2],_++}m=yi($,j)}else{if(!Dh[C])throw new Error(`Types doesn't contain name = ${C}`);m=Dh[C]}const P=[];for(;_<l.length;_++){const $=d.parse(l[_],_,Xt);if(!$)return null;P.push($)}return new qi(m,P)}evaluate(l){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(l);if(!qo(this.type,Jn(m)))return m;if(d===this.args.length-1)throw new Qn(`Expected value to be of type ${Gr(this.type)}, but found ${Gr(Jn(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Lh={"to-boolean":$t,"to-color":tn,"to-number":Ke,"to-string":At};class os{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[0];if(!Lh[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return d.error("Expected one argument.");const _=Lh[m],C=[];for(let P=1;P<l.length;P++){const $=d.parse(l[P],P,Xt);if(!$)return null;C.push($)}return new os(_,C)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,m;for(const _ of this.args){if(d=_.evaluate(l),m=null,d instanceof gt)return d;if(typeof d=="string"){const C=l.parseColor(d);if(C)return C}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:bx(d[0],d[1],d[2],d[3]),!m))return new gt(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new Qn(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(l);const _=Ho.parse(d);if(_)return _}throw new Qn(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(l);const _=Wi.parse(d);if(_)return _}throw new Qn(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(l),d===null)return 0;const _=Number(d);if(!isNaN(_))return _}throw new Qn(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Xn.fromString(kl(this.args[0].evaluate(l)));case"resolvedImage":return ua.fromString(kl(this.args[0].evaluate(l)));default:return kl(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const rf=["Unknown","Point","LineString","Polygon"];class Yr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?rf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=gt.parse(l)),d}}class Nh{constructor(l,d,m=[],_,C=new mr,P=[]){this.registry=l,this.path=m,this.key=m.map($=>`[${$}]`).join(""),this.scope=C,this.errors=P,this.expectedType=_,this._isConstant=d}parse(l,d,m,_,C={}){return d?this.concat(d,m,_)._parse(l,C):this._parse(l,C)}_parse(l,d){function m(_,C,P){return P==="assert"?new qi(C,[_]):P==="coerce"?new os(C,[_]):_}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=l[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const C=this.registry[_];if(C){let P=C.parse(l,this);if(!P)return null;if(this.expectedType){const $=this.expectedType,j=P.type;if($.kind!=="string"&&$.kind!=="number"&&$.kind!=="boolean"&&$.kind!=="object"&&$.kind!=="array"||j.kind!=="value")if($.kind!=="color"&&$.kind!=="formatted"&&$.kind!=="resolvedImage"||j.kind!=="value"&&j.kind!=="string")if($.kind!=="padding"||j.kind!=="value"&&j.kind!=="number"&&j.kind!=="array")if($.kind!=="variableAnchorOffsetCollection"||j.kind!=="value"&&j.kind!=="array"){if(this.checkSubtype($,j))return null}else P=m(P,$,d.typeAnnotation||"coerce");else P=m(P,$,d.typeAnnotation||"coerce");else P=m(P,$,d.typeAnnotation||"coerce");else P=m(P,$,d.typeAnnotation||"assert")}if(!(P instanceof gc)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const $=new Yr;try{P=new gc(P.type,P.evaluate($))}catch(j){return this.error(j.message),null}}return P}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,m){const _=typeof l=="number"?this.path.concat(l):this.path,C=m?this.scope.concat(m):this.scope;return new Nh(this.registry,this._isConstant,_,d||null,C,this.errors)}error(l,...d){const m=`${this.key}${d.map(_=>`[${_}]`).join("")}`;this.errors.push(new en(m,l))}checkSubtype(l,d){const m=qo(l,d);return m&&this.error(m),m}}class Cu{constructor(l,d,m){this.type=vo,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const _=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,$t);if(!_)return null;const C=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,$t);if(!C)return null;let P=null;return m.locale&&(P=d.parse(m.locale,1,At),!P)?null:new Cu(_,C,P)}evaluate(l){return new Dr(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Tl=8192;function zh(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function nf(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function bC(u,l){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,_=Math.pow(2,l.z);return[Math.round(d*_*Tl),Math.round(m*_*Tl)]}function wx(u,l,d){const m=u[0]-l[0],_=u[1]-l[1],C=u[0]-d[0],P=u[1]-d[1];return m*P-C*_==0&&m*C<=0&&_*P<=0}function jh(u,l){let d=!1;for(let P=0,$=l.length;P<$;P++){const j=l[P];for(let W=0,Y=j.length;W<Y-1;W++){if(wx(u,j[W],j[W+1]))return!1;(_=j[W])[1]>(m=u)[1]!=(C=j[W+1])[1]>m[1]&&m[0]<(C[0]-_[0])*(m[1]-_[1])/(C[1]-_[1])+_[0]&&(d=!d)}}var m,_,C;return d}function wC(u,l){for(let d=0;d<l.length;d++)if(jh(u,l[d]))return!0;return!1}function Sx(u,l,d,m){const _=m[0]-d[0],C=m[1]-d[1],P=(u[0]-d[0])*C-_*(u[1]-d[1]),$=(l[0]-d[0])*C-_*(l[1]-d[1]);return P>0&&$<0||P<0&&$>0}function SC(u,l,d){for(const W of d)for(let Y=0;Y<W.length-1;++Y)if(($=[(P=W[Y+1])[0]-(C=W[Y])[0],P[1]-C[1]])[0]*(j=[(_=l)[0]-(m=u)[0],_[1]-m[1]])[1]-$[1]*j[0]!=0&&Sx(m,_,C,P)&&Sx(C,P,m,_))return!0;var m,_,C,P,$,j;return!1}function Ex(u,l){for(let d=0;d<u.length;++d)if(!jh(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(SC(u[d],u[d+1],l))return!1;return!0}function Cx(u,l){for(let d=0;d<l.length;d++)if(Ex(u,l[d]))return!0;return!1}function Bh(u,l,d){const m=[];for(let _=0;_<u.length;_++){const C=[];for(let P=0;P<u[_].length;P++){const $=bC(u[_][P],d);zh(l,$),C.push($)}m.push(C)}return m}function kx(u,l,d){const m=[];for(let _=0;_<u.length;_++){const C=Bh(u[_],l,d);m.push(C)}return m}function Tx(u,l,d,m){if(u[0]<d[0]||u[0]>d[2]){const _=.5*m;let C=u[0]-d[0]>_?-m:d[0]-u[0]>_?m:0;C===0&&(C=u[0]-d[2]>_?-m:d[2]-u[0]>_?m:0),u[0]+=C}zh(l,u)}function Fh(u,l,d,m){const _=Math.pow(2,m.z)*Tl,C=[m.x*Tl,m.y*Tl],P=[];for(const $ of u)for(const j of $){const W=[j.x+C[0],j.y+C[1]];Tx(W,l,d,_),P.push(W)}return P}function Px(u,l,d,m){const _=Math.pow(2,m.z)*Tl,C=[m.x*Tl,m.y*Tl],P=[];for(const j of u){const W=[];for(const Y of j){const Z=[Y.x+C[0],Y.y+C[1]];zh(l,Z),W.push(Z)}P.push(W)}if(l[2]-l[0]<=_/2){($=l)[0]=$[1]=1/0,$[2]=$[3]=-1/0;for(const j of P)for(const W of j)Tx(W,l,d,_)}var $;return P}class yc{constructor(l,d){this.type=$t,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if($h(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let _=0;_<m.features.length;++_){const C=m.features[_].geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new yc(m,m.features[_].geometry)}else if(m.type==="Feature"){const _=m.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new yc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new yc(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,m){const _=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(m.type==="Polygon"){const $=Bh(m.coordinates,C,P),j=Fh(d.geometry(),_,C,P);if(!nf(_,C))return!1;for(const W of j)if(!jh(W,$))return!1}if(m.type==="MultiPolygon"){const $=kx(m.coordinates,C,P),j=Fh(d.geometry(),_,C,P);if(!nf(_,C))return!1;for(const W of j)if(!wC(W,$))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,m){const _=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(m.type==="Polygon"){const $=Bh(m.coordinates,C,P),j=Px(d.geometry(),_,C,P);if(!nf(_,C))return!1;for(const W of j)if(!Ex(W,$))return!1}if(m.type==="MultiPolygon"){const $=kx(m.coordinates,C,P),j=Px(d.geometry(),_,C,P);if(!nf(_,C))return!1;for(const W of j)if(!Cx(W,$))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Uh{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=l[1];return d.scope.has(m)?new Uh(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Go{constructor(l,d,m,_){this.name=l,this.type=d,this._evaluate=m,this.args=_}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const m=l[0],_=Go.definitions[m];if(!_)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const C=Array.isArray(_)?_[0]:_.type,P=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,$=P.filter(([W])=>!Array.isArray(W)||W.length===l.length-1);let j=null;for(const[W,Y]of $){j=new Nh(d.registry,of,d.path,null,d.scope);const Z=[];let ee=!1;for(let ne=1;ne<l.length;ne++){const ie=l[ne],de=Array.isArray(W)?W[ne-1]:W.type,ve=j.parse(ie,1+Z.length,de);if(!ve){ee=!0;break}Z.push(ve)}if(!ee)if(Array.isArray(W)&&W.length!==Z.length)j.error(`Expected ${W.length} arguments, but found ${Z.length} instead.`);else{for(let ne=0;ne<Z.length;ne++){const ie=Array.isArray(W)?W[ne]:W.type,de=Z[ne];j.concat(ne+1).checkSubtype(ie,de.type)}if(j.errors.length===0)return new Go(m,C,Y,Z)}}if($.length===1)d.errors.push(...j.errors);else{const W=($.length?$:P).map(([Z])=>{return ee=Z,Array.isArray(ee)?`(${ee.map(Gr).join(", ")})`:`(${Gr(ee.type)}...)`;var ee}).join(" | "),Y=[];for(let Z=1;Z<l.length;Z++){const ee=d.parse(l[Z],1+Y.length);if(!ee)return null;Y.push(Gr(ee.type))}d.error(`Expected arguments of type ${W}, but found (${Y.join(", ")}) instead.`)}return null}static register(l,d){Go.definitions=d;for(const m in d)l[m]=Go}}function of(u){if(u instanceof Uh)return of(u.boundExpression);if(u instanceof Go&&u.name==="error"||u instanceof Cu||u instanceof yc)return!1;const l=u instanceof os||u instanceof qi;let d=!0;return u.eachChild(m=>{d=l?d&&of(m):d&&m instanceof gc}),!!d&&Vh(u)&&sf(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Vh(u){if(u instanceof Go&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof yc)return!1;let l=!0;return u.eachChild(d=>{l&&!Vh(d)&&(l=!1)}),l}function af(u){if(u instanceof Go&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!af(d)&&(l=!1)}),l}function sf(u,l){if(u instanceof Go&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(m=>{d&&!sf(m,l)&&(d=!1)}),d}function lf(u,l){const d=u.length-1;let m,_,C=0,P=d,$=0;for(;C<=P;)if($=Math.floor((C+P)/2),m=u[$],_=u[$+1],m<=l){if($===d||l<_)return $;C=$+1}else{if(!(m>l))throw new Qn("Input is not a number.");P=$-1}return 0}class cf{constructor(l,d,m){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[_,C]of m)this.labels.push(_),this.outputs.push(C)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(l[1],1,Ke);if(!m)return null;const _=[];let C=null;d.expectedType&&d.expectedType.kind!=="value"&&(C=d.expectedType);for(let P=1;P<l.length;P+=2){const $=P===1?-1/0:l[P],j=l[P+1],W=P,Y=P+1;if(typeof $!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(_.length&&_[_.length-1][0]>=$)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',W);const Z=d.parse(j,Y,C);if(!Z)return null;C=C||Z.type,_.push([$,Z])}return new cf(C,m,_)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const _=this.input.evaluate(l);if(_<=d[0])return m[0].evaluate(l);const C=d.length;return _>=d[C-1]?m[C-1].evaluate(l):m[lf(d,_)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function vc(u,l,d){return u+d*(l-u)}function Wh(u,l,d){return u.map((m,_)=>vc(m,l[_],d))}const Yo={number:vc,color:function(u,l,d,m="rgb"){switch(m){case"rgb":{const[_,C,P,$]=Wh(u.rgb,l.rgb,d);return new gt(_,C,P,$,!1)}case"hcl":{const[_,C,P,$]=u.hcl,[j,W,Y,Z]=l.hcl;let ee,ne;if(isNaN(_)||isNaN(j))isNaN(_)?isNaN(j)?ee=NaN:(ee=j,P!==1&&P!==0||(ne=W)):(ee=_,Y!==1&&Y!==0||(ne=C));else{let Ne=j-_;j>_&&Ne>180?Ne-=360:j<_&&_-j>180&&(Ne+=360),ee=_+d*Ne}const[ie,de,ve,xe]=function([Ne,Ae,Ue,He]){return Ne=isNaN(Ne)?0:Ne*ze,Nt([Ue,Math.cos(Ne)*Ae,Math.sin(Ne)*Ae,He])}([ee,ne??vc(C,W,d),vc(P,Y,d),vc($,Z,d)]);return new gt(ie,de,ve,xe,!1)}case"lab":{const[_,C,P,$]=Nt(Wh(u.lab,l.lab,d));return new gt(_,C,P,$,!1)}}},array:Wh,padding:function(u,l,d){return new Ho(Wh(u.values,l.values,d))},variableAnchorOffsetCollection:function(u,l,d){const m=u.values,_=l.values;if(m.length!==_.length)throw new Qn(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const C=[];for(let P=0;P<m.length;P+=2){if(m[P]!==_[P])throw new Qn(`Cannot interpolate values containing mismatched anchors. from[${P}]: ${m[P]}, to[${P}]: ${_[P]}`);C.push(m[P]);const[$,j]=m[P+1],[W,Y]=_[P+1];C.push([vc($,W,d),vc(j,Y,d)])}return new Wi(C)}};class Ko{constructor(l,d,m,_,C){this.type=l,this.operator=d,this.interpolation=m,this.input=_,this.labels=[],this.outputs=[];for(const[P,$]of C)this.labels.push(P),this.outputs.push($)}static interpolationFactor(l,d,m,_){let C=0;if(l.name==="exponential")C=sy(d,l.base,m,_);else if(l.name==="linear")C=sy(d,1,m,_);else if(l.name==="cubic-bezier"){const P=l.controlPoints;C=new T(P[0],P[1],P[2],P[3]).solve(sy(d,1,m,_))}return C}static parse(l,d){let[m,_,C,...P]=l;if(!Array.isArray(_)||_.length===0)return d.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){const W=_[1];if(typeof W!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:W}}else{if(_[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const W=_.slice(1);if(W.length!==4||W.some(Y=>typeof Y!="number"||Y<0||Y>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:W}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(C=d.parse(C,2,Ke),!C)return null;const $=[];let j=null;m==="interpolate-hcl"||m==="interpolate-lab"?j=tn:d.expectedType&&d.expectedType.kind!=="value"&&(j=d.expectedType);for(let W=0;W<P.length;W+=2){const Y=P[W],Z=P[W+1],ee=W+3,ne=W+4;if(typeof Y!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ee);if($.length&&$[$.length-1][0]>=Y)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ee);const ie=d.parse(Z,ne,j);if(!ie)return null;j=j||ie.type,$.push([Y,ie])}return te(j,Ke)||te(j,tn)||te(j,Aa)||te(j,is)||te(j,yi(Ke))?new Ko(j,m,_,C,$):d.error(`Type ${Gr(j)} is not interpolatable.`)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const _=this.input.evaluate(l);if(_<=d[0])return m[0].evaluate(l);const C=d.length;if(_>=d[C-1])return m[C-1].evaluate(l);const P=lf(d,_),$=Ko.interpolationFactor(this.interpolation,_,d[P],d[P+1]),j=m[P].evaluate(l),W=m[P+1].evaluate(l);switch(this.operator){case"interpolate":return Yo[this.type.kind](j,W,$);case"interpolate-hcl":return Yo.color(j,W,$,"hcl");case"interpolate-lab":return Yo.color(j,W,$,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function sy(u,l,d,m){const _=m-d,C=u-d;return _===0?0:l===1?C/_:(Math.pow(l,C)-1)/(Math.pow(l,_)-1)}class qh{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let m=null;const _=d.expectedType;_&&_.kind!=="value"&&(m=_);const C=[];for(const $ of l.slice(1)){const j=d.parse($,1+C.length,m,void 0,{typeAnnotation:"omit"});if(!j)return null;m=m||j.type,C.push(j)}if(!m)throw new Error("No output type");const P=_&&C.some($=>qo(_,$.type));return new qh(P?Xt:m,C)}evaluate(l){let d,m=null,_=0;for(const C of this.args)if(_++,m=C.evaluate(l),m&&m instanceof ua&&!m.available&&(d||(d=m.name),m=null,_===this.args.length&&(m=d)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class ku{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let C=1;C<l.length-1;C+=2){const P=l[C];if(typeof P!="string")return d.error(`Expected string, but found ${typeof P} instead.`,C);if(/[^a-zA-Z0-9_]/.test(P))return d.error("Variable names must contain only alphanumeric characters or '_'.",C);const $=d.parse(l[C+1],C+1);if(!$)return null;m.push([P,$])}const _=d.parse(l[l.length-1],l.length-1,d.expectedType,m);return _?new ku(m,_):null}outputDefined(){return this.result.outputDefined()}}class Tu{constructor(l,d,m){this.type=l,this.index=d,this.input=m}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,Ke),_=d.parse(l[2],2,yi(d.expectedType||Xt));return m&&_?new Tu(_.type.itemType,m,_):null}evaluate(l){const d=this.index.evaluate(l),m=this.input.evaluate(l);if(d<0)throw new Qn(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new Qn(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new Qn(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Lr{constructor(l,d){this.type=$t,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,Xt),_=d.parse(l[2],2,Xt);return m&&_?pe(m.type,[$t,At,Ke,Jt,Xt])?new Lr(m,_):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(m.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!X(d,["boolean","string","number","null"]))throw new Qn(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(Jn(d))} instead.`);if(!X(m,["string","array"]))throw new Qn(`Expected second argument to be of type array or string, but found ${Gr(Jn(m))} instead.`);return m.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Hh{constructor(l,d,m){this.type=Ke,this.needle=l,this.haystack=d,this.fromIndex=m}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,Xt),_=d.parse(l[2],2,Xt);if(!m||!_)return null;if(!pe(m.type,[$t,At,Ke,Jt,Xt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(m.type)} instead`);if(l.length===4){const C=d.parse(l[3],3,Ke);return C?new Hh(m,_,C):null}return new Hh(m,_)}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!X(d,["boolean","string","number","null"]))throw new Qn(`Expected first argument to be of type boolean, string, number or null, but found ${Gr(Jn(d))} instead.`);if(!X(m,["string","array"]))throw new Qn(`Expected second argument to be of type array or string, but found ${Gr(Jn(m))} instead.`);if(this.fromIndex){const _=this.fromIndex.evaluate(l);return m.indexOf(d,_)}return m.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class ly{constructor(l,d,m,_,C,P){this.inputType=l,this.type=d,this.input=m,this.cases=_,this.outputs=C,this.otherwise=P}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let m,_;d.expectedType&&d.expectedType.kind!=="value"&&(_=d.expectedType);const C={},P=[];for(let W=2;W<l.length-1;W+=2){let Y=l[W];const Z=l[W+1];Array.isArray(Y)||(Y=[Y]);const ee=d.concat(W);if(Y.length===0)return ee.error("Expected at least one branch label.");for(const ie of Y){if(typeof ie!="number"&&typeof ie!="string")return ee.error("Branch labels must be numbers or strings.");if(typeof ie=="number"&&Math.abs(ie)>Number.MAX_SAFE_INTEGER)return ee.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ie=="number"&&Math.floor(ie)!==ie)return ee.error("Numeric branch labels must be integer values.");if(m){if(ee.checkSubtype(m,Jn(ie)))return null}else m=Jn(ie);if(C[String(ie)]!==void 0)return ee.error("Branch labels must be unique.");C[String(ie)]=P.length}const ne=d.parse(Z,W,_);if(!ne)return null;_=_||ne.type,P.push(ne)}const $=d.parse(l[1],1,Xt);if(!$)return null;const j=d.parse(l[l.length-1],l.length-1,_);return j?$.type.kind!=="value"&&d.concat(1).checkSubtype(m,$.type)?null:new ly(m,_,$,C,P,j):null}evaluate(l){const d=this.input.evaluate(l);return(Jn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class cy{constructor(l,d,m){this.type=l,this.branches=d,this.otherwise=m}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const _=[];for(let P=1;P<l.length-1;P+=2){const $=d.parse(l[P],P,$t);if(!$)return null;const j=d.parse(l[P+1],P+1,m);if(!j)return null;_.push([$,j]),m=m||j.type}const C=d.parse(l[l.length-1],l.length-1,m);if(!C)return null;if(!m)throw new Error("Can't infer output type");return new cy(m,_,C)}evaluate(l){for(const[d,m]of this.branches)if(d.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,m]of this.branches)l(d),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Gh{constructor(l,d,m,_){this.type=l,this.input=d,this.beginIndex=m,this.endIndex=_}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,Xt),_=d.parse(l[2],2,Ke);if(!m||!_)return null;if(!pe(m.type,[yi(Xt),At,Xt]))return d.error(`Expected first argument to be of type array or string, but found ${Gr(m.type)} instead`);if(l.length===4){const C=d.parse(l[3],3,Ke);return C?new Gh(m.type,m,_,C):null}return new Gh(m.type,m,_)}evaluate(l){const d=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!X(d,["string","array"]))throw new Qn(`Expected first argument to be of type array or string, but found ${Gr(Jn(d))} instead.`);if(this.endIndex){const _=this.endIndex.evaluate(l);return d.slice(m,_)}return d.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Ax(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Mx(u,l,d,m){return m.compare(l,d)===0}function Pu(u,l,d){const m=u!=="=="&&u!=="!=";return class f7{constructor(C,P,$){this.type=$t,this.lhs=C,this.rhs=P,this.collator=$,this.hasUntypedArgument=C.type.kind==="value"||P.type.kind==="value"}static parse(C,P){if(C.length!==3&&C.length!==4)return P.error("Expected two or three arguments.");const $=C[0];let j=P.parse(C[1],1,Xt);if(!j)return null;if(!Ax($,j.type))return P.concat(1).error(`"${$}" comparisons are not supported for type '${Gr(j.type)}'.`);let W=P.parse(C[2],2,Xt);if(!W)return null;if(!Ax($,W.type))return P.concat(2).error(`"${$}" comparisons are not supported for type '${Gr(W.type)}'.`);if(j.type.kind!==W.type.kind&&j.type.kind!=="value"&&W.type.kind!=="value")return P.error(`Cannot compare types '${Gr(j.type)}' and '${Gr(W.type)}'.`);m&&(j.type.kind==="value"&&W.type.kind!=="value"?j=new qi(W.type,[j]):j.type.kind!=="value"&&W.type.kind==="value"&&(W=new qi(j.type,[W])));let Y=null;if(C.length===4){if(j.type.kind!=="string"&&W.type.kind!=="string"&&j.type.kind!=="value"&&W.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(Y=P.parse(C[3],3,vo),!Y)return null}return new f7(j,W,Y)}evaluate(C){const P=this.lhs.evaluate(C),$=this.rhs.evaluate(C);if(m&&this.hasUntypedArgument){const j=Jn(P),W=Jn($);if(j.kind!==W.kind||j.kind!=="string"&&j.kind!=="number")throw new Qn(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${j.kind}, ${W.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const j=Jn(P),W=Jn($);if(j.kind!=="string"||W.kind!=="string")return l(C,P,$)}return this.collator?d(C,P,$,this.collator.evaluate(C)):l(C,P,$)}eachChild(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)}outputDefined(){return!0}}}const EC=Pu("==",function(u,l,d){return l===d},Mx),CC=Pu("!=",function(u,l,d){return l!==d},function(u,l,d,m){return!Mx(0,l,d,m)}),kC=Pu("<",function(u,l,d){return l<d},function(u,l,d,m){return m.compare(l,d)<0}),TC=Pu(">",function(u,l,d){return l>d},function(u,l,d,m){return m.compare(l,d)>0}),PC=Pu("<=",function(u,l,d){return l<=d},function(u,l,d,m){return m.compare(l,d)<=0}),AC=Pu(">=",function(u,l,d){return l>=d},function(u,l,d,m){return m.compare(l,d)>=0});class uy{constructor(l,d,m,_,C){this.type=At,this.number=l,this.locale=d,this.currency=m,this.minFractionDigits=_,this.maxFractionDigits=C}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const m=d.parse(l[1],1,Ke);if(!m)return null;const _=l[2];if(typeof _!="object"||Array.isArray(_))return d.error("NumberFormat options argument must be an object.");let C=null;if(_.locale&&(C=d.parse(_.locale,1,At),!C))return null;let P=null;if(_.currency&&(P=d.parse(_.currency,1,At),!P))return null;let $=null;if(_["min-fraction-digits"]&&($=d.parse(_["min-fraction-digits"],1,Ke),!$))return null;let j=null;return _["max-fraction-digits"]&&(j=d.parse(_["max-fraction-digits"],1,Ke),!j)?null:new uy(m,C,P,$,j)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Yh{constructor(l){this.type=Wo,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const _=[];let C=!1;for(let P=1;P<=l.length-1;++P){const $=l[P];if(C&&typeof $=="object"&&!Array.isArray($)){C=!1;let j=null;if($["font-scale"]&&(j=d.parse($["font-scale"],1,Ke),!j))return null;let W=null;if($["text-font"]&&(W=d.parse($["text-font"],1,yi(At)),!W))return null;let Y=null;if($["text-color"]&&(Y=d.parse($["text-color"],1,tn),!Y))return null;const Z=_[_.length-1];Z.scale=j,Z.font=W,Z.textColor=Y}else{const j=d.parse(l[P],1,Xt);if(!j)return null;const W=j.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");C=!0,_.push({content:j,scale:null,font:null,textColor:null})}}return new Yh(_)}evaluate(l){return new Xn(this.sections.map(d=>{const m=d.content.evaluate(l);return Jn(m)===_o?new Di("",m,null,null,null):new Di(kl(m),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class dy{constructor(l){this.type=_o,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const m=d.parse(l[1],1,At);return m?new dy(m):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),m=ua.fromString(d);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(d)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class fy{constructor(l){this.type=Ke,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=d.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Gr(m.type)} instead.`):new fy(m):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new Qn(`Expected value to be of type string or array, but found ${Gr(Jn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Au={"==":EC,"!=":CC,">":TC,"<":kC,">=":AC,"<=":PC,array:qi,at:Tu,boolean:qi,case:cy,coalesce:qh,collator:Cu,format:Yh,image:dy,in:Lr,"index-of":Hh,interpolate:Ko,"interpolate-hcl":Ko,"interpolate-lab":Ko,length:fy,let:ku,literal:gc,match:ly,number:qi,"number-format":uy,object:qi,slice:Gh,step:cf,string:qi,"to-boolean":os,"to-color":os,"to-number":os,"to-string":os,var:Uh,within:yc};function Ox(u,[l,d,m,_]){l=l.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const C=_?_.evaluate(u):1,P=bx(l,d,m,C);if(P)throw new Qn(P);return new gt(l/255,d/255,m/255,C,!1)}function Ix(u,l){return u in l}function hy(u,l){const d=l[u];return d===void 0?null:d}function _c(u){return{type:u}}function Rx(u){return{result:"success",value:u}}function Mu(u){return{result:"error",value:u}}function Ou(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function $x(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function py(u){return!!u.expression&&u.expression.interpolated}function jr(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Kh(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function MC(u){return u}function Dx(u,l){const d=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",_=m||!(m||u.property!==void 0),C=u.type||(py(l)?"exponential":"interval");if(d||l.type==="padding"){const Y=d?gt.parse:Ho.parse;(u=Ir({},u)).stops&&(u.stops=u.stops.map(Z=>[Z[0],Y(Z[1])])),u.default=Y(u.default?u.default:l.default)}if(u.colorSpace&&(P=u.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var P;let $,j,W;if(C==="exponential")$=Lx;else if(C==="interval")$=IC;else if(C==="categorical"){$=OC,j=Object.create(null);for(const Y of u.stops)j[Y[0]]=Y[1];W=typeof u.stops[0][0]}else{if(C!=="identity")throw new Error(`Unknown function type "${C}"`);$=RC}if(m){const Y={},Z=[];for(let ie=0;ie<u.stops.length;ie++){const de=u.stops[ie],ve=de[0].zoom;Y[ve]===void 0&&(Y[ve]={zoom:ve,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(ve)),Y[ve].stops.push([de[0].value,de[1]])}const ee=[];for(const ie of Z)ee.push([Y[ie].zoom,Dx(Y[ie],l)]);const ne={name:"linear"};return{kind:"composite",interpolationType:ne,interpolationFactor:Ko.interpolationFactor.bind(void 0,ne),zoomStops:ee.map(ie=>ie[0]),evaluate:({zoom:ie},de)=>Lx({stops:ee,base:u.base},l,ie).evaluate(ie,de)}}if(_){const Y=C==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:Y,interpolationFactor:Ko.interpolationFactor.bind(void 0,Y),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>$(u,l,Z,j,W)}}return{kind:"source",evaluate(Y,Z){const ee=Z&&Z.properties?Z.properties[u.property]:void 0;return ee===void 0?xc(u.default,l.default):$(u,l,ee,j,W)}}}function xc(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function OC(u,l,d,m,_){return xc(typeof d===_?m[d]:void 0,u.default,l.default)}function IC(u,l,d){if(jr(d)!=="number")return xc(u.default,l.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const _=lf(u.stops.map(C=>C[0]),d);return u.stops[_][1]}function Lx(u,l,d){const m=u.base!==void 0?u.base:1;if(jr(d)!=="number")return xc(u.default,l.default);const _=u.stops.length;if(_===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[_-1][0])return u.stops[_-1][1];const C=lf(u.stops.map(Y=>Y[0]),d),P=function(Y,Z,ee,ne){const ie=ne-ee,de=Y-ee;return ie===0?0:Z===1?de/ie:(Math.pow(Z,de)-1)/(Math.pow(Z,ie)-1)}(d,m,u.stops[C][0],u.stops[C+1][0]),$=u.stops[C][1],j=u.stops[C+1][1],W=Yo[l.type]||MC;return typeof $.evaluate=="function"?{evaluate(...Y){const Z=$.evaluate.apply(void 0,Y),ee=j.evaluate.apply(void 0,Y);if(Z!==void 0&&ee!==void 0)return W(Z,ee,P,u.colorSpace)}}:W($,j,P,u.colorSpace)}function RC(u,l,d){switch(l.type){case"color":d=gt.parse(d);break;case"formatted":d=Xn.fromString(d.toString());break;case"resolvedImage":d=ua.fromString(d.toString());break;case"padding":d=Ho.parse(d);break;default:jr(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return xc(d,u.default,l.default)}Go.register(Au,{error:[{kind:"error"},[At],(u,[l])=>{throw new Qn(l.evaluate(u))}],typeof:[At,[Xt],(u,[l])=>Gr(Jn(l.evaluate(u)))],"to-rgba":[yi(Ke,4),[tn],(u,[l])=>{const[d,m,_,C]=l.evaluate(u).rgb;return[255*d,255*m,255*_,C]}],rgb:[tn,[Ke,Ke,Ke],Ox],rgba:[tn,[Ke,Ke,Ke,Ke],Ox],has:{type:$t,overloads:[[[At],(u,[l])=>Ix(l.evaluate(u),u.properties())],[[At,no],(u,[l,d])=>Ix(l.evaluate(u),d.evaluate(u))]]},get:{type:Xt,overloads:[[[At],(u,[l])=>hy(l.evaluate(u),u.properties())],[[At,no],(u,[l,d])=>hy(l.evaluate(u),d.evaluate(u))]]},"feature-state":[Xt,[At],(u,[l])=>hy(l.evaluate(u),u.featureState||{})],properties:[no,[],u=>u.properties()],"geometry-type":[At,[],u=>u.geometryType()],id:[Xt,[],u=>u.id()],zoom:[Ke,[],u=>u.globals.zoom],"heatmap-density":[Ke,[],u=>u.globals.heatmapDensity||0],"line-progress":[Ke,[],u=>u.globals.lineProgress||0],accumulated:[Xt,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Ke,_c(Ke),(u,l)=>{let d=0;for(const m of l)d+=m.evaluate(u);return d}],"*":[Ke,_c(Ke),(u,l)=>{let d=1;for(const m of l)d*=m.evaluate(u);return d}],"-":{type:Ke,overloads:[[[Ke,Ke],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[Ke],(u,[l])=>-l.evaluate(u)]]},"/":[Ke,[Ke,Ke],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[Ke,[Ke,Ke],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[Ke,[],()=>Math.LN2],pi:[Ke,[],()=>Math.PI],e:[Ke,[],()=>Math.E],"^":[Ke,[Ke,Ke],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[Ke,[Ke],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))],log2:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[Ke,[Ke],(u,[l])=>Math.sin(l.evaluate(u))],cos:[Ke,[Ke],(u,[l])=>Math.cos(l.evaluate(u))],tan:[Ke,[Ke],(u,[l])=>Math.tan(l.evaluate(u))],asin:[Ke,[Ke],(u,[l])=>Math.asin(l.evaluate(u))],acos:[Ke,[Ke],(u,[l])=>Math.acos(l.evaluate(u))],atan:[Ke,[Ke],(u,[l])=>Math.atan(l.evaluate(u))],min:[Ke,_c(Ke),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[Ke,_c(Ke),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[Ke,[Ke],(u,[l])=>Math.abs(l.evaluate(u))],round:[Ke,[Ke],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[Ke,[Ke],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[Ke,[Ke],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[$t,[At,Xt],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[$t,[Xt],(u,[l])=>u.id()===l.value],"filter-type-==":[$t,[At],(u,[l])=>u.geometryType()===l.value],"filter-<":[$t,[At,Xt],(u,[l,d])=>{const m=u.properties()[l.value],_=d.value;return typeof m==typeof _&&m<_}],"filter-id-<":[$t,[Xt],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<m}],"filter->":[$t,[At,Xt],(u,[l,d])=>{const m=u.properties()[l.value],_=d.value;return typeof m==typeof _&&m>_}],"filter-id->":[$t,[Xt],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>m}],"filter-<=":[$t,[At,Xt],(u,[l,d])=>{const m=u.properties()[l.value],_=d.value;return typeof m==typeof _&&m<=_}],"filter-id-<=":[$t,[Xt],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<=m}],"filter->=":[$t,[At,Xt],(u,[l,d])=>{const m=u.properties()[l.value],_=d.value;return typeof m==typeof _&&m>=_}],"filter-id->=":[$t,[Xt],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>=m}],"filter-has":[$t,[Xt],(u,[l])=>l.value in u.properties()],"filter-has-id":[$t,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[$t,[yi(At)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[$t,[yi(Xt)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[$t,[At,yi(Xt)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[$t,[At,yi(Xt)],(u,[l,d])=>function(m,_,C,P){for(;C<=P;){const $=C+P>>1;if(_[$]===m)return!0;_[$]>m?P=$-1:C=$+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:$t,overloads:[[[$t,$t],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[_c($t),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:$t,overloads:[[[$t,$t],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[_c($t),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[$t,[$t],(u,[l])=>!l.evaluate(u)],"is-supported-script":[$t,[At],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[At,[At],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[At,[At],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[At,_c(Xt),(u,l)=>l.map(d=>kl(d.evaluate(u))).join("")],"resolved-locale":[At,[vo],(u,[l])=>l.evaluate(u).resolvedLocale()]});class In{constructor(l,d){var m;this.expression=l,this._warningHistory={},this._evaluator=new Yr,this._defaultValue=d?(m=d).type==="color"&&Kh(m.default)?new gt(0,0,0,0):m.type==="color"?gt.parse(m.default)||null:m.type==="padding"?Ho.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?Wi.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,m,_,C,P){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=_,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(l,d,m,_,C,P){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=_,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=P||null;try{const $=this.expression.evaluate(this._evaluator);if($==null||typeof $=="number"&&$!=$)return this._defaultValue;if(this._enumValues&&!($ in this._enumValues))throw new Qn(`Expected value to be one of ${Object.keys(this._enumValues).map(j=>JSON.stringify(j)).join(", ")}, but found ${JSON.stringify($)} instead.`);return $}catch($){return this._warningHistory[$.message]||(this._warningHistory[$.message]=!0,typeof console<"u"&&console.warn($.message)),this._defaultValue}}}function Zh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in Au}function _r(u,l){const d=new Nh(Au,of,[],l?function(_){const C={color:tn,string:At,number:Ke,enum:At,boolean:$t,formatted:Wo,padding:Aa,resolvedImage:_o,variableAnchorOffsetCollection:is};return _.type==="array"?yi(C[_.value]||Xt,_.length):C[_.type]}(l):void 0),m=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Rx(new In(m,l)):Mu(d.errors)}class uf{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!af(d.expression)}evaluateWithoutErrorHandling(l,d,m,_,C,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,_,C,P)}evaluate(l,d,m,_,C,P){return this._styleExpression.evaluate(l,d,m,_,C,P)}}class mn{constructor(l,d,m,_){this.kind=l,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!af(d.expression),this.interpolationType=_}evaluateWithoutErrorHandling(l,d,m,_,C,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,_,C,P)}evaluate(l,d,m,_,C,P){return this._styleExpression.evaluate(l,d,m,_,C,P)}interpolationFactor(l,d,m){return this.interpolationType?Ko.interpolationFactor(this.interpolationType,l,d,m):0}}function gn(u,l){const d=_r(u,l);if(d.result==="error")return d;const m=d.value.expression,_=Vh(m);if(!_&&!Ou(l))return Mu([new en("","data expressions not supported")]);const C=sf(m,["zoom"]);if(!C&&!$x(l))return Mu([new en("","zoom expressions not supported")]);const P=df(m);return P||C?P instanceof en?Mu([P]):P instanceof Ko&&!py(l)?Mu([new en("",'"interpolate" expressions cannot be used with this property')]):Rx(P?new mn(_?"camera":"composite",d.value,P.labels,P instanceof Ko?P.interpolation:void 0):new uf(_?"constant":"source",d.value)):Mu([new en("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class bc{constructor(l,d){this._parameters=l,this._specification=d,Ir(this,Dx(this._parameters,this._specification))}static deserialize(l){return new bc(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function df(u){let l=null;if(u instanceof ku)l=df(u.result);else if(u instanceof qh){for(const d of u.args)if(l=df(d),l)break}else(u instanceof cf||u instanceof Ko)&&u.input instanceof Go&&u.input.name==="zoom"&&(l=u);return l instanceof en||u.eachChild(d=>{const m=df(d);m instanceof en?l=m:!l&&m?l=new en("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new en("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function my(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!my(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const $C={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gy(u){if(u==null)return{filter:()=>!0,needGeometry:!1};my(u)||(u=ff(u));const l=_r(u,$C);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,_)=>l.value.evaluate(d,m,{},_),needGeometry:yy(u)}}function DC(u,l){return u<l?-1:u>l?1:0}function yy(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(yy(u[l]))return!0;return!1}function ff(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?Xh(u[1],u[2],"=="):l==="!="?Qh(Xh(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Xh(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(ff))):l==="all"?["all"].concat(u.slice(1).map(ff)):l==="none"?["all"].concat(u.slice(1).map(ff).map(Qh)):l==="in"?vy(u[1],u.slice(2)):l==="!in"?Qh(vy(u[1],u.slice(2))):l==="has"?Jh(u[1]):l==="!has"?Qh(Jh(u[1])):l!=="within"||u;var d}function Xh(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function vy(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(DC)]]:["filter-in-small",u,["literal",l]]}}function Jh(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function Qh(u){return["!",u]}function _y(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let _="[";for(const C of u)_+=`${_y(C)},`;return`${_}]`}const d=Object.keys(u).sort();let m="{";for(let _=0;_<d.length;_++)m+=`${JSON.stringify(d[_])}:${_y(u[d[_]])},`;return`${m}}`}function LC(u){let l="";for(const d of Et)l+=`/${_y(u[d])}`;return l}function Nx(u){const l=u.value;return l?[new ut(u.key,l,"constants have been deprecated as of v8")]:[]}function ei(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function wc(u){if(Array.isArray(u))return u.map(wc);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=wc(u[d]);return l}return ei(u)}function da(u){const l=u.key,d=u.value,m=u.valueSpec||{},_=u.objectElementValidators||{},C=u.style,P=u.styleSpec,$=u.validateSpec;let j=[];const W=jr(d);if(W!=="object")return[new ut(l,d,`object expected, ${W} found`)];for(const Y in d){const Z=Y.split(".")[0],ee=m[Z]||m["*"];let ne;if(_[Z])ne=_[Z];else if(m[Z])ne=$;else if(_["*"])ne=_["*"];else{if(!m["*"]){j.push(new ut(l,d[Y],`unknown property "${Y}"`));continue}ne=$}j=j.concat(ne({key:(l&&`${l}.`)+Y,value:d[Y],valueSpec:ee,style:C,styleSpec:P,object:d,objectKey:Y,validateSpec:$},d))}for(const Y in m)_[Y]||m[Y].required&&m[Y].default===void 0&&d[Y]===void 0&&j.push(new ut(l,d,`missing required property "${Y}"`));return j}function xy(u){const l=u.value,d=u.valueSpec,m=u.style,_=u.styleSpec,C=u.key,P=u.arrayElementValidator||u.validateSpec;if(jr(l)!=="array")return[new ut(C,l,`array expected, ${jr(l)} found`)];if(d.length&&l.length!==d.length)return[new ut(C,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new ut(C,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let $={type:d.value,values:d.values};_.$version<7&&($.function=d.function),jr(d.value)==="object"&&($=d.value);let j=[];for(let W=0;W<l.length;W++)j=j.concat(P({array:l,arrayIndex:W,value:l[W],valueSpec:$,validateSpec:u.validateSpec,style:m,styleSpec:_,key:`${C}[${W}]`}));return j}function ep(u){const l=u.key,d=u.value,m=u.valueSpec;let _=jr(d);return _==="number"&&d!=d&&(_="NaN"),_!=="number"?[new ut(l,d,`number expected, ${_} found`)]:"minimum"in m&&d<m.minimum?[new ut(l,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new ut(l,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function by(u){const l=u.valueSpec,d=ei(u.value.type);let m,_,C,P={};const $=d!=="categorical"&&u.value.property===void 0,j=!$,W=jr(u.value.stops)==="array"&&jr(u.value.stops[0])==="array"&&jr(u.value.stops[0][0])==="object",Y=da({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(ne){if(d==="identity")return[new ut(ne.key,ne.value,'identity function may not have a "stops" property')];let ie=[];const de=ne.value;return ie=ie.concat(xy({key:ne.key,value:de,valueSpec:ne.valueSpec,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec,arrayElementValidator:Z})),jr(de)==="array"&&de.length===0&&ie.push(new ut(ne.key,de,"array must have at least one stop")),ie},default:function(ne){return ne.validateSpec({key:ne.key,value:ne.value,valueSpec:l,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec})}}});return d==="identity"&&$&&Y.push(new ut(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||Y.push(new ut(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!py(u.valueSpec)&&Y.push(new ut(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(j&&!Ou(u.valueSpec)?Y.push(new ut(u.key,u.value,"property functions not supported")):$&&!$x(u.valueSpec)&&Y.push(new ut(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!W||u.value.property!==void 0||Y.push(new ut(u.key,u.value,'"property" property is required')),Y;function Z(ne){let ie=[];const de=ne.value,ve=ne.key;if(jr(de)!=="array")return[new ut(ve,de,`array expected, ${jr(de)} found`)];if(de.length!==2)return[new ut(ve,de,`array length 2 expected, length ${de.length} found`)];if(W){if(jr(de[0])!=="object")return[new ut(ve,de,`object expected, ${jr(de[0])} found`)];if(de[0].zoom===void 0)return[new ut(ve,de,"object stop key must have zoom")];if(de[0].value===void 0)return[new ut(ve,de,"object stop key must have value")];if(C&&C>ei(de[0].zoom))return[new ut(ve,de[0].zoom,"stop zoom values must appear in ascending order")];ei(de[0].zoom)!==C&&(C=ei(de[0].zoom),_=void 0,P={}),ie=ie.concat(da({key:`${ve}[0]`,value:de[0],valueSpec:{zoom:{}},validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{zoom:ep,value:ee}}))}else ie=ie.concat(ee({key:`${ve}[0]`,value:de[0],valueSpec:{},validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec},de));return Zh(wc(de[1]))?ie.concat([new ut(`${ve}[1]`,de[1],"expressions are not allowed in function stops.")]):ie.concat(ne.validateSpec({key:`${ve}[1]`,value:de[1],valueSpec:l,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec}))}function ee(ne,ie){const de=jr(ne.value),ve=ei(ne.value),xe=ne.value!==null?ne.value:ie;if(m){if(de!==m)return[new ut(ne.key,xe,`${de} stop domain type must match previous stop domain type ${m}`)]}else m=de;if(de!=="number"&&de!=="string"&&de!=="boolean")return[new ut(ne.key,xe,"stop domain value must be a number, string, or boolean")];if(de!=="number"&&d!=="categorical"){let Ne=`number expected, ${de} found`;return Ou(l)&&d===void 0&&(Ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ut(ne.key,xe,Ne)]}return d!=="categorical"||de!=="number"||isFinite(ve)&&Math.floor(ve)===ve?d!=="categorical"&&de==="number"&&_!==void 0&&ve<_?[new ut(ne.key,xe,"stop domain values must appear in ascending order")]:(_=ve,d==="categorical"&&ve in P?[new ut(ne.key,xe,"stop domain values must be unique")]:(P[ve]=!0,[])):[new ut(ne.key,xe,`integer expected, found ${ve}`)]}}function Bs(u){const l=(u.expressionContext==="property"?gn:_r)(wc(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new ut(`${u.key}${m.key}`,u.value,m.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new ut(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!af(d))return[new ut(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!af(d))return[new ut(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!sf(d,["zoom","feature-state"]))return[new ut(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Vh(d))return[new ut(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hf(u){const l=u.key,d=u.value,m=u.valueSpec,_=[];return Array.isArray(m.values)?m.values.indexOf(ei(d))===-1&&_.push(new ut(l,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(ei(d))===-1&&_.push(new ut(l,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),_}function tp(u){return my(wc(u.value))?Bs(Ir({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):zx(u)}function zx(u){const l=u.value,d=u.key;if(jr(l)!=="array")return[new ut(d,l,`array expected, ${jr(l)} found`)];const m=u.styleSpec;let _,C=[];if(l.length<1)return[new ut(d,l,"filter array must have at least 1 element")];switch(C=C.concat(hf({key:`${d}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),ei(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&ei(l[1])==="$type"&&C.push(new ut(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&C.push(new ut(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(_=jr(l[1]),_!=="string"&&C.push(new ut(`${d}[1]`,l[1],`string expected, ${_} found`)));for(let P=2;P<l.length;P++)_=jr(l[P]),ei(l[1])==="$type"?C=C.concat(hf({key:`${d}[${P}]`,value:l[P],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&C.push(new ut(`${d}[${P}]`,l[P],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let P=1;P<l.length;P++)C=C.concat(zx({key:`${d}[${P}]`,value:l[P],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":_=jr(l[1]),l.length!==2?C.push(new ut(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="string"&&C.push(new ut(`${d}[1]`,l[1],`string expected, ${_} found`));break;case"within":_=jr(l[1]),l.length!==2?C.push(new ut(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="object"&&C.push(new ut(`${d}[1]`,l[1],`object expected, ${_} found`))}return C}function rp(u,l){const d=u.key,m=u.validateSpec,_=u.style,C=u.styleSpec,P=u.value,$=u.objectKey,j=C[`${l}_${u.layerType}`];if(!j)return[];const W=$.match(/^(.*)-transition$/);if(l==="paint"&&W&&j[W[1]]&&j[W[1]].transition)return m({key:d,value:P,valueSpec:C.transition,style:_,styleSpec:C});const Y=u.valueSpec||j[$];if(!Y)return[new ut(d,P,`unknown property "${$}"`)];let Z;if(jr(P)==="string"&&Ou(Y)&&!Y.tokens&&(Z=/^{([^}]+)}$/.exec(P)))return[new ut(d,P,`"${$}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const ee=[];return u.layerType==="symbol"&&($==="text-field"&&_&&!_.glyphs&&ee.push(new ut(d,P,'use of "text-field" requires a style "glyphs" property')),$==="text-font"&&Kh(wc(P))&&ei(P.type)==="identity"&&ee.push(new ut(d,P,'"text-font" does not support identity functions'))),ee.concat(m({key:u.key,value:P,valueSpec:Y,style:_,styleSpec:C,expressionContext:"property",propertyType:l,propertyKey:$}))}function pf(u){return rp(u,"paint")}function np(u){return rp(u,"layout")}function ip(u){let l=[];const d=u.value,m=u.key,_=u.style,C=u.styleSpec;d.type||d.ref||l.push(new ut(m,d,'either "type" or "ref" is required'));let P=ei(d.type);const $=ei(d.ref);if(d.id){const j=ei(d.id);for(let W=0;W<u.arrayIndex;W++){const Y=_.layers[W];ei(Y.id)===j&&l.push(new ut(m,d.id,`duplicate layer id "${d.id}", previously used at line ${Y.id.__line__}`))}}if("ref"in d){let j;["type","source","source-layer","filter","layout"].forEach(W=>{W in d&&l.push(new ut(m,d[W],`"${W}" is prohibited for ref layers`))}),_.layers.forEach(W=>{ei(W.id)===$&&(j=W)}),j?j.ref?l.push(new ut(m,d.ref,"ref cannot reference another ref layer")):P=ei(j.type):l.push(new ut(m,d.ref,`ref layer "${$}" not found`))}else if(P!=="background")if(d.source){const j=_.sources&&_.sources[d.source],W=j&&ei(j.type);j?W==="vector"&&P==="raster"?l.push(new ut(m,d.source,`layer "${d.id}" requires a raster source`)):W==="raster"&&P!=="raster"?l.push(new ut(m,d.source,`layer "${d.id}" requires a vector source`)):W!=="vector"||d["source-layer"]?W==="raster-dem"&&P!=="hillshade"?l.push(new ut(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):P!=="line"||!d.paint||!d.paint["line-gradient"]||W==="geojson"&&j.lineMetrics||l.push(new ut(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new ut(m,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new ut(m,d.source,`source "${d.source}" not found`))}else l.push(new ut(m,d,'missing required property "source"'));return l=l.concat(da({key:m,value:d,valueSpec:C.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:C.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:tp,layout:j=>da({layer:d,key:j.key,value:j.value,style:j.style,styleSpec:j.styleSpec,validateSpec:j.validateSpec,objectElementValidators:{"*":W=>np(Ir({layerType:P},W))}}),paint:j=>da({layer:d,key:j.key,value:j.value,style:j.style,styleSpec:j.styleSpec,validateSpec:j.validateSpec,objectElementValidators:{"*":W=>pf(Ir({layerType:P},W))}})}})),l}function Sc(u){const l=u.value,d=u.key,m=jr(l);return m!=="string"?[new ut(d,l,`string expected, ${m} found`)]:[]}const mf={promoteId:function({key:u,value:l}){if(jr(l)==="string")return Sc({key:u,value:l});{const d=[];for(const m in l)d.push(...Sc({key:`${u}.${m}`,value:l[m]}));return d}}};function jx(u){const l=u.value,d=u.key,m=u.styleSpec,_=u.style,C=u.validateSpec;if(!l.type)return[new ut(d,l,'"type" is required')];const P=ei(l.type);let $;switch(P){case"vector":case"raster":case"raster-dem":return $=da({key:d,value:l,valueSpec:m[`source_${P.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:mf,validateSpec:C}),$;case"geojson":if($=da({key:d,value:l,valueSpec:m.source_geojson,style:_,styleSpec:m,validateSpec:C,objectElementValidators:mf}),l.cluster)for(const j in l.clusterProperties){const[W,Y]=l.clusterProperties[j],Z=typeof W=="string"?[W,["accumulated"],["get",j]]:W;$.push(...Bs({key:`${d}.${j}.map`,value:Y,validateSpec:C,expressionContext:"cluster-map"})),$.push(...Bs({key:`${d}.${j}.reduce`,value:Z,validateSpec:C,expressionContext:"cluster-reduce"}))}return $;case"video":return da({key:d,value:l,valueSpec:m.source_video,style:_,validateSpec:C,styleSpec:m});case"image":return da({key:d,value:l,valueSpec:m.source_image,style:_,validateSpec:C,styleSpec:m});case"canvas":return[new ut(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return hf({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:C,styleSpec:m})}}function Bx(u){const l=u.value,d=u.styleSpec,m=d.light,_=u.style;let C=[];const P=jr(l);if(l===void 0)return C;if(P!=="object")return C=C.concat([new ut("light",l,`object expected, ${P} found`)]),C;for(const $ in l){const j=$.match(/^(.*)-transition$/);C=C.concat(j&&m[j[1]]&&m[j[1]].transition?u.validateSpec({key:$,value:l[$],valueSpec:d.transition,validateSpec:u.validateSpec,style:_,styleSpec:d}):m[$]?u.validateSpec({key:$,value:l[$],valueSpec:m[$],validateSpec:u.validateSpec,style:_,styleSpec:d}):[new ut($,l[$],`unknown property "${$}"`)])}return C}function Fx(u){const l=u.value,d=u.styleSpec,m=d.terrain,_=u.style;let C=[];const P=jr(l);if(l===void 0)return C;if(P!=="object")return C=C.concat([new ut("terrain",l,`object expected, ${P} found`)]),C;for(const $ in l)C=C.concat(m[$]?u.validateSpec({key:$,value:l[$],valueSpec:m[$],validateSpec:u.validateSpec,style:_,styleSpec:d}):[new ut($,l[$],`unknown property "${$}"`)]);return C}function Ux(u){let l=[];const d=u.value,m=u.key;if(Array.isArray(d)){const _=[],C=[];for(const P in d)d[P].id&&_.includes(d[P].id)&&l.push(new ut(m,d,`all the sprites' ids must be unique, but ${d[P].id} is duplicated`)),_.push(d[P].id),d[P].url&&C.includes(d[P].url)&&l.push(new ut(m,d,`all the sprites' URLs must be unique, but ${d[P].url} is duplicated`)),C.push(d[P].url),l=l.concat(da({key:`${m}[${P}]`,value:d[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return Sc({key:m,value:d})}const Vx={"*":()=>[],array:xy,boolean:function(u){const l=u.value,d=u.key,m=jr(l);return m!=="boolean"?[new ut(d,l,`boolean expected, ${m} found`)]:[]},number:ep,color:function(u){const l=u.key,d=u.value,m=jr(d);return m!=="string"?[new ut(l,d,`color expected, ${m} found`)]:gt.parse(String(d))?[]:[new ut(l,d,`color expected, "${d}" found`)]},constants:Nx,enum:hf,filter:tp,function:by,layer:ip,object:da,source:jx,light:Bx,terrain:Fx,string:Sc,formatted:function(u){return Sc(u).length===0?[]:Bs(u)},resolvedImage:function(u){return Sc(u).length===0?[]:Bs(u)},padding:function(u){const l=u.key,d=u.value;if(jr(d)==="array"){if(d.length<1||d.length>4)return[new ut(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let _=[];for(let C=0;C<d.length;C++)_=_.concat(u.validateSpec({key:`${l}[${C}]`,value:d[C],validateSpec:u.validateSpec,valueSpec:m}));return _}return ep({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,d=u.value,m=jr(d),_=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new ut(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let C=[];for(let P=0;P<d.length;P+=2)C=C.concat(hf({key:`${l}[${P}]`,value:d[P],valueSpec:_.layout_symbol["text-anchor"]})),C=C.concat(xy({key:`${l}[${P+1}]`,value:d[P+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:_}));return C},sprite:Ux};function Pl(u){const l=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=Pl,d.expression&&Kh(ei(l))?by(u):d.expression&&Zh(wc(l))?Bs(u):d.type&&Vx[d.type]?Vx[d.type](u):da(Ir({},u,{valueSpec:d.type?m[d.type]:d}))}function gf(u){const l=u.value,d=u.key,m=Sc(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new ut(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new ut(d,l,'"glyphs" url must include a "{range}" token'))),m}function ti(u,l=Me){let d=[];return d=d.concat(Pl({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:Pl,objectElementValidators:{glyphs:gf,"*":()=>[]}})),u.constants&&(d=d.concat(Nx({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:Pl}))),Wx(d)}function fa(u){return function(l){return u({...l,validateSpec:Pl})}}function Wx(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function Fs(u){return function(...l){return Wx(u.apply(this,l))}}ti.source=Fs(fa(jx)),ti.sprite=Fs(fa(Ux)),ti.glyphs=Fs(fa(gf)),ti.light=Fs(fa(Bx)),ti.terrain=Fs(fa(Fx)),ti.layer=Fs(fa(ip)),ti.filter=Fs(fa(tp)),ti.paintProperty=Fs(fa(pf)),ti.layoutProperty=Fs(fa(np));const yf=ti,vf=yf.light,NC=yf.paintProperty,wy=yf.layoutProperty;function qx(u,l){let d=!1;if(l&&l.length)for(const m of l)u.fire(new ct(new Error(m.message))),d=!0;return d}class Ec{constructor(l,d,m){const _=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const P=new Int32Array(this.arrayBuffer);l=P[0],this.d=(d=P[1])+2*(m=P[2]);for(let j=0;j<this.d*this.d;j++){const W=P[3+j],Y=P[3+j+1];_.push(W===Y?null:P.subarray(W,Y))}const $=P[3+_.length+1];this.keys=P.subarray(P[3+_.length],$),this.bboxes=P.subarray($),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let P=0;P<this.d*this.d;P++)_.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=m,this.scale=d/l,this.uid=0;const C=m/d*l;this.min=-C,this.max=l+C}insert(l,d,m,_,C){this._forEachCell(d,m,_,C,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(C)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,m,_,C,P){this.cells[C].push(P)}query(l,d,m,_,C){const P=this.min,$=this.max;if(l<=P&&d<=P&&$<=m&&$<=_&&!C)return Array.prototype.slice.call(this.keys);{const j=[];return this._forEachCell(l,d,m,_,this._queryCell,j,{},C),j}}_queryCell(l,d,m,_,C,P,$,j){const W=this.cells[C];if(W!==null){const Y=this.keys,Z=this.bboxes;for(let ee=0;ee<W.length;ee++){const ne=W[ee];if($[ne]===void 0){const ie=4*ne;(j?j(Z[ie+0],Z[ie+1],Z[ie+2],Z[ie+3]):l<=Z[ie+2]&&d<=Z[ie+3]&&m>=Z[ie+0]&&_>=Z[ie+1])?($[ne]=!0,P.push(Y[ne])):$[ne]=!1}}}}_forEachCell(l,d,m,_,C,P,$,j){const W=this._convertToCellCoord(l),Y=this._convertToCellCoord(d),Z=this._convertToCellCoord(m),ee=this._convertToCellCoord(_);for(let ne=W;ne<=Z;ne++)for(let ie=Y;ie<=ee;ie++){const de=this.d*ie+ne;if((!j||j(this._convertFromCellCoord(ne),this._convertFromCellCoord(ie),this._convertFromCellCoord(ne+1),this._convertFromCellCoord(ie+1)))&&C.call(this,l,d,m,_,de,P,$,j))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let m=0;for(let P=0;P<this.cells.length;P++)m+=this.cells[P].length;const _=new Int32Array(d+m+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let C=d;for(let P=0;P<l.length;P++){const $=l[P];_[3+P]=C,_.set($,C),C+=$.length}return _[3+l.length]=C,_.set(this.keys,C),C+=this.keys.length,_[3+l.length+1]=C,_.set(this.bboxes,C),C+=this.bboxes.length,_.buffer}static serialize(l,d){const m=l.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(l){return new Ec(l.buffer)}}const Al={};function Pt(u,l,d={}){if(Al[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Al[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Pt("Object",Object),Pt("TransferableGridIndex",Ec),Pt("Color",gt),Pt("Error",Error),Pt("AJAXError",rt),Pt("ResolvedImage",ua),Pt("StylePropertyFunction",bc),Pt("StyleExpression",In,{omit:["_evaluator"]}),Pt("ZoomDependentExpression",mn),Pt("ZoomConstantExpression",uf),Pt("CompoundExpression",Go,{omit:["_evaluate"]});for(const u in Au)Au[u]._classRegistryKey||Pt(`Expression_${u}`,Au[u]);function Hx(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Cc(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(Hx(u)||ge(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const m of u)d.push(Cc(m,l));return d}if(typeof u=="object"){const d=u.constructor,m=d._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!Al[m])throw new Error(`${m} is not registered.`);const _=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&_===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const C in u){if(!u.hasOwnProperty(C)||Al[m].omit.indexOf(C)>=0)continue;const P=u[C];_[C]=Al[m].shallow.indexOf(C)>=0?P:Cc(P,l)}u instanceof Error&&(_.message=u.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(_.$name=m),_}throw new Error("can't serialize object of type "+typeof u)}function Iu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||Hx(u)||ge(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Iu);if(typeof u=="object"){const l=u.$name||"Object";if(!Al[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Al[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const _ of Object.keys(u)){if(_==="$name")continue;const C=u[_];m[_]=Al[l].shallow.indexOf(_)>=0?C:Iu(C)}return m}throw new Error("can't deserialize object of type "+typeof u)}class op{constructor(){this.first=!0}update(l,d){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const kt={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function ap(u){for(const l of u)if(Ru(l.charCodeAt(0)))return!0;return!1}function zC(u){for(const l of u)if(!Sy(l.charCodeAt(0)))return!1;return!0}function Sy(u){return!(kt.Arabic(u)||kt["Arabic Supplement"](u)||kt["Arabic Extended-A"](u)||kt["Arabic Presentation Forms-A"](u)||kt["Arabic Presentation Forms-B"](u))}function Ru(u){return!(u!==746&&u!==747&&(u<4352||!(kt["Bopomofo Extended"](u)||kt.Bopomofo(u)||kt["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||kt["CJK Compatibility Ideographs"](u)||kt["CJK Compatibility"](u)||kt["CJK Radicals Supplement"](u)||kt["CJK Strokes"](u)||!(!kt["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||kt["CJK Unified Ideographs Extension A"](u)||kt["CJK Unified Ideographs"](u)||kt["Enclosed CJK Letters and Months"](u)||kt["Hangul Compatibility Jamo"](u)||kt["Hangul Jamo Extended-A"](u)||kt["Hangul Jamo Extended-B"](u)||kt["Hangul Jamo"](u)||kt["Hangul Syllables"](u)||kt.Hiragana(u)||kt["Ideographic Description Characters"](u)||kt.Kanbun(u)||kt["Kangxi Radicals"](u)||kt["Katakana Phonetic Extensions"](u)||kt.Katakana(u)&&u!==12540||!(!kt["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!kt["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||kt["Unified Canadian Aboriginal Syllabics"](u)||kt["Unified Canadian Aboriginal Syllabics Extended"](u)||kt["Vertical Forms"](u)||kt["Yijing Hexagram Symbols"](u)||kt["Yi Syllables"](u)||kt["Yi Radicals"](u))))}function Ey(u){return!(Ru(u)||function(l){return!!(kt["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||kt["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||kt["Letterlike Symbols"](l)||kt["Number Forms"](l)||kt["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||kt["Control Pictures"](l)&&l!==9251||kt["Optical Character Recognition"](l)||kt["Enclosed Alphanumerics"](l)||kt["Geometric Shapes"](l)||kt["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||kt["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||kt["CJK Symbols and Punctuation"](l)||kt.Katakana(l)||kt["Private Use Area"](l)||kt["CJK Compatibility Forms"](l)||kt["Small Form Variants"](l)||kt["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function Gx(u){return u>=1424&&u<=2303||kt["Arabic Presentation Forms-A"](u)||kt["Arabic Presentation Forms-B"](u)}function Yx(u,l){return!(!l&&Gx(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||kt.Khmer(u))}function jC(u){for(const l of u)if(Gx(l.charCodeAt(0)))return!0;return!1}const _f="deferred",Cy="loading",ky="loaded";let Ty=null,xo="unavailable",Us=null;const Kx=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(xo="error"),Ty&&Ty(u)};function Py(){Ay.fire(new Xe("pluginStateChange",{pluginStatus:xo,pluginURL:Us}))}const Ay=new Fe,My=function(){return xo},Zx=function(){if(xo!==_f||!Us)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");xo=Cy,Py(),Us&&Be({url:Us},u=>{u?Kx(u):(xo=ky,Py())})},ha={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>xo===ky||ha.applyArabicShaping!=null,isLoading:()=>xo===Cy,setState(u){if(!he())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");xo=u.pluginStatus,Us=u.pluginURL},isParsed(){if(!he())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ha.applyArabicShaping!=null&&ha.processBidirectionalText!=null&&ha.processStyledBidirectionalText!=null},getPluginURL(){if(!he())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Us}};class Cn{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new op,this.transition={})}isSupportedScript(l){return function(d,m){for(const _ of d)if(!Yx(_.charCodeAt(0),m))return!1;return!0}(l,ha.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class kc{constructor(l,d){this.property=l,this.value=d,this.expression=function(m,_){if(Kh(m))return new bc(m,_);if(Zh(m)){const C=gn(m,_);if(C.result==="error")throw new Error(C.value.map(P=>`${P.key}: ${P.message}`).join(", "));return C.value}{let C=m;return _.type==="color"&&typeof m=="string"?C=gt.parse(m):_.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(C=Wi.parse(m)):C=Ho.parse(m),{kind:"constant",evaluate:()=>C}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,m){return this.property.possiblyEvaluate(this,l,d,m)}}class Oy{constructor(l){this.property=l,this.value=new kc(l,void 0)}transitioned(l,d){return new Xx(this.property,this.value,d,E({},l.transition,this.transition),l.now)}untransitioned(){return new Xx(this.property,this.value,null,{},0)}}class sp{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return F(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Oy(this._values[l].property)),this._values[l].value=new kc(this._values[l].property,d===null?void 0:F(d))}getTransition(l){return F(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Oy(this._values[l].property)),this._values[l].transition=F(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m);const _=this.getTransition(d);_!==void 0&&(l[`${d}-transition`]=_)}return l}transitioned(l,d){const m=new Jx(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].transitioned(l,d._values[_]);return m}untransitioned(){const l=new Jx(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class Xx{constructor(l,d,m,_,C){this.property=l,this.value=d,this.begin=C+_.delay||0,this.end=this.begin+_.duration||0,l.specification.transition&&(_.delay||_.duration)&&(this.prior=m)}possiblyEvaluate(l,d,m){const _=l.now||0,C=this.value.possiblyEvaluate(l,d,m),P=this.prior;if(P){if(_>this.end)return this.prior=null,C;if(this.value.isDataDriven())return this.prior=null,C;if(_<this.begin)return P.possiblyEvaluate(l,d,m);{const $=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(l,d,m),C,function(j){if(j<=0)return 0;if(j>=1)return 1;const W=j*j,Y=W*j;return 4*(j<.5?Y:3*(j-W)+Y-.75)}($))}}return C}}class Jx{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,m){const _=new lp(this._properties);for(const C of Object.keys(this._values))_._values[C]=this._values[C].possiblyEvaluate(l,d,m);return _}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Qx{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return F(this._values[l].value)}setValue(l,d){this._values[l]=new kc(this._values[l].property,d===null?void 0:F(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m)}return l}possiblyEvaluate(l,d,m){const _=new lp(this._properties);for(const C of Object.keys(this._values))_._values[C]=this._values[C].possiblyEvaluate(l,d,m);return _}}class Ma{constructor(l,d,m){this.property=l,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,m,_){return this.property.evaluate(this.value,this.parameters,l,d,m,_)}}class lp{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class qt{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,m){const _=Yo[this.specification.type];return _?_(l,d,m):l}}class Qt{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,m,_){return new Ma(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},m,_)}:l.expression,d)}interpolate(l,d,m){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new Ma(this,{kind:"constant",value:void 0},l.parameters);const _=Yo[this.specification.type];if(_){const C=_(l.value.value,d.value.value,m);return new Ma(this,{kind:"constant",value:C},l.parameters)}return l}evaluate(l,d,m,_,C,P){return l.kind==="constant"?l.value:l.evaluate(d,m,_,C,P)}}class cp extends Qt{possiblyEvaluate(l,d,m,_){if(l.value===void 0)return new Ma(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const C=l.expression.evaluate(d,null,{},m,_),P=l.property.specification.type==="resolvedImage"&&typeof C!="string"?C.name:C,$=this._calculate(P,P,P,d);return new Ma(this,{kind:"constant",value:$},d)}if(l.expression.kind==="camera"){const C=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new Ma(this,{kind:"constant",value:C},d)}return new Ma(this,l.expression,d)}evaluate(l,d,m,_,C,P){if(l.kind==="source"){const $=l.evaluate(d,m,_,C,P);return this._calculate($,$,$,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},m,_),l.evaluate({zoom:Math.floor(d.zoom)},m,_),l.evaluate({zoom:Math.floor(d.zoom)+1},m,_),d):l.value}_calculate(l,d,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Iy{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,_){if(l.value!==void 0){if(l.expression.kind==="constant"){const C=l.expression.evaluate(d,null,{},m,_);return this._calculate(C,C,C,d)}return this._calculate(l.expression.evaluate(new Cn(Math.floor(d.zoom-1),d)),l.expression.evaluate(new Cn(Math.floor(d.zoom),d)),l.expression.evaluate(new Cn(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Ry{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,_){return!!l.expression.evaluate(d,null,{},m,_)}interpolate(){return!1}}class vi{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const m=l[d];m.specification.overridable&&this.overridableProperties.push(d);const _=this.defaultPropertyValues[d]=new kc(m,void 0),C=this.defaultTransitionablePropertyValues[d]=new Oy(m);this.defaultTransitioningPropertyValues[d]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=_.possiblyEvaluate({})}}}Pt("DataDrivenProperty",Qt),Pt("DataConstantProperty",qt),Pt("CrossFadedDataDrivenProperty",cp),Pt("CrossFadedProperty",Iy),Pt("ColorRampProperty",Ry);const eb="-transition";class as extends Fe{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new Qx(d.layout)),d.paint)){this._transitionablePaint=new sp(d.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new lp(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,m={}){d!=null&&this._validate(wy,`layers.${this.id}.layout.${l}`,l,d,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(eb)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,m={}){if(d!=null&&this._validate(NC,`layers.${this.id}.paint.${l}`,l,d,m))return!1;if(l.endsWith(eb))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const _=this._transitionablePaint._values[l],C=_.property.specification["property-type"]==="cross-faded-data-driven",P=_.value.isDataDriven(),$=_.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const j=this._transitionablePaint._values[l].value;return j.isDataDriven()||P||C||this._handleOverridablePaintPropertyUpdate(l,$,j)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),D(l,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(l,d,m,_,C={}){return(!C||C.validate!==!1)&&qx(this,l.call(yf,{key:d,layerType:this.type,objectKey:m,value:_,styleSpec:Me,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof Ma&&Ou(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const BC={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class $u{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Rn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ri(u,l=1){let d=0,m=0;return{members:u.map(_=>{const C=BC[_.type].BYTES_PER_ELEMENT,P=d=Vs(d,Math.max(l,C)),$=_.components||1;return m=Math.max(m,C),d+=C*$,{name:_.name,type:_.type,components:$,offset:P}}),size:Vs(d,Math.max(m,l)),alignment:l}}function Vs(u,l){return Math.ceil(u/l)*l}class Du extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const _=2*l;return this.int16[_+0]=d,this.int16[_+1]=m,l}}Du.prototype.bytesPerElement=4,Pt("StructArrayLayout2i4",Du);class Lu extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,d,m)}emplace(l,d,m,_){const C=3*l;return this.int16[C+0]=d,this.int16[C+1]=m,this.int16[C+2]=_,l}}Lu.prototype.bytesPerElement=6,Pt("StructArrayLayout3i6",Lu);class up extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,_){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,_)}emplace(l,d,m,_,C){const P=4*l;return this.int16[P+0]=d,this.int16[P+1]=m,this.int16[P+2]=_,this.int16[P+3]=C,l}}up.prototype.bytesPerElement=8,Pt("StructArrayLayout4i8",up);class xf extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P){const $=this.length;return this.resize($+1),this.emplace($,l,d,m,_,C,P)}emplace(l,d,m,_,C,P,$){const j=6*l;return this.int16[j+0]=d,this.int16[j+1]=m,this.int16[j+2]=_,this.int16[j+3]=C,this.int16[j+4]=P,this.int16[j+5]=$,l}}xf.prototype.bytesPerElement=12,Pt("StructArrayLayout2i4i12",xf);class $y extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P){const $=this.length;return this.resize($+1),this.emplace($,l,d,m,_,C,P)}emplace(l,d,m,_,C,P,$){const j=4*l,W=8*l;return this.int16[j+0]=d,this.int16[j+1]=m,this.uint8[W+4]=_,this.uint8[W+5]=C,this.uint8[W+6]=P,this.uint8[W+7]=$,l}}$y.prototype.bytesPerElement=8,Pt("StructArrayLayout2i4ub8",$y);class Ml extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const _=2*l;return this.float32[_+0]=d,this.float32[_+1]=m,l}}Ml.prototype.bytesPerElement=8,Pt("StructArrayLayout2f8",Ml);class Tc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P,$,j,W,Y){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,d,m,_,C,P,$,j,W,Y)}emplace(l,d,m,_,C,P,$,j,W,Y,Z){const ee=10*l;return this.uint16[ee+0]=d,this.uint16[ee+1]=m,this.uint16[ee+2]=_,this.uint16[ee+3]=C,this.uint16[ee+4]=P,this.uint16[ee+5]=$,this.uint16[ee+6]=j,this.uint16[ee+7]=W,this.uint16[ee+8]=Y,this.uint16[ee+9]=Z,l}}Tc.prototype.bytesPerElement=20,Pt("StructArrayLayout10ui20",Tc);class Dy extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P,$,j,W,Y,Z,ee){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,d,m,_,C,P,$,j,W,Y,Z,ee)}emplace(l,d,m,_,C,P,$,j,W,Y,Z,ee,ne){const ie=12*l;return this.int16[ie+0]=d,this.int16[ie+1]=m,this.int16[ie+2]=_,this.int16[ie+3]=C,this.uint16[ie+4]=P,this.uint16[ie+5]=$,this.uint16[ie+6]=j,this.uint16[ie+7]=W,this.int16[ie+8]=Y,this.int16[ie+9]=Z,this.int16[ie+10]=ee,this.int16[ie+11]=ne,l}}Dy.prototype.bytesPerElement=24,Pt("StructArrayLayout4i4ui4i24",Dy);class dp extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,d,m)}emplace(l,d,m,_){const C=3*l;return this.float32[C+0]=d,this.float32[C+1]=m,this.float32[C+2]=_,l}}dp.prototype.bytesPerElement=12,Pt("StructArrayLayout3f12",dp);class Pc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}Pc.prototype.bytesPerElement=4,Pt("StructArrayLayout1ul4",Pc);class Ly extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P,$,j,W){const Y=this.length;return this.resize(Y+1),this.emplace(Y,l,d,m,_,C,P,$,j,W)}emplace(l,d,m,_,C,P,$,j,W,Y){const Z=10*l,ee=5*l;return this.int16[Z+0]=d,this.int16[Z+1]=m,this.int16[Z+2]=_,this.int16[Z+3]=C,this.int16[Z+4]=P,this.int16[Z+5]=$,this.uint32[ee+3]=j,this.uint16[Z+8]=W,this.uint16[Z+9]=Y,l}}Ly.prototype.bytesPerElement=20,Pt("StructArrayLayout6i1ul2ui20",Ly);class Ny extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P){const $=this.length;return this.resize($+1),this.emplace($,l,d,m,_,C,P)}emplace(l,d,m,_,C,P,$){const j=6*l;return this.int16[j+0]=d,this.int16[j+1]=m,this.int16[j+2]=_,this.int16[j+3]=C,this.int16[j+4]=P,this.int16[j+5]=$,l}}Ny.prototype.bytesPerElement=12,Pt("StructArrayLayout2i2i2i12",Ny);class fp extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C){const P=this.length;return this.resize(P+1),this.emplace(P,l,d,m,_,C)}emplace(l,d,m,_,C,P){const $=4*l,j=8*l;return this.float32[$+0]=d,this.float32[$+1]=m,this.float32[$+2]=_,this.int16[j+6]=C,this.int16[j+7]=P,l}}fp.prototype.bytesPerElement=16,Pt("StructArrayLayout2f1f2i16",fp);class zy extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,_){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,_)}emplace(l,d,m,_,C){const P=12*l,$=3*l;return this.uint8[P+0]=d,this.uint8[P+1]=m,this.float32[$+1]=_,this.float32[$+2]=C,l}}zy.prototype.bytesPerElement=12,Pt("StructArrayLayout2ub2f12",zy);class hp extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,d,m)}emplace(l,d,m,_){const C=3*l;return this.uint16[C+0]=d,this.uint16[C+1]=m,this.uint16[C+2]=_,l}}hp.prototype.bytesPerElement=6,Pt("StructArrayLayout3ui6",hp);class zr extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de,ve,xe){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de,ve,xe)}emplace(l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de,ve,xe,Ne){const Ae=24*l,Ue=12*l,He=48*l;return this.int16[Ae+0]=d,this.int16[Ae+1]=m,this.uint16[Ae+2]=_,this.uint16[Ae+3]=C,this.uint32[Ue+2]=P,this.uint32[Ue+3]=$,this.uint32[Ue+4]=j,this.uint16[Ae+10]=W,this.uint16[Ae+11]=Y,this.uint16[Ae+12]=Z,this.float32[Ue+7]=ee,this.float32[Ue+8]=ne,this.uint8[He+36]=ie,this.uint8[He+37]=de,this.uint8[He+38]=ve,this.uint32[Ue+10]=xe,this.int16[Ae+22]=Ne,l}}zr.prototype.bytesPerElement=48,Pt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",zr);class S extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de,ve,xe,Ne,Ae,Ue,He,nt,Tt,Ft,Ct,St,yt,It){const bt=this.length;return this.resize(bt+1),this.emplace(bt,l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de,ve,xe,Ne,Ae,Ue,He,nt,Tt,Ft,Ct,St,yt,It)}emplace(l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de,ve,xe,Ne,Ae,Ue,He,nt,Tt,Ft,Ct,St,yt,It,bt){const ht=32*l,Kt=16*l;return this.int16[ht+0]=d,this.int16[ht+1]=m,this.int16[ht+2]=_,this.int16[ht+3]=C,this.int16[ht+4]=P,this.int16[ht+5]=$,this.int16[ht+6]=j,this.int16[ht+7]=W,this.uint16[ht+8]=Y,this.uint16[ht+9]=Z,this.uint16[ht+10]=ee,this.uint16[ht+11]=ne,this.uint16[ht+12]=ie,this.uint16[ht+13]=de,this.uint16[ht+14]=ve,this.uint16[ht+15]=xe,this.uint16[ht+16]=Ne,this.uint16[ht+17]=Ae,this.uint16[ht+18]=Ue,this.uint16[ht+19]=He,this.uint16[ht+20]=nt,this.uint16[ht+21]=Tt,this.uint16[ht+22]=Ft,this.uint32[Kt+12]=Ct,this.float32[Kt+13]=St,this.float32[Kt+14]=yt,this.uint16[ht+30]=It,this.uint16[ht+31]=bt,l}}S.prototype.bytesPerElement=64,Pt("StructArrayLayout8i15ui1ul2f2ui64",S);class c extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}c.prototype.bytesPerElement=4,Pt("StructArrayLayout1f4",c);class p extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,d,m)}emplace(l,d,m,_){const C=3*l;return this.uint16[6*l+0]=d,this.float32[C+1]=m,this.float32[C+2]=_,l}}p.prototype.bytesPerElement=12,Pt("StructArrayLayout1ui2f12",p);class v extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,d,m)}emplace(l,d,m,_){const C=4*l;return this.uint32[2*l+0]=d,this.uint16[C+2]=m,this.uint16[C+3]=_,l}}v.prototype.bytesPerElement=8,Pt("StructArrayLayout1ul2ui8",v);class b extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const _=2*l;return this.uint16[_+0]=d,this.uint16[_+1]=m,l}}b.prototype.bytesPerElement=4,Pt("StructArrayLayout2ui4",b);class k extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}k.prototype.bytesPerElement=2,Pt("StructArrayLayout1ui2",k);class L extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,_){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,_)}emplace(l,d,m,_,C){const P=4*l;return this.float32[P+0]=d,this.float32[P+1]=m,this.float32[P+2]=_,this.float32[P+3]=C,l}}L.prototype.bytesPerElement=16,Pt("StructArrayLayout4f16",L);class z extends $u{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new y(this.anchorPointX,this.anchorPointY)}}z.prototype.size=20;class U extends Ly{get(l){return new z(this,l)}}Pt("CollisionBoxArray",U);class H extends $u{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}H.prototype.size=48;class G extends zr{get(l){return new H(this,l)}}Pt("PlacedSymbolArray",G);class K extends $u{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}K.prototype.size=64;class re extends S{get(l){return new K(this,l)}}Pt("SymbolInstanceArray",re);class ue extends c{getoffsetX(l){return this.float32[1*l+0]}}Pt("GlyphOffsetArray",ue);class ce extends Lu{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Pt("SymbolLineVertexArray",ce);class me extends $u{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}me.prototype.size=12;class le extends p{get(l){return new me(this,l)}}Pt("TextAnchorOffsetArray",le);class Ie extends $u{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ie.prototype.size=8;class We extends v{get(l){return new Ie(this,l)}}Pt("FeatureIndexArray",We);class _e extends Du{}class $e extends Du{}class Ge extends Du{}class Ze extends xf{}class tt extends $y{}class ft extends Ml{}class at extends Tc{}class pt extends Dy{}class Bt extends dp{}class xr extends Pc{}class wt extends Ny{}class er extends zy{}class Dt extends hp{}class dn extends b{}const vr=ri([{name:"a_pos",components:2,type:"Int16"}],4),{members:fr}=vr;class rr{constructor(l=[]){this.segments=l}prepareSegment(l,d,m,_){let C=this.segments[this.segments.length-1];return l>rr.MAX_VERTEX_ARRAY_LENGTH&&J(`Max vertices per segment is ${rr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!C||C.vertexLength+l>rr.MAX_VERTEX_ARRAY_LENGTH||C.sortKey!==_)&&(C={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},_!==void 0&&(C.sortKey=_),this.segments.push(C)),C}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,m,_){return new rr([{vertexOffset:l,primitiveOffset:d,vertexLength:m,primitiveLength:_,vaos:{},sortKey:0}])}}function Un(u,l){return 256*(u=O(Math.floor(u),0,255))+O(Math.floor(l),0,255)}rr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Pt("SegmentVector",rr);const Kr=ri([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var io={exports:{}},Ci={exports:{}};Ci.exports=function(u,l){var d,m,_,C,P,$,j,W;for(m=u.length-(d=3&u.length),_=l,P=3432918353,$=461845907,W=0;W<m;)j=255&u.charCodeAt(W)|(255&u.charCodeAt(++W))<<8|(255&u.charCodeAt(++W))<<16|(255&u.charCodeAt(++W))<<24,++W,_=27492+(65535&(C=5*(65535&(_=(_^=j=(65535&(j=(j=(65535&j)*P+(((j>>>16)*P&65535)<<16)&4294967295)<<15|j>>>17))*$+(((j>>>16)*$&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(j=0,d){case 3:j^=(255&u.charCodeAt(W+2))<<16;case 2:j^=(255&u.charCodeAt(W+1))<<8;case 1:_^=j=(65535&(j=(j=(65535&(j^=255&u.charCodeAt(W)))*P+(((j>>>16)*P&65535)<<16)&4294967295)<<15|j>>>17))*$+(((j>>>16)*$&65535)<<16)&4294967295}return _^=u.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var ni=Ci.exports,bo={exports:{}};bo.exports=function(u,l){for(var d,m=u.length,_=l^m,C=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(C)|(255&u.charCodeAt(++C))<<8|(255&u.charCodeAt(++C))<<16|(255&u.charCodeAt(++C))<<24))+((1540483477*(d>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++C;switch(m){case 3:_^=(255&u.charCodeAt(C+2))<<16;case 2:_^=(255&u.charCodeAt(C+1))<<8;case 1:_=1540483477*(65535&(_^=255&u.charCodeAt(C)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var Oa=ni,Ws=bo.exports;io.exports=Oa,io.exports.murmur3=Oa,io.exports.murmur2=Ws;var qs=f(io.exports);class Ol{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,m,_){this.ids.push(Ac(l)),this.positions.push(d,m,_)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Ac(l);let m=0,_=this.ids.length-1;for(;m<_;){const P=m+_>>1;this.ids[P]>=d?_=P:m=P+1}const C=[];for(;this.ids[m]===d;)C.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return C}static serialize(l,d){const m=new Float64Array(l.ids),_=new Uint32Array(l.positions);return Il(m,_,0,m.length-1),d&&d.push(m.buffer,_.buffer),{ids:m,positions:_}}static deserialize(l){const d=new Ol;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Ac(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:qs(String(u))}function Il(u,l,d,m){for(;d<m;){const _=u[d+m>>1];let C=d-1,P=m+1;for(;;){do C++;while(u[C]<_);do P--;while(u[P]>_);if(C>=P)break;ki(u,C,P),ki(l,3*C,3*P),ki(l,3*C+1,3*P+1),ki(l,3*C+2,3*P+2)}P-d<m-P?(Il(u,l,d,P),d=P+1):(Il(u,l,P+1,m),m=P)}}function ki(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}Pt("FeaturePositionMap",Ol);class Vn{constructor(l,d){this.gl=l.gl,this.location=d}}class Ti extends Vn{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Nu extends Vn{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class ui extends Vn{constructor(l,d){super(l,d),this.current=gt.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Pi=new Float32Array(16);function wo(u){return[Un(255*u.r,255*u.g),Un(255*u.b,255*u.a)]}class $n{constructor(l,d,m){this.value=l,this.uniformNames=d.map(_=>`u_${_}`),this.type=m}setUniform(l,d,m){l.set(m.constantOr(this.value))}getBinding(l,d,m){return this.type==="color"?new ui(l,d):new Ti(l,d)}}class zu{constructor(l,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,m,_){const C=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;C&&l.set(C)}getBinding(l,d,m){return m.substr(0,9)==="u_pattern"?new Nu(l,d):new Ti(l,d)}}class Hs{constructor(l,d,m,_){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(C=>({name:`a_${C}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(l,d,m,_,C){const P=this.paintVertexArray.length,$=this.expression.evaluate(new Cn(0),d,{},_,[],C);this.paintVertexArray.resize(l),this._setPaintValue(P,l,$)}updatePaintArray(l,d,m,_){const C=this.expression.evaluate({zoom:0},m,_);this._setPaintValue(l,d,C)}_setPaintValue(l,d,m){if(this.type==="color"){const _=wo(m);for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,_[0],_[1])}else{for(let _=l;_<d;_++)this.paintVertexArray.emplace(_,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ia{constructor(l,d,m,_,C,P){this.expression=l,this.uniformNames=d.map($=>`u_${$}_t`),this.type=m,this.useIntegerZoom=_,this.zoom=C,this.maxValue=0,this.paintVertexAttributes=d.map($=>({name:`a_${$}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new P}populatePaintArray(l,d,m,_,C){const P=this.expression.evaluate(new Cn(this.zoom),d,{},_,[],C),$=this.expression.evaluate(new Cn(this.zoom+1),d,{},_,[],C),j=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(j,l,P,$)}updatePaintArray(l,d,m,_){const C=this.expression.evaluate({zoom:this.zoom},m,_),P=this.expression.evaluate({zoom:this.zoom+1},m,_);this._setPaintValue(l,d,C,P)}_setPaintValue(l,d,m,_){if(this.type==="color"){const C=wo(m),P=wo(_);for(let $=l;$<d;$++)this.paintVertexArray.emplace($,C[0],C[1],P[0],P[1])}else{for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,m,_);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,_=O(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(_)}getBinding(l,d,m){return new Ti(l,d)}}class Rl{constructor(l,d,m,_,C,P){this.expression=l,this.type=d,this.useIntegerZoom=m,this.zoom=_,this.layerId=P,this.zoomInPaintVertexArray=new C,this.zoomOutPaintVertexArray=new C}populatePaintArray(l,d,m){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(_,l,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(l,d,m,_,C){this._setPaintValues(l,d,m.patterns&&m.patterns[this.layerId],C)}_setPaintValues(l,d,m,_){if(!_||!m)return;const{min:C,mid:P,max:$}=m,j=_[C],W=_[P],Y=_[$];if(j&&W&&Y)for(let Z=l;Z<d;Z++)this.zoomInPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1],W.pixelRatio,j.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],Y.tl[0],Y.tl[1],Y.br[0],Y.br[1],W.pixelRatio,Y.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Kr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Kr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class tb{constructor(l,d,m){this.binders={},this._buffers=[];const _=[];for(const C in l.paint._values){if(!m(C))continue;const P=l.paint.get(C);if(!(P instanceof Ma&&Ou(P.property.specification)))continue;const $=ju(C,l.type),j=P.value,W=P.property.specification.type,Y=P.property.useIntegerZoom,Z=P.property.specification["property-type"],ee=Z==="cross-faded"||Z==="cross-faded-data-driven";if(j.kind==="constant")this.binders[C]=ee?new zu(j.value,$):new $n(j.value,$,W),_.push(`/u_${C}`);else if(j.kind==="source"||ee){const ne=jy(C,W,"source");this.binders[C]=ee?new Rl(j,W,Y,d,ne,l.id):new Hs(j,$,W,ne),_.push(`/a_${C}`)}else{const ne=jy(C,W,"composite");this.binders[C]=new Ia(j,$,W,Y,d,ne),_.push(`/z_${C}`)}}this.cacheKey=_.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof Hs||d instanceof Ia?d.maxValue:0}populatePaintArrays(l,d,m,_,C){for(const P in this.binders){const $=this.binders[P];($ instanceof Hs||$ instanceof Ia||$ instanceof Rl)&&$.populatePaintArray(l,d,m,_,C)}}setConstantPatternPositions(l,d){for(const m in this.binders){const _=this.binders[m];_ instanceof zu&&_.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,m,_,C){let P=!1;for(const $ in l){const j=d.getPositions($);for(const W of j){const Y=m.feature(W.index);for(const Z in this.binders){const ee=this.binders[Z];if((ee instanceof Hs||ee instanceof Ia||ee instanceof Rl)&&ee.expression.isStateDependent===!0){const ne=_.paint.get(Z);ee.expression=ne.value,ee.updatePaintArray(W.start,W.end,Y,l[$],C),P=!0}}}}return P}defines(){const l=[];for(const d in this.binders){const m=this.binders[d];(m instanceof $n||m instanceof zu)&&l.push(...m.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof Hs||m instanceof Ia)for(let _=0;_<m.paintVertexAttributes.length;_++)l.push(m.paintVertexAttributes[_].name);else if(m instanceof Rl)for(let _=0;_<Kr.members.length;_++)l.push(Kr.members[_].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof $n||m instanceof zu||m instanceof Ia)for(const _ of m.uniformNames)l.push(_)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const m=[];for(const _ in this.binders){const C=this.binders[_];if(C instanceof $n||C instanceof zu||C instanceof Ia){for(const P of C.uniformNames)if(d[P]){const $=C.getBinding(l,d[P],P);m.push({name:P,property:_,binding:$})}}}return m}setUniforms(l,d,m,_){for(const{name:C,property:P,binding:$}of d)this.binders[P].setUniform($,_,m.get(P),C)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(l&&m instanceof Rl){const _=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(m instanceof Hs||m instanceof Ia)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const d in this.binders){const m=this.binders[d];(m instanceof Hs||m instanceof Ia||m instanceof Rl)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof Hs||d instanceof Ia||d instanceof Rl)&&d.destroy()}}}class Mc{constructor(l,d,m=()=>!0){this.programConfigurations={};for(const _ of l)this.programConfigurations[_.id]=new tb(_,d,m);this.needsUpload=!1,this._featureMap=new Ol,this._bufferOffset=0}populatePaintArrays(l,d,m,_,C,P){for(const $ in this.programConfigurations)this.programConfigurations[$].populatePaintArrays(l,d,_,C,P);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,m,_){for(const C of m)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(l,this._featureMap,d,C,_)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function ju(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function jy(u,l,d){const m={color:{source:Ml,composite:L},number:{source:c,composite:Ml}},_=function(C){return{"line-pattern":{source:at,composite:at},"fill-pattern":{source:at,composite:at},"fill-extrusion-pattern":{source:at,composite:at}}[C]}(u);return _&&_[d]||m[l][d]}Pt("ConstantBinder",$n),Pt("CrossFadedConstantBinder",zu),Pt("SourceExpressionBinder",Hs),Pt("CrossFadedCompositeBinder",Rl),Pt("CompositeExpressionBinder",Ia),Pt("ProgramConfiguration",tb,{omit:["_buffers"]}),Pt("ProgramConfigurationSet",Mc);const Dn=8192,pp=Math.pow(2,14)-1,mp=-pp-1;function $l(u){const l=Dn/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const _=d[m];for(let C=0;C<_.length;C++){const P=_[C],$=Math.round(P.x*l),j=Math.round(P.y*l);P.x=O($,mp,pp),P.y=O(j,mp,pp),($<P.x||$>P.x+1||j<P.y||j>P.y+1)&&J("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function Gs(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?$l(u):[]}}function rb(u,l,d,m,_){u.emplaceBack(2*l+(m+1)/2,2*d+(_+1)/2)}class FC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new $e,this.indexArray=new Dt,this.segments=new rr,this.programConfigurations=new Mc(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){const _=this.layers[0],C=[];let P=null,$=!1;_.type==="circle"&&(P=_.layout.get("circle-sort-key"),$=!P.isConstant());for(const{feature:j,id:W,index:Y,sourceLayerIndex:Z}of l){const ee=this.layers[0]._featureFilter.needGeometry,ne=Gs(j,ee);if(!this.layers[0]._featureFilter.filter(new Cn(this.zoom),ne,m))continue;const ie=$?P.evaluate(ne,{},m):void 0,de={id:W,properties:j.properties,type:j.type,sourceLayerIndex:Z,index:Y,geometry:ee?ne.geometry:$l(j),patterns:{},sortKey:ie};C.push(de)}$&&C.sort((j,W)=>j.sortKey-W.sortKey);for(const j of C){const{geometry:W,index:Y,sourceLayerIndex:Z}=j,ee=l[Y].feature;this.addFeature(j,W,Y,m),d.featureIndex.insert(ee,W,Y,Z,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,fr),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,m,_){for(const C of d)for(const P of C){const $=P.x,j=P.y;if($<0||$>=Dn||j<0||j>=Dn)continue;const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),Y=W.vertexLength;rb(this.layoutVertexArray,$,j,-1,-1),rb(this.layoutVertexArray,$,j,1,-1),rb(this.layoutVertexArray,$,j,1,1),rb(this.layoutVertexArray,$,j,-1,1),this.indexArray.emplaceBack(Y,Y+1,Y+2),this.indexArray.emplaceBack(Y,Y+3,Y+2),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},_)}}function BL(u,l){for(let d=0;d<u.length;d++)if(gp(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(gp(u,l[d]))return!0;return!!UC(u,l)}function BK(u,l,d){return!!gp(u,l)||!!VC(l,u,d)}function FL(u,l){if(u.length===1)return VL(l,u[0]);for(let d=0;d<l.length;d++){const m=l[d];for(let _=0;_<m.length;_++)if(gp(u,m[_]))return!0}for(let d=0;d<u.length;d++)if(VL(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(UC(u,l[d]))return!0;return!1}function FK(u,l,d){if(u.length>1){if(UC(u,l))return!0;for(let m=0;m<l.length;m++)if(VC(l[m],u,d))return!0}for(let m=0;m<u.length;m++)if(VC(u[m],l,d))return!0;return!1}function UC(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],_=u[d+1];for(let C=0;C<l.length-1;C++)if(UK(m,_,l[C],l[C+1]))return!0}return!1}function UK(u,l,d,m){return Q(u,d,m)!==Q(l,d,m)&&Q(u,l,d)!==Q(u,l,m)}function VC(u,l,d){const m=d*d;if(l.length===1)return u.distSqr(l[0])<m;for(let _=1;_<l.length;_++)if(UL(u,l[_-1],l[_])<m)return!0;return!1}function UL(u,l,d){const m=l.distSqr(d);if(m===0)return u.distSqr(l);const _=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/m;return u.distSqr(_<0?l:_>1?d:d.sub(l)._mult(_)._add(l))}function VL(u,l){let d,m,_,C=!1;for(let P=0;P<u.length;P++){d=u[P];for(let $=0,j=d.length-1;$<d.length;j=$++)m=d[$],_=d[j],m.y>l.y!=_.y>l.y&&l.x<(_.x-m.x)*(l.y-m.y)/(_.y-m.y)+m.x&&(C=!C)}return C}function gp(u,l){let d=!1;for(let m=0,_=u.length-1;m<u.length;_=m++){const C=u[m],P=u[_];C.y>l.y!=P.y>l.y&&l.x<(P.x-C.x)*(l.y-C.y)/(P.y-C.y)+C.x&&(d=!d)}return d}function VK(u,l,d){const m=d[0],_=d[2];if(u.x<m.x&&l.x<m.x||u.x>_.x&&l.x>_.x||u.y<m.y&&l.y<m.y||u.y>_.y&&l.y>_.y)return!1;const C=Q(u,l,d[0]);return C!==Q(u,l,d[1])||C!==Q(u,l,d[2])||C!==Q(u,l,d[3])}function By(u,l,d){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(l.id).getMaxValue(u)}function nb(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function ib(u,l,d,m,_){if(!l[0]&&!l[1])return u;const C=y.convert(l)._mult(_);d==="viewport"&&C._rotate(-m);const P=[];for(let $=0;$<u.length;$++)P.push(u[$].sub(C));return P}let WL,qL;Pt("CircleBucket",FC,{omit:["layers"]});var WK={get paint(){return qL=qL||new vi({"circle-radius":new Qt(Me.paint_circle["circle-radius"]),"circle-color":new Qt(Me.paint_circle["circle-color"]),"circle-blur":new Qt(Me.paint_circle["circle-blur"]),"circle-opacity":new Qt(Me.paint_circle["circle-opacity"]),"circle-translate":new qt(Me.paint_circle["circle-translate"]),"circle-translate-anchor":new qt(Me.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qt(Me.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qt(Me.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qt(Me.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qt(Me.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qt(Me.paint_circle["circle-stroke-opacity"])})},get layout(){return WL=WL||new vi({"circle-sort-key":new Qt(Me.layout_circle["circle-sort-key"])})}},So=1e-6,yp=typeof Float32Array<"u"?Float32Array:Array;function WC(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function HL(u,l,d){var m=l[0],_=l[1],C=l[2],P=l[3],$=l[4],j=l[5],W=l[6],Y=l[7],Z=l[8],ee=l[9],ne=l[10],ie=l[11],de=l[12],ve=l[13],xe=l[14],Ne=l[15],Ae=d[0],Ue=d[1],He=d[2],nt=d[3];return u[0]=Ae*m+Ue*$+He*Z+nt*de,u[1]=Ae*_+Ue*j+He*ee+nt*ve,u[2]=Ae*C+Ue*W+He*ne+nt*xe,u[3]=Ae*P+Ue*Y+He*ie+nt*Ne,u[4]=(Ae=d[4])*m+(Ue=d[5])*$+(He=d[6])*Z+(nt=d[7])*de,u[5]=Ae*_+Ue*j+He*ee+nt*ve,u[6]=Ae*C+Ue*W+He*ne+nt*xe,u[7]=Ae*P+Ue*Y+He*ie+nt*Ne,u[8]=(Ae=d[8])*m+(Ue=d[9])*$+(He=d[10])*Z+(nt=d[11])*de,u[9]=Ae*_+Ue*j+He*ee+nt*ve,u[10]=Ae*C+Ue*W+He*ne+nt*xe,u[11]=Ae*P+Ue*Y+He*ie+nt*Ne,u[12]=(Ae=d[12])*m+(Ue=d[13])*$+(He=d[14])*Z+(nt=d[15])*de,u[13]=Ae*_+Ue*j+He*ee+nt*ve,u[14]=Ae*C+Ue*W+He*ne+nt*xe,u[15]=Ae*P+Ue*Y+He*ie+nt*Ne,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var Fy,qK=HL;function ob(u,l,d){var m=l[0],_=l[1],C=l[2],P=l[3];return u[0]=d[0]*m+d[4]*_+d[8]*C+d[12]*P,u[1]=d[1]*m+d[5]*_+d[9]*C+d[13]*P,u[2]=d[2]*m+d[6]*_+d[10]*C+d[14]*P,u[3]=d[3]*m+d[7]*_+d[11]*C+d[15]*P,u}Fy=new yp(4),yp!=Float32Array&&(Fy[0]=0,Fy[1]=0,Fy[2]=0,Fy[3]=0);class HK extends as{constructor(l){super(l,WK)}createBucket(l){return new FC(l)}queryRadius(l){const d=l;return By("circle-radius",this,d)+By("circle-stroke-width",this,d)+nb(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,m,_,C,P,$,j){const W=ib(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),P.angle,$),Y=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Z=this.paint.get("circle-pitch-alignment")==="map",ee=Z?W:function(ie,de){return ie.map(ve=>GL(ve,de))}(W,j),ne=Z?Y*$:Y;for(const ie of _)for(const de of ie){const ve=Z?de:GL(de,j);let xe=ne;const Ne=ob([],[de.x,de.y,0,1],j);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?xe*=Ne[3]/P.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(xe*=P.cameraToCenterDistance/Ne[3]),BK(ee,ve,xe))return!0}return!1}}function GL(u,l){const d=ob([],[u.x,u.y,0,1],l);return new y(d[0]/d[3],d[1]/d[3])}class YL extends FC{}let KL;Pt("HeatmapBucket",YL,{omit:["layers"]});var GK={get paint(){return KL=KL||new vi({"heatmap-radius":new Qt(Me.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qt(Me.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qt(Me.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ry(Me.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qt(Me.paint_heatmap["heatmap-opacity"])})}};function qC(u,{width:l,height:d},m,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==l*d*m)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${l*d*m}`)}else _=new Uint8Array(l*d*m);return u.width=l,u.height=d,u.data=_,u}function ZL(u,{width:l,height:d},m){if(l===u.width&&d===u.height)return;const _=qC({},{width:l,height:d},m);HC(u,_,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},m),u.width=l,u.height=d,u.data=_.data}function HC(u,l,d,m,_,C){if(_.width===0||_.height===0)return l;if(_.width>u.width||_.height>u.height||d.x>u.width-_.width||d.y>u.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>l.width||_.height>l.height||m.x>l.width-_.width||m.y>l.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const P=u.data,$=l.data;if(P===$)throw new Error("srcData equals dstData, so image is already copied");for(let j=0;j<_.height;j++){const W=((d.y+j)*u.width+d.x)*C,Y=((m.y+j)*l.width+m.x)*C;for(let Z=0;Z<_.width*C;Z++)$[Y+Z]=P[W+Z]}return l}class Uy{constructor(l,d){qC(this,l,1,d)}resize(l){ZL(this,l,1)}clone(){return new Uy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,_,C){HC(l,d,m,_,C,1)}}class Ra{constructor(l,d){qC(this,l,4,d)}resize(l){ZL(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Ra({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,_,C){HC(l,d,m,_,C,4)}}function XL(u){const l={},d=u.resolution||256,m=u.clips?u.clips.length:1,_=u.image||new Ra({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const C=(P,$,j)=>{l[u.evaluationKey]=j;const W=u.expression.evaluate(l);_.data[P+$+0]=Math.floor(255*W.r/W.a),_.data[P+$+1]=Math.floor(255*W.g/W.a),_.data[P+$+2]=Math.floor(255*W.b/W.a),_.data[P+$+3]=Math.floor(255*W.a)};if(u.clips)for(let P=0,$=0;P<m;++P,$+=4*d)for(let j=0,W=0;j<d;j++,W+=4){const Y=j/(d-1),{start:Z,end:ee}=u.clips[P];C($,W,Z*(1-Y)+ee*Y)}else for(let P=0,$=0;P<d;P++,$+=4)C(0,$,P/(d-1));return _}Pt("AlphaImage",Uy),Pt("RGBAImage",Ra);class YK extends as{createBucket(l){return new YL(l)}constructor(l){super(l,GK),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=XL({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let JL;var KK={get paint(){return JL=JL||new vi({"hillshade-illumination-direction":new qt(Me.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new qt(Me.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qt(Me.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qt(Me.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qt(Me.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qt(Me.paint_hillshade["hillshade-accent-color"])})}};class ZK extends as{constructor(l){super(l,KK)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const XK=ri([{name:"a_pos",components:2,type:"Int16"}],4),{members:JK}=XK;var GC={exports:{}};function ab(u,l,d){d=d||2;var m,_,C,P,$,j,W,Y=l&&l.length,Z=Y?l[0]*d:u.length,ee=QL(u,0,Z,d,!0),ne=[];if(!ee||ee.next===ee.prev)return ne;if(Y&&(ee=function(de,ve,xe,Ne){var Ae,Ue,He,nt=[];for(Ae=0,Ue=ve.length;Ae<Ue;Ae++)(He=QL(de,ve[Ae]*Ne,Ae<Ue-1?ve[Ae+1]*Ne:de.length,Ne,!1))===He.next&&(He.steiner=!0),nt.push(aZ(He));for(nt.sort(nZ),Ae=0;Ae<nt.length;Ae++)xe=iZ(nt[Ae],xe);return xe}(u,l,ee,d)),u.length>80*d){m=C=u[0],_=P=u[1];for(var ie=d;ie<Z;ie+=d)($=u[ie])<m&&(m=$),(j=u[ie+1])<_&&(_=j),$>C&&(C=$),j>P&&(P=j);W=(W=Math.max(C-m,P-_))!==0?32767/W:0}return Vy(ee,ne,d,m,_,W,0),ne}function QL(u,l,d,m,_){var C,P;if(_===ZC(u,l,d,m)>0)for(C=l;C<d;C+=m)P=rN(C,u[C],u[C+1],P);else for(C=d-m;C>=l;C-=m)P=rN(C,u[C],u[C+1],P);return P&&sb(P,P.next)&&(qy(P),P=P.next),P}function bf(u,l){if(!u)return u;l||(l=u);var d,m=u;do if(d=!1,m.steiner||!sb(m,m.next)&&ii(m.prev,m,m.next)!==0)m=m.next;else{if(qy(m),(m=l=m.prev)===m.next)break;d=!0}while(d||m!==l);return l}function Vy(u,l,d,m,_,C,P){if(u){!P&&C&&function(Y,Z,ee,ne){var ie=Y;do ie.z===0&&(ie.z=YC(ie.x,ie.y,Z,ee,ne)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==Y);ie.prevZ.nextZ=null,ie.prevZ=null,function(de){var ve,xe,Ne,Ae,Ue,He,nt,Tt,Ft=1;do{for(xe=de,de=null,Ue=null,He=0;xe;){for(He++,Ne=xe,nt=0,ve=0;ve<Ft&&(nt++,Ne=Ne.nextZ);ve++);for(Tt=Ft;nt>0||Tt>0&&Ne;)nt!==0&&(Tt===0||!Ne||xe.z<=Ne.z)?(Ae=xe,xe=xe.nextZ,nt--):(Ae=Ne,Ne=Ne.nextZ,Tt--),Ue?Ue.nextZ=Ae:de=Ae,Ae.prevZ=Ue,Ue=Ae;xe=Ne}Ue.nextZ=null,Ft*=2}while(He>1)}(ie)}(u,m,_,C);for(var $,j,W=u;u.prev!==u.next;)if($=u.prev,j=u.next,C?eZ(u,m,_,C):QK(u))l.push($.i/d|0),l.push(u.i/d|0),l.push(j.i/d|0),qy(u),u=j.next,W=j.next;else if((u=j)===W){P?P===1?Vy(u=tZ(bf(u),l,d),l,d,m,_,C,2):P===2&&rZ(u,l,d,m,_,C):Vy(bf(u),l,d,m,_,C,1);break}}}function QK(u){var l=u.prev,d=u,m=u.next;if(ii(l,d,m)>=0)return!1;for(var _=l.x,C=d.x,P=m.x,$=l.y,j=d.y,W=m.y,Y=_<C?_<P?_:P:C<P?C:P,Z=$<j?$<W?$:W:j<W?j:W,ee=_>C?_>P?_:P:C>P?C:P,ne=$>j?$>W?$:W:j>W?j:W,ie=m.next;ie!==l;){if(ie.x>=Y&&ie.x<=ee&&ie.y>=Z&&ie.y<=ne&&vp(_,$,C,j,P,W,ie.x,ie.y)&&ii(ie.prev,ie,ie.next)>=0)return!1;ie=ie.next}return!0}function eZ(u,l,d,m){var _=u.prev,C=u,P=u.next;if(ii(_,C,P)>=0)return!1;for(var $=_.x,j=C.x,W=P.x,Y=_.y,Z=C.y,ee=P.y,ne=$<j?$<W?$:W:j<W?j:W,ie=Y<Z?Y<ee?Y:ee:Z<ee?Z:ee,de=$>j?$>W?$:W:j>W?j:W,ve=Y>Z?Y>ee?Y:ee:Z>ee?Z:ee,xe=YC(ne,ie,l,d,m),Ne=YC(de,ve,l,d,m),Ae=u.prevZ,Ue=u.nextZ;Ae&&Ae.z>=xe&&Ue&&Ue.z<=Ne;){if(Ae.x>=ne&&Ae.x<=de&&Ae.y>=ie&&Ae.y<=ve&&Ae!==_&&Ae!==P&&vp($,Y,j,Z,W,ee,Ae.x,Ae.y)&&ii(Ae.prev,Ae,Ae.next)>=0||(Ae=Ae.prevZ,Ue.x>=ne&&Ue.x<=de&&Ue.y>=ie&&Ue.y<=ve&&Ue!==_&&Ue!==P&&vp($,Y,j,Z,W,ee,Ue.x,Ue.y)&&ii(Ue.prev,Ue,Ue.next)>=0))return!1;Ue=Ue.nextZ}for(;Ae&&Ae.z>=xe;){if(Ae.x>=ne&&Ae.x<=de&&Ae.y>=ie&&Ae.y<=ve&&Ae!==_&&Ae!==P&&vp($,Y,j,Z,W,ee,Ae.x,Ae.y)&&ii(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}for(;Ue&&Ue.z<=Ne;){if(Ue.x>=ne&&Ue.x<=de&&Ue.y>=ie&&Ue.y<=ve&&Ue!==_&&Ue!==P&&vp($,Y,j,Z,W,ee,Ue.x,Ue.y)&&ii(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.nextZ}return!0}function tZ(u,l,d){var m=u;do{var _=m.prev,C=m.next.next;!sb(_,C)&&eN(_,m,m.next,C)&&Wy(_,C)&&Wy(C,_)&&(l.push(_.i/d|0),l.push(m.i/d|0),l.push(C.i/d|0),qy(m),qy(m.next),m=u=C),m=m.next}while(m!==u);return bf(m)}function rZ(u,l,d,m,_,C){var P=u;do{for(var $=P.next.next;$!==P.prev;){if(P.i!==$.i&&sZ(P,$)){var j=tN(P,$);return P=bf(P,P.next),j=bf(j,j.next),Vy(P,l,d,m,_,C,0),void Vy(j,l,d,m,_,C,0)}$=$.next}P=P.next}while(P!==u)}function nZ(u,l){return u.x-l.x}function iZ(u,l){var d=function(_,C){var P,$=C,j=_.x,W=_.y,Y=-1/0;do{if(W<=$.y&&W>=$.next.y&&$.next.y!==$.y){var Z=$.x+(W-$.y)*($.next.x-$.x)/($.next.y-$.y);if(Z<=j&&Z>Y&&(Y=Z,P=$.x<$.next.x?$:$.next,Z===j))return P}$=$.next}while($!==C);if(!P)return null;var ee,ne=P,ie=P.x,de=P.y,ve=1/0;$=P;do j>=$.x&&$.x>=ie&&j!==$.x&&vp(W<de?j:Y,W,ie,de,W<de?Y:j,W,$.x,$.y)&&(ee=Math.abs(W-$.y)/(j-$.x),Wy($,_)&&(ee<ve||ee===ve&&($.x>P.x||$.x===P.x&&oZ(P,$)))&&(P=$,ve=ee)),$=$.next;while($!==ne);return P}(u,l);if(!d)return l;var m=tN(d,u);return bf(m,m.next),bf(d,d.next)}function oZ(u,l){return ii(u.prev,u,l.prev)<0&&ii(l.next,u,u.next)<0}function YC(u,l,d,m,_){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*_|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*_|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function aZ(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function vp(u,l,d,m,_,C,P,$){return(_-P)*(l-$)>=(u-P)*(C-$)&&(u-P)*(m-$)>=(d-P)*(l-$)&&(d-P)*(C-$)>=(_-P)*(m-$)}function sZ(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,m){var _=d;do{if(_.i!==d.i&&_.next.i!==d.i&&_.i!==m.i&&_.next.i!==m.i&&eN(_,_.next,d,m))return!0;_=_.next}while(_!==d);return!1}(u,l)&&(Wy(u,l)&&Wy(l,u)&&function(d,m){var _=d,C=!1,P=(d.x+m.x)/2,$=(d.y+m.y)/2;do _.y>$!=_.next.y>$&&_.next.y!==_.y&&P<(_.next.x-_.x)*($-_.y)/(_.next.y-_.y)+_.x&&(C=!C),_=_.next;while(_!==d);return C}(u,l)&&(ii(u.prev,u,l.prev)||ii(u,l.prev,l))||sb(u,l)&&ii(u.prev,u,u.next)>0&&ii(l.prev,l,l.next)>0)}function ii(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function sb(u,l){return u.x===l.x&&u.y===l.y}function eN(u,l,d,m){var _=cb(ii(u,l,d)),C=cb(ii(u,l,m)),P=cb(ii(d,m,u)),$=cb(ii(d,m,l));return _!==C&&P!==$||!(_!==0||!lb(u,d,l))||!(C!==0||!lb(u,m,l))||!(P!==0||!lb(d,u,m))||!($!==0||!lb(d,l,m))}function lb(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function cb(u){return u>0?1:u<0?-1:0}function Wy(u,l){return ii(u.prev,u,u.next)<0?ii(u,l,u.next)>=0&&ii(u,u.prev,l)>=0:ii(u,l,u.prev)<0||ii(u,u.next,l)<0}function tN(u,l){var d=new KC(u.i,u.x,u.y),m=new KC(l.i,l.x,l.y),_=u.next,C=l.prev;return u.next=l,l.prev=u,d.next=_,_.prev=d,m.next=d,d.prev=m,C.next=m,m.prev=C,m}function rN(u,l,d,m){var _=new KC(u,l,d);return m?(_.next=m.next,_.prev=m,m.next.prev=_,m.next=_):(_.prev=_,_.next=_),_}function qy(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function KC(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ZC(u,l,d,m){for(var _=0,C=l,P=d-m;C<d;C+=m)_+=(u[P]-u[C])*(u[C+1]+u[P+1]),P=C;return _}GC.exports=ab,GC.exports.default=ab,ab.deviation=function(u,l,d,m){var _=l&&l.length,C=Math.abs(ZC(u,0,_?l[0]*d:u.length,d));if(_)for(var P=0,$=l.length;P<$;P++)C-=Math.abs(ZC(u,l[P]*d,P<$-1?l[P+1]*d:u.length,d));var j=0;for(P=0;P<m.length;P+=3){var W=m[P]*d,Y=m[P+1]*d,Z=m[P+2]*d;j+=Math.abs((u[W]-u[Z])*(u[Y+1]-u[W+1])-(u[W]-u[Y])*(u[Z+1]-u[W+1]))}return C===0&&j===0?0:Math.abs((j-C)/C)},ab.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,_=0;_<u.length;_++){for(var C=0;C<u[_].length;C++)for(var P=0;P<l;P++)d.vertices.push(u[_][C][P]);_>0&&d.holes.push(m+=u[_-1].length)}return d};var nN=f(GC.exports);function lZ(u,l,d,m,_){iN(u,l,d||0,m||u.length-1,_||cZ)}function iN(u,l,d,m,_){for(;m>d;){if(m-d>600){var C=m-d+1,P=l-d+1,$=Math.log(C),j=.5*Math.exp(2*$/3),W=.5*Math.sqrt($*j*(C-j)/C)*(P-C/2<0?-1:1);iN(u,l,Math.max(d,Math.floor(l-P*j/C+W)),Math.min(m,Math.floor(l+(C-P)*j/C+W)),_)}var Y=u[l],Z=d,ee=m;for(Hy(u,d,l),_(u[m],Y)>0&&Hy(u,d,m);Z<ee;){for(Hy(u,Z,ee),Z++,ee--;_(u[Z],Y)<0;)Z++;for(;_(u[ee],Y)>0;)ee--}_(u[d],Y)===0?Hy(u,d,ee):Hy(u,++ee,m),ee<=l&&(d=ee+1),l<=ee&&(m=ee-1)}}function Hy(u,l,d){var m=u[l];u[l]=u[d],u[d]=m}function cZ(u,l){return u<l?-1:u>l?1:0}function XC(u,l){const d=u.length;if(d<=1)return[u];const m=[];let _,C;for(let P=0;P<d;P++){const $=ae(u[P]);$!==0&&(u[P].area=Math.abs($),C===void 0&&(C=$<0),C===$<0?(_&&m.push(_),_=[u[P]]):_.push(u[P]))}if(_&&m.push(_),l>1)for(let P=0;P<m.length;P++)m[P].length<=l||(lZ(m[P],l,1,m[P].length-1,uZ),m[P]=m[P].slice(0,l));return m}function uZ(u,l){return l.area-u.area}function JC(u,l,d){const m=d.patternDependencies;let _=!1;for(const C of l){const P=C.paint.get(`${u}-pattern`);P.isConstant()||(_=!0);const $=P.constantOr(null);$&&(_=!0,m[$.to]=!0,m[$.from]=!0)}return _}function QC(u,l,d,m,_){const C=_.patternDependencies;for(const P of l){const $=P.paint.get(`${u}-pattern`).value;if($.kind!=="constant"){let j=$.evaluate({zoom:m-1},d,{},_.availableImages),W=$.evaluate({zoom:m},d,{},_.availableImages),Y=$.evaluate({zoom:m+1},d,{},_.availableImages);j=j&&j.name?j.name:j,W=W&&W.name?W.name:W,Y=Y&&Y.name?Y.name:Y,C[j]=!0,C[W]=!0,C[Y]=!0,d.patterns[P.id]={min:j,mid:W,max:Y}}}return d}class ek{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ge,this.indexArray=new Dt,this.indexArray2=new dn,this.programConfigurations=new Mc(l.layers,l.zoom),this.segments=new rr,this.segments2=new rr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=JC("fill",this.layers,d);const _=this.layers[0].layout.get("fill-sort-key"),C=!_.isConstant(),P=[];for(const{feature:$,id:j,index:W,sourceLayerIndex:Y}of l){const Z=this.layers[0]._featureFilter.needGeometry,ee=Gs($,Z);if(!this.layers[0]._featureFilter.filter(new Cn(this.zoom),ee,m))continue;const ne=C?_.evaluate(ee,{},m,d.availableImages):void 0,ie={id:j,properties:$.properties,type:$.type,sourceLayerIndex:Y,index:W,geometry:Z?ee.geometry:$l($),patterns:{},sortKey:ne};P.push(ie)}C&&P.sort(($,j)=>$.sortKey-j.sortKey);for(const $ of P){const{geometry:j,index:W,sourceLayerIndex:Y}=$;if(this.hasPattern){const Z=QC("fill",this.layers,$,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature($,j,W,m,{});d.featureIndex.insert(l[W].feature,j,W,Y,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,JK),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,m,_,C){for(const P of XC(d,500)){let $=0;for(const ne of P)$+=ne.length;const j=this.segments.prepareSegment($,this.layoutVertexArray,this.indexArray),W=j.vertexLength,Y=[],Z=[];for(const ne of P){if(ne.length===0)continue;ne!==P[0]&&Z.push(Y.length/2);const ie=this.segments2.prepareSegment(ne.length,this.layoutVertexArray,this.indexArray2),de=ie.vertexLength;this.layoutVertexArray.emplaceBack(ne[0].x,ne[0].y),this.indexArray2.emplaceBack(de+ne.length-1,de),Y.push(ne[0].x),Y.push(ne[0].y);for(let ve=1;ve<ne.length;ve++)this.layoutVertexArray.emplaceBack(ne[ve].x,ne[ve].y),this.indexArray2.emplaceBack(de+ve-1,de+ve),Y.push(ne[ve].x),Y.push(ne[ve].y);ie.vertexLength+=ne.length,ie.primitiveLength+=ne.length}const ee=nN(Y,Z);for(let ne=0;ne<ee.length;ne+=3)this.indexArray.emplaceBack(W+ee[ne],W+ee[ne+1],W+ee[ne+2]);j.vertexLength+=$,j.primitiveLength+=ee.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,_)}}let oN,aN;Pt("FillBucket",ek,{omit:["layers","patternFeatures"]});var dZ={get paint(){return aN=aN||new vi({"fill-antialias":new qt(Me.paint_fill["fill-antialias"]),"fill-opacity":new Qt(Me.paint_fill["fill-opacity"]),"fill-color":new Qt(Me.paint_fill["fill-color"]),"fill-outline-color":new Qt(Me.paint_fill["fill-outline-color"]),"fill-translate":new qt(Me.paint_fill["fill-translate"]),"fill-translate-anchor":new qt(Me.paint_fill["fill-translate-anchor"]),"fill-pattern":new cp(Me.paint_fill["fill-pattern"])})},get layout(){return oN=oN||new vi({"fill-sort-key":new Qt(Me.layout_fill["fill-sort-key"])})}};class fZ extends as{constructor(l){super(l,dZ)}recalculate(l,d){super.recalculate(l,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new ek(l)}queryRadius(){return nb(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,m,_,C,P,$){return FL(ib(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),P.angle,$),_)}isTileClipped(){return!0}}const hZ=ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),pZ=ri([{name:"a_centroid",components:2,type:"Int16"}],4),{members:mZ}=hZ;var Bu={},gZ=h,sN=_p;function _p(u,l,d,m,_){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=_,u.readFields(yZ,this,l)}function yZ(u,l,d){u==1?l.id=d.readVarint():u==2?function(m,_){for(var C=m.readVarint()+m.pos;m.pos<C;){var P=_._keys[m.readVarint()],$=_._values[m.readVarint()];_.properties[P]=$}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function vZ(u){for(var l,d,m=0,_=0,C=u.length,P=C-1;_<C;P=_++)m+=((d=u[P]).x-(l=u[_]).x)*(l.y+d.y);return m}_p.types=["Unknown","Point","LineString","Polygon"],_p.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,m=1,_=0,C=0,P=0,$=[];u.pos<d;){if(_<=0){var j=u.readVarint();m=7&j,_=j>>3}if(_--,m===1||m===2)C+=u.readSVarint(),P+=u.readSVarint(),m===1&&(l&&$.push(l),l=[]),l.push(new gZ(C,P));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&$.push(l),$},_p.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,m=0,_=0,C=0,P=1/0,$=-1/0,j=1/0,W=-1/0;u.pos<l;){if(m<=0){var Y=u.readVarint();d=7&Y,m=Y>>3}if(m--,d===1||d===2)(_+=u.readSVarint())<P&&(P=_),_>$&&($=_),(C+=u.readSVarint())<j&&(j=C),C>W&&(W=C);else if(d!==7)throw new Error("unknown command "+d)}return[P,j,$,W]},_p.prototype.toGeoJSON=function(u,l,d){var m,_,C=this.extent*Math.pow(2,d),P=this.extent*u,$=this.extent*l,j=this.loadGeometry(),W=_p.types[this.type];function Y(ne){for(var ie=0;ie<ne.length;ie++){var de=ne[ie];ne[ie]=[360*(de.x+P)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(de.y+$)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(m=0;m<j.length;m++)Z[m]=j[m][0];Y(j=Z);break;case 2:for(m=0;m<j.length;m++)Y(j[m]);break;case 3:for(j=function(ne){var ie=ne.length;if(ie<=1)return[ne];for(var de,ve,xe=[],Ne=0;Ne<ie;Ne++){var Ae=vZ(ne[Ne]);Ae!==0&&(ve===void 0&&(ve=Ae<0),ve===Ae<0?(de&&xe.push(de),de=[ne[Ne]]):de.push(ne[Ne]))}return de&&xe.push(de),xe}(j),m=0;m<j.length;m++)for(_=0;_<j[m].length;_++)Y(j[m][_])}j.length===1?j=j[0]:W="Multi"+W;var ee={type:"Feature",geometry:{type:W,coordinates:j},properties:this.properties};return"id"in this&&(ee.id=this.id),ee};var _Z=sN,lN=cN;function cN(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(xZ,this,l),this.length=this._features.length}function xZ(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(m){for(var _=null,C=m.readVarint()+m.pos;m.pos<C;){var P=m.readVarint()>>3;_=P===1?m.readString():P===2?m.readFloat():P===3?m.readDouble():P===4?m.readVarint64():P===5?m.readVarint():P===6?m.readSVarint():P===7?m.readBoolean():null}return _}(d))}cN.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new _Z(this._pbf,l,this.extent,this._keys,this._values)};var bZ=lN;function wZ(u,l,d){if(u===3){var m=new bZ(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}Bu.VectorTile=function(u,l){this.layers=u.readFields(wZ,{},l)},Bu.VectorTileFeature=sN,Bu.VectorTileLayer=lN;const SZ=Bu.VectorTileFeature.types,tk=Math.pow(2,13);function Gy(u,l,d,m,_,C,P,$){u.emplaceBack(l,d,2*Math.floor(m*tk)+P,_*tk*2,C*tk*2,Math.round($))}class rk{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ze,this.centroidVertexArray=new _e,this.indexArray=new Dt,this.programConfigurations=new Mc(l.layers,l.zoom),this.segments=new rr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.features=[],this.hasPattern=JC("fill-extrusion",this.layers,d);for(const{feature:_,id:C,index:P,sourceLayerIndex:$}of l){const j=this.layers[0]._featureFilter.needGeometry,W=Gs(_,j);if(!this.layers[0]._featureFilter.filter(new Cn(this.zoom),W,m))continue;const Y={id:C,sourceLayerIndex:$,index:P,geometry:j?W.geometry:$l(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(QC("fill-extrusion",this.layers,Y,this.zoom,d)):this.addFeature(Y,Y.geometry,P,m,{}),d.featureIndex.insert(_,Y.geometry,P,$,this.index,!0)}}addFeatures(l,d,m){for(const _ of this.features){const{geometry:C}=_;this.addFeature(_,C,_.index,d,m)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,mZ),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,pZ.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,m,_,C){const P={x:0,y:0,vertexCount:0};for(const $ of XC(d,500)){let j=0;for(const ie of $)j+=ie.length;let W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ie of $){if(ie.length===0||CZ(ie))continue;let de=0;for(let ve=0;ve<ie.length;ve++){const xe=ie[ve];if(ve>=1){const Ne=ie[ve-1];if(!EZ(xe,Ne)){W.vertexLength+4>rr.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Ae=xe.sub(Ne)._perp()._unit(),Ue=Ne.dist(xe);de+Ue>32768&&(de=0),Gy(this.layoutVertexArray,xe.x,xe.y,Ae.x,Ae.y,0,0,de),Gy(this.layoutVertexArray,xe.x,xe.y,Ae.x,Ae.y,0,1,de),P.x+=2*xe.x,P.y+=2*xe.y,P.vertexCount+=2,de+=Ue,Gy(this.layoutVertexArray,Ne.x,Ne.y,Ae.x,Ae.y,0,0,de),Gy(this.layoutVertexArray,Ne.x,Ne.y,Ae.x,Ae.y,0,1,de),P.x+=2*Ne.x,P.y+=2*Ne.y,P.vertexCount+=2;const He=W.vertexLength;this.indexArray.emplaceBack(He,He+2,He+1),this.indexArray.emplaceBack(He+1,He+2,He+3),W.vertexLength+=4,W.primitiveLength+=2}}}}if(W.vertexLength+j>rr.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),SZ[l.type]!=="Polygon")continue;const Y=[],Z=[],ee=W.vertexLength;for(const ie of $)if(ie.length!==0){ie!==$[0]&&Z.push(Y.length/2);for(let de=0;de<ie.length;de++){const ve=ie[de];Gy(this.layoutVertexArray,ve.x,ve.y,0,0,1,1,0),P.x+=ve.x,P.y+=ve.y,P.vertexCount+=1,Y.push(ve.x),Y.push(ve.y)}}const ne=nN(Y,Z);for(let ie=0;ie<ne.length;ie+=3)this.indexArray.emplaceBack(ee+ne[ie],ee+ne[ie+2],ee+ne[ie+1]);W.primitiveLength+=ne.length/3,W.vertexLength+=j}for(let $=0;$<P.vertexCount;$++)this.centroidVertexArray.emplaceBack(Math.floor(P.x/P.vertexCount),Math.floor(P.y/P.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,_)}}function EZ(u,l){return u.x===l.x&&(u.x<0||u.x>Dn)||u.y===l.y&&(u.y<0||u.y>Dn)}function CZ(u){return u.every(l=>l.x<0)||u.every(l=>l.x>Dn)||u.every(l=>l.y<0)||u.every(l=>l.y>Dn)}let uN;Pt("FillExtrusionBucket",rk,{omit:["layers","features"]});var kZ={get paint(){return uN=uN||new vi({"fill-extrusion-opacity":new qt(Me["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qt(Me["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qt(Me["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qt(Me["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new cp(Me["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qt(Me["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qt(Me["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qt(Me["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class TZ extends as{constructor(l){super(l,kZ)}createBucket(l){return new rk(l)}queryRadius(){return nb(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,m,_,C,P,$,j){const W=ib(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),P.angle,$),Y=this.paint.get("fill-extrusion-height").evaluate(d,m),Z=this.paint.get("fill-extrusion-base").evaluate(d,m),ee=function(ie,de,ve,xe){const Ne=[];for(const Ae of ie){const Ue=[Ae.x,Ae.y,0,1];ob(Ue,Ue,de),Ne.push(new y(Ue[0]/Ue[3],Ue[1]/Ue[3]))}return Ne}(W,j),ne=function(ie,de,ve,xe){const Ne=[],Ae=[],Ue=xe[8]*de,He=xe[9]*de,nt=xe[10]*de,Tt=xe[11]*de,Ft=xe[8]*ve,Ct=xe[9]*ve,St=xe[10]*ve,yt=xe[11]*ve;for(const It of ie){const bt=[],ht=[];for(const Kt of It){const Ut=Kt.x,yr=Kt.y,yn=xe[0]*Ut+xe[4]*yr+xe[12],kn=xe[1]*Ut+xe[5]*yr+xe[13],xi=xe[2]*Ut+xe[6]*yr+xe[14],pa=xe[3]*Ut+xe[7]*yr+xe[15],Eo=xi+nt,di=pa+Tt,Ai=yn+Ft,Gi=kn+Ct,Xo=xi+St,Co=pa+yt,fi=new y((yn+Ue)/di,(kn+He)/di);fi.z=Eo/di,bt.push(fi);const bi=new y(Ai/Co,Gi/Co);bi.z=Xo/Co,ht.push(bi)}Ne.push(bt),Ae.push(ht)}return[Ne,Ae]}(_,Z,Y,j);return function(ie,de,ve){let xe=1/0;FL(ve,de)&&(xe=dN(ve,de[0]));for(let Ne=0;Ne<de.length;Ne++){const Ae=de[Ne],Ue=ie[Ne];for(let He=0;He<Ae.length-1;He++){const nt=Ae[He],Tt=[nt,Ae[He+1],Ue[He+1],Ue[He],nt];BL(ve,Tt)&&(xe=Math.min(xe,dN(ve,Tt)))}}return xe!==1/0&&xe}(ne[0],ne[1],ee)}}function Yy(u,l){return u.x*l.x+u.y*l.y}function dN(u,l){if(u.length===1){let d=0;const m=l[d++];let _;for(;!_||m.equals(_);)if(_=l[d++],!_)return 1/0;for(;d<l.length;d++){const C=l[d],P=u[0],$=_.sub(m),j=C.sub(m),W=P.sub(m),Y=Yy($,$),Z=Yy($,j),ee=Yy(j,j),ne=Yy(W,$),ie=Yy(W,j),de=Y*ee-Z*Z,ve=(ee*ne-Z*ie)/de,xe=(Y*ie-Z*ne)/de,Ne=m.z*(1-ve-xe)+_.z*ve+C.z*xe;if(isFinite(Ne))return Ne}return 1/0}{let d=1/0;for(const m of l)d=Math.min(d,m.z);return d}}const PZ=ri([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:AZ}=PZ,MZ=ri([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:OZ}=MZ,IZ=Bu.VectorTileFeature.types,RZ=Math.cos(Math.PI/180*37.5),fN=Math.pow(2,14)/.5;class nk{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new tt,this.layoutVertexArray2=new ft,this.indexArray=new Dt,this.programConfigurations=new Mc(l.layers,l.zoom),this.segments=new rr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=JC("line",this.layers,d);const _=this.layers[0].layout.get("line-sort-key"),C=!_.isConstant(),P=[];for(const{feature:$,id:j,index:W,sourceLayerIndex:Y}of l){const Z=this.layers[0]._featureFilter.needGeometry,ee=Gs($,Z);if(!this.layers[0]._featureFilter.filter(new Cn(this.zoom),ee,m))continue;const ne=C?_.evaluate(ee,{},m):void 0,ie={id:j,properties:$.properties,type:$.type,sourceLayerIndex:Y,index:W,geometry:Z?ee.geometry:$l($),patterns:{},sortKey:ne};P.push(ie)}C&&P.sort(($,j)=>$.sortKey-j.sortKey);for(const $ of P){const{geometry:j,index:W,sourceLayerIndex:Y}=$;if(this.hasPattern){const Z=QC("line",this.layers,$,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature($,j,W,m,{});d.featureIndex.insert(l[W].feature,j,W,Y,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,OZ)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,AZ),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,m,_,C){const P=this.layers[0].layout,$=P.get("line-join").evaluate(l,{}),j=P.get("line-cap"),W=P.get("line-miter-limit"),Y=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Z of d)this.addLine(Z,l,$,j,W,Y);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,_)}addLine(l,d,m,_,C,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<l.length-1;xe++)this.totalDistance+=l[xe].dist(l[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const $=IZ[d.type]==="Polygon";let j=l.length;for(;j>=2&&l[j-1].equals(l[j-2]);)j--;let W=0;for(;W<j-1&&l[W].equals(l[W+1]);)W++;if(j<($?3:2))return;m==="bevel"&&(C=1.05);const Y=this.overscaling<=16?15*Dn/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);let ee,ne,ie,de,ve;this.e1=this.e2=-1,$&&(ee=l[j-2],ve=l[W].sub(ee)._unit()._perp());for(let xe=W;xe<j;xe++){if(ie=xe===j-1?$?l[W+1]:void 0:l[xe+1],ie&&l[xe].equals(ie))continue;ve&&(de=ve),ee&&(ne=ee),ee=l[xe],ve=ie?ie.sub(ee)._unit()._perp():de,de=de||ve;let Ne=de.add(ve);Ne.x===0&&Ne.y===0||Ne._unit();const Ae=de.x*ve.x+de.y*ve.y,Ue=Ne.x*ve.x+Ne.y*ve.y,He=Ue!==0?1/Ue:1/0,nt=2*Math.sqrt(2-2*Ue),Tt=Ue<RZ&&ne&&ie,Ft=de.x*ve.y-de.y*ve.x>0;if(Tt&&xe>W){const yt=ee.dist(ne);if(yt>2*Y){const It=ee.sub(ee.sub(ne)._mult(Y/yt)._round());this.updateDistance(ne,It),this.addCurrentVertex(It,de,0,0,Z),ne=It}}const Ct=ne&&ie;let St=Ct?m:$?"butt":_;if(Ct&&St==="round"&&(He<P?St="miter":He<=2&&(St="fakeround")),St==="miter"&&He>C&&(St="bevel"),St==="bevel"&&(He>2&&(St="flipbevel"),He<C&&(St="miter")),ne&&this.updateDistance(ne,ee),St==="miter")Ne._mult(He),this.addCurrentVertex(ee,Ne,0,0,Z);else if(St==="flipbevel"){if(He>100)Ne=ve.mult(-1);else{const yt=He*de.add(ve).mag()/de.sub(ve).mag();Ne._perp()._mult(yt*(Ft?-1:1))}this.addCurrentVertex(ee,Ne,0,0,Z),this.addCurrentVertex(ee,Ne.mult(-1),0,0,Z)}else if(St==="bevel"||St==="fakeround"){const yt=-Math.sqrt(He*He-1),It=Ft?yt:0,bt=Ft?0:yt;if(ne&&this.addCurrentVertex(ee,de,It,bt,Z),St==="fakeround"){const ht=Math.round(180*nt/Math.PI/20);for(let Kt=1;Kt<ht;Kt++){let Ut=Kt/ht;if(Ut!==.5){const yn=Ut-.5;Ut+=Ut*yn*(Ut-1)*((1.0904+Ae*(Ae*(3.55645-1.43519*Ae)-3.2452))*yn*yn+(.848013+Ae*(.215638*Ae-1.06021)))}const yr=ve.sub(de)._mult(Ut)._add(de)._unit()._mult(Ft?-1:1);this.addHalfVertex(ee,yr.x,yr.y,!1,Ft,0,Z)}}ie&&this.addCurrentVertex(ee,ve,-It,-bt,Z)}else if(St==="butt")this.addCurrentVertex(ee,Ne,0,0,Z);else if(St==="square"){const yt=ne?1:-1;this.addCurrentVertex(ee,Ne,yt,yt,Z)}else St==="round"&&(ne&&(this.addCurrentVertex(ee,de,0,0,Z),this.addCurrentVertex(ee,de,1,1,Z,!0)),ie&&(this.addCurrentVertex(ee,ve,-1,-1,Z,!0),this.addCurrentVertex(ee,ve,0,0,Z)));if(Tt&&xe<j-1){const yt=ee.dist(ie);if(yt>2*Y){const It=ee.add(ie.sub(ee)._mult(Y/yt)._round());this.updateDistance(ee,It),this.addCurrentVertex(It,ve,0,0,Z),ee=It}}}}addCurrentVertex(l,d,m,_,C,P=!1){const $=d.y*_-d.x,j=-d.y-d.x*_;this.addHalfVertex(l,d.x+d.y*m,d.y-d.x*m,P,!1,m,C),this.addHalfVertex(l,$,j,P,!0,-_,C),this.distance>fN/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,m,_,C,P))}addHalfVertex({x:l,y:d},m,_,C,P,$,j){const W=.5*(this.lineClips?this.scaledDistance*(fN-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(C?1:0),(d<<1)+(P?1:0),Math.round(63*m)+128,Math.round(63*_)+128,1+($===0?0:$<0?-1:1)|(63&W)<<2,W>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Y=j.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Y),j.primitiveLength++),P?this.e2=Y:this.e1=Y}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let hN,pN;Pt("LineBucket",nk,{omit:["layers","patternFeatures"]});var mN={get paint(){return pN=pN||new vi({"line-opacity":new Qt(Me.paint_line["line-opacity"]),"line-color":new Qt(Me.paint_line["line-color"]),"line-translate":new qt(Me.paint_line["line-translate"]),"line-translate-anchor":new qt(Me.paint_line["line-translate-anchor"]),"line-width":new Qt(Me.paint_line["line-width"]),"line-gap-width":new Qt(Me.paint_line["line-gap-width"]),"line-offset":new Qt(Me.paint_line["line-offset"]),"line-blur":new Qt(Me.paint_line["line-blur"]),"line-dasharray":new Iy(Me.paint_line["line-dasharray"]),"line-pattern":new cp(Me.paint_line["line-pattern"]),"line-gradient":new Ry(Me.paint_line["line-gradient"])})},get layout(){return hN=hN||new vi({"line-cap":new qt(Me.layout_line["line-cap"]),"line-join":new Qt(Me.layout_line["line-join"]),"line-miter-limit":new qt(Me.layout_line["line-miter-limit"]),"line-round-limit":new qt(Me.layout_line["line-round-limit"]),"line-sort-key":new Qt(Me.layout_line["line-sort-key"])})}};class $Z extends Qt{possiblyEvaluate(l,d){return d=new Cn(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,m,_){return d=E({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,m,_)}}let ub;class DZ extends as{constructor(l){super(l,mN),this.gradientVersion=0,ub||(ub=new $Z(mN.paint.properties["line-width"].specification),ub.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){l==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof cf,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=ub.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new nk(l)}queryRadius(l){const d=l,m=gN(By("line-width",this,d),By("line-gap-width",this,d)),_=By("line-offset",this,d);return m/2+Math.abs(_)+nb(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,m,_,C,P,$){const j=ib(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),P.angle,$),W=$/2*gN(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),Y=this.paint.get("line-offset").evaluate(d,m);return Y&&(_=function(Z,ee){const ne=[];for(let ie=0;ie<Z.length;ie++){const de=Z[ie],ve=[];for(let xe=0;xe<de.length;xe++){const Ne=de[xe-1],Ae=de[xe],Ue=de[xe+1],He=xe===0?new y(0,0):Ae.sub(Ne)._unit()._perp(),nt=xe===de.length-1?new y(0,0):Ue.sub(Ae)._unit()._perp(),Tt=He._add(nt)._unit(),Ft=Tt.x*nt.x+Tt.y*nt.y;Ft!==0&&Tt._mult(1/Ft),ve.push(Tt._mult(ee)._add(Ae))}ne.push(ve)}return ne}(_,Y*$)),function(Z,ee,ne){for(let ie=0;ie<ee.length;ie++){const de=ee[ie];if(Z.length>=3){for(let ve=0;ve<de.length;ve++)if(gp(Z,de[ve]))return!0}if(FK(Z,de,ne))return!0}return!1}(j,_,W)}isTileClipped(){return!0}}function gN(u,l){return l>0?l+2*u:u}const LZ=ri([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),NZ=ri([{name:"a_projected_pos",components:3,type:"Float32"}],4);ri([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const zZ=ri([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);ri([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const yN=ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),jZ=ri([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function BZ(u,l,d){return u.sections.forEach(m=>{m.text=function(_,C,P){const $=C.layout.get("text-transform").evaluate(P,{});return $==="uppercase"?_=_.toLocaleUpperCase():$==="lowercase"&&(_=_.toLocaleLowerCase()),ha.applyArabicShaping&&(_=ha.applyArabicShaping(_)),_}(m.text,l,d)}),u}ri([{name:"triangle",components:3,type:"Uint16"}]),ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ri([{type:"Float32",name:"offsetX"}]),ri([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ri([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Ky={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var _i=24,vN=rn,_N=function(u,l,d,m,_){var C,P,$=8*_-m-1,j=(1<<$)-1,W=j>>1,Y=-7,Z=d?_-1:0,ee=d?-1:1,ne=u[l+Z];for(Z+=ee,C=ne&(1<<-Y)-1,ne>>=-Y,Y+=$;Y>0;C=256*C+u[l+Z],Z+=ee,Y-=8);for(P=C&(1<<-Y)-1,C>>=-Y,Y+=m;Y>0;P=256*P+u[l+Z],Z+=ee,Y-=8);if(C===0)C=1-W;else{if(C===j)return P?NaN:1/0*(ne?-1:1);P+=Math.pow(2,m),C-=W}return(ne?-1:1)*P*Math.pow(2,C-m)},xN=function(u,l,d,m,_,C){var P,$,j,W=8*C-_-1,Y=(1<<W)-1,Z=Y>>1,ee=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,ne=m?0:C-1,ie=m?1:-1,de=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?($=isNaN(l)?1:0,P=Y):(P=Math.floor(Math.log(l)/Math.LN2),l*(j=Math.pow(2,-P))<1&&(P--,j*=2),(l+=P+Z>=1?ee/j:ee*Math.pow(2,1-Z))*j>=2&&(P++,j/=2),P+Z>=Y?($=0,P=Y):P+Z>=1?($=(l*j-1)*Math.pow(2,_),P+=Z):($=l*Math.pow(2,Z-1)*Math.pow(2,_),P=0));_>=8;u[d+ne]=255&$,ne+=ie,$/=256,_-=8);for(P=P<<_|$,W+=_;W>0;u[d+ne]=255&P,ne+=ie,P/=256,W-=8);u[d+ne-ie]|=128*de};function rn(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}rn.Varint=0,rn.Fixed64=1,rn.Bytes=2,rn.Fixed32=5;var ik=4294967296,bN=1/ik,wN=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Oc(u){return u.type===rn.Bytes?u.readVarint()+u.pos:u.pos+1}function xp(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function SN(u,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var _=d.pos-1;_>=u;_--)d.buf[_+m]=d.buf[_]}function FZ(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function UZ(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function VZ(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function WZ(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function qZ(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function HZ(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function GZ(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function YZ(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function KZ(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function db(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function bp(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function EN(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}rn.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),_=m>>3,C=this.pos;this.type=7&m,u(_,l,this),this.pos===C&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=db(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=EN(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=db(this.buf,this.pos)+db(this.buf,this.pos+4)*ik;return this.pos+=8,u},readSFixed64:function(){var u=db(this.buf,this.pos)+EN(this.buf,this.pos+4)*ik;return this.pos+=8,u},readFloat:function(){var u=_N(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=_N(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(_,C,P){var $,j,W=P.buf;if($=(112&(j=W[P.pos++]))>>4,j<128||($|=(127&(j=W[P.pos++]))<<3,j<128)||($|=(127&(j=W[P.pos++]))<<10,j<128)||($|=(127&(j=W[P.pos++]))<<17,j<128)||($|=(127&(j=W[P.pos++]))<<24,j<128)||($|=(1&(j=W[P.pos++]))<<31,j<128))return xp(_,$,C);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&wN?function(d,m,_){return wN.decode(d.subarray(m,_))}(this.buf,l,u):function(d,m,_){for(var C="",P=m;P<_;){var $,j,W,Y=d[P],Z=null,ee=Y>239?4:Y>223?3:Y>191?2:1;if(P+ee>_)break;ee===1?Y<128&&(Z=Y):ee===2?(192&($=d[P+1]))==128&&(Z=(31&Y)<<6|63&$)<=127&&(Z=null):ee===3?(j=d[P+2],(192&($=d[P+1]))==128&&(192&j)==128&&((Z=(15&Y)<<12|(63&$)<<6|63&j)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):ee===4&&(j=d[P+2],W=d[P+3],(192&($=d[P+1]))==128&&(192&j)==128&&(192&W)==128&&((Z=(15&Y)<<18|(63&$)<<12|(63&j)<<6|63&W)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,ee=1):Z>65535&&(Z-=65536,C+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),C+=String.fromCharCode(Z),P+=ee}return C}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==rn.Bytes)return u.push(this.readVarint(l));var d=Oc(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==rn.Bytes)return u.push(this.readSVarint());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==rn.Bytes)return u.push(this.readBoolean());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==rn.Bytes)return u.push(this.readFloat());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==rn.Bytes)return u.push(this.readDouble());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==rn.Bytes)return u.push(this.readFixed32());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==rn.Bytes)return u.push(this.readSFixed32());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==rn.Bytes)return u.push(this.readFixed64());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==rn.Bytes)return u.push(this.readSFixed64());var l=Oc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===rn.Varint)for(;this.buf[this.pos++]>127;);else if(l===rn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===rn.Fixed32)this.pos+=4;else{if(l!==rn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),bp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),bp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),bp(this.buf,-1&u,this.pos),bp(this.buf,Math.floor(u*bN),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),bp(this.buf,-1&u,this.pos),bp(this.buf,Math.floor(u*bN),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var m,_;if(l>=0?(m=l%4294967296|0,_=l/4294967296|0):(_=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,_=_+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(C,P,$){$.buf[$.pos++]=127&C|128,C>>>=7,$.buf[$.pos++]=127&C|128,C>>>=7,$.buf[$.pos++]=127&C|128,C>>>=7,$.buf[$.pos++]=127&C|128,$.buf[$.pos]=127&(C>>>=7)}(m,0,d),function(C,P){var $=(7&C)<<4;P.buf[P.pos++]|=$|((C>>>=3)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C)))))}(_,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,_,C){for(var P,$,j=0;j<_.length;j++){if((P=_.charCodeAt(j))>55295&&P<57344){if(!$){P>56319||j+1===_.length?(m[C++]=239,m[C++]=191,m[C++]=189):$=P;continue}if(P<56320){m[C++]=239,m[C++]=191,m[C++]=189,$=P;continue}P=$-55296<<10|P-56320|65536,$=null}else $&&(m[C++]=239,m[C++]=191,m[C++]=189,$=null);P<128?m[C++]=P:(P<2048?m[C++]=P>>6|192:(P<65536?m[C++]=P>>12|224:(m[C++]=P>>18|240,m[C++]=P>>12&63|128),m[C++]=P>>6&63|128),m[C++]=63&P|128)}return C}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&SN(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),xN(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),xN(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var m=this.pos-d;m>=128&&SN(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,d){this.writeTag(u,rn.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,FZ,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,UZ,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,qZ,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,VZ,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,WZ,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,HZ,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,GZ,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,YZ,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,KZ,l)},writeBytesField:function(u,l){this.writeTag(u,rn.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,rn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,rn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,rn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,rn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,rn.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,rn.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,rn.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,rn.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,rn.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var ok=f(vN);const ak=3;function ZZ(u,l,d){u===1&&d.readMessage(XZ,l)}function XZ(u,l,d){if(u===3){const{id:m,bitmap:_,width:C,height:P,left:$,top:j,advance:W}=d.readMessage(JZ,{});l.push({id:m,bitmap:new Uy({width:C+2*ak,height:P+2*ak},_),metrics:{width:C,height:P,left:$,top:j,advance:W}})}}function JZ(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}const CN=ak;function kN(u){let l=0,d=0;for(const P of u)l+=P.w*P.h,d=Math.max(d,P.w);u.sort((P,$)=>$.h-P.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let _=0,C=0;for(const P of u)for(let $=m.length-1;$>=0;$--){const j=m[$];if(!(P.w>j.w||P.h>j.h)){if(P.x=j.x,P.y=j.y,C=Math.max(C,P.y+P.h),_=Math.max(_,P.x+P.w),P.w===j.w&&P.h===j.h){const W=m.pop();$<m.length&&(m[$]=W)}else P.h===j.h?(j.x+=P.w,j.w-=P.w):P.w===j.w?(j.y+=P.h,j.h-=P.h):(m.push({x:j.x+P.w,y:j.y,w:j.w-P.w,h:P.h}),j.y+=P.h,j.h-=P.h);break}}return{w:_,h:C,fill:l/(_*C)||0}}const Zo=1;class sk{constructor(l,{pixelRatio:d,version:m,stretchX:_,stretchY:C,content:P}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=_,this.stretchY=C,this.content=P,this.version=m}get tl(){return[this.paddedRect.x+Zo,this.paddedRect.y+Zo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Zo,this.paddedRect.y+this.paddedRect.h-Zo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Zo)/this.pixelRatio,(this.paddedRect.h-2*Zo)/this.pixelRatio]}}class TN{constructor(l,d){const m={},_={};this.haveRenderCallbacks=[];const C=[];this.addImages(l,m,C),this.addImages(d,_,C);const{w:P,h:$}=kN(C),j=new Ra({width:P||1,height:$||1});for(const W in l){const Y=l[W],Z=m[W].paddedRect;Ra.copy(Y.data,j,{x:0,y:0},{x:Z.x+Zo,y:Z.y+Zo},Y.data)}for(const W in d){const Y=d[W],Z=_[W].paddedRect,ee=Z.x+Zo,ne=Z.y+Zo,ie=Y.data.width,de=Y.data.height;Ra.copy(Y.data,j,{x:0,y:0},{x:ee,y:ne},Y.data),Ra.copy(Y.data,j,{x:0,y:de-1},{x:ee,y:ne-1},{width:ie,height:1}),Ra.copy(Y.data,j,{x:0,y:0},{x:ee,y:ne+de},{width:ie,height:1}),Ra.copy(Y.data,j,{x:ie-1,y:0},{x:ee-1,y:ne},{width:1,height:de}),Ra.copy(Y.data,j,{x:0,y:0},{x:ee+ie,y:ne},{width:1,height:de})}this.image=j,this.iconPositions=m,this.patternPositions=_}addImages(l,d,m){for(const _ in l){const C=l[_],P={x:0,y:0,w:C.data.width+2*Zo,h:C.data.height+2*Zo};m.push(P),d[_]=new sk(P,C),C.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),d)}patchUpdatedImage(l,d,m){if(!l||!d||l.version===d.version)return;l.version=d.version;const[_,C]=l.tl;m.update(d.data,void 0,{x:_,y:C})}}var Fu;Pt("ImagePosition",sk),Pt("ImageAtlas",TN),a.WritingMode=void 0,(Fu=a.WritingMode||(a.WritingMode={}))[Fu.none=0]="none",Fu[Fu.horizontal=1]="horizontal",Fu[Fu.vertical=2]="vertical",Fu[Fu.horizontalOnly=3]="horizontalOnly";const Zy=-17;class Xy{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const m=new Xy;return m.scale=l||1,m.fontStack=d,m}static forImage(l){const d=new Xy;return d.imageName=l,d}}class wp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const m=new wp;for(let _=0;_<l.sections.length;_++){const C=l.sections[_];C.image?m.addImageSection(C):m.addTextSection(C,d)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let m=0;m<l.length;m++){const _=l.charCodeAt(m+1)||null,C=l.charCodeAt(m-1)||null;d+=_&&Ey(_)&&!Ky[l[m+1]]||C&&Ey(C)&&!Ky[l[m-1]]||!Ky[l[m]]?l[m]:Ky[l[m]]}return d}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&hb[this.text.charCodeAt(m)];m++)l++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&hb[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const m=new wp;return m.text=this.text.substring(l,d),m.sectionIndex=this.sectionIndex.slice(l,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(Xy.forText(l.scale,l.fontStack||d));const m=this.sections.length-1;for(let _=0;_<l.text.length;++_)this.sectionIndex.push(m)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void J("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Xy.forImage(d)),this.sectionIndex.push(this.sections.length-1)):J("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function fb(u,l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de){const ve=wp.fromFeature(u,_);let xe;Z===a.WritingMode.vertical&&ve.verticalizePunctuation();const{processBidirectionalText:Ne,processStyledBidirectionalText:Ae}=ha;if(Ne&&ve.sections.length===1){xe=[];const nt=Ne(ve.toString(),lk(ve,W,C,l,m,ne,ie));for(const Tt of nt){const Ft=new wp;Ft.text=Tt,Ft.sections=ve.sections;for(let Ct=0;Ct<Tt.length;Ct++)Ft.sectionIndex.push(0);xe.push(Ft)}}else if(Ae){xe=[];const nt=Ae(ve.text,ve.sectionIndex,lk(ve,W,C,l,m,ne,ie));for(const Tt of nt){const Ft=new wp;Ft.text=Tt[0],Ft.sectionIndex=Tt[1],Ft.sections=ve.sections,xe.push(Ft)}}else xe=function(nt,Tt){const Ft=[],Ct=nt.text;let St=0;for(const yt of Tt)Ft.push(nt.substring(St,yt)),St=yt;return St<Ct.length&&Ft.push(nt.substring(St,Ct.length)),Ft}(ve,lk(ve,W,C,l,m,ne,ie));const Ue=[],He={positionedLines:Ue,text:ve.toString(),top:Y[1],bottom:Y[1],left:Y[0],right:Y[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(nt,Tt,Ft,Ct,St,yt,It,bt,ht,Kt,Ut,yr){let yn=0,kn=Zy,xi=0,pa=0;const Eo=bt==="right"?1:bt==="left"?0:.5;let di=0;for(const fi of St){fi.trim();const bi=fi.getMaxScale(),oo=(bi-1)*_i,ko={positionedGlyphs:[],lineOffset:0};nt.positionedLines[di]=ko;const Jo=ko.positionedGlyphs;let Qo=0;if(!fi.length()){kn+=yt,++di;continue}for(let Yi=0;Yi<fi.length();Yi++){const Cr=fi.getSection(Yi),ma=fi.getSectionIndex(Yi),Ki=fi.getCharCode(Yi);let To=0,ss=null,Ys=null,Ks=null,Ic=_i;const ls=!(ht===a.WritingMode.horizontal||!Ut&&!Ru(Ki)||Ut&&(hb[Ki]||(Ai=Ki,kt.Arabic(Ai)||kt["Arabic Supplement"](Ai)||kt["Arabic Extended-A"](Ai)||kt["Arabic Presentation Forms-A"](Ai)||kt["Arabic Presentation Forms-B"](Ai))));if(Cr.imageName){const Da=Ct[Cr.imageName];if(!Da)continue;Ks=Cr.imageName,nt.iconsInText=nt.iconsInText||!0,Ys=Da.paddedRect;const ea=Da.displaySize;Cr.scale=Cr.scale*_i/yr,ss={width:ea[0],height:ea[1],left:Zo,top:-CN,advance:ls?ea[1]:ea[0]},To=oo+(_i-ea[1]*Cr.scale),Ic=ss.advance;const Rc=ls?ea[0]*Cr.scale-_i*bi:ea[1]*Cr.scale-_i*bi;Rc>0&&Rc>Qo&&(Qo=Rc)}else{const Da=Ft[Cr.fontStack],ea=Da&&Da[Ki];if(ea&&ea.rect)Ys=ea.rect,ss=ea.metrics;else{const Rc=Tt[Cr.fontStack],rv=Rc&&Rc[Ki];if(!rv)continue;ss=rv.metrics}To=(bi-Cr.scale)*_i}ls?(nt.verticalizable=!0,Jo.push({glyph:Ki,imageName:Ks,x:yn,y:kn+To,vertical:ls,scale:Cr.scale,fontStack:Cr.fontStack,sectionIndex:ma,metrics:ss,rect:Ys}),yn+=Ic*Cr.scale+Kt):(Jo.push({glyph:Ki,imageName:Ks,x:yn,y:kn+To,vertical:ls,scale:Cr.scale,fontStack:Cr.fontStack,sectionIndex:ma,metrics:ss,rect:Ys}),yn+=ss.advance*Cr.scale+Kt)}Jo.length!==0&&(xi=Math.max(yn-Kt,xi),tX(Jo,0,Jo.length-1,Eo,Qo)),yn=0;const Wn=yt*bi+Qo;ko.lineOffset=Math.max(Qo,oo),kn+=Wn,pa=Math.max(Wn,pa),++di}var Ai;const Gi=kn-Zy,{horizontalAlign:Xo,verticalAlign:Co}=ck(It);(function(fi,bi,oo,ko,Jo,Qo,Wn,Yi,Cr){const ma=(bi-oo)*Jo;let Ki=0;Ki=Qo!==Wn?-Yi*ko-Zy:(-ko*Cr+.5)*Wn;for(const To of fi)for(const ss of To.positionedGlyphs)ss.x+=ma,ss.y+=Ki})(nt.positionedLines,Eo,Xo,Co,xi,pa,yt,Gi,St.length),nt.top+=-Co*Gi,nt.bottom=nt.top+Gi,nt.left+=-Xo*xi,nt.right=nt.left+xi}(He,l,d,m,xe,P,$,j,Z,W,ee,de),!function(nt){for(const Tt of nt)if(Tt.positionedGlyphs.length!==0)return!1;return!0}(Ue)&&He}const hb={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},QZ={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function PN(u,l,d,m,_,C){if(l.imageName){const P=m[l.imageName];return P?P.displaySize[0]*l.scale*_i/C+_:0}{const P=d[l.fontStack],$=P&&P[u];return $?$.metrics.advance*l.scale+_:0}}function AN(u,l,d,m){const _=Math.pow(u-l,2);return m?u<l?_/2:2*_:_+Math.abs(d)*d}function eX(u,l,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function MN(u,l,d,m,_,C){let P=null,$=AN(l,d,_,C);for(const j of m){const W=AN(l-j.x,d,_,C)+j.badness;W<=$&&(P=j,$=W)}return{index:u,x:l,priorBreak:P,badness:$}}function ON(u){return u?ON(u.priorBreak).concat(u.index):[]}function lk(u,l,d,m,_,C,P){if(C!=="point")return[];if(!u)return[];const $=[],j=function(ee,ne,ie,de,ve,xe){let Ne=0;for(let Ae=0;Ae<ee.length();Ae++){const Ue=ee.getSection(Ae);Ne+=PN(ee.getCharCode(Ae),Ue,de,ve,ne,xe)}return Ne/Math.max(1,Math.ceil(Ne/ie))}(u,l,d,m,_,P),W=u.text.indexOf("")>=0;let Y=0;for(let ee=0;ee<u.length();ee++){const ne=u.getSection(ee),ie=u.getCharCode(ee);if(hb[ie]||(Y+=PN(ie,ne,m,_,l,P)),ee<u.length()-1){const de=!((Z=ie)<11904||!(kt["Bopomofo Extended"](Z)||kt.Bopomofo(Z)||kt["CJK Compatibility Forms"](Z)||kt["CJK Compatibility Ideographs"](Z)||kt["CJK Compatibility"](Z)||kt["CJK Radicals Supplement"](Z)||kt["CJK Strokes"](Z)||kt["CJK Symbols and Punctuation"](Z)||kt["CJK Unified Ideographs Extension A"](Z)||kt["CJK Unified Ideographs"](Z)||kt["Enclosed CJK Letters and Months"](Z)||kt["Halfwidth and Fullwidth Forms"](Z)||kt.Hiragana(Z)||kt["Ideographic Description Characters"](Z)||kt["Kangxi Radicals"](Z)||kt["Katakana Phonetic Extensions"](Z)||kt.Katakana(Z)||kt["Vertical Forms"](Z)||kt["Yi Radicals"](Z)||kt["Yi Syllables"](Z)));(QZ[ie]||de||ne.imageName)&&$.push(MN(ee+1,Y,j,$,eX(ie,u.getCharCode(ee+1),de&&W),!1))}}var Z;return ON(MN(u.length(),Y,j,$,0,!0))}function ck(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function tX(u,l,d,m,_){if(!m&&!_)return;const C=u[d],P=(u[d].x+C.metrics.advance*C.scale)*m;for(let $=l;$<=d;$++)u[$].x-=P,u[$].y+=_}function rX(u,l,d){const{horizontalAlign:m,verticalAlign:_}=ck(d),C=l[0]-u.displaySize[0]*m,P=l[1]-u.displaySize[1]*_;return{image:u,top:P,bottom:P+u.displaySize[1],left:C,right:C+u.displaySize[0]}}function IN(u,l,d,m,_,C){const P=u.image;let $;if(P.content){const ve=P.content,xe=P.pixelRatio||1;$=[ve[0]/xe,ve[1]/xe,P.displaySize[0]-ve[2]/xe,P.displaySize[1]-ve[3]/xe]}const j=l.left*C,W=l.right*C;let Y,Z,ee,ne;d==="width"||d==="both"?(ne=_[0]+j-m[3],Z=_[0]+W+m[1]):(ne=_[0]+(j+W-P.displaySize[0])/2,Z=ne+P.displaySize[0]);const ie=l.top*C,de=l.bottom*C;return d==="height"||d==="both"?(Y=_[1]+ie-m[0],ee=_[1]+de+m[2]):(Y=_[1]+(ie+de-P.displaySize[1])/2,ee=Y+P.displaySize[1]),{image:P,top:Y,right:Z,bottom:ee,left:ne,collisionPadding:$}}const Jy=255,Dl=128,Uu=Jy*Dl;function RN(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new Cn(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:_}=d;let C=0;for(;C<m.length&&m[C]<=u;)C++;C=Math.max(0,C-1);let P=C;for(;P<m.length&&m[P]<u+1;)P++;P=Math.min(m.length-1,P);const $=m[C],j=m[P];return d.kind==="composite"?{kind:"composite",minZoom:$,maxZoom:j,interpolationType:_}:{kind:"camera",minZoom:$,maxZoom:j,minSize:d.evaluate(new Cn($)),maxSize:d.evaluate(new Cn(j)),interpolationType:_}}}function uk(u,l,d){let m="never";const _=u.get(l);return _?m=_:u.get(d)&&(m="always"),m}const nX=Bu.VectorTileFeature.types,iX=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pb(u,l,d,m,_,C,P,$,j,W,Y,Z,ee){const ne=$?Math.min(Uu,Math.round($[0])):0,ie=$?Math.min(Uu,Math.round($[1])):0;u.emplaceBack(l,d,Math.round(32*m),Math.round(32*_),C,P,(ne<<1)+(j?1:0),ie,16*W,16*Y,256*Z,256*ee)}function dk(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function oX(u){for(const l of u.sections)if(jC(l.text))return!0;return!1}class fk{constructor(l){this.layoutVertexArray=new pt,this.indexArray=new Dt,this.programConfigurations=l,this.segments=new rr,this.dynamicLayoutVertexArray=new Bt,this.opacityVertexArray=new xr,this.hasVisibleVertices=!1,this.placedSymbolArray=new G}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,m,_){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,LZ.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,NZ.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,iX,!0),this.opacityVertexBuffer.itemSize=1),(m||_)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Pt("SymbolBuffers",fk);class hk{constructor(l,d,m){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new m,this.segments=new rr,this.collisionVertexArray=new er}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,zZ.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Pt("CollisionBuffers",hk);class Sp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(P=>P.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=WC([]),this.placementViewportMatrix=WC([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=RN(this.zoom,d["text-size"]),this.iconSizeData=RN(this.zoom,d["icon-size"]);const m=this.layers[0].layout,_=m.get("symbol-sort-key"),C=m.get("symbol-z-order");this.canOverlap=uk(m,"text-overlap","text-allow-overlap")!=="never"||uk(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=C!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(C==="viewport-y"||C==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(P=>a.WritingMode[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=l.sourceID}createArrays(){this.text=new fk(new Mc(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new fk(new Mc(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new ue,this.lineVertexArray=new ce,this.symbolInstances=new re,this.textAnchorOffsets=new le}calculateGlyphDependencies(l,d,m,_,C){for(let P=0;P<l.length;P++)if(d[l.charCodeAt(P)]=!0,(m||_)&&C){const $=Ky[l.charAt(P)];$&&(d[$.charCodeAt(0)]=!0)}}populate(l,d,m){const _=this.layers[0],C=_.layout,P=C.get("text-font"),$=C.get("text-field"),j=C.get("icon-image"),W=($.value.kind!=="constant"||$.value.value instanceof Xn&&!$.value.value.isEmpty()||$.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),Y=j.value.kind!=="constant"||!!j.value.value||Object.keys(j.parameters).length>0,Z=C.get("symbol-sort-key");if(this.features=[],!W&&!Y)return;const ee=d.iconDependencies,ne=d.glyphDependencies,ie=d.availableImages,de=new Cn(this.zoom);for(const{feature:ve,id:xe,index:Ne,sourceLayerIndex:Ae}of l){const Ue=_._featureFilter.needGeometry,He=Gs(ve,Ue);if(!_._featureFilter.filter(de,He,m))continue;let nt,Tt;if(Ue||(He.geometry=$l(ve)),W){const Ct=_.getValueAndResolveTokens("text-field",He,m,ie),St=Xn.factory(Ct);oX(St)&&(this.hasRTLText=!0),(!this.hasRTLText||My()==="unavailable"||this.hasRTLText&&ha.isParsed())&&(nt=BZ(St,_,He))}if(Y){const Ct=_.getValueAndResolveTokens("icon-image",He,m,ie);Tt=Ct instanceof ua?Ct:ua.fromString(Ct)}if(!nt&&!Tt)continue;const Ft=this.sortFeaturesByKey?Z.evaluate(He,{},m):void 0;if(this.features.push({id:xe,text:nt,icon:Tt,index:Ne,sourceLayerIndex:Ae,geometry:He.geometry,properties:ve.properties,type:nX[ve.type],sortKey:Ft}),Tt&&(ee[Tt.name]=!0),nt){const Ct=P.evaluate(He,{},m).join(","),St=C.get("text-rotation-alignment")!=="viewport"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const yt of nt.sections)if(yt.image)ee[yt.image.name]=!0;else{const It=ap(nt.toString()),bt=yt.fontStack||Ct,ht=ne[bt]=ne[bt]||{};this.calculateGlyphDependencies(yt.text,ht,St,this.allowVerticalPlacement,It)}}}C.get("symbol-placement")==="line"&&(this.features=function(ve){const xe={},Ne={},Ae=[];let Ue=0;function He(Ct){Ae.push(ve[Ct]),Ue++}function nt(Ct,St,yt){const It=Ne[Ct];return delete Ne[Ct],Ne[St]=It,Ae[It].geometry[0].pop(),Ae[It].geometry[0]=Ae[It].geometry[0].concat(yt[0]),It}function Tt(Ct,St,yt){const It=xe[St];return delete xe[St],xe[Ct]=It,Ae[It].geometry[0].shift(),Ae[It].geometry[0]=yt[0].concat(Ae[It].geometry[0]),It}function Ft(Ct,St,yt){const It=yt?St[0][St[0].length-1]:St[0][0];return`${Ct}:${It.x}:${It.y}`}for(let Ct=0;Ct<ve.length;Ct++){const St=ve[Ct],yt=St.geometry,It=St.text?St.text.toString():null;if(!It){He(Ct);continue}const bt=Ft(It,yt),ht=Ft(It,yt,!0);if(bt in Ne&&ht in xe&&Ne[bt]!==xe[ht]){const Kt=Tt(bt,ht,yt),Ut=nt(bt,ht,Ae[Kt].geometry);delete xe[bt],delete Ne[ht],Ne[Ft(It,Ae[Ut].geometry,!0)]=Ut,Ae[Kt].geometry=null}else bt in Ne?nt(bt,ht,yt):ht in xe?Tt(bt,ht,yt):(He(Ct),xe[bt]=Ue-1,Ne[ht]=Ue-1)}return Ae.filter(Ct=>Ct.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ve,xe)=>ve.sortKey-xe.sortKey)}update(l,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const m=this.lineVertexArray.length;if(l.segment!==void 0){let _=l.dist(d[l.segment+1]),C=l.dist(d[l.segment]);const P={};for(let $=l.segment+1;$<d.length;$++)P[$]={x:d[$].x,y:d[$].y,tileUnitDistanceFromAnchor:_},$<d.length-1&&(_+=d[$+1].dist(d[$]));for(let $=l.segment||0;$>=0;$--)P[$]={x:d[$].x,y:d[$].y,tileUnitDistanceFromAnchor:C},$>0&&(C+=d[$-1].dist(d[$]));for(let $=0;$<d.length;$++){const j=P[$];this.lineVertexArray.emplaceBack(j.x,j.y,j.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,d,m,_,C,P,$,j,W,Y,Z,ee){const ne=l.indexArray,ie=l.layoutVertexArray,de=l.segments.prepareSegment(4*d.length,ie,ne,this.canOverlap?P.sortKey:void 0),ve=this.glyphOffsetArray.length,xe=de.vertexLength,Ne=this.allowVerticalPlacement&&$===a.WritingMode.vertical?Math.PI/2:0,Ae=P.text&&P.text.sections;for(let Ue=0;Ue<d.length;Ue++){const{tl:He,tr:nt,bl:Tt,br:Ft,tex:Ct,pixelOffsetTL:St,pixelOffsetBR:yt,minFontScaleX:It,minFontScaleY:bt,glyphOffset:ht,isSDF:Kt,sectionIndex:Ut}=d[Ue],yr=de.vertexLength,yn=ht[1];pb(ie,j.x,j.y,He.x,yn+He.y,Ct.x,Ct.y,m,Kt,St.x,St.y,It,bt),pb(ie,j.x,j.y,nt.x,yn+nt.y,Ct.x+Ct.w,Ct.y,m,Kt,yt.x,St.y,It,bt),pb(ie,j.x,j.y,Tt.x,yn+Tt.y,Ct.x,Ct.y+Ct.h,m,Kt,St.x,yt.y,It,bt),pb(ie,j.x,j.y,Ft.x,yn+Ft.y,Ct.x+Ct.w,Ct.y+Ct.h,m,Kt,yt.x,yt.y,It,bt),dk(l.dynamicLayoutVertexArray,j,Ne),ne.emplaceBack(yr,yr+1,yr+2),ne.emplaceBack(yr+1,yr+2,yr+3),de.vertexLength+=4,de.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ht[0]),Ue!==d.length-1&&Ut===d[Ue+1].sectionIndex||l.programConfigurations.populatePaintArrays(ie.length,P,P.index,{},ee,Ae&&Ae[Ut])}l.placedSymbolArray.emplaceBack(j.x,j.y,ve,this.glyphOffsetArray.length-ve,xe,W,Y,j.segment,m?m[0]:0,m?m[1]:0,_[0],_[1],$,0,!1,0,Z)}_addCollisionDebugVertex(l,d,m,_,C,P){return d.emplaceBack(0,0),l.emplaceBack(m.x,m.y,_,C,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(l,d,m,_,C,P,$){const j=C.segments.prepareSegment(4,C.layoutVertexArray,C.indexArray),W=j.vertexLength,Y=C.layoutVertexArray,Z=C.collisionVertexArray,ee=$.anchorX,ne=$.anchorY;this._addCollisionDebugVertex(Y,Z,P,ee,ne,new y(l,d)),this._addCollisionDebugVertex(Y,Z,P,ee,ne,new y(m,d)),this._addCollisionDebugVertex(Y,Z,P,ee,ne,new y(m,_)),this._addCollisionDebugVertex(Y,Z,P,ee,ne,new y(l,_)),j.vertexLength+=4;const ie=C.indexArray;ie.emplaceBack(W,W+1),ie.emplaceBack(W+1,W+2),ie.emplaceBack(W+2,W+3),ie.emplaceBack(W+3,W),j.primitiveLength+=4}addDebugCollisionBoxes(l,d,m,_){for(let C=l;C<d;C++){const P=this.collisionBoxArray.get(C);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,_?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hk(wt,yN.members,dn),this.iconCollisionBox=new hk(wt,yN.members,dn);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,m,_,C,P,$,j,W){const Y={};for(let Z=d;Z<m;Z++){const ee=l.get(Z);Y.textBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},Y.textFeatureIndex=ee.featureIndex;break}for(let Z=_;Z<C;Z++){const ee=l.get(Z);Y.verticalTextBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},Y.verticalTextFeatureIndex=ee.featureIndex;break}for(let Z=P;Z<$;Z++){const ee=l.get(Z);Y.iconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},Y.iconFeatureIndex=ee.featureIndex;break}for(let Z=j;Z<W;Z++){const ee=l.get(Z);Y.verticalIconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},Y.verticalIconFeatureIndex=ee.featureIndex;break}return Y}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const m=l.placedSymbolArray.get(d),_=m.vertexStartIndex+4*m.numGlyphs;for(let C=m.vertexStartIndex;C<_;C+=4)l.indexArray.emplaceBack(C,C+1,C+2),l.indexArray.emplaceBack(C+1,C+2,C+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),m=Math.cos(l),_=[],C=[],P=[];for(let $=0;$<this.symbolInstances.length;++$){P.push($);const j=this.symbolInstances.get($);_.push(0|Math.round(d*j.anchorX+m*j.anchorY)),C.push(j.featureIndex)}return P.sort(($,j)=>_[$]-_[j]||C[j]-C[$]),P}addToSortKeyRanges(l,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((_,C,P)=>{_>=0&&P.indexOf(_)===C&&this.addIndicesForPlacedSymbol(this.text,_)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let $N,DN;Pt("SymbolBucket",Sp,{omit:["layers","collisionBoxArray","features","compareText"]}),Sp.MAX_GLYPHS=65535,Sp.addDynamicAttributes=dk;var pk={get paint(){return DN=DN||new vi({"icon-opacity":new Qt(Me.paint_symbol["icon-opacity"]),"icon-color":new Qt(Me.paint_symbol["icon-color"]),"icon-halo-color":new Qt(Me.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qt(Me.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qt(Me.paint_symbol["icon-halo-blur"]),"icon-translate":new qt(Me.paint_symbol["icon-translate"]),"icon-translate-anchor":new qt(Me.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qt(Me.paint_symbol["text-opacity"]),"text-color":new Qt(Me.paint_symbol["text-color"],{runtimeType:tn,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Qt(Me.paint_symbol["text-halo-color"]),"text-halo-width":new Qt(Me.paint_symbol["text-halo-width"]),"text-halo-blur":new Qt(Me.paint_symbol["text-halo-blur"]),"text-translate":new qt(Me.paint_symbol["text-translate"]),"text-translate-anchor":new qt(Me.paint_symbol["text-translate-anchor"])})},get layout(){return $N=$N||new vi({"symbol-placement":new qt(Me.layout_symbol["symbol-placement"]),"symbol-spacing":new qt(Me.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qt(Me.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qt(Me.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qt(Me.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qt(Me.layout_symbol["icon-allow-overlap"]),"icon-overlap":new qt(Me.layout_symbol["icon-overlap"]),"icon-ignore-placement":new qt(Me.layout_symbol["icon-ignore-placement"]),"icon-optional":new qt(Me.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qt(Me.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qt(Me.layout_symbol["icon-size"]),"icon-text-fit":new qt(Me.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qt(Me.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qt(Me.layout_symbol["icon-image"]),"icon-rotate":new Qt(Me.layout_symbol["icon-rotate"]),"icon-padding":new Qt(Me.layout_symbol["icon-padding"]),"icon-keep-upright":new qt(Me.layout_symbol["icon-keep-upright"]),"icon-offset":new Qt(Me.layout_symbol["icon-offset"]),"icon-anchor":new Qt(Me.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qt(Me.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qt(Me.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qt(Me.layout_symbol["text-rotation-alignment"]),"text-field":new Qt(Me.layout_symbol["text-field"]),"text-font":new Qt(Me.layout_symbol["text-font"]),"text-size":new Qt(Me.layout_symbol["text-size"]),"text-max-width":new Qt(Me.layout_symbol["text-max-width"]),"text-line-height":new qt(Me.layout_symbol["text-line-height"]),"text-letter-spacing":new Qt(Me.layout_symbol["text-letter-spacing"]),"text-justify":new Qt(Me.layout_symbol["text-justify"]),"text-radial-offset":new Qt(Me.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qt(Me.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Qt(Me.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Qt(Me.layout_symbol["text-anchor"]),"text-max-angle":new qt(Me.layout_symbol["text-max-angle"]),"text-writing-mode":new qt(Me.layout_symbol["text-writing-mode"]),"text-rotate":new Qt(Me.layout_symbol["text-rotate"]),"text-padding":new qt(Me.layout_symbol["text-padding"]),"text-keep-upright":new qt(Me.layout_symbol["text-keep-upright"]),"text-transform":new Qt(Me.layout_symbol["text-transform"]),"text-offset":new Qt(Me.layout_symbol["text-offset"]),"text-allow-overlap":new qt(Me.layout_symbol["text-allow-overlap"]),"text-overlap":new qt(Me.layout_symbol["text-overlap"]),"text-ignore-placement":new qt(Me.layout_symbol["text-ignore-placement"]),"text-optional":new qt(Me.layout_symbol["text-optional"])})}};class LN{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Jt,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Pt("FormatSectionOverride",LN,{omit:["defaultValue"]});class mb extends as{constructor(l){super(l,pk)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const _=[];for(const C of m)_.indexOf(C)<0&&_.push(C);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,m,_){const C=this.layout.get(l).evaluate(d,{},m,_),P=this._unevaluatedLayout._values[l];return P.isDataDriven()||Zh(P.value)||!C?C:function($,j){return j.replace(/{([^{}]+)}/g,(W,Y)=>Y in $?String($[Y]):"")}(d.properties,C)}createBucket(l){return new Sp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of pk.paint.overridableProperties){if(!mb.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),m=new LN(d),_=new In(m,d.property.specification);let C=null;C=d.value.kind==="constant"||d.value.kind==="source"?new uf("source",_):new mn("composite",_,d.value.zoomStops),this.paint._values[l]=new Ma(d.property,C,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&mb.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const m=l.get("text-field"),_=pk.paint.properties[d];let C=!1;const P=$=>{for(const j of $)if(_.overrides&&_.overrides.hasOverride(j))return void(C=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Xn)P(m.value.value.sections);else if(m.value.kind==="source"){const $=W=>{C||(W instanceof gc&&Jn(W.value)===Wo?P(W.value.sections):W instanceof Yh?P(W.sections):W.eachChild($))},j=m.value;j._styleExpression&&$(j._styleExpression.expression)}return C}}let NN;var aX={get paint(){return NN=NN||new vi({"background-color":new qt(Me.paint_background["background-color"]),"background-pattern":new Iy(Me.paint_background["background-pattern"]),"background-opacity":new qt(Me.paint_background["background-opacity"])})}};class sX extends as{constructor(l){super(l,aX)}}let zN;var lX={get paint(){return zN=zN||new vi({"raster-opacity":new qt(Me.paint_raster["raster-opacity"]),"raster-hue-rotate":new qt(Me.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qt(Me.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qt(Me.paint_raster["raster-brightness-max"]),"raster-saturation":new qt(Me.paint_raster["raster-saturation"]),"raster-contrast":new qt(Me.paint_raster["raster-contrast"]),"raster-resampling":new qt(Me.paint_raster["raster-resampling"]),"raster-fade-duration":new qt(Me.paint_raster["raster-fade-duration"])})}};class cX extends as{constructor(l){super(l,lX)}}class uX extends as{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class dX{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const mk=63710088e-1;class Vu{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Vu(I(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,m=this.lat*d,_=l.lat*d,C=Math.sin(m)*Math.sin(_)+Math.cos(m)*Math.cos(_)*Math.cos((l.lng-this.lng)*d);return mk*Math.acos(Math.min(C,1))}static convert(l){if(l instanceof Vu)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Vu(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Vu(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const jN=2*Math.PI*mk;function BN(u){return jN*Math.cos(u*Math.PI/180)}function FN(u){return(180+u)/360}function UN(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function VN(u,l){return u/BN(l)}function gk(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class gb{constructor(l,d,m=0){this.x=+l,this.y=+d,this.z=+m}static fromLngLat(l,d=0){const m=Vu.convert(l);return new gb(FN(m.lng),UN(m.lat),VN(d,m.lat))}toLngLat(){return new Vu(360*this.x-180,gk(this.y))}toAltitude(){return this.z*BN(gk(this.y))}meterInMercatorCoordinateUnits(){return 1/jN*(l=gk(this.y),1/Math.cos(l*Math.PI/180));var l}}function WN(u,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class yk{constructor(l,d,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=m,this.key=Qy(0,l,l,d,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,m){const _=(P=this.y,$=this.z,j=WN(256*(C=this.x),256*(P=Math.pow(2,$)-P-1),$),W=WN(256*(C+1),256*(P+1),$),j[0]+","+j[1]+","+W[0]+","+W[1]);var C,P,$,j,W;const Y=function(Z,ee,ne){let ie,de="";for(let ve=Z;ve>0;ve--)ie=1<<ve-1,de+=(ee&ie?1:0)+(ne&ie?2:0);return de}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,Y).replace(/{bbox-epsg-3857}/g,_)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new y((l.x*d-this.x)*Dn,(l.y*d-this.y)*Dn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class qN{constructor(l,d){this.wrap=l,this.canonical=d,this.key=Qy(l,d.z,d.z,d.x,d.y)}}class $a{constructor(l,d,m,_,C){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=d,this.canonical=new yk(m,+_,+C),this.key=Qy(d,l,m,_,C)}clone(){return new $a(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new $a(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new $a(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Qy(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):Qy(this.wrap*+d,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new $a(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,_=2*this.canonical.y;return[new $a(d,this.wrap,d,m,_),new $a(d,this.wrap,d,m+1,_),new $a(d,this.wrap,d,m,_+1),new $a(d,this.wrap,d,m+1,_+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new $a(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new $a(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new qN(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new gb(l.x-this.wrap,l.y))}}function Qy(u,l,d,m,_){(u*=2)<0&&(u=-1*u-1);const C=1<<d;return(C*C*u+C*_+m).toString(36)+d.toString(36)+l.toString(36)}Pt("CanonicalTileID",yk),Pt("OverscaledTileID",$a,{omit:["posMatrix"]});class HN{constructor(l,d,m){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&m!=="mapbox"&&m!=="terrarium")return void J(`"${m}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=d.height;const _=this.dim=d.height-2;this.data=new Uint32Array(d.data.buffer),this.encoding=m||"mapbox";for(let C=0;C<_;C++)this.data[this._idx(-1,C)]=this.data[this._idx(0,C)],this.data[this._idx(_,C)]=this.data[this._idx(_-1,C)],this.data[this._idx(C,-1)]=this.data[this._idx(C,0)],this.data[this._idx(C,_)]=this.data[this._idx(C,_-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(_,-1)]=this.data[this._idx(_-1,0)],this.data[this._idx(-1,_)]=this.data[this._idx(0,_-1)],this.data[this._idx(_,_)]=this.data[this._idx(_-1,_-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let C=0;C<_;C++)for(let P=0;P<_;P++){const $=this.get(C,P);$>this.max&&(this.max=$),$<this.min&&(this.min=$)}}get(l,d){const m=new Uint8Array(this.data.buffer),_=4*this._idx(l,d);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(m[_],m[_+1],m[_+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}_unpackMapbox(l,d,m){return(256*l*256+256*d+m)/10-1e4}_unpackTerrarium(l,d,m){return 256*l+d+m/256-32768}getPixels(){return new Ra({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let _=d*this.dim,C=d*this.dim+this.dim,P=m*this.dim,$=m*this.dim+this.dim;switch(d){case-1:_=C-1;break;case 1:C=_+1}switch(m){case-1:P=$-1;break;case 1:$=P+1}const j=-d*this.dim,W=-m*this.dim;for(let Y=P;Y<$;Y++)for(let Z=_;Z<C;Z++)this.data[this._idx(Z,Y)]=l.data[this._idx(Z+j,Y+W)]}}Pt("DEMData",HN);class GN{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const m=l[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class YN{constructor(l,d,m,_,C){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=m,l._y=_,this.properties=l.properties,this.id=C}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class KN{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ec(Dn,16,0),this.grid3D=new Ec(Dn,16,0),this.featureIndexArray=new We,this.promoteId=d}insert(l,d,m,_,C,P){const $=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,_,C);const j=P?this.grid3D:this.grid;for(let W=0;W<d.length;W++){const Y=d[W],Z=[1/0,1/0,-1/0,-1/0];for(let ee=0;ee<Y.length;ee++){const ne=Y[ee];Z[0]=Math.min(Z[0],ne.x),Z[1]=Math.min(Z[1],ne.y),Z[2]=Math.max(Z[2],ne.x),Z[3]=Math.max(Z[3],ne.y)}Z[0]<Dn&&Z[1]<Dn&&Z[2]>=0&&Z[3]>=0&&j.insert($,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Bu.VectorTile(new ok(this.rawTileData)).layers,this.sourceLayerCoder=new GN(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,m,_){this.loadVTLayers();const C=l.params||{},P=Dn/l.tileSize/l.scale,$=gy(C.filter),j=l.queryGeometry,W=l.queryPadding*P,Y=XN(j),Z=this.grid.query(Y.minX-W,Y.minY-W,Y.maxX+W,Y.maxY+W),ee=XN(l.cameraQueryGeometry),ne=this.grid3D.query(ee.minX-W,ee.minY-W,ee.maxX+W,ee.maxY+W,(ve,xe,Ne,Ae)=>function(Ue,He,nt,Tt,Ft){for(const St of Ue)if(He<=St.x&&nt<=St.y&&Tt>=St.x&&Ft>=St.y)return!0;const Ct=[new y(He,nt),new y(He,Ft),new y(Tt,Ft),new y(Tt,nt)];if(Ue.length>2){for(const St of Ct)if(gp(Ue,St))return!0}for(let St=0;St<Ue.length-1;St++)if(VK(Ue[St],Ue[St+1],Ct))return!0;return!1}(l.cameraQueryGeometry,ve-W,xe-W,Ne+W,Ae+W));for(const ve of ne)Z.push(ve);Z.sort(fX);const ie={};let de;for(let ve=0;ve<Z.length;ve++){const xe=Z[ve];if(xe===de)continue;de=xe;const Ne=this.featureIndexArray.get(xe);let Ae=null;this.loadMatchingFeature(ie,Ne.bucketIndex,Ne.sourceLayerIndex,Ne.featureIndex,$,C.layers,C.availableImages,d,m,_,(Ue,He,nt)=>(Ae||(Ae=$l(Ue)),He.queryIntersectsFeature(j,Ue,nt,Ae,this.z,l.transform,P,l.pixelPosMatrix)))}return ie}loadMatchingFeature(l,d,m,_,C,P,$,j,W,Y,Z){const ee=this.bucketLayerIDs[d];if(P&&!function(ve,xe){for(let Ne=0;Ne<ve.length;Ne++)if(xe.indexOf(ve[Ne])>=0)return!0;return!1}(P,ee))return;const ne=this.sourceLayerCoder.decode(m),ie=this.vtLayers[ne].feature(_);if(C.needGeometry){const ve=Gs(ie,!0);if(!C.filter(new Cn(this.tileID.overscaledZ),ve,this.tileID.canonical))return}else if(!C.filter(new Cn(this.tileID.overscaledZ),ie))return;const de=this.getId(ie,ne);for(let ve=0;ve<ee.length;ve++){const xe=ee[ve];if(P&&P.indexOf(xe)<0)continue;const Ne=j[xe];if(!Ne)continue;let Ae={};de&&Y&&(Ae=Y.getState(Ne.sourceLayer||"_geojsonTileLayer",de));const Ue=E({},W[xe]);Ue.paint=ZN(Ue.paint,Ne.paint,ie,Ae,$),Ue.layout=ZN(Ue.layout,Ne.layout,ie,Ae,$);const He=!Z||Z(ie,Ne,Ae);if(!He)continue;const nt=new YN(ie,this.z,this.x,this.y,de);nt.layer=Ue;let Tt=l[xe];Tt===void 0&&(Tt=l[xe]=[]),Tt.push({featureIndex:_,feature:nt,intersectionZ:He})}}lookupSymbolFeatures(l,d,m,_,C,P,$,j){const W={};this.loadVTLayers();const Y=gy(C);for(const Z of l)this.loadMatchingFeature(W,m,_,Z,Y,P,$,j,d);return W}hasLayer(l){for(const d of this.bucketLayerIDs)for(const m of d)if(l===m)return!0;return!1}getId(l,d){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function ZN(u,l,d,m,_){return N(u,(C,P)=>{const $=l instanceof lp?l.get(P):null;return $&&$.evaluate?$.evaluate(d,m,_):$})}function XN(u){let l=1/0,d=1/0,m=-1/0,_=-1/0;for(const C of u)l=Math.min(l,C.x),d=Math.min(d,C.y),m=Math.max(m,C.x),_=Math.max(_,C.y);return{minX:l,minY:d,maxX:m,maxY:_}}function fX(u,l){return l-u}function JN(u,l,d,m,_){const C=[];for(let P=0;P<u.length;P++){const $=u[P];let j;for(let W=0;W<$.length-1;W++){let Y=$[W],Z=$[W+1];Y.x<l&&Z.x<l||(Y.x<l?Y=new y(l,Y.y+(l-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round():Z.x<l&&(Z=new y(l,Y.y+(l-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round()),Y.y<d&&Z.y<d||(Y.y<d?Y=new y(Y.x+(d-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),d)._round():Z.y<d&&(Z=new y(Y.x+(d-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),d)._round()),Y.x>=m&&Z.x>=m||(Y.x>=m?Y=new y(m,Y.y+(m-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round():Z.x>=m&&(Z=new y(m,Y.y+(m-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round()),Y.y>=_&&Z.y>=_||(Y.y>=_?Y=new y(Y.x+(_-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),_)._round():Z.y>=_&&(Z=new y(Y.x+(_-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),_)._round()),j&&Y.equals(j[j.length-1])||(j=[Y],C.push(j)),j.push(Z)))))}}return C}Pt("FeatureIndex",KN,{omit:["rawTileData","sourceLayerCoder"]});class Wu extends y{constructor(l,d,m,_){super(l,d),this.angle=m,_!==void 0&&(this.segment=_)}clone(){return new Wu(this.x,this.y,this.angle,this.segment)}}function QN(u,l,d,m,_){if(l.segment===void 0||d===0)return!0;let C=l,P=l.segment+1,$=0;for(;$>-d/2;){if(P--,P<0)return!1;$-=u[P].dist(C),C=u[P]}$+=u[P].dist(u[P+1]),P++;const j=[];let W=0;for(;$<d/2;){const Y=u[P],Z=u[P+1];if(!Z)return!1;let ee=u[P-1].angleTo(Y)-Y.angleTo(Z);for(ee=Math.abs((ee+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:$,angleDelta:ee}),W+=ee;$-j[0].distance>m;)W-=j.shift().angleDelta;if(W>_)return!1;P++,$+=Y.dist(Z)}return!0}function ez(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function tz(u,l,d){return u?.6*l*d:0}function rz(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function hX(u,l,d,m,_,C){const P=tz(d,_,C),$=rz(d,m)*C;let j=0;const W=ez(u)/2;for(let Y=0;Y<u.length-1;Y++){const Z=u[Y],ee=u[Y+1],ne=Z.dist(ee);if(j+ne>W){const ie=(W-j)/ne,de=Yo.number(Z.x,ee.x,ie),ve=Yo.number(Z.y,ee.y,ie),xe=new Wu(de,ve,ee.angleTo(Z),Y);return xe._round(),!P||QN(u,xe,$,P,l)?xe:void 0}j+=ne}}function pX(u,l,d,m,_,C,P,$,j){const W=tz(m,C,P),Y=rz(m,_),Z=Y*P,ee=u[0].x===0||u[0].x===j||u[0].y===0||u[0].y===j;return l-Z<l/4&&(l=Z+l/4),nz(u,ee?l/2*$%l:(Y/2+2*C)*P*$%l,l,W,d,Z,ee,!1,j)}function nz(u,l,d,m,_,C,P,$,j){const W=C/2,Y=ez(u);let Z=0,ee=l-d,ne=[];for(let ie=0;ie<u.length-1;ie++){const de=u[ie],ve=u[ie+1],xe=de.dist(ve),Ne=ve.angleTo(de);for(;ee+d<Z+xe;){ee+=d;const Ae=(ee-Z)/xe,Ue=Yo.number(de.x,ve.x,Ae),He=Yo.number(de.y,ve.y,Ae);if(Ue>=0&&Ue<j&&He>=0&&He<j&&ee-W>=0&&ee+W<=Y){const nt=new Wu(Ue,He,Ne,ie);nt._round(),m&&!QN(u,nt,C,m,_)||ne.push(nt)}}Z+=xe}return $||ne.length||P||(ne=nz(u,Z/2,d,m,_,C,P,!0,j)),ne}Pt("Anchor",Wu);const Ep=Zo;function iz(u,l,d,m){const _=[],C=u.image,P=C.pixelRatio,$=C.paddedRect.w-2*Ep,j=C.paddedRect.h-2*Ep,W=u.right-u.left,Y=u.bottom-u.top,Z=C.stretchX||[[0,$]],ee=C.stretchY||[[0,j]],ne=(yt,It)=>yt+It[1]-It[0],ie=Z.reduce(ne,0),de=ee.reduce(ne,0),ve=$-ie,xe=j-de;let Ne=0,Ae=ie,Ue=0,He=de,nt=0,Tt=ve,Ft=0,Ct=xe;if(C.content&&m){const yt=C.content;Ne=yb(Z,0,yt[0]),Ue=yb(ee,0,yt[1]),Ae=yb(Z,yt[0],yt[2]),He=yb(ee,yt[1],yt[3]),nt=yt[0]-Ne,Ft=yt[1]-Ue,Tt=yt[2]-yt[0]-Ae,Ct=yt[3]-yt[1]-He}const St=(yt,It,bt,ht)=>{const Kt=vb(yt.stretch-Ne,Ae,W,u.left),Ut=_b(yt.fixed-nt,Tt,yt.stretch,ie),yr=vb(It.stretch-Ue,He,Y,u.top),yn=_b(It.fixed-Ft,Ct,It.stretch,de),kn=vb(bt.stretch-Ne,Ae,W,u.left),xi=_b(bt.fixed-nt,Tt,bt.stretch,ie),pa=vb(ht.stretch-Ue,He,Y,u.top),Eo=_b(ht.fixed-Ft,Ct,ht.stretch,de),di=new y(Kt,yr),Ai=new y(kn,yr),Gi=new y(kn,pa),Xo=new y(Kt,pa),Co=new y(Ut/P,yn/P),fi=new y(xi/P,Eo/P),bi=l*Math.PI/180;if(bi){const Jo=Math.sin(bi),Qo=Math.cos(bi),Wn=[Qo,-Jo,Jo,Qo];di._matMult(Wn),Ai._matMult(Wn),Xo._matMult(Wn),Gi._matMult(Wn)}const oo=yt.stretch+yt.fixed,ko=It.stretch+It.fixed;return{tl:di,tr:Ai,bl:Xo,br:Gi,tex:{x:C.paddedRect.x+Ep+oo,y:C.paddedRect.y+Ep+ko,w:bt.stretch+bt.fixed-oo,h:ht.stretch+ht.fixed-ko},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Co,pixelOffsetBR:fi,minFontScaleX:Tt/P/W,minFontScaleY:Ct/P/Y,isSDF:d}};if(m&&(C.stretchX||C.stretchY)){const yt=oz(Z,ve,ie),It=oz(ee,xe,de);for(let bt=0;bt<yt.length-1;bt++){const ht=yt[bt],Kt=yt[bt+1];for(let Ut=0;Ut<It.length-1;Ut++)_.push(St(ht,It[Ut],Kt,It[Ut+1]))}}else _.push(St({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$+1},{fixed:0,stretch:j+1}));return _}function yb(u,l,d){let m=0;for(const _ of u)m+=Math.max(l,Math.min(d,_[1]))-Math.max(l,Math.min(d,_[0]));return m}function oz(u,l,d){const m=[{fixed:-Ep,stretch:0}];for(const[_,C]of u){const P=m[m.length-1];m.push({fixed:_-P.stretch,stretch:P.stretch}),m.push({fixed:_-P.stretch,stretch:P.stretch+(C-_)})}return m.push({fixed:l+Ep,stretch:d}),m}function vb(u,l,d,m){return u/l*d+m}function _b(u,l,d,m){return u-l*d/m}class xb{constructor(l,d,m,_,C,P,$,j,W,Y){if(this.boxStartIndex=l.length,W){let Z=P.top,ee=P.bottom;const ne=P.collisionPadding;ne&&(Z-=ne[1],ee+=ne[3]);let ie=ee-Z;ie>0&&(ie=Math.max(10,ie),this.circleDiameter=ie)}else{let Z=P.top*$-j[0],ee=P.bottom*$+j[2],ne=P.left*$-j[3],ie=P.right*$+j[1];const de=P.collisionPadding;if(de&&(ne-=de[0]*$,Z-=de[1]*$,ie+=de[2]*$,ee+=de[3]*$),Y){const ve=new y(ne,Z),xe=new y(ie,Z),Ne=new y(ne,ee),Ae=new y(ie,ee),Ue=Y*Math.PI/180;ve._rotate(Ue),xe._rotate(Ue),Ne._rotate(Ue),Ae._rotate(Ue),ne=Math.min(ve.x,xe.x,Ne.x,Ae.x),ie=Math.max(ve.x,xe.x,Ne.x,Ae.x),Z=Math.min(ve.y,xe.y,Ne.y,Ae.y),ee=Math.max(ve.y,xe.y,Ne.y,Ae.y)}l.emplaceBack(d.x,d.y,ne,Z,ie,ee,m,_,C)}this.boxEndIndex=l.length}}class mX{constructor(l=[],d=gX){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:m}=this,_=d[l];for(;l>0;){const C=l-1>>1,P=d[C];if(m(_,P)>=0)break;d[l]=P,l=C}d[l]=_}_down(l){const{data:d,compare:m}=this,_=this.length>>1,C=d[l];for(;l<_;){let P=1+(l<<1),$=d[P];const j=P+1;if(j<this.length&&m(d[j],$)<0&&(P=j,$=d[j]),m($,C)>=0)break;d[l]=$,l=P}d[l]=C}}function gX(u,l){return u<l?-1:u>l?1:0}function yX(u,l=1,d=!1){let m=1/0,_=1/0,C=-1/0,P=-1/0;const $=u[0];for(let ne=0;ne<$.length;ne++){const ie=$[ne];(!ne||ie.x<m)&&(m=ie.x),(!ne||ie.y<_)&&(_=ie.y),(!ne||ie.x>C)&&(C=ie.x),(!ne||ie.y>P)&&(P=ie.y)}const j=Math.min(C-m,P-_);let W=j/2;const Y=new mX([],vX);if(j===0)return new y(m,_);for(let ne=m;ne<C;ne+=j)for(let ie=_;ie<P;ie+=j)Y.push(new Cp(ne+W,ie+W,W,u));let Z=function(ne){let ie=0,de=0,ve=0;const xe=ne[0];for(let Ne=0,Ae=xe.length,Ue=Ae-1;Ne<Ae;Ue=Ne++){const He=xe[Ne],nt=xe[Ue],Tt=He.x*nt.y-nt.x*He.y;de+=(He.x+nt.x)*Tt,ve+=(He.y+nt.y)*Tt,ie+=3*Tt}return new Cp(de/ie,ve/ie,0,ne)}(u),ee=Y.length;for(;Y.length;){const ne=Y.pop();(ne.d>Z.d||!Z.d)&&(Z=ne,d&&console.log("found best %d after %d probes",Math.round(1e4*ne.d)/1e4,ee)),ne.max-Z.d<=l||(W=ne.h/2,Y.push(new Cp(ne.p.x-W,ne.p.y-W,W,u)),Y.push(new Cp(ne.p.x+W,ne.p.y-W,W,u)),Y.push(new Cp(ne.p.x-W,ne.p.y+W,W,u)),Y.push(new Cp(ne.p.x+W,ne.p.y+W,W,u)),ee+=4)}return d&&(console.log(`num probes: ${ee}`),console.log(`best distance: ${Z.d}`)),Z.p}function vX(u,l){return l.max-u.max}function Cp(u,l,d,m){this.p=new y(u,l),this.h=d,this.d=function(_,C){let P=!1,$=1/0;for(let j=0;j<C.length;j++){const W=C[j];for(let Y=0,Z=W.length,ee=Z-1;Y<Z;ee=Y++){const ne=W[Y],ie=W[ee];ne.y>_.y!=ie.y>_.y&&_.x<(ie.x-ne.x)*(_.y-ne.y)/(ie.y-ne.y)+ne.x&&(P=!P),$=Math.min($,UL(_,ne,ie))}}return(P?1:-1)*Math.sqrt($)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Hi;a.TextAnchorEnum=void 0,(Hi=a.TextAnchorEnum||(a.TextAnchorEnum={}))[Hi.center=1]="center",Hi[Hi.left=2]="left",Hi[Hi.right=3]="right",Hi[Hi.top=4]="top",Hi[Hi.bottom=5]="bottom",Hi[Hi["top-left"]=6]="top-left",Hi[Hi["top-right"]=7]="top-right",Hi[Hi["bottom-left"]=8]="bottom-left",Hi[Hi["bottom-right"]=9]="bottom-right";const qu=7,vk=Number.POSITIVE_INFINITY;function az(u,l){return l[1]!==vk?function(d,m,_){let C=0,P=0;switch(m=Math.abs(m),_=Math.abs(_),d){case"top-right":case"top-left":case"top":P=_-qu;break;case"bottom-right":case"bottom-left":case"bottom":P=-_+qu}switch(d){case"top-right":case"bottom-right":case"right":C=-m;break;case"top-left":case"bottom-left":case"left":C=m}return[C,P]}(u,l[0],l[1]):function(d,m){let _=0,C=0;m<0&&(m=0);const P=m/Math.sqrt(2);switch(d){case"top-right":case"top-left":C=P-qu;break;case"bottom-right":case"bottom-left":C=-P+qu;break;case"bottom":C=-m+qu;break;case"top":C=m-qu}switch(d){case"top-right":case"bottom-right":_=-P;break;case"top-left":case"bottom-left":_=P;break;case"left":_=m;break;case"right":_=-m}return[_,C]}(u,l[0])}function sz(u,l,d){var m;const _=u.layout,C=(m=_.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},d);if(C){const $=C.values,j=[];for(let W=0;W<$.length;W+=2){const Y=j[W]=$[W],Z=$[W+1].map(ee=>ee*_i);Y.startsWith("top")?Z[1]-=qu:Y.startsWith("bottom")&&(Z[1]+=qu),j[W+1]=Z}return new Wi(j)}const P=_.get("text-variable-anchor");if(P){let $;$=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(l,{},d)*_i,vk]:_.get("text-offset").evaluate(l,{},d).map(W=>W*_i);const j=[];for(const W of P)j.push(W,az(W,$));return new Wi(j)}return null}function _k(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function _X(u,l,d,m,_,C,P,$,j,W,Y){let Z=C.textMaxSize.evaluate(l,{});Z===void 0&&(Z=P);const ee=u.layers[0].layout,ne=ee.get("icon-offset").evaluate(l,{},Y),ie=cz(d.horizontal),de=P/24,ve=u.tilePixelRatio*de,xe=u.tilePixelRatio*Z/24,Ne=u.tilePixelRatio*$,Ae=u.tilePixelRatio*ee.get("symbol-spacing"),Ue=ee.get("text-padding")*u.tilePixelRatio,He=function(ht,Kt,Ut,yr=1){const yn=ht.get("icon-padding").evaluate(Kt,{},Ut),kn=yn&&yn.values;return[kn[0]*yr,kn[1]*yr,kn[2]*yr,kn[3]*yr]}(ee,l,Y,u.tilePixelRatio),nt=ee.get("text-max-angle")/180*Math.PI,Tt=ee.get("text-rotation-alignment")!=="viewport"&&ee.get("symbol-placement")!=="point",Ft=ee.get("icon-rotation-alignment")==="map"&&ee.get("symbol-placement")!=="point",Ct=ee.get("symbol-placement"),St=Ae/2,yt=ee.get("icon-text-fit");let It;m&&yt!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(It=IN(m,d.vertical,yt,ee.get("icon-text-fit-padding"),ne,de)),ie&&(m=IN(m,ie,yt,ee.get("icon-text-fit-padding"),ne,de)));const bt=(ht,Kt)=>{Kt.x<0||Kt.x>=Dn||Kt.y<0||Kt.y>=Dn||function(Ut,yr,yn,kn,xi,pa,Eo,di,Ai,Gi,Xo,Co,fi,bi,oo,ko,Jo,Qo,Wn,Yi,Cr,ma,Ki,To,ss){const Ys=Ut.addToLineVertexArray(yr,yn);let Ks,Ic,ls,Da,ea=0,Rc=0,rv=0,hz=0,Tk=-1,Pk=-1;const $c={};let pz=qs("");if(Ut.allowVerticalPlacement&&kn.vertical){const ao=di.layout.get("text-rotate").evaluate(Cr,{},To)+90;ls=new xb(Ai,yr,Gi,Xo,Co,kn.vertical,fi,bi,oo,ao),Eo&&(Da=new xb(Ai,yr,Gi,Xo,Co,Eo,Jo,Qo,oo,ao))}if(xi){const ao=di.layout.get("icon-rotate").evaluate(Cr,{}),La=di.layout.get("icon-text-fit")!=="none",wf=iz(xi,ao,Ki,La),Xs=Eo?iz(Eo,ao,Ki,La):void 0;Ic=new xb(Ai,yr,Gi,Xo,Co,xi,Jo,Qo,!1,ao),ea=4*wf.length;const Sf=Ut.iconSizeData;let Ll=null;Sf.kind==="source"?(Ll=[Dl*di.layout.get("icon-size").evaluate(Cr,{})],Ll[0]>Uu&&J(`${Ut.layerIds[0]}: Value for "icon-size" is >= ${Jy}. Reduce your "icon-size".`)):Sf.kind==="composite"&&(Ll=[Dl*ma.compositeIconSizes[0].evaluate(Cr,{},To),Dl*ma.compositeIconSizes[1].evaluate(Cr,{},To)],(Ll[0]>Uu||Ll[1]>Uu)&&J(`${Ut.layerIds[0]}: Value for "icon-size" is >= ${Jy}. Reduce your "icon-size".`)),Ut.addSymbols(Ut.icon,wf,Ll,Yi,Wn,Cr,a.WritingMode.none,yr,Ys.lineStartIndex,Ys.lineLength,-1,To),Tk=Ut.icon.placedSymbolArray.length-1,Xs&&(Rc=4*Xs.length,Ut.addSymbols(Ut.icon,Xs,Ll,Yi,Wn,Cr,a.WritingMode.vertical,yr,Ys.lineStartIndex,Ys.lineLength,-1,To),Pk=Ut.icon.placedSymbolArray.length-1)}const mz=Object.keys(kn.horizontal);for(const ao of mz){const La=kn.horizontal[ao];if(!Ks){pz=qs(La.text);const Xs=di.layout.get("text-rotate").evaluate(Cr,{},To);Ks=new xb(Ai,yr,Gi,Xo,Co,La,fi,bi,oo,Xs)}const wf=La.positionedLines.length===1;if(rv+=lz(Ut,yr,La,pa,di,oo,Cr,ko,Ys,kn.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,wf?mz:[ao],$c,Tk,ma,To),wf)break}kn.vertical&&(hz+=lz(Ut,yr,kn.vertical,pa,di,oo,Cr,ko,Ys,a.WritingMode.vertical,["vertical"],$c,Pk,ma,To));const wX=Ks?Ks.boxStartIndex:Ut.collisionBoxArray.length,SX=Ks?Ks.boxEndIndex:Ut.collisionBoxArray.length,EX=ls?ls.boxStartIndex:Ut.collisionBoxArray.length,CX=ls?ls.boxEndIndex:Ut.collisionBoxArray.length,kX=Ic?Ic.boxStartIndex:Ut.collisionBoxArray.length,TX=Ic?Ic.boxEndIndex:Ut.collisionBoxArray.length,PX=Da?Da.boxStartIndex:Ut.collisionBoxArray.length,AX=Da?Da.boxEndIndex:Ut.collisionBoxArray.length;let Zs=-1;const wb=(ao,La)=>ao&&ao.circleDiameter?Math.max(ao.circleDiameter,La):La;Zs=wb(Ks,Zs),Zs=wb(ls,Zs),Zs=wb(Ic,Zs),Zs=wb(Da,Zs);const gz=Zs>-1?1:0;gz&&(Zs*=ss/_i),Ut.glyphOffsetArray.length>=Sp.MAX_GLYPHS&&J("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cr.sortKey!==void 0&&Ut.addToSortKeyRanges(Ut.symbolInstances.length,Cr.sortKey);const MX=sz(di,Cr,To),[OX,IX]=function(ao,La){const wf=ao.length,Xs=La==null?void 0:La.values;if((Xs==null?void 0:Xs.length)>0)for(let Sf=0;Sf<Xs.length;Sf+=2){const Ll=Xs[Sf+1];ao.emplaceBack(a.TextAnchorEnum[Xs[Sf]],Ll[0],Ll[1])}return[wf,ao.length]}(Ut.textAnchorOffsets,MX);Ut.symbolInstances.emplaceBack(yr.x,yr.y,$c.right>=0?$c.right:-1,$c.center>=0?$c.center:-1,$c.left>=0?$c.left:-1,$c.vertical||-1,Tk,Pk,pz,wX,SX,EX,CX,kX,TX,PX,AX,Gi,rv,hz,ea,Rc,gz,0,fi,Zs,OX,IX)}(u,Kt,ht,d,m,_,It,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ve,[Ue,Ue,Ue,Ue],Tt,j,Ne,He,Ft,ne,l,C,W,Y,P)};if(Ct==="line")for(const ht of JN(l.geometry,0,0,Dn,Dn)){const Kt=pX(ht,Ae,nt,d.vertical||ie,m,24,xe,u.overscaling,Dn);for(const Ut of Kt)ie&&xX(u,ie.text,St,Ut)||bt(ht,Ut)}else if(Ct==="line-center"){for(const ht of l.geometry)if(ht.length>1){const Kt=hX(ht,nt,d.vertical||ie,m,24,xe);Kt&&bt(ht,Kt)}}else if(l.type==="Polygon")for(const ht of XC(l.geometry,0)){const Kt=yX(ht,16);bt(ht[0],new Wu(Kt.x,Kt.y,0))}else if(l.type==="LineString")for(const ht of l.geometry)bt(ht,new Wu(ht[0].x,ht[0].y,0));else if(l.type==="Point")for(const ht of l.geometry)for(const Kt of ht)bt([Kt],new Wu(Kt.x,Kt.y,0))}function lz(u,l,d,m,_,C,P,$,j,W,Y,Z,ee,ne,ie){const de=function(Ne,Ae,Ue,He,nt,Tt,Ft,Ct){const St=He.layout.get("text-rotate").evaluate(Tt,{})*Math.PI/180,yt=[];for(const It of Ae.positionedLines)for(const bt of It.positionedGlyphs){if(!bt.rect)continue;const ht=bt.rect||{};let Kt=CN+1,Ut=!0,yr=1,yn=0;const kn=(nt||Ct)&&bt.vertical,xi=bt.metrics.advance*bt.scale/2;if(Ct&&Ae.verticalizable&&(yn=It.lineOffset/2-(bt.imageName?-(_i-bt.metrics.width*bt.scale)/2:(bt.scale-1)*_i)),bt.imageName){const Wn=Ft[bt.imageName];Ut=Wn.sdf,yr=Wn.pixelRatio,Kt=Zo/yr}const pa=nt?[bt.x+xi,bt.y]:[0,0];let Eo=nt?[0,0]:[bt.x+xi+Ue[0],bt.y+Ue[1]-yn],di=[0,0];kn&&(di=Eo,Eo=[0,0]);const Ai=(bt.metrics.left-Kt)*bt.scale-xi+Eo[0],Gi=(-bt.metrics.top-Kt)*bt.scale+Eo[1],Xo=Ai+ht.w*bt.scale/yr,Co=Gi+ht.h*bt.scale/yr,fi=new y(Ai,Gi),bi=new y(Xo,Gi),oo=new y(Ai,Co),ko=new y(Xo,Co);if(kn){const Wn=new y(-xi,xi-Zy),Yi=-Math.PI/2,Cr=_i/2-xi,ma=new y(5-Zy-Cr,-(bt.imageName?Cr:0)),Ki=new y(...di);fi._rotateAround(Yi,Wn)._add(ma)._add(Ki),bi._rotateAround(Yi,Wn)._add(ma)._add(Ki),oo._rotateAround(Yi,Wn)._add(ma)._add(Ki),ko._rotateAround(Yi,Wn)._add(ma)._add(Ki)}if(St){const Wn=Math.sin(St),Yi=Math.cos(St),Cr=[Yi,-Wn,Wn,Yi];fi._matMult(Cr),bi._matMult(Cr),oo._matMult(Cr),ko._matMult(Cr)}const Jo=new y(0,0),Qo=new y(0,0);yt.push({tl:fi,tr:bi,bl:oo,br:ko,tex:ht,writingMode:Ae.writingMode,glyphOffset:pa,sectionIndex:bt.sectionIndex,isSDF:Ut,pixelOffsetTL:Jo,pixelOffsetBR:Qo,minFontScaleX:0,minFontScaleY:0})}return yt}(0,d,$,_,C,P,m,u.allowVerticalPlacement),ve=u.textSizeData;let xe=null;ve.kind==="source"?(xe=[Dl*_.layout.get("text-size").evaluate(P,{})],xe[0]>Uu&&J(`${u.layerIds[0]}: Value for "text-size" is >= ${Jy}. Reduce your "text-size".`)):ve.kind==="composite"&&(xe=[Dl*ne.compositeTextSizes[0].evaluate(P,{},ie),Dl*ne.compositeTextSizes[1].evaluate(P,{},ie)],(xe[0]>Uu||xe[1]>Uu)&&J(`${u.layerIds[0]}: Value for "text-size" is >= ${Jy}. Reduce your "text-size".`)),u.addSymbols(u.text,de,xe,$,C,P,W,l,j.lineStartIndex,j.lineLength,ee,ie);for(const Ne of Y)Z[Ne]=u.text.placedSymbolArray.length-1;return 4*de.length}function cz(u){for(const l in u)return u[l];return null}function xX(u,l,d,m){const _=u.compareText;if(l in _){const C=_[l];for(let P=C.length-1;P>=0;P--)if(m.dist(C[P])<d)return!0}else _[l]=[];return _[l].push(m),!1}const uz=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class xk{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const _=m>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);const C=uz[15&m];if(!C)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(l,2,1),[$]=new Uint32Array(l,4,1);return new xk($,P,C,l)}constructor(l,d=64,m=Float64Array,_){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const C=uz.indexOf(this.ArrayType),P=2*l*this.ArrayType.BYTES_PER_ELEMENT,$=l*this.IndexArrayType.BYTES_PER_ELEMENT,j=(8-$%8)%8;if(C<0)throw new Error(`Unexpected typed array class: ${m}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+$+j,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+P+$+j),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+$+j,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+C]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=d,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return bk(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,m,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:C,coords:P,nodeSize:$}=this,j=[0,C.length-1,0],W=[];for(;j.length;){const Y=j.pop()||0,Z=j.pop()||0,ee=j.pop()||0;if(Z-ee<=$){for(let ve=ee;ve<=Z;ve++){const xe=P[2*ve],Ne=P[2*ve+1];xe>=l&&xe<=m&&Ne>=d&&Ne<=_&&W.push(C[ve])}continue}const ne=ee+Z>>1,ie=P[2*ne],de=P[2*ne+1];ie>=l&&ie<=m&&de>=d&&de<=_&&W.push(C[ne]),(Y===0?l<=ie:d<=de)&&(j.push(ee),j.push(ne-1),j.push(1-Y)),(Y===0?m>=ie:_>=de)&&(j.push(ne+1),j.push(Z),j.push(1-Y))}return W}within(l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:C,nodeSize:P}=this,$=[0,_.length-1,0],j=[],W=m*m;for(;$.length;){const Y=$.pop()||0,Z=$.pop()||0,ee=$.pop()||0;if(Z-ee<=P){for(let ve=ee;ve<=Z;ve++)fz(C[2*ve],C[2*ve+1],l,d)<=W&&j.push(_[ve]);continue}const ne=ee+Z>>1,ie=C[2*ne],de=C[2*ne+1];fz(ie,de,l,d)<=W&&j.push(_[ne]),(Y===0?l-m<=ie:d-m<=de)&&($.push(ee),$.push(ne-1),$.push(1-Y)),(Y===0?l+m>=ie:d+m>=de)&&($.push(ne+1),$.push(Z),$.push(1-Y))}return j}}function bk(u,l,d,m,_,C){if(_-m<=d)return;const P=m+_>>1;dz(u,l,P,m,_,C),bk(u,l,d,m,P-1,1-C),bk(u,l,d,P+1,_,1-C)}function dz(u,l,d,m,_,C){for(;_>m;){if(_-m>600){const W=_-m+1,Y=d-m+1,Z=Math.log(W),ee=.5*Math.exp(2*Z/3),ne=.5*Math.sqrt(Z*ee*(W-ee)/W)*(Y-W/2<0?-1:1);dz(u,l,d,Math.max(m,Math.floor(d-Y*ee/W+ne)),Math.min(_,Math.floor(d+(W-Y)*ee/W+ne)),C)}const P=l[2*d+C];let $=m,j=_;for(ev(u,l,m,d),l[2*_+C]>P&&ev(u,l,m,_);$<j;){for(ev(u,l,$,j),$++,j--;l[2*$+C]<P;)$++;for(;l[2*j+C]>P;)j--}l[2*m+C]===P?ev(u,l,m,j):(j++,ev(u,l,j,_)),j<=d&&(m=j+1),d<=j&&(_=j-1)}}function ev(u,l,d,m){wk(u,d,m),wk(l,2*d,2*m),wk(l,2*d+1,2*m+1)}function wk(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}function fz(u,l,d,m){const _=u-d,C=l-m;return _*_+C*C}var Sk;a.PerformanceMarkers=void 0,(Sk=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",Sk.load="load",Sk.fullLoad="fullLoad";let bb=null,tv=[];const Ek=1e3/60,Ck="loadTime",kk="fullLoadTime",bX={mark(u){performance.mark(u)},frame(u){const l=u;bb!=null&&tv.push(l-bb),bb=l},clearMetrics(){bb=null,tv=[],performance.clearMeasures(Ck),performance.clearMeasures(kk);for(const u in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure(Ck,a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure(kk,a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName(Ck)[0].duration,l=performance.getEntriesByName(kk)[0].duration,d=tv.length,m=1/(tv.reduce((C,P)=>C+P,0)/d/1e3),_=tv.filter(C=>C>Ek).reduce((C,P)=>C+(P-Ek)/Ek,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:_/(d+_)*100,totalFrames:d}}};a.AJAXError=rt,a.ARRAY_TYPE=yp,a.Actor=class{constructor(u,l,d){this.receive=m=>{const _=m.data,C=_.id;if(C&&(!_.targetMapId||this.mapId===_.targetMapId))if(_.type==="<cancel>"){delete this.tasks[C];const P=this.cancelCallbacks[C];delete this.cancelCallbacks[C],P&&P()}else he()||_.mustQueue?(this.tasks[C]=_,this.taskQueue.push(C),this.invoker.trigger()):this.processTask(C,_)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),_=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),_&&this.processTask(m,_)},this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new dX(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=he()?u:window}send(u,l,d,m,_=!1){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[C]=d);const P=we(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:u,hasCallback:!!d,targetMapId:m,mustQueue:_,sourceMapId:this.mapId,data:Cc(l,P)},P),{cancel:()=>{d&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(Iu(l.error)):d(null,Iu(l.data)))}else{let d=!1;const m=we(this.globalScope)?void 0:[],_=l.hasCallback?($,j)=>{d=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:$?Cc($):null,data:Cc(j,m)},m)}:$=>{d=!0};let C=null;const P=Iu(l.data);if(this.parent[l.type])C=this.parent[l.type](l.sourceMapId,P,_);else if(this.parent.getWorkerSource){const $=l.type.split(".");C=this.parent.getWorkerSource(l.sourceMapId,$[0],P.source)[$[1]](P,_)}else _(new Error(`Could not find function ${l.type}`));!d&&C&&C.cancel&&(this.cancelCallbacks[u]=C.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=Uy,a.CanonicalTileID=yk,a.CollisionBoxArray=U,a.CollisionCircleLayoutArray=class extends fp{},a.Color=gt,a.DEMData=HN,a.DataConstantProperty=qt,a.DictionaryCoder=GN,a.EXTENT=Dn,a.ErrorEvent=ct,a.EvaluationParameters=Cn,a.Event=Xe,a.Evented=Fe,a.FeatureIndex=KN,a.FillBucket=ek,a.FillExtrusionBucket=rk,a.GeoJSONFeature=YN,a.ImageAtlas=TN,a.ImagePosition=sk,a.KDBush=xk,a.LineBucket=nk,a.LineStripIndexArray=class extends k{},a.LngLat=Vu,a.MercatorCoordinate=gb,a.ONE_EM=_i,a.OverscaledTileID=$a,a.PerformanceUtils=bX,a.Point=y,a.Pos3dArray=class extends Lu{},a.PosArray=_e,a.Properties=vi,a.Protobuf=ok,a.QuadTriangleArray=class extends hp{},a.RGBAImage=Ra,a.RasterBoundsArray=class extends up{},a.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.SegmentVector=rr,a.SymbolBucket=Sp,a.Transitionable=sp,a.TriangleIndexArray=Dt,a.Uniform1f=Ti,a.Uniform1i=class extends Vn{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.Uniform2f=class extends Vn{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.Uniform3f=class extends Vn{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.Uniform4f=Nu,a.UniformColor=ui,a.UniformMatrix4f=class extends Vn{constructor(u,l){super(u,l),this.current=Pi}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.UnwrappedTileID=qN,a.ValidationError=ut,a.ZoomHistory=op,a.addDynamicAttributes=dk,a.arrayBufferToImage=function(u,l){const d=new Image;d.onload=()=>{l(null,d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=Ce})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});d.src=u.byteLength?URL.createObjectURL(m):Ce},a.arrayBufferToImageBitmap=function(u,l){const d=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(d).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.asyncAll=function(u,l,d){if(!u.length)return d(null,[]);let m=u.length;const _=new Array(u.length);let C=null;u.forEach((P,$)=>{l(P,(j,W)=>{j&&(C=j),_[$]=W,--m==0&&d(C,_)})})},a.bezier=w,a.browser=Oe,a.clamp=O,a.clipLine=JN,a.clone=function(u){var l=new yp(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.clone$1=F,a.collisionCircleLayout=jZ,a.config=qe,a.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.create=function(){var u=new yp(16);return yp!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a.createExpression=_r,a.createFilter=gy,a.createLayout=ri,a.createStyleLayer=function(u){if(u.type==="custom")return new uX(u);switch(u.type){case"background":return new sX(u);case"circle":return new HK(u);case"fill":return new fZ(u);case"fill-extrusion":return new TZ(u);case"heatmap":return new YK(u);case"hillshade":return new ZK(u);case"line":return new DZ(u);case"raster":return new cX(u);case"symbol":return new mb(u)}},a.deepEqual=function u(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],d[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const m in l)if(!u(l[m],d[m]))return!1;return!0}return l===d},a.defaultEasing=M,a.derefLayers=function(u){u=u.slice();const l=Object.create(null);for(let d=0;d<u.length;d++)l[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Zt(u[d],l[u[d].ref]));return u},a.diffStyles=function(u,l){if(!u)return[{command:jt.setStyle,args:[l]}];let d=[];try{if(!Ot(u.version,l.version))return[{command:jt.setStyle,args:[l]}];Ot(u.center,l.center)||d.push({command:jt.setCenter,args:[l.center]}),Ot(u.zoom,l.zoom)||d.push({command:jt.setZoom,args:[l.zoom]}),Ot(u.bearing,l.bearing)||d.push({command:jt.setBearing,args:[l.bearing]}),Ot(u.pitch,l.pitch)||d.push({command:jt.setPitch,args:[l.pitch]}),Ot(u.sprite,l.sprite)||d.push({command:jt.setSprite,args:[l.sprite]}),Ot(u.glyphs,l.glyphs)||d.push({command:jt.setGlyphs,args:[l.glyphs]}),Ot(u.transition,l.transition)||d.push({command:jt.setTransition,args:[l.transition]}),Ot(u.light,l.light)||d.push({command:jt.setLight,args:[l.light]});const m={},_=[];(function(P,$,j,W){let Y;for(Y in $=$||{},P=P||{})Object.prototype.hasOwnProperty.call(P,Y)&&(Object.prototype.hasOwnProperty.call($,Y)||Hr(Y,j,W));for(Y in $)Object.prototype.hasOwnProperty.call($,Y)&&(Object.prototype.hasOwnProperty.call(P,Y)?Ot(P[Y],$[Y])||(P[Y].type==="geojson"&&$[Y].type==="geojson"&&Sr(P,$,Y)?j.push({command:jt.setGeoJSONSourceData,args:[Y,$[Y].data]}):pr(Y,$,j,W)):Mr(Y,$,j))})(u.sources,l.sources,_,m);const C=[];u.layers&&u.layers.forEach(P=>{m[P.source]?d.push({command:jt.removeLayer,args:[P.id]}):C.push(P)}),d=d.concat(_),function(P,$,j){$=$||[];const W=(P=P||[]).map(Er),Y=$.map(Er),Z=P.reduce(un,{}),ee=$.reduce(un,{}),ne=W.slice(),ie=Object.create(null);let de,ve,xe,Ne,Ae,Ue,He;for(de=0,ve=0;de<W.length;de++)xe=W[de],Object.prototype.hasOwnProperty.call(ee,xe)?ve++:(j.push({command:jt.removeLayer,args:[xe]}),ne.splice(ne.indexOf(xe,ve),1));for(de=0,ve=0;de<Y.length;de++)xe=Y[Y.length-1-de],ne[ne.length-1-de]!==xe&&(Object.prototype.hasOwnProperty.call(Z,xe)?(j.push({command:jt.removeLayer,args:[xe]}),ne.splice(ne.lastIndexOf(xe,ne.length-ve),1)):ve++,Ue=ne[ne.length-de],j.push({command:jt.addLayer,args:[ee[xe],Ue]}),ne.splice(ne.length-de,0,xe),ie[xe]=!0);for(de=0;de<Y.length;de++)if(xe=Y[de],Ne=Z[xe],Ae=ee[xe],!ie[xe]&&!Ot(Ne,Ae))if(Ot(Ne.source,Ae.source)&&Ot(Ne["source-layer"],Ae["source-layer"])&&Ot(Ne.type,Ae.type)){for(He in cr(Ne.layout,Ae.layout,j,xe,null,jt.setLayoutProperty),cr(Ne.paint,Ae.paint,j,xe,null,jt.setPaintProperty),Ot(Ne.filter,Ae.filter)||j.push({command:jt.setFilter,args:[xe,Ae.filter]}),Ot(Ne.minzoom,Ae.minzoom)&&Ot(Ne.maxzoom,Ae.maxzoom)||j.push({command:jt.setLayerZoomRange,args:[xe,Ae.minzoom,Ae.maxzoom]}),Ne)Object.prototype.hasOwnProperty.call(Ne,He)&&He!=="layout"&&He!=="paint"&&He!=="filter"&&He!=="metadata"&&He!=="minzoom"&&He!=="maxzoom"&&(He.indexOf("paint.")===0?cr(Ne[He],Ae[He],j,xe,He.slice(6),jt.setPaintProperty):Ot(Ne[He],Ae[He])||j.push({command:jt.setLayerProperty,args:[xe,He,Ae[He]]}));for(He in Ae)Object.prototype.hasOwnProperty.call(Ae,He)&&!Object.prototype.hasOwnProperty.call(Ne,He)&&He!=="layout"&&He!=="paint"&&He!=="filter"&&He!=="metadata"&&He!=="minzoom"&&He!=="maxzoom"&&(He.indexOf("paint.")===0?cr(Ne[He],Ae[He],j,xe,He.slice(6),jt.setPaintProperty):Ot(Ne[He],Ae[He])||j.push({command:jt.setLayerProperty,args:[xe,He,Ae[He]]}))}else j.push({command:jt.removeLayer,args:[xe]}),Ue=ne[ne.lastIndexOf(xe)+1],j.push({command:jt.addLayer,args:[Ae,Ue]})}(C,l.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:jt.setStyle,args:[l]}]}return d},a.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.earthRadius=mk,a.emitValidationErrors=qx,a.emptyStyle=function(){const u={},l=Me.$version;for(const d in Me.$root){const m=Me.$root[d];if(m.required){let _=null;_=d==="version"?l:m.type==="array"?[]:{},_!=null&&(u[d]=_)}}return u},a.equals=function(u,l){var d=u[0],m=u[1],_=u[2],C=u[3],P=u[4],$=u[5],j=u[6],W=u[7],Y=u[8],Z=u[9],ee=u[10],ne=u[11],ie=u[12],de=u[13],ve=u[14],xe=u[15],Ne=l[0],Ae=l[1],Ue=l[2],He=l[3],nt=l[4],Tt=l[5],Ft=l[6],Ct=l[7],St=l[8],yt=l[9],It=l[10],bt=l[11],ht=l[12],Kt=l[13],Ut=l[14],yr=l[15];return Math.abs(d-Ne)<=So*Math.max(1,Math.abs(d),Math.abs(Ne))&&Math.abs(m-Ae)<=So*Math.max(1,Math.abs(m),Math.abs(Ae))&&Math.abs(_-Ue)<=So*Math.max(1,Math.abs(_),Math.abs(Ue))&&Math.abs(C-He)<=So*Math.max(1,Math.abs(C),Math.abs(He))&&Math.abs(P-nt)<=So*Math.max(1,Math.abs(P),Math.abs(nt))&&Math.abs($-Tt)<=So*Math.max(1,Math.abs($),Math.abs(Tt))&&Math.abs(j-Ft)<=So*Math.max(1,Math.abs(j),Math.abs(Ft))&&Math.abs(W-Ct)<=So*Math.max(1,Math.abs(W),Math.abs(Ct))&&Math.abs(Y-St)<=So*Math.max(1,Math.abs(Y),Math.abs(St))&&Math.abs(Z-yt)<=So*Math.max(1,Math.abs(Z),Math.abs(yt))&&Math.abs(ee-It)<=So*Math.max(1,Math.abs(ee),Math.abs(It))&&Math.abs(ne-bt)<=So*Math.max(1,Math.abs(ne),Math.abs(bt))&&Math.abs(ie-ht)<=So*Math.max(1,Math.abs(ie),Math.abs(ht))&&Math.abs(de-Kt)<=So*Math.max(1,Math.abs(de),Math.abs(Kt))&&Math.abs(ve-Ut)<=So*Math.max(1,Math.abs(ve),Math.abs(Ut))&&Math.abs(xe-yr)<=So*Math.max(1,Math.abs(xe),Math.abs(yr))},a.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:d},{lowerSize:m,upperSize:_}){return u.kind==="source"?m/Dl:u.kind==="composite"?Yo.number(m/Dl,_/Dl,d):l},a.evaluateSizeForZoom=function(u,l){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:_,minZoom:C,maxZoom:P}=u,$=_?O(Ko.interpolationFactor(_,l,C,P),0,1):0;u.kind==="camera"?m=Yo.number(u.minSize,u.maxSize,$):d=$}return{uSizeT:d,uSize:m}},a.evented=Ay,a.extend=E,a.filterObject=D,a.findLineIntersection=function(u,l,d,m){const _=l.y-u.y,C=l.x-u.x,P=m.y-d.y,$=m.x-d.x,j=P*C-$*_;if(j===0)return null;const W=($*(u.y-d.y)-P*(u.x-d.x))/j;return new y(u.x+W*C,u.y+W*_)},a.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.getAnchorAlignment=ck,a.getAnchorJustification=_k,a.getArrayBuffer=Be,a.getDefaultExportFromCjs=f,a.getJSON=function(u,l){return Ye(E(u,{type:"json"}),l)},a.getOverlapMode=uk,a.getProtocolAction=je,a.getRTLTextPluginStatus=My,a.getReferrer=Pe,a.getVideo=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let m=0;m<u.length;m++){const _=window.document.createElement("source");lt(u[m])||(d.crossOrigin="Anonymous"),_.src=u[m],d.appendChild(_)}return{cancel:()=>{}}},a.groupByLayout=function(u,l){const d={};for(let _=0;_<u.length;_++){const C=l&&l[u[_].id]||LC(u[_]);l&&(l[u[_].id]=C);let P=d[C];P||(P=d[C]=[]),P.push(u[_])}const m=[];for(const _ in d)m.push(d[_]);return m},a.identity=WC,a.interpolate=Yo,a.invert=function(u,l){var d=l[0],m=l[1],_=l[2],C=l[3],P=l[4],$=l[5],j=l[6],W=l[7],Y=l[8],Z=l[9],ee=l[10],ne=l[11],ie=l[12],de=l[13],ve=l[14],xe=l[15],Ne=d*$-m*P,Ae=d*j-_*P,Ue=d*W-C*P,He=m*j-_*$,nt=m*W-C*$,Tt=_*W-C*j,Ft=Y*de-Z*ie,Ct=Y*ve-ee*ie,St=Y*xe-ne*ie,yt=Z*ve-ee*de,It=Z*xe-ne*de,bt=ee*xe-ne*ve,ht=Ne*bt-Ae*It+Ue*yt+He*St-nt*Ct+Tt*Ft;return ht?(u[0]=($*bt-j*It+W*yt)*(ht=1/ht),u[1]=(_*It-m*bt-C*yt)*ht,u[2]=(de*Tt-ve*nt+xe*He)*ht,u[3]=(ee*nt-Z*Tt-ne*He)*ht,u[4]=(j*St-P*bt-W*Ct)*ht,u[5]=(d*bt-_*St+C*Ct)*ht,u[6]=(ve*Ue-ie*Tt-xe*Ae)*ht,u[7]=(Y*Tt-ee*Ue+ne*Ae)*ht,u[8]=(P*It-$*St+W*Ft)*ht,u[9]=(m*St-d*It-C*Ft)*ht,u[10]=(ie*nt-de*Ue+xe*Ne)*ht,u[11]=(Z*Ue-Y*nt-ne*Ne)*ht,u[12]=($*Ct-P*yt-j*Ft)*ht,u[13]=(d*yt-m*Ct+_*Ft)*ht,u[14]=(de*Ae-ie*He-ve*Ne)*ht,u[15]=(Y*He-Z*Ae+ee*Ne)*ht,u):null},a.isImageBitmap=ge,a.isSafari=we,a.isWorker=he,a.keysDifference=function(u,l){const d=[];for(const m in u)m in l||d.push(m);return d},a.lazyLoadRTLTextPlugin=function(){ha.isLoading()||ha.isLoaded()||My()!=="deferred"||Zx()},a.makeRequest=Ye,a.mapObject=N,a.mercatorXfromLng=FN,a.mercatorYfromLat=UN,a.mercatorZfromAltitude=VN,a.mul=qK,a.mul$1=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},a.multiply=HL,a.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.operations=jt,a.ortho=function(u,l,d,m,_,C,P){var $=1/(l-d),j=1/(m-_),W=1/(C-P);return u[0]=-2*$,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*j,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*W,u[11]=0,u[12]=(l+d)*$,u[13]=(_+m)*j,u[14]=(P+C)*W,u[15]=1,u},a.parseCacheControl=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,_,C)=>{const P=_||C;return l[m]=!P||P.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.parseGlyphPbf=function(u){return new ok(u).readFields(ZZ,[])},a.pbf=vN,a.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=Dn/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],d=l.layout,m=l._unevaluatedLayout._values,_={layoutIconSize:m["icon-size"].possiblyEvaluate(new Cn(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new Cn(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new Cn(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:W,maxZoom:Y}=u.bucket.textSizeData;_.compositeTextSizes=[m["text-size"].possiblyEvaluate(new Cn(W),u.canonical),m["text-size"].possiblyEvaluate(new Cn(Y),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:W,maxZoom:Y}=u.bucket.iconSizeData;_.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new Cn(W),u.canonical),m["icon-size"].possiblyEvaluate(new Cn(Y),u.canonical)]}const C=d.get("text-line-height")*_i,P=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",$=d.get("text-keep-upright"),j=d.get("text-size");for(const W of u.bucket.features){const Y=d.get("text-font").evaluate(W,{},u.canonical).join(","),Z=j.evaluate(W,{},u.canonical),ee=_.layoutTextSize.evaluate(W,{},u.canonical),ne=_.layoutIconSize.evaluate(W,{},u.canonical),ie={horizontal:{},vertical:void 0},de=W.text;let ve,xe=[0,0];if(de){const Ue=de.toString(),He=d.get("text-letter-spacing").evaluate(W,{},u.canonical)*_i,nt=zC(Ue)?He:0,Tt=d.get("text-anchor").evaluate(W,{},u.canonical),Ft=sz(l,W,u.canonical);if(!Ft){const bt=d.get("text-radial-offset").evaluate(W,{},u.canonical);xe=bt?az(Tt,[bt*_i,vk]):d.get("text-offset").evaluate(W,{},u.canonical).map(ht=>ht*_i)}let Ct=P?"center":d.get("text-justify").evaluate(W,{},u.canonical);const St=d.get("symbol-placement"),yt=St==="point"?d.get("text-max-width").evaluate(W,{},u.canonical)*_i:0,It=()=>{u.bucket.allowVerticalPlacement&&ap(Ue)&&(ie.vertical=fb(de,u.glyphMap,u.glyphPositions,u.imagePositions,Y,yt,C,Tt,"left",nt,xe,a.WritingMode.vertical,!0,St,ee,Z))};if(!P&&Ft){const bt=new Set;if(Ct==="auto")for(let Kt=0;Kt<Ft.values.length;Kt+=2)bt.add(_k(Ft.values[Kt]));else bt.add(Ct);let ht=!1;for(const Kt of bt)if(!ie.horizontal[Kt])if(ht)ie.horizontal[Kt]=ie.horizontal[0];else{const Ut=fb(de,u.glyphMap,u.glyphPositions,u.imagePositions,Y,yt,C,"center",Kt,nt,xe,a.WritingMode.horizontal,!1,St,ee,Z);Ut&&(ie.horizontal[Kt]=Ut,ht=Ut.positionedLines.length===1)}It()}else{Ct==="auto"&&(Ct=_k(Tt));const bt=fb(de,u.glyphMap,u.glyphPositions,u.imagePositions,Y,yt,C,Tt,Ct,nt,xe,a.WritingMode.horizontal,!1,St,ee,Z);bt&&(ie.horizontal[Ct]=bt),It(),ap(Ue)&&P&&$&&(ie.vertical=fb(de,u.glyphMap,u.glyphPositions,u.imagePositions,Y,yt,C,Tt,Ct,nt,xe,a.WritingMode.vertical,!1,St,ee,Z))}}let Ne=!1;if(W.icon&&W.icon.name){const Ue=u.imageMap[W.icon.name];Ue&&(ve=rX(u.imagePositions[W.icon.name],d.get("icon-offset").evaluate(W,{},u.canonical),d.get("icon-anchor").evaluate(W,{},u.canonical)),Ne=!!Ue.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Ne:u.bucket.sdfIcons!==Ne&&J("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ue.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Ae=cz(ie.horizontal)||ie.vertical;u.bucket.iconsInText=!!Ae&&Ae.iconsInText,(Ae||ve)&&_X(u.bucket,W,ie,ve,u.imageMap,_,ee,ne,xe,Ne,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.perspective=function(u,l,d,m,_){var C,P=1/Math.tan(l/2);return u[0]=P/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=P,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=(_+m)*(C=1/(m-_)),u[14]=2*_*m*C):(u[10]=-1,u[14]=-2*m),u},a.pick=function(u,l){const d={};for(let m=0;m<l.length;m++){const _=l[m];_ in u&&(d[_]=u[_])}return d},a.plugin=ha,a.pointGeometry=h,a.polygonIntersectsPolygon=BL,a.potpack=kN,a.register=Pt,a.registerForPluginStateChange=function(u){return u({pluginStatus:xo,pluginURL:Us}),Ay.on("pluginStateChange",u),u},a.renderColorRamp=XL,a.rotateX=function(u,l,d){var m=Math.sin(d),_=Math.cos(d),C=l[4],P=l[5],$=l[6],j=l[7],W=l[8],Y=l[9],Z=l[10],ee=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=C*_+W*m,u[5]=P*_+Y*m,u[6]=$*_+Z*m,u[7]=j*_+ee*m,u[8]=W*_-C*m,u[9]=Y*_-P*m,u[10]=Z*_-$*m,u[11]=ee*_-j*m,u},a.rotateZ=function(u,l,d){var m=Math.sin(d),_=Math.cos(d),C=l[0],P=l[1],$=l[2],j=l[3],W=l[4],Y=l[5],Z=l[6],ee=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=C*_+W*m,u[1]=P*_+Y*m,u[2]=$*_+Z*m,u[3]=j*_+ee*m,u[4]=W*_-C*m,u[5]=Y*_-P*m,u[6]=Z*_-$*m,u[7]=ee*_-j*m,u},a.sameOrigin=lt,a.scale=function(u,l,d){var m=d[0],_=d[1],C=d[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*_,u[5]=l[5]*_,u[6]=l[6]*_,u[7]=l[7]*_,u[8]=l[8]*C,u[9]=l[9]*C,u[10]=l[10]*C,u[11]=l[11]*C,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.setRTLTextPlugin=function(u,l,d=!1){if(xo===_f||xo===Cy||xo===ky)throw new Error("setRTLTextPlugin cannot be called multiple times.");Us=Oe.resolveURL(u),xo=_f,Ty=l,Py(),d||Zx()},a.sphericalToCartesian=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}},a.toEvaluationFeature=Gs,a.transformMat4=ob,a.translate=function(u,l,d){var m,_,C,P,$,j,W,Y,Z,ee,ne,ie,de=d[0],ve=d[1],xe=d[2];return l===u?(u[12]=l[0]*de+l[4]*ve+l[8]*xe+l[12],u[13]=l[1]*de+l[5]*ve+l[9]*xe+l[13],u[14]=l[2]*de+l[6]*ve+l[10]*xe+l[14],u[15]=l[3]*de+l[7]*ve+l[11]*xe+l[15]):(_=l[1],C=l[2],P=l[3],$=l[4],j=l[5],W=l[6],Y=l[7],Z=l[8],ee=l[9],ne=l[10],ie=l[11],u[0]=m=l[0],u[1]=_,u[2]=C,u[3]=P,u[4]=$,u[5]=j,u[6]=W,u[7]=Y,u[8]=Z,u[9]=ee,u[10]=ne,u[11]=ie,u[12]=m*de+$*ve+Z*xe+l[12],u[13]=_*de+j*ve+ee*xe+l[13],u[14]=C*de+W*ve+ne*xe+l[14],u[15]=P*de+Y*ve+ie*xe+l[15]),u},a.triggerPluginCompletionEvent=Kx,a.unicodeBlockLookup=kt,a.uniqueId=function(){return R++},a.v8Spec=Me,a.validateCustomStyleLayer=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=vf,a.validateStyle=yf,a.vectorTile=Bu,a.warnOnce=J,a.wrap=I}),o(["./shared"],function(a){class f{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,te){for(const ye of X){this._layerConfigs[ye.id]=ye;const be=this._layers[ye.id]=a.createStyleLayer(ye);be._featureFilter=a.createFilter(be.filter),this.keyCache[ye.id]&&delete this.keyCache[ye.id]}for(const ye of te)delete this.keyCache[ye],delete this._layerConfigs[ye],delete this._layers[ye];this.familiesBySource={};const se=a.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const ye of se){const be=ye.map(et=>this._layers[et.id]),Re=be[0];if(Re.visibility==="none")continue;const ke=Re.source||"";let Se=this.familiesBySource[ke];Se||(Se=this.familiesBySource[ke]={});const ze=Re.sourceLayer||"_geojsonTileLayer";let Je=Se[ze];Je||(Je=Se[ze]=[]),Je.push(be)}}}class h{constructor(X){const te={},se=[];for(const ke in X){const Se=X[ke],ze=te[ke]={};for(const Je in Se){const et=Se[+Je];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const ot={x:0,y:0,w:et.bitmap.width+2,h:et.bitmap.height+2};se.push(ot),ze[Je]={rect:ot,metrics:et.metrics}}}const{w:ye,h:be}=a.potpack(se),Re=new a.AlphaImage({width:ye||1,height:be||1});for(const ke in X){const Se=X[ke];for(const ze in Se){const Je=Se[+ze];if(!Je||Je.bitmap.width===0||Je.bitmap.height===0)continue;const et=te[ke][ze].rect;a.AlphaImage.copy(Je.bitmap,Re,{x:0,y:0},{x:et.x+1,y:et.y+1},Je.bitmap)}}this.image=Re,this.positions=te}}a.register("GlyphAtlas",h);class g{constructor(X){this.tileID=new a.OverscaledTileID(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.uid=X.uid,this.zoom=X.zoom,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.collectResourceTiming,this.returnDependencies=!!X.returnDependencies,this.promoteId=X.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(X,te,se,ye,be){this.status="parsing",this.data=X,this.collisionBoxArray=new a.CollisionBoxArray;const Re=new a.DictionaryCoder(Object.keys(X.layers).sort()),ke=new a.FeatureIndex(this.tileID,this.promoteId);ke.bucketLayerIDs=[];const Se={},ze={featureIndex:ke,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},Je=te.familiesBySource[this.source];for(const gr in Je){const Ar=X.layers[gr];if(!Ar)continue;Ar.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${gr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Vi=Re.encode(gr),gt=[];for(let Dr=0;Dr<Ar.length;Dr++){const Di=Ar.feature(Dr),Xn=ke.getId(Di,gr);gt.push({feature:Di,id:Xn,index:Dr,sourceLayerIndex:Vi})}for(const Dr of Je[gr]){const Di=Dr[0];Di.source!==this.source&&a.warnOnce(`layer.source = ${Di.source} does not equal this.source = ${this.source}`),Di.minzoom&&this.zoom<Math.floor(Di.minzoom)||Di.maxzoom&&this.zoom>=Di.maxzoom||Di.visibility!=="none"&&(y(Dr,this.zoom,se),(Se[Di.id]=Di.createBucket({index:ke.bucketLayerIDs.length,layers:Dr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Vi,sourceID:this.source})).populate(gt,ze,this.tileID.canonical),ke.bucketLayerIDs.push(Dr.map(Xn=>Xn.id)))}}let et,ot,Vt,sr;const Nt=a.mapObject(ze.glyphDependencies,gr=>Object.keys(gr).map(Number));this.inFlightDependencies.forEach(gr=>gr==null?void 0:gr.cancel()),this.inFlightDependencies=[];const Wt=++this.dependencySentinel;Object.keys(Nt).length?this.inFlightDependencies.push(ye.send("getGlyphs",{uid:this.uid,stacks:Nt,source:this.source,tileID:this.tileID,type:"glyphs"},(gr,Ar)=>{Wt===this.dependencySentinel&&(et||(et=gr,ot=Ar,Ur.call(this)))})):ot={};const ar=Object.keys(ze.iconDependencies);ar.length?this.inFlightDependencies.push(ye.send("getImages",{icons:ar,source:this.source,tileID:this.tileID,type:"icons"},(gr,Ar)=>{Wt===this.dependencySentinel&&(et||(et=gr,Vt=Ar,Ur.call(this)))})):Vt={};const Pr=Object.keys(ze.patternDependencies);function Ur(){if(et)return be(et);if(ot&&Vt&&sr){const gr=new h(ot),Ar=new a.ImageAtlas(Vt,sr);for(const Vi in Se){const gt=Se[Vi];gt instanceof a.SymbolBucket?(y(gt.layers,this.zoom,se),a.performSymbolLayout({bucket:gt,glyphMap:ot,glyphPositions:gr.positions,imageMap:Vt,imagePositions:Ar.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):gt.hasPattern&&(gt instanceof a.LineBucket||gt instanceof a.FillBucket||gt instanceof a.FillExtrusionBucket)&&(y(gt.layers,this.zoom,se),gt.addFeatures(ze,this.tileID.canonical,Ar.patternPositions))}this.status="done",be(null,{buckets:Object.values(Se).filter(Vi=>!Vi.isEmpty()),featureIndex:ke,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Ar,glyphMap:this.returnDependencies?ot:null,iconMap:this.returnDependencies?Vt:null,glyphPositions:this.returnDependencies?gr.positions:null})}}Pr.length?this.inFlightDependencies.push(ye.send("getImages",{icons:Pr,source:this.source,tileID:this.tileID,type:"patterns"},(gr,Ar)=>{Wt===this.dependencySentinel&&(et||(et=gr,sr=Ar,Ur.call(this)))})):sr={},Ur.call(this)}}function y(pe,X,te){const se=new a.EvaluationParameters(X);for(const ye of pe)ye.recalculate(se,te)}function x(pe,X){const te=a.getArrayBuffer(pe.request,(se,ye,be,Re)=>{se?X(se):ye&&X(null,{vectorTile:new a.vectorTile.VectorTile(new a.Protobuf(ye)),rawData:ye,cacheControl:be,expires:Re})});return()=>{te.cancel(),X()}}class A{constructor(X,te,se,ye){this.actor=X,this.layerIndex=te,this.availableImages=se,this.loadVectorData=ye||x,this.fetching={},this.loading={},this.loaded={}}loadTile(X,te){const se=X.uid;this.loading||(this.loading={});const ye=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request),be=this.loading[se]=new g(X);be.abort=this.loadVectorData(X,(Re,ke)=>{if(delete this.loading[se],Re||!ke)return be.status="done",this.loaded[se]=be,te(Re);const Se=ke.rawData,ze={};ke.expires&&(ze.expires=ke.expires),ke.cacheControl&&(ze.cacheControl=ke.cacheControl);const Je={};if(ye){const et=ye.finish();et&&(Je.resourceTiming=JSON.parse(JSON.stringify(et)))}be.vectorTile=ke.vectorTile,be.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor,(et,ot)=>{if(delete this.fetching[se],et||!ot)return te(et);te(null,a.extend({rawTileData:Se.slice(0)},ot,ze,Je))}),this.loaded=this.loaded||{},this.loaded[se]=be,this.fetching[se]={rawTileData:Se,cacheControl:ze,resourceTiming:Je}})}reloadTile(X,te){const se=this.loaded,ye=X.uid;if(se&&se[ye]){const be=se[ye];be.showCollisionBoxes=X.showCollisionBoxes,be.status==="parsing"?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,(Re,ke)=>{if(Re||!ke)return te(Re,ke);let Se;if(this.fetching[ye]){const{rawTileData:ze,cacheControl:Je,resourceTiming:et}=this.fetching[ye];delete this.fetching[ye],Se=a.extend({rawTileData:ze.slice(0)},ke,Je,et)}else Se=ke;te(null,Se)}):be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,te):te())}}abortTile(X,te){const se=this.loading,ye=X.uid;se&&se[ye]&&se[ye].abort&&(se[ye].abort(),delete se[ye]),te()}removeTile(X,te){const se=this.loaded,ye=X.uid;se&&se[ye]&&delete se[ye],te()}}class T{constructor(){this.loaded={}}loadTile(X,te){const{uid:se,encoding:ye,rawImageData:be}=X,Re=a.isImageBitmap(be)?this.getImageData(be):be,ke=new a.DEMData(se,Re,ye);this.loaded=this.loaded||{},this.loaded[se]=ke,te(null,ke)}getImageData(X){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(X.width,X.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=X.width,this.offscreenCanvas.height=X.height,this.offscreenCanvasContext.drawImage(X,0,0,X.width,X.height);const te=this.offscreenCanvasContext.getImageData(-1,-1,X.width+2,X.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:te.width,height:te.height},te.data)}removeTile(X){const te=this.loaded,se=X.uid;te&&te[se]&&delete te[se]}}function w(pe,X){if(pe.length!==0){M(pe[0],X);for(var te=1;te<pe.length;te++)M(pe[te],!X)}}function M(pe,X){for(var te=0,se=0,ye=0,be=pe.length,Re=be-1;ye<be;Re=ye++){var ke=(pe[ye][0]-pe[Re][0])*(pe[Re][1]+pe[ye][1]),Se=te+ke;se+=Math.abs(te)>=Math.abs(ke)?te-Se+ke:ke-Se+te,te=Se}te+se>=0!=!!X&&pe.reverse()}var O=a.getDefaultExportFromCjs(function pe(X,te){var se,ye=X&&X.type;if(ye==="FeatureCollection")for(se=0;se<X.features.length;se++)pe(X.features[se],te);else if(ye==="GeometryCollection")for(se=0;se<X.geometries.length;se++)pe(X.geometries[se],te);else if(ye==="Feature")pe(X.geometry,te);else if(ye==="Polygon")w(X.coordinates,te);else if(ye==="MultiPolygon")for(se=0;se<X.coordinates.length;se++)w(X.coordinates[se],te);return X});const I=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;var E={exports:{}},R=a.pointGeometry,N=a.vectorTile.VectorTileFeature,D=F;function F(pe,X){this.options=X||{},this.features=pe,this.length=pe.length}function q(pe,X){this.id=typeof pe.id=="number"?pe.id:void 0,this.type=pe.type,this.rawGeometry=pe.type===1?[pe.geometry]:pe.geometry,this.properties=pe.tags,this.extent=X||4096}F.prototype.feature=function(pe){return new q(this.features[pe],this.options.extent)},q.prototype.loadGeometry=function(){var pe=this.rawGeometry;this.geometry=[];for(var X=0;X<pe.length;X++){for(var te=pe[X],se=[],ye=0;ye<te.length;ye++)se.push(new R(te[ye][0],te[ye][1]));this.geometry.push(se)}return this.geometry},q.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pe=this.geometry,X=1/0,te=-1/0,se=1/0,ye=-1/0,be=0;be<pe.length;be++)for(var Re=pe[be],ke=0;ke<Re.length;ke++){var Se=Re[ke];X=Math.min(X,Se.x),te=Math.max(te,Se.x),se=Math.min(se,Se.y),ye=Math.max(ye,Se.y)}return[X,se,te,ye]},q.prototype.toGeoJSON=N.prototype.toGeoJSON;var J=a.pbf,Q=D;function ae(pe){var X=new J;return function(te,se){for(var ye in te.layers)se.writeMessage(3,he,te.layers[ye])}(pe,X),X.finish()}function he(pe,X){var te;X.writeVarintField(15,pe.version||1),X.writeStringField(1,pe.name||""),X.writeVarintField(5,pe.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(te=0;te<pe.length;te++)se.feature=pe.feature(te),X.writeMessage(2,fe,se);var ye=se.keys;for(te=0;te<ye.length;te++)X.writeStringField(3,ye[te]);var be=se.values;for(te=0;te<be.length;te++)X.writeMessage(4,Ee,be[te])}function fe(pe,X){var te=pe.feature;te.id!==void 0&&X.writeVarintField(1,te.id),X.writeMessage(2,we,pe),X.writeVarintField(3,te.type),X.writeMessage(4,Te,te)}function we(pe,X){var te=pe.feature,se=pe.keys,ye=pe.values,be=pe.keycache,Re=pe.valuecache;for(var ke in te.properties){var Se=te.properties[ke],ze=be[ke];if(Se!==null){ze===void 0&&(se.push(ke),be[ke]=ze=se.length-1),X.writeVarint(ze);var Je=typeof Se;Je!=="string"&&Je!=="boolean"&&Je!=="number"&&(Se=JSON.stringify(Se));var et=Je+":"+Se,ot=Re[et];ot===void 0&&(ye.push(Se),Re[et]=ot=ye.length-1),X.writeVarint(ot)}}}function ge(pe,X){return(X<<3)+(7&pe)}function Ce(pe){return pe<<1^pe>>31}function Te(pe,X){for(var te=pe.loadGeometry(),se=pe.type,ye=0,be=0,Re=te.length,ke=0;ke<Re;ke++){var Se=te[ke],ze=1;se===1&&(ze=Se.length),X.writeVarint(ge(1,ze));for(var Je=se===3?Se.length-1:Se.length,et=0;et<Je;et++){et===1&&se!==1&&X.writeVarint(ge(2,Je-1));var ot=Se[et].x-ye,Vt=Se[et].y-be;X.writeVarint(Ce(ot)),X.writeVarint(Ce(Vt)),ye+=ot,be+=Vt}se===3&&X.writeVarint(ge(7,1))}}function Ee(pe,X){var te=typeof pe;te==="string"?X.writeStringField(1,pe):te==="boolean"?X.writeBooleanField(7,pe):te==="number"&&(pe%1!=0?X.writeDoubleField(3,pe):pe<0?X.writeSVarintField(6,pe):X.writeVarintField(5,pe))}E.exports=ae,E.exports.fromVectorTileJs=ae,E.exports.fromGeojsonVt=function(pe,X){X=X||{};var te={};for(var se in pe)te[se]=new Q(pe[se].features,X),te[se].name=se,te[se].version=X.version,te[se].extent=X.extent;return ae({layers:te})},E.exports.GeoJSONWrapper=Q;var Oe=a.getDefaultExportFromCjs(E.exports);const qe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:pe=>pe},rt=Math.fround||(Pe=new Float32Array(1),pe=>(Pe[0]=+pe,Pe[0]));var Pe;const je=3,Le=5,Ye=6;class Be{constructor(X){this.options=Object.assign(Object.create(qe),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:te,minZoom:se,maxZoom:ye}=this.options;te&&console.time("total time");const be=`prepare ${X.length} points`;te&&console.time(be),this.points=X;const Re=[];for(let Se=0;Se<X.length;Se++){const ze=X[Se];if(!ze.geometry)continue;const[Je,et]=ze.geometry.coordinates,ot=rt(Ve(Je)),Vt=rt(Xe(et));Re.push(ot,Vt,1/0,Se,-1,1),this.options.reduce&&Re.push(0)}let ke=this.trees[ye+1]=this._createTree(Re);te&&console.timeEnd(be);for(let Se=ye;Se>=se;Se--){const ze=+Date.now();ke=this.trees[Se]=this._createTree(this._cluster(ke,Se)),te&&console.log("z%d: %d clusters in %dms",Se,ke.numItems,+Date.now()-ze)}return te&&console.timeEnd("total time"),this}getClusters(X,te){let se=((X[0]+180)%360+360)%360-180;const ye=Math.max(-90,Math.min(90,X[1]));let be=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)se=-180,be=180;else if(se>be){const et=this.getClusters([se,ye,180,Re],te),ot=this.getClusters([-180,ye,be,Re],te);return et.concat(ot)}const ke=this.trees[this._limitZoom(te)],Se=ke.range(Ve(se),Xe(Re),Ve(be),Xe(ye)),ze=ke.data,Je=[];for(const et of Se){const ot=this.stride*et;Je.push(ze[ot+Le]>1?lt(ze,ot,this.clusterProps):this.points[ze[ot+je]])}return Je}getChildren(X){const te=this._getOriginId(X),se=this._getOriginZoom(X),ye="No cluster with the specified id.",be=this.trees[se];if(!be)throw new Error(ye);const Re=be.data;if(te*this.stride>=Re.length)throw new Error(ye);const ke=this.options.radius/(this.options.extent*Math.pow(2,se-1)),Se=be.within(Re[te*this.stride],Re[te*this.stride+1],ke),ze=[];for(const Je of Se){const et=Je*this.stride;Re[et+4]===X&&ze.push(Re[et+Le]>1?lt(Re,et,this.clusterProps):this.points[Re[et+je]])}if(ze.length===0)throw new Error(ye);return ze}getLeaves(X,te,se){const ye=[];return this._appendLeaves(ye,X,te=te||10,se=se||0,0),ye}getTile(X,te,se){const ye=this.trees[this._limitZoom(X)],be=Math.pow(2,X),{extent:Re,radius:ke}=this.options,Se=ke/Re,ze=(se-Se)/be,Je=(se+1+Se)/be,et={features:[]};return this._addTileFeatures(ye.range((te-Se)/be,ze,(te+1+Se)/be,Je),ye.data,te,se,be,et),te===0&&this._addTileFeatures(ye.range(1-Se/be,ze,1,Je),ye.data,be,se,be,et),te===be-1&&this._addTileFeatures(ye.range(0,ze,Se/be,Je),ye.data,-1,se,be,et),et.features.length?et:null}getClusterExpansionZoom(X){let te=this._getOriginZoom(X)-1;for(;te<=this.options.maxZoom;){const se=this.getChildren(X);if(te++,se.length!==1)break;X=se[0].properties.cluster_id}return te}_appendLeaves(X,te,se,ye,be){const Re=this.getChildren(te);for(const ke of Re){const Se=ke.properties;if(Se&&Se.cluster?be+Se.point_count<=ye?be+=Se.point_count:be=this._appendLeaves(X,Se.cluster_id,se,ye,be):be<ye?be++:X.push(ke),X.length===se)break}return be}_createTree(X){const te=new a.KDBush(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<X.length;se+=this.stride)te.add(X[se],X[se+1]);return te.finish(),te.data=X,te}_addTileFeatures(X,te,se,ye,be,Re){for(const ke of X){const Se=ke*this.stride,ze=te[Se+Le]>1;let Je,et,ot;if(ze)Je=it(te,Se,this.clusterProps),et=te[Se],ot=te[Se+1];else{const Nt=this.points[te[Se+je]];Je=Nt.properties;const[Wt,ar]=Nt.geometry.coordinates;et=Ve(Wt),ot=Xe(ar)}const Vt={type:1,geometry:[[Math.round(this.options.extent*(et*be-se)),Math.round(this.options.extent*(ot*be-ye))]],tags:Je};let sr;sr=ze||this.options.generateId?te[Se+je]:this.points[te[Se+je]].id,sr!==void 0&&(Vt.id=sr),Re.features.push(Vt)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,te){const{radius:se,extent:ye,reduce:be,minPoints:Re}=this.options,ke=se/(ye*Math.pow(2,te)),Se=X.data,ze=[],Je=this.stride;for(let et=0;et<Se.length;et+=Je){if(Se[et+2]<=te)continue;Se[et+2]=te;const ot=Se[et],Vt=Se[et+1],sr=X.within(Se[et],Se[et+1],ke),Nt=Se[et+Le];let Wt=Nt;for(const ar of sr){const Pr=ar*Je;Se[Pr+2]>te&&(Wt+=Se[Pr+Le])}if(Wt>Nt&&Wt>=Re){let ar,Pr=ot*Nt,Ur=Vt*Nt,gr=-1;const Ar=((et/Je|0)<<5)+(te+1)+this.points.length;for(const Vi of sr){const gt=Vi*Je;if(Se[gt+2]<=te)continue;Se[gt+2]=te;const Dr=Se[gt+Le];Pr+=Se[gt]*Dr,Ur+=Se[gt+1]*Dr,Se[gt+4]=Ar,be&&(ar||(ar=this._map(Se,et,!0),gr=this.clusterProps.length,this.clusterProps.push(ar)),be(ar,this._map(Se,gt)))}Se[et+4]=Ar,ze.push(Pr/Wt,Ur/Wt,1/0,Ar,-1,Wt),be&&ze.push(gr)}else{for(let ar=0;ar<Je;ar++)ze.push(Se[et+ar]);if(Wt>1)for(const ar of sr){const Pr=ar*Je;if(!(Se[Pr+2]<=te)){Se[Pr+2]=te;for(let Ur=0;Ur<Je;Ur++)ze.push(Se[Pr+Ur])}}}}return ze}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,te,se){if(X[te+Le]>1){const Re=this.clusterProps[X[te+Ye]];return se?Object.assign({},Re):Re}const ye=this.points[X[te+je]].properties,be=this.options.map(ye);return se&&be===ye?Object.assign({},be):be}}function lt(pe,X,te){return{type:"Feature",id:pe[X+je],properties:it(pe,X,te),geometry:{type:"Point",coordinates:[(se=pe[X],360*(se-.5)),ct(pe[X+1])]}};var se}function it(pe,X,te){const se=pe[X+Le],ye=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,be=pe[X+Ye],Re=be===-1?{}:Object.assign({},te[be]);return Object.assign(Re,{cluster:!0,cluster_id:pe[X+je],point_count:se,point_count_abbreviated:ye})}function Ve(pe){return pe/360+.5}function Xe(pe){const X=Math.sin(pe*Math.PI/180),te=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return te<0?0:te>1?1:te}function ct(pe){const X=(180-360*pe)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function Fe(pe,X,te,se){for(var ye,be=se,Re=te-X>>1,ke=te-X,Se=pe[X],ze=pe[X+1],Je=pe[te],et=pe[te+1],ot=X+3;ot<te;ot+=3){var Vt=Me(pe[ot],pe[ot+1],Se,ze,Je,et);if(Vt>be)ye=ot,be=Vt;else if(Vt===be){var sr=Math.abs(ot-Re);sr<ke&&(ye=ot,ke=sr)}}be>se&&(ye-X>3&&Fe(pe,X,ye,se),pe[ye+2]=be,te-ye>3&&Fe(pe,ye,te,se))}function Me(pe,X,te,se,ye,be){var Re=ye-te,ke=be-se;if(Re!==0||ke!==0){var Se=((pe-te)*Re+(X-se)*ke)/(Re*Re+ke*ke);Se>1?(te=ye,se=be):Se>0&&(te+=Re*Se,se+=ke*Se)}return(Re=pe-te)*Re+(ke=X-se)*ke}function Et(pe,X,te,se){var ye={id:pe===void 0?null:pe,type:X,geometry:te,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var Re=be.geometry,ke=be.type;if(ke==="Point"||ke==="MultiPoint"||ke==="LineString")Zt(be,Re);else if(ke==="Polygon"||ke==="MultiLineString")for(var Se=0;Se<Re.length;Se++)Zt(be,Re[Se]);else if(ke==="MultiPolygon")for(Se=0;Se<Re.length;Se++)for(var ze=0;ze<Re[Se].length;ze++)Zt(be,Re[Se][ze])}(ye),ye}function Zt(pe,X){for(var te=0;te<X.length;te+=3)pe.minX=Math.min(pe.minX,X[te]),pe.minY=Math.min(pe.minY,X[te+1]),pe.maxX=Math.max(pe.maxX,X[te]),pe.maxY=Math.max(pe.maxY,X[te+1])}function Ot(pe,X,te,se){if(X.geometry){var ye=X.geometry.coordinates,be=X.geometry.type,Re=Math.pow(te.tolerance/((1<<te.maxZoom)*te.extent),2),ke=[],Se=X.id;if(te.promoteId?Se=X.properties[te.promoteId]:te.generateId&&(Se=se||0),be==="Point")jt(ye,ke);else if(be==="MultiPoint")for(var ze=0;ze<ye.length;ze++)jt(ye[ze],ke);else if(be==="LineString")Mr(ye,ke,Re,!1);else if(be==="MultiLineString"){if(te.lineMetrics){for(ze=0;ze<ye.length;ze++)Mr(ye[ze],ke=[],Re,!1),pe.push(Et(Se,"LineString",ke,X.properties));return}Hr(ye,ke,Re,!1)}else if(be==="Polygon")Hr(ye,ke,Re,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for(ze=0;ze<X.geometry.geometries.length;ze++)Ot(pe,{id:Se,geometry:X.geometry.geometries[ze],properties:X.properties},te,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ze=0;ze<ye.length;ze++){var Je=[];Hr(ye[ze],Je,Re,!0),ke.push(Je)}}pe.push(Et(Se,be,ke,X.properties))}}function jt(pe,X){X.push(pr(pe[0])),X.push(Sr(pe[1])),X.push(0)}function Mr(pe,X,te,se){for(var ye,be,Re=0,ke=0;ke<pe.length;ke++){var Se=pr(pe[ke][0]),ze=Sr(pe[ke][1]);X.push(Se),X.push(ze),X.push(0),ke>0&&(Re+=se?(ye*ze-Se*be)/2:Math.sqrt(Math.pow(Se-ye,2)+Math.pow(ze-be,2))),ye=Se,be=ze}var Je=X.length-3;X[2]=1,Fe(X,0,Je,te),X[Je+2]=1,X.size=Math.abs(Re),X.start=0,X.end=X.size}function Hr(pe,X,te,se){for(var ye=0;ye<pe.length;ye++){var be=[];Mr(pe[ye],be,te,se),X.push(be)}}function pr(pe){return pe/360+.5}function Sr(pe){var X=Math.sin(pe*Math.PI/180),te=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return te<0?0:te>1?1:te}function cr(pe,X,te,se,ye,be,Re,ke){if(se/=X,be>=(te/=X)&&Re<se)return pe;if(Re<te||be>=se)return null;for(var Se=[],ze=0;ze<pe.length;ze++){var Je=pe[ze],et=Je.geometry,ot=Je.type,Vt=ye===0?Je.minX:Je.minY,sr=ye===0?Je.maxX:Je.maxY;if(Vt>=te&&sr<se)Se.push(Je);else if(!(sr<te||Vt>=se)){var Nt=[];if(ot==="Point"||ot==="MultiPoint")Er(et,Nt,te,se,ye);else if(ot==="LineString")un(et,Nt,te,se,ye,!1,ke.lineMetrics);else if(ot==="MultiLineString")Ir(et,Nt,te,se,ye,!1);else if(ot==="Polygon")Ir(et,Nt,te,se,ye,!0);else if(ot==="MultiPolygon")for(var Wt=0;Wt<et.length;Wt++){var ar=[];Ir(et[Wt],ar,te,se,ye,!0),ar.length&&Nt.push(ar)}if(Nt.length){if(ke.lineMetrics&&ot==="LineString"){for(Wt=0;Wt<Nt.length;Wt++)Se.push(Et(Je.id,ot,Nt[Wt],Je.tags));continue}ot!=="LineString"&&ot!=="MultiLineString"||(Nt.length===1?(ot="LineString",Nt=Nt[0]):ot="MultiLineString"),ot!=="Point"&&ot!=="MultiPoint"||(ot=Nt.length===3?"Point":"MultiPoint"),Se.push(Et(Je.id,ot,Nt,Je.tags))}}}return Se.length?Se:null}function Er(pe,X,te,se,ye){for(var be=0;be<pe.length;be+=3){var Re=pe[be+ye];Re>=te&&Re<=se&&(X.push(pe[be]),X.push(pe[be+1]),X.push(pe[be+2]))}}function un(pe,X,te,se,ye,be,Re){for(var ke,Se,ze=ut(pe),Je=ye===0?mr:Jt,et=pe.start,ot=0;ot<pe.length-3;ot+=3){var Vt=pe[ot],sr=pe[ot+1],Nt=pe[ot+2],Wt=pe[ot+3],ar=pe[ot+4],Pr=ye===0?Vt:sr,Ur=ye===0?Wt:ar,gr=!1;Re&&(ke=Math.sqrt(Math.pow(Vt-Wt,2)+Math.pow(sr-ar,2))),Pr<te?Ur>te&&(Se=Je(ze,Vt,sr,Wt,ar,te),Re&&(ze.start=et+ke*Se)):Pr>se?Ur<se&&(Se=Je(ze,Vt,sr,Wt,ar,se),Re&&(ze.start=et+ke*Se)):en(ze,Vt,sr,Nt),Ur<te&&Pr>=te&&(Se=Je(ze,Vt,sr,Wt,ar,te),gr=!0),Ur>se&&Pr<=se&&(Se=Je(ze,Vt,sr,Wt,ar,se),gr=!0),!be&&gr&&(Re&&(ze.end=et+ke*Se),X.push(ze),ze=ut(pe)),Re&&(et+=ke)}var Ar=pe.length-3;Vt=pe[Ar],sr=pe[Ar+1],Nt=pe[Ar+2],(Pr=ye===0?Vt:sr)>=te&&Pr<=se&&en(ze,Vt,sr,Nt),Ar=ze.length-3,be&&Ar>=3&&(ze[Ar]!==ze[0]||ze[Ar+1]!==ze[1])&&en(ze,ze[0],ze[1],ze[2]),ze.length&&X.push(ze)}function ut(pe){var X=[];return X.size=pe.size,X.start=pe.start,X.end=pe.end,X}function Ir(pe,X,te,se,ye,be){for(var Re=0;Re<pe.length;Re++)un(pe[Re],X,te,se,ye,be,!1)}function en(pe,X,te,se){pe.push(X),pe.push(te),pe.push(se)}function mr(pe,X,te,se,ye,be){var Re=(be-X)/(se-X);return pe.push(be),pe.push(te+(ye-te)*Re),pe.push(1),Re}function Jt(pe,X,te,se,ye,be){var Re=(be-te)/(ye-te);return pe.push(X+(se-X)*Re),pe.push(be),pe.push(1),Re}function Ke(pe,X){for(var te=[],se=0;se<pe.length;se++){var ye,be=pe[se],Re=be.type;if(Re==="Point"||Re==="MultiPoint"||Re==="LineString")ye=At(be.geometry,X);else if(Re==="MultiLineString"||Re==="Polygon"){ye=[];for(var ke=0;ke<be.geometry.length;ke++)ye.push(At(be.geometry[ke],X))}else if(Re==="MultiPolygon")for(ye=[],ke=0;ke<be.geometry.length;ke++){for(var Se=[],ze=0;ze<be.geometry[ke].length;ze++)Se.push(At(be.geometry[ke][ze],X));ye.push(Se)}te.push(Et(be.id,Re,ye,be.tags))}return te}function At(pe,X){var te=[];te.size=pe.size,pe.start!==void 0&&(te.start=pe.start,te.end=pe.end);for(var se=0;se<pe.length;se+=3)te.push(pe[se]+X,pe[se+1],pe[se+2]);return te}function $t(pe,X){if(pe.transformed)return pe;var te,se,ye,be=1<<pe.z,Re=pe.x,ke=pe.y;for(te=0;te<pe.features.length;te++){var Se=pe.features[te],ze=Se.geometry,Je=Se.type;if(Se.geometry=[],Je===1)for(se=0;se<ze.length;se+=2)Se.geometry.push(tn(ze[se],ze[se+1],X,be,Re,ke));else for(se=0;se<ze.length;se++){var et=[];for(ye=0;ye<ze[se].length;ye+=2)et.push(tn(ze[se][ye],ze[se][ye+1],X,be,Re,ke));Se.geometry.push(et)}}return pe.transformed=!0,pe}function tn(pe,X,te,se,ye,be){return[Math.round(te*(pe*se-ye)),Math.round(te*(X*se-be))]}function no(pe,X,te,se,ye){for(var be=X===ye.maxZoom?0:ye.tolerance/((1<<X)*ye.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:te,y:se,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ke=0;ke<pe.length;ke++){Re.numFeatures++,Xt(Re,pe[ke],be,ye);var Se=pe[ke].minX,ze=pe[ke].minY,Je=pe[ke].maxX,et=pe[ke].maxY;Se<Re.minX&&(Re.minX=Se),ze<Re.minY&&(Re.minY=ze),Je>Re.maxX&&(Re.maxX=Je),et>Re.maxY&&(Re.maxY=et)}return Re}function Xt(pe,X,te,se){var ye=X.geometry,be=X.type,Re=[];if(be==="Point"||be==="MultiPoint")for(var ke=0;ke<ye.length;ke+=3)Re.push(ye[ke]),Re.push(ye[ke+1]),pe.numPoints++,pe.numSimplified++;else if(be==="LineString")vo(Re,ye,pe,te,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(ke=0;ke<ye.length;ke++)vo(Re,ye[ke],pe,te,be==="Polygon",ke===0);else if(be==="MultiPolygon")for(var Se=0;Se<ye.length;Se++){var ze=ye[Se];for(ke=0;ke<ze.length;ke++)vo(Re,ze[ke],pe,te,!0,ke===0)}if(Re.length){var Je=X.tags||null;if(be==="LineString"&&se.lineMetrics){for(var et in Je={},X.tags)Je[et]=X.tags[et];Je.mapbox_clip_start=ye.start/ye.size,Je.mapbox_clip_end=ye.end/ye.size}var ot={geometry:Re,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:Je};X.id!==null&&(ot.id=X.id),pe.features.push(ot)}}function vo(pe,X,te,se,ye,be){var Re=se*se;if(se>0&&X.size<(ye?Re:se))te.numPoints+=X.length/3;else{for(var ke=[],Se=0;Se<X.length;Se+=3)(se===0||X[Se+2]>Re)&&(te.numSimplified++,ke.push(X[Se]),ke.push(X[Se+1])),te.numPoints++;ye&&function(ze,Je){for(var et=0,ot=0,Vt=ze.length,sr=Vt-2;ot<Vt;sr=ot,ot+=2)et+=(ze[ot]-ze[sr])*(ze[ot+1]+ze[sr+1]);if(et>0===Je)for(ot=0,Vt=ze.length;ot<Vt/2;ot+=2){var Nt=ze[ot],Wt=ze[ot+1];ze[ot]=ze[Vt-2-ot],ze[ot+1]=ze[Vt-1-ot],ze[Vt-2-ot]=Nt,ze[Vt-1-ot]=Wt}}(ke,be),pe.push(ke)}}function Wo(pe,X){var te=(X=this.options=function(ye,be){for(var Re in be)ye[Re]=be[Re];return ye}(Object.create(this.options),X)).debug;if(te&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(ye,be){var Re=[];if(ye.type==="FeatureCollection")for(var ke=0;ke<ye.features.length;ke++)Ot(Re,ye.features[ke],be,ke);else Ot(Re,ye.type==="Feature"?ye:{geometry:ye},be);return Re}(pe,X);this.tiles={},this.tileCoords=[],te&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(ye,be){var Re=be.buffer/be.extent,ke=ye,Se=cr(ye,1,-1-Re,Re,0,-1,2,be),ze=cr(ye,1,1-Re,2+Re,0,-1,2,be);return(Se||ze)&&(ke=cr(ye,1,-Re,1+Re,0,-1,2,be)||[],Se&&(ke=Ke(Se,1).concat(ke)),ze&&(ke=ke.concat(Ke(ze,-1)))),ke}(se,X),se.length&&this.splitTile(se,0,0,0),te&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Aa(pe,X,te){return 32*((1<<pe)*te+X)+pe}function _o(pe,X){return X?pe.properties[X]:pe.id}function is(pe,X){if(pe==null)return!0;if(pe.type==="Feature")return _o(pe,X)!=null;if(pe.type==="FeatureCollection"){const te=new Set;for(const se of pe.features){const ye=_o(se,X);if(ye==null||te.has(ye))return!1;te.add(ye)}return!0}return!1}function yi(pe,X){const te=new Map;if(pe!=null)if(pe.type==="Feature")te.set(_o(pe,X),pe);else for(const se of pe.features)te.set(_o(se,X),se);return te}function Gr(pe,X){const te=pe.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const se=this._geoJSONIndex.getTile(te.z,te.x,te.y);if(!se)return X(null,null);const ye=new class{constructor(Re){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Re.length,this._features=Re}feature(Re){return new class{constructor(ke){this._feature=ke,this.extent=a.EXTENT,this.type=ke.type,this.properties=ke.tags,"id"in ke&&!isNaN(ke.id)&&(this.id=parseInt(ke.id,10))}loadGeometry(){if(this._feature.type===1){const ke=[];for(const Se of this._feature.geometry)ke.push([new a.Point(Se[0],Se[1])]);return ke}{const ke=[];for(const Se of this._feature.geometry){const ze=[];for(const Je of Se)ze.push(new a.Point(Je[0],Je[1]));ke.push(ze)}return ke}}toGeoJSON(ke,Se,ze){return I.call(this,ke,Se,ze)}}(this._features[Re])}}(se.features);let be=Oe(ye);be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),X(null,{vectorTile:ye,rawData:be.buffer})}Wo.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Wo.prototype.splitTile=function(pe,X,te,se,ye,be,Re){for(var ke=[pe,X,te,se],Se=this.options,ze=Se.debug;ke.length;){se=ke.pop(),te=ke.pop(),X=ke.pop(),pe=ke.pop();var Je=1<<X,et=Aa(X,te,se),ot=this.tiles[et];if(!ot&&(ze>1&&console.time("creation"),ot=this.tiles[et]=no(pe,X,te,se,Se),this.tileCoords.push({z:X,x:te,y:se}),ze)){ze>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,te,se,ot.numFeatures,ot.numPoints,ot.numSimplified),console.timeEnd("creation"));var Vt="z"+X;this.stats[Vt]=(this.stats[Vt]||0)+1,this.total++}if(ot.source=pe,ye){if(X===Se.maxZoom||X===ye)continue;var sr=1<<ye-X;if(te!==Math.floor(be/sr)||se!==Math.floor(Re/sr))continue}else if(X===Se.indexMaxZoom||ot.numPoints<=Se.indexMaxPoints)continue;if(ot.source=null,pe.length!==0){ze>1&&console.time("clipping");var Nt,Wt,ar,Pr,Ur,gr,Ar=.5*Se.buffer/Se.extent,Vi=.5-Ar,gt=.5+Ar,Dr=1+Ar;Nt=Wt=ar=Pr=null,Ur=cr(pe,Je,te-Ar,te+gt,0,ot.minX,ot.maxX,Se),gr=cr(pe,Je,te+Vi,te+Dr,0,ot.minX,ot.maxX,Se),pe=null,Ur&&(Nt=cr(Ur,Je,se-Ar,se+gt,1,ot.minY,ot.maxY,Se),Wt=cr(Ur,Je,se+Vi,se+Dr,1,ot.minY,ot.maxY,Se),Ur=null),gr&&(ar=cr(gr,Je,se-Ar,se+gt,1,ot.minY,ot.maxY,Se),Pr=cr(gr,Je,se+Vi,se+Dr,1,ot.minY,ot.maxY,Se),gr=null),ze>1&&console.timeEnd("clipping"),ke.push(Nt||[],X+1,2*te,2*se),ke.push(Wt||[],X+1,2*te,2*se+1),ke.push(ar||[],X+1,2*te+1,2*se),ke.push(Pr||[],X+1,2*te+1,2*se+1)}}},Wo.prototype.getTile=function(pe,X,te){var se=this.options,ye=se.extent,be=se.debug;if(pe<0||pe>24)return null;var Re=1<<pe,ke=Aa(pe,X=(X%Re+Re)%Re,te);if(this.tiles[ke])return $t(this.tiles[ke],ye);be>1&&console.log("drilling down to z%d-%d-%d",pe,X,te);for(var Se,ze=pe,Je=X,et=te;!Se&&ze>0;)ze--,Je=Math.floor(Je/2),et=Math.floor(et/2),Se=this.tiles[Aa(ze,Je,et)];return Se&&Se.source?(be>1&&console.log("found parent tile z%d-%d-%d",ze,Je,et),be>1&&console.time("drilling down"),this.splitTile(Se.source,ze,Je,et,pe,X,te),be>1&&console.timeEnd("drilling down"),this.tiles[ke]?$t(this.tiles[ke],ye):null):null};class Cl extends A{constructor(X,te,se,ye){super(X,te,se,Gr),this._dataUpdateable=new Map,this.loadGeoJSON=(be,Re)=>{const{promoteId:ke}=be;if(be.request)return a.getJSON(be.request,(Se,ze,Je,et)=>{this._dataUpdateable=is(ze,ke)?yi(ze,ke):void 0,Re(Se,ze,Je,et)});if(typeof be.data=="string")try{const Se=JSON.parse(be.data);this._dataUpdateable=is(Se,ke)?yi(Se,ke):void 0,Re(null,Se)}catch{Re(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}else be.dataDiff?this._dataUpdateable?(function(Se,ze,Je){var et,ot,Vt,sr;if(ze.removeAll&&Se.clear(),ze.remove)for(const Nt of ze.remove)Se.delete(Nt);if(ze.add)for(const Nt of ze.add){const Wt=_o(Nt,Je);Wt!=null&&Se.set(Wt,Nt)}if(ze.update)for(const Nt of ze.update){let Wt=Se.get(Nt.id);if(Wt==null)continue;const ar=!Nt.removeAllProperties&&(((et=Nt.removeProperties)===null||et===void 0?void 0:et.length)>0||((ot=Nt.addOrUpdateProperties)===null||ot===void 0?void 0:ot.length)>0);if((Nt.newGeometry||Nt.removeAllProperties||ar)&&(Wt={...Wt},Se.set(Nt.id,Wt),ar&&(Wt.properties={...Wt.properties})),Nt.newGeometry&&(Wt.geometry=Nt.newGeometry),Nt.removeAllProperties)Wt.properties={};else if(((Vt=Nt.removeProperties)===null||Vt===void 0?void 0:Vt.length)>0)for(const Pr of Nt.removeProperties)Object.prototype.hasOwnProperty.call(Wt.properties,Pr)&&delete Wt.properties[Pr];if(((sr=Nt.addOrUpdateProperties)===null||sr===void 0?void 0:sr.length)>0)for(const{key:Pr,value:Ur}of Nt.addOrUpdateProperties)Wt.properties[Pr]=Ur}}(this._dataUpdateable,be.dataDiff,ke),Re(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Re(new Error(`Cannot update existing geojson data in ${be.source}`)):Re(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},ye&&(this.loadGeoJSON=ye)}loadData(X,te){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ye=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request);this._pendingCallback=te,this._pendingRequest=this.loadGeoJSON(X,(be,Re)=>{if(delete this._pendingCallback,delete this._pendingRequest,be||!Re)return te(be);if(typeof Re!="object")return te(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{O(Re,!0);try{if(X.filter){const Se=a.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map(Je=>`${Je.key}: ${Je.message}`).join(", "));Re={type:"FeatureCollection",features:Re.features.filter(Je=>Se.value.evaluate({zoom:0},Je))}}this._geoJSONIndex=X.cluster?new Be(function({superclusterOptions:Se,clusterProperties:ze}){if(!ze||!Se)return Se;const Je={},et={},ot={accumulated:null,zoom:0},Vt={properties:null},sr=Object.keys(ze);for(const Nt of sr){const[Wt,ar]=ze[Nt],Pr=a.createExpression(ar),Ur=a.createExpression(typeof Wt=="string"?[Wt,["accumulated"],["get",Nt]]:Wt);Je[Nt]=Pr.value,et[Nt]=Ur.value}return Se.map=Nt=>{Vt.properties=Nt;const Wt={};for(const ar of sr)Wt[ar]=Je[ar].evaluate(ot,Vt);return Wt},Se.reduce=(Nt,Wt)=>{Vt.properties=Wt;for(const ar of sr)ot.accumulated=Nt[ar],Nt[ar]=et[ar].evaluate(ot,Vt)},Se}(X)).load(Re.features):function(Se,ze){return new Wo(Se,ze)}(Re,X.geojsonVtOptions)}catch(Se){return te(Se)}this.loaded={};const ke={};if(ye){const Se=ye.finish();Se&&(ke.resourceTiming={},ke.resourceTiming[X.source]=JSON.parse(JSON.stringify(Se)))}te(null,ke)}})}reloadTile(X,te){const se=this.loaded;return se&&se[X.uid]?super.reloadTile(X,te):this.loadTile(X,te)}removeSource(X,te){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),te()}getClusterExpansionZoom(X,te){try{te(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(se){te(se)}}getClusterChildren(X,te){try{te(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(se){te(se)}}getClusterLeaves(X,te){try{te(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(se){te(se)}}}class qo{constructor(X){this.self=X,this.actor=new a.Actor(X,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:A,geojson:Cl},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(te,se)=>{if(this.workerSourceTypes[te])throw new Error(`Worker source with name "${te}" already registered.`);this.workerSourceTypes[te]=se},this.self.registerRTLTextPlugin=te=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=te.applyArabicShaping,a.plugin.processBidirectionalText=te.processBidirectionalText,a.plugin.processStyledBidirectionalText=te.processStyledBidirectionalText}}setReferrer(X,te){this.referrer=te}setImages(X,te,se){this.availableImages[X]=te;for(const ye in this.workerSources[X]){const be=this.workerSources[X][ye];for(const Re in be)be[Re].availableImages=te}se()}setLayers(X,te,se){this.getLayerIndex(X).replace(te),se()}updateLayers(X,te,se){this.getLayerIndex(X).update(te.layers,te.removedIds),se()}loadTile(X,te,se){this.getWorkerSource(X,te.type,te.source).loadTile(te,se)}loadDEMTile(X,te,se){this.getDEMWorkerSource(X,te.source).loadTile(te,se)}reloadTile(X,te,se){this.getWorkerSource(X,te.type,te.source).reloadTile(te,se)}abortTile(X,te,se){this.getWorkerSource(X,te.type,te.source).abortTile(te,se)}removeTile(X,te,se){this.getWorkerSource(X,te.type,te.source).removeTile(te,se)}removeDEMTile(X,te){this.getDEMWorkerSource(X,te.source).removeTile(te)}removeSource(X,te,se){if(!this.workerSources[X]||!this.workerSources[X][te.type]||!this.workerSources[X][te.type][te.source])return;const ye=this.workerSources[X][te.type][te.source];delete this.workerSources[X][te.type][te.source],ye.removeSource!==void 0?ye.removeSource(te,se):se()}loadWorkerSource(X,te,se){try{this.self.importScripts(te.url),se()}catch(ye){se(ye.toString())}}syncRTLPluginState(X,te,se){try{a.plugin.setState(te);const ye=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ye!=null){this.self.importScripts(ye);const be=a.plugin.isParsed();se(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ye}`),be)}}catch(ye){se(ye.toString())}}getAvailableImages(X){let te=this.availableImages[X];return te||(te=[]),te}getLayerIndex(X){let te=this.layerIndexes[X];return te||(te=this.layerIndexes[X]=new f),te}getWorkerSource(X,te,se){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][te]||(this.workerSources[X][te]={}),!this.workerSources[X][te][se]){const ye={send:(be,Re,ke)=>{this.actor.send(be,Re,ke,X)}};this.workerSources[X][te][se]=new this.workerSourceTypes[te](ye,this.getLayerIndex(X),this.getAvailableImages(X))}return this.workerSources[X][te][se]}getDEMWorkerSource(X,te){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][te]||(this.demWorkerSources[X][te]=new T),this.demWorkerSources[X][te]}}return a.isWorker()&&(self.worker=new qo(self)),qo}),o(["./shared"],function(a){var f="3.3.0";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,v){const b=window.document.createElement(c);return p!==void 0&&(b.className=p),v&&v.appendChild(b),b}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,v,b={}){c.addEventListener(p,v,"passive"in b?b:b.capture)}static removeEventListener(c,p,v,b={}){c.removeEventListener(p,v,"passive"in b?b:b.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const v=c.getBoundingClientRect();return new a.Point(p.clientX-v.left-c.clientLeft,p.clientY-v.top-c.clientTop)}static touchPos(c,p){const v=c.getBoundingClientRect(),b=[];for(let k=0;k<p.length;k++)b.push(new a.Point(p[k].clientX-v.left-c.clientLeft,p[k].clientY-v.top-c.clientTop));return b}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(S){!A&&x&&(T?w(S):y=S)}};let y,x,A=!1,T=!1;function w(S){const c=S.createTexture();S.bindTexture(S.TEXTURE_2D,c);try{if(S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,x),S.isContextLost())return;g.supported=!0}catch{}S.deleteTexture(c),A=!0}var M,O;typeof document<"u"&&(x=document.createElement("img"),x.onload=function(){y&&w(y),y=null,T=!0},x.onerror=function(){A=!0,y=null},x.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(S){let c,p,v,b;S.resetRequestQueue=()=>{c=[],p=0,v=0,b={}},S.addThrottleControl=H=>{const G=v++;return b[G]=H,G},S.removeThrottleControl=H=>{delete b[H],z()},S.getImage=(H,G,K=!0)=>{g.supported&&(H.headers||(H.headers={}),H.headers.accept="image/webp,*/*");const re={requestParameters:H,supportImageRefresh:K,callback:G,cancelled:!1,completed:!1,cancel:()=>{re.completed||re.cancelled||(re.cancelled=!0,re.innerRequest&&(re.innerRequest.cancel(),p--),z())}};return c.push(re),z(),re};const k=H=>{const{requestParameters:G,supportImageRefresh:K,callback:re}=H;return a.extend(G,{type:"image"}),(K!==!1||a.isWorker()||a.getProtocolAction(G.url)||G.headers&&!Object.keys(G.headers).reduce((ue,ce)=>ue&&ce==="accept",!0)?a.makeRequest:U)(G,(ue,ce,me,le)=>{L(H,re,ue,ce,me,le)})},L=(H,G,K,re,ue,ce)=>{K?G(K):re instanceof HTMLImageElement||a.isImageBitmap(re)?G(null,re):re&&((me,le)=>{typeof createImageBitmap=="function"?a.arrayBufferToImageBitmap(me,le):a.arrayBufferToImage(me,le)})(re,(me,le)=>{me!=null?G(me):le!=null&&G(null,le,{cacheControl:ue,expires:ce})}),H.cancelled||(H.completed=!0,p--,z())},z=()=>{const H=(()=>{const G=Object.keys(b);let K=!1;if(G.length>0){for(const re of G)if(K=b[re](),K)break}return K})()?a.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let G=p;G<H&&c.length>0;G++){const K=c.shift();if(K.cancelled){G--;continue}const re=k(K);p++,K.innerRequest=re}},U=(H,G)=>{const K=new Image,re=H.url;let ue=!1;const ce=H.credentials;return ce&&ce==="include"?K.crossOrigin="use-credentials":(ce&&ce==="same-origin"||!a.sameOrigin(re))&&(K.crossOrigin="anonymous"),K.fetchPriority="high",K.onload=()=>{G(null,K),K.onerror=K.onload=null},K.onerror=()=>{ue||G(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),K.onerror=K.onload=null},K.src=re,{cancel:()=>{ue=!0,K.src=""}}}}(M||(M={})),M.resetRequestQueue(),function(S){S.Glyphs="Glyphs",S.Image="Image",S.Source="Source",S.SpriteImage="SpriteImage",S.SpriteJSON="SpriteJSON",S.Style="Style",S.Tile="Tile",S.Unknown="Unknown"}(O||(O={}));class I{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,v){const b=function(k){const L=k.match(E);if(!L)throw new Error(`Unable to parse URL "${k}"`);return{protocol:L[1],authority:L[2],path:L[3]||"/",params:L[4]?L[4].split("&"):[]}}(c);return b.path+=`${p}${v}`,function(k){const L=k.params.length?`?${k.params.join("&")}`:"";return`${k.protocol}://${k.authority}${k.path}${L}`}(b)}setTransformRequest(c){this._transformRequestFn=c}}const E=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function R(S){var c=new a.ARRAY_TYPE(3);return c[0]=S[0],c[1]=S[1],c[2]=S[2],c}var N,D=function(S,c,p){return S[0]=c[0]-p[0],S[1]=c[1]-p[1],S[2]=c[2]-p[2],S};N=new a.ARRAY_TYPE(3),a.ARRAY_TYPE!=Float32Array&&(N[0]=0,N[1]=0,N[2]=0);var F=function(S){var c=S[0],p=S[1];return c*c+p*p};function q(S){const c=[];if(typeof S=="string")c.push({id:"default",url:S});else if(S&&S.length>0){const p=[];for(const{id:v,url:b}of S){const k=`${v}${b}`;p.indexOf(k)===-1&&(p.push(k),c.push({id:v,url:b}))}}return c}function J(S,c,p,v,b){if(v)return void S(v);if(b!==Object.values(c).length||b!==Object.values(p).length)return;const k={};for(const L in c){k[L]={};const z=a.browser.getImageCanvasContext(p[L]),U=c[L];for(const H in U){const{width:G,height:K,x:re,y:ue,sdf:ce,pixelRatio:me,stretchX:le,stretchY:Ie,content:We}=U[H];k[L][H]={data:null,pixelRatio:me,sdf:ce,stretchX:le,stretchY:Ie,content:We,spriteData:{width:G,height:K,x:re,y:ue,context:z}}}}S(null,k)}(function(){var S=new a.ARRAY_TYPE(2);a.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0)})();class Q{constructor(c,p,v,b){this.context=c,this.format=v,this.texture=c.gl.createTexture(),this.update(p,b)}update(c,p,v){const{width:b,height:k}=c,L=!(this.size&&this.size[0]===b&&this.size[1]===k||v),{context:z}=this,{gl:U}=z;if(this.useMipmap=!!(p&&p.useMipmap),U.bindTexture(U.TEXTURE_2D,this.texture),z.pixelStoreUnpackFlipY.set(!1),z.pixelStoreUnpack.set(1),z.pixelStoreUnpackPremultiplyAlpha.set(this.format===U.RGBA&&(!p||p.premultiply!==!1)),L)this.size=[b,k],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,U.UNSIGNED_BYTE,c):U.texImage2D(U.TEXTURE_2D,0,this.format,b,k,0,this.format,U.UNSIGNED_BYTE,c.data);else{const{x:H,y:G}=v||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?U.texSubImage2D(U.TEXTURE_2D,0,H,G,U.RGBA,U.UNSIGNED_BYTE,c):U.texSubImage2D(U.TEXTURE_2D,0,H,G,b,k,U.RGBA,U.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&U.generateMipmap(U.TEXTURE_2D)}bind(c,p,v){const{context:b}=this,{gl:k}=b;k.bindTexture(k.TEXTURE_2D,this.texture),v!==k.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=k.LINEAR),c!==this.filter&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,c),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,v||c),this.filter=c),p!==this.wrap&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ae(S){const{userImage:c}=S;return!!(c&&c.render&&c.render())&&(S.data.replace(new Uint8Array(c.data.buffer)),!0)}class he extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:v}of this.requestors)this._notify(p,v);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const v=p.spriteData;p.data=new a.RGBAImage({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let v=!0;const b=p.data||p.spriteData;return this._validateStretch(p.stretchX,b&&b.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),v=!1),this._validateStretch(p.stretchY,b&&b.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),v=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),v=!1),v}_validateStretch(c,p){if(!c)return!0;let v=0;for(const b of c){if(b[0]<v||b[1]<b[0]||p<b[1])return!1;v=b[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const v=p.spriteData,b=v&&v.width||p.data.width,k=v&&v.height||p.data.height;return!(c[0]<0||b<c[0]||c[1]<0||k<c[1]||c[2]<0||b<c[2]||c[3]<0||k<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,v=!0){const b=this.getImage(c);if(v&&(b.data.width!==p.data.width||b.data.height!==p.data.height))throw new Error(`size mismatch between old image (${b.data.width}x${b.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=b.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let v=!0;if(!this.isLoaded())for(const b of c)this.images[b]||(v=!1);this.isLoaded()||v?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const v={};for(const b of c){let k=this.getImage(b);k||(this.fire(new a.Event("styleimagemissing",{id:b})),k=this.getImage(b)),k?v[b]={data:k.data.clone(),pixelRatio:k.pixelRatio,sdf:k.sdf,version:k.version,stretchX:k.stretchX,stretchY:k.stretchY,content:k.content,hasRenderCallback:!!(k.userImage&&k.userImage.render)}:a.warnOnce(`Image "${b}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,v)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],v=this.getImage(c);if(!v)return null;if(p&&p.position.version===v.version)return p.position;if(p)p.position.version=v.version;else{const b={w:v.data.width+2,h:v.data.height+2,x:0,y:0},k=new a.ImagePosition(b,v);this.patterns[c]={bin:b,position:k}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Q(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const k in this.patterns)c.push(this.patterns[k].bin);const{w:p,h:v}=a.potpack(c),b=this.atlasImage;b.resize({width:p||1,height:v||1});for(const k in this.patterns){const{bin:L}=this.patterns[k],z=L.x+1,U=L.y+1,H=this.getImage(k).data,G=H.width,K=H.height;a.RGBAImage.copy(H,b,{x:0,y:0},{x:z,y:U},{width:G,height:K}),a.RGBAImage.copy(H,b,{x:0,y:K-1},{x:z,y:U-1},{width:G,height:1}),a.RGBAImage.copy(H,b,{x:0,y:0},{x:z,y:U+K},{width:G,height:1}),a.RGBAImage.copy(H,b,{x:G-1,y:0},{x:z-1,y:U},{width:1,height:K}),a.RGBAImage.copy(H,b,{x:0,y:0},{x:z+G,y:U},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const v=this.getImage(p);v||a.warnOnce(`Image with ID: "${p}" was not found`),ae(v)&&this.updateImage(p,v)}}}const fe=1e20;function we(S,c,p,v,b,k,L,z,U){for(let H=c;H<c+v;H++)ge(S,p*k+H,k,b,L,z,U);for(let H=p;H<p+b;H++)ge(S,H*k+c,1,v,L,z,U)}function ge(S,c,p,v,b,k,L){k[0]=0,L[0]=-fe,L[1]=fe,b[0]=S[c];for(let z=1,U=0,H=0;z<v;z++){b[z]=S[c+z*p];const G=z*z;do{const K=k[U];H=(b[z]-b[K]+G-K*K)/(z-K)/2}while(H<=L[U]&&--U>-1);U++,k[U]=z,L[U]=H,L[U+1]=fe}for(let z=0,U=0;z<v;z++){for(;L[U+1]<z;)U++;const H=k[U],G=z-H;S[c+z*p]=b[H]+G*G}}class Ce{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const v=[];for(const b in c)for(const k of c[b])v.push({stack:b,id:k});a.asyncAll(v,({stack:b,id:k},L)=>{let z=this.entries[b];z||(z=this.entries[b]={glyphs:{},requests:{},ranges:{}});let U=z.glyphs[k];if(U!==void 0)return void L(null,{stack:b,id:k,glyph:U});if(U=this._tinySDF(z,b,k),U)return z.glyphs[k]=U,void L(null,{stack:b,id:k,glyph:U});const H=Math.floor(k/256);if(256*H>65535)return void L(new Error("glyphs > 65535 not supported"));if(z.ranges[H])return void L(null,{stack:b,id:k,glyph:U});if(!this.url)return void L(new Error("glyphsUrl is not set"));let G=z.requests[H];G||(G=z.requests[H]=[],Ce.loadGlyphRange(b,H,this.url,this.requestManager,(K,re)=>{if(re){for(const ue in re)this._doesCharSupportLocalGlyph(+ue)||(z.glyphs[+ue]=re[+ue]);z.ranges[H]=!0}for(const ue of G)ue(K,re);delete z.requests[H]})),G.push((K,re)=>{K?L(K):re&&L(null,{stack:b,id:k,glyph:re[k]||null})})},(b,k)=>{if(b)p(b);else if(k){const L={};for(const{stack:z,id:U,glyph:H}of k)(L[z]||(L[z]={}))[U]=H&&{id:H.id,bitmap:H.bitmap.clone(),metrics:H.metrics};p(null,L)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](c)||a.unicodeBlockLookup["Hangul Syllables"](c)||a.unicodeBlockLookup.Hiragana(c)||a.unicodeBlockLookup.Katakana(c))}_tinySDF(c,p,v){const b=this.localIdeographFontFamily;if(!b||!this._doesCharSupportLocalGlyph(v))return;let k=c.tinySDF;if(!k){let z="400";/bold/i.test(p)?z="900":/medium/i.test(p)?z="500":/light/i.test(p)&&(z="200"),k=c.tinySDF=new Ce.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:b,fontWeight:z})}const L=k.draw(String.fromCharCode(v));return{id:v,bitmap:new a.AlphaImage({width:L.width||30,height:L.height||30},L.data),metrics:{width:L.glyphWidth||24,height:L.glyphHeight||24,left:L.glyphLeft||0,top:L.glyphTop-27||-8,advance:L.glyphAdvance||24}}}}Ce.loadGlyphRange=function(S,c,p,v,b){const k=256*c,L=k+255,z=v.transformRequest(p.replace("{fontstack}",S).replace("{range}",`${k}-${L}`),O.Glyphs);a.getArrayBuffer(z,(U,H)=>{if(U)b(U);else if(H){const G={};for(const K of a.parseGlyphPbf(H))G[K.id]=K;b(null,G)}})},Ce.TinySDF=class{constructor({fontSize:S=24,buffer:c=3,radius:p=8,cutoff:v=.25,fontFamily:b="sans-serif",fontWeight:k="normal",fontStyle:L="normal"}={}){this.buffer=c,this.cutoff=v,this.radius=p;const z=this.size=S+4*c,U=this._createCanvas(z),H=this.ctx=U.getContext("2d",{willReadFrequently:!0});H.font=`${L} ${k} ${S}px ${b}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(z*z),this.gridInner=new Float64Array(z*z),this.f=new Float64Array(z),this.z=new Float64Array(z+1),this.v=new Uint16Array(z)}_createCanvas(S){const c=document.createElement("canvas");return c.width=c.height=S,c}draw(S){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:v,actualBoundingBoxLeft:b,actualBoundingBoxRight:k}=this.ctx.measureText(S),L=Math.ceil(p),z=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(k-b))),U=Math.min(this.size-this.buffer,L+Math.ceil(v)),H=z+2*this.buffer,G=U+2*this.buffer,K=Math.max(H*G,0),re=new Uint8ClampedArray(K),ue={data:re,width:H,height:G,glyphWidth:z,glyphHeight:U,glyphTop:L,glyphLeft:0,glyphAdvance:c};if(z===0||U===0)return ue;const{ctx:ce,buffer:me,gridInner:le,gridOuter:Ie}=this;ce.clearRect(me,me,z,U),ce.fillText(S,me,me+L);const We=ce.getImageData(me,me,z,U);Ie.fill(fe,0,K),le.fill(0,0,K);for(let _e=0;_e<U;_e++)for(let $e=0;$e<z;$e++){const Ge=We.data[4*(_e*z+$e)+3]/255;if(Ge===0)continue;const Ze=(_e+me)*H+$e+me;if(Ge===1)Ie[Ze]=0,le[Ze]=fe;else{const tt=.5-Ge;Ie[Ze]=tt>0?tt*tt:0,le[Ze]=tt<0?tt*tt:0}}we(Ie,0,0,H,G,H,this.f,this.v,this.z),we(le,me,me,z,U,H,this.f,this.v,this.z);for(let _e=0;_e<K;_e++){const $e=Math.sqrt(Ie[_e])-Math.sqrt(le[_e]);re[_e]=Math.round(255-255*($e/this.radius+this.cutoff))}return ue}};class Te{constructor(){this.specification=a.v8Spec.light.position}possiblyEvaluate(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))}interpolate(c,p,v){return{x:a.interpolate.number(c.x,p.x,v),y:a.interpolate.number(c.y,p.y,v),z:a.interpolate.number(c.z,p.z,v)}}}let Ee,Oe;class qe extends a.Evented{constructor(c){super(),Ee=Ee||new a.Properties({anchor:new a.DataConstantProperty(a.v8Spec.light.anchor),position:new Te,color:new a.DataConstantProperty(a.v8Spec.light.color),intensity:new a.DataConstantProperty(a.v8Spec.light.intensity)}),this._transitionable=new a.Transitionable(Ee),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.validateLight,c,p))for(const v in c){const b=c[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),b):this._transitionable.setValue(v,b)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,v){return(!v||v.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v8Spec})))}}class rt{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const v=c.join(",")+String(p);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(c,p)),this.dashEntry[v]}getDashRanges(c,p,v){const b=[];let k=c.length%2==1?-c[c.length-1]*v:0,L=c[0]*v,z=!0;b.push({left:k,right:L,isDash:z,zeroLength:c[0]===0});let U=c[0];for(let H=1;H<c.length;H++){z=!z;const G=c[H];k=U*v,U+=G,L=U*v,b.push({left:k,right:L,isDash:z,zeroLength:G===0})}return b}addRoundDash(c,p,v){const b=p/2;for(let k=-v;k<=v;k++){const L=this.width*(this.nextRow+v+k);let z=0,U=c[z];for(let H=0;H<this.width;H++){H/U.right>1&&(U=c[++z]);const G=Math.abs(H-U.left),K=Math.abs(H-U.right),re=Math.min(G,K);let ue;const ce=k/v*(b+1);if(U.isDash){const me=b-Math.abs(ce);ue=Math.sqrt(re*re+me*me)}else ue=b-Math.sqrt(re*re+ce*ce);this.data[L+H]=Math.max(0,Math.min(255,ue+128))}}}addRegularDash(c){for(let z=c.length-1;z>=0;--z){const U=c[z],H=c[z+1];U.zeroLength?c.splice(z,1):H&&H.isDash===U.isDash&&(H.left=U.left,c.splice(z,1))}const p=c[0],v=c[c.length-1];p.isDash===v.isDash&&(p.left=v.left-this.width,v.right=p.right+this.width);const b=this.width*this.nextRow;let k=0,L=c[k];for(let z=0;z<this.width;z++){z/L.right>1&&(L=c[++k]);const U=Math.abs(z-L.left),H=Math.abs(z-L.right),G=Math.min(U,H);this.data[b+z]=Math.max(0,Math.min(255,(L.isDash?G:-G)+128))}}addDash(c,p){const v=p?7:0,b=2*v+1;if(this.nextRow+b>this.height)return a.warnOnce("LineAtlas out of space"),null;let k=0;for(let z=0;z<c.length;z++)k+=c[z];if(k!==0){const z=this.width/k,U=this.getDashRanges(c,this.width,z);p?this.addRoundDash(U,z,v):this.addRegularDash(U)}const L={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:k};return this.nextRow+=b,this.dirty=!0,L}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class Pe{constructor(c,p,v){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=v;const b=this.workerPool.acquire(v);for(let k=0;k<b.length;k++){const L=new Pe.Actor(b[k],p,v);L.name=`Worker ${k}`,this.actors.push(L)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,v){a.asyncAll(this.actors,(b,k)=>{b.send(c,p,k)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function je(S,c,p){const v=function(b,k){if(b)return p(b);if(k){const L=a.pick(a.extend(k,S),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);k.vector_layers&&(L.vectorLayers=k.vector_layers,L.vectorLayerIds=L.vectorLayers.map(z=>z.id)),p(null,L)}};return S.url?a.getJSON(c.transformRequest(S.url,O.Source),v):a.browser.frame(()=>v(null,S))}Pe.Actor=a.Actor;class Le{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}extend(c){const p=this._sw,v=this._ne;let b,k;if(c instanceof a.LngLat)b=c,k=c;else{if(!(c instanceof Le))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Le.convert(c)):this.extend(a.LngLat.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.LngLat.convert(c)):this;if(b=c._sw,k=c._ne,!b||!k)return this}return p||v?(p.lng=Math.min(b.lng,p.lng),p.lat=Math.min(b.lat,p.lat),v.lng=Math.max(k.lng,v.lng),v.lat=Math.max(k.lat,v.lat)):(this._sw=new a.LngLat(b.lng,b.lat),this._ne=new a.LngLat(k.lng,k.lat)),this}getCenter(){return new a.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new a.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:v}=a.LngLat.convert(c);let b=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&b}static convert(c){return c instanceof Le?c:c&&new Le(c)}static fromLngLat(c,p=0){const v=360*p/40075017,b=v/Math.cos(Math.PI/180*c.lat);return new Le(new a.LngLat(c.lng-b,c.lat-v),new a.LngLat(c.lng+b,c.lat+v))}}class Ye{constructor(c,p,v){this.bounds=Le.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=v||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),v=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),b=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),k=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),L=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=v&&c.x<k&&c.y>=b&&c.y<L}}class Be extends a.Evented{constructor(c,p,v,b){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=je(this._options,this.map._requestManager,(k,L)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),k?this.fire(new a.ErrorEvent(k)):L&&(a.extend(this,L),L.bounds&&(this.tileBounds=new Ye(L.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.extend({},this._options),this.id=c,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b={request:this.map._requestManager.transformRequest(v,O.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function k(L,z){return delete c.request,c.aborted?p(null):L&&L.status!==404?p(L):(z&&z.resourceTiming&&(c.resourceTiming=z.resourceTiming),this.map._refreshExpiredTiles&&z&&c.setExpiryData(z),c.loadVectorData(z,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}b.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",b,k.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",b,k.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class lt extends a.Evented{constructor(c,p,v,b){super(),this.id=c,this.dispatcher=v,this.setEventedParent(b),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=je(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.ErrorEvent(c)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new Ye(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=M.getImage(this.map._requestManager.transformRequest(v,O.Tile),(b,k,L)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(b)c.state="errored",p(b);else if(k){this.map._refreshExpiredTiles&&L&&c.setExpiryData(L);const z=this.map.painter.context,U=z.gl;c.texture=this.map.painter.getTileTexture(k.width),c.texture?c.texture.update(k,{useMipmap:!0}):(c.texture=new Q(z,k,U.RGBA,{useMipmap:!0}),c.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),z.extTextureFilterAnisotropic&&U.texParameterf(U.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class it extends lt{constructor(c,p,v,b){super(c,p,v,b),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox"}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function b(k,L){k&&(c.state="errored",p(k)),L&&(c.dem=L,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.request=M.getImage(this.map._requestManager.transformRequest(v,O.Tile),(function(k,L){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(k)c.state="errored",p(k);else if(L){this.map._refreshExpiredTiles&&c.setExpiryData(L),delete L.cacheControl,delete L.expires;const z=a.isImageBitmap(L)&&(Oe==null&&(Oe=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Oe)?L:a.browser.getImageData(L,1),U={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:z,encoding:this.encoding};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",U,b.bind(this)))}}).bind(this),this.map._refreshExpiredTiles),c.neighboringTiles=this._getNeighboringTiles(c.tileID)}_getNeighboringTiles(c){const p=c.canonical,v=Math.pow(2,p.z),b=(p.x-1+v)%v,k=p.x===0?c.wrap-1:c.wrap,L=(p.x+1+v)%v,z=p.x+1===v?c.wrap+1:c.wrap,U={};return U[new a.OverscaledTileID(c.overscaledZ,k,p.z,b,p.y).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,z,p.z,L,p.y).key]={backfilled:!1},p.y>0&&(U[new a.OverscaledTileID(c.overscaledZ,k,p.z,b,p.y-1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,z,p.z,L,p.y-1).key]={backfilled:!1}),p.y+1<v&&(U[new a.OverscaledTileID(c.overscaledZ,k,p.z,b,p.y+1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,z,p.z,L,p.y+1).key]={backfilled:!1}),U}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Ve extends a.Evented{constructor(c,p,v,b){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.extend({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(b),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const k=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*k,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*k,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*k,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,v,b){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:v},b),this}_updateWorkerData(c){const p=a.extend({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.browser.resolveURL(this._data),O.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(v,b)=>{if(this._pendingLoads--,this._removed||b&&b.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source"}));let k=null;if(b&&b.resourceTiming&&b.resourceTiming[this.id]&&(k=b.resourceTiming[this.id].slice(0)),v)return void this.fire(new a.ErrorEvent(v));const L={dataType:"source"};this._collectResourceTiming&&k&&k.length>0&&a.extend(L,{resourceTiming:k}),this.fire(new a.Event("data",{...L,sourceDataType:"metadata"})),this.fire(new a.Event("data",{...L,sourceDataType:"content"}))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const v=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const b={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(v,b,(k,L)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):k?p(k):(c.loadVectorData(L,this.map.painter,v==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Xe=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ct extends a.Evented{constructor(c,p,v,b){super(),this.load=(k,L)=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=M.getImage(this.map._requestManager.transformRequest(this.url,O.Image),(z,U)=>{this._request=null,this._loaded=!0,z?this.fire(new a.ErrorEvent(z)):U&&(this.image=U,k&&(this.coordinates=k),L&&L(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const k=this.map.painter.context,L=k.gl;this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,Xe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Q(k,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE));let z=!1;for(const U in this.tiles){const H=this.tiles[U];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,z=!0)}z&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=v,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(b),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(b){let k=1/0,L=1/0,z=-1/0,U=-1/0;for(const re of b)k=Math.min(k,re.x),L=Math.min(L,re.y),z=Math.max(z,re.x),U=Math.max(U,re.y);const H=Math.max(z-k,U-L),G=Math.max(0,Math.floor(-Math.log(H)/Math.LN2)),K=Math.pow(2,G);return new a.CanonicalTileID(G,Math.floor((k+z)/2*K),Math.floor((L+U)/2*K))}(p),this.minzoom=this.maxzoom=this.tileID.z;const v=p.map(b=>this.tileID.getTilePoint(b)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(v[2].x,v[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class Fe extends ct{constructor(c,p,v,b){super(c,p,v,b),this.load=()=>{this._loaded=!1;const k=this.options;this.urls=[];for(const L of k.urls)this.urls.push(this.map._requestManager.transformRequest(L,O.Source).url);a.getVideo(this.urls,(L,z)=>{this._loaded=!0,L?this.fire(new a.ErrorEvent(L)):z&&(this.video=z,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const k=this.map.painter.context,L=k.gl;this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,Xe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new Q(k,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE));let z=!1;for(const U in this.tiles){const H=this.tiles[U];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,z=!0)}z&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Me extends ct{constructor(c,p,v,b){super(c,p,v,b),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let k=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,k=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,k=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const L=this.map.painter.context,z=L.gl;this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,Xe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(k||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Q(L,this.canvas,z.RGBA,{premultiply:!0});let U=!1;for(const H in this.tiles){const G=this.tiles[H];G.state!=="loaded"&&(G.state="loaded",G.texture=this.texture,U=!0)}U&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(k=>!Array.isArray(k)||k.length!==2||k.some(L=>typeof L!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const Et={},Zt=S=>{switch(S){case"geojson":return Ve;case"image":return ct;case"raster":return lt;case"raster-dem":return it;case"vector":return Be;case"video":return Fe;case"canvas":return Me}return Et[S]};function Ot(S,c){const p=a.create();return a.translate(p,p,[1,1,0]),a.scale(p,p,[.5*S.width,.5*S.height,1]),a.multiply(p,p,S.calculatePosMatrix(c.toUnwrapped()))}function jt(S,c,p,v,b,k){const L=function(K,re,ue){if(K)for(const ce of K){const me=re[ce];if(me&&me.source===ue&&me.type==="fill-extrusion")return!0}else for(const ce in re){const me=re[ce];if(me.source===ue&&me.type==="fill-extrusion")return!0}return!1}(b&&b.layers,c,S.id),z=k.maxPitchScaleFactor(),U=S.tilesIn(v,z,L);U.sort(Mr);const H=[];for(const K of U)H.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(c,p,S._state,K.queryGeometry,K.cameraQueryGeometry,K.scale,b,k,z,Ot(S.transform,K.tileID))});const G=function(K){const re={},ue={};for(const ce of K){const me=ce.queryResults,le=ce.wrappedTileID,Ie=ue[le]=ue[le]||{};for(const We in me){const _e=me[We],$e=Ie[We]=Ie[We]||{},Ge=re[We]=re[We]||[];for(const Ze of _e)$e[Ze.featureIndex]||($e[Ze.featureIndex]=!0,Ge.push(Ze))}}return re}(H);for(const K in G)G[K].forEach(re=>{const ue=re.feature,ce=S.getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=ce});return G}function Mr(S,c){const p=S.tileID,v=c.tileID;return p.overscaledZ-v.overscaledZ||p.canonical.y-v.canonical.y||p.wrap-v.wrap||p.canonical.x-v.canonical.x}class Hr{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(b,k){const L={};if(!k)return L;for(const z of b){const U=z.layerIds.map(H=>k.getLayer(H)).filter(Boolean);if(U.length!==0){z.layers=U,z.stateDependentLayerIds&&(z.stateDependentLayers=z.stateDependentLayerIds.map(H=>U.filter(G=>G.id===H)[0]));for(const H of U)L[H.id]=z}}return L}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const b in this.buckets){const k=this.buckets[b];if(k instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!v)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const b in this.buckets){const k=this.buckets[b];if(k instanceof a.SymbolBucket&&k.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const b in this.buckets){const k=this.buckets[b];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(b).queryRadius(k))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const v in this.buckets){const b=this.buckets[v];b.uploadPending()&&b.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Q(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Q(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,v,b,k,L,z,U,H,G){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:b,cameraQueryGeometry:k,scale:L,tileSize:this.tileSize,pixelPosMatrix:G,transform:U,params:z,queryPadding:this.queryPadding*H},c,p,v):{}}querySourceFeatures(c,p){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const b=v.loadVTLayers(),k=p&&p.sourceLayer?p.sourceLayer:"",L=b._geojsonTileLayer||b[k];if(!L)return;const z=a.createFilter(p&&p.filter),{z:U,x:H,y:G}=this.tileID.canonical,K={z:U,x:H,y:G};for(let re=0;re<L.length;re++){const ue=L.feature(re);if(z.needGeometry){const le=a.toEvaluationFeature(ue,!0);if(!z.filter(new a.EvaluationParameters(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!z.filter(new a.EvaluationParameters(this.tileID.overscaledZ),ue))continue;const ce=v.getId(ue,k),me=new a.GeoJSONFeature(ue,U,H,G,ce);me.tile=K,c.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const v=a.parseCacheControl(c.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const v=Date.now();let b=!1;if(this.expirationTime>v)b=!1;else if(p)if(this.expirationTime<p)b=!0;else{const k=this.expirationTime-p;k?this.expirationTime=v+Math.max(k,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const b in this.buckets){if(!p.style.hasLayer(b))continue;const k=this.buckets[b],L=k.layers[0].sourceLayer||"_geojsonTileLayer",z=v[L],U=c[L];if(!z||!U||Object.keys(U).length===0)continue;k.update(U,z,this.imageAtlas&&this.imageAtlas.patternPositions||{});const H=p&&p.style&&p.style.getLayer(b);H&&(this.queryPadding=Math.max(this.queryPadding,H.queryRadius(k)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.browser.now()+c}setDependencies(c,p){const v={};for(const b of p)v[b]=!0;this.dependencies[c]=v}hasDependency(c,p){for(const v of c){const b=this.dependencies[v];if(b){for(const k of p)if(b[k])return!0}}return!1}}class pr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,v){const b=c.wrapped().key;this.data[b]===void 0&&(this.data[b]=[]);const k={value:p,timeout:void 0};if(v!==void 0&&(k.timeout=setTimeout(()=>{this.remove(c,k)},v)),this.data[b].push(k),this.order.push(b),this.order.length>this.max){const L=this._getAndRemoveByKey(this.order[0]);L&&this.onRemove(L)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const v=c.wrapped().key,b=p===void 0?0:this.data[v].indexOf(p),k=this.data[v][b];return this.data[v].splice(b,1),k.timeout&&clearTimeout(k.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(k.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const v in this.data)for(const b of this.data[v])c(b.value)||p.push(b);for(const v of p)this.remove(v.value.tileID,v)}}class Sr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,v){const b=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][b]=this.stateChanges[c][b]||{},a.extend(this.stateChanges[c][b],v),this.deletedStates[c]===null){this.deletedStates[c]={};for(const k in this.state[c])k!==b&&(this.deletedStates[c][k]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][b]===null){this.deletedStates[c][b]={};for(const k in this.state[c][b])v[k]||(this.deletedStates[c][b][k]=null)}else for(const k in v)this.deletedStates[c]&&this.deletedStates[c][b]&&this.deletedStates[c][b][k]===null&&delete this.deletedStates[c][b][k]}removeFeatureState(c,p,v){if(this.deletedStates[c]===null)return;const b=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},v&&p!==void 0)this.deletedStates[c][b]!==null&&(this.deletedStates[c][b]=this.deletedStates[c][b]||{},this.deletedStates[c][b][v]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][b])for(v in this.deletedStates[c][b]={},this.stateChanges[c][b])this.deletedStates[c][b][v]=null;else this.deletedStates[c][b]=null;else this.deletedStates[c]=null}getState(c,p){const v=String(p),b=a.extend({},(this.state[c]||{})[v],(this.stateChanges[c]||{})[v]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const k=this.deletedStates[c][p];if(k===null)return{};for(const L in k)delete b[L]}return b}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const v={};for(const b in this.stateChanges){this.state[b]=this.state[b]||{};const k={};for(const L in this.stateChanges[b])this.state[b][L]||(this.state[b][L]={}),a.extend(this.state[b][L],this.stateChanges[b][L]),k[L]=this.state[b][L];v[b]=k}for(const b in this.deletedStates){this.state[b]=this.state[b]||{};const k={};if(this.deletedStates[b]===null)for(const L in this.state[b])k[L]={},this.state[b][L]={};else for(const L in this.deletedStates[b]){if(this.deletedStates[b][L]===null)this.state[b][L]={};else for(const z of Object.keys(this.deletedStates[b][L]))delete this.state[b][L][z];k[L]=this.state[b][L]}v[b]=v[b]||{},a.extend(v[b],k)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const b in c)c[b].setFeatureState(v,p)}}class cr extends a.Evented{constructor(c,p,v){super(),this.id=c,this.dispatcher=v,this.on("data",b=>{b.dataType==="source"&&b.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&b.dataType==="source"&&b.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((b,k,L,z)=>{const U=new(Zt(k.type))(b,k,L,z);if(U.id!==b)throw new Error(`Expected Source id to be ${b} instead of ${U.id}`);return U})(c,p,v,this),this._tiles={},this._cache=new pr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Sr,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const v=this._tiles[p];v.upload(c),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(Er).map(c=>c.key)}getRenderableIds(c){const p=[];for(const v in this._tiles)this._isIdRenderable(v,c)&&p.push(this._tiles[v]);return c?p.sort((v,b)=>{const k=v.tileID,L=b.tileID,z=new a.Point(k.canonical.x,k.canonical.y)._rotate(this.transform.angle),U=new a.Point(L.canonical.x,L.canonical.y)._rotate(this.transform.angle);return k.overscaledZ-L.overscaledZ||U.y-z.y||U.x-z.x}).map(v=>v.tileID.key):p.map(v=>v.tileID).sort(Er).map(v=>v.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const v=this._tiles[c];v&&(v.state!=="loading"&&(v.state=p),this._loadTile(v,this._tileLoaded.bind(this,v,c,p)))}_tileLoaded(c,p,v,b){if(b)return c.state="errored",void(b.status!==404?this._source.fire(new a.ErrorEvent(b,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.browser.now(),v==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let b=0;b<p.length;b++){const k=p[b];if(c.neighboringTiles&&c.neighboringTiles[k]){const L=this.getTileByID(k);v(c,L),v(L,c)}}function v(b,k){b.needsHillshadePrepare=!0,b.needsTerrainPrepare=!0;let L=k.tileID.canonical.x-b.tileID.canonical.x;const z=k.tileID.canonical.y-b.tileID.canonical.y,U=Math.pow(2,b.tileID.canonical.z),H=k.tileID.key;L===0&&z===0||Math.abs(z)>1||(Math.abs(L)>1&&(Math.abs(L+U)===1?L+=U:Math.abs(L-U)===1&&(L-=U)),k.dem&&b.dem&&(b.dem.backfillBorder(k.dem,L,z),b.neighboringTiles&&b.neighboringTiles[H]&&(b.neighboringTiles[H].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,v,b){for(const k in this._tiles){let L=this._tiles[k];if(b[k]||!L.hasData()||L.tileID.overscaledZ<=p||L.tileID.overscaledZ>v)continue;let z=L.tileID;for(;L&&L.tileID.overscaledZ>p+1;){const H=L.tileID.scaledTo(L.tileID.overscaledZ-1);L=this._tiles[H.key],L&&L.hasData()&&(z=H)}let U=z;for(;U.overscaledZ>p;)if(U=U.scaledTo(U.overscaledZ-1),c[U.key]){b[z.key]=z;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const v=this._loadedParentTiles[c.key];return v&&v.tileID.overscaledZ>=p?v:null}for(let v=c.overscaledZ-1;v>=p;v--){const b=c.scaledTo(v),k=this._getLoadedTile(b);if(k)return k}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,v=Math.ceil(c.height/this._source.tileSize)+1,b=Math.floor(p*v*(this._maxTileCacheZoomLevels===null?a.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),k=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,b):b;this._cache.setMaxSize(k)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const v={};for(const b in this._tiles){const k=this._tiles[b];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+p),v[k.tileID.key]=k}this._tiles=v;for(const b in this._timers)clearTimeout(this._timers[b]),delete this._timers[b];for(const b in this._tiles)this._setTileReloadTimer(b,this._tiles[b])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let v;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(G=>new a.OverscaledTileID(G.canonical.z,G.wrap,G.canonical.z,G.canonical.x,G.canonical.y)):(v=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(v=v.filter(G=>this._source.hasTile(G)))):v=[];const b=c.coveringZoomLevel(this._source),k=Math.max(b-cr.maxOverzooming,this._source.minzoom),L=Math.max(b+cr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const G={};for(const K of v)if(K.canonical.z>this._source.minzoom){const re=K.scaledTo(K.canonical.z-1);G[re.key]=re;const ue=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));G[ue.key]=ue}v=v.concat(Object.values(G))}const z=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,z&&this.fire(new a.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const U=this._updateRetainedTiles(v,b);if(un(this._source.type)){const G={},K={},re=Object.keys(U),ue=a.browser.now();for(const ce of re){const me=U[ce],le=this._tiles[ce];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=ue)continue;const Ie=this.findLoadedParent(me,k);Ie&&(this._addTile(Ie.tileID),G[Ie.tileID.key]=Ie.tileID),K[ce]=me}this._retainLoadedChildren(K,b,L,U);for(const ce in G)U[ce]||(this._coveredTiles[ce]=!0,U[ce]=G[ce]);if(p){const ce={},me={};for(const le of v)this._tiles[le.key].hasData()?ce[le.key]=le:me[le.key]=le;for(const le in me){const Ie=me[le].children(this._source.maxzoom);this._tiles[Ie[0].key]&&this._tiles[Ie[1].key]&&this._tiles[Ie[2].key]&&this._tiles[Ie[3].key]&&(ce[Ie[0].key]=U[Ie[0].key]=Ie[0],ce[Ie[1].key]=U[Ie[1].key]=Ie[1],ce[Ie[2].key]=U[Ie[2].key]=Ie[2],ce[Ie[3].key]=U[Ie[3].key]=Ie[3],delete me[le])}for(const le in me){const Ie=this.findLoadedParent(me[le],this._source.minzoom);if(Ie){ce[Ie.tileID.key]=U[Ie.tileID.key]=Ie.tileID;for(const We in ce)ce[We].isChildOf(Ie.tileID)&&delete ce[We]}}for(const le in this._tiles)ce[le]||(this._coveredTiles[le]=!0)}}for(const G in U)this._tiles[G].clearFadeHold();const H=a.keysDifference(this._tiles,U);for(const G of H){const K=this._tiles[G];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(G)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const v={},b={},k=Math.max(p-cr.maxOverzooming,this._source.minzoom),L=Math.max(p+cr.maxUnderzooming,this._source.minzoom),z={};for(const U of c){const H=this._addTile(U);v[U.key]=U,H.hasData()||p<this._source.maxzoom&&(z[U.key]=U)}this._retainLoadedChildren(z,p,L,v);for(const U of c){let H=this._tiles[U.key];if(H.hasData())continue;if(p+1>this._source.maxzoom){const K=U.children(this._source.maxzoom)[0],re=this.getTile(K);if(re&&re.hasData()){v[K.key]=K;continue}}else{const K=U.children(this._source.maxzoom);if(v[K[0].key]&&v[K[1].key]&&v[K[2].key]&&v[K[3].key])continue}let G=H.wasRequested();for(let K=U.overscaledZ-1;K>=k;--K){const re=U.scaledTo(K);if(b[re.key])break;if(b[re.key]=!0,H=this.getTile(re),!H&&G&&(H=this._addTile(re)),H){const ue=H.hasData();if((G||ue)&&(v[re.key]=re),G=H.wasRequested(),ue)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let v,b=this._tiles[c].tileID;for(;b.overscaledZ>0;){if(b.key in this._loadedParentTiles){v=this._loadedParentTiles[b.key];break}p.push(b.key);const k=b.scaledTo(b.overscaledZ-1);if(v=this._getLoadedTile(k),v)break;b=k}for(const k of p)this._loadedParentTiles[k]=v}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const v=p;return p||(p=new Hr(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,v||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const v=p.getExpiryTimeout();v&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},v))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,v){const b=[],k=this.transform;if(!k)return b;const L=v?k.getCameraQueryGeometry(c):c,z=c.map(ce=>k.pointCoordinate(ce,this.terrain)),U=L.map(ce=>k.pointCoordinate(ce,this.terrain)),H=this.getIds();let G=1/0,K=1/0,re=-1/0,ue=-1/0;for(const ce of U)G=Math.min(G,ce.x),K=Math.min(K,ce.y),re=Math.max(re,ce.x),ue=Math.max(ue,ce.y);for(let ce=0;ce<H.length;ce++){const me=this._tiles[H[ce]];if(me.holdingForFade())continue;const le=me.tileID,Ie=Math.pow(2,k.zoom-me.tileID.overscaledZ),We=p*me.queryPadding*a.EXTENT/me.tileSize/Ie,_e=[le.getTilePoint(new a.MercatorCoordinate(G,K)),le.getTilePoint(new a.MercatorCoordinate(re,ue))];if(_e[0].x-We<a.EXTENT&&_e[0].y-We<a.EXTENT&&_e[1].x+We>=0&&_e[1].y+We>=0){const $e=z.map(Ze=>le.getTilePoint(Ze)),Ge=U.map(Ze=>le.getTilePoint(Ze));b.push({tile:me,tileID:le,queryGeometry:$e,cameraQueryGeometry:Ge,scale:Ie})}}return b}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(v=>this._tiles[v].tileID);for(const v of p)v.posMatrix=this.transform.calculatePosMatrix(v.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(un(this._source.type)){const c=a.browser.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,v){this._state.updateState(c=c||"_geojsonTileLayer",p,v)}removeFeatureState(c,p,v){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,v)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,v){const b=this._tiles[c];b&&b.setDependencies(p,v)}reloadTilesForDependencies(c,p){for(const v in this._tiles)this._tiles[v].hasDependency(c,p)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(c,p))}}function Er(S,c){const p=Math.abs(2*S.wrap)-+(S.wrap<0),v=Math.abs(2*c.wrap)-+(c.wrap<0);return S.overscaledZ-c.overscaledZ||v-p||c.canonical.y-S.canonical.y||c.canonical.x-S.canonical.x}function un(S){return S==="raster"||S==="image"||S==="video"}cr.maxOverzooming=10,cr.maxUnderzooming=3;const ut="mapboxgl_preloaded_worker_pool";class Ir{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Ir.workerCount;)this.workers.push(new Worker(a.config.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ut]}numActive(){return Object.keys(this.active).length}}const en=Math.floor(a.browser.hardwareConcurrency/2);let mr;function Jt(){return mr||(mr=new Ir),mr}Ir.workerCount=a.isSafari(globalThis)?Math.max(Math.min(en,3),1):1;class Ke{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);let p=1,v=this._distances[p];const b=c*this.paddedLength+this.padding;for(;v<b&&p<this._distances.length;)v=this._distances[++p];const k=p-1,L=this._distances[k],z=v-L,U=z>0?(b-L)/z:0;return this.points[k].mult(1-U).add(this.points[p].mult(U))}}function At(S,c){let p=!0;return S==="always"||S!=="never"&&c!=="never"||(p=!1),p}class $t{constructor(c,p,v){const b=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(c/v),this.yCellCount=Math.ceil(p/v);for(let L=0;L<this.xCellCount*this.yCellCount;L++)b.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,v,b,k){this._forEachCell(p,v,b,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(b),this.bboxes.push(k)}insertCircle(c,p,v,b){this._forEachCell(p-b,v-b,p+b,v+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(v),this.circles.push(b)}_insertBoxCell(c,p,v,b,k,L){this.boxCells[k].push(L)}_insertCircleCell(c,p,v,b,k,L){this.circleCells[k].push(L)}_query(c,p,v,b,k,L,z){if(v<0||c>this.width||b<0||p>this.height)return[];const U=[];if(c<=0&&p<=0&&this.width<=v&&this.height<=b){if(k)return[{key:null,x1:c,y1:p,x2:v,y2:b}];for(let H=0;H<this.boxKeys.length;H++)U.push({key:this.boxKeys[H],x1:this.bboxes[4*H],y1:this.bboxes[4*H+1],x2:this.bboxes[4*H+2],y2:this.bboxes[4*H+3]});for(let H=0;H<this.circleKeys.length;H++){const G=this.circles[3*H],K=this.circles[3*H+1],re=this.circles[3*H+2];U.push({key:this.circleKeys[H],x1:G-re,y1:K-re,x2:G+re,y2:K+re})}}else this._forEachCell(c,p,v,b,this._queryCell,U,{hitTest:k,overlapMode:L,seenUids:{box:{},circle:{}}},z);return U}query(c,p,v,b){return this._query(c,p,v,b,!1,null)}hitTest(c,p,v,b,k,L){return this._query(c,p,v,b,!0,k,L).length>0}hitTestCircle(c,p,v,b,k){const L=c-v,z=c+v,U=p-v,H=p+v;if(z<0||L>this.width||H<0||U>this.height)return!1;const G=[];return this._forEachCell(L,U,z,H,this._queryCellCircle,G,{hitTest:!0,overlapMode:b,circle:{x:c,y:p,radius:v},seenUids:{box:{},circle:{}}},k),G.length>0}_queryCell(c,p,v,b,k,L,z,U){const{seenUids:H,hitTest:G,overlapMode:K}=z,re=this.boxCells[k];if(re!==null){const ce=this.bboxes;for(const me of re)if(!H.box[me]){H.box[me]=!0;const le=4*me,Ie=this.boxKeys[me];if(c<=ce[le+2]&&p<=ce[le+3]&&v>=ce[le+0]&&b>=ce[le+1]&&(!U||U(Ie))&&(!G||!At(K,Ie.overlapMode))&&(L.push({key:Ie,x1:ce[le],y1:ce[le+1],x2:ce[le+2],y2:ce[le+3]}),G))return!0}}const ue=this.circleCells[k];if(ue!==null){const ce=this.circles;for(const me of ue)if(!H.circle[me]){H.circle[me]=!0;const le=3*me,Ie=this.circleKeys[me];if(this._circleAndRectCollide(ce[le],ce[le+1],ce[le+2],c,p,v,b)&&(!U||U(Ie))&&(!G||!At(K,Ie.overlapMode))){const We=ce[le],_e=ce[le+1],$e=ce[le+2];if(L.push({key:Ie,x1:We-$e,y1:_e-$e,x2:We+$e,y2:_e+$e}),G)return!0}}}return!1}_queryCellCircle(c,p,v,b,k,L,z,U){const{circle:H,seenUids:G,overlapMode:K}=z,re=this.boxCells[k];if(re!==null){const ce=this.bboxes;for(const me of re)if(!G.box[me]){G.box[me]=!0;const le=4*me,Ie=this.boxKeys[me];if(this._circleAndRectCollide(H.x,H.y,H.radius,ce[le+0],ce[le+1],ce[le+2],ce[le+3])&&(!U||U(Ie))&&!At(K,Ie.overlapMode))return L.push(!0),!0}}const ue=this.circleCells[k];if(ue!==null){const ce=this.circles;for(const me of ue)if(!G.circle[me]){G.circle[me]=!0;const le=3*me,Ie=this.circleKeys[me];if(this._circlesCollide(ce[le],ce[le+1],ce[le+2],H.x,H.y,H.radius)&&(!U||U(Ie))&&!At(K,Ie.overlapMode))return L.push(!0),!0}}}_forEachCell(c,p,v,b,k,L,z,U){const H=this._convertToXCellCoord(c),G=this._convertToYCellCoord(p),K=this._convertToXCellCoord(v),re=this._convertToYCellCoord(b);for(let ue=H;ue<=K;ue++)for(let ce=G;ce<=re;ce++)if(k.call(this,c,p,v,b,this.xCellCount*ce+ue,L,z,U))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,v,b,k,L){const z=b-c,U=k-p,H=v+L;return H*H>z*z+U*U}_circleAndRectCollide(c,p,v,b,k,L,z){const U=(L-b)/2,H=Math.abs(c-(b+U));if(H>U+v)return!1;const G=(z-k)/2,K=Math.abs(p-(k+G));if(K>G+v)return!1;if(H<=U||K<=G)return!0;const re=H-U,ue=K-G;return re*re+ue*ue<=v*v}}function tn(S,c,p,v,b){const k=a.create();return c?(a.scale(k,k,[1/b,1/b,1]),p||a.rotateZ(k,k,v.angle)):a.multiply(k,v.labelPlaneMatrix,S),k}function no(S,c,p,v,b){if(c){const k=a.clone(S);return a.scale(k,k,[b,b,1]),p||a.rotateZ(k,k,-v.angle),k}return v.glCoordMatrix}function Xt(S,c,p){let v;p?(v=[S.x,S.y,p(S.x,S.y),1],a.transformMat4(v,v,c)):(v=[S.x,S.y,0,1],ye(v,v,c));const b=v[3];return{point:new a.Point(v[0]/b,v[1]/b),signedDistanceFromCamera:b}}function vo(S,c){return .5+S/c*.5}function Wo(S,c){const p=S[0]/S[3],v=S[1]/S[3];return p>=-c[0]&&p<=c[0]&&v>=-c[1]&&v<=c[1]}function Aa(S,c,p,v,b,k,L,z,U,H){const G=v?S.textSizeData:S.iconSizeData,K=a.evaluateSizeForZoom(G,p.transform.zoom),re=[256/p.width*2+1,256/p.height*2+1],ue=v?S.text.dynamicLayoutVertexArray:S.icon.dynamicLayoutVertexArray;ue.clear();const ce=S.lineVertexArray,me=v?S.text.placedSymbolArray:S.icon.placedSymbolArray,le=p.transform.width/p.transform.height;let Ie=!1;for(let We=0;We<me.length;We++){const _e=me.get(We);if(_e.hidden||_e.writingMode===a.WritingMode.vertical&&!Ie){se(_e.numGlyphs,ue);continue}let $e;if(Ie=!1,H?($e=[_e.anchorX,_e.anchorY,H(_e.anchorX,_e.anchorY),1],a.transformMat4($e,$e,c)):($e=[_e.anchorX,_e.anchorY,0,1],ye($e,$e,c)),!Wo($e,re)){se(_e.numGlyphs,ue);continue}const Ge=vo(p.transform.cameraToCenterDistance,$e[3]),Ze=a.evaluateSizeForFeature(G,K,_e),tt=L?Ze/Ge:Ze*Ge,ft=new a.Point(_e.anchorX,_e.anchorY),at=Xt(ft,b,H).point,pt={projections:{},offsets:{}},Bt=yi(_e,tt,!1,z,c,b,k,S.glyphOffsetArray,ce,ue,at,ft,pt,le,U,H);Ie=Bt.useVertical,(Bt.notEnoughRoom||Ie||Bt.needsFlipping&&yi(_e,tt,!0,z,c,b,k,S.glyphOffsetArray,ce,ue,at,ft,pt,le,U,H).notEnoughRoom)&&se(_e.numGlyphs,ue)}v?S.text.dynamicLayoutVertexBuffer.updateData(ue):S.icon.dynamicLayoutVertexBuffer.updateData(ue)}function _o(S,c,p,v,b,k,L,z,U,H,G,K,re){const ue=z.glyphStartIndex+z.numGlyphs,ce=z.lineStartIndex,me=z.lineStartIndex+z.lineLength,le=c.getoffsetX(z.glyphStartIndex),Ie=c.getoffsetX(ue-1),We=X(S*le,p,v,b,k,L,z.segment,ce,me,U,H,G,K,re);if(!We)return null;const _e=X(S*Ie,p,v,b,k,L,z.segment,ce,me,U,H,G,K,re);return _e?{first:We,last:_e}:null}function is(S,c,p,v){return S===a.WritingMode.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*v?{useVertical:!0}:(S===a.WritingMode.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function yi(S,c,p,v,b,k,L,z,U,H,G,K,re,ue,ce,me){const le=c/24,Ie=S.lineOffsetX*le,We=S.lineOffsetY*le;let _e;if(S.numGlyphs>1){const $e=S.glyphStartIndex+S.numGlyphs,Ge=S.lineStartIndex,Ze=S.lineStartIndex+S.lineLength,tt=_o(le,z,Ie,We,p,G,K,S,U,k,re,ce,me);if(!tt)return{notEnoughRoom:!0};const ft=Xt(tt.first.point,L,me).point,at=Xt(tt.last.point,L,me).point;if(v&&!p){const pt=is(S.writingMode,ft,at,ue);if(pt)return pt}_e=[tt.first];for(let pt=S.glyphStartIndex+1;pt<$e-1;pt++)_e.push(X(le*z.getoffsetX(pt),Ie,We,p,G,K,S.segment,Ge,Ze,U,k,re,ce,me));_e.push(tt.last)}else{if(v&&!p){const Ge=Xt(K,b,me).point,Ze=S.lineStartIndex+S.segment+1,tt=new a.Point(U.getx(Ze),U.gety(Ze)),ft=Xt(tt,b,me),at=ft.signedDistanceFromCamera>0?ft.point:Gr(K,tt,Ge,1,b,me),pt=is(S.writingMode,Ge,at,ue);if(pt)return pt}const $e=X(le*z.getoffsetX(S.glyphStartIndex),Ie,We,p,G,K,S.segment,S.lineStartIndex,S.lineStartIndex+S.lineLength,U,k,re,ce,me);if(!$e)return{notEnoughRoom:!0};_e=[$e]}for(const $e of _e)a.addDynamicAttributes(H,$e.point,$e.angle);return{}}function Gr(S,c,p,v,b,k){const L=Xt(S.add(S.sub(c)._unit()),b,k).point,z=p.sub(L);return p.add(z._mult(v/z.mag()))}function Cl(S,c){const{projectionCache:p,lineVertexArray:v,labelPlaneMatrix:b,tileAnchorPoint:k,distanceFromAnchor:L,getElevation:z,previousVertex:U,direction:H,absOffsetX:G}=c;if(p.projections[S])return p.projections[S];const K=new a.Point(v.getx(S),v.gety(S)),re=Xt(K,b,z);if(re.signedDistanceFromCamera>0)return p.projections[S]=re.point,re.point;const ue=S-H;return Gr(L===0?k:new a.Point(v.getx(ue),v.gety(ue)),K,U,G-L+1,b,z)}function qo(S,c,p){return S._unit()._perp()._mult(c*p)}function pe(S,c,p,v,b,k,L,z){const{projectionCache:U,direction:H}=z;if(U.offsets[S])return U.offsets[S];const G=p.add(c);if(S+H<v||S+H>=b)return U.offsets[S]=G,G;const K=Cl(S+H,z),re=qo(K.sub(p),L,H),ue=p.add(re),ce=K.add(re);return U.offsets[S]=a.findLineIntersection(k,G,ue,ce)||G,U.offsets[S]}function X(S,c,p,v,b,k,L,z,U,H,G,K,re,ue){const ce=v?S-c:S+c;let me=ce>0?1:-1,le=0;v&&(me*=-1,le=Math.PI),me<0&&(le+=Math.PI);let Ie,We,_e=me>0?z+L:z+L+1,$e=b,Ge=b,Ze=0,tt=0;const ft=Math.abs(ce),at=[];let pt;for(;Ze+tt<=ft;){if(_e+=me,_e<z||_e>=U)return null;Ze+=tt,Ge=$e,We=Ie;const wt={projectionCache:K,lineVertexArray:H,labelPlaneMatrix:G,tileAnchorPoint:k,distanceFromAnchor:Ze,getElevation:ue,previousVertex:Ge,direction:me,absOffsetX:ft};if($e=Cl(_e,wt),p===0)at.push(Ge),pt=$e.sub(Ge);else{let er;const Dt=$e.sub(Ge);er=Dt.mag()===0?qo(Cl(_e+me,wt).sub($e),p,me):qo(Dt,p,me),We||(We=Ge.add(er)),Ie=pe(_e,er,$e,z,U,We,p,wt),at.push(We),pt=Ie.sub(We)}tt=pt.mag()}const Bt=pt._mult((ft-Ze)/tt)._add(We||Ge),xr=le+Math.atan2($e.y-Ge.y,$e.x-Ge.x);return at.push(Bt),{point:Bt,angle:re?xr:0,path:at}}const te=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(S,c){for(let p=0;p<S;p++){const v=c.length;c.resize(v+4),c.float32.set(te,3*v)}}function ye(S,c,p){const v=c[0],b=c[1];return S[0]=p[0]*v+p[4]*b+p[12],S[1]=p[1]*v+p[5]*b+p[13],S[3]=p[3]*v+p[7]*b+p[15],S}const be=100;class Re{constructor(c,p=new $t(c.width+200,c.height+200,25),v=new $t(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=v,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+be,this.screenBottomBoundary=c.height+be,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,v,b,k,L){const z=this.projectAndGetPerspectiveRatio(b,c.anchorPointX,c.anchorPointY,L),U=v*z.perspectiveRatio,H=c.x1*U+z.point.x,G=c.y1*U+z.point.y,K=c.x2*U+z.point.x,re=c.y2*U+z.point.y;return!this.isInsideGrid(H,G,K,re)||p!=="always"&&this.grid.hitTest(H,G,K,re,p,k)||z.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[H,G,K,re],offscreen:this.isOffscreen(H,G,K,re)}}placeCollisionCircles(c,p,v,b,k,L,z,U,H,G,K,re,ue,ce){const me=[],le=new a.Point(p.anchorX,p.anchorY),Ie=Xt(le,L,ce),We=vo(this.transform.cameraToCenterDistance,Ie.signedDistanceFromCamera),_e=(G?k/We:k*We)/a.ONE_EM,$e=Xt(le,z,ce).point,Ge=_o(_e,b,p.lineOffsetX*_e,p.lineOffsetY*_e,!1,$e,le,p,v,z,{projections:{},offsets:{}},!1,ce);let Ze=!1,tt=!1,ft=!0;if(Ge){const at=.5*re*We+ue,pt=new a.Point(-100,-100),Bt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),xr=new Ke,wt=Ge.first,er=Ge.last;let Dt=[];for(let fr=wt.path.length-1;fr>=1;fr--)Dt.push(wt.path[fr]);for(let fr=1;fr<er.path.length;fr++)Dt.push(er.path[fr]);const dn=2.5*at;if(U){const fr=Dt.map(rr=>Xt(rr,U,ce));Dt=fr.some(rr=>rr.signedDistanceFromCamera<=0)?[]:fr.map(rr=>rr.point)}let vr=[];if(Dt.length>0){const fr=Dt[0].clone(),rr=Dt[0].clone();for(let Un=1;Un<Dt.length;Un++)fr.x=Math.min(fr.x,Dt[Un].x),fr.y=Math.min(fr.y,Dt[Un].y),rr.x=Math.max(rr.x,Dt[Un].x),rr.y=Math.max(rr.y,Dt[Un].y);vr=fr.x>=pt.x&&rr.x<=Bt.x&&fr.y>=pt.y&&rr.y<=Bt.y?[Dt]:rr.x<pt.x||fr.x>Bt.x||rr.y<pt.y||fr.y>Bt.y?[]:a.clipLine([Dt],pt.x,pt.y,Bt.x,Bt.y)}for(const fr of vr){xr.reset(fr,.25*at);let rr=0;rr=xr.length<=.5*at?1:Math.ceil(xr.paddedLength/dn)+1;for(let Un=0;Un<rr;Un++){const Kr=Un/Math.max(rr-1,1),io=xr.lerp(Kr),Ci=io.x+be,ni=io.y+be;me.push(Ci,ni,at,0);const bo=Ci-at,Oa=ni-at,Ws=Ci+at,qs=ni+at;if(ft=ft&&this.isOffscreen(bo,Oa,Ws,qs),tt=tt||this.isInsideGrid(bo,Oa,Ws,qs),c!=="always"&&this.grid.hitTestCircle(Ci,ni,at,c,K)&&(Ze=!0,!H))return{circles:[],offscreen:!1,collisionDetected:Ze}}}}return{circles:!H&&Ze||!tt||We<this.perspectiveRatioCutoff?[]:me,offscreen:ft,collisionDetected:Ze}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let v=1/0,b=1/0,k=-1/0,L=-1/0;for(const G of c){const K=new a.Point(G.x+be,G.y+be);v=Math.min(v,K.x),b=Math.min(b,K.y),k=Math.max(k,K.x),L=Math.max(L,K.y),p.push(K)}const z=this.grid.query(v,b,k,L).concat(this.ignoredGrid.query(v,b,k,L)),U={},H={};for(const G of z){const K=G.key;if(U[K.bucketInstanceId]===void 0&&(U[K.bucketInstanceId]={}),U[K.bucketInstanceId][K.featureIndex])continue;const re=[new a.Point(G.x1,G.y1),new a.Point(G.x2,G.y1),new a.Point(G.x2,G.y2),new a.Point(G.x1,G.y2)];a.polygonIntersectsPolygon(p,re)&&(U[K.bucketInstanceId][K.featureIndex]=!0,H[K.bucketInstanceId]===void 0&&(H[K.bucketInstanceId]=[]),H[K.bucketInstanceId].push(K.featureIndex))}return H}insertCollisionBox(c,p,v,b,k,L){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:b,featureIndex:k,collisionGroupID:L,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,v,b,k,L){const z=v?this.ignoredGrid:this.grid,U={bucketInstanceId:b,featureIndex:k,collisionGroupID:L,overlapMode:p};for(let H=0;H<c.length;H+=4)z.insertCircle(U,c[H],c[H+1],c[H+2])}projectAndGetPerspectiveRatio(c,p,v,b){let k;return b?(k=[p,v,b(p,v),1],a.transformMat4(k,k,c)):(k=[p,v,0,1],ye(k,k,c)),{point:new a.Point((k[0]/k[3]+1)/2*this.transform.width+be,(-k[1]/k[3]+1)/2*this.transform.height+be),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k[3]*.5}}isOffscreen(c,p,v,b){return v<be||c>=this.screenRightBoundary||b<be||p>this.screenBottomBoundary}isInsideGrid(c,p,v,b){return v>=0&&c<this.gridRightBoundary&&b>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c}}function ke(S,c,p){return c*(a.EXTENT/(S.tileSize*Math.pow(2,p-S.tileID.overscaledZ)))}class Se{constructor(c,p,v,b){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):b&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class ze{constructor(c,p,v,b,k){this.text=new Se(c?c.text:null,p,v,k),this.icon=new Se(c?c.icon:null,p,b,k)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Je{constructor(c,p,v){this.text=c,this.icon=p,this.skipFade=v}}class et{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class ot{constructor(c,p,v,b,k){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=v,this.bucketIndex=b,this.tileID=k}}class Vt{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:v=>v.collisionGroupID===p}}return this.collisionGroups[c]}}function sr(S,c,p,v,b){const{horizontalAlign:k,verticalAlign:L}=a.getAnchorAlignment(S);return new a.Point(-(k-.5)*c+v[0]*b,-(L-.5)*p+v[1]*b)}function Nt(S,c,p,v,b,k){const{x1:L,x2:z,y1:U,y2:H,anchorPointX:G,anchorPointY:K}=S,re=new a.Point(c,p);return v&&re._rotate(b?k:-k),{x1:L+re.x,y1:U+re.y,x2:z+re.x,y2:H+re.y,anchorPointX:G,anchorPointY:K}}class Wt{constructor(c,p,v,b,k){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new Re(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Vt(b),this.collisionCircleArrays={},this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,v,b){const k=v.getBucket(p),L=v.latestFeatureIndex;if(!k||!L||p.id!==k.layerIds[0])return;const z=v.collisionBoxArray,U=k.layers[0].layout,H=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),G=v.tileSize/a.EXTENT,K=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),re=U.get("text-pitch-alignment")==="map",ue=U.get("text-rotation-alignment")==="map",ce=ke(v,1,this.transform.zoom),me=tn(K,re,ue,this.transform,ce);let le=null;if(re){const We=no(K,re,ue,this.transform,ce);le=a.multiply([],this.transform.labelPlaneMatrix,We)}this.retainedQueryData[k.bucketInstanceId]=new ot(k.bucketInstanceId,L,k.sourceLayerIndex,k.index,v.tileID);const Ie={bucket:k,layout:U,posMatrix:K,textLabelPlaneMatrix:me,labelToScreenMatrix:le,scale:H,textPixelRatio:G,holdingForFade:v.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(k.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(b)for(const We of k.sortKeyRanges){const{sortKey:_e,symbolInstanceStart:$e,symbolInstanceEnd:Ge}=We;c.push({sortKey:_e,symbolInstanceStart:$e,symbolInstanceEnd:Ge,parameters:Ie})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:Ie})}attemptAnchorPlacement(c,p,v,b,k,L,z,U,H,G,K,re,ue,ce,me,le){const Ie=a.TextAnchorEnum[c.textAnchor],We=[c.textOffset0,c.textOffset1],_e=sr(Ie,v,b,We,k),$e=this.collisionIndex.placeCollisionBox(Nt(p,_e.x,_e.y,L,z,this.transform.angle),K,U,H,G.predicate,le);if((!me||this.collisionIndex.placeCollisionBox(Nt(me,_e.x,_e.y,L,z,this.transform.angle),K,U,H,G.predicate,le).box.length!==0)&&$e.box.length>0){let Ge;if(this.prevPlacement&&this.prevPlacement.variableOffsets[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID].text&&(Ge=this.prevPlacement.variableOffsets[re.crossTileID].anchor),re.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[re.crossTileID]={textOffset:We,width:v,height:b,anchor:Ie,textBoxScale:k,prevAnchor:Ge},this.markUsedJustification(ue,Ie,re,ce),ue.allowVerticalPlacement&&(this.markUsedOrientation(ue,ce,re),this.placedOrientations[re.crossTileID]=ce),{shift:_e,placedGlyphBoxes:$e}}}placeLayerBucketPart(c,p,v){const{bucket:b,layout:k,posMatrix:L,textLabelPlaneMatrix:z,labelToScreenMatrix:U,textPixelRatio:H,holdingForFade:G,collisionBoxArray:K,partiallyEvaluatedTextSize:re,collisionGroup:ue}=c.parameters,ce=k.get("text-optional"),me=k.get("icon-optional"),le=a.getOverlapMode(k,"text-overlap","text-allow-overlap"),Ie=le==="always",We=a.getOverlapMode(k,"icon-overlap","icon-allow-overlap"),_e=We==="always",$e=k.get("text-rotation-alignment")==="map",Ge=k.get("text-pitch-alignment")==="map",Ze=k.get("icon-text-fit")!=="none",tt=k.get("symbol-z-order")==="viewport-y",ft=Ie&&(_e||!b.hasIconData()||me),at=_e&&(Ie||!b.hasTextData()||ce);!b.collisionArrays&&K&&b.deserializeCollisionBoxes(K);const pt=this.retainedQueryData[b.bucketInstanceId].tileID,Bt=this.terrain?(wt,er)=>this.terrain.getElevation(pt,wt,er):null,xr=(wt,er)=>{var Dt,dn;if(p[wt.crossTileID])return;if(G)return void(this.placements[wt.crossTileID]=new Je(!1,!1,!1));let vr=!1,fr=!1,rr=!0,Un=null,Kr={box:null,offscreen:null},io={box:null,offscreen:null},Ci=null,ni=null,bo=null,Oa=0,Ws=0,qs=0;er.textFeatureIndex?Oa=er.textFeatureIndex:wt.useRuntimeCollisionCircles&&(Oa=wt.featureIndex),er.verticalTextFeatureIndex&&(Ws=er.verticalTextFeatureIndex);const Ol=er.textBox;if(Ol){const ki=ui=>{let Pi=a.WritingMode.horizontal;if(b.allowVerticalPlacement&&!ui&&this.prevPlacement){const wo=this.prevPlacement.placedOrientations[wt.crossTileID];wo&&(this.placedOrientations[wt.crossTileID]=wo,Pi=wo,this.markUsedOrientation(b,Pi,wt))}return Pi},Vn=(ui,Pi)=>{if(b.allowVerticalPlacement&&wt.numVerticalGlyphVertices>0&&er.verticalTextBox){for(const wo of b.writingModes)if(wo===a.WritingMode.vertical?(Kr=Pi(),io=Kr):Kr=ui(),Kr&&Kr.box&&Kr.box.length)break}else Kr=ui()},Ti=wt.textAnchorOffsetStartIndex,Nu=wt.textAnchorOffsetEndIndex;if(Nu===Ti){const ui=(Pi,wo)=>{const $n=this.collisionIndex.placeCollisionBox(Pi,le,H,L,ue.predicate,Bt);return $n&&$n.box&&$n.box.length&&(this.markUsedOrientation(b,wo,wt),this.placedOrientations[wt.crossTileID]=wo),$n};Vn(()=>ui(Ol,a.WritingMode.horizontal),()=>{const Pi=er.verticalTextBox;return b.allowVerticalPlacement&&wt.numVerticalGlyphVertices>0&&Pi?ui(Pi,a.WritingMode.vertical):{box:null,offscreen:null}}),ki(Kr&&Kr.box&&Kr.box.length)}else{let ui=a.TextAnchorEnum[(dn=(Dt=this.prevPlacement)===null||Dt===void 0?void 0:Dt.variableOffsets[wt.crossTileID])===null||dn===void 0?void 0:dn.anchor];const Pi=($n,zu,Hs)=>{const Ia=$n.x2-$n.x1,Rl=$n.y2-$n.y1,tb=wt.textBoxScale,Mc=Ze&&We==="never"?zu:null;let ju={box:[],offscreen:!1},jy=le==="never"?1:2,Dn="never";ui&&jy++;for(let pp=0;pp<jy;pp++){for(let mp=Ti;mp<Nu;mp++){const $l=b.textAnchorOffsets.get(mp);if(ui&&$l.textAnchor!==ui)continue;const Gs=this.attemptAnchorPlacement($l,$n,Ia,Rl,tb,$e,Ge,H,L,ue,Dn,wt,b,Hs,Mc,Bt);if(Gs&&(ju=Gs.placedGlyphBoxes,ju&&ju.box&&ju.box.length))return vr=!0,Un=Gs.shift,ju}ui?ui=null:Dn=le}return ju};Vn(()=>Pi(Ol,er.iconBox,a.WritingMode.horizontal),()=>{const $n=er.verticalTextBox;return b.allowVerticalPlacement&&!(Kr&&Kr.box&&Kr.box.length)&&wt.numVerticalGlyphVertices>0&&$n?Pi($n,er.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Kr&&(vr=Kr.box,rr=Kr.offscreen);const wo=ki(Kr&&Kr.box);if(!vr&&this.prevPlacement){const $n=this.prevPlacement.variableOffsets[wt.crossTileID];$n&&(this.variableOffsets[wt.crossTileID]=$n,this.markUsedJustification(b,$n.anchor,wt,wo))}}}if(Ci=Kr,vr=Ci&&Ci.box&&Ci.box.length>0,rr=Ci&&Ci.offscreen,wt.useRuntimeCollisionCircles){const ki=b.text.placedSymbolArray.get(wt.centerJustifiedTextSymbolIndex),Vn=a.evaluateSizeForFeature(b.textSizeData,re,ki),Ti=k.get("text-padding");ni=this.collisionIndex.placeCollisionCircles(le,ki,b.lineVertexArray,b.glyphOffsetArray,Vn,L,z,U,v,Ge,ue.predicate,wt.collisionCircleDiameter,Ti,Bt),ni.circles.length&&ni.collisionDetected&&!v&&a.warnOnce("Collisions detected, but collision boxes are not shown"),vr=Ie||ni.circles.length>0&&!ni.collisionDetected,rr=rr&&ni.offscreen}if(er.iconFeatureIndex&&(qs=er.iconFeatureIndex),er.iconBox){const ki=Vn=>{const Ti=Ze&&Un?Nt(Vn,Un.x,Un.y,$e,Ge,this.transform.angle):Vn;return this.collisionIndex.placeCollisionBox(Ti,We,H,L,ue.predicate,Bt)};io&&io.box&&io.box.length&&er.verticalIconBox?(bo=ki(er.verticalIconBox),fr=bo.box.length>0):(bo=ki(er.iconBox),fr=bo.box.length>0),rr=rr&&bo.offscreen}const Ac=ce||wt.numHorizontalGlyphVertices===0&&wt.numVerticalGlyphVertices===0,Il=me||wt.numIconVertices===0;if(Ac||Il?Il?Ac||(fr=fr&&vr):vr=fr&&vr:fr=vr=fr&&vr,vr&&Ci&&Ci.box&&this.collisionIndex.insertCollisionBox(Ci.box,le,k.get("text-ignore-placement"),b.bucketInstanceId,io&&io.box&&Ws?Ws:Oa,ue.ID),fr&&bo&&this.collisionIndex.insertCollisionBox(bo.box,We,k.get("icon-ignore-placement"),b.bucketInstanceId,qs,ue.ID),ni&&(vr&&this.collisionIndex.insertCollisionCircles(ni.circles,le,k.get("text-ignore-placement"),b.bucketInstanceId,Oa,ue.ID),v)){const ki=b.bucketInstanceId;let Vn=this.collisionCircleArrays[ki];Vn===void 0&&(Vn=this.collisionCircleArrays[ki]=new et);for(let Ti=0;Ti<ni.circles.length;Ti+=4)Vn.circles.push(ni.circles[Ti+0]),Vn.circles.push(ni.circles[Ti+1]),Vn.circles.push(ni.circles[Ti+2]),Vn.circles.push(ni.collisionDetected?1:0)}if(wt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(b.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[wt.crossTileID]=new Je(vr||ft,fr||at,rr||b.justReloaded),p[wt.crossTileID]=!0};if(tt){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const wt=b.getSortedSymbolIndexes(this.transform.angle);for(let er=wt.length-1;er>=0;--er){const Dt=wt[er];xr(b.symbolInstances.get(Dt),b.collisionArrays[Dt])}}else for(let wt=c.symbolInstanceStart;wt<c.symbolInstanceEnd;wt++)xr(b.symbolInstances.get(wt),b.collisionArrays[wt]);if(v&&b.bucketInstanceId in this.collisionCircleArrays){const wt=this.collisionCircleArrays[b.bucketInstanceId];a.invert(wt.invProjMatrix,L),wt.viewportMatrix=this.collisionIndex.getViewportMatrix()}b.justReloaded=!1}markUsedJustification(c,p,v,b){let k;k=b===a.WritingMode.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];const L=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const z of L)z>=0&&(c.text.placedSymbolArray.get(z).crossTileID=k>=0&&z!==k?0:v.crossTileID)}markUsedOrientation(c,p,v){const b=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,k=p===a.WritingMode.vertical?p:0,L=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const z of L)c.text.placedSymbolArray.get(z).placedOrientation=b;v.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let v=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const b=p?p.symbolFadeChange(c):1,k=p?p.opacities:{},L=p?p.variableOffsets:{},z=p?p.placedOrientations:{};for(const U in this.placements){const H=this.placements[U],G=k[U];G?(this.opacities[U]=new ze(G,b,H.text,H.icon),v=v||H.text!==G.text.placed||H.icon!==G.icon.placed):(this.opacities[U]=new ze(null,b,H.text,H.icon,H.skipFade),v=v||H.text||H.icon)}for(const U in k){const H=k[U];if(!this.opacities[U]){const G=new ze(H,b,!1,!1);G.isHidden()||(this.opacities[U]=G,v=v||H.text.placed||H.icon.placed)}}for(const U in L)this.variableOffsets[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.variableOffsets[U]=L[U]);for(const U in z)this.placedOrientations[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.placedOrientations[U]=z[U]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const v={};for(const b of p){const k=b.getBucket(c);k&&b.latestFeatureIndex&&c.id===k.layerIds[0]&&this.updateBucketOpacities(k,v,b.collisionBoxArray)}}updateBucketOpacities(c,p,v){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const b=c.layers[0],k=b.layout,L=new ze(null,0,!1,!1,!0),z=k.get("text-allow-overlap"),U=k.get("icon-allow-overlap"),H=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),G=k.get("text-rotation-alignment")==="map",K=k.get("text-pitch-alignment")==="map",re=k.get("icon-text-fit")!=="none",ue=new ze(null,0,z&&(U||!c.hasIconData()||k.get("icon-optional")),U&&(z||!c.hasTextData()||k.get("text-optional")),!0);!c.collisionArrays&&v&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(v);const ce=(me,le,Ie)=>{for(let We=0;We<le/4;We++)me.opacityVertexArray.emplaceBack(Ie);me.hasVisibleVertices=me.hasVisibleVertices||Ie!==Xn};for(let me=0;me<c.symbolInstances.length;me++){const le=c.symbolInstances.get(me),{numHorizontalGlyphVertices:Ie,numVerticalGlyphVertices:We,crossTileID:_e}=le;let $e=this.opacities[_e];p[_e]?$e=L:$e||($e=ue,this.opacities[_e]=$e),p[_e]=!0;const Ge=le.numIconVertices>0,Ze=this.placedOrientations[le.crossTileID],tt=Ze===a.WritingMode.vertical,ft=Ze===a.WritingMode.horizontal||Ze===a.WritingMode.horizontalOnly;if(Ie>0||We>0){const at=Di($e.text);ce(c.text,Ie,tt?Xn:at),ce(c.text,We,ft?Xn:at);const pt=$e.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(wt=>{wt>=0&&(c.text.placedSymbolArray.get(wt).hidden=pt||tt?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=pt||ft?1:0);const Bt=this.variableOffsets[le.crossTileID];Bt&&this.markUsedJustification(c,Bt.anchor,le,Ze);const xr=this.placedOrientations[le.crossTileID];xr&&(this.markUsedJustification(c,"left",le,xr),this.markUsedOrientation(c,xr,le))}if(Ge){const at=Di($e.icon),pt=!(re&&le.verticalPlacedIconSymbolIndex&&tt);le.placedIconSymbolIndex>=0&&(ce(c.icon,le.numIconVertices,pt?at:Xn),c.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=$e.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ce(c.icon,le.numVerticalIconVertices,pt?Xn:at),c.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=$e.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const at=c.collisionArrays[me];if(at){let pt=new a.Point(0,0);if(at.textBox||at.verticalTextBox){let xr=!0;if(H){const wt=this.variableOffsets[_e];wt?(pt=sr(wt.anchor,wt.width,wt.height,wt.textOffset,wt.textBoxScale),G&&pt._rotate(K?this.transform.angle:-this.transform.angle)):xr=!1}at.textBox&&ar(c.textCollisionBox.collisionVertexArray,$e.text.placed,!xr||tt,pt.x,pt.y),at.verticalTextBox&&ar(c.textCollisionBox.collisionVertexArray,$e.text.placed,!xr||ft,pt.x,pt.y)}const Bt=!!(!ft&&at.verticalIconBox);at.iconBox&&ar(c.iconCollisionBox.collisionVertexArray,$e.icon.placed,Bt,re?pt.x:0,re?pt.y:0),at.verticalIconBox&&ar(c.iconCollisionBox.collisionVertexArray,$e.icon.placed,!Bt,re?pt.x:0,re?pt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const me=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=me.invProjMatrix,c.placementViewportMatrix=me.viewportMatrix,c.collisionCircleArray=me.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const v=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*v>c}setStale(){this.stale=!0}}function ar(S,c,p,v,b){S.emplaceBack(c?1:0,p?1:0,v||0,b||0),S.emplaceBack(c?1:0,p?1:0,v||0,b||0),S.emplaceBack(c?1:0,p?1:0,v||0,b||0),S.emplaceBack(c?1:0,p?1:0,v||0,b||0)}const Pr=Math.pow(2,25),Ur=Math.pow(2,24),gr=Math.pow(2,17),Ar=Math.pow(2,16),Vi=Math.pow(2,9),gt=Math.pow(2,8),Dr=Math.pow(2,1);function Di(S){if(S.opacity===0&&!S.placed)return 0;if(S.opacity===1&&S.placed)return 4294967295;const c=S.placed?1:0,p=Math.floor(127*S.opacity);return p*Pr+c*Ur+p*gr+c*Ar+p*Vi+c*gt+p*Dr+c}const Xn=0;class Ho{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,v,b,k){const L=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(L,b,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort((z,U)=>z.sortKey-U.sortKey));this._currentPartIndex<L.length;)if(p.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,k())return!0;return!1}}class xC{constructor(c,p,v,b,k,L,z,U){this.placement=new Wt(c,p,L,z,U),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=b,this._showCollisionBoxes=k,this._done=!1}isDone(){return this._done}continuePlacement(c,p,v){const b=a.browser.now(),k=()=>!this._forceFullPlacement&&a.browser.now()-b>2;for(;this._currentPlacementIndex>=0;){const L=p[c[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(L.type==="symbol"&&(!L.minzoom||L.minzoom<=z)&&(!L.maxzoom||L.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new Ho(L)),this._inProgressLayer.continuePlacement(v[L.source],this.placement,this._showCollisionBoxes,L,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Wi=512/a.EXTENT/2;class ua{constructor(c,p,v){this.tileID=c,this.bucketInstanceId=v,this._symbolsByKey={};const b=new Map;for(let k=0;k<p.length;k++){const L=p.get(k),z=L.key,U=b.get(z);U?U.push(L):b.set(z,[L])}for(const[k,L]of b){const z={positions:L.map(U=>({x:Math.floor(U.anchorX*Wi),y:Math.floor(U.anchorY*Wi)})),crossTileIDs:L.map(U=>U.crossTileID)};if(z.positions.length>128){const U=new a.KDBush(z.positions.length,16,Uint16Array);for(const{x:H,y:G}of z.positions)U.add(H,G);U.finish(),delete z.positions,z.index=U}this._symbolsByKey[k]=z}}getScaledCoordinates(c,p){const{x:v,y:b,z:k}=this.tileID.canonical,{x:L,y:z,z:U}=p.canonical,H=Wi/Math.pow(2,U-k),G=(z*a.EXTENT+c.anchorY)*H,K=b*a.EXTENT*Wi;return{x:Math.floor((L*a.EXTENT+c.anchorX)*H-v*a.EXTENT*Wi),y:Math.floor(G-K)}}findMatches(c,p,v){const b=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let k=0;k<c.length;k++){const L=c.get(k);if(L.crossTileID)continue;const z=this._symbolsByKey[L.key];if(!z)continue;const U=this.getScaledCoordinates(L,p);if(z.index){const H=z.index.range(U.x-b,U.y-b,U.x+b,U.y+b).sort();for(const G of H){const K=z.crossTileIDs[G];if(!v[K]){v[K]=!0,L.crossTileID=K;break}}}else if(z.positions)for(let H=0;H<z.positions.length;H++){const G=z.positions[H],K=z.crossTileIDs[H];if(Math.abs(G.x-U.x)<=b&&Math.abs(G.y-U.y)<=b&&!v[K]){v[K]=!0,L.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class bx{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class $h{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const v in this.indexes){const b=this.indexes[v],k={};for(const L in b){const z=b[L];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+p),k[z.tileID.key]=z}this.indexes[v]=k}this.lng=c}addBucket(c,p,v){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let k=0;k<p.symbolInstances.length;k++)p.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const b=this.usedCrossTileIDs[c.overscaledZ];for(const k in this.indexes){const L=this.indexes[k];if(Number(k)>c.overscaledZ)for(const z in L){const U=L[z];U.tileID.isChildOf(c)&&U.findMatches(p.symbolInstances,c,b)}else{const z=L[c.scaledTo(Number(k)).key];z&&z.findMatches(p.symbolInstances,c,b)}}for(let k=0;k<p.symbolInstances.length;k++){const L=p.symbolInstances.get(k);L.crossTileID||(L.crossTileID=v.generate(),b[L.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new ua(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const v of p.getCrossTileIDsLists())for(const b of v)delete this.usedCrossTileIDs[c][b]}removeStaleBuckets(c){let p=!1;for(const v in this.indexes){const b=this.indexes[v];for(const k in b)c[b[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,b[k]),delete b[k],p=!0)}return p}}class Jn{constructor(){this.layerIndexes={},this.crossTileIDs=new bx,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,v){let b=this.layerIndexes[c.id];b===void 0&&(b=this.layerIndexes[c.id]=new $h);let k=!1;const L={};b.handleWrapJump(v);for(const z of p){const U=z.getBucket(c);U&&c.id===U.layerIds[0]&&(U.bucketInstanceId||(U.bucketInstanceId=++this.maxBucketInstanceId),b.addBucket(z.tileID,U,this.crossTileIDs)&&(k=!0),L[U.bucketInstanceId]=!0)}return b.removeStaleBuckets(L)&&(k=!0),k}pruneUnusedLayers(c){const p={};c.forEach(v=>{p[v]=!0});for(const v in this.layerIndexes)p[v]||delete this.layerIndexes[v]}}const kl=(S,c)=>a.emitValidationErrors(S,c&&c.filter(p=>p.identifier!=="source.canvas")),gc=a.pick(a.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Qn=a.pick(a.operations,["setCenter","setZoom","setBearing","setPitch"]),Dh=a.emptyStyle();class qi extends a.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new Pe(Jt(),this,c._getMapId()),this.imageManager=new he,this.imageManager.setEventedParent(this),this.glyphManager=new Ce(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new rt(256,512),this.crossTileSymbolIndex=new Jn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const v=this;this._rtlTextPluginCallback=qi.registerForPluginStateChange(b=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:b.pluginStatus,pluginURL:b.pluginURL},(k,L)=>{if(a.triggerPluginCompletionEvent(k),L&&L.every(z=>z))for(const z in v.sourceCaches){const U=v.sourceCaches[z].getSource().type;U!=="vector"&&U!=="geojson"||v.sourceCaches[z].reload()}})}),this.on("data",b=>{if(b.dataType!=="source"||b.sourceDataType!=="metadata")return;const k=this.sourceCaches[b.sourceId];if(!k)return;const L=k.getSource();if(L&&L.vectorLayerIds)for(const z in this._layers){const U=this._layers[z];U.source===L.id&&this._validateLayer(U)}})}loadURL(c,p={},v){this.fire(new a.Event("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const b=this.map._requestManager.transformRequest(c,O.Style);this._request=a.getJSON(b,(k,L)=>{this._request=null,k?this.fire(new a.ErrorEvent(k)):L&&this._load(L,p,v)})}loadJSON(c,p={},v){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,v)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Dh,{validate:!1})}_load(c,p,v){const b=p.transformStyle?p.transformStyle(v,c):c;if(!p.validate||!kl(this,a.validateStyle(b))){this._loaded=!0,this.stylesheet=b;for(const k in b.sources)this.addSource(k,b.sources[k],{validate:!1});b.sprite?this._loadSprite(b.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(b.glyphs),this._createLayers(),this.light=new qe(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}}_createLayers(){const c=a.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const v=a.createStyleLayer(p);v.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=v}}_loadSprite(c,p=!1,v=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(b,k,L,z){const U=q(b),H=U.length,G=L>1?"@2x":"",K={},re={},ue={};for(const{id:ce,url:me}of U){const le=k.transformRequest(k.normalizeSpriteURL(me,G,".json"),O.SpriteJSON),Ie=`${ce}_${le.url}`;K[Ie]=a.getJSON(le,($e,Ge)=>{delete K[Ie],re[ce]=Ge,J(z,re,ue,$e,H)});const We=k.transformRequest(k.normalizeSpriteURL(me,G,".png"),O.SpriteImage),_e=`${ce}_${We.url}`;K[_e]=M.getImage(We,($e,Ge)=>{delete K[_e],ue[ce]=Ge,J(z,re,ue,$e,H)})}return{cancel(){for(const ce of Object.values(K))ce.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(b,k)=>{if(this._spriteRequest=null,b)this.fire(new a.ErrorEvent(b));else if(k)for(const L in k){this._spritesImagesIds[L]=[];const z=this._spritesImagesIds[L]?this._spritesImagesIds[L].filter(U=>!(U in k)):[];for(const U of z)this.imageManager.removeImage(U),this._changedImages[U]=!0;for(const U in k[L]){const H=L==="default"?U:`${L}:${U}`;this._spritesImagesIds[L].push(H),H in this.imageManager.images?this.imageManager.updateImage(H,k[L][U],!1):this.imageManager.addImage(H,k[L][U]),p&&(this._changedImages[H]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"})),v&&v(b)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const v=c.sourceLayer;if(!v)return;const b=p.getSource();(b.type==="geojson"||b.vectorLayerIds&&b.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${v}" does not exist on source "${b.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const v=[];for(const b of c)p[b]&&v.push(p[b]);return v}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const v of p){const b=this._layers[v];b.type!=="custom"&&(c[v]=b.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const b=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(b.length||k.length)&&this._updateWorkerLayers(b,k);for(const L in this._updatedSources){const z=this._updatedSources[L];if(z==="reload")this._reloadSource(L);else{if(z!=="clear")throw new Error(`Invalid action ${z}`);this._clearSource(L)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const L in this._updatedPaintProps)this._layers[L].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const v={};for(const b in this.sourceCaches){const k=this.sourceCaches[b];v[b]=k.used,k.used=!1}for(const b of this._order){const k=this._layers[b];k.recalculate(c,this._availableImages),!k.isHidden(c.zoom)&&k.source&&(this.sourceCaches[k.source].used=!0)}for(const b in v){const k=this.sourceCaches[b];v[b]!==k.used&&k.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:b}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const v=this.serialize();if(c=p.transformStyle?p.transformStyle(v,c):c,kl(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=a.derefLayers(c.layers);const b=a.diffStyles(v,c).filter(L=>!(L.command in Qn));if(b.length===0)return!1;const k=b.filter(L=>!(L.command in gc));if(k.length>0)throw new Error(`Unimplemented: ${k.map(L=>L.command).join(", ")}.`);for(const L of b)L.command!=="setTransition"&&this[L.command].apply(this,L.args);return this.stylesheet=c,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,v={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.validateStyle.source,`sources.${c}`,p,null,v))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const b=this.sourceCaches[c]=new cr(c,p,this.dispatcher);b.style=this,b.setEventedParent(this,()=>({isSourceLoaded:b.loaded(),source:b.serialize(),sourceId:c})),b.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${v}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const v=this.sourceCaches[c].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,v={}){this._checkLoaded();const b=c.id;if(this.getLayer(b))return void this.fire(new a.ErrorEvent(new Error(`Layer "${b}" already exists on this map.`)));let k;if(c.type==="custom"){if(kl(this,a.validateCustomStyleLayer(c)))return;k=a.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(b,c.source),c=a.clone$1(c),c=a.extend(c,{source:b})),this._validate(a.validateStyle.layer,`layers.${b}`,c,{arrayIndex:-1},v))return;k=a.createStyleLayer(c),this._validateLayer(k),k.setEventedParent(this,{layer:{id:b}})}const L=p?this._order.indexOf(p):this._order.length;if(p&&L===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${b}" before non-existing layer "${p}".`)));else{if(this._order.splice(L,0,b),this._layerOrderChanged=!0,this._layers[b]=k,this._removedLayers[b]&&k.source&&k.type!=="custom"){const z=this._removedLayers[b];delete this._removedLayers[b],z.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",this.sourceCaches[k.source].pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const v=this._order.indexOf(c);this._order.splice(v,1);const b=p?this._order.indexOf(p):this._order.length;p&&b===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(b,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const v=this._order.indexOf(c);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,v){this._checkLoaded();const b=this.getLayer(c);b?b.minzoom===p&&b.maxzoom===v||(p!=null&&(b.minzoom=p),v!=null&&(b.maxzoom=v),this._updateLayer(b)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,v={}){this._checkLoaded();const b=this.getLayer(c);if(b){if(!a.deepEqual(b.filter,p))return p==null?(b.filter=void 0,void this._updateLayer(b)):void(this._validate(a.validateStyle.filter,`layers.${b.id}.filter`,p,null,v)||(b.filter=a.clone$1(p),this._updateLayer(b)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,p,v,b={}){this._checkLoaded();const k=this.getLayer(c);k?a.deepEqual(k.getLayoutProperty(p),v)||(k.setLayoutProperty(p,v,b),this._updateLayer(k)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const v=this.getLayer(c);if(v)return v.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,v,b={}){this._checkLoaded();const k=this.getLayer(c);k?a.deepEqual(k.getPaintProperty(p),v)||(k.setPaintProperty(p,v,b)&&this._updateLayer(k),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const v=c.source,b=c.sourceLayer,k=this.sourceCaches[v];if(k===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const L=k.getSource().type;L==="geojson"&&b?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):L!=="vector"||b?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),k.setFeatureState(b,c.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const v=c.source,b=this.sourceCaches[v];if(b===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const k=b.getSource().type,L=k==="vector"?c.sourceLayer:void 0;k!=="vector"||L?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):b.removeFeatureState(L,c.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,v=c.sourceLayer,b=this.sourceCaches[p];if(b!==void 0)return b.getSource().type!=="vector"||v?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),b.getFeatureState(v,c.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.mapObject(this.sourceCaches,b=>b.serialize()),p=this._serializeByIds(this._order),v=this.stylesheet;return a.filterObject({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:c,layers:p},b=>b!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=L=>this._layers[L].type==="fill-extrusion",v={},b=[];for(let L=this._order.length-1;L>=0;L--){const z=this._order[L];if(p(z)){v[z]=L;for(const U of c){const H=U[z];if(H)for(const G of H)b.push(G)}}}b.sort((L,z)=>z.intersectionZ-L.intersectionZ);const k=[];for(let L=this._order.length-1;L>=0;L--){const z=this._order[L];if(p(z))for(let U=b.length-1;U>=0;U--){const H=b[U].feature;if(v[H.layer.id]<L)break;k.push(H),b.pop()}else for(const U of c){const H=U[z];if(H)for(const G of H)k.push(G.feature)}}return k}queryRenderedFeatures(c,p,v){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);const b={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const z of p.layers){const U=this._layers[z];if(!U)return this.fire(new a.ErrorEvent(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];b[U.source]=!0}}const k=[];p.availableImages=this._availableImages;const L=this._serializedAllLayers();for(const z in this.sourceCaches)p.layers&&!b[z]||k.push(jt(this.sourceCaches[z],this._layers,L,c,p,v));return this.placement&&k.push(function(z,U,H,G,K,re,ue){const ce={},me=re.queryRenderedSymbols(G),le=[];for(const Ie of Object.keys(me).map(Number))le.push(ue[Ie]);le.sort(Mr);for(const Ie of le){const We=Ie.featureIndex.lookupSymbolFeatures(me[Ie.bucketInstanceId],U,Ie.bucketIndex,Ie.sourceLayerIndex,K.filter,K.layers,K.availableImages,z);for(const _e in We){const $e=ce[_e]=ce[_e]||[],Ge=We[_e];Ge.sort((Ze,tt)=>{const ft=Ie.featureSortOrder;if(ft){const at=ft.indexOf(Ze.featureIndex);return ft.indexOf(tt.featureIndex)-at}return tt.featureIndex-Ze.featureIndex});for(const Ze of Ge)$e.push(Ze)}}for(const Ie in ce)ce[Ie].forEach(We=>{const _e=We.feature,$e=H[z[Ie].source].getFeatureState(_e.layer["source-layer"],_e.id);_e.source=_e.layer.source,_e.layer["source-layer"]&&(_e.sourceLayer=_e.layer["source-layer"]),_e.state=$e});return ce}(this._layers,L,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p);const v=this.sourceCaches[c];return v?function(b,k){const L=b.getRenderableIds().map(H=>b.getTileByID(H)),z=[],U={};for(let H=0;H<L.length;H++){const G=L[H],K=G.tileID.canonical.key;U[K]||(U[K]=!0,G.querySourceFeatures(z,k))}return z}(v,p):[]}addSourceType(c,p,v){return Zt(c)?v(new Error(`A source type called "${c}" already exists.`)):(((b,k)=>{Et[b]=k})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const v=this.light.getLight();let b=!1;for(const L in c)if(!a.deepEqual(c[L],v[L])){b=!0;break}if(!b)return;const k={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(k)}_validate(c,p,v,b,k={}){return(!k||k.validate!==!1)&&kl(this,c.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:v,styleSpec:a.v8Spec},b)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const v=this.sourceCaches[p];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,v,b,k=!1){let L=!1,z=!1;const U={};for(const H of this._order){const G=this._layers[H];if(G.type!=="symbol")continue;if(!U[G.source]){const re=this.sourceCaches[G.source];U[G.source]=re.getRenderableIds(!0).map(ue=>re.getTileByID(ue)).sort((ue,ce)=>ce.tileID.overscaledZ-ue.tileID.overscaledZ||(ue.tileID.isLessThan(ce.tileID)?-1:1))}const K=this.crossTileSymbolIndex.addLayer(G,U[G.source],c.center.lng);L=L||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((k=k||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),c.zoom))&&(this.pauseablePlacement=new xC(c,this.map.terrain,this._order,k,p,v,b,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,U),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),z=!0),L&&this.pauseablePlacement.placement.setStale()),z||L)for(const H of this._order){const G=this._layers[H];G.type==="symbol"&&this.placement.updateLayerOpacities(G,U[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,v){this.imageManager.getImages(p.icons,v),this._updateTilesForChangedImages();const b=this.sourceCaches[p.source];b&&b.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,v){this.glyphManager.getGlyphs(p.stacks,v);const b=this.sourceCaches[p.source];b&&b.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,v){return a.makeRequest(p,v)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.validateStyle.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,v={},b){this._checkLoaded();const k=[{id:c,url:p}],L=[...q(this.stylesheet.sprite),...k];this._validate(a.validateStyle.sprite,"sprite",L,null,v)||(this.stylesheet.sprite=L,this._loadSprite(k,!0,b))}removeSprite(c){this._checkLoaded();const p=q(this.stylesheet.sprite);if(p.find(v=>v.id===c)){if(this._spritesImagesIds[c])for(const v of this._spritesImagesIds[c])this.imageManager.removeImage(v),this._changedImages[v]=!0;p.splice(p.findIndex(v=>v.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}else this.fire(new a.ErrorEvent(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return q(this.stylesheet.sprite)}setSprite(c,p={},v){this._checkLoaded(),c&&this._validate(a.validateStyle.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,v):(this._unloadSprite(),v&&v(null)))}}qi.registerForPluginStateChange=a.registerForPluginStateChange;var Lh=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),os="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const rf={prelude:Yr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Yr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Yr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Yr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Yr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Yr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Yr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Yr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Yr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Yr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Yr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Yr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Yr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Yr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Yr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Yr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Yr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Yr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Yr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Yr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Yr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Yr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Yr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Yr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Yr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Yr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Yr("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",os),terrainDepth:Yr("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",os),terrainCoords:Yr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",os)};function Yr(S,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=c.match(/attribute ([\w]+) ([\w]+)/g),b=S.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=k?k.concat(b):b,z={};return{fragmentSource:S=S.replace(p,(U,H,G,K,re)=>(z[re]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_${re}
varying ${G} ${K} ${re};
#else
uniform ${G} ${K} u_${re};
#endif
`:`
#ifdef HAS_UNIFORM_u_${re}
    ${G} ${K} ${re} = u_${re};
#endif
`)),vertexSource:c=c.replace(p,(U,H,G,K,re)=>{const ue=K==="float"?"vec2":"vec4",ce=re.match(/color/)?"color":ue;return z[re]?H==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${G} ${ue} a_${re};
varying ${G} ${K} ${re};
#else
uniform ${G} ${K} u_${re};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = a_${re};
#else
    ${G} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = unpack_mix_${ce}(a_${re}, u_${re}_t);
#else
    ${G} ${K} ${re} = u_${re};
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${G} ${ue} a_${re};
#else
uniform ${G} ${K} u_${re};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${G} ${K} ${re} = a_${re};
#else
    ${G} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${G} ${K} ${re} = unpack_mix_${ce}(a_${re}, u_${re}_t);
#else
    ${G} ${K} ${re} = u_${re};
#endif
`}),staticAttributes:v,staticUniforms:L}}class Nh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,v,b,k,L,z,U,H){this.context=c;let G=this.boundPaintVertexBuffers.length!==b.length;for(let K=0;!G&&K<b.length;K++)this.boundPaintVertexBuffers[K]!==b[K]&&(G=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==v||G||this.boundIndexBuffer!==k||this.boundVertexOffset!==L||this.boundDynamicVertexBuffer!==z||this.boundDynamicVertexBuffer2!==U||this.boundDynamicVertexBuffer3!==H?this.freshBind(p,v,b,k,L,z,U,H):(c.bindVertexArray.set(this.vao),z&&z.bind(),k&&k.dynamicDraw&&k.bind(),U&&U.bind(),H&&H.bind())}freshBind(c,p,v,b,k,L,z,U){const H=c.numAttributes,G=this.context,K=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=b,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=z,this.boundDynamicVertexBuffer3=U,p.enableAttributes(K,c);for(const re of v)re.enableAttributes(K,c);L&&L.enableAttributes(K,c),z&&z.enableAttributes(K,c),U&&U.enableAttributes(K,c),p.bind(),p.setVertexAttribPointers(K,c,k);for(const re of v)re.bind(),re.setVertexAttribPointers(K,c,k);L&&(L.bind(),L.setVertexAttribPointers(K,c,k)),b&&b.bind(),z&&(z.bind(),z.setVertexAttribPointers(K,c,k)),U&&(U.bind(),U.setVertexAttribPointers(K,c,k)),G.currentNumAttributes=H}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Cu(S){const c=[];for(let p=0;p<S.length;p++){if(S[p]===null)continue;const v=S[p].split(" ");c.push(v.pop())}return c}class Tl{constructor(c,p,v,b,k,L){const z=c.gl;this.program=z.createProgram();const U=Cu(p.staticAttributes),H=v?v.getBinderAttributes():[],G=U.concat(H),K=rf.prelude.staticUniforms?Cu(rf.prelude.staticUniforms):[],re=p.staticUniforms?Cu(p.staticUniforms):[],ue=v?v.getBinderUniforms():[],ce=K.concat(re).concat(ue),me=[];for(const Ze of ce)me.indexOf(Ze)<0&&me.push(Ze);const le=v?v.defines():[];k&&le.push("#define OVERDRAW_INSPECTOR;"),L&&le.push("#define TERRAIN3D;");const Ie=le.concat(rf.prelude.fragmentSource,p.fragmentSource).join(`
`),We=le.concat(rf.prelude.vertexSource,p.vertexSource).join(`
`),_e=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);z.shaderSource(_e,Ie),z.compileShader(_e),z.attachShader(this.program,_e);const $e=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);z.shaderSource($e,We),z.compileShader($e),z.attachShader(this.program,$e),this.attributes={};const Ge={};this.numAttributes=G.length;for(let Ze=0;Ze<this.numAttributes;Ze++)G[Ze]&&(z.bindAttribLocation(this.program,Ze,G[Ze]),this.attributes[G[Ze]]=Ze);z.linkProgram(this.program),z.deleteShader($e),z.deleteShader(_e);for(let Ze=0;Ze<me.length;Ze++){const tt=me[Ze];if(tt&&!Ge[tt]){const ft=z.getUniformLocation(this.program,tt);ft&&(Ge[tt]=ft)}}this.fixedUniforms=b(c,Ge),this.terrainUniforms=((Ze,tt)=>({u_depth:new a.Uniform1i(Ze,tt.u_depth),u_terrain:new a.Uniform1i(Ze,tt.u_terrain),u_terrain_dim:new a.Uniform1f(Ze,tt.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Ze,tt.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Ze,tt.u_terrain_unpack),u_terrain_exaggeration:new a.Uniform1f(Ze,tt.u_terrain_exaggeration)}))(c,Ge),this.binderUniforms=v?v.getUniforms(c,Ge):[]}draw(c,p,v,b,k,L,z,U,H,G,K,re,ue,ce,me,le,Ie,We){const _e=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(v),c.setStencilMode(b),c.setColorMode(k),c.setCullFace(L),U){c.activeTexture.set(_e.TEXTURE2),_e.bindTexture(_e.TEXTURE_2D,U.depthTexture),c.activeTexture.set(_e.TEXTURE3),_e.bindTexture(_e.TEXTURE_2D,U.texture);for(const Ge in this.terrainUniforms)this.terrainUniforms[Ge].set(U[Ge])}for(const Ge in this.fixedUniforms)this.fixedUniforms[Ge].set(z[Ge]);me&&me.setUniforms(c,this.binderUniforms,ue,{zoom:ce});let $e=0;switch(p){case _e.LINES:$e=2;break;case _e.TRIANGLES:$e=3;break;case _e.LINE_STRIP:$e=1}for(const Ge of re.get()){const Ze=Ge.vaos||(Ge.vaos={});(Ze[H]||(Ze[H]=new Nh)).bind(c,this,G,me?me.getPaintVertexBuffers():[],K,Ge.vertexOffset,le,Ie,We),_e.drawElements(p,Ge.primitiveLength*$e,_e.UNSIGNED_SHORT,Ge.primitiveOffset*$e*2)}}}function zh(S,c,p){const v=1/ke(p,1,c.transform.tileZoom),b=Math.pow(2,p.tileID.overscaledZ),k=p.tileSize*Math.pow(2,c.transform.tileZoom)/b,L=k*(p.tileID.canonical.x+p.tileID.wrap*b),z=k*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[v,S.fromScale,S.toScale],u_fade:S.t,u_pixel_coord_upper:[L>>16,z>>16],u_pixel_coord_lower:[65535&L,65535&z]}}const nf=(S,c,p,v)=>{const b=c.style.light,k=b.properties.get("position"),L=[k.x,k.y,k.z],z=function(){var H=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[5]=0,H[6]=0,H[7]=0),H[0]=1,H[4]=1,H[8]=1,H}();b.properties.get("anchor")==="viewport"&&function(H,G){var K=Math.sin(G),re=Math.cos(G);H[0]=re,H[1]=K,H[2]=0,H[3]=-K,H[4]=re,H[5]=0,H[6]=0,H[7]=0,H[8]=1}(z,-c.transform.angle),function(H,G,K){var re=G[0],ue=G[1],ce=G[2];H[0]=re*K[0]+ue*K[3]+ce*K[6],H[1]=re*K[1]+ue*K[4]+ce*K[7],H[2]=re*K[2]+ue*K[5]+ce*K[8]}(L,L,z);const U=b.properties.get("color");return{u_matrix:S,u_lightpos:L,u_lightintensity:b.properties.get("intensity"),u_lightcolor:[U.r,U.g,U.b],u_vertical_gradient:+p,u_opacity:v}},bC=(S,c,p,v,b,k,L)=>a.extend(nf(S,c,p,v),zh(k,c,L),{u_height_factor:-Math.pow(2,b.overscaledZ)/L.tileSize/8}),wx=S=>({u_matrix:S}),jh=(S,c,p,v)=>a.extend(wx(S),zh(p,c,v)),wC=(S,c)=>({u_matrix:S,u_world:c}),Sx=(S,c,p,v,b)=>a.extend(jh(S,c,p,v),{u_world:b}),SC=(S,c,p,v)=>{const b=S.transform;let k,L;if(v.paint.get("circle-pitch-alignment")==="map"){const z=ke(p,1,b.zoom);k=!0,L=[z,z]}else k=!1,L=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(v.paint.get("circle-pitch-scale")==="map"),u_matrix:S.translatePosMatrix(c.posMatrix,p,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_pitch_with_map:+k,u_device_pixel_ratio:S.pixelRatio,u_extrude_scale:L}},Ex=(S,c,p)=>{const v=ke(p,1,c.zoom),b=Math.pow(2,c.zoom-p.tileID.overscaledZ),k=p.tileID.overscaleFactor();return{u_matrix:S,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[c.pixelsToGLUnits[0]/(v*b),c.pixelsToGLUnits[1]/(v*b)],u_overscale_factor:k}},Cx=(S,c,p=1)=>({u_matrix:S,u_color:c,u_overlay:0,u_overlay_scale:p}),Bh=S=>({u_matrix:S}),kx=(S,c,p,v)=>({u_matrix:S,u_extrude_scale:ke(c,1,p),u_intensity:v});function Tx(S,c){const p=Math.pow(2,c.canonical.z),v=c.canonical.y;return[new a.MercatorCoordinate(0,v/p).toLngLat().lat,new a.MercatorCoordinate(0,(v+1)/p).toLngLat().lat]}const Fh=(S,c,p,v)=>{const b=S.transform;return{u_matrix:of(S,c,p,v),u_ratio:1/ke(c,1,b.zoom),u_device_pixel_ratio:S.pixelRatio,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Px=(S,c,p,v,b)=>a.extend(Fh(S,c,p,b),{u_image:0,u_image_height:v}),yc=(S,c,p,v,b)=>{const k=S.transform,L=Go(c,k);return{u_matrix:of(S,c,p,b),u_texsize:c.imageAtlasTexture.size,u_ratio:1/ke(c,1,k.zoom),u_device_pixel_ratio:S.pixelRatio,u_image:0,u_scale:[L,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},Uh=(S,c,p,v,b,k)=>{const L=S.lineAtlas,z=Go(c,S.transform),U=p.layout.get("line-cap")==="round",H=L.getDash(v.from,U),G=L.getDash(v.to,U),K=H.width*b.fromScale,re=G.width*b.toScale;return a.extend(Fh(S,c,p,k),{u_patternscale_a:[z/K,-H.height/2],u_patternscale_b:[z/re,-G.height/2],u_sdfgamma:L.width/(256*Math.min(K,re)*S.pixelRatio)/2,u_image:0,u_tex_y_a:H.y,u_tex_y_b:G.y,u_mix:b.t})};function Go(S,c){return 1/ke(S,1,c.tileZoom)}function of(S,c,p,v){return S.translatePosMatrix(v?v.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Vh=(S,c,p,v,b)=>{return{u_matrix:S,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*b.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:b.paint.get("raster-brightness-min"),u_brightness_high:b.paint.get("raster-brightness-max"),u_saturation_factor:(L=b.paint.get("raster-saturation"),L>0?1-1/(1.001-L):-L),u_contrast_factor:(k=b.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:af(b.paint.get("raster-hue-rotate"))};var k,L};function af(S){S*=Math.PI/180;const c=Math.sin(S),p=Math.cos(S);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const sf=(S,c,p,v,b,k,L,z,U,H)=>{const G=b.transform;return{u_is_size_zoom_constant:+(S==="constant"||S==="source"),u_is_size_feature_constant:+(S==="constant"||S==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:G.cameraToCenterDistance,u_pitch:G.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:G.width/G.height,u_fade_change:b.options.fadeDuration?b.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:L,u_coord_matrix:z,u_is_text:+U,u_pitch_with_map:+v,u_texsize:H,u_texture:0}},lf=(S,c,p,v,b,k,L,z,U,H,G)=>{const K=b.transform;return a.extend(sf(S,c,p,v,b,k,L,z,U,H),{u_gamma_scale:v?Math.cos(K._pitch)*K.cameraToCenterDistance:1,u_device_pixel_ratio:b.pixelRatio,u_is_halo:+G})},cf=(S,c,p,v,b,k,L,z,U,H)=>a.extend(lf(S,c,p,v,b,k,L,z,!0,U,!0),{u_texsize_icon:H,u_texture_icon:1}),vc=(S,c,p)=>({u_matrix:S,u_opacity:c,u_color:p}),Wh=(S,c,p,v,b,k)=>a.extend(function(L,z,U,H){const G=U.imageManager.getPattern(L.from.toString()),K=U.imageManager.getPattern(L.to.toString()),{width:re,height:ue}=U.imageManager.getPixelSize(),ce=Math.pow(2,H.tileID.overscaledZ),me=H.tileSize*Math.pow(2,U.transform.tileZoom)/ce,le=me*(H.tileID.canonical.x+H.tileID.wrap*ce),Ie=me*H.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[re,ue],u_mix:z.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/ke(H,1,U.transform.tileZoom),u_pixel_coord_upper:[le>>16,Ie>>16],u_pixel_coord_lower:[65535&le,65535&Ie]}}(v,k,p,b),{u_matrix:S,u_opacity:c}),Yo={fillExtrusion:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_lightpos:new a.Uniform3f(S,c.u_lightpos),u_lightintensity:new a.Uniform1f(S,c.u_lightintensity),u_lightcolor:new a.Uniform3f(S,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(S,c.u_vertical_gradient),u_opacity:new a.Uniform1f(S,c.u_opacity)}),fillExtrusionPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_lightpos:new a.Uniform3f(S,c.u_lightpos),u_lightintensity:new a.Uniform1f(S,c.u_lightintensity),u_lightcolor:new a.Uniform3f(S,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(S,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(S,c.u_height_factor),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade),u_opacity:new a.Uniform1f(S,c.u_opacity)}),fill:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),fillPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),fillOutline:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world)}),fillOutlinePattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),circle:(S,c)=>({u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(S,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(S,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),collisionBox:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(S,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(S,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(S,c.u_overscale_factor)}),collisionCircle:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_inv_matrix:new a.UniformMatrix4f(S,c.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(S,c.u_viewport_size)}),debug:(S,c)=>({u_color:new a.UniformColor(S,c.u_color),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_overlay:new a.Uniform1i(S,c.u_overlay),u_overlay_scale:new a.Uniform1f(S,c.u_overlay_scale)}),clippingMask:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),heatmap:(S,c)=>({u_extrude_scale:new a.Uniform1f(S,c.u_extrude_scale),u_intensity:new a.Uniform1f(S,c.u_intensity),u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),heatmapTexture:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world),u_image:new a.Uniform1i(S,c.u_image),u_color_ramp:new a.Uniform1i(S,c.u_color_ramp),u_opacity:new a.Uniform1f(S,c.u_opacity)}),hillshade:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_latrange:new a.Uniform2f(S,c.u_latrange),u_light:new a.Uniform2f(S,c.u_light),u_shadow:new a.UniformColor(S,c.u_shadow),u_highlight:new a.UniformColor(S,c.u_highlight),u_accent:new a.UniformColor(S,c.u_accent)}),hillshadePrepare:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_dimension:new a.Uniform2f(S,c.u_dimension),u_zoom:new a.Uniform1f(S,c.u_zoom),u_unpack:new a.Uniform4f(S,c.u_unpack)}),line:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels)}),lineGradient:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_image:new a.Uniform1i(S,c.u_image),u_image_height:new a.Uniform1f(S,c.u_image_height)}),linePattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texsize:new a.Uniform2f(S,c.u_texsize),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_image:new a.Uniform1i(S,c.u_image),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),lineSDF:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(S,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(S,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(S,c.u_sdfgamma),u_image:new a.Uniform1i(S,c.u_image),u_tex_y_a:new a.Uniform1f(S,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(S,c.u_tex_y_b),u_mix:new a.Uniform1f(S,c.u_mix)}),raster:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_tl_parent:new a.Uniform2f(S,c.u_tl_parent),u_scale_parent:new a.Uniform1f(S,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(S,c.u_buffer_scale),u_fade_t:new a.Uniform1f(S,c.u_fade_t),u_opacity:new a.Uniform1f(S,c.u_opacity),u_image0:new a.Uniform1i(S,c.u_image0),u_image1:new a.Uniform1i(S,c.u_image1),u_brightness_low:new a.Uniform1f(S,c.u_brightness_low),u_brightness_high:new a.Uniform1f(S,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(S,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(S,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(S,c.u_spin_weights)}),symbolIcon:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texture:new a.Uniform1i(S,c.u_texture)}),symbolSDF:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texture:new a.Uniform1i(S,c.u_texture),u_gamma_scale:new a.Uniform1f(S,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(S,c.u_is_halo)}),symbolTextAndIcon:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texsize_icon:new a.Uniform2f(S,c.u_texsize_icon),u_texture:new a.Uniform1i(S,c.u_texture),u_texture_icon:new a.Uniform1i(S,c.u_texture_icon),u_gamma_scale:new a.Uniform1f(S,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(S,c.u_is_halo)}),background:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_opacity:new a.Uniform1f(S,c.u_opacity),u_color:new a.UniformColor(S,c.u_color)}),backgroundPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_opacity:new a.Uniform1f(S,c.u_opacity),u_image:new a.Uniform1i(S,c.u_image),u_pattern_tl_a:new a.Uniform2f(S,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(S,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(S,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(S,c.u_pattern_br_b),u_texsize:new a.Uniform2f(S,c.u_texsize),u_mix:new a.Uniform1f(S,c.u_mix),u_pattern_size_a:new a.Uniform2f(S,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(S,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(S,c.u_scale_a),u_scale_b:new a.Uniform1f(S,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(S,c.u_tile_units_to_pixels)}),terrain:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texture:new a.Uniform1i(S,c.u_texture),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)}),terrainDepth:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)}),terrainCoords:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texture:new a.Uniform1i(S,c.u_texture),u_terrain_coords_id:new a.Uniform1f(S,c.u_terrain_coords_id),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)})};class Ko{constructor(c,p,v){this.context=c;const b=c.gl;this.buffer=b.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const sy={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class qh{constructor(c,p,v,b){this.length=p.length,this.attributes=v,this.itemSize=p.bytesPerElement,this.dynamicDraw=b,this.context=c;const k=c.gl;this.buffer=k.createBuffer(),c.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let v=0;v<this.attributes.length;v++){const b=p.attributes[this.attributes[v].name];b!==void 0&&c.enableVertexAttribArray(b)}}setVertexAttribPointers(c,p,v){for(let b=0;b<this.attributes.length;b++){const k=this.attributes[b],L=p.attributes[k.name];L!==void 0&&c.vertexAttribPointer(L,k.components,c[sy[k.type]],!1,this.itemSize,k.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ku=new WeakMap;function Tu(S){if(ku.has(S))return ku.get(S);{const c=S.getParameter(S.VERSION).startsWith("WebGL 2.0");return ku.set(S,c),c}}class Lr{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Hh extends Lr{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class ly extends Lr{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class cy extends Lr{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Gh extends Lr{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Ax extends Lr{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Mx extends Lr{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Pu extends Lr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class EC extends Lr{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class CC extends Lr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class kC extends Lr{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class TC extends Lr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class PC extends Lr{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class AC extends Lr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class uy extends Lr{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Yh extends Lr{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class dy extends Lr{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class fy extends Lr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class Au extends Lr{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class Ox extends Lr{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class Ix extends Lr{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class hy extends Lr{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class _c extends Lr{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Rx extends Lr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Mu extends Lr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Ou extends Lr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class $x extends Lr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class py extends Lr{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class jr extends Lr{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const v=this.gl;Tu(v)?v.bindVertexArray(c):(p=v.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class Kh extends Lr{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class MC extends Lr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Dx extends Lr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class xc extends Lr{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class OC extends xc{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class IC extends xc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Lx extends xc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class RC{constructor(c,p,v,b,k){this.context=c,this.width=p,this.height=v;const L=c.gl,z=this.framebuffer=L.createFramebuffer();if(this.colorAttachment=new OC(c,z),b)this.depthAttachment=k?new Lx(c,z):new IC(c,z);else if(k)throw new Error("Stencil cannot be setted without depth");if(L.checkFramebufferStatus(L.FRAMEBUFFER)!==L.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const v=this.depthAttachment.get();v&&c.deleteRenderbuffer(v)}c.deleteFramebuffer(this.framebuffer)}}class In{constructor(c,p,v){this.blendFunction=c,this.blendColor=p,this.mask=v}}In.Replace=[1,0],In.disabled=new In(In.Replace,a.Color.transparent,[!1,!1,!1,!1]),In.unblended=new In(In.Replace,a.Color.transparent,[!0,!0,!0,!0]),In.alphaBlended=new In([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Zh{constructor(c){var p,v;if(this.gl=c,this.clearColor=new Hh(this),this.clearDepth=new ly(this),this.clearStencil=new cy(this),this.colorMask=new Gh(this),this.depthMask=new Ax(this),this.stencilMask=new Mx(this),this.stencilFunc=new Pu(this),this.stencilOp=new EC(this),this.stencilTest=new CC(this),this.depthRange=new kC(this),this.depthTest=new TC(this),this.depthFunc=new PC(this),this.blend=new AC(this),this.blendFunc=new uy(this),this.blendColor=new Yh(this),this.blendEquation=new dy(this),this.cullFace=new fy(this),this.cullFaceSide=new Au(this),this.frontFace=new Ox(this),this.program=new Ix(this),this.activeTexture=new hy(this),this.viewport=new _c(this),this.bindFramebuffer=new Rx(this),this.bindRenderbuffer=new Mu(this),this.bindTexture=new Ou(this),this.bindVertexBuffer=new $x(this),this.bindElementBuffer=new py(this),this.bindVertexArray=new jr(this),this.pixelStoreUnpack=new Kh(this),this.pixelStoreUnpackPremultiplyAlpha=new MC(this),this.pixelStoreUnpackFlipY=new Dx(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),Tu(c)){this.HALF_FLOAT=c.HALF_FLOAT;const b=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:b==null?void 0:b.RGBA16F_EXT,this.RGB16F=(v=c.RGB16F)!==null&&v!==void 0?v:b==null?void 0:b.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const b=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=b==null?void 0:b.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Ko(this,c,p)}createVertexBuffer(c,p,v){return new qh(this,c,p,v)}createRenderbuffer(c,p,v){const b=this.gl,k=b.createRenderbuffer();return this.bindRenderbuffer.set(k),b.renderbufferStorage(b.RENDERBUFFER,c,p,v),this.bindRenderbuffer.set(null),k}createFramebuffer(c,p,v,b){return new RC(this,c,p,v,b)}clear({color:c,depth:p,stencil:v}){const b=this.gl;let k=0;c&&(k|=b.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(k|=b.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),v!==void 0&&(k|=b.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),b.clear(k)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.deepEqual(c.blendFunction,In.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return Tu(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return Tu(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class _r{constructor(c,p,v){this.func=c,this.mask=p,this.range=v}}_r.ReadOnly=!1,_r.ReadWrite=!0,_r.disabled=new _r(519,_r.ReadOnly,[0,1]);const uf=7680;class mn{constructor(c,p,v,b,k,L){this.test=c,this.ref=p,this.mask=v,this.fail=b,this.depthFail=k,this.pass=L}}mn.disabled=new mn({func:519,mask:0},0,0,uf,uf,uf);class gn{constructor(c,p,v){this.enable=c,this.mode=p,this.frontFace=v}}let bc;function df(S,c,p,v,b,k,L){const z=S.context,U=z.gl,H=S.useProgram("collisionBox"),G=[];let K=0,re=0;for(let _e=0;_e<v.length;_e++){const $e=v[_e],Ge=c.getTile($e),Ze=Ge.getBucket(p);if(!Ze)continue;let tt=$e.posMatrix;b[0]===0&&b[1]===0||(tt=S.translatePosMatrix($e.posMatrix,Ge,b,k));const ft=L?Ze.textCollisionBox:Ze.iconCollisionBox,at=Ze.collisionCircleArray;if(at.length>0){const pt=a.create(),Bt=tt;a.mul(pt,Ze.placementInvProjMatrix,S.transform.glCoordMatrix),a.mul(pt,pt,Ze.placementViewportMatrix),G.push({circleArray:at,circleOffset:re,transform:Bt,invTransform:pt,coord:$e}),K+=at.length/4,re=K}ft&&H.draw(z,U.LINES,_r.disabled,mn.disabled,S.colorModeForRenderPass(),gn.disabled,Ex(tt,S.transform,Ge),S.style.map.terrain&&S.style.map.terrain.getTerrainData($e),p.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,null,S.transform.zoom,null,null,ft.collisionVertexBuffer)}if(!L||!G.length)return;const ue=S.useProgram("collisionCircle"),ce=new a.CollisionCircleLayoutArray;ce.resize(4*K),ce._trim();let me=0;for(const _e of G)for(let $e=0;$e<_e.circleArray.length/4;$e++){const Ge=4*$e,Ze=_e.circleArray[Ge+0],tt=_e.circleArray[Ge+1],ft=_e.circleArray[Ge+2],at=_e.circleArray[Ge+3];ce.emplace(me++,Ze,tt,ft,at,0),ce.emplace(me++,Ze,tt,ft,at,1),ce.emplace(me++,Ze,tt,ft,at,2),ce.emplace(me++,Ze,tt,ft,at,3)}(!bc||bc.length<2*K)&&(bc=function(_e){const $e=2*_e,Ge=new a.QuadTriangleArray;Ge.resize($e),Ge._trim();for(let Ze=0;Ze<$e;Ze++){const tt=6*Ze;Ge.uint16[tt+0]=4*Ze+0,Ge.uint16[tt+1]=4*Ze+1,Ge.uint16[tt+2]=4*Ze+2,Ge.uint16[tt+3]=4*Ze+2,Ge.uint16[tt+4]=4*Ze+3,Ge.uint16[tt+5]=4*Ze+0}return Ge}(K));const le=z.createIndexBuffer(bc,!0),Ie=z.createVertexBuffer(ce,a.collisionCircleLayout.members,!0);for(const _e of G){const $e={u_matrix:_e.transform,u_inv_matrix:_e.invTransform,u_camera_to_center_distance:(We=S.transform).cameraToCenterDistance,u_viewport_size:[We.width,We.height]};ue.draw(z,U.TRIANGLES,_r.disabled,mn.disabled,S.colorModeForRenderPass(),gn.disabled,$e,S.style.map.terrain&&S.style.map.terrain.getTerrainData(_e.coord),p.id,Ie,le,a.SegmentVector.simpleSegment(0,2*_e.circleOffset,_e.circleArray.length,_e.circleArray.length/2),null,S.transform.zoom,null,null,null)}var We;Ie.destroy(),le.destroy()}gn.disabled=new gn(!1,1029,2305),gn.backCCW=new gn(!0,1029,2305);const my=a.identity(new Float32Array(16));function $C(S,c,p,v,b,k){const{horizontalAlign:L,verticalAlign:z}=a.getAnchorAlignment(S);return new a.Point((-(L-.5)*c/b+v[0])*k,(-(z-.5)*p/b+v[1])*k)}function gy(S,c,p,v,b,k,L,z,U,H,G){const K=S.text.placedSymbolArray,re=S.text.dynamicLayoutVertexArray,ue=S.icon.dynamicLayoutVertexArray,ce={};re.clear();for(let me=0;me<K.length;me++){const le=K.get(me),Ie=le.hidden||!le.crossTileID||S.allowVerticalPlacement&&!le.placedOrientation?null:v[le.crossTileID];if(Ie){const We=new a.Point(le.anchorX,le.anchorY),_e=Xt(We,p?L:k,G),$e=vo(b.cameraToCenterDistance,_e.signedDistanceFromCamera);let Ge=a.evaluateSizeForFeature(S.textSizeData,U,le)*$e/a.ONE_EM;p&&(Ge*=S.tilePixelRatio/z);const{width:Ze,height:tt,anchor:ft,textOffset:at,textBoxScale:pt}=Ie,Bt=$C(ft,Ze,tt,at,pt,Ge),xr=p?Xt(We.add(Bt),k,G).point:_e.point.add(c?Bt.rotate(-b.angle):Bt),wt=S.allowVerticalPlacement&&le.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let er=0;er<le.numGlyphs;er++)a.addDynamicAttributes(re,xr,wt);H&&le.associatedIconIndex>=0&&(ce[le.associatedIconIndex]={shiftedAnchor:xr,angle:wt})}else se(le.numGlyphs,re)}if(H){ue.clear();const me=S.icon.placedSymbolArray;for(let le=0;le<me.length;le++){const Ie=me.get(le);if(Ie.hidden)se(Ie.numGlyphs,ue);else{const We=ce[le];if(We)for(let _e=0;_e<Ie.numGlyphs;_e++)a.addDynamicAttributes(ue,We.shiftedAnchor,We.angle);else se(Ie.numGlyphs,ue)}}S.icon.dynamicLayoutVertexBuffer.updateData(ue)}S.text.dynamicLayoutVertexBuffer.updateData(re)}function DC(S,c,p){return p.iconsInText&&c?"symbolTextAndIcon":S?"symbolSDF":"symbolIcon"}function yy(S,c,p,v,b,k,L,z,U,H,G,K){const re=S.context,ue=re.gl,ce=S.transform,me=z==="map",le=U==="map",Ie=z!=="viewport"&&p.layout.get("symbol-placement")!=="point",We=me&&!le&&!Ie,_e=!p.layout.get("symbol-sort-key").isConstant();let $e=!1;const Ge=S.depthModeForSublayer(0,_r.ReadOnly),Ze=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),tt=[];for(const ft of v){const at=c.getTile(ft),pt=at.getBucket(p);if(!pt)continue;const Bt=b?pt.text:pt.icon;if(!Bt||!Bt.segments.get().length||!Bt.hasVisibleVertices)continue;const xr=Bt.programConfigurations.get(p.id),wt=b||pt.sdfIcons,er=b?pt.textSizeData:pt.iconSizeData,Dt=le||ce.pitch!==0,dn=S.useProgram(DC(wt,b,pt),xr),vr=a.evaluateSizeForZoom(er,ce.zoom),fr=S.style.map.terrain&&S.style.map.terrain.getTerrainData(ft);let rr,Un,Kr,io,Ci=[0,0],ni=null;if(b)Un=at.glyphAtlasTexture,Kr=ue.LINEAR,rr=at.glyphAtlasTexture.size,pt.iconsInText&&(Ci=at.imageAtlasTexture.size,ni=at.imageAtlasTexture,io=Dt||S.options.rotating||S.options.zooming||er.kind==="composite"||er.kind==="camera"?ue.LINEAR:ue.NEAREST);else{const ui=p.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;Un=at.imageAtlasTexture,Kr=wt||S.options.rotating||S.options.zooming||ui||Dt?ue.LINEAR:ue.NEAREST,rr=at.imageAtlasTexture.size}const bo=ke(at,1,S.transform.zoom),Oa=tn(ft.posMatrix,le,me,S.transform,bo),Ws=no(ft.posMatrix,le,me,S.transform,bo),qs=Ze&&pt.hasTextData(),Ol=p.layout.get("icon-text-fit")!=="none"&&qs&&pt.hasIconData();if(Ie){const ui=S.style.map.terrain?(wo,$n)=>S.style.map.terrain.getElevation(ft,wo,$n):null,Pi=p.layout.get("text-rotation-alignment")==="map";Aa(pt,ft.posMatrix,S,b,Oa,Ws,le,H,Pi,ui)}const Ac=S.translatePosMatrix(ft.posMatrix,at,k,L),Il=Ie||b&&Ze||Ol?my:Oa,ki=S.translatePosMatrix(Ws,at,k,L,!0),Vn=wt&&p.paint.get(b?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ti;Ti=wt?pt.iconsInText?cf(er.kind,vr,We,le,S,Ac,Il,ki,rr,Ci):lf(er.kind,vr,We,le,S,Ac,Il,ki,b,rr,!0):sf(er.kind,vr,We,le,S,Ac,Il,ki,b,rr);const Nu={program:dn,buffers:Bt,uniformValues:Ti,atlasTexture:Un,atlasTextureIcon:ni,atlasInterpolation:Kr,atlasInterpolationIcon:io,isSDF:wt,hasHalo:Vn};if(_e&&pt.canOverlap){$e=!0;const ui=Bt.segments.get();for(const Pi of ui)tt.push({segments:new a.SegmentVector([Pi]),sortKey:Pi.sortKey,state:Nu,terrainData:fr})}else tt.push({segments:Bt.segments,sortKey:0,state:Nu,terrainData:fr})}$e&&tt.sort((ft,at)=>ft.sortKey-at.sortKey);for(const ft of tt){const at=ft.state;if(re.activeTexture.set(ue.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,ue.CLAMP_TO_EDGE),at.atlasTextureIcon&&(re.activeTexture.set(ue.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,ue.CLAMP_TO_EDGE)),at.isSDF){const pt=at.uniformValues;at.hasHalo&&(pt.u_is_halo=1,ff(at.buffers,ft.segments,p,S,at.program,Ge,G,K,pt,ft.terrainData)),pt.u_is_halo=0}ff(at.buffers,ft.segments,p,S,at.program,Ge,G,K,at.uniformValues,ft.terrainData)}}function ff(S,c,p,v,b,k,L,z,U,H){const G=v.context;b.draw(G,G.gl.TRIANGLES,k,L,z,gn.disabled,U,H,p.id,S.layoutVertexBuffer,S.indexBuffer,c,p.paint,v.transform.zoom,S.programConfigurations.get(p.id),S.dynamicLayoutVertexBuffer,S.opacityVertexBuffer)}function Xh(S,c,p,v,b){if(!p||!v||!v.imageAtlas)return;const k=v.imageAtlas.patternPositions;let L=k[p.to.toString()],z=k[p.from.toString()];if(!L||!z){const U=b.getPaintProperty(c);L=k[U],z=k[U]}L&&z&&S.setConstantPatternPositions(L,z)}function vy(S,c,p,v,b,k,L){const z=S.context.gl,U="fill-pattern",H=p.paint.get(U),G=H&&H.constantOr(1),K=p.getCrossfadeParameters();let re,ue,ce,me,le;L?(ue=G&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",re=z.LINES):(ue=G?"fillPattern":"fill",re=z.TRIANGLES);const Ie=H.constantOr(null);for(const We of v){const _e=c.getTile(We);if(G&&!_e.patternsLoaded())continue;const $e=_e.getBucket(p);if(!$e)continue;const Ge=$e.programConfigurations.get(p.id),Ze=S.useProgram(ue,Ge),tt=S.style.map.terrain&&S.style.map.terrain.getTerrainData(We);G&&(S.context.activeTexture.set(z.TEXTURE0),_e.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Ge.updatePaintBuffers(K)),Xh(Ge,U,Ie,_e,p);const ft=tt?We:null,at=S.translatePosMatrix(ft?ft.posMatrix:We.posMatrix,_e,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(L){me=$e.indexBuffer2,le=$e.segments2;const pt=[z.drawingBufferWidth,z.drawingBufferHeight];ce=ue==="fillOutlinePattern"&&G?Sx(at,S,K,_e,pt):wC(at,pt)}else me=$e.indexBuffer,le=$e.segments,ce=G?jh(at,S,K,_e):wx(at);Ze.draw(S.context,re,b,S.stencilModeForClipping(We),k,gn.disabled,ce,tt,p.id,$e.layoutVertexBuffer,me,le,p.paint,S.transform.zoom,Ge)}}function Jh(S,c,p,v,b,k,L){const z=S.context,U=z.gl,H="fill-extrusion-pattern",G=p.paint.get(H),K=G.constantOr(1),re=p.getCrossfadeParameters(),ue=p.paint.get("fill-extrusion-opacity"),ce=G.constantOr(null);for(const me of v){const le=c.getTile(me),Ie=le.getBucket(p);if(!Ie)continue;const We=S.style.map.terrain&&S.style.map.terrain.getTerrainData(me),_e=Ie.programConfigurations.get(p.id),$e=S.useProgram(K?"fillExtrusionPattern":"fillExtrusion",_e);K&&(S.context.activeTexture.set(U.TEXTURE0),le.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),_e.updatePaintBuffers(re)),Xh(_e,H,ce,le,p);const Ge=S.translatePosMatrix(me.posMatrix,le,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ze=p.paint.get("fill-extrusion-vertical-gradient"),tt=K?bC(Ge,S,Ze,ue,me,re,le):nf(Ge,S,Ze,ue);$e.draw(z,z.gl.TRIANGLES,b,k,L,gn.backCCW,tt,We,p.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,p.paint,S.transform.zoom,_e,S.style.map.terrain&&Ie.centroidVertexBuffer)}}function Qh(S,c,p,v,b,k,L){const z=S.context,U=z.gl,H=p.fbo;if(!H)return;const G=S.useProgram("hillshade"),K=S.style.map.terrain&&S.style.map.terrain.getTerrainData(c);z.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,H.colorAttachment.get()),G.draw(z,U.TRIANGLES,b,k,L,gn.disabled,((re,ue,ce,me)=>{const le=ce.paint.get("hillshade-shadow-color"),Ie=ce.paint.get("hillshade-highlight-color"),We=ce.paint.get("hillshade-accent-color");let _e=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(_e-=re.transform.angle);const $e=!re.options.moving;return{u_matrix:me?me.posMatrix:re.transform.calculatePosMatrix(ue.tileID.toUnwrapped(),$e),u_image:0,u_latrange:Tx(0,ue.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),_e],u_shadow:le,u_highlight:Ie,u_accent:We}})(S,p,v,K?c:null),K,v.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments)}function _y(S,c,p,v,b,k){const L=S.context,z=L.gl,U=c.dem;if(U&&U.data){const H=U.dim,G=U.stride,K=U.getPixels();if(L.activeTexture.set(z.TEXTURE1),L.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||S.getTileTexture(G),c.demTexture){const ue=c.demTexture;ue.update(K,{premultiply:!1}),ue.bind(z.NEAREST,z.CLAMP_TO_EDGE)}else c.demTexture=new Q(L,K,z.RGBA,{premultiply:!1}),c.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE);L.activeTexture.set(z.TEXTURE0);let re=c.fbo;if(!re){const ue=new Q(L,{width:H,height:H,data:null},z.RGBA);ue.bind(z.LINEAR,z.CLAMP_TO_EDGE),re=c.fbo=L.createFramebuffer(H,H,!0,!1),re.colorAttachment.set(ue.texture)}L.bindFramebuffer.set(re.framebuffer),L.viewport.set([0,0,H,H]),S.useProgram("hillshadePrepare").draw(L,z.TRIANGLES,v,b,k,gn.disabled,((ue,ce)=>{const me=ce.stride,le=a.create();return a.ortho(le,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(le,le,[0,-a.EXTENT,0]),{u_matrix:le,u_image:1,u_dimension:[me,me],u_zoom:ue.overscaledZ,u_unpack:ce.getUnpackVector()}})(c.tileID,U),null,p.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function LC(S,c,p,v,b,k){const L=v.paint.get("raster-fade-duration");if(!k&&L>0){const z=a.browser.now(),U=(z-S.timeAdded)/L,H=c?(z-c.timeAdded)/L:-1,G=p.getSource(),K=b.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),re=!c||Math.abs(c.tileID.overscaledZ-K)>Math.abs(S.tileID.overscaledZ-K),ue=re&&S.refreshedUponExpiration?1:a.clamp(re?U:1-H,0,1);return S.refreshedUponExpiration&&U>=1&&(S.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ue}:{opacity:ue,mix:0}}return{opacity:1,mix:0}}const Nx=new a.Color(1,0,0,1),ei=new a.Color(0,1,0,1),wc=new a.Color(0,0,1,1),da=new a.Color(1,0,1,1),xy=new a.Color(0,1,1,1);function ep(S,c,p,v){Bs(S,0,c+p/2,S.transform.width,p,v)}function by(S,c,p,v){Bs(S,c-p/2,0,p,S.transform.height,v)}function Bs(S,c,p,v,b,k){const L=S.context,z=L.gl;z.enable(z.SCISSOR_TEST),z.scissor(c*S.pixelRatio,p*S.pixelRatio,v*S.pixelRatio,b*S.pixelRatio),L.clear({color:k}),z.disable(z.SCISSOR_TEST)}function hf(S,c,p){const v=S.context,b=v.gl,k=p.posMatrix,L=S.useProgram("debug"),z=_r.disabled,U=mn.disabled,H=S.colorModeForRenderPass(),G="$debug",K=S.style.map.terrain&&S.style.map.terrain.getTerrainData(p);v.activeTexture.set(b.TEXTURE0);const re=c.getTileByID(p.key).latestRawTileData,ue=Math.floor((re&&re.byteLength||0)/1024),ce=c.getTile(p).tileSize,me=512/Math.min(ce,512)*(p.overscaledZ/S.transform.zoom)*.5;let le=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(le+=` => ${p.overscaledZ}`),function(Ie,We){Ie.initDebugOverlayCanvas();const _e=Ie.debugOverlayCanvas,$e=Ie.context.gl,Ge=Ie.debugOverlayCanvas.getContext("2d");Ge.clearRect(0,0,_e.width,_e.height),Ge.shadowColor="white",Ge.shadowBlur=2,Ge.lineWidth=1.5,Ge.strokeStyle="white",Ge.textBaseline="top",Ge.font="bold 36px Open Sans, sans-serif",Ge.fillText(We,5,5),Ge.strokeText(We,5,5),Ie.debugOverlayTexture.update(_e),Ie.debugOverlayTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE)}(S,`${le} ${ue}kB`),L.draw(v,b.TRIANGLES,z,U,In.alphaBlended,gn.disabled,Cx(k,a.Color.transparent,me),null,G,S.debugBuffer,S.quadTriangleIndexBuffer,S.debugSegments),L.draw(v,b.LINE_STRIP,z,U,H,gn.disabled,Cx(k,a.Color.red),K,G,S.debugBuffer,S.tileBorderIndexBuffer,S.debugSegments)}function tp(S,c,p){const v=S.context,b=v.gl,k=S.colorModeForRenderPass(),L=new _r(b.LEQUAL,_r.ReadWrite,S.depthRangeFor3D),z=S.useProgram("terrain"),U=c.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,S.width,S.height]);for(const H of p){const G=S.renderToTexture.getTexture(H),K=c.getTerrainData(H.tileID);v.activeTexture.set(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,G.texture);const re={u_matrix:S.transform.calculatePosMatrix(H.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(S.transform.zoom)};z.draw(v,b.TRIANGLES,L,mn.disabled,k,gn.backCCW,re,K,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}}class zx{constructor(c,p){this.context=new Zh(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=cr.maxUnderzooming+cr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Jn}resize(c,p,v){if(this.width=Math.floor(c*v),this.height=Math.floor(p*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const b of this.style._order)this.style._layers[b].resize()}setup(){const c=this.context,p=new a.PosArray;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,Lh.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const v=new a.PosArray;v.emplaceBack(0,0),v.emplaceBack(a.EXTENT,0),v.emplaceBack(0,a.EXTENT),v.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(v,Lh.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const b=new a.RasterBoundsArray;b.emplaceBack(0,0,0,0),b.emplaceBack(a.EXTENT,0,a.EXTENT,0),b.emplaceBack(0,a.EXTENT,0,a.EXTENT),b.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(b,Xe.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const k=new a.PosArray;k.emplaceBack(0,0),k.emplaceBack(1,0),k.emplaceBack(0,1),k.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(k,Lh.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const L=new a.LineStripIndexArray;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(L);const z=new a.TriangleIndexArray;z.emplaceBack(0,1,2),z.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(z);const U=this.context.gl;this.stencilClearMode=new mn({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.create();a.ortho(v,0,this.width,this.height,0,0,1),a.scale(v,v,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,_r.disabled,this.stencilClearMode,In.disabled,gn.disabled,Bh(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const v=this.context,b=v.gl;this.nextStencilID+p.length>256&&this.clearStencil(),v.setColorMode(In.disabled),v.setDepthMode(_r.disabled);const k=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const L of p){const z=this._tileClippingMaskIDs[L.key]=this.nextStencilID++,U=this.style.map.terrain&&this.style.map.terrain.getTerrainData(L);k.draw(v,b.TRIANGLES,_r.disabled,new mn({func:b.ALWAYS,mask:0},z,255,b.KEEP,b.KEEP,b.REPLACE),In.disabled,gn.disabled,Bh(L.posMatrix),U,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new mn({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new mn({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,v=c.sort((L,z)=>z.overscaledZ-L.overscaledZ),b=v[v.length-1].overscaledZ,k=v[0].overscaledZ-b+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const L={};for(let z=0;z<k;z++)L[z+b]=new mn({func:p.GEQUAL,mask:255},z+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=k,[L,v]}return[{[b]:mn.disabled},v]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new In([c.CONSTANT_COLOR,c.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?In.unblended:In.alphaBlended}depthModeForSublayer(c,p,v){if(!this.opaquePassEnabledForLayer())return _r.disabled;const b=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new _r(v||this.context.gl.LEQUAL,p,[b,b])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();const v=this.style._order,b=this.style.sourceCaches,k={},L={},z={};for(const U in b){const H=b[U];H.used&&H.prepare(this.context),k[U]=H.getVisibleCoordinates(),L[U]=k[U].slice().reverse(),z[U]=H.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let U=0;U<v.length;U++)if(this.style._layers[v[U]].is3D()){this.opaquePassCutoff=U;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const U=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||U.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(H,G){const K=H.context,re=K.gl,ue=In.unblended,ce=new _r(re.LEQUAL,_r.ReadWrite,[0,1]),me=G.getTerrainMesh(),le=G.sourceCache.getRenderableTiles(),Ie=H.useProgram("terrainDepth");K.bindFramebuffer.set(G.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,H.width/devicePixelRatio,H.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1});for(const We of le){const _e=G.getTerrainData(We.tileID),$e={u_matrix:H.transform.calculatePosMatrix(We.tileID.toUnwrapped()),u_ele_delta:G.getMeshFrameDelta(H.transform.zoom)};Ie.draw(K,re.TRIANGLES,ce,mn.disabled,ue,gn.backCCW,$e,_e,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,H.width,H.height])}(this,this.style.map.terrain),function(H,G){const K=H.context,re=K.gl,ue=In.unblended,ce=new _r(re.LEQUAL,_r.ReadWrite,[0,1]),me=G.getTerrainMesh(),le=G.getCoordsTexture(),Ie=G.sourceCache.getRenderableTiles(),We=H.useProgram("terrainCoords");K.bindFramebuffer.set(G.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,H.width/devicePixelRatio,H.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1}),G.coordsIndex=[];for(const _e of Ie){const $e=G.getTerrainData(_e.tileID);K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,le.texture);const Ge={u_matrix:H.transform.calculatePosMatrix(_e.tileID.toUnwrapped()),u_terrain_coords_id:(255-G.coordsIndex.length)/255,u_texture:0,u_ele_delta:G.getMeshFrameDelta(H.transform.zoom)};We.draw(K,re.TRIANGLES,ce,mn.disabled,ue,gn.backCCW,Ge,$e,"terrain",me.vertexBuffer,me.indexBuffer,me.segments),G.coordsIndex.push(_e.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,H.width,H.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const U of v){const H=this.style._layers[U];if(!H.hasOffscreenPass()||H.isHidden(this.transform.zoom))continue;const G=L[H.source];(H.type==="custom"||G.length)&&this.renderLayer(this,b[H.source],H,G)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const U=this.style._layers[v[this.currentLayer]],H=b[U.source],G=k[U.source];this._renderTileClippingMasks(U,G),this.renderLayer(this,H,U,G)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const U=this.style._layers[v[this.currentLayer]],H=b[U.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(U))continue;const G=(U.type==="symbol"?z:L)[U.source];this._renderTileClippingMasks(U,k[U.source]),this.renderLayer(this,H,U,G)}if(this.options.showTileBoundaries){const U=function(H,G){let K=null;const re=Object.values(H._layers).flatMap(le=>le.source&&!le.isHidden(G)?[H.sourceCaches[le.source]]:[]),ue=re.filter(le=>le.getSource().type==="vector"),ce=re.filter(le=>le.getSource().type!=="vector"),me=le=>{(!K||K.getSource().maxzoom<le.getSource().maxzoom)&&(K=le)};return ue.forEach(le=>me(le)),K||ce.forEach(le=>me(le)),K}(this.style,this.transform.zoom);U&&function(H,G,K){for(let re=0;re<K.length;re++)hf(H,G,K[re])}(this,U,U.getVisibleCoordinates())}this.options.showPadding&&function(U){const H=U.transform.padding;ep(U,U.transform.height-(H.top||0),3,Nx),ep(U,H.bottom||0,3,ei),by(U,H.left||0,3,wc),by(U,U.transform.width-(H.right||0),3,da);const G=U.transform.centerPoint;(function(K,re,ue,ce){Bs(K,re-1,ue-10,2,20,ce),Bs(K,re-10,ue-1,20,2,ce)})(U,G.x,U.transform.height-G.y,xy)}(this),this.context.setDefault()}renderLayer(c,p,v,b){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(b||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(k,L,z,U,H){if(k.renderPass!=="translucent")return;const G=mn.disabled,K=k.colorModeForRenderPass();(z._unevaluatedLayout.hasValue("text-variable-anchor")||z._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(re,ue,ce,me,le,Ie,We){const _e=ue.transform,$e=le==="map",Ge=Ie==="map";for(const Ze of re){const tt=me.getTile(Ze),ft=tt.getBucket(ce);if(!ft||!ft.text||!ft.text.segments.get().length)continue;const at=a.evaluateSizeForZoom(ft.textSizeData,_e.zoom),pt=ke(tt,1,ue.transform.zoom),Bt=tn(Ze.posMatrix,Ge,$e,ue.transform,pt),xr=ce.layout.get("icon-text-fit")!=="none"&&ft.hasIconData();if(at){const wt=Math.pow(2,_e.zoom-tt.tileID.overscaledZ);gy(ft,$e,Ge,We,_e,Bt,Ze.posMatrix,wt,at,xr,ue.style.map.terrain?(er,Dt)=>ue.style.map.terrain.getElevation(Ze,er,Dt):null)}}}(U,k,z,L,z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),H),z.paint.get("icon-opacity").constantOr(1)!==0&&yy(k,L,z,U,!1,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),z.layout.get("icon-rotation-alignment"),z.layout.get("icon-pitch-alignment"),z.layout.get("icon-keep-upright"),G,K),z.paint.get("text-opacity").constantOr(1)!==0&&yy(k,L,z,U,!0,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),z.layout.get("text-keep-upright"),G,K),L.map.showCollisionBoxes&&(df(k,L,z,U,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),!0),df(k,L,z,U,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),!1))})(c,p,v,b,this.style.placement.variableOffsets);break;case"circle":(function(k,L,z,U){if(k.renderPass!=="translucent")return;const H=z.paint.get("circle-opacity"),G=z.paint.get("circle-stroke-width"),K=z.paint.get("circle-stroke-opacity"),re=!z.layout.get("circle-sort-key").isConstant();if(H.constantOr(1)===0&&(G.constantOr(1)===0||K.constantOr(1)===0))return;const ue=k.context,ce=ue.gl,me=k.depthModeForSublayer(0,_r.ReadOnly),le=mn.disabled,Ie=k.colorModeForRenderPass(),We=[];for(let _e=0;_e<U.length;_e++){const $e=U[_e],Ge=L.getTile($e),Ze=Ge.getBucket(z);if(!Ze)continue;const tt=Ze.programConfigurations.get(z.id),ft=k.useProgram("circle",tt),at=Ze.layoutVertexBuffer,pt=Ze.indexBuffer,Bt=k.style.map.terrain&&k.style.map.terrain.getTerrainData($e),xr={programConfiguration:tt,program:ft,layoutVertexBuffer:at,indexBuffer:pt,uniformValues:SC(k,$e,Ge,z),terrainData:Bt};if(re){const wt=Ze.segments.get();for(const er of wt)We.push({segments:new a.SegmentVector([er]),sortKey:er.sortKey,state:xr})}else We.push({segments:Ze.segments,sortKey:0,state:xr})}re&&We.sort((_e,$e)=>_e.sortKey-$e.sortKey);for(const _e of We){const{programConfiguration:$e,program:Ge,layoutVertexBuffer:Ze,indexBuffer:tt,uniformValues:ft,terrainData:at}=_e.state;Ge.draw(ue,ce.TRIANGLES,me,le,Ie,gn.disabled,ft,at,z.id,Ze,tt,_e.segments,z.paint,k.transform.zoom,$e)}})(c,p,v,b);break;case"heatmap":(function(k,L,z,U){if(z.paint.get("heatmap-opacity")!==0)if(k.renderPass==="offscreen"){const H=k.context,G=H.gl,K=mn.disabled,re=new In([G.ONE,G.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ue,ce,me){const le=ue.gl;ue.activeTexture.set(le.TEXTURE1),ue.viewport.set([0,0,ce.width/4,ce.height/4]);let Ie=me.heatmapFbo;if(Ie)le.bindTexture(le.TEXTURE_2D,Ie.colorAttachment.get()),ue.bindFramebuffer.set(Ie.framebuffer);else{const We=le.createTexture();le.bindTexture(le.TEXTURE_2D,We),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),Ie=me.heatmapFbo=ue.createFramebuffer(ce.width/4,ce.height/4,!1,!1),function(_e,$e,Ge,Ze){var tt,ft;const at=_e.gl,pt=(tt=_e.HALF_FLOAT)!==null&&tt!==void 0?tt:at.UNSIGNED_BYTE,Bt=(ft=_e.RGBA16F)!==null&&ft!==void 0?ft:at.RGBA;at.texImage2D(at.TEXTURE_2D,0,Bt,$e.width/4,$e.height/4,0,at.RGBA,pt,null),Ze.colorAttachment.set(Ge)}(ue,ce,We,Ie)}})(H,k,z),H.clear({color:a.Color.transparent});for(let ue=0;ue<U.length;ue++){const ce=U[ue];if(L.hasRenderableParent(ce))continue;const me=L.getTile(ce),le=me.getBucket(z);if(!le)continue;const Ie=le.programConfigurations.get(z.id),We=k.useProgram("heatmap",Ie),{zoom:_e}=k.transform;We.draw(H,G.TRIANGLES,_r.disabled,K,re,gn.disabled,kx(ce.posMatrix,me,_e,z.paint.get("heatmap-intensity")),null,z.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,z.paint,k.transform.zoom,Ie)}H.viewport.set([0,0,k.width,k.height])}else k.renderPass==="translucent"&&(k.context.setColorMode(k.colorModeForRenderPass()),function(H,G){const K=H.context,re=K.gl,ue=G.heatmapFbo;if(!ue)return;K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,ue.colorAttachment.get()),K.activeTexture.set(re.TEXTURE1);let ce=G.colorRampTexture;ce||(ce=G.colorRampTexture=new Q(K,G.colorRamp,re.RGBA)),ce.bind(re.LINEAR,re.CLAMP_TO_EDGE),H.useProgram("heatmapTexture").draw(K,re.TRIANGLES,_r.disabled,mn.disabled,H.colorModeForRenderPass(),gn.disabled,((me,le,Ie,We)=>{const _e=a.create();a.ortho(_e,0,me.width,me.height,0,0,1);const $e=me.context.gl;return{u_matrix:_e,u_world:[$e.drawingBufferWidth,$e.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:le.paint.get("heatmap-opacity")}})(H,G),null,G.id,H.viewportBuffer,H.quadTriangleIndexBuffer,H.viewportSegments,G.paint,H.transform.zoom)}(k,z))})(c,p,v,b);break;case"line":(function(k,L,z,U){if(k.renderPass!=="translucent")return;const H=z.paint.get("line-opacity"),G=z.paint.get("line-width");if(H.constantOr(1)===0||G.constantOr(1)===0)return;const K=k.depthModeForSublayer(0,_r.ReadOnly),re=k.colorModeForRenderPass(),ue=z.paint.get("line-dasharray"),ce=z.paint.get("line-pattern"),me=ce.constantOr(1),le=z.paint.get("line-gradient"),Ie=z.getCrossfadeParameters(),We=me?"linePattern":ue?"lineSDF":le?"lineGradient":"line",_e=k.context,$e=_e.gl;let Ge=!0;for(const Ze of U){const tt=L.getTile(Ze);if(me&&!tt.patternsLoaded())continue;const ft=tt.getBucket(z);if(!ft)continue;const at=ft.programConfigurations.get(z.id),pt=k.context.program.get(),Bt=k.useProgram(We,at),xr=Ge||Bt.program!==pt,wt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Ze),er=ce.constantOr(null);if(er&&tt.imageAtlas){const vr=tt.imageAtlas,fr=vr.patternPositions[er.to.toString()],rr=vr.patternPositions[er.from.toString()];fr&&rr&&at.setConstantPatternPositions(fr,rr)}const Dt=wt?Ze:null,dn=me?yc(k,tt,z,Ie,Dt):ue?Uh(k,tt,z,ue,Ie,Dt):le?Px(k,tt,z,ft.lineClipsArray.length,Dt):Fh(k,tt,z,Dt);if(me)_e.activeTexture.set($e.TEXTURE0),tt.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),at.updatePaintBuffers(Ie);else if(ue&&(xr||k.lineAtlas.dirty))_e.activeTexture.set($e.TEXTURE0),k.lineAtlas.bind(_e);else if(le){const vr=ft.gradients[z.id];let fr=vr.texture;if(z.gradientVersion!==vr.version){let rr=256;if(z.stepInterpolant){const Un=L.getSource().maxzoom,Kr=Ze.canonical.z===Un?Math.ceil(1<<k.transform.maxZoom-Ze.canonical.z):1;rr=a.clamp(a.nextPowerOfTwo(ft.maxLineLength/a.EXTENT*1024*Kr),256,_e.maxTextureSize)}vr.gradient=a.renderColorRamp({expression:z.gradientExpression(),evaluationKey:"lineProgress",resolution:rr,image:vr.gradient||void 0,clips:ft.lineClipsArray}),vr.texture?vr.texture.update(vr.gradient):vr.texture=new Q(_e,vr.gradient,$e.RGBA),vr.version=z.gradientVersion,fr=vr.texture}_e.activeTexture.set($e.TEXTURE0),fr.bind(z.stepInterpolant?$e.NEAREST:$e.LINEAR,$e.CLAMP_TO_EDGE)}Bt.draw(_e,$e.TRIANGLES,K,k.stencilModeForClipping(Ze),re,gn.disabled,dn,wt,z.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,z.paint,k.transform.zoom,at,ft.layoutVertexBuffer2),Ge=!1}})(c,p,v,b);break;case"fill":(function(k,L,z,U){const H=z.paint.get("fill-color"),G=z.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const K=k.colorModeForRenderPass(),re=z.paint.get("fill-pattern"),ue=k.opaquePassEnabledForLayer()&&!re.constantOr(1)&&H.constantOr(a.Color.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(k.renderPass===ue){const ce=k.depthModeForSublayer(1,k.renderPass==="opaque"?_r.ReadWrite:_r.ReadOnly);vy(k,L,z,U,ce,K,!1)}if(k.renderPass==="translucent"&&z.paint.get("fill-antialias")){const ce=k.depthModeForSublayer(z.getPaintProperty("fill-outline-color")?2:0,_r.ReadOnly);vy(k,L,z,U,ce,K,!0)}})(c,p,v,b);break;case"fill-extrusion":(function(k,L,z,U){const H=z.paint.get("fill-extrusion-opacity");if(H!==0&&k.renderPass==="translucent"){const G=new _r(k.context.gl.LEQUAL,_r.ReadWrite,k.depthRangeFor3D);if(H!==1||z.paint.get("fill-extrusion-pattern").constantOr(1))Jh(k,L,z,U,G,mn.disabled,In.disabled),Jh(k,L,z,U,G,k.stencilModeFor3D(),k.colorModeForRenderPass());else{const K=k.colorModeForRenderPass();Jh(k,L,z,U,G,mn.disabled,K)}}})(c,p,v,b);break;case"hillshade":(function(k,L,z,U){if(k.renderPass!=="offscreen"&&k.renderPass!=="translucent")return;const H=k.context,G=k.depthModeForSublayer(0,_r.ReadOnly),K=k.colorModeForRenderPass(),[re,ue]=k.renderPass==="translucent"?k.stencilConfigForOverlap(U):[{},U];for(const ce of ue){const me=L.getTile(ce);me.needsHillshadePrepare!==void 0&&me.needsHillshadePrepare&&k.renderPass==="offscreen"?_y(k,me,z,G,mn.disabled,K):k.renderPass==="translucent"&&Qh(k,ce,me,z,G,re[ce.overscaledZ],K)}H.viewport.set([0,0,k.width,k.height])})(c,p,v,b);break;case"raster":(function(k,L,z,U){if(k.renderPass!=="translucent"||z.paint.get("raster-opacity")===0||!U.length)return;const H=k.context,G=H.gl,K=L.getSource(),re=k.useProgram("raster"),ue=k.colorModeForRenderPass(),[ce,me]=K instanceof ct?[{},U]:k.stencilConfigForOverlap(U),le=me[me.length-1].overscaledZ,Ie=!k.options.moving;for(const We of me){const _e=k.depthModeForSublayer(We.overscaledZ-le,z.paint.get("raster-opacity")===1?_r.ReadWrite:_r.ReadOnly,G.LESS),$e=L.getTile(We);$e.registerFadeDuration(z.paint.get("raster-fade-duration"));const Ge=L.findLoadedParent(We,0),Ze=LC($e,Ge,L,z,k.transform,k.style.map.terrain);let tt,ft;const at=z.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;H.activeTexture.set(G.TEXTURE0),$e.texture.bind(at,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),H.activeTexture.set(G.TEXTURE1),Ge?(Ge.texture.bind(at,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),tt=Math.pow(2,Ge.tileID.overscaledZ-$e.tileID.overscaledZ),ft=[$e.tileID.canonical.x*tt%1,$e.tileID.canonical.y*tt%1]):$e.texture.bind(at,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST);const pt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(We),Bt=pt?We:null,xr=Bt?Bt.posMatrix:k.transform.calculatePosMatrix(We.toUnwrapped(),Ie),wt=Vh(xr,ft||[0,0],tt||1,Ze,z);K instanceof ct?re.draw(H,G.TRIANGLES,_e,mn.disabled,ue,gn.disabled,wt,pt,z.id,K.boundsBuffer,k.quadTriangleIndexBuffer,K.boundsSegments):re.draw(H,G.TRIANGLES,_e,ce[We.overscaledZ],ue,gn.disabled,wt,pt,z.id,k.rasterBoundsBuffer,k.quadTriangleIndexBuffer,k.rasterBoundsSegments)}})(c,p,v,b);break;case"background":(function(k,L,z,U){const H=z.paint.get("background-color"),G=z.paint.get("background-opacity");if(G===0)return;const K=k.context,re=K.gl,ue=k.transform,ce=ue.tileSize,me=z.paint.get("background-pattern");if(k.isPatternMissing(me))return;const le=!me&&H.a===1&&G===1&&k.opaquePassEnabledForLayer()?"opaque":"translucent";if(k.renderPass!==le)return;const Ie=mn.disabled,We=k.depthModeForSublayer(0,le==="opaque"?_r.ReadWrite:_r.ReadOnly),_e=k.colorModeForRenderPass(),$e=k.useProgram(me?"backgroundPattern":"background"),Ge=U||ue.coveringTiles({tileSize:ce,terrain:k.style.map.terrain});me&&(K.activeTexture.set(re.TEXTURE0),k.imageManager.bind(k.context));const Ze=z.getCrossfadeParameters();for(const tt of Ge){const ft=U?tt.posMatrix:k.transform.calculatePosMatrix(tt.toUnwrapped()),at=me?Wh(ft,G,k,me,{tileID:tt,tileSize:ce},Ze):vc(ft,G,H),pt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(tt);$e.draw(K,re.TRIANGLES,We,Ie,_e,gn.disabled,at,pt,z.id,k.tileExtentBuffer,k.quadTriangleIndexBuffer,k.tileExtentSegments)}})(c,0,v,b);break;case"custom":(function(k,L,z){const U=k.context,H=z.implementation;if(k.renderPass==="offscreen"){const G=H.prerender;G&&(k.setCustomLayerDefaults(),U.setColorMode(k.colorModeForRenderPass()),G.call(H,U.gl,k.transform.customLayerMatrix()),U.setDirty(),k.setBaseState())}else if(k.renderPass==="translucent"){k.setCustomLayerDefaults(),U.setColorMode(k.colorModeForRenderPass()),U.setStencilMode(mn.disabled);const G=H.renderingMode==="3d"?new _r(k.context.gl.LEQUAL,_r.ReadWrite,k.depthRangeFor3D):k.depthModeForSublayer(0,_r.ReadOnly);U.setDepthMode(G),H.render(U.gl,k.transform.customLayerMatrix()),U.setDirty(),k.setBaseState(),U.bindFramebuffer.set(null)}})(c,0,v)}}translatePosMatrix(c,p,v,b,k){if(!v[0]&&!v[1])return c;const L=k?b==="map"?this.transform.angle:0:b==="viewport"?-this.transform.angle:0;if(L){const H=Math.sin(L),G=Math.cos(L);v=[v[0]*G-v[1]*H,v[0]*H+v[1]*G]}const z=[k?v[0]:ke(p,v[0],this.transform.zoom),k?v[1]:ke(p,v[1],this.transform.zoom),0],U=new Float32Array(16);return a.translate(U,c,z),U}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),v=this.imageManager.getPattern(c.to.toString());return!p||!v}useProgram(c,p){this.cache=this.cache||{};const v=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new Tl(this.context,rf[c],p,Yo[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Q(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class rp{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,v){const b=Math.pow(2,v),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const U=1/(z=a.transformMat4([],z,c))[3]/p*b;return a.mul$1(z,z,[U,U,1/z[3],U])}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const U=function(re,ue){var ce=ue[0],me=ue[1],le=ue[2],Ie=ce*ce+me*me+le*le;return Ie>0&&(Ie=1/Math.sqrt(Ie)),re[0]=ue[0]*Ie,re[1]=ue[1]*Ie,re[2]=ue[2]*Ie,re}([],function(re,ue,ce){var me=ue[0],le=ue[1],Ie=ue[2],We=ce[0],_e=ce[1],$e=ce[2];return re[0]=le*$e-Ie*_e,re[1]=Ie*We-me*$e,re[2]=me*_e-le*We,re}([],D([],k[z[0]],k[z[1]]),D([],k[z[2]],k[z[1]]))),H=-((G=U)[0]*(K=k[z[1]])[0]+G[1]*K[1]+G[2]*K[2]);var G,K;return U.concat(H)});return new rp(k,L)}}class pf{constructor(c,p){this.min=c,this.max=p,this.center=function(v,b,k){return v[0]=.5*b[0],v[1]=.5*b[1],v[2]=.5*b[2],v}([],function(v,b,k){return v[0]=b[0]+k[0],v[1]=b[1]+k[1],v[2]=b[2]+k[2],v}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],v=R(this.min),b=R(this.max);for(let k=0;k<p.length;k++)v[k]=p[k]?this.min[k]:this.center[k],b[k]=p[k]?this.center[k]:this.max[k];return b[2]=this.max[2],new pf(v,b)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let b=0;b<c.planes.length;b++){const k=c.planes[b];let L=0;for(let z=0;z<p.length;z++)a.dot(k,p[z])>=0&&L++;if(L===0)return 0;L!==p.length&&(v=!1)}if(v)return 2;for(let b=0;b<3;b++){let k=Number.MAX_VALUE,L=-Number.MAX_VALUE;for(let z=0;z<c.points.length;z++){const U=c.points[z][b]-this.min[b];k=Math.min(k,U),L=Math.max(L,U)}if(L<0||k>this.max[b]-this.min[b])return 0}return 1}}class np{constructor(c=0,p=0,v=0,b=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(v)||v<0||isNaN(b)||b<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=v,this.right=b}interpolate(c,p,v){return p.top!=null&&c.top!=null&&(this.top=a.interpolate.number(c.top,p.top,v)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.interpolate.number(c.bottom,p.bottom,v)),p.left!=null&&c.left!=null&&(this.left=a.interpolate.number(c.left,p.left,v)),p.right!=null&&c.right!=null&&(this.right=a.interpolate.number(c.right,p.right,v)),this}getCenter(c,p){const v=a.clamp((this.left+c-this.right)/2,0,c),b=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(v,b)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new np(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class ip{constructor(c,p,v,b,k){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=k===void 0||!!k,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=v??0,this._maxPitch=b??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new np,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new ip(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var v=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,b,k){var L=b[0],z=b[1],U=b[2],H=b[3],G=Math.sin(k),K=Math.cos(k);v[0]=L*K+U*G,v[1]=z*K+H*G,v[2]=L*-G+U*K,v[3]=z*-G+H*K}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,v){this._unmodified=!1,this._edgeInsets.interpolate(c,p,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const v=this.pointCoordinate(new a.Point(0,0)),b=this.pointCoordinate(new a.Point(this.width,0)),k=this.pointCoordinate(new a.Point(this.width,this.height)),L=this.pointCoordinate(new a.Point(0,this.height)),z=Math.floor(Math.min(v.x,b.x,k.x,L.x)),U=Math.floor(Math.max(v.x,b.x,k.x,L.x)),H=1;for(let G=z-H;G<=U+H;G++)G!==0&&p.push(new a.UnwrappedTileID(G,c))}return p}coveringTiles(c){var p,v;let b=this.coveringZoomLevel(c);const k=b;if(c.minzoom!==void 0&&b<c.minzoom)return[];c.maxzoom!==void 0&&b>c.maxzoom&&(b=c.maxzoom);const L=this.pointCoordinate(this.getCameraPoint()),z=a.MercatorCoordinate.fromLngLat(this.center),U=Math.pow(2,b),H=[U*L.x,U*L.y,0],G=[U*z.x,U*z.y,0],K=rp.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,b);let re=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(re=b);const ue=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,ce=_e=>({aabb:new pf([_e*U,0,0],[(_e+1)*U,U,0]),zoom:0,x:0,y:0,wrap:_e,fullyVisible:!1}),me=[],le=[],Ie=b,We=c.reparseOverscaled?k:b;if(this._renderWorldCopies)for(let _e=1;_e<=3;_e++)me.push(ce(-_e)),me.push(ce(_e));for(me.push(ce(0));me.length>0;){const _e=me.pop(),$e=_e.x,Ge=_e.y;let Ze=_e.fullyVisible;if(!Ze){const Bt=_e.aabb.intersects(K);if(Bt===0)continue;Ze=Bt===2}const tt=c.terrain?H:G,ft=_e.aabb.distanceX(tt),at=_e.aabb.distanceY(tt),pt=Math.max(Math.abs(ft),Math.abs(at));if(_e.zoom===Ie||pt>ue+(1<<Ie-_e.zoom)-2&&_e.zoom>=re){const Bt=Ie-_e.zoom,xr=H[0]-.5-($e<<Bt),wt=H[1]-.5-(Ge<<Bt);le.push({tileID:new a.OverscaledTileID(_e.zoom===Ie?We:_e.zoom,_e.wrap,_e.zoom,$e,Ge),distanceSq:F([G[0]-.5-$e,G[1]-.5-Ge]),tileDistanceToCamera:Math.sqrt(xr*xr+wt*wt)})}else for(let Bt=0;Bt<4;Bt++){const xr=($e<<1)+Bt%2,wt=(Ge<<1)+(Bt>>1),er=_e.zoom+1;let Dt=_e.aabb.quadrant(Bt);if(c.terrain){const dn=new a.OverscaledTileID(er,_e.wrap,er,xr,wt),vr=c.terrain.getMinMaxElevation(dn),fr=(p=vr.minElevation)!==null&&p!==void 0?p:this.elevation,rr=(v=vr.maxElevation)!==null&&v!==void 0?v:this.elevation;Dt=new pf([Dt.min[0],Dt.min[1],fr],[Dt.max[0],Dt.max[1],rr])}me.push({aabb:Dt,zoom:er,x:xr,y:wt,wrap:_e.wrap,fullyVisible:Ze})}}return le.sort((_e,$e)=>_e.distanceSq-$e.distanceSq).map(_e=>_e.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),v=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-v))return;const b=this.getCameraPosition(),k=a.MercatorCoordinate.fromLngLat(b.lngLat,b.altitude),L=a.MercatorCoordinate.fromLngLat(p,v),z=k.x-L.x,U=k.y-L.y,H=k.z-L.z,G=Math.sqrt(z*z+U*U+H*H),K=this.scaleZoom(this.cameraToCenterDistance/G/this.tileSize);this._elevation=v,this._center=p,this.zoom=K}setLocationAtPoint(c,p){const v=this.pointCoordinate(p),b=this.pointCoordinate(this.centerPoint),k=this.locationCoordinate(c),L=new a.MercatorCoordinate(k.x-(v.x-b.x),k.y-(v.y-b.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const re=p.pointCoordinate(c);if(re!=null)return re}const v=[c.x,c.y,0,1],b=[c.x,c.y,1,1];a.transformMat4(v,v,this.pixelMatrixInverse),a.transformMat4(b,b,this.pixelMatrixInverse);const k=v[3],L=b[3],z=v[1]/k,U=b[1]/L,H=v[2]/k,G=b[2]/L,K=H===G?0:(0-H)/(G-H);return new a.MercatorCoordinate(a.interpolate.number(v[0]/k,b[0]/L,K)/this.worldSize,a.interpolate.number(z,U,K)/this.worldSize)}coordinatePoint(c,p=0,v=this.pixelMatrix){const b=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.transformMat4(b,b,v),new a.Point(b[0]/b[3],b[1]/b[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new Le().extend(this.pointLocation(new a.Point(0,c))).extend(this.pointLocation(new a.Point(this.width,c))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Le([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const v=c.key,b=p?this._alignedPosMatrixCache:this._posMatrixCache;if(b[v])return b[v];const k=c.canonical,L=this.worldSize/this.zoomScale(k.z),z=k.x+Math.pow(2,k.z)*c.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[z*L,k.y*L,0]),a.scale(U,U,[L/a.EXTENT,L/a.EXTENT,1]),a.multiply(U,p?this.alignedProjMatrix:this.projMatrix,U),b[v]=new Float32Array(U),b[v]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,v,b,k=-90,L=90,z=-180,U=180;const H=this.size,G=this._unmodified;if(this.latRange){const ue=this.latRange;k=a.mercatorYfromLat(ue[1])*this.worldSize,L=a.mercatorYfromLat(ue[0])*this.worldSize,c=L-k<H.y?H.y/(L-k):0}if(this.lngRange){const ue=this.lngRange;z=a.wrap(a.mercatorXfromLng(ue[0])*this.worldSize,0,this.worldSize),U=a.wrap(a.mercatorXfromLng(ue[1])*this.worldSize,0,this.worldSize),U<z&&(U+=this.worldSize),p=U-z<H.x?H.x/(U-z):0}const K=this.point,re=Math.max(p||0,c||0);if(re)return this.center=this.unproject(new a.Point(p?(U+z)/2:K.x,c?(L+k)/2:K.y)),this.zoom+=this.scaleZoom(re),this._unmodified=G,void(this._constraining=!1);if(this.latRange){const ue=K.y,ce=H.y/2;ue-ce<k&&(b=k+ce),ue+ce>L&&(b=L-ce)}if(this.lngRange){const ue=(z+U)/2,ce=a.wrap(K.x,ue-this.worldSize/2,ue+this.worldSize/2),me=H.x/2;ce-me<z&&(v=z+me),ce+me>U&&(v=U-me)}v===void 0&&b===void 0||(this.center=this.unproject(new a.Point(v!==void 0?v:K.x,b!==void 0?b:K.y)).wrap()),this._unmodified=G,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,v=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let b=a.identity(new Float64Array(16));a.scale(b,b,[this.width/2,-this.height/2,1]),a.translate(b,b,[1,-1,0]),this.labelPlaneMatrix=b,b=a.identity(new Float64Array(16)),a.scale(b,b,[1,-1,1]),a.translate(b,b,[-1,-1,0]),a.scale(b,b,[2/this.width,2/this.height,1]),this.glCoordMatrix=b;const k=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),L=Math.min(this.elevation,this._minEleveationForCurrentTile),z=k-L*this._pixelPerMeter/Math.cos(this._pitch),U=L<0?z:k,H=Math.PI/2+this._pitch,G=this._fov*(.5+c.y/this.height),K=Math.sin(G)*U/Math.sin(a.clamp(Math.PI-H-G,.01,Math.PI-.01)),re=this.getHorizon(),ue=2*Math.atan(re/this.cameraToCenterDistance)*(.5+c.y/(2*re)),ce=Math.sin(ue)*U/Math.sin(a.clamp(Math.PI-H-ue,.01,Math.PI-.01)),me=Math.min(K,ce),le=1.01*(Math.cos(Math.PI/2-this._pitch)*me+U),Ie=this.height/50;b=new Float64Array(16),a.perspective(b,this._fov,this.width/this.height,Ie,le),b[8]=2*-c.x/this.width,b[9]=2*c.y/this.height,a.scale(b,b,[1,-1,1]),a.translate(b,b,[0,0,-this.cameraToCenterDistance]),a.rotateX(b,b,this._pitch),a.rotateZ(b,b,this.angle),a.translate(b,b,[-p,-v,0]),this.mercatorMatrix=a.scale([],b,[this.worldSize,this.worldSize,this.worldSize]),a.scale(b,b,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,b),a.translate(b,b,[0,0,-this.elevation]),this.projMatrix=b,this.invProjMatrix=a.invert([],b),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,b);const We=this.width%2/2,_e=this.height%2/2,$e=Math.cos(this.angle),Ge=Math.sin(this.angle),Ze=p-Math.round(p)+$e*We+Ge*_e,tt=v-Math.round(v)+$e*_e+Ge*We,ft=new Float64Array(b);if(a.translate(ft,ft,[Ze>.5?Ze-1:Ze,tt>.5?tt-1:tt,0]),this.alignedProjMatrix=ft,b=a.invert(new Float64Array(16),this.pixelMatrix),!b)throw new Error("failed to invert matrix");this.pixelMatrixInverse=b,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let v=p.x,b=p.y,k=p.x,L=p.y;for(const z of c)v=Math.min(v,z.x),b=Math.min(b,z.y),k=Math.max(k,z.x),L=Math.max(L,z.y);return[new a.Point(v,b),new a.Point(k,b),new a.Point(k,L),new a.Point(v,L),new a.Point(v,b)]}}}class Sc{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let v;return p.split("&").map(b=>b.split("=")).forEach(b=>{b[0]===this._hashName&&(v=b)}),(v&&v[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(v=>isNaN(v))){const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:v,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=function(p,v){let b=!1,k=null;const L=()=>{k=null,b&&(p(),k=setTimeout(L,300),b=!1)};return()=>(b=!0,k||L(),k)}(this._updateHashUnthrottled),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,b=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,b),L=Math.round(p.lng*k)/k,z=Math.round(p.lat*k)/k,U=this._map.getBearing(),H=this._map.getPitch();let G="";if(G+=c?`/${L}/${z}/${v}`:`${v}/${z}/${L}`,(U||H)&&(G+="/"+Math.round(10*U)/10),H&&(G+=`/${Math.round(H)}`),this._hashName){const K=this._hashName;let re=!1;const ue=window.location.hash.slice(1).split("&").map(ce=>{const me=ce.split("=")[0];return me===K?(re=!0,`${me}=${G}`):ce}).filter(ce=>ce);return re||ue.push(`${K}=${G}`),`#${ue.join("&")}`}return`#${G}`}}const mf={linearity:.3,easing:a.bezier(0,0,.3,1)},jx=a.extend({deceleration:2500,maxSpeed:1400},mf),Bx=a.extend({deceleration:20,maxSpeed:1400},mf),Fx=a.extend({deceleration:1e3,maxSpeed:360},mf),Ux=a.extend({deceleration:1e3,maxSpeed:90},mf);class Vx{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.browser.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)p.zoom+=k.zoomDelta||0,p.bearing+=k.bearingDelta||0,p.pitch+=k.pitchDelta||0,k.panDelta&&p.pan._add(k.panDelta),k.around&&(p.around=k.around),k.pinchAround&&(p.pinchAround=k.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,b={};if(p.pan.mag()){const k=gf(p.pan.mag(),v,a.extend({},jx,c||{}));b.offset=p.pan.mult(k.amount/p.pan.mag()),b.center=this._map.transform.center,Pl(b,k)}if(p.zoom){const k=gf(p.zoom,v,Bx);b.zoom=this._map.transform.zoom+k.amount,Pl(b,k)}if(p.bearing){const k=gf(p.bearing,v,Fx);b.bearing=this._map.transform.bearing+a.clamp(k.amount,-179,179),Pl(b,k)}if(p.pitch){const k=gf(p.pitch,v,Ux);b.pitch=this._map.transform.pitch+k.amount,Pl(b,k)}if(b.zoom||b.bearing){const k=p.pinchAround===void 0?p.around:p.pinchAround;b.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),a.extend(b,{noMoveStart:!0})}}function Pl(S,c){(!S.duration||S.duration<c.duration)&&(S.duration=c.duration,S.easing=c.easing)}function gf(S,c,p){const{maxSpeed:v,linearity:b,deceleration:k}=p,L=a.clamp(S*b/(c/1e3),-v,v),z=Math.abs(L)/(k*b);return{easing:p.easing,duration:1e3*z,amount:L*(z/2)}}class ti extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v,b={}){const k=h.mousePos(p.getCanvasContainer(),v),L=p.unproject(k);super(c,a.extend({point:k,lngLat:L,originalEvent:v},b)),this._defaultPrevented=!1,this.target=p}}class fa extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){const b=c==="touchend"?v.changedTouches:v.touches,k=h.touchPos(p.getCanvasContainer(),b),L=k.map(U=>p.unproject(U)),z=k.reduce((U,H,G,K)=>U.add(H.div(K.length)),new a.Point(0,0));super(c,{points:k,point:z,lngLats:L,lngLat:p.unproject(z),originalEvent:v}),this._defaultPrevented=!1}}class Wx extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){super(c,{originalEvent:v}),this._defaultPrevented=!1}}class Fs{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new Wx(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new ti(c.type,this._map,c))}mouseup(c){this._map.fire(new ti(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new ti(c.type,this._map,c))}dblclick(c){return this._firePreventable(new ti(c.type,this._map,c))}mouseover(c){this._map.fire(new ti(c.type,this._map,c))}mouseout(c){this._map.fire(new ti(c.type,this._map,c))}touchstart(c){return this._firePreventable(new fa(c.type,this._map,c))}touchmove(c){this._map.fire(new fa(c.type,this._map,c))}touchend(c){this._map.fire(new fa(c.type,this._map,c))}touchcancel(c){this._map.fire(new fa(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yf{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new ti(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ti("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new ti(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vf{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.Point.convert(c),this._map.terrain)}}class NC{constructor(c,p){this._map=c,this._tr=new vf(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const v=p;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const b=this._startPos;this._lastPos=v,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const k=Math.min(b.x,v.x),L=Math.max(b.x,v.x),z=Math.min(b.y,v.y),U=Math.max(b.y,v.y);h.setTransform(this._box,`translate(${k}px,${z}px)`),this._box.style.width=L-k+"px",this._box.style.height=U-z+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const v=this._startPos,b=p;if(this.reset(),h.suppressClick(),v.x!==b.x||v.y!==b.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:k=>k.fitScreenCoordinates(v,b,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))}}function wy(S,c){if(S.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${S.length}, points ${c.length}`);const p={};for(let v=0;v<S.length;v++)p[S[v].identifier]=c[v];return p}class qx{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),v.length===this.numTouches&&(this.centroid=function(b){const k=new a.Point(0,0);for(const L of b)k._add(L);return k.div(b.length)}(p),this.touches=wy(v,p)))}touchmove(c,p,v){if(this.aborted||!this.centroid)return;const b=wy(v,p);for(const k in this.touches){const L=b[k];(!L||L.dist(this.touches[k])>30)&&(this.aborted=!0)}}touchend(c,p,v){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const b=!this.aborted&&this.centroid;if(this.reset(),b)return b}}}class Ec{constructor(c){this.singleTap=new qx(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,v){this.singleTap.touchstart(c,p,v)}touchmove(c,p,v){this.singleTap.touchmove(c,p,v)}touchend(c,p,v){const b=this.singleTap.touchend(c,p,v);if(b){const k=c.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(b)<30;if(k&&L||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=b,this.count===this.numTaps)return this.reset(),b}}}class Al{constructor(c){this._tr=new vf(c),this._zoomIn=new Ec({numTouches:1,numTaps:2}),this._zoomOut=new Ec({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,v){this._zoomIn.touchstart(c,p,v),this._zoomOut.touchstart(c,p,v)}touchmove(c,p,v){this._zoomIn.touchmove(c,p,v),this._zoomOut.touchmove(c,p,v)}touchend(c,p,v){const b=this._zoomIn.touchend(c,p,v),k=this._zoomOut.touchend(c,p,v),L=this._tr;return b?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:L.zoom+1,around:L.unproject(b)},{originalEvent:c})}):k?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:L.zoom-1,around:L.unproject(k)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pt{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const b=p.length?p[0]:p;return!this._moved&&b.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=b,this._move(v,b))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Hx={0:1,2:2};class Cc{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,v){const b=Hx[v];return p.buttons===void 0||(p.buttons&b)!==b}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class Iu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const op=S=>{S.mousedown=S.dragStart,S.mousemoveWindow=S.dragMove,S.mouseup=S.dragEnd,S.contextmenu=function(c){c.preventDefault()}},kt=({enable:S,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const v=new Cc({checkCorrectEvent:b=>h.mouseButton(b)===0&&b.ctrlKey||h.mouseButton(b)===2});return new Pt({clickTolerance:c,move:(b,k)=>({bearingDelta:(k.x-b.x)*p}),moveStateManager:v,enable:S,assignEvents:op})},ap=({enable:S,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const v=new Cc({checkCorrectEvent:b=>h.mouseButton(b)===0&&b.ctrlKey||h.mouseButton(b)===2});return new Pt({clickTolerance:c,move:(b,k)=>({pitchDelta:(k.y-b.y)*p}),moveStateManager:v,enable:S,assignEvents:op})};class zC{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,v){return this._calculateTransform(c,p,v)}touchmove(c,p,v){if(this._map._cooperativeGestures&&(this._minTouches===2&&v.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,v.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(v.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,v)}touchend(c,p,v){this._calculateTransform(c,p,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,v){v.length>0&&(this._active=!0);const b=wy(v,p),k=new a.Point(0,0),L=new a.Point(0,0);let z=0;for(const H in b){const G=b[H],K=this._touches[H];K&&(k._add(G),L._add(G.sub(K)),z++,b[H]=G)}if(this._touches=b,z<this._minTouches||!L.mag())return;const U=L.div(z);return this._sum._add(U),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(z),panDelta:U}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sy{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,v){if(!this._firstTwoTouches)return;c.preventDefault();const[b,k]=this._firstTwoTouches,L=Ru(v,p,b),z=Ru(v,p,k);if(!L||!z)return;const U=this._aroundCenter?null:L.add(z).div(2);return this._move([L,z],U,c)}touchend(c,p,v){if(!this._firstTwoTouches)return;const[b,k]=this._firstTwoTouches,L=Ru(v,p,b),z=Ru(v,p,k);L&&z||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ru(S,c,p){for(let v=0;v<S.length;v++)if(S[v].identifier===p)return c[v]}function Ey(S,c){return Math.log(S/c)/Math.LN2}class Gx extends Sy{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const v=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Ey(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ey(this._distance,v),pinchAround:p}}}function Yx(S,c){return 180*S.angleWith(c)/Math.PI}class jC extends Sy{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const v=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Yx(this._vector,v),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,v=Yx(c,this._startVector);return Math.abs(v)<p}}function _f(S){return Math.abs(S.y)>Math.abs(S.x)}class Cy extends Sy{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,v){super.touchstart(c,p,v),this._currentTouchCount=v.length}_start(c){this._lastPoints=c,_f(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,v){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const b=c[0].sub(this._lastPoints[0]),k=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(b,k,v.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(b.y+k.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,v){if(this._valid!==void 0)return this._valid;const b=c.mag()>=2,k=p.mag()>=2;if(!b&&!k)return;if(!b||!k)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const L=c.y>0==p.y>0;return _f(c)&&_f(p)&&L}}const ky={panStep:100,bearingStep:15,pitchStep:10};class Ty{constructor(c){this._tr=new vf(c);const p=ky;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,v=0,b=0,k=0,L=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?v=-1:(c.preventDefault(),k=-1);break;case 39:c.shiftKey?v=1:(c.preventDefault(),k=1);break;case 38:c.shiftKey?b=1:(c.preventDefault(),L=-1);break;case 40:c.shiftKey?b=-1:(c.preventDefault(),L=1);break;default:return}return this._rotationDisabled&&(v=0,b=0),{cameraAnimation:z=>{const U=this._tr;z.easeTo({duration:300,easeId:"keyboardHandler",easing:xo,zoom:p?Math.round(U.zoom)+p*(c.shiftKey?2:1):U.zoom,bearing:U.bearing+v*this._bearingStep,pitch:U.pitch+b*this._pitchStep,offset:[-k*this._panStep,-L*this._panStep],center:U.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function xo(S){return S*(2-S)}const Us=4.000244140625;class Kx{constructor(c,p){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=c,this._tr=new vf(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const v=a.browser.now(),b=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,p!==0&&p%Us==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(b*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),v=this._tr;this._around=a.LngLat.convert(this._aroundCenter?v.center:v.unproject(p)),this._aroundPoint=v.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>Us?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&U!==0&&(U=1/U);const H=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(H*U))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,v=this._startZoom,b=this._easing;let k,L=!1;if(this._type==="wheel"&&v&&b){const z=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),U=b(z);k=a.interpolate.number(v,p,U),z<1?this._frameId||(this._frameId=!0):L=!0}else k=p,L=!0;return this._active=!0,L&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!L,zoomDelta:k-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.defaultEasing;if(this._prevEase){const v=this._prevEase,b=(a.browser.now()-v.start)/v.duration,k=v.easing(b+.01)-v.easing(b),L=.27/Math.sqrt(k*k+1e-4)*.01,z=Math.sqrt(.0729-L*L);p=a.bezier(L,z,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p}reset(){this._active=!1}}class Py{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ay{constructor(c){this._tr=new vf(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class My{constructor(){this._tap=new Ec({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,v){if(!this._swipePoint)if(this._tapTime){const b=p[0],k=c.timeStamp-this._tapTime<500,L=this._tapPoint.dist(b)<30;k&&L?v.length>0&&(this._swipePoint=b,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(c,p,v)}touchmove(c,p,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const b=p[0],k=b.y-this._swipePoint.y;return this._swipePoint=b,c.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(c,p,v)}touchend(c,p,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const b=this._tap.touchend(c,p,v);b&&(this._tapTime=c.timeStamp,this._tapPoint=b)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Zx{constructor(c,p,v){this._el=c,this._mousePan=p,this._touchPan=v}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ha{constructor(c,p,v){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Cn{constructor(c,p,v,b){this._el=c,this._touchZoom=p,this._touchRotate=v,this._tapDragZoom=b,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const kc=S=>S.zoom||S.drag||S.pitch||S.rotate;class Oy extends a.Event{}function sp(S){return S.panDelta&&S.panDelta.mag()||S.zoomDelta||S.bearingDelta||S.pitchDelta}class Xx{constructor(c,p){this.handleWindowEvent=b=>{this.handleEvent(b,`${b.type}Window`)},this.handleEvent=(b,k)=>{if(b.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const L=b.type==="renderFrame"?void 0:b,z={needsRenderFrame:!1},U={},H={},G=b.touches,K=G?this._getMapTouches(G):void 0,re=K?h.touchPos(this._el,K):h.mousePos(this._el,b);for(const{handlerName:me,handler:le,allowed:Ie}of this._handlers){if(!le.isEnabled())continue;let We;this._blockedByActive(H,Ie,me)?le.reset():le[k||b.type]&&(We=le[k||b.type](b,re,K),this.mergeHandlerResult(z,U,We,me,L),We&&We.needsRenderFrame&&this._triggerRenderFrame()),(We||le.isActive())&&(H[me]=le)}const ue={};for(const me in this._previousActiveHandlers)H[me]||(ue[me]=L);this._previousActiveHandlers=H,(Object.keys(ue).length||sp(z))&&(this._changes.push([z,U,ue]),this._triggerRenderFrame()),(Object.keys(H).length||sp(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=z;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Vx(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[b,k,L]of this._listeners)h.addEventListener(b,k,b===document?this.handleWindowEvent:this.handleEvent,L)}destroy(){for(const[c,p,v]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(c){const p=this._map,v=p.getCanvasContainer();this._add("mapEvent",new Fs(p,c));const b=p.boxZoom=new NC(p,c);this._add("boxZoom",b),c.interactive&&c.boxZoom&&b.enable();const k=new Al(p),L=new Ay(p);p.doubleClickZoom=new Py(L,k),this._add("tapZoom",k),this._add("clickZoom",L),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const z=new My;this._add("tapDragZoom",z);const U=p.touchPitch=new Cy(p);this._add("touchPitch",U),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const H=kt(c),G=ap(c);p.dragRotate=new ha(c,H,G),this._add("mouseRotate",H,["mousePitch"]),this._add("mousePitch",G,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const K=(({enable:Ie,clickTolerance:We})=>{const _e=new Cc({checkCorrectEvent:$e=>h.mouseButton($e)===0&&!$e.ctrlKey});return new Pt({clickTolerance:We,move:($e,Ge)=>({around:Ge,panDelta:Ge.sub($e)}),activateOnStart:!0,moveStateManager:_e,enable:Ie,assignEvents:op})})(c),re=new zC(c,p);p.dragPan=new Zx(v,K,re),this._add("mousePan",K),this._add("touchPan",re,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const ue=new jC,ce=new Gx;p.touchZoomRotate=new Cn(v,ce,ue,z),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const me=p.scrollZoom=new Kx(p,()=>this._triggerRenderFrame());this._add("scrollZoom",me,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const le=p.keyboard=new Ty(p);this._add("keyboard",le),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new yf(p))}_add(c,p,v){this._handlers.push({handlerName:c,handler:p,allowed:v}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!kc(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,v){for(const b in c)if(b!==v&&(!p||p.indexOf(b)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const v of c)this._el.contains(v.target)&&p.push(v);return p}mergeHandlerResult(c,p,v,b,k){if(!v)return;a.extend(c,v);const L={handlerName:b,originalEvent:v.originalEvent||k};v.zoomDelta!==void 0&&(p.zoom=L),v.panDelta!==void 0&&(p.drag=L),v.pitchDelta!==void 0&&(p.pitch=L),v.bearingDelta!==void 0&&(p.rotate=L)}_applyChanges(){const c={},p={},v={};for(const[b,k,L]of this._changes)b.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(b.panDelta)),b.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+b.zoomDelta),b.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+b.bearingDelta),b.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+b.pitchDelta),b.around!==void 0&&(c.around=b.around),b.pinchAround!==void 0&&(c.pinchAround=b.pinchAround),b.noInertia&&(c.noInertia=b.noInertia),a.extend(p,k),a.extend(v,L);this._updateMapTransform(c,p,v),this._changes=[]}_updateMapTransform(c,p,v){const b=this._map,k=b._getTransformForUpdate(),L=b.terrain;if(!(sp(c)||L&&this._terrainMovement))return this._fireEvents(p,v,!0);let{panDelta:z,zoomDelta:U,bearingDelta:H,pitchDelta:G,around:K,pinchAround:re}=c;re!==void 0&&(K=re),b._stop(!0),K=K||b.transform.centerPoint;const ue=k.pointLocation(z?K.sub(z):K);H&&(k.bearing+=H),G&&(k.pitch+=G),U&&(k.zoom+=U),L?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?k.center=k.pointLocation(k.centerPoint.sub(z)):k.setLocationAtPoint(ue,K):(this._terrainMovement=!0,this._map._elevationFreeze=!0,k.setLocationAtPoint(ue,K),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,k.recalculateZoom(b.terrain)})):k.setLocationAtPoint(ue,K),b._applyUpdatedTransform(k),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,v,!0)}_fireEvents(c,p,v){const b=kc(this._eventsInProgress),k=kc(c),L={};for(const G in c){const{originalEvent:K}=c[G];this._eventsInProgress[G]||(L[`${G}start`]=K),this._eventsInProgress[G]=c[G]}!b&&k&&this._fireEvent("movestart",k.originalEvent);for(const G in L)this._fireEvent(G,L[G]);k&&this._fireEvent("move",k.originalEvent);for(const G in c){const{originalEvent:K}=c[G];this._fireEvent(G,K)}const z={};let U;for(const G in this._eventsInProgress){const{handlerName:K,originalEvent:re}=this._eventsInProgress[G];this._handlersById[K].isActive()||(delete this._eventsInProgress[G],U=p[K]||re,z[`${G}end`]=U)}for(const G in z)this._fireEvent(G,z[G]);const H=kc(this._eventsInProgress);if(v&&(b||k)&&!H){this._updatingCamera=!0;const G=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=re=>re!==0&&-this._bearingSnap<re&&re<this._bearingSnap;G?(K(G.bearing||this._map.getBearing())&&(G.bearing=0),G.freezeElevation=!0,this._map.easeTo(G,{originalEvent:U})):(this._map.fire(new a.Event("moveend",{originalEvent:U})),K(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new Oy("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Jx extends a.Evented{constructor(c,p){super(),this._renderFrameCallback=()=>{const v=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,v){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},p),v)}panTo(c,p,v){return this.easeTo(a.extend({center:c},p),v)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,v){return this.easeTo(a.extend({zoom:c},p),v)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,v){return this.easeTo(a.extend({bearing:c},p),v)}resetNorth(c,p){return this.rotateTo(0,a.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=Le.convert(c);const v=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),v,p)}_cameraForBoxAndBearing(c,p,v,b){const k={top:0,bottom:0,right:0,left:0};if(typeof(b=a.extend({padding:k,offset:[0,0],maxZoom:this.transform.maxZoom},b)).padding=="number"){const Ge=b.padding;b.padding={top:Ge,bottom:Ge,right:Ge,left:Ge}}b.padding=a.extend(k,b.padding);const L=this.transform,z=L.padding,U=L.project(a.LngLat.convert(c)),H=L.project(a.LngLat.convert(p)),G=U.rotate(-v*Math.PI/180),K=H.rotate(-v*Math.PI/180),re=new a.Point(Math.max(G.x,K.x),Math.max(G.y,K.y)),ue=new a.Point(Math.min(G.x,K.x),Math.min(G.y,K.y)),ce=re.sub(ue),me=(L.width-(z.left+z.right+b.padding.left+b.padding.right))/ce.x,le=(L.height-(z.top+z.bottom+b.padding.top+b.padding.bottom))/ce.y;if(le<0||me<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ie=Math.min(L.scaleZoom(L.scale*Math.min(me,le)),b.maxZoom),We=a.Point.convert(b.offset),_e=new a.Point((b.padding.left-b.padding.right)/2,(b.padding.top-b.padding.bottom)/2).rotate(v*Math.PI/180),$e=We.add(_e).mult(L.scale/L.zoomScale(Ie));return{center:L.unproject(U.add(H).div(2).sub($e)),zoom:Ie,bearing:v}}fitBounds(c,p,v){return this._fitInternal(this.cameraForBounds(c,p),p,v)}fitScreenCoordinates(c,p,v,b,k){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(c)),this.transform.pointLocation(a.Point.convert(p)),v,b),b,k)}_fitInternal(c,p,v){return c?(delete(p=a.extend(c,p)).padding,p.linear?this.easeTo(p,v):this.flyTo(p,v)):this}jumpTo(c,p){this.stop();const v=this._getTransformForUpdate();let b=!1,k=!1,L=!1;return"zoom"in c&&v.zoom!==+c.zoom&&(b=!0,v.zoom=+c.zoom),c.center!==void 0&&(v.center=a.LngLat.convert(c.center)),"bearing"in c&&v.bearing!==+c.bearing&&(k=!0,v.bearing=+c.bearing),"pitch"in c&&v.pitch!==+c.pitch&&(L=!0,v.pitch=+c.pitch),c.padding==null||v.isPaddingEqual(c.padding)||(v.padding=c.padding),this._applyUpdatedTransform(v),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),b&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),k&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),L&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(c,p,v,b=0){const k=a.MercatorCoordinate.fromLngLat(c,p),L=a.MercatorCoordinate.fromLngLat(v,b),z=L.x-k.x,U=L.y-k.y,H=L.z-k.z,G=Math.hypot(z,U,H);if(G===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(z,U),re=this.transform.scaleZoom(this.transform.cameraToCenterDistance/G/this.transform.tileSize),ue=180*Math.atan2(z,-U)/Math.PI;let ce=180*Math.acos(K/G)/Math.PI;return ce=H<0?90-ce:90+ce,{center:L.toLngLat(),zoom:re,pitch:ce,bearing:ue}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.defaultEasing},c)).animate===!1||!c.essential&&a.browser.prefersReducedMotion)&&(c.duration=0);const v=this._getTransformForUpdate(),b=this.getZoom(),k=this.getBearing(),L=this.getPitch(),z=this.getPadding(),U="zoom"in c?+c.zoom:b,H="bearing"in c?this._normalizeBearing(c.bearing,k):k,G="pitch"in c?+c.pitch:L,K="padding"in c?c.padding:v.padding,re=a.Point.convert(c.offset);let ue=v.centerPoint.add(re);const ce=v.pointLocation(ue),me=a.LngLat.convert(c.center||ce);this._normalizeCenter(me);const le=v.project(ce),Ie=v.project(me).sub(le),We=v.zoomScale(U-b);let _e,$e;c.around&&(_e=a.LngLat.convert(c.around),$e=v.locationPoint(_e));const Ge={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||U!==b,this._rotating=this._rotating||k!==H,this._pitching=this._pitching||G!==L,this._padding=!v.isPaddingEqual(K),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Ge),this.terrain&&this._prepareElevation(me),this._ease(Ze=>{if(this._zooming&&(v.zoom=a.interpolate.number(b,U,Ze)),this._rotating&&(v.bearing=a.interpolate.number(k,H,Ze)),this._pitching&&(v.pitch=a.interpolate.number(L,G,Ze)),this._padding&&(v.interpolatePadding(z,K,Ze),ue=v.centerPoint.add(re)),this.terrain&&!c.freezeElevation&&this._updateElevation(Ze),_e)v.setLocationAtPoint(_e,$e);else{const tt=v.zoomScale(v.zoom-b),ft=U>b?Math.min(2,We):Math.max(.5,We),at=Math.pow(ft,1-Ze),pt=v.unproject(le.add(Ie.mult(Ze*at)).mult(tt));v.setLocationAtPoint(v.renderWorldCopies?pt.wrap():pt,ue)}this._applyUpdatedTransform(v),this._fireMoveEvents(p)},Ze=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Ze)},c),this}_prepareEase(c,p,v={}){this._moving=!0,p||v.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!v.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!v.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!v.pitching&&this.fire(new a.Event("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(v-(p-(v*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.interpolate.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:v,zoom:b,pitch:k,bearing:L,elevation:z}=this.transformCameraUpdate(p);v&&(p.center=v),b!==void 0&&(p.zoom=b),k!==void 0&&(p.pitch=k),L!==void 0&&(p.bearing=L),z!==void 0&&(p.elevation=z),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const v=this._zooming,b=this._rotating,k=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.Event("zoomend",c)),b&&this.fire(new a.Event("rotateend",c)),k&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}flyTo(c,p){if(!c.essential&&a.browser.prefersReducedMotion){const Dt=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Dt,p)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.defaultEasing},c);const v=this._getTransformForUpdate(),b=this.getZoom(),k=this.getBearing(),L=this.getPitch(),z=this.getPadding(),U="zoom"in c?a.clamp(+c.zoom,v.minZoom,v.maxZoom):b,H="bearing"in c?this._normalizeBearing(c.bearing,k):k,G="pitch"in c?+c.pitch:L,K="padding"in c?c.padding:v.padding,re=v.zoomScale(U-b),ue=a.Point.convert(c.offset);let ce=v.centerPoint.add(ue);const me=v.pointLocation(ce),le=a.LngLat.convert(c.center||me);this._normalizeCenter(le);const Ie=v.project(me),We=v.project(le).sub(Ie);let _e=c.curve;const $e=Math.max(v.width,v.height),Ge=$e/re,Ze=We.mag();if("minZoom"in c){const Dt=a.clamp(Math.min(c.minZoom,b,U),v.minZoom,v.maxZoom),dn=$e/v.zoomScale(Dt-b);_e=Math.sqrt(dn/Ze*2)}const tt=_e*_e;function ft(Dt){const dn=(Ge*Ge-$e*$e+(Dt?-1:1)*tt*tt*Ze*Ze)/(2*(Dt?Ge:$e)*tt*Ze);return Math.log(Math.sqrt(dn*dn+1)-dn)}function at(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function pt(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}const Bt=ft(!1);let xr=function(Dt){return pt(Bt)/pt(Bt+_e*Dt)},wt=function(Dt){return $e*((pt(Bt)*(at(dn=Bt+_e*Dt)/pt(dn))-at(Bt))/tt)/Ze;var dn},er=(ft(!0)-Bt)/_e;if(Math.abs(Ze)<1e-6||!isFinite(er)){if(Math.abs($e-Ge)<1e-6)return this.easeTo(c,p);const Dt=Ge<$e?-1:1;er=Math.abs(Math.log(Ge/$e))/_e,wt=function(){return 0},xr=function(dn){return Math.exp(Dt*_e*dn)}}return c.duration="duration"in c?+c.duration:1e3*er/("screenSpeed"in c?+c.screenSpeed/_e:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=k!==H,this._pitching=G!==L,this._padding=!v.isPaddingEqual(K),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease(Dt=>{const dn=Dt*er,vr=1/xr(dn);v.zoom=Dt===1?U:b+v.scaleZoom(vr),this._rotating&&(v.bearing=a.interpolate.number(k,H,Dt)),this._pitching&&(v.pitch=a.interpolate.number(L,G,Dt)),this._padding&&(v.interpolatePadding(z,K,Dt),ce=v.centerPoint.add(ue)),this.terrain&&!c.freezeElevation&&this._updateElevation(Dt);const fr=Dt===1?le:v.unproject(Ie.add(We.mult(wt(dn))).mult(vr));v.setLocationAtPoint(v.renderWorldCopies?fr.wrap():fr,ce),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,p)}if(!c){const v=this.handlers;v&&v.stop(!1)}return this}_ease(c,p,v){v.animate===!1||v.duration===0?(c(1),p()):(this._easeStart=a.browser.now(),this._easeOptions=v,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.wrap(c,-180,180);const v=Math.abs(c-p);return Math.abs(c-360-p)<v&&(c-=360),Math.abs(c+360-p)<v&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const v=c.lng-p.center.lng;c.lng+=v>180?-360:v<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.LngLat.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Qx{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const v=this._map._getUIString(`AttributionControl.${p}`);c.title=v,c.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(b=>typeof b!="string"?"":b)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}const p=this._map.style.sourceCaches;for(const b in p){const k=p[b];if(k.used||k.usedForTerrain){const L=k.getSource();L.attribution&&c.indexOf(L.attribution)<0&&c.push(L.attribution)}}c=c.filter(b=>String(b).trim()),c.sort((b,k)=>b.length-k.length),c=c.filter((b,k)=>{for(let L=k+1;L<c.length;L++)if(c[L].indexOf(b)>=0)return!1;return!0});const v=c.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,c.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Ma{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const v=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class lp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,v=p?this._queue.concat(p):this._queue;for(const b of v)if(b.id===c)return void(b.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const v of p)if(!v.cancelled&&(v.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const qt={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Qt=a.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class cp extends a.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const v={};for(const b of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))v[b.key]=!0,this._renderableTilesKeys.push(b.key),this._tiles[b.key]||(b.posMatrix=new Float64Array(16),a.ortho(b.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[b.key]=new Hr(b,this.tileSize));for(const b in this._tiles)v[b]||delete this._tiles[b]}freeRtt(c){for(const p in this._tiles){const v=this._tiles[p];(!c||v.tileID.equals(c)||v.tileID.isChildOf(c)||c.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const v of this._renderableTilesKeys){const b=this._tiles[v].tileID;if(b.canonical.equals(c.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16),a.ortho(k.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[v]=k}else if(b.canonical.isChildOf(c.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16);const L=b.canonical.z-c.canonical.z,z=b.canonical.x-(b.canonical.x>>L<<L),U=b.canonical.y-(b.canonical.y>>L<<L),H=a.EXTENT>>L;a.ortho(k.posMatrix,0,H,0,H,0,1),a.translate(k.posMatrix,k.posMatrix,[-z*H,-U*H,0]),p[v]=k}else if(c.canonical.isChildOf(b.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16);const L=c.canonical.z-b.canonical.z,z=c.canonical.x-(c.canonical.x>>L<<L),U=c.canonical.y-(c.canonical.y>>L<<L),H=a.EXTENT>>L;a.ortho(k.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(k.posMatrix,k.posMatrix,[z*H,U*H,0]),a.scale(k.posMatrix,k.posMatrix,[1/2**L,1/2**L,0]),p[v]=k}}return p}getSourceTile(c,p){const v=this.sourceCache._source;let b=c.overscaledZ-this.deltaZoom;if(b>v.maxzoom&&(b=v.maxzoom),b<v.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(b).key);let k=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!k||!k.dem)&&p)for(;b>=v.minzoom&&(!k||!k.dem);)k=this.sourceCache.getTileByID(c.scaledTo(b--).key);return k}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class Iy{constructor(c,p,v){this.painter=c,this.sourceCache=new cp(p),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,v,b=a.EXTENT){var k;if(!(p>=0&&p<b&&v>=0&&v<b))return 0;const L=this.getTerrainData(c),z=(k=L.tile)===null||k===void 0?void 0:k.dem;if(!z)return 0;const U=function(ce,me,le){var Ie=me[0],We=me[1];return ce[0]=le[0]*Ie+le[4]*We+le[12],ce[1]=le[1]*Ie+le[5]*We+le[13],ce}([],[p/b*a.EXTENT,v/b*a.EXTENT],L.u_terrain_matrix),H=[U[0]*z.dim,U[1]*z.dim],G=Math.floor(H[0]),K=Math.floor(H[1]),re=H[0]-G,ue=H[1]-K;return z.get(G,K)*(1-re)*(1-ue)+z.get(G+1,K)*re*(1-ue)+z.get(G,K+1)*(1-re)*ue+z.get(G+1,K+1)*re*ue}getElevationForLngLatZoom(c,p){const{tileID:v,mercatorX:b,mercatorY:k}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(v,b%a.EXTENT,k%a.EXTENT,a.EXTENT)}getElevation(c,p,v,b=a.EXTENT){return this.getDEMElevation(c,p,v,b)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const b=this.painter.context,k=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Q(b,k,b.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Q(b,new a.RGBAImage({width:1,height:1}),b.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(b.gl.NEAREST,b.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const b=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new Q(b,p.dem.getPixels(),b.gl.RGBA,{premultiply:!1}),p.demTexture.bind(b.gl.NEAREST,b.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const v=p&&p+p.tileID.key+c.key;if(v&&!this._demMatrixCache[v]){const b=this.sourceCache.sourceCache._source.maxzoom;let k=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=b?k=c.canonical.z-b:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const L=c.canonical.x-(c.canonical.x>>k<<k),z=c.canonical.y-(c.canonical.y>>k<<k),U=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<k),1/(a.EXTENT<<k),0]);a.translate(U,U,[L*a.EXTENT,z*a.EXTENT,0]),this._demMatrixCache[c.key]={matrix:U,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,v=p.width/devicePixelRatio,b=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===b||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Q(p.context,{width:v,height:b,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Q(p.context,{width:v,height:b,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(v,b,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,v,b))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let k=0,L=0;k<this._coordsTextureSize;k++)for(let z=0;z<this._coordsTextureSize;z++,L+=4)p[L+0]=255&z,p[L+1]=255&k,p[L+2]=z>>8<<4|k>>8,p[L+3]=0;const v=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),b=new Q(c,v,c.gl.RGBA,{premultiply:!1});return b.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=b,b}pointCoordinate(c){const p=new Uint8Array(4),v=this.painter.context,b=v.gl;v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),b.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,b.RGBA,b.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null);const k=p[0]+(p[2]>>4<<8),L=p[1]+((15&p[2])<<8),z=this.coordsIndex[255-p[3]],U=z&&this.sourceCache.getTileByID(z);if(!U)return null;const H=this._coordsTextureSize,G=(1<<U.tileID.canonical.z)*H;return new a.MercatorCoordinate((U.tileID.canonical.x*H+k)/G,(U.tileID.canonical.y*H+L)/G,this.getElevation(U.tileID,k,L,H))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.Pos3dArray,v=new a.TriangleIndexArray,b=this.meshSize,k=a.EXTENT/b,L=b*b;for(let K=0;K<=b;K++)for(let re=0;re<=b;re++)p.emplaceBack(re*k,K*k,0);for(let K=0;K<L;K+=b+1)for(let re=0;re<b;re++)v.emplaceBack(re+K,b+re+K+1,b+re+K+2),v.emplaceBack(re+K,b+re+K+2,re+K+1);const z=p.length,U=z+2*(b+1);for(const K of[0,1])for(let re=0;re<=b;re++)for(const ue of[0,1])p.emplaceBack(re*k,K*a.EXTENT,ue);for(let K=0;K<2*b;K+=2)v.emplaceBack(U+K,U+K+1,U+K+3),v.emplaceBack(U+K,U+K+3,U+K+2),v.emplaceBack(z+K,z+K+3,z+K+1),v.emplaceBack(z+K,z+K+2,z+K+3);const H=p.length,G=H+2*(b+1);for(const K of[0,1])for(let re=0;re<=b;re++)for(const ue of[0,1])p.emplaceBack(K*a.EXTENT,re*k,ue);for(let K=0;K<2*b;K+=2)v.emplaceBack(H+K,H+K+1,H+K+3),v.emplaceBack(H+K,H+K+3,H+K+2),v.emplaceBack(G+K,G+K+3,G+K+1),v.emplaceBack(G+K,G+K+2,G+K+3);return this._mesh={indexBuffer:c.createIndexBuffer(v),vertexBuffer:c.createVertexBuffer(p,Qt.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,v.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.earthRadius/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var v;const{tileID:b}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(v=this.getMinMaxElevation(b).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,v={minElevation:null,maxElevation:null};return p&&p.dem&&(v.minElevation=p.dem.min*this.exaggeration,v.maxElevation=p.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(c,p){const v=a.MercatorCoordinate.fromLngLat(c.wrap()),b=(1<<p)*a.EXTENT,k=v.x*b,L=v.y*b,z=Math.floor(k/a.EXTENT),U=Math.floor(L/a.EXTENT);return{tileID:new a.OverscaledTileID(p,0,p,z,U),mercatorX:k,mercatorY:L}}}class Ry{constructor(c,p,v){this._context=c,this._size=p,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new Q(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(v.texture),{id:c,fbo:p,texture:v,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const vi={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class eb{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new Ry(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(v=>!c._layers[v].isHidden(p)),this._coordsDescendingInv={};for(const v in c.sourceCaches){this._coordsDescendingInv[v]={};const b=c.sourceCaches[v].getVisibleCoordinates();for(const k of b){const L=this.terrain.sourceCache.getTerrainCoords(k);for(const z in L)this._coordsDescendingInv[v][z]||(this._coordsDescendingInv[v][z]=[]),this._coordsDescendingInv[v][z].push(L[z])}}this._coordsDescendingInvStr={};for(const v of c._order){const b=c._layers[v],k=b.source;if(vi[b.type]&&!this._coordsDescendingInvStr[k]){this._coordsDescendingInvStr[k]={};for(const L in this._coordsDescendingInv[k])this._coordsDescendingInvStr[k][L]=this._coordsDescendingInv[k][L].map(z=>z.key).sort().join()}}for(const v of this._renderableTiles)for(const b in this._coordsDescendingInvStr){const k=this._coordsDescendingInvStr[b][v.tileID.key];k&&k!==v.rttCoords[b]&&(v.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,v=this.painter,b=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(vi[p]&&(this._prevType&&vi[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!b))return!0;if(vi[this._prevType]||vi[p]&&b){this._prevType=p;const k=this._stacks.length-1,L=this._stacks[k]||[];for(const z of this._renderableTiles){if(this.pool.isFull()&&(tp(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(z),z.rtt[k]){const H=this.pool.getObjectForId(z.rtt[k].id);if(H.stamp===z.rtt[k].stamp){this.pool.useObject(H);continue}}const U=this.pool.getOrCreateFreeObject();this.pool.useObject(U),this.pool.stampObject(U),z.rtt[k]={id:U.id,stamp:U.stamp},v.context.bindFramebuffer.set(U.fbo.framebuffer),v.context.clear({color:a.Color.transparent,stencil:0}),v.currentStencilSource=void 0;for(let H=0;H<L.length;H++){const G=v.style._layers[L[H]],K=G.source?this._coordsDescendingInv[G.source][z.tileID.key]:[z.tileID];v.context.viewport.set([0,0,U.fbo.width,U.fbo.height]),v._renderTileClippingMasks(G,K),v.renderLayer(v,v.style.sourceCaches[G.source],G,K),G.source&&(z.rttCoords[G.source]=this._coordsDescendingInvStr[G.source][z.tileID.key])}}return tp(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),vi[p]}return!1}}const as=f,BC={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},$u=S=>{S.touchstart=S.dragStart,S.touchmoveWindow=S.dragMove,S.touchend=S.dragEnd},Rn={showCompass:!0,showZoom:!0,visualizePitch:!1};class ri{constructor(c,p,v=!1){this.mousedown=L=>{this.startMouse(a.extend({},L,{ctrlKey:!0,preventDefault:()=>L.preventDefault()}),h.mousePos(this.element,L)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.moveMouse(L,h.mousePos(this.element,L))},this.mouseup=L=>{this.mouseRotate.dragEnd(L),this.mousePitch&&this.mousePitch.dragEnd(L),this.offTemp()},this.touchstart=L=>{L.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,L.targetTouches)[0],this.startTouch(L,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{L.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,L.targetTouches)[0],this.moveTouch(L,this._lastPos))},this.touchend=L=>{L.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const b=c.dragRotate._mouseRotate.getClickTolerance(),k=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=kt({clickTolerance:b,enable:!0}),this.touchRotate=(({enable:L,clickTolerance:z,bearingDegreesPerPixelMoved:U=.8})=>{const H=new Iu;return new Pt({clickTolerance:z,move:(G,K)=>({bearingDelta:(K.x-G.x)*U}),moveStateManager:H,enable:L,assignEvents:$u})})({clickTolerance:b,enable:!0}),this.map=c,v&&(this.mousePitch=ap({clickTolerance:k,enable:!0}),this.touchPitch=(({enable:L,clickTolerance:z,pitchDegreesPerPixelMoved:U=-.5})=>{const H=new Iu;return new Pt({clickTolerance:z,move:(G,K)=>({pitchDelta:(K.y-G.y)*U}),moveStateManager:H,enable:L,assignEvents:$u})})({clickTolerance:k,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const v=this.map,{bearingDelta:b}=this.mouseRotate.dragMove(c,p)||{};if(b&&v.setBearing(v.getBearing()+b),this.mousePitch){const{pitchDelta:k}=this.mousePitch.dragMove(c,p)||{};k&&v.setPitch(v.getPitch()+k)}}moveTouch(c,p){const v=this.map,{bearingDelta:b}=this.touchRotate.dragMove(c,p)||{};if(b&&v.setBearing(v.getBearing()+b),this.touchPitch){const{pitchDelta:k}=this.touchPitch.dragMove(c,p)||{};k&&v.setPitch(v.getPitch()+k)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let Vs;function Du(S,c,p){if(S=new a.LngLat(S.lng,S.lat),c){const v=new a.LngLat(S.lng-360,S.lat),b=new a.LngLat(S.lng+360,S.lat),k=p.locationPoint(S).distSqr(c);p.locationPoint(v).distSqr(c)<k?S=v:p.locationPoint(b).distSqr(c)<k&&(S=b)}for(;Math.abs(S.lng-p.center.lng)>180;){const v=p.locationPoint(S);if(v.x>=0&&v.y>=0&&v.x<=p.width&&v.y<=p.height)break;S.lng>p.center.lng?S.lng-=360:S.lng+=360}return S}const Lu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function up(S,c,p){const v=S.classList;for(const b in Lu)v.remove(`maplibregl-${p}-anchor-${b}`);v.add(`maplibregl-${p}-anchor-${c}`)}class xf extends a.Evented{constructor(c){if(super(),this._onKeyPress=p=>{const v=p.code,b=p.charCode||p.keyCode;v!=="Space"&&v!=="Enter"&&b!==32&&b!==13||this.togglePopup()},this._onMapClick=p=>{const v=p.originalEvent.target,b=this._element;this._popup&&(v===b||b.contains(v))&&this.togglePopup()},this._update=p=>{if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Du(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${Lu[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const k=this._map.unproject(this._pos),L=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=k.distanceTo(this._lngLat)>20*L?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),v=41,b=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${v}px`),p.setAttributeNS(null,"width",`${b}px`),p.setAttributeNS(null,"viewBox",`0 0 ${b} ${v}`);const k=h.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"stroke","none"),k.setAttributeNS(null,"stroke-width","1"),k.setAttributeNS(null,"fill","none"),k.setAttributeNS(null,"fill-rule","evenodd");const L=h.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill-rule","nonzero");const z=h.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const U=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ie of U){const We=h.createNS("http://www.w3.org/2000/svg","ellipse");We.setAttributeNS(null,"opacity","0.04"),We.setAttributeNS(null,"cx","10.5"),We.setAttributeNS(null,"cy","5.80029008"),We.setAttributeNS(null,"rx",Ie.rx),We.setAttributeNS(null,"ry",Ie.ry),z.appendChild(We)}const H=h.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"fill",this._color);const G=h.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),H.appendChild(G);const K=h.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const re=h.createNS("http://www.w3.org/2000/svg","path");re.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(re);const ue=h.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ue.setAttributeNS(null,"fill","#FFFFFF");const ce=h.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=h.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const le=h.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#FFFFFF"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962"),ce.appendChild(me),ce.appendChild(le),L.appendChild(z),L.appendChild(H),L.appendChild(K),L.appendChild(ue),L.appendChild(ce),p.appendChild(L),p.setAttributeNS(null,"height",v*this._scale+"px"),p.setAttributeNS(null,"width",b*this._scale+"px"),this._element.appendChild(p),this._offset=a.Point.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),up(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const b=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(38.1-13.5+b)],"bottom-right":[-b,-1*(38.1-13.5+b)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.Point.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const $y={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Ml=0,Tc=!1;const Dy={maxWidth:100,unit:"metric"};function dp(S,c,p){const v=p&&p.maxWidth||100,b=S._container.clientHeight/2,k=S.unproject([0,b]),L=S.unproject([v,b]),z=k.distanceTo(L);if(p&&p.unit==="imperial"){const U=3.2808*z;U>5280?Pc(c,v,U/5280,S._getUIString("ScaleControl.Miles")):Pc(c,v,U,S._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?Pc(c,v,z/1852,S._getUIString("ScaleControl.NauticalMiles")):z>=1e3?Pc(c,v,z/1e3,S._getUIString("ScaleControl.Kilometers")):Pc(c,v,z,S._getUIString("ScaleControl.Meters"))}function Pc(S,c,p,v){const b=function(k){const L=Math.pow(10,`${Math.floor(k)}`.length-1);let z=k/L;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:function(U){const H=Math.pow(10,Math.ceil(-Math.log(U)/Math.LN10));return Math.round(U*H)/H}(z),L*z}(p);S.style.width=c*(b/p)+"px",S.innerHTML=`${b}&nbsp;${v}`}const Ly={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ny=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function fp(S){if(S){if(typeof S=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(S,2)));return{center:new a.Point(0,0),top:new a.Point(0,S),"top-left":new a.Point(c,c),"top-right":new a.Point(-c,c),bottom:new a.Point(0,-S),"bottom-left":new a.Point(c,-c),"bottom-right":new a.Point(-c,-c),left:new a.Point(S,0),right:new a.Point(-S,0)}}if(S instanceof a.Point||Array.isArray(S)){const c=a.Point.convert(S);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.Point.convert(S.center||[0,0]),top:a.Point.convert(S.top||[0,0]),"top-left":a.Point.convert(S["top-left"]||[0,0]),"top-right":a.Point.convert(S["top-right"]||[0,0]),bottom:a.Point.convert(S.bottom||[0,0]),"bottom-left":a.Point.convert(S["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(S["bottom-right"]||[0,0]),left:a.Point.convert(S.left||[0,0]),right:a.Point.convert(S.right||[0,0])}}return fp(new a.Point(0,0))}const zy={extend:(S,...c)=>a.extend(S,...c),run(S){S()},logToElement(S,c=!1,p="log"){const v=window.document.getElementById(p);v&&(c&&(v.innerHTML=""),v.innerHTML+=`<br>${S}`)}},hp=f;class zr{static get version(){return hp}static get workerCount(){return Ir.workerCount}static set workerCount(c){Ir.workerCount=c}static get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.config.WORKER_URL}static set workerUrl(c){a.config.WORKER_URL=c}static addProtocol(c,p){a.config.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.config.REGISTERED_PROTOCOLS[c]}}return zr.Map=class extends Jx{constructor(S){if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(S=a.extend({},BC,S)).minZoom!=null&&S.maxZoom!=null&&S.minZoom>S.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(S.minPitch!=null&&S.maxPitch!=null&&S.minPitch>S.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(S.minPitch!=null&&S.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(S.maxPitch!=null&&S.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new ip(S.minZoom,S.maxZoom,S.minPitch,S.maxPitch,S.renderWorldCopies),{bearingSnap:S.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=S.interactive,this._cooperativeGestures=S.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=S.maxTileCacheSize,this._maxTileCacheZoomLevels=S.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=S.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=S.preserveDrawingBuffer,this._antialias=S.antialias,this._trackResize=S.trackResize,this._bearingSnap=S.bearingSnap,this._refreshExpiredTiles=S.refreshExpiredTiles,this._fadeDuration=S.fadeDuration,this._crossSourceCollisions=S.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=S.collectResourceTiming,this._renderTaskQueue=new lp,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},qt,S.locale),this._clickTolerance=S.clickTolerance,this._overridePixelRatio=S.pixelRatio,this._maxCanvasSize=S.maxCanvasSize,this.transformCameraUpdate=S.transformCameraUpdate,this._imageQueueHandle=M.addThrottleControl(()=>this.isMoving()),this._requestManager=new I(S.transformRequest),typeof S.container=="string"){if(this._container=document.getElementById(S.container),!this._container)throw new Error(`Container '${S.container}' not found.`)}else{if(!(S.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=S.container}if(S.maxBounds&&this.setMaxBounds(S.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;this._resizeObserver=new ResizeObserver(p=>{c?this._trackResize&&this.resize(p)._update():c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Xx(this,S),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=S.hash&&new Sc(typeof S.hash=="string"&&S.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch}),S.bounds&&(this.resize(),this.fitBounds(S.bounds,a.extend({},S.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=S.localIdeographFontFamily,this._validateStyle=S.validateStyle,S.style&&this.setStyle(S.style,{localIdeographFontFamily:S.localIdeographFontFamily}),S.attributionControl&&this.addControl(new Qx({customAttribution:S.customAttribution})),S.maplibreLogo&&this.addControl(new Ma,S.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.Event(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.Event("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(S,c){if(c===void 0&&(c=S.getDefaultPosition?S.getDefaultPosition():"top-right"),!S||!S.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=S.onAdd(this);this._controls.push(S);const v=this._controlPositions[c];return c.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this}removeControl(S){if(!S||!S.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(S);return c>-1&&this._controls.splice(c,1),S.onRemove(this),this}hasControl(S){return this._controls.indexOf(S)>-1}calculateCameraOptionsFromTo(S,c,p,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(S,c,p,v)}resize(S){var c;const p=this._containerDimensions(),v=p[0],b=p[1],k=this._getClampedPixelRatio(v,b);if(this._resizeCanvas(v,b,k),this.painter.resize(v,b,k),this.painter.overLimit()){const z=this.painter.context.gl;this._maxCanvasSize=[z.drawingBufferWidth,z.drawingBufferHeight];const U=this._getClampedPixelRatio(v,b);this._resizeCanvas(v,b,U),this.painter.resize(v,b,U)}this.transform.resize(v,b),(c=this._requestedCameraState)===null||c===void 0||c.resize(v,b);const L=!this._moving;return L&&(this.stop(),this.fire(new a.Event("movestart",S)).fire(new a.Event("move",S))),this.fire(new a.Event("resize",S)),L&&this.fire(new a.Event("moveend",S)),this}_getClampedPixelRatio(S,c){const{0:p,1:v}=this._maxCanvasSize,b=this.getPixelRatio(),k=S*b,L=c*b;return Math.min(k>p?p/k:1,L>v?v/L:1)*b}getPixelRatio(){var S;return(S=this._overridePixelRatio)!==null&&S!==void 0?S:devicePixelRatio}setPixelRatio(S){this._overridePixelRatio=S,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(S){return this.transform.setMaxBounds(Le.convert(S)),this._update()}setMinZoom(S){if((S=S??-2)>=-2&&S<=this.transform.maxZoom)return this.transform.minZoom=S,this._update(),this.getZoom()<S&&this.setZoom(S),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(S){if((S=S??22)>=this.transform.minZoom)return this.transform.maxZoom=S,this._update(),this.getZoom()>S&&this.setZoom(S),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(S){if((S=S??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(S>=0&&S<=this.transform.maxPitch)return this.transform.minPitch=S,this._update(),this.getPitch()<S&&this.setPitch(S),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(S){if((S=S??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(S>=this.transform.minPitch)return this.transform.maxPitch=S,this._update(),this.getPitch()>S&&this.setPitch(S),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(S){return this.transform.renderWorldCopies=S,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(S){return this._cooperativeGestures=S,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(S){return this.transform.locationPoint(a.LngLat.convert(S),this.style&&this.terrain)}unproject(S){return this.transform.pointLocation(a.Point.convert(S),this.terrain)}isMoving(){var S;return this._moving||((S=this.handlers)===null||S===void 0?void 0:S.isMoving())}isZooming(){var S;return this._zooming||((S=this.handlers)===null||S===void 0?void 0:S.isZooming())}isRotating(){var S;return this._rotating||((S=this.handlers)===null||S===void 0?void 0:S.isRotating())}_createDelegatedListener(S,c,p){if(S==="mouseenter"||S==="mouseover"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:k=>{const L=this.getLayer(c)?this.queryRenderedFeatures(k.point,{layers:[c]}):[];L.length?v||(v=!0,p.call(this,new ti(S,this,k.originalEvent,{features:L}))):v=!1},mouseout:()=>{v=!1}}}}if(S==="mouseleave"||S==="mouseout"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:L=>{(this.getLayer(c)?this.queryRenderedFeatures(L.point,{layers:[c]}):[]).length?v=!0:v&&(v=!1,p.call(this,new ti(S,this,L.originalEvent)))},mouseout:L=>{v&&(v=!1,p.call(this,new ti(S,this,L.originalEvent)))}}}}{const v=b=>{const k=this.getLayer(c)?this.queryRenderedFeatures(b.point,{layers:[c]}):[];k.length&&(b.features=k,p.call(this,b),delete b.features)};return{layer:c,listener:p,delegates:{[S]:v}}}}on(S,c,p){if(p===void 0)return super.on(S,c);const v=this._createDelegatedListener(S,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[S]=this._delegatedListeners[S]||[],this._delegatedListeners[S].push(v);for(const b in v.delegates)this.on(b,v.delegates[b]);return this}once(S,c,p){if(p===void 0)return super.once(S,c);const v=this._createDelegatedListener(S,c,p);for(const b in v.delegates)this.once(b,v.delegates[b]);return this}off(S,c,p){return p===void 0?super.off(S,c):(this._delegatedListeners&&this._delegatedListeners[S]&&(v=>{const b=this._delegatedListeners[S];for(let k=0;k<b.length;k++){const L=b[k];if(L.layer===c&&L.listener===p){for(const z in L.delegates)this.off(z,L.delegates[z]);return b.splice(k,1),this}}})(),this)}queryRenderedFeatures(S,c){if(!this.style)return[];let p;const v=S instanceof a.Point||Array.isArray(S),b=v?S:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(v?{}:S)||{},b instanceof a.Point||typeof b[0]=="number")p=[a.Point.convert(b)];else{const k=a.Point.convert(b[0]),L=a.Point.convert(b[1]);p=[k,new a.Point(L.x,k.y),L,new a.Point(k.x,L.y),k]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(S,c){return this.style.querySourceFeatures(S,c)}setStyle(S,c){return(c=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&S?(this._diffStyle(S,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(S,c))}setTransformRequest(S){return this._requestManager.setTransformRequest(S),this}_getUIString(S){const c=this._locale[S];if(c==null)throw new Error(`Missing UI string '${S}'`);return c}_updateStyle(S,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(S,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!S)),S?(this.style=new qi(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof S=="string"?this.style.loadURL(S,c,p):this.style.loadJSON(S,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new qi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(S,c){if(typeof S=="string"){const p=this._requestManager.transformRequest(S,O.Style);a.getJSON(p,(v,b)=>{v?this.fire(new a.ErrorEvent(v)):b&&this._updateDiff(b,c)})}else typeof S=="object"&&this._updateDiff(S,c)}_updateDiff(S,c){try{this.style.setState(S,c)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(S,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(S,c){return this._lazyInitEmptyStyle(),this.style.addSource(S,c),this._update(!0)}isSourceLoaded(S){const c=this.style&&this.style.sourceCaches[S];if(c!==void 0)return c.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${S}'`)))}setTerrain(S){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),S){const c=this.style.sourceCaches[S.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${S.source}`);for(const p in this.style._layers){const v=this.style._layers[p];v.type==="hillshade"&&v.source===S.source&&a.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Iy(this.painter,c,S),this.painter.renderToTexture=new eb(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==S.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.Event("terrain",{terrain:S})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const S=this.style&&this.style.sourceCaches;for(const c in S){const p=S[c]._tiles;for(const v in p){const b=p[v];if(b.state!=="loaded"&&b.state!=="errored")return!1}}return!0}addSourceType(S,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(S,c,p)}removeSource(S){return this.style.removeSource(S),this._update(!0)}getSource(S){return this.style.getSource(S)}addImage(S,c,p={}){const{pixelRatio:v=1,sdf:b=!1,stretchX:k,stretchY:L,content:z}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.isImageBitmap(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:U,height:H,data:G}=c,K=c;return this.style.addImage(S,{data:new a.RGBAImage({width:U,height:H},new Uint8Array(G)),pixelRatio:v,stretchX:k,stretchY:L,content:z,sdf:b,version:0,userImage:K}),K.onAdd&&K.onAdd(this,S),this}}{const{width:U,height:H,data:G}=a.browser.getImageData(c);this.style.addImage(S,{data:new a.RGBAImage({width:U,height:H},G),pixelRatio:v,stretchX:k,stretchY:L,content:z,sdf:b,version:0})}}updateImage(S,c){const p=this.style.getImage(S);if(!p)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=c instanceof HTMLImageElement||a.isImageBitmap(c)?a.browser.getImageData(c):c,{width:b,height:k,data:L}=v;if(b===void 0||k===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(b!==p.data.width||k!==p.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const z=!(c instanceof HTMLImageElement||a.isImageBitmap(c));return p.data.replace(L,z),this.style.updateImage(S,p),this}getImage(S){return this.style.getImage(S)}hasImage(S){return S?!!this.style.getImage(S):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(S){this.style.removeImage(S)}loadImage(S,c){M.getImage(this._requestManager.transformRequest(S,O.Image),c)}listImages(){return this.style.listImages()}addLayer(S,c){return this._lazyInitEmptyStyle(),this.style.addLayer(S,c),this._update(!0)}moveLayer(S,c){return this.style.moveLayer(S,c),this._update(!0)}removeLayer(S){return this.style.removeLayer(S),this._update(!0)}getLayer(S){return this.style.getLayer(S)}setLayerZoomRange(S,c,p){return this.style.setLayerZoomRange(S,c,p),this._update(!0)}setFilter(S,c,p={}){return this.style.setFilter(S,c,p),this._update(!0)}getFilter(S){return this.style.getFilter(S)}setPaintProperty(S,c,p,v={}){return this.style.setPaintProperty(S,c,p,v),this._update(!0)}getPaintProperty(S,c){return this.style.getPaintProperty(S,c)}setLayoutProperty(S,c,p,v={}){return this.style.setLayoutProperty(S,c,p,v),this._update(!0)}getLayoutProperty(S,c){return this.style.getLayoutProperty(S,c)}setGlyphs(S,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(S,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(S,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(S,c,p,v=>{v||this._update(!0)}),this}removeSprite(S){return this._lazyInitEmptyStyle(),this.style.removeSprite(S),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(S,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(S,c,p=>{p||this._update(!0)}),this}setLight(S,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(S,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(S,c){return this.style.setFeatureState(S,c),this._update()}removeFeatureState(S,c){return this.style.removeFeatureState(S,c),this._update()}getFeatureState(S){return this.style.getFeatureState(S)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let S=0,c=0;return this._container&&(S=this._container.clientWidth||400,c=this._container.clientHeight||300),[S,c]}_setupContainer(){const S=this._container;S.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",S);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),v=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],v);const b=this._controlContainer=h.create("div","maplibregl-control-container",S),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(L=>{k[L]=h.create("div",`maplibregl-ctrl-${L} `,b)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${S}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(S,c,p){this._canvas.width=Math.floor(p*S),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${S}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const S={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{c={requestedAttributes:S},v&&(c.statusMessage=v.statusMessage,c.type=v.type)},{once:!0});const p=this._canvas.getContext("webgl2",S)||this._canvas.getContext("webgl",S);if(!p){const v="Failed to initialize WebGL";throw c?(c.message=v,new Error(JSON.stringify(c))):new Error(v)}this.painter=new zx(p,this.transform),g.testSupport(p)}_onCooperativeGesture(S,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(S){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||S,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(S){return this._update(),this._renderTaskQueue.add(S)}_cancelRenderFrame(S){this._renderTaskQueue.remove(S)}_render(S){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(S),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const b=this.transform.zoom,k=a.browser.now();this.style.zoomHistory.update(b,k);const L=new a.EvaluationParameters(b,{now:k,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),z=L.crossFadingFactor();z===1&&z===this._crossFadingFactor||(p=!0,this._crossFadingFactor=z),this.style.update(L)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const v=this._sourcesDirty||this._styleDirty||this._placementDirty;return v||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||v||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var S;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),M.removeThrottleControl(this._imageQueueHandle),(S=this._resizeObserver)===null||S===void 0||S.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.browser.frame(S=>{a.PerformanceUtils.frame(S),this._frame=null,this._render(S)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(S){this._showTileBoundaries!==S&&(this._showTileBoundaries=S,this._update())}get showPadding(){return!!this._showPadding}set showPadding(S){this._showPadding!==S&&(this._showPadding=S,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(S){this._showCollisionBoxes!==S&&(this._showCollisionBoxes=S,S?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(S){this._showOverdrawInspector!==S&&(this._showOverdrawInspector=S,this._update())}get repaint(){return!!this._repaint}set repaint(S){this._repaint!==S&&(this._repaint=S,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(S){this._vertices=S,this._update()}get version(){return as}getCameraTargetElevation(){return this.transform.elevation}},zr.NavigationControl=class{constructor(S){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),v=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const v=this._map._getUIString(`NavigationControl.${p}`);c.title=v,c.setAttribute("aria-label",v)},this.options=a.extend({},Rn,S),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(S){return this._map=S,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ri(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(S,c){const p=h.create("button",S,this._container);return p.type="button",p.addEventListener("click",c),p}},zr.GeolocateControl=class extends a.Evented{constructor(S){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.Event("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.LngLat(c.coords.longitude,c.coords.latitude),v=c.coords.accuracy,b=this._map.getBearing(),k=a.extend({bearing:b},this.options.fitBoundsOptions),L=Le.fromLngLat(p,v);this._map.fitBounds(L,k,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&Tc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.Event("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new xf({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new xf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}},this.options=a.extend({},$y,S)}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){Vs===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(v=>{Vs=v.state!=="denied",c(Vs)}).catch(()=>{Vs=!!window.navigator.geolocation,c(Vs)}):(Vs=!!window.navigator.geolocation,c(Vs)):c(Vs)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ml=0,Tc=!1}_isOutOfMapMaxBounds(S){const c=this._map.getMaxBounds(),p=S.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const S=this._map.getBounds(),c=S.getSouthEast(),p=S.getNorthEast(),v=c.distanceTo(p),b=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${b}px`,this._circleElement.style.height=`${b}px`}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ml--,Tc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let S;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ml++,Ml>1?(S={maximumAge:6e5,timeout:0},Tc=!0):(S=this.options.positionOptions,Tc=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,S)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},zr.AttributionControl=Qx,zr.LogoControl=Ma,zr.ScaleControl=class{constructor(S){this._onMove=()=>{dp(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,dp(this._map,this._container,this.options)},this.options=a.extend({},Dy,S)}getDefaultPosition(){return"bottom-left"}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",S.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},zr.FullscreenControl=class extends a.Evented{constructor(S={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,S&&S.container&&(S.container instanceof HTMLElement?this._container=S.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(S){return this._map=S,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const S=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",S).setAttribute("aria-hidden","true"),S.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const S=this._getTitle();this._fullscreenButton.setAttribute("aria-label",S),this._fullscreenButton.title=S}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},zr.TerrainControl=class{constructor(S){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=S}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},zr.Popup=class extends a.Evented{constructor(S){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const L of this.options.className.split(" "))this._container.classList.add(L);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Du(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let v=this.options.anchor;const b=fp(this.options.offset);if(!v){const L=this._container.offsetWidth,z=this._container.offsetHeight;let U;U=p.y+b.bottom.y<z?["top"]:p.y>this._map.transform.height-z?["bottom"]:[],p.x<L/2?U.push("left"):p.x>this._map.transform.width-L/2&&U.push("right"),v=U.length===0?"bottom":U.join("-")}const k=p.add(b[v]).round();h.setTransform(this._container,`${Lu[v]} translate(${k.x}px,${k.y}px)`),up(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=a.extend(Object.create(Ly),S)}addTo(S){return this._map&&this.remove(),this._map=S,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(S){return this._lngLat=a.LngLat.convert(S),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(S){return this.setDOMContent(document.createTextNode(S))}setHTML(S){const c=document.createDocumentFragment(),p=document.createElement("body");let v;for(p.innerHTML=S;v=p.firstChild,v;)c.appendChild(v);return this.setDOMContent(c)}getMaxWidth(){var S;return(S=this._container)===null||S===void 0?void 0:S.style.maxWidth}setMaxWidth(S){return this.options.maxWidth=S,this._update(),this}setDOMContent(S){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(S),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(S){this._container&&this._container.classList.add(S)}removeClassName(S){this._container&&this._container.classList.remove(S)}setOffset(S){return this.options.offset=S,this._update(),this}toggleClassName(S){if(this._container)return this._container.classList.toggle(S)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const S=this._container.querySelector(Ny);S&&S.focus()}},zr.Marker=xf,zr.Style=qi,zr.LngLat=a.LngLat,zr.LngLatBounds=Le,zr.Point=a.Point,zr.MercatorCoordinate=a.MercatorCoordinate,zr.Evented=a.Evented,zr.AJAXError=a.AJAXError,zr.config=a.config,zr.CanvasSource=Me,zr.GeoJSONSource=Ve,zr.ImageSource=ct,zr.RasterDEMTileSource=it,zr.RasterTileSource=lt,zr.VectorTileSource=Be,zr.VideoSource=Fe,zr.setRTLTextPlugin=a.setRTLTextPlugin,zr.getRTLTextPluginStatus=a.getRTLTextPluginStatus,zr.prewarm=function(){Jt().acquire(ut)},zr.clearPrewarmedResources=function(){const S=mr;S&&(S.isPreloaded()&&S.numActive()===1?(S.release(ut),mr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},zy.extend(zr,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),zr});var s=i;return s})})(d7);var Q0e=d7.exports;const hE=Jr(Q0e);class e_e{constructor(t,r,n){this.onBeforeSwitch=t,this.onSwitch=r,this.onAfterSwitch=n,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,r){this.styles=t;let n=null;for(const o of this.styles)if(o.id===(this.currentStyle||r)){n=o.id;break}for(n||(n=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:f}=a;f.classList.contains("active")||this.onSelectStyle(f)}),o.id===n&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==n&&(this.onSelectStyle(i),this.currentStyle=n)}onSelectStyle(t){this.onBeforeSwitch();const r=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(r.style,{diff:!1}),this.map.setTransformRequest(r.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const n=this.mapStyleContainer.getElementsByClassName("active");for(;n[0];)n[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const t_e=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},Mo=({tiles:e,minZoom:t,maxZoom:r,attribution:n})=>{const i={type:"raster",tiles:e,attribution:n,tileSize:256,minzoom:t,maxzoom:r};let o=window.location.origin.slice(0,-5),s=8484;return Object.keys(i).forEach(a=>i[a]===void 0&&delete i[a]),{version:8,sources:{custom:i},glyphs:`${o}:${s}/map/fonts/{fontstack}/{range}.pbf`,layers:[{id:"custom",type:"raster",source:"custom"}]}},r_e=()=>{const e="mykey",t="pk.0f147952a41c555a5b70614039fd148b",r="mykey",n="mykey",i="mykey",o="mykey";return[{id:"osm",title:"mapOsm",style:Mo({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${t}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Mo({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Mo({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Mo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Mo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Mo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Mo({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!r,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Mo({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!r,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Mo({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!r,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${n}`,available:!!n,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Mo({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Mo({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Mo({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Mo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Mo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Mo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:Mo({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19}),available:!0}]},ag=document.createElement("div");ag.style.width="100%";ag.style.height="100%";ag.style.boxSizing="initial";const Qe=new hE.Map({container:ag,attributionControl:!1,zoom:14});let b$=!1;const w$=new Set,n_e=e=>{w$.add(e),e(b$)},i_e=e=>{w$.delete(e)},h7=e=>{b$=e,w$.forEach(t=>t(e))},o_e=async()=>{b$||(Qe.hasImage("background")||(Object.entries(Xu).forEach(([e,t])=>{Qe.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),Qe.easeTo({center:[-6.0025,37.412],zoom:Math.max(Qe.getZoom(),5),offset:[0,-1/2]})),h7(!0))};Qe.addControl(new hE.NavigationControl);const p7=new e_e(()=>h7(!1),e=>t_e("selectedMapStyle",e),()=>{Qe.once("styledata",()=>{const e=()=>{Qe.loaded()?o_e():setTimeout(e,33)};e()})});Qe.addControl(p7);const m7=({children:e})=>{const t=V.useRef(null),[r,n]=V.useState(!1),i=r_e(),o="osm,locationIqStreets,carto,custom",[s]="osm",a="my tocken",f=21;return V.useEffect(()=>{Qe.setMaxZoom(f)},[f]),V.useEffect(()=>{hE.accessToken=a},[a]),V.useEffect(()=>{const h=i.filter(y=>y.available&&o.includes(y.id)),g=h.length?h:i.filter(y=>y.id==="osm");p7.updateStyles(g,s)},[i,s]),V.useEffect(()=>{const h=g=>n(g);return n_e(h),()=>{i_e(h)}},[]),V.useLayoutEffect(()=>{const h=t.current;return h.appendChild(ag),Qe.resize(),()=>{h.removeChild(ag)}},[t]),B.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:r&&e})},S$=Symbol.for("yaml.alias"),SM=Symbol.for("yaml.document"),Td=Symbol.for("yaml.map"),g7=Symbol.for("yaml.pair"),pu=Symbol.for("yaml.scalar"),Bg=Symbol.for("yaml.seq"),Is=Symbol.for("yaml.node.type"),Ph=e=>!!e&&typeof e=="object"&&e[Is]===S$,Fg=e=>!!e&&typeof e=="object"&&e[Is]===SM,Ug=e=>!!e&&typeof e=="object"&&e[Is]===Td,Zn=e=>!!e&&typeof e=="object"&&e[Is]===g7,On=e=>!!e&&typeof e=="object"&&e[Is]===pu,Vg=e=>!!e&&typeof e=="object"&&e[Is]===Bg;function ai(e){if(e&&typeof e=="object")switch(e[Is]){case Td:case Bg:return!0}return!1}function Ei(e){if(e&&typeof e=="object")switch(e[Is]){case S$:case Td:case pu:case Bg:return!0}return!1}const a_e=e=>(On(e)||ai(e))&&!!e.anchor,va=Symbol("break visit"),y7=Symbol("skip children"),rc=Symbol("remove node");function Nd(e,t){const r=v7(t);Fg(e)?um(null,e.contents,r,Object.freeze([e]))===rc&&(e.contents=null):um(null,e,r,Object.freeze([]))}Nd.BREAK=va;Nd.SKIP=y7;Nd.REMOVE=rc;function um(e,t,r,n){const i=_7(e,t,r,n);if(Ei(i)||Zn(i))return x7(e,n,i),um(e,i,r,n);if(typeof i!="symbol"){if(ai(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const s=um(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===va)return va;s===rc&&(t.items.splice(o,1),o-=1)}}}else if(Zn(t)){n=Object.freeze(n.concat(t));const o=um("key",t.key,r,n);if(o===va)return va;o===rc&&(t.key=null);const s=um("value",t.value,r,n);if(s===va)return va;s===rc&&(t.value=null)}}return i}async function pE(e,t){const r=v7(t);Fg(e)?await dm(null,e.contents,r,Object.freeze([e]))===rc&&(e.contents=null):await dm(null,e,r,Object.freeze([]))}pE.BREAK=va;pE.SKIP=y7;pE.REMOVE=rc;async function dm(e,t,r,n){const i=await _7(e,t,r,n);if(Ei(i)||Zn(i))return x7(e,n,i),dm(e,i,r,n);if(typeof i!="symbol"){if(ai(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const s=await dm(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===va)return va;s===rc&&(t.items.splice(o,1),o-=1)}}}else if(Zn(t)){n=Object.freeze(n.concat(t));const o=await dm("key",t.key,r,n);if(o===va)return va;o===rc&&(t.key=null);const s=await dm("value",t.value,r,n);if(s===va)return va;s===rc&&(t.value=null)}}return i}function v7(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function _7(e,t,r,n){var i,o,s,a,f;if(typeof r=="function")return r(e,t,n);if(Ug(t))return(i=r.Map)==null?void 0:i.call(r,e,t,n);if(Vg(t))return(o=r.Seq)==null?void 0:o.call(r,e,t,n);if(Zn(t))return(s=r.Pair)==null?void 0:s.call(r,e,t,n);if(On(t))return(a=r.Scalar)==null?void 0:a.call(r,e,t,n);if(Ph(t))return(f=r.Alias)==null?void 0:f.call(r,e,t,n)}function x7(e,t,r){const n=t[t.length-1];if(ai(n))n.items[e]=r;else if(Zn(n))e==="key"?n.key=r:n.value=r;else if(Fg(n))n.contents=r;else{const i=Ph(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const s_e={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},l_e=e=>e.replace(/[!,[\]{}]/g,t=>s_e[t]);class na{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},na.defaultYaml,t),this.tags=Object.assign({},na.defaultTags,r)}clone(){const t=new na(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new na(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:na.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},na.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:na.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},na.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[o]=n;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return r(6,`Unsupported YAML version ${o}`,s),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}const[,n,i]=t.match(/^(.*!)([^!]*)$/);i||r(`The ${t} tag has no suffix`);const o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+l_e(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(t&&n.length>0&&Ei(t.contents)){const o={};Nd(t.contents,(s,a)=>{Ei(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}}na.defaultYaml={explicit:!1,version:"1.2"};na.defaultTags={"!!":"tag:yaml.org,2002:"};function b7(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function w7(e){const t=new Set;return Nd(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function S7(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function c_e(e,t){const r=[],n=new Map;let i=null;return{onAnchor:o=>{r.push(o),i||(i=w7(e));const s=S7(t,i);return i.add(s),s},setAnchors:()=>{for(const o of r){const s=n.get(o);if(typeof s=="object"&&s.anchor&&(On(s.node)||ai(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}function fm(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){const s=n[i],a=fm(e,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const o=n.get(i),s=fm(e,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(const i of Array.from(n)){const o=fm(e,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(const[i,o]of Object.entries(n)){const s=fm(e,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return e.call(t,r,n)}function Es(e,t,r){if(Array.isArray(e))return e.map((n,i)=>Es(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!a_e(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};const i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!(r!=null&&r.keep)?Number(e):e}class E${constructor(t){Object.defineProperty(this,Is,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:o}={}){if(!Fg(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=Es(this,"",s);if(typeof i=="function")for(const{count:f,res:h}of s.anchors.values())i(h,f);return typeof o=="function"?fm(o,{"":a},"",a):a}}class mE extends E${constructor(t){super(S$),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return Nd(t,{Node:(n,i)=>{if(i===this)return Nd.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let a=n.get(s);if(a||(Es(s,null,r),a=n.get(s)),!a||a.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=B1(i,s,n)),a.count*a.aliasCount>o)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return a.res}toString(t,r,n){const i=`*${this.source}`;if(t){if(b7(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function B1(e,t,r){if(Ph(t)){const n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(ai(t)){let n=0;for(const i of t.items){const o=B1(e,i,r);o>n&&(n=o)}return n}else if(Zn(t)){const n=B1(e,t.key,r),i=B1(e,t.value,r);return Math.max(n,i)}return 1}const E7=e=>!e||typeof e!="function"&&typeof e!="object";class br extends E${constructor(t){super(pu),this.value=t}toJSON(t,r){return r!=null&&r.keep?this.value:Es(this.value,t,r)}toString(){return String(this.value)}}br.BLOCK_FOLDED="BLOCK_FOLDED";br.BLOCK_LITERAL="BLOCK_LITERAL";br.PLAIN="PLAIN";br.QUOTE_DOUBLE="QUOTE_DOUBLE";br.QUOTE_SINGLE="QUOTE_SINGLE";const u_e="tag:yaml.org,2002:";function d_e(e,t,r){if(t){const n=r.filter(o=>o.tag===t),i=n.find(o=>!o.format)??n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>{var i;return((i=n.identify)==null?void 0:i.call(n,e))&&!n.format})}function o_(e,t,r){var y,x,A;if(Fg(e)&&(e=e.contents),Ei(e))return e;if(Zn(e)){const T=(x=(y=r.schema[Td]).createNode)==null?void 0:x.call(y,r.schema,null,r);return T.items.push(e),T}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=r;let f;if(n&&e&&typeof e=="object"){if(f=a.get(e),f)return f.anchor||(f.anchor=i(e)),new mE(f.anchor);f={anchor:null,node:null},a.set(e,f)}t!=null&&t.startsWith("!!")&&(t=u_e+t.slice(2));let h=d_e(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const T=new br(e);return f&&(f.node=T),T}h=e instanceof Map?s[Td]:Symbol.iterator in Object(e)?s[Bg]:s[Td]}o&&(o(h),delete r.onTagObj);const g=h!=null&&h.createNode?h.createNode(r.schema,e,r):typeof((A=h==null?void 0:h.nodeClass)==null?void 0:A.from)=="function"?h.nodeClass.from(r.schema,e,r):new br(e);return t?g.tag=t:h.default||(g.tag=h.tag),f&&(f.node=g),g}function jw(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return o_(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Jv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class gE extends E${constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>Ei(n)||Zn(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(Jv(t))this.add(r);else{const[n,...i]=t,o=this.get(n,!0);if(ai(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,jw(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const i=this.get(r,!0);if(ai(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...i]=t,o=this.get(n,!0);return i.length===0?!r&&On(o)?o.value:o:ai(o)?o.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!Zn(r))return!1;const n=r.value;return n==null||t&&On(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const i=this.get(r,!0);return ai(i)?i.hasIn(n):!1}setIn(t,r){const[n,...i]=t;if(i.length===0)this.set(n,r);else{const o=this.get(n,!0);if(ai(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,jw(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}gE.maxFlowStringSingleLineLength=60;const f_e=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Yc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const dd=(e,t,r)=>e.endsWith(`
`)?Yc(r,t):r.includes(`
`)?`
`+Yc(r,t):(e.endsWith(" ")?"":" ")+r,C7="flow",EM="block",F1="quoted";function yE(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;const h=[],g={};let y=i-t.length;typeof n=="number"&&(n>i-Math.max(2,o)?h.push(0):y=i-n);let x,A,T=!1,w=-1,M=-1,O=-1;r===EM&&(w=Q5(e,w),w!==-1&&(y=w+f));for(let E;E=e[w+=1];){if(r===F1&&E==="\\"){switch(M=w,e[w+1]){case"x":w+=3;break;case"u":w+=5;break;case"U":w+=9;break;default:w+=1}O=w}if(E===`
`)r===EM&&(w=Q5(e,w)),y=w+f,x=void 0;else{if(E===" "&&A&&A!==" "&&A!==`
`&&A!=="	"){const R=e[w+1];R&&R!==" "&&R!==`
`&&R!=="	"&&(x=w)}if(w>=y)if(x)h.push(x),y=x+f,x=void 0;else if(r===F1){for(;A===" "||A==="	";)A=E,E=e[w+=1],T=!0;const R=w>O+1?w-2:M-1;if(g[R])return e;h.push(R),g[R]=!0,y=R+f,x=void 0}else T=!0}A=E}if(T&&a&&a(),h.length===0)return e;s&&s();let I=e.slice(0,h[0]);for(let E=0;E<h.length;++E){const R=h[E],N=h[E+1]||e.length;R===0?I=`
${t}${e.slice(0,N)}`:(r===F1&&g[R]&&(I+=`${e[R]}\\`),I+=`
${t}${e.slice(R+1,N)}`)}return I}function Q5(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}const vE=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),_E=e=>/^(%|---|\.\.\.)/m.test(e);function h_e(e,t,r){if(!t||t<0)return!1;const n=t-r,i=e.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function x0(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(_E(e)?"  ":"");let s="",a=0;for(let f=0,h=r[f];h;h=r[++f])if(h===" "&&r[f+1]==="\\"&&r[f+2]==="n"&&(s+=r.slice(a,f)+"\\ ",f+=1,a=f,h="\\"),h==="\\")switch(r[f+1]){case"u":{s+=r.slice(a,f);const g=r.substr(f+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=r.substr(f,6)}f+=5,a=f+1}break;case"n":if(n||r[f+2]==='"'||r.length<i)f+=1;else{for(s+=r.slice(a,f)+`

`;r[f+2]==="\\"&&r[f+3]==="n"&&r[f+4]!=='"';)s+=`
`,f+=2;s+=o,r[f+2]===" "&&(s+="\\"),f+=1,a=f+1}break;default:f+=1}return s=a?s+r.slice(a):r,n?s:yE(s,o,F1,vE(t,!1))}function CM(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return x0(e,t);const r=t.indent||(_E(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:yE(n,r,C7,vE(t,!1))}function hm(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=x0;else{const i=e.includes('"'),o=e.includes("'");i&&!o?n=CM:o&&!i?n=x0:n=r?CM:x0}return n(e,t)}let kM;try{kM=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{kM=/\n+(?!\n|$)/g}function U1({comment:e,type:t,value:r},n,i,o){const{blockQuote:s,commentString:a,lineWidth:f}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return hm(r,n);const h=n.indent||(n.forceBlockIndent||_E(r)?"  ":""),g=s==="literal"?!0:s==="folded"||t===br.BLOCK_FOLDED?!1:t===br.BLOCK_LITERAL?!0:!h_e(r,f,h.length);if(!r)return g?`|
`:`>
`;let y,x;for(x=r.length;x>0;--x){const D=r[x-1];if(D!==`
`&&D!=="	"&&D!==" ")break}let A=r.substring(x);const T=A.indexOf(`
`);T===-1?y="-":r===A||T!==A.length-1?(y="+",o&&o()):y="",A&&(r=r.slice(0,-A.length),A[A.length-1]===`
`&&(A=A.slice(0,-1)),A=A.replace(kM,`$&${h}`));let w=!1,M,O=-1;for(M=0;M<r.length;++M){const D=r[M];if(D===" ")w=!0;else if(D===`
`)O=M;else break}let I=r.substring(0,O<M?O+1:M);I&&(r=r.substring(I.length),I=I.replace(/\n+/g,`$&${h}`));let R=(g?"|":">")+(w?h?"2":"1":"")+y;if(e&&(R+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return r=r.replace(/\n+/g,`$&${h}`),`${R}
${h}${I}${r}${A}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const N=yE(`${I}${r}${A}`,h,EM,vE(n,!0));return`${R}
${h}${N}`}function p_e(e,t,r,n){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:f,indentStep:h,inFlow:g}=t;if(a&&/[\n[\]{},]/.test(o)||g&&/[[\]{},]/.test(o))return hm(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?hm(o,t):U1(e,t,r,n);if(!a&&!g&&i!==br.PLAIN&&o.includes(`
`))return U1(e,t,r,n);if(_E(o)){if(f==="")return t.forceBlockIndent=!0,U1(e,t,r,n);if(a&&f===h)return hm(o,t)}const y=o.replace(/\n+/g,`$&
${f}`);if(s){const x=w=>{var M;return w.default&&w.tag!=="tag:yaml.org,2002:str"&&((M=w.test)==null?void 0:M.test(y))},{compat:A,tags:T}=t.doc.schema;if(T.some(x)||A!=null&&A.some(x))return hm(o,t)}return a?y:yE(y,f,C7,vE(t,!1))}function tx(e,t,r,n){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==br.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=br.QUOTE_DOUBLE);const f=g=>{switch(g){case br.BLOCK_FOLDED:case br.BLOCK_LITERAL:return i||o?hm(s.value,t):U1(s,t,r,n);case br.QUOTE_DOUBLE:return x0(s.value,t);case br.QUOTE_SINGLE:return CM(s.value,t);case br.PLAIN:return p_e(s,t,r,n);default:return null}};let h=f(a);if(h===null){const{defaultKeyType:g,defaultStringType:y}=t.options,x=i&&g||y;if(h=f(x),h===null)throw new Error(`Unsupported default string type ${x}`)}return h}function k7(e,t){const r=Object.assign({blockQuote:!0,commentString:f_e,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function m_e(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let r,n;if(On(t)){n=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,n)});r=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else n=t,r=e.find(o=>o.nodeClass&&n instanceof o.nodeClass);if(!r){const o=((i=n==null?void 0:n.constructor)==null?void 0:i.name)??typeof n;throw new Error(`Tag not resolved for ${o} value`)}return r}function g_e(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const i=[],o=(On(e)||ai(e))&&e.anchor;o&&b7(o)&&(r.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(n.directives.tagString(s)),i.join(" ")}function sg(e,t,r,n){var f;if(Zn(e))return e.toString(t,r,n);if(Ph(e)){if(t.doc.directives)return e.toString(t);if((f=t.resolvedAliases)!=null&&f.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ei(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=m_e(t.doc.schema.tags,o));const s=g_e(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,r,n):On(o)?tx(o,t,r,n):o.toString(t,r,n);return s?On(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function y_e({key:e,value:t},r,n,i){const{allNullValues:o,doc:s,indent:a,indentStep:f,options:{commentString:h,indentSeq:g,simpleKeys:y}}=r;let x=Ei(e)&&e.comment||null;if(y){if(x)throw new Error("With simple keys, key nodes cannot have comments");if(ai(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let A=!y&&(!e||x&&t==null&&!r.inFlow||ai(e)||(On(e)?e.type===br.BLOCK_FOLDED||e.type===br.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!A&&(y||!o),indent:a+f});let T=!1,w=!1,M=sg(e,r,()=>T=!0,()=>w=!0);if(!A&&!r.inFlow&&M.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");A=!0}if(r.inFlow){if(o||t==null)return T&&n&&n(),M===""?"?":A?`? ${M}`:M}else if(o&&!y||t==null&&A)return M=`? ${M}`,x&&!T?M+=dd(M,r.indent,h(x)):w&&i&&i(),M;T&&(x=null),A?(x&&(M+=dd(M,r.indent,h(x))),M=`? ${M}
${a}:`):(M=`${M}:`,x&&(M+=dd(M,r.indent,h(x))));let O,I,E;Ei(t)?(O=!!t.spaceBefore,I=t.commentBefore,E=t.comment):(O=!1,I=null,E=null,t&&typeof t=="object"&&(t=s.createNode(t))),r.implicitKey=!1,!A&&!x&&On(t)&&(r.indentAtStart=M.length+1),w=!1,!g&&f.length>=2&&!r.inFlow&&!A&&Vg(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let R=!1;const N=sg(t,r,()=>R=!0,()=>w=!0);let D=" ";if(x||O||I){if(D=O?`
`:"",I){const F=h(I);D+=`
${Yc(F,r.indent)}`}N===""&&!r.inFlow?D===`
`&&(D=`

`):D+=`
${r.indent}`}else if(!A&&ai(t)){const F=N[0],q=N.indexOf(`
`),J=q!==-1,Q=r.inFlow??t.flow??t.items.length===0;if(J||!Q){let ae=!1;if(J&&(F==="&"||F==="!")){let he=N.indexOf(" ");F==="&"&&he!==-1&&he<q&&N[he+1]==="!"&&(he=N.indexOf(" ",he+1)),(he===-1||q<he)&&(ae=!0)}ae||(D=`
${r.indent}`)}}else(N===""||N[0]===`
`)&&(D="");return M+=D+N,r.inFlow?R&&n&&n():E&&!R?M+=dd(M,r.indent,h(E)):w&&i&&i(),M}function T7(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const eB="<<";function P7(e,t,{key:r,value:n}){if(e!=null&&e.doc.schema.merge&&v_e(r))if(n=Ph(n)?n.resolve(e.doc):n,Vg(n))for(const i of n.items)BT(e,t,i);else if(Array.isArray(n))for(const i of n)BT(e,t,i);else BT(e,t,n);else{const i=Es(r,"",e);if(t instanceof Map)t.set(i,Es(n,i,e));else if(t instanceof Set)t.add(i);else{const o=__e(r,i,e),s=Es(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const v_e=e=>e===eB||On(e)&&e.value===eB&&(!e.type||e.type===br.PLAIN);function BT(e,t,r){const n=e&&Ph(r)?r.resolve(e.doc):r;if(!Ug(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function __e(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(Ei(e)&&r&&r.doc){const n=k7(r.doc,{});n.anchors=new Set;for(const o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),T7(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}function C$(e,t,r){const n=o_(e,void 0,r),i=o_(t,void 0,r);return new jo(n,i)}class jo{constructor(t,r=null){Object.defineProperty(this,Is,{value:g7}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return Ei(r)&&(r=r.clone(t)),Ei(n)&&(n=n.clone(t)),new jo(r,n)}toJSON(t,r){const n=r!=null&&r.mapAsMap?new Map:{};return P7(r,n,this)}toString(t,r,n){return t!=null&&t.doc?y_e(this,t,r,n):JSON.stringify(this)}}function A7(e,t,r){return(t.inFlow??e.flow?b_e:x_e)(e,t,r)}function x_e({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:f,options:{commentString:h}}=r,g=Object.assign({},r,{indent:o,type:null});let y=!1;const x=[];for(let T=0;T<t.length;++T){const w=t[T];let M=null;if(Ei(w))!y&&w.spaceBefore&&x.push(""),Bw(r,x,w.commentBefore,y),w.comment&&(M=w.comment);else if(Zn(w)){const I=Ei(w.key)?w.key:null;I&&(!y&&I.spaceBefore&&x.push(""),Bw(r,x,I.commentBefore,y))}y=!1;let O=sg(w,g,()=>M=null,()=>y=!0);M&&(O+=dd(O,o,h(M))),y&&M&&(y=!1),x.push(n+O)}let A;if(x.length===0)A=i.start+i.end;else{A=x[0];for(let T=1;T<x.length;++T){const w=x[T];A+=w?`
${f}${w}`:`
`}}return e?(A+=`
`+Yc(h(e),f),a&&a()):y&&s&&s(),A}function b_e({comment:e,items:t},r,{flowChars:n,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:f,options:{commentString:h}}=r;i+=a;const g=Object.assign({},r,{indent:i,inFlow:!0,type:null});let y=!1,x=0;const A=[];for(let O=0;O<t.length;++O){const I=t[O];let E=null;if(Ei(I))I.spaceBefore&&A.push(""),Bw(r,A,I.commentBefore,!1),I.comment&&(E=I.comment);else if(Zn(I)){const N=Ei(I.key)?I.key:null;N&&(N.spaceBefore&&A.push(""),Bw(r,A,N.commentBefore,!1),N.comment&&(y=!0));const D=Ei(I.value)?I.value:null;D?(D.comment&&(E=D.comment),D.commentBefore&&(y=!0)):I.value==null&&N&&N.comment&&(E=N.comment)}E&&(y=!0);let R=sg(I,g,()=>E=null);O<t.length-1&&(R+=","),E&&(R+=dd(R,i,h(E))),!y&&(A.length>x||R.includes(`
`))&&(y=!0),A.push(R),x=A.length}let T;const{start:w,end:M}=n;if(A.length===0)T=w+M;else if(y||(y=A.reduce((I,E)=>I+E.length+2,2)>gE.maxFlowStringSingleLineLength),y){T=w;for(const O of A)T+=O?`
${a}${s}${O}`:`
`;T+=`
${s}${M}`}else T=`${w}${f}${A.join(" ")}${f}${M}`;return e&&(T+=dd(T,s,h(e)),o&&o()),T}function Bw({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const o=Yc(t(n),e);r.push(o.trimStart())}}function Wf(e,t){const r=On(t)?t.value:t;for(const n of e)if(Zn(n)&&(n.key===t||n.key===r||On(n.key)&&n.key.value===r))return n}class Wa extends gE{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Td,t),this.items=[]}static from(t,r,n){const{keepUndefined:i,replacer:o}=n,s=new this(t),a=(f,h)=>{if(typeof o=="function")h=o.call(r,f,h);else if(Array.isArray(o)&&!o.includes(f))return;(h!==void 0||i)&&s.items.push(C$(f,h,n))};if(r instanceof Map)for(const[f,h]of r)a(f,h);else if(r&&typeof r=="object")for(const f of Object.keys(r))a(f,r[f]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,r){var s;let n;Zn(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new jo(t,t==null?void 0:t.value):n=new jo(t.key,t.value);const i=Wf(this.items,n.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);On(i.value)&&E7(n.value)?i.value.value=n.value:i.value=n.value}else if(o){const a=this.items.findIndex(f=>o(n,f)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(t){const r=Wf(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const n=Wf(this.items,t),i=n==null?void 0:n.value;return(!r&&On(i)?i.value:i)??void 0}has(t){return!!Wf(this.items,t)}set(t,r){this.add(new jo(t,r),!0)}toJSON(t,r,n){const i=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(i);for(const o of this.items)P7(r,i,o);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Zn(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),A7(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}const Wg={collection:"map",default:!0,nodeClass:Wa,tag:"tag:yaml.org,2002:map",resolve(e,t){return Ug(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>Wa.from(e,t,r)};class zd extends gE{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Bg,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=n1(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=n1(t);if(typeof n!="number")return;const i=this.items[n];return!r&&On(i)?i.value:i}has(t){const r=n1(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=n1(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[n];On(i)&&E7(r)?i.value=r:this.items[n]=r}toJSON(t,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let i=0;for(const o of this.items)n.push(Es(o,String(i++),r));return n}toString(t,r,n){return t?A7(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){const{replacer:i}=n,o=new this(t);if(r&&Symbol.iterator in Object(r)){let s=0;for(let a of r){if(typeof i=="function"){const f=r instanceof Set?a:String(s++);a=i.call(r,f,a)}o.items.push(o_(a,void 0,n))}}return o}}function n1(e){let t=On(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const qg={collection:"seq",default:!0,nodeClass:zd,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Vg(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>zd.from(e,t,r)},xE={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),tx(e,t,r,n)}},bE={identify:e=>e==null,createNode:()=>new br(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new br(null),stringify:({source:e},t)=>typeof e=="string"&&bE.test.test(e)?e:t.options.nullStr},k$={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new br(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&k$.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function wl({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const M7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wl},O7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():wl(e)}},I7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new br(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:wl},wE=e=>typeof e=="bigint"||Number.isInteger(e),T$=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function R7(e,t,r){const{value:n}=e;return wE(n)&&n>=0?r+n.toString(t):wl(e)}const $7={identify:e=>wE(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>T$(e,2,8,r),stringify:e=>R7(e,8,"0o")},D7={identify:wE,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>T$(e,0,10,r),stringify:wl},L7={identify:e=>wE(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>T$(e,2,16,r),stringify:e=>R7(e,16,"0x")},w_e=[Wg,qg,xE,bE,k$,$7,D7,L7,M7,O7,I7];function tB(e){return typeof e=="bigint"||Number.isInteger(e)}const i1=({value:e})=>JSON.stringify(e),S_e=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:i1},{identify:e=>e==null,createNode:()=>new br(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:i1},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:i1},{identify:tB,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>tB(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:i1}],E_e={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},C_e=[Wg,qg].concat(S_e,E_e),P$={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,o){const s=r;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let h=0;h<s.length;++h)f+=String.fromCharCode(s[h]);a=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=br.BLOCK_LITERAL),t!==br.QUOTE_DOUBLE){const f=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),h=Math.ceil(a.length/f),g=new Array(h);for(let y=0,x=0;y<h;++y,x+=f)g[y]=a.substr(x,f);a=g.join(t===br.BLOCK_LITERAL?`
`:" ")}return tx({comment:e,type:t,value:a},n,i,o)}};function N7(e,t){if(Vg(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Zn(n)){if(Ug(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const i=n.items[0]||new jo(new br(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){const o=i.value??i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}e.items[r]=Zn(n)?n:new jo(n)}}else t("Expected a sequence for this tag");return e}function z7(e,t,r){const{replacer:n}=r,i=new zd(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof n=="function"&&(s=n.call(t,String(o++),s));let a,f;if(Array.isArray(s))if(s.length===2)a=s[0],f=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],f=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(C$(a,f,r))}return i}const A$={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:N7,createNode:z7};class Om extends zd{constructor(){super(),this.add=Wa.prototype.add.bind(this),this.delete=Wa.prototype.delete.bind(this),this.get=Wa.prototype.get.bind(this),this.has=Wa.prototype.has.bind(this),this.set=Wa.prototype.set.bind(this),this.tag=Om.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const i of this.items){let o,s;if(Zn(i)?(o=Es(i.key,"",r),s=Es(i.value,o,r)):o=Es(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}static from(t,r,n){const i=z7(t,r,n),o=new this;return o.items=i.items,o}}Om.tag="tag:yaml.org,2002:omap";const M$={collection:"seq",identify:e=>e instanceof Map,nodeClass:Om,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=N7(e,t),n=[];for(const{key:i}of r.items)On(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Om,r)},createNode:(e,t,r)=>Om.from(e,t,r)};function j7({value:e,source:t},r){return t&&(e?B7:F7).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const B7={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new br(!0),stringify:j7},F7={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new br(!1),stringify:j7},k_e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wl},T_e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():wl(e)}},P_e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new br(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:wl},rx=e=>typeof e=="bigint"||Number.isInteger(e);function SE(e,t,r,{intAsBigInt:n}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,r);return i==="-"?-1*o:o}function O$(e,t,r){const{value:n}=e;if(rx(n)){const i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return wl(e)}const A_e={identify:rx,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>SE(e,2,2,r),stringify:e=>O$(e,2,"0b")},M_e={identify:rx,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>SE(e,1,8,r),stringify:e=>O$(e,8,"0")},O_e={identify:rx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>SE(e,0,10,r),stringify:wl},I_e={identify:rx,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>SE(e,2,16,r),stringify:e=>O$(e,16,"0x")};class Im extends Wa{constructor(t){super(t),this.tag=Im.tag}add(t){let r;Zn(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new jo(t.key,null):r=new jo(t,null),Wf(this.items,r.key)||this.items.push(r)}get(t,r){const n=Wf(this.items,t);return!r&&Zn(n)?On(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=Wf(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new jo(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){const{replacer:i}=n,o=new this(t);if(r&&Symbol.iterator in Object(r))for(let s of r)typeof i=="function"&&(s=i.call(r,s,s)),o.items.push(C$(s,null,n));return o}}Im.tag="tag:yaml.org,2002:set";const I$={collection:"map",identify:e=>e instanceof Set,nodeClass:Im,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>Im.from(e,t,r),resolve(e,t){if(Ug(e)){if(e.hasAllNullValues(!0))return Object.assign(new Im,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function R$(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function U7(e){let{value:t}=e,r=s=>s;if(typeof t=="bigint")r=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return wl(e);let n="";t<0&&(n="-",t*=r(-1));const i=r(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),n+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const V7={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>R$(e,r),stringify:U7},W7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>R$(e,!1),stringify:U7},EE={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(EE.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,i,o,s,a]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(r,n-1,i,o||0,s||0,a||0,f);const g=t[8];if(g&&g!=="Z"){let y=R$(g,!1);Math.abs(y)<30&&(y*=60),h-=6e4*y}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},rB=[Wg,qg,xE,bE,B7,F7,A_e,M_e,O_e,I_e,k_e,T_e,P_e,P$,M$,A$,I$,V7,W7,EE],nB=new Map([["core",w_e],["failsafe",[Wg,qg,xE]],["json",C_e],["yaml11",rB],["yaml-1.1",rB]]),iB={binary:P$,bool:k$,float:I7,floatExp:O7,floatNaN:M7,floatTime:W7,int:D7,intHex:L7,intOct:$7,intTime:V7,map:Wg,null:bE,omap:M$,pairs:A$,seq:qg,set:I$,timestamp:EE},R_e={"tag:yaml.org,2002:binary":P$,"tag:yaml.org,2002:omap":M$,"tag:yaml.org,2002:pairs":A$,"tag:yaml.org,2002:set":I$,"tag:yaml.org,2002:timestamp":EE};function FT(e,t){let r=nB.get(t);if(!r)if(Array.isArray(e))r=[];else{const n=Array.from(nB.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(const n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;const i=iB[n];if(i)return i;const o=Object.keys(iB).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}const $_e=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class CE{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?FT(t,"compat"):t?FT(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?R_e:{},this.tags=FT(r,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Td,{value:Wg}),Object.defineProperty(this,pu,{value:xE}),Object.defineProperty(this,Bg,{value:qg}),this.sortMapEntries=typeof s=="function"?s:s===!0?$_e:null}clone(){const t=Object.create(CE.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function D_e(e,t){var f;const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(r.push(h),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const i=k7(e,t),{commentString:o}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");const h=o(e.commentBefore);r.unshift(Yc(h,""))}let s=!1,a=null;if(e.contents){if(Ei(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const y=o(e.contents.commentBefore);r.push(Yc(y,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=sg(e.contents,i,()=>a=null,h);a&&(g+=dd(g,"",o(a))),(g[0]==="|"||g[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${g}`:r.push(g)}else r.push(sg(e.contents,i));if((f=e.directives)!=null&&f.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(r.push("..."),r.push(Yc(h,""))):r.push(`... ${h}`)}else r.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(Yc(o(h),"")))}return r.join(`
`)+`
`}class Hg{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Is,{value:SM});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:s}=o;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new na({version:s}),this.setSchema(s,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){const t=Object.create(Hg.prototype,{[Is]:{value:SM}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ei(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Np(this.contents)&&this.contents.add(t)}addIn(t,r){Np(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=w7(this);t.anchor=!r||n.has(r)?S7(r||"a",n):r}return new mE(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){const M=I=>typeof I=="number"||I instanceof String||I instanceof Number,O=r.filter(M).map(String);O.length>0&&(r=r.concat(O)),i=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:f,onTagObj:h,tag:g}=n??{},{onAnchor:y,setAnchors:x,sourceObjects:A}=c_e(this,s||"a"),T={aliasDuplicateObjects:o??!0,keepUndefined:f??!1,onAnchor:y,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:A},w=o_(t,g,T);return a&&ai(w)&&(w.flow=!0),x(),w}createPair(t,r,n={}){const i=this.createNode(t,null,n),o=this.createNode(r,null,n);return new jo(i,o)}delete(t){return Np(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Jv(t)?this.contents==null?!1:(this.contents=null,!0):Np(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return ai(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return Jv(t)?!r&&On(this.contents)?this.contents.value:this.contents:ai(this.contents)?this.contents.getIn(t,r):void 0}has(t){return ai(this.contents)?this.contents.has(t):!1}hasIn(t){return Jv(t)?this.contents!==void 0:ai(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=jw(this.schema,[t],r):Np(this.contents)&&this.contents.set(t,r)}setIn(t,r){Jv(t)?this.contents=r:this.contents==null?this.contents=jw(this.schema,Array.from(t),r):Np(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new na({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new na({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new CE(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},f=Es(this.contents,r??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?fm(s,{"":f},"",f):f}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return D_e(this,t)}}function Np(e){if(ai(e))return!0;throw new Error("Expected a YAML collection as document contents")}class $$ extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}}class qf extends $${constructor(t,r,n){super("YAMLParseError",t,r,n)}}class q7 extends $${constructor(t,r,n){super("YAMLWarning",t,r,n)}}const Fw=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));const{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),n>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const f=r.linePos[1];f&&f.line===n&&f.col>i&&(a=Math.max(1,Math.min(f.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${h}
`}};function lg(e,{flow:t,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,f=s,h=s,g="",y="",x=!1,A=!1,T=!1,w=null,M=null,O=null,I=null,E=null;for(const D of e)switch(T&&(D.type!=="space"&&D.type!=="newline"&&D.type!=="comma"&&o(D.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),T=!1),D.type){case"space":!t&&f&&r!=="doc-start"&&D.source[0]==="	"&&o(D,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(D,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=D.source.substring(1)||" ";g?g+=y+F:g=F,y="",f=!1;break}case"newline":f?g?g+=D.source:a=!0:y+=D.source,f=!0,x=!0,(w||M)&&(A=!0),h=!0;break;case"anchor":w&&o(D,"MULTIPLE_ANCHORS","A node can have at most one anchor"),D.source.endsWith(":")&&o(D.offset+D.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=D,E===null&&(E=D.offset),f=!1,h=!1,T=!0;break;case"tag":{M&&o(D,"MULTIPLE_TAGS","A node can have at most one tag"),M=D,E===null&&(E=D.offset),f=!1,h=!1,T=!0;break}case r:(w||M)&&o(D,"BAD_PROP_ORDER",`Anchors and tags must be after the ${D.source} indicator`),I&&o(D,"UNEXPECTED_TOKEN",`Unexpected ${D.source} in ${t??"collection"}`),I=D,f=!1,h=!1;break;case"comma":if(t){O&&o(D,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),O=D,f=!1,h=!1;break}default:o(D,"UNEXPECTED_TOKEN",`Unexpected ${D.type} token`),f=!1,h=!1}const R=e[e.length-1],N=R?R.offset+R.source.length:i;return T&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:O,found:I,spaceBefore:a,comment:g,hasNewline:x,hasNewlineAfterProp:A,anchor:w,tag:M,end:N,start:E??N}}function a_(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const r of t.start)if(r.type==="newline")return!0;if(t.sep){for(const r of t.sep)if(r.type==="newline")return!0}if(a_(t.key)||a_(t.value))return!0}return!1;default:return!0}}function TM(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){const n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&a_(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function H7(e,t,r){const{uniqueKeys:n}=e.options;if(n===!1)return!1;const i=typeof n=="function"?n:(o,s)=>o===s||On(o)&&On(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,r))}const oB="All mapping items must start at the same column";function L_e({composeNode:e,composeEmptyNode:t},r,n,i,o){var g;const s=(o==null?void 0:o.nodeClass)??Wa,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let f=n.offset,h=null;for(const y of n.items){const{start:x,key:A,sep:T,value:w}=y,M=lg(x,{indicator:"explicit-key-ind",next:A??(T==null?void 0:T[0]),offset:f,onError:i,startOnNewline:!0}),O=!M.found;if(O){if(A&&(A.type==="block-seq"?i(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in A&&A.indent!==n.indent&&i(f,"BAD_INDENT",oB)),!M.anchor&&!M.tag&&!T){h=M.end,M.comment&&(a.comment?a.comment+=`
`+M.comment:a.comment=M.comment);continue}(M.hasNewlineAfterProp||a_(A))&&i(A??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=M.found)==null?void 0:g.indent)!==n.indent&&i(f,"BAD_INDENT",oB);const I=M.end,E=A?e(r,A,M,i):t(r,I,x,null,M,i);r.schema.compat&&TM(n.indent,A,i),H7(r,a.items,E)&&i(I,"DUPLICATE_KEY","Map keys must be unique");const R=lg(T??[],{indicator:"map-value-ind",next:w,offset:E.range[2],onError:i,startOnNewline:!A||A.type==="block-scalar"});if(f=R.end,R.found){O&&((w==null?void 0:w.type)==="block-map"&&!R.hasNewline&&i(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&M.start<R.found.offset-1024&&i(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const N=w?e(r,w,R,i):t(r,f,T,null,R,i);r.schema.compat&&TM(n.indent,w,i),f=N.range[2];const D=new jo(E,N);r.options.keepSourceTokens&&(D.srcToken=y),a.items.push(D)}else{O&&i(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),R.comment&&(E.comment?E.comment+=`
`+R.comment:E.comment=R.comment);const N=new jo(E);r.options.keepSourceTokens&&(N.srcToken=y),a.items.push(N)}}return h&&h<f&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,f,h??f],a}function N_e({composeNode:e,composeEmptyNode:t},r,n,i,o){const s=(o==null?void 0:o.nodeClass)??zd,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let f=n.offset,h=null;for(const{start:g,value:y}of n.items){const x=lg(g,{indicator:"seq-item-ind",next:y,offset:f,onError:i,startOnNewline:!0});if(!x.found)if(x.anchor||x.tag||y)y&&y.type==="block-seq"?i(x.end,"BAD_INDENT","All sequence items must start at the same column"):i(f,"MISSING_CHAR","Sequence item without - indicator");else{h=x.end,x.comment&&(a.comment=x.comment);continue}const A=y?e(r,y,x,i):t(r,x.end,g,null,x,i);r.schema.compat&&TM(n.indent,y,i),f=A.range[2],a.items.push(A)}return a.range=[n.offset,f,h??f],a}function nx(e,t,r,n){let i="";if(e){let o=!1,s="";for(const a of e){const{source:f,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=f.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=f),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=f.length}}return{comment:i,offset:t}}const UT="Block collections are not allowed within flow collections",VT=e=>e&&(e.type==="block-map"||e.type==="block-seq");function z_e({composeNode:e,composeEmptyNode:t},r,n,i,o){const s=n.start.source==="{",a=s?"flow map":"flow sequence",f=(o==null?void 0:o.nodeClass)??(s?Wa:zd),h=new f(r.schema);h.flow=!0;const g=r.atRoot;g&&(r.atRoot=!1);let y=n.offset+n.start.source.length;for(let M=0;M<n.items.length;++M){const O=n.items[M],{start:I,key:E,sep:R,value:N}=O,D=lg(I,{flow:a,indicator:"explicit-key-ind",next:E??(R==null?void 0:R[0]),offset:y,onError:i,startOnNewline:!1});if(!D.found){if(!D.anchor&&!D.tag&&!R&&!N){M===0&&D.comma?i(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):M<n.items.length-1&&i(D.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),D.comment&&(h.comment?h.comment+=`
`+D.comment:h.comment=D.comment),y=D.end;continue}!s&&r.options.strict&&a_(E)&&i(E,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(M===0)D.comma&&i(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(D.comma||i(D.start,"MISSING_CHAR",`Missing , between ${a} items`),D.comment){let F="";e:for(const q of I)switch(q.type){case"comma":case"space":break;case"comment":F=q.source.substring(1);break e;default:break e}if(F){let q=h.items[h.items.length-1];Zn(q)&&(q=q.value??q.key),q.comment?q.comment+=`
`+F:q.comment=F,D.comment=D.comment.substring(F.length+1)}}if(!s&&!R&&!D.found){const F=N?e(r,N,D,i):t(r,D.end,R,null,D,i);h.items.push(F),y=F.range[2],VT(N)&&i(F.range,"BLOCK_IN_FLOW",UT)}else{const F=D.end,q=E?e(r,E,D,i):t(r,F,I,null,D,i);VT(E)&&i(q.range,"BLOCK_IN_FLOW",UT);const J=lg(R??[],{flow:a,indicator:"map-value-ind",next:N,offset:q.range[2],onError:i,startOnNewline:!1});if(J.found){if(!s&&!D.found&&r.options.strict){if(R)for(const he of R){if(he===J.found)break;if(he.type==="newline"){i(he,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}D.start<J.found.offset-1024&&i(J.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else N&&("source"in N&&N.source&&N.source[0]===":"?i(N,"MISSING_CHAR",`Missing space after : in ${a}`):i(J.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const Q=N?e(r,N,J,i):J.found?t(r,J.end,R,null,J,i):null;Q?VT(N)&&i(Q.range,"BLOCK_IN_FLOW",UT):J.comment&&(q.comment?q.comment+=`
`+J.comment:q.comment=J.comment);const ae=new jo(q,Q);if(r.options.keepSourceTokens&&(ae.srcToken=O),s){const he=h;H7(r,he.items,q)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),he.items.push(ae)}else{const he=new Wa(r.schema);he.flow=!0,he.items.push(ae),h.items.push(he)}y=Q?Q.range[2]:J.end}}const x=s?"}":"]",[A,...T]=n.end;let w=y;if(A&&A.source===x)w=A.offset+A.source.length;else{const M=a[0].toUpperCase()+a.substring(1),O=g?`${M} must end with a ${x}`:`${M} in block collection must be sufficiently indented and end with a ${x}`;i(y,g?"MISSING_CHAR":"BAD_INDENT",O),A&&A.source.length!==1&&T.unshift(A)}if(T.length>0){const M=nx(T,w,r.options.strict,i);M.comment&&(h.comment?h.comment+=`
`+M.comment:h.comment=M.comment),h.range=[n.offset,w,M.offset]}else h.range=[n.offset,w,w];return h}function WT(e,t,r,n,i,o){const s=r.type==="block-map"?L_e(e,t,r,n,o):r.type==="block-seq"?N_e(e,t,r,n,o):z_e(e,t,r,n,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function j_e(e,t,r,n,i){var y;const o=n?t.directives.tagName(n.source,x=>i(n,"TAG_RESOLVE_FAILED",x)):null,s=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!n||!o||o==="!"||o===Wa.tagName&&s==="map"||o===zd.tagName&&s==="seq"||!s)return WT(e,t,r,i,o);let a=t.schema.tags.find(x=>x.tag===o&&x.collection===s);if(!a){const x=t.schema.knownTags[o];if(x&&x.collection===s)t.schema.tags.push(Object.assign({},x,{default:!1})),a=x;else return x!=null&&x.collection?i(n,"BAD_COLLECTION_TYPE",`${x.tag} used for ${s} collection, but expects ${x.collection}`,!0):i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),WT(e,t,r,i,o)}const f=WT(e,t,r,i,o,a),h=((y=a.resolve)==null?void 0:y.call(a,f,x=>i(n,"TAG_RESOLVE_FAILED",x),t.options))??f,g=Ei(h)?h:new br(h);return g.range=f.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function G7(e,t,r){const n=e.offset,i=B_e(e,t,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};const o=i.mode===">"?br.BLOCK_FOLDED:br.BLOCK_LITERAL,s=e.source?F_e(e.source):[];let a=s.length;for(let w=s.length-1;w>=0;--w){const M=s[w][1];if(M===""||M==="\r")a=w;else break}if(a===0){const w=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let M=n+i.length;return e.source&&(M+=e.source.length),{value:w,type:o,comment:i.comment,range:[n,M,M]}}let f=e.indent+i.indent,h=e.offset+i.length,g=0;for(let w=0;w<a;++w){const[M,O]=s[w];if(O===""||O==="\r")i.indent===0&&M.length>f&&(f=M.length);else{if(M.length<f){const I="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(h+M.length,"MISSING_CHAR",I)}i.indent===0&&(f=M.length),g=w;break}h+=M.length+O.length+1}for(let w=s.length-1;w>=a;--w)s[w][0].length>f&&(a=w+1);let y="",x="",A=!1;for(let w=0;w<g;++w)y+=s[w][0].slice(f)+`
`;for(let w=g;w<a;++w){let[M,O]=s[w];h+=M.length+O.length+1;const I=O[O.length-1]==="\r";if(I&&(O=O.slice(0,-1)),O&&M.length<f){const R=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(h-O.length-(I?2:1),"BAD_INDENT",R),M=""}o===br.BLOCK_LITERAL?(y+=x+M.slice(f)+O,x=`
`):M.length>f||O[0]==="	"?(x===" "?x=`
`:!A&&x===`
`&&(x=`

`),y+=x+M.slice(f)+O,x=`
`,A=!0):O===""?x===`
`?y+=`
`:x=`
`:(y+=x+O,x=" ",A=!1)}switch(i.chomp){case"-":break;case"+":for(let w=a;w<s.length;++w)y+=`
`+s[w][0].slice(f);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const T=n+i.length+e.source.length;return{value:y,type:o,comment:i.comment,range:[n,T,T]}}function B_e({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",f=-1;for(let x=1;x<i.length;++x){const A=i[x];if(!a&&(A==="-"||A==="+"))a=A;else{const T=Number(A);!s&&T?s=T:f===-1&&(f=e+x)}}f!==-1&&n(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",y=i.length;for(let x=1;x<t.length;++x){const A=t[x];switch(A.type){case"space":h=!0;case"newline":y+=A.source.length;break;case"comment":r&&!h&&n(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=A.source.length,g=A.source.substring(1);break;case"error":n(A,"UNEXPECTED_TOKEN",A.message),y+=A.source.length;break;default:{const T=`Unexpected token in block scalar header: ${A.type}`;n(A,"UNEXPECTED_TOKEN",T);const w=A.source;w&&typeof w=="string"&&(y+=w.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:y}}function F_e(e){const t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n!=null&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function Y7(e,t,r){const{offset:n,type:i,source:o,end:s}=e;let a,f;const h=(x,A,T)=>r(n+x,A,T);switch(i){case"scalar":a=br.PLAIN,f=U_e(o,h);break;case"single-quoted-scalar":a=br.QUOTE_SINGLE,f=V_e(o,h);break;case"double-quoted-scalar":a=br.QUOTE_DOUBLE,f=W_e(o,h);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}const g=n+o.length,y=nx(s,g,t,r);return{value:f,type:a,comment:y.comment,range:[n,g,y.offset]}}function U_e(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),K7(e)}function V_e(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),K7(e.slice(1,-1)).replace(/''/g,"'")}function K7(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+((n==null?void 0:n[1])??"")}function W_e(e,t){let r="";for(let n=1;n<e.length-1;++n){const i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){const{fold:o,offset:s}=q_e(e,n);r+=o,n=s}else if(i==="\\"){let o=e[++n];const s=H_e[o];if(s)r+=s;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];r+=G_e(e,n+1,a,t),n+=a}else{const a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){const o=n;let s=e[n+1];for(;s===" "||s==="	";)s=e[++n+1];s!==`
`&&!(s==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function q_e(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}const H_e={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function G_e(e,t,r,n){const i=e.substr(t,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function Z7(e,t,r,n){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?G7(t,e.options.strict,n):Y7(t,e.options.strict,n),f=r?e.directives.tagName(r.source,y=>n(r,"TAG_RESOLVE_FAILED",y)):null,h=r&&f?Y_e(e.schema,i,f,r,n):t.type==="scalar"?K_e(e,i,t,n):e.schema[pu];let g;try{const y=h.resolve(i,x=>n(r??t,"TAG_RESOLVE_FAILED",x),e.options);g=On(y)?y:new br(y)}catch(y){const x=y instanceof Error?y.message:String(y);n(r??t,"TAG_RESOLVE_FAILED",x),g=new br(i)}return g.range=a,g.source=i,o&&(g.type=o),f&&(g.tag=f),h.format&&(g.format=h.format),s&&(g.comment=s),g}function Y_e(e,t,r,n,i){var a;if(r==="!")return e[pu];const o=[];for(const f of e.tags)if(!f.collection&&f.tag===r)if(f.default&&f.test)o.push(f);else return f;for(const f of o)if((a=f.test)!=null&&a.test(t))return f;const s=e.knownTags[r];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[pu])}function K_e({directives:e,schema:t},r,n,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(r))})||t[pu];if(t.compat){const s=t.compat.find(a=>{var f;return a.default&&((f=a.test)==null?void 0:f.test(r))})??t[pu];if(o.tag!==s.tag){const a=e.tagString(o.tag),f=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${f}`;i(n,"TAG_RESOLVE_FAILED",h,!0)}}return o}function Z_e(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++n];break}}return e}const X_e={composeNode:X7,composeEmptyNode:D$};function X7(e,t,r,n){const{spaceBefore:i,comment:o,anchor:s,tag:a}=r;let f,h=!0;switch(t.type){case"alias":f=J_e(e,t,n),(s||a)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Z7(e,t,a,n),s&&(f.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=j_e(X_e,e,t,a,n),s&&(f.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",g),f=D$(e,t.offset,void 0,null,r,n),h=!1}}return s&&f.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?f.comment=o:f.commentBefore=o),e.options.keepSourceTokens&&h&&(f.srcToken=t),f}function D$(e,t,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a,end:f},h){const g={type:"scalar",offset:Z_e(t,r,n),indent:-1,source:""},y=Z7(e,g,a,h);return s&&(y.anchor=s.source.substring(1),y.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(y.spaceBefore=!0),o&&(y.comment=o,y.range[2]=f),y}function J_e({options:e},{offset:t,source:r,end:n},i){const o=new mE(r.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+r.length,a=nx(n,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function Q_e(e,t,{offset:r,start:n,value:i,end:o},s){const a=Object.assign({_directives:t},e),f=new Hg(void 0,a),h={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},g=lg(n,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});g.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?X7(h,i,g,s):D$(h,g.end,n,null,g,s);const y=f.contents.range[2],x=nx(o,y,!1,s);return x.comment&&(f.comment=x.comment),f.range=[r,y,x.offset],f}function Tv(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function aB(e){var i;let t="",r=!1,n=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(s.substring(1)||" "),r=!0,n=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class L${constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{const s=Tv(r);o?this.warnings.push(new q7(s,n,i)):this.errors.push(new qf(s,n,i))},this.directives=new na({version:t.version||"1.2"}),this.options=t}decorate(t,r){const{comment:n,afterEmptyLine:i}=aB(this.prelude);if(n){const o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.docStart||!o)t.commentBefore=n;else if(ai(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Zn(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{const s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:aB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(const i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{const o=Tv(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const r=Q_e(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new qf(Tv(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new qf(Tv(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=nx(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new qf(Tv(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const n=Object.assign({_directives:this.directives},this.options),i=new Hg(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}}function exe(e,t=!0,r){if(e){const n=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new qf([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Y7(e,t,n);case"block-scalar":return G7(e,t,n)}}return null}function txe(e,t){const{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=tx({type:s,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),y=a.substring(h+1)+`
`,x=[{type:"block-scalar-header",offset:o,indent:n,source:g}];return J7(x,f)||x.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:o,indent:n,props:x,source:y}}case'"':return{type:"double-quoted-scalar",offset:o,indent:n,source:a,end:f};case"'":return{type:"single-quoted-scalar",offset:o,indent:n,source:a,end:f};default:return{type:"scalar",offset:o,indent:n,source:a,end:f}}}function rxe(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const f=tx({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":nxe(e,f);break;case'"':qT(e,f,"double-quoted-scalar");break;case"'":qT(e,f,"single-quoted-scalar");break;default:qT(e,f,"scalar")}}function nxe(e,t){const r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];J7(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function J7(e,t){if(t)for(const r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function qT(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{const n=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of n)o.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{const n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}const ixe=e=>"type"in e?Uw(e):V1(e);function Uw(e){switch(e.type){case"block-scalar":{let t="";for(const r of e.props)t+=Uw(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(const r of e.items)t+=V1(r);return t}case"flow-collection":{let t=e.start.source;for(const r of e.items)t+=V1(r);for(const r of e.end)t+=r.source;return t}case"document":{let t=V1(e);if(e.end)for(const r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const r of e.end)t+=r.source;return t}}}function V1({start:e,key:t,sep:r,value:n}){let i="";for(const o of e)i+=o.source;if(t&&(i+=Uw(t)),r)for(const o of r)i+=o.source;return n&&(i+=Uw(n)),i}const PM=Symbol("break visit"),oxe=Symbol("skip children"),Q7=Symbol("remove item");function wh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),eq(Object.freeze([]),e,t)}wh.BREAK=PM;wh.SKIP=oxe;wh.REMOVE=Q7;wh.itemAtPath=(e,t)=>{let r=e;for(const[n,i]of t){const o=r==null?void 0:r[n];if(o&&"items"in o)r=o.items[i];else return}return r};wh.parentCollection=(e,t)=>{const r=wh.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r==null?void 0:r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function eq(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=eq(Object.freeze(e.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===PM)return PM;a===Q7&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}const kE="\uFEFF",TE="",PE="",s_="",axe=e=>!!e&&"items"in e,sxe=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function lxe(e){switch(e){case kE:return"<BOM>";case TE:return"<DOC>";case PE:return"<FLOW_END>";case s_:return"<SCALAR>";default:return JSON.stringify(e)}}function tq(e){switch(e){case kE:return"byte-order-mark";case TE:return"doc-mode";case PE:return"flow-error-end";case s_:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const cxe=Object.freeze(Object.defineProperty({__proto__:null,BOM:kE,DOCUMENT:TE,FLOW_END:PE,SCALAR:s_,createScalarToken:txe,isCollection:axe,isScalar:sxe,prettyToken:lxe,resolveAsScalar:exe,setScalarValue:rxe,stringify:ixe,tokenType:tq,visit:wh},Symbol.toStringTag,{value:"Module"}));function cs(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const sB="0123456789ABCDEFabcdef".split(""),uxe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),HT=",[]{}".split(""),dxe=` ,[]{}
\r	`.split(""),GT=e=>!e||dxe.includes(e);class rq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){const i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&cs(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===kE&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length;const n=t.indexOf("#");if(n!==-1){const o=t[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){const o=t[r-1];if(o===" "||o==="	")r-=1;else break}const i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield TE,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if(r==="---"&&cs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&cs(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!cs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&cs(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(GT),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&cs(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield PE,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(GT),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||cs(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>cs(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:t=i,r=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+r>s)t=i;else break}while(!0);return yield s_,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){const o=this.buffer[n+1];if(cs(o)||t&&o===",")break;r=n}else if(cs(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&HT.includes(o))break;if(i===`
`){const s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(t&&HT.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield s_,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(GT))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,r=this.charAt(1);if(cs(r)||t&&HT.includes(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!cs(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(uxe.includes(r))r=this.buffer[++t];else if(r==="%"&&sB.includes(this.buffer[t+1])&&sB.includes(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");const i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class nq{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){const o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};const i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}}function tl(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function lB(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function iq(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function o1(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function zp(e){var r;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=e[++t])==null?void 0:r.type)==="space";);return e.splice(t,e.length)}function cB(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!tl(t.start,"explicit-key-ind")&&!tl(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,iq(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class N${constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new rq,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const r=tq(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const r=t??this.stack.pop();if(r)if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&cB(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!tl(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{const i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&lB(i.start)===-1&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{const n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{lB(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const r=o1(this.peek(2)),n=zp(r);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const i="end"in r.value?r.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2],o=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&r.sep;let o=[];if(i&&r.sep&&!r.value){const s=[];for(let a=0;a<r.sep.length;++a){const f=r.sep[a];switch(f.type){case"newline":s.push(a);break;case"space":break;case"comment":f.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=r.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!tl(r.start,"explicit-key-ind")?r.start.push(this.sourceToken):i||r.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(tl(r.start,"explicit-key-ind"))if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(tl(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(iq(r.key)&&!tl(r.sep,"newline")){const s=zp(r.start),a=r.key,f=r.sep;f.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:f}]})}else o.length>0?r.sep=r.sep.concat(o,this.sourceToken):r.sep.push(this.sourceToken);else if(tl(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const s=zp(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):tl(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||r.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(s):(Object.assign(r,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&tl(r.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){const i="end"in r.value?r.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2],o=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||tl(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const i=o1(n),o=zp(i);cB(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=o1(t),n=zp(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const r=o1(t),n=zp(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function oq(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new nq||null,prettyErrors:t}}function fxe(e,t={}){const{lineCounter:r,prettyErrors:n}=oq(t),i=new N$(r==null?void 0:r.addNewLine),o=new L$(t),s=Array.from(o.compose(i.parse(e)));if(n&&r)for(const a of s)a.errors.forEach(Fw(e,r)),a.warnings.forEach(Fw(e,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function aq(e,t={}){const{lineCounter:r,prettyErrors:n}=oq(t),i=new N$(r==null?void 0:r.addNewLine),o=new L$(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new qf(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(Fw(e,r)),s.warnings.forEach(Fw(e,r))),s}function hxe(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);const i=aq(e,r);if(!i)return null;if(i.warnings.forEach(o=>T7(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function pxe(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){const i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=r??t??{};if(!i)return}return new Hg(e,n,r).toString(r)}const sq=Object.freeze(Object.defineProperty({__proto__:null,Alias:mE,CST:cxe,Composer:L$,Document:Hg,Lexer:rq,LineCounter:nq,Pair:jo,Parser:N$,Scalar:br,Schema:CE,YAMLError:$$,YAMLMap:Wa,YAMLParseError:qf,YAMLSeq:zd,YAMLWarning:q7,isAlias:Ph,isCollection:ai,isDocument:Fg,isMap:Ug,isNode:Ei,isPair:Zn,isScalar:On,isSeq:Vg,parse:hxe,parseAllDocuments:fxe,parseDocument:aq,stringify:pxe,visit:Nd,visitAsync:pE},Symbol.toStringTag,{value:"Module"})),cg=De.createContext();var a1="";const z$=({children:e,notification:t})=>{Br(M=>M.devices.items);const r=Br(M=>M.mission),n=Br(M=>M.session.server),i=bl(),[o,s]=V.useState(!1);V.useState(""),V.useEffect(()=>{s(n)},[n]);const a=async M=>{try{const O=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(O.ok){let I=await O.json();I.state==="connect"&&(t("success",I.msg),s(!0)),I.state==="error"&&(s(!1),t("danger",I.msg)),I.state==="disconnect"&&(t("danger",I.msg),s(!1)),console.log(I)}else throw Error(await O.text())}catch{s(!1)}},f=async M=>{console.log(M.name+"-"+M.category);try{const O=await fetch("/api/devices",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}});if(O.ok){let I=await O.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await O.text())}catch{}},h=async()=>{try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",mission:r.route}),headers:{"Content-Type":"application/json"}});if(M.ok){let O=await M.json();O.state==="connect"&&t("success",O.msg),O.state==="error"&&t("danger",O.msg),console.log(O)}else throw Error(await M.text())}catch{}},g=async()=>{console.log("command mission ");try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(M.ok){let O=await M.json();O.state==="connect"&&t("success",O.msg),O.state==="error"&&t("danger",O.msg),console.log(O)}else throw Error(await M.text())}catch{}},y=(M,O)=>{if(M.endsWith(".yaml"))a1=sq.parse(O),a1.mode_landing,a1.mode_yaw,i(Yl.updateMission({name:M.slice(0,-5),mission:a1}));else if(M.endsWith(".waypoints")){let E=O.split(`
`).map(D=>D.split("	")),R={uav_n:1,uav_1:{}},N=0;E.forEach(D=>{D[3]=="16"&&(R.uav_1["wp_"+N]=[D[8],D[9],D[10]],N=N+1)}),R.uav_1.wp_n=N,i(Yl.updateMission({name:M.slice(0,-10),mission:R}))}else if(M.endsWith(".kml")){let R=new DOMParser().parseFromString(O,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(F=>F.split(",")),N={uav_n:1,uav_1:{}},D=0;R.forEach(F=>{F.length==3&&(N.uav_1["wp_"+D]=[F[1],F[0],F[2]],D=D+1)}),N.uav_1.wp_n=D,i(Yl.updateMission({name:M.slice(0,-4),mission:N}))}else if(M.endsWith(".plan")){let I=JSON.parse(O),E={uav_n:1,uav_1:{}},R=0;I.mission.items.forEach(N=>{E.uav_1["wp_"+R]=[N.params[4],N.params[5],N.Altitude],R=R+1}),E.uav_1.wp_n=R,i(Yl.updateMission({name:M.slice(0,-5),mission:E}))}else t("danger","Formato de mission no compatible")},x=()=>{a()};async function A(M){o?f(M):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function T(){h()}function w(){g()}return B.jsx("div",{style:{width:"100%",height:"100%"},children:B.jsx(cg.Provider,{value:{rosConnect:x,rosState:o,openMision:y,connectAddUav:A,commandMission:w,loadMission:T},children:e})})},j$=({SetAddUAVOpen:e})=>{const[t,r]=V.useState(!1),n=bl(),i=Ig(),o=()=>{n(Yl.clearMission({}))},s=()=>{const x=document.getElementsByName("otrotest");for(let A=0;A<x.length;A++)x[A].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let A=0;A<x.length;A++)x[A].setAttribute("class","dropdown-content")},500),r(A=>!A)},a=V.useContext(cg),f=x=>{const A=x.target.files[0];if(!A)return;const T=new FileReader;T.readAsText(A),T.onload=()=>{a.openMision(A.name,T.result)},T.onerror=()=>{console.log("error"),console.log(T.error)}},h=x=>{const A=x.target.files[0];if(!A)return;const T=new FileReader;T.readAsText(A),T.onload=()=>{console.log(T.result);let w=new DOMParser().parseFromString(T.result,"text/xml");console.log(w);let M=w.getElementsByTagName("Point");console.log(M);let O=Object.values(M).map(D=>D.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(","));console.log(O);let I=w.getElementsByTagName("coordinates");console.log(I);let E=Object.values(I).map(D=>D.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),R=E.map(D=>D.map(F=>F.split(",")));console.log(E),console.log(R);let N=[];if(O.length)return console.log("add markers"),N=O.map((D,F,q)=>({latitude:Number(D[1]),longitude:Number(D[0]),image:"base"})),console.log(N),n(am.addMarker(N)),null;R.length&&(console.log("add towers markers"),R.map((D,F,q)=>{console.log(D),D.map(J=>{console.log(J),J.length>1&&N.push({latitude:Number(J[1]),longitude:Number(J[0]),image:"powerTower"})})}),console.log(N),n(am.addMarker(N)))},T.onerror=()=>{console.log("error"),console.log(T.error)}};function g(){Qe.easeTo({center:[-6.0025,37.412],zoom:Math.max(Qe.getZoom(),5),offset:[0,-1/2]})}function y(){e(!0)}return B.jsx(XR,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:B.jsx($w,{maxWidth:"x",children:B.jsxs(X_,{disableGutters:!0,children:[B.jsx(_n,{onClick:()=>{g(),i("/")},children:B.jsx(Or,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),B.jsxs("div",{className:"dropdown",children:[B.jsx("button",{className:"dropbtn",children:"ROS "}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Ros"}),B.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show Topics"}),B.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show servies"})]})]}),B.jsxs("div",{className:"dropdown",children:[B.jsxs("button",{className:"dropbtn",children:["UAV",B.jsx("i",{className:"fa fa-caret-down"})]}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("a",{id:"openAddUavNavbar",onClick:()=>{y(),s()},children:"Connect UAV"}),B.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission UAV's"}),B.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.commandMission(),s()},children:"Command Mission All"})]})]}),B.jsxs("div",{className:"dropdown",children:[B.jsxs("button",{className:"dropbtn",children:["Mission",B.jsx("i",{className:"fa fa-caret-down"})]}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),B.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:f}),B.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),B.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"})]})]}),B.jsxs("div",{className:"dropdown",children:[B.jsxs("button",{className:"dropbtn",children:["View",B.jsx("i",{className:"fa fa-caret-down"})]}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Enviroment Features"}),B.jsx("label",{id:"menuopenelements",htmlFor:"openElementsNavbar",children:"add elements"}),B.jsx("input",{accept:".kml",type:"file",multiple:!1,style:{display:"none"},id:"openElementsNavbar",onChange:h}),B.jsx("a",{id:"cameraView",onClick:()=>{i("/camera"),s()},children:"Camera view"})]})]}),B.jsx("div",{className:"dropdown",children:B.jsxs("button",{className:"dropbtn",onClick:()=>{i("/events")},children:["Report",B.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var B$={},lq={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(lq);var ln=lq.exports,YT={};const mxe=dU(ase);var uB;function cn(){return uB||(uB=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=mxe}(YT)),YT}var gxe=ln;Object.defineProperty(B$,"__esModule",{value:!0});var cq=B$.default=void 0,yxe=gxe(cn()),vxe=B,_xe=(0,yxe.default)((0,vxe.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");cq=B$.default=_xe;var F$={},xxe=ln;Object.defineProperty(F$,"__esModule",{value:!0});var uq=F$.default=void 0,bxe=xxe(cn()),wxe=B,Sxe=(0,bxe.default)((0,wxe.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");uq=F$.default=Sxe;var U$={},Exe=ln;Object.defineProperty(U$,"__esModule",{value:!0});var dq=U$.default=void 0,Cxe=Exe(cn()),kxe=B,Txe=(0,Cxe.default)((0,kxe.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");dq=U$.default=Txe;var V$={},Pxe=ln;Object.defineProperty(V$,"__esModule",{value:!0});var fq=V$.default=void 0,Axe=Pxe(cn()),Mxe=B,Oxe=(0,Axe.default)((0,Mxe.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");fq=V$.default=Oxe;var W$={},Ixe=ln;Object.defineProperty(W$,"__esModule",{value:!0});var hq=W$.default=void 0,Rxe=Ixe(cn()),$xe=B,Dxe=(0,Rxe.default)((0,$xe.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");hq=W$.default=Dxe;var q$={},Lxe=ln;Object.defineProperty(q$,"__esModule",{value:!0});var pq=q$.default=void 0,Nxe=Lxe(cn()),zxe=B,jxe=(0,Nxe.default)((0,zxe.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");pq=q$.default=jxe;var H$={},Bxe=ln;Object.defineProperty(H$,"__esModule",{value:!0});var mq=H$.default=void 0,Fxe=Bxe(cn()),Uxe=B,Vxe=(0,Fxe.default)((0,Uxe.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");mq=H$.default=Vxe;var G$={},Wxe=ln;Object.defineProperty(G$,"__esModule",{value:!0});var gq=G$.default=void 0,qxe=Wxe(cn()),Hxe=B,Gxe=(0,qxe.default)((0,Hxe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");gq=G$.default=Gxe;var Y$={},Yxe=ln;Object.defineProperty(Y$,"__esModule",{value:!0});var yq=Y$.default=void 0,Kxe=Yxe(cn()),Zxe=B,Xxe=(0,Kxe.default)((0,Zxe.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");yq=Y$.default=Xxe;const Jxe=$i(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:Ql[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:Ql[300]}},mediaicon:{color:Ql[700],width:"15px"}})),K$=({SetAddUAVOpen:e})=>{const t=Jxe(),r=V.useContext(cg),[n,i]=V.useState("no load mission"),o=Br(T=>T.mission.name),s=Br(T=>T.mission.home),[a,f]=V.useState(!0),h=T=>{const w=T.target.files[0];if(!w)return;const M=new FileReader;M.readAsText(w),M.onload=()=>{console.log(M.result),console.log(w.name),r.openMision(w.name,M.result)},M.onerror=()=>{console.log(M.error)}};function g(){Qe.easeTo({center:[-6.0025,37.412],zoom:Math.max(Qe.getZoom(),5),offset:[0,-1/2]})}function y(){Qe.easeTo({center:[s[1],s[0]],zoom:Math.max(Qe.getZoom(),15),offset:[0,-1/2]})}function x(){e(!0)}const A=()=>{f(!a)};return V.useEffect(()=>{i(o)},[o]),V.useEffect(()=>{y()},[s]),B.jsx("header",{className:t.toolbar,children:B.jsxs("div",{children:[B.jsxs($de,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[B.jsx(_n,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:B.jsx(cq,{fontSize:"small",className:t.mediaicon})}),B.jsxs(_n,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[B.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:B.jsx(uq,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),B.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),B.jsx(_n,{id:"openAddUav",onClick:x,className:t.mediaButton,style:{margin:"0px 0px"},children:B.jsx(dq,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),B.jsx(cg.Consumer,{children:({rosState:T})=>B.jsxs(_n,{id:"rosConnect",onClick:r.rosConnect,className:t.mediaButton,children:[T&&"conectado"," ",!T&&"desconectado"," "]})}),B.jsx(_n,{id:"loadMission",size:"small",onClick:x,className:t.mediaButton,children:B.jsx(fq,{fontSize:"small",className:t.mediaicon})}),B.jsx(_n,{id:"commandMission",onClick:x,className:t.mediaButton,children:"Fly!"}),B.jsxs(_n,{id:"openedmission",onClick:y,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",n]}),B.jsx(_n,{variant:"filledTonal",onClick:T=>A(),className:t.mediaButton,children:"Status"}),B.jsx(_n,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:B.jsx(hq,{fontSize:"small",className:t.mediaicon})}),B.jsx(_n,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:B.jsx(pq,{fontSize:"small",className:t.mediaicon})}),B.jsx(_n,{id:"reset",className:t.mediaButton,children:B.jsx(mq,{fontSize:"small",className:t.mediaicon})}),B.jsx(_n,{id:"showManualMode",className:t.mediaButton,children:B.jsx(gq,{fontSize:"small",className:t.mediaicon})}),B.jsx(_n,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:B.jsx(yq,{fontSize:"small",className:t.mediaicon})})]})})};var Z$={},Qxe=ln;Object.defineProperty(Z$,"__esModule",{value:!0});var jd=Z$.default=void 0,ebe=Qxe(cn()),tbe=B,rbe=(0,ebe.default)((0,tbe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");jd=Z$.default=rbe;const nbe=$i(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),ibe=({toastlist:e,position:t,setList:r})=>{const n=nbe(),i=V.useCallback(o=>{const s=e.filter(a=>a.id!==o);r(s)},[e,r]);return V.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),B.jsx("div",{className:n.root,children:e.map((o,s)=>B.jsxs(zg,{elevation:3,className:n.card,style:{backgroundColor:o.backgroundColor},children:[B.jsxs("div",{className:n.header,children:[B.jsx(Or,{variant:"body2",children:o.title}),B.jsx(Vr,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:B.jsx(jd,{fontSize:"small",className:n.mediaButton})})]}),B.jsx("div",{children:B.jsx("p",{className:n.description,children:o.description})})]}))})};var X$={},obe=ln;Object.defineProperty(X$,"__esModule",{value:!0});var Bd=X$.default=void 0,abe=obe(cn()),sbe=B,lbe=(0,abe.default)((0,sbe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Bd=X$.default=lbe;const Wc=({label:e,fullWidth:t,multiple:r,value:n,emptyValue:i=0,emptyTitle:o="",onChange:s,endpoint:a,data:f,keyGetter:h=y=>y.id,titleGetter:g=y=>y.name})=>{const[y,x]=V.useState(f);return h$(async()=>{if(a){const A=await fetch(a);if(A.ok)x(await A.json());else throw Error(await A.text())}},[]),y?B.jsxs(sE,{fullWidth:t,children:[B.jsx(lE,{children:e}),B.jsxs(cE,{label:e,multiple:r,value:n,onChange:s,children:[!r&&i!==null&&B.jsx(fl,{value:i,children:o}),y.map(A=>B.jsx(fl,{value:h(A),children:g(A)},h(A)))]})]}):null};var J$={},cbe=ln;Object.defineProperty(J$,"__esModule",{value:!0});var Sh=J$.default=void 0,ube=cbe(cn()),dbe=B,fbe=(0,ube.default)((0,dbe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Sh=J$.default=fbe;const hbe=$i(e=>({card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),pbe=({SetAddUAVOpen:e})=>{const t=hbe(),r=V.useContext(cg),[n,i]=V.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){e(!1)}function s(){console.log("add uav-"+n.name+"-"+n.category),console.log(n),r.connectAddUav(n),e(!1)}const a=h=>{let g=JSON.parse(JSON.stringify(n.camera));g.splice(h,1),i({...n,camera:g})};function f(){let h=JSON.parse(JSON.stringify(n.camera));h.push({type:"WebRTC",source:""}),i({...n,camera:h})}return B.jsx("div",{className:t.root,children:B.jsxs(zg,{elevation:3,className:t.card,children:[B.jsx("div",{className:t.closeBtn,children:B.jsx(Vr,{size:"small",onClick:o,onTouchStart:o,children:B.jsx(jd,{fontSize:"small",className:t.mediaButton})})}),B.jsx("b",{children:B.jsx("div",{className:t.title,children:"Add device "})}),B.jsxs(yh,{defaultExpanded:!0,children:[B.jsx(_h,{expandIcon:B.jsx(Bd,{}),children:B.jsx(Or,{variant:"subtitle1",children:"Datos UAV"})}),B.jsx(vh,{className:t.details,children:B.jsxs(uhe,{style:{margin:"20px"},children:[B.jsx(fo,{required:!0,label:"UAV ID",name:"uavid",value:n.name,onChange:h=>i({...n,name:h.target.value}),className:t.inputtext}),B.jsx(Wc,{emptyValue:null,value:n.category?n.category:"",onChange:h=>i({...n,category:h.target.value}),endpoint:"/api/devices/type",keyGetter:h=>h,titleGetter:h=>h,label:"Type UAV "}),B.jsx(fo,{style:{marginTop:"20px"},label:"ip",value:n.ip,onChange:h=>i({...n,ip:h.target.value})})]})})]}),n&&B.jsxs(yh,{children:[B.jsx(_h,{expandIcon:B.jsx(Bd,{}),children:B.jsx(Or,{variant:"subtitle1",children:"Camera"})}),B.jsxs(vh,{className:t.details,children:[n.camera&&n.camera.map((h,g,y)=>B.jsxs(V.Fragment,{children:[B.jsx(Or,{variant:"subtitle1",className:t.attributeName,children:"Camera "+g}),B.jsxs("div",{children:[B.jsxs(sE,{variant:"outlined",children:[B.jsx(lE,{id:"demo-simple-select-outlined-label",children:"CameraType"}),B.jsxs(cE,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h.type,label:"type",onChange:x=>i({...n,camera:n.camera.map((A,T)=>{let w=JSON.parse(JSON.stringify(A));return g==T&&(w.type=x.target.value),w})}),children:[B.jsx(fl,{value:"WebRTC",children:"WebRTC"}),B.jsx(fl,{value:"WebRTC_env",children:"WebRTCenv"}),B.jsx(fl,{value:"Websocket",children:"Websocket"})]})]}),B.jsx("div",{className:t.actionValue,children:B.jsx(fo,{required:!0,fullWidth:!0,value:h.source,onChange:x=>i({...n,camera:n.camera.map((A,T)=>{let w=JSON.parse(JSON.stringify(A));return g==T&&(w.source=x.target.value),w})})})}),B.jsx(Vr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>a(g),className:t.negative,children:B.jsx(Sh,{})})]}),B.jsx(s$,{})]},"fragment-action-"+g)),B.jsx(_n,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:f,children:"Add camera source"})]})]}),B.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:B.jsx(_n,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},dB="/assets/placeholder-7d04691d.jpg";var Q$={},mbe=ln;Object.defineProperty(Q$,"__esModule",{value:!0});var AE=Q$.default=void 0,gbe=mbe(cn()),ybe=B,vbe=(0,gbe.default)((0,ybe.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");AE=Q$.default=vbe;const _be=$i(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),xbe=({deviceId:e,datacamera:t,onClose:r})=>{const n=_be(),[i,o]=V.useState(dB),s=Br(x=>x.devices.items[e]),[a,f]=V.useState(!1);let h=a?n.card_max:n.card,g=a?n.root_max:n.root;function y(){f(!a)}return V.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(dB))},[t]),B.jsx("div",{className:g,children:s&&B.jsxs(zg,{elevation:3,className:h,children:[B.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[B.jsx(Vr,{size:"small",onClick:y,onTouchStart:y,children:B.jsx(AE,{fontSize:"small",className:n.mediaButton})}),B.jsx(Vr,{size:"small",onClick:()=>{r(),f(!1)},onTouchStart:r,children:B.jsx(jd,{fontSize:"small",className:n.mediaButton})})]}),B.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:[" ","Image "+s.name," "]}),B.jsx("img",{src:i,className:n.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var vq;function zt(){return vq.apply(null,arguments)}function bbe(e){vq=e}function _l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ih(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eD(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Zr(e,t))return!1;return!0}function ga(e){return e===void 0}function mu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function ix(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function _q(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function fd(e,t){for(var r in t)Zr(t,r)&&(e[r]=t[r]);return Zr(t,"toString")&&(e.toString=t.toString),Zr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function dc(e,t,r,n){return Vq(e,t,r,n,!0).utc()}function wbe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Tr(e){return e._pf==null&&(e._pf=wbe()),e._pf}var AM;Array.prototype.some?AM=Array.prototype.some:AM=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function tD(e){if(e._isValid==null){var t=Tr(e),r=AM.call(t.parsedDateParts,function(i){return i!=null}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n}return e._isValid}function ME(e){var t=dc(NaN);return e!=null?fd(Tr(t),e):Tr(t).userInvalidated=!0,t}var fB=zt.momentProperties=[],KT=!1;function rD(e,t){var r,n,i,o=fB.length;if(ga(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ga(t._i)||(e._i=t._i),ga(t._f)||(e._f=t._f),ga(t._l)||(e._l=t._l),ga(t._strict)||(e._strict=t._strict),ga(t._tzm)||(e._tzm=t._tzm),ga(t._isUTC)||(e._isUTC=t._isUTC),ga(t._offset)||(e._offset=t._offset),ga(t._pf)||(e._pf=Tr(t)),ga(t._locale)||(e._locale=t._locale),o>0)for(r=0;r<o;r++)n=fB[r],i=t[n],ga(i)||(e[n]=i);return e}function ox(e){rD(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),KT===!1&&(KT=!0,zt.updateOffset(this),KT=!1)}function xl(e){return e instanceof ox||e!=null&&e._isAMomentObject!=null}function xq(e){zt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ns(e,t){var r=!0;return fd(function(){if(zt.deprecationHandler!=null&&zt.deprecationHandler(null,e),r){var n=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Zr(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];n.push(i)}xq(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var hB={};function bq(e,t){zt.deprecationHandler!=null&&zt.deprecationHandler(e,t),hB[e]||(xq(t),hB[e]=!0)}zt.suppressDeprecationWarnings=!1;zt.deprecationHandler=null;function fc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Sbe(e){var t,r;for(r in e)Zr(e,r)&&(t=e[r],fc(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function MM(e,t){var r=fd({},e),n;for(n in t)Zr(t,n)&&(ih(e[n])&&ih(t[n])?(r[n]={},fd(r[n],e[n]),fd(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Zr(e,n)&&!Zr(t,n)&&ih(e[n])&&(r[n]=fd({},r[n]));return r}function nD(e){e!=null&&this.set(e)}var OM;Object.keys?OM=Object.keys:OM=function(e){var t,r=[];for(t in e)Zr(e,t)&&r.push(t);return r};var Ebe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Cbe(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return fc(n)?n.call(t,r):n}function sc(e,t,r){var n=""+Math.abs(e),i=t-n.length,o=e>=0;return(o?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var iD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,s1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ZT={},Rm={};function lr(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(Rm[e]=i),t&&(Rm[t[0]]=function(){return sc(i.apply(this,arguments),t[1],t[2])}),r&&(Rm[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function kbe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Tbe(e){var t=e.match(iD),r,n;for(r=0,n=t.length;r<n;r++)Rm[t[r]]?t[r]=Rm[t[r]]:t[r]=kbe(t[r]);return function(i){var o="",s;for(s=0;s<n;s++)o+=fc(t[s])?t[s].call(i,e):t[s];return o}}function W1(e,t){return e.isValid()?(t=wq(t,e.localeData()),ZT[t]=ZT[t]||Tbe(t),ZT[t](e)):e.localeData().invalidDate()}function wq(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(s1.lastIndex=0;r>=0&&s1.test(e);)e=e.replace(s1,n),s1.lastIndex=0,r-=1;return e}var Pbe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Abe(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(iD).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var Mbe="Invalid date";function Obe(){return this._invalidDate}var Ibe="%d",Rbe=/\d{1,2}/;function $be(e){return this._ordinal.replace("%d",e)}var Dbe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Lbe(e,t,r,n){var i=this._relativeTime[r];return fc(i)?i(e,t,r,n):i.replace(/%d/i,e)}function Nbe(e,t){var r=this._relativeTime[e>0?"future":"past"];return fc(r)?r(t):r.replace(/%s/i,t)}var b0={};function Uo(e,t){var r=e.toLowerCase();b0[r]=b0[r+"s"]=b0[t]=e}function zs(e){return typeof e=="string"?b0[e]||b0[e.toLowerCase()]:void 0}function oD(e){var t={},r,n;for(n in e)Zr(e,n)&&(r=zs(n),r&&(t[r]=e[n]));return t}var Sq={};function Vo(e,t){Sq[e]=t}function zbe(e){var t=[],r;for(r in e)Zr(e,r)&&t.push({unit:r,priority:Sq[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}function OE(e){return e%4===0&&e%100!==0||e%400===0}function vs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Rr(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=vs(t)),r}function Gg(e,t){return function(r){return r!=null?(Eq(this,e,r),zt.updateOffset(this,t),this):Vw(this,e)}}function Vw(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Eq(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&OE(e.year())&&e.month()===1&&e.date()===29?(r=Rr(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),NE(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function jbe(e){return e=zs(e),fc(this[e])?this[e]():this}function Bbe(e,t){if(typeof e=="object"){e=oD(e);var r=zbe(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=zs(e),fc(this[e]))return this[e](t);return this}var Cq=/\d/,ns=/\d\d/,kq=/\d{3}/,aD=/\d{4}/,IE=/[+-]?\d{6}/,Fn=/\d\d?/,Tq=/\d\d\d\d?/,Pq=/\d\d\d\d\d\d?/,RE=/\d{1,3}/,sD=/\d{1,4}/,$E=/[+-]?\d{1,6}/,Yg=/\d+/,DE=/[+-]?\d+/,Fbe=/Z|[+-]\d\d:?\d\d/gi,LE=/Z|[+-]\d\d(?::?\d\d)?/gi,Ube=/[+-]?\d+(\.\d{1,3})?/,ax=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ww;Ww={};function Ht(e,t,r){Ww[e]=fc(t)?t:function(n,i){return n&&r?r:t}}function Vbe(e,t){return Zr(Ww,e)?Ww[e](t._strict,t._locale):new RegExp(Wbe(e))}function Wbe(e){return Ua(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,o){return r||n||i||o}))}function Ua(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var IM={};function En(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),mu(t)&&(n=function(o,s){s[t]=Rr(o)}),i=e.length,r=0;r<i;r++)IM[e[r]]=n}function sx(e,t){En(e,function(r,n,i,o){i._w=i._w||{},t(r,i._w,i,o)})}function qbe(e,t,r){t!=null&&Zr(IM,e)&&IM[e](t,r._a,r,e)}var Bo=0,Kc=1,Hl=2,zi=3,hl=4,Zc=5,Hf=6,Hbe=7,Gbe=8;function Ybe(e,t){return(e%t+t)%t}var wi;Array.prototype.indexOf?wi=Array.prototype.indexOf:wi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function NE(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Ybe(t,12);return e+=(t-r)/12,r===1?OE(e)?29:28:31-r%7%2}lr("M",["MM",2],"Mo",function(){return this.month()+1});lr("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});lr("MMMM",0,0,function(e){return this.localeData().months(this,e)});Uo("month","M");Vo("month",8);Ht("M",Fn);Ht("MM",Fn,ns);Ht("MMM",function(e,t){return t.monthsShortRegex(e)});Ht("MMMM",function(e,t){return t.monthsRegex(e)});En(["M","MM"],function(e,t){t[Kc]=Rr(e)-1});En(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[Kc]=i:Tr(r).invalidMonth=e});var Kbe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Aq="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mq=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Zbe=ax,Xbe=ax;function Jbe(e,t){return e?_l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Mq).test(t)?"format":"standalone"][e.month()]:_l(this._months)?this._months:this._months.standalone}function Qbe(e,t){return e?_l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mq.test(t)?"format":"standalone"][e.month()]:_l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function e1e(e,t,r){var n,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=dc([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?t==="MMM"?(i=wi.call(this._shortMonthsParse,s),i!==-1?i:null):(i=wi.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=wi.call(this._shortMonthsParse,s),i!==-1?i:(i=wi.call(this._longMonthsParse,s),i!==-1?i:null)):(i=wi.call(this._longMonthsParse,s),i!==-1?i:(i=wi.call(this._shortMonthsParse,s),i!==-1?i:null))}function t1e(e,t,r){var n,i,o;if(this._monthsParseExact)return e1e.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=dc([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function Oq(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Rr(t);else if(t=e.localeData().monthsParse(t),!mu(t))return e}return r=Math.min(e.date(),NE(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Iq(e){return e!=null?(Oq(this,e),zt.updateOffset(this,!0),this):Vw(this,"Month")}function r1e(){return NE(this.year(),this.month())}function n1e(e){return this._monthsParseExact?(Zr(this,"_monthsRegex")||Rq.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Zr(this,"_monthsShortRegex")||(this._monthsShortRegex=Zbe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function i1e(e){return this._monthsParseExact?(Zr(this,"_monthsRegex")||Rq.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Zr(this,"_monthsRegex")||(this._monthsRegex=Xbe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Rq(){function e(s,a){return a.length-s.length}var t=[],r=[],n=[],i,o;for(i=0;i<12;i++)o=dc([2e3,i]),t.push(this.monthsShort(o,"")),r.push(this.months(o,"")),n.push(this.months(o,"")),n.push(this.monthsShort(o,""));for(t.sort(e),r.sort(e),n.sort(e),i=0;i<12;i++)t[i]=Ua(t[i]),r[i]=Ua(r[i]);for(i=0;i<24;i++)n[i]=Ua(n[i]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}lr("Y",0,0,function(){var e=this.year();return e<=9999?sc(e,4):"+"+e});lr(0,["YY",2],0,function(){return this.year()%100});lr(0,["YYYY",4],0,"year");lr(0,["YYYYY",5],0,"year");lr(0,["YYYYYY",6,!0],0,"year");Uo("year","y");Vo("year",1);Ht("Y",DE);Ht("YY",Fn,ns);Ht("YYYY",sD,aD);Ht("YYYYY",$E,IE);Ht("YYYYYY",$E,IE);En(["YYYYY","YYYYYY"],Bo);En("YYYY",function(e,t){t[Bo]=e.length===2?zt.parseTwoDigitYear(e):Rr(e)});En("YY",function(e,t){t[Bo]=zt.parseTwoDigitYear(e)});En("Y",function(e,t){t[Bo]=parseInt(e,10)});function w0(e){return OE(e)?366:365}zt.parseTwoDigitYear=function(e){return Rr(e)+(Rr(e)>68?1900:2e3)};var $q=Gg("FullYear",!0);function o1e(){return OE(this.year())}function a1e(e,t,r,n,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,n,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,o,s),a}function l_(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function qw(e,t,r){var n=7+t-r,i=(7+l_(e,0,n).getUTCDay()-t)%7;return-i+n-1}function Dq(e,t,r,n,i){var o=(7+r-n)%7,s=qw(e,n,i),a=1+7*(t-1)+o+s,f,h;return a<=0?(f=e-1,h=w0(f)+a):a>w0(e)?(f=e+1,h=a-w0(e)):(f=e,h=a),{year:f,dayOfYear:h}}function c_(e,t,r){var n=qw(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+ru(s,t,r)):i>ru(e.year(),t,r)?(o=i-ru(e.year(),t,r),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function ru(e,t,r){var n=qw(e,t,r),i=qw(e+1,t,r);return(w0(e)-n+i)/7}lr("w",["ww",2],"wo","week");lr("W",["WW",2],"Wo","isoWeek");Uo("week","w");Uo("isoWeek","W");Vo("week",5);Vo("isoWeek",5);Ht("w",Fn);Ht("ww",Fn,ns);Ht("W",Fn);Ht("WW",Fn,ns);sx(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Rr(e)});function s1e(e){return c_(e,this._week.dow,this._week.doy).week}var l1e={dow:0,doy:6};function c1e(){return this._week.dow}function u1e(){return this._week.doy}function d1e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function f1e(e){var t=c_(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}lr("d",0,"do","day");lr("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});lr("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});lr("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});lr("e",0,0,"weekday");lr("E",0,0,"isoWeekday");Uo("day","d");Uo("weekday","e");Uo("isoWeekday","E");Vo("day",11);Vo("weekday",11);Vo("isoWeekday",11);Ht("d",Fn);Ht("e",Fn);Ht("E",Fn);Ht("dd",function(e,t){return t.weekdaysMinRegex(e)});Ht("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ht("dddd",function(e,t){return t.weekdaysRegex(e)});sx(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:Tr(r).invalidWeekday=e});sx(["d","e","E"],function(e,t,r,n){t[n]=Rr(e)});function h1e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function p1e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function lD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var m1e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lq="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),g1e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),y1e=ax,v1e=ax,_1e=ax;function x1e(e,t){var r=_l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?lD(r,this._week.dow):e?r[e.day()]:r}function b1e(e){return e===!0?lD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function w1e(e){return e===!0?lD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function S1e(e,t,r){var n,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=dc([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?t==="dddd"?(i=wi.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=wi.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=wi.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=wi.call(this._weekdaysParse,s),i!==-1||(i=wi.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=wi.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=wi.call(this._shortWeekdaysParse,s),i!==-1||(i=wi.call(this._weekdaysParse,s),i!==-1)?i:(i=wi.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=wi.call(this._minWeekdaysParse,s),i!==-1||(i=wi.call(this._weekdaysParse,s),i!==-1)?i:(i=wi.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function E1e(e,t,r){var n,i,o;if(this._weekdaysParseExact)return S1e.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=dc([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function C1e(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=h1e(e,this.localeData()),this.add(e-t,"d")):t}function k1e(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function T1e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=p1e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function P1e(e){return this._weekdaysParseExact?(Zr(this,"_weekdaysRegex")||cD.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Zr(this,"_weekdaysRegex")||(this._weekdaysRegex=y1e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function A1e(e){return this._weekdaysParseExact?(Zr(this,"_weekdaysRegex")||cD.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Zr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=v1e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function M1e(e){return this._weekdaysParseExact?(Zr(this,"_weekdaysRegex")||cD.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Zr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_1e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cD(){function e(g,y){return y.length-g.length}var t=[],r=[],n=[],i=[],o,s,a,f,h;for(o=0;o<7;o++)s=dc([2e3,1]).day(o),a=Ua(this.weekdaysMin(s,"")),f=Ua(this.weekdaysShort(s,"")),h=Ua(this.weekdays(s,"")),t.push(a),r.push(f),n.push(h),i.push(a),i.push(f),i.push(h);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function uD(){return this.hours()%12||12}function O1e(){return this.hours()||24}lr("H",["HH",2],0,"hour");lr("h",["hh",2],0,uD);lr("k",["kk",2],0,O1e);lr("hmm",0,0,function(){return""+uD.apply(this)+sc(this.minutes(),2)});lr("hmmss",0,0,function(){return""+uD.apply(this)+sc(this.minutes(),2)+sc(this.seconds(),2)});lr("Hmm",0,0,function(){return""+this.hours()+sc(this.minutes(),2)});lr("Hmmss",0,0,function(){return""+this.hours()+sc(this.minutes(),2)+sc(this.seconds(),2)});function Nq(e,t){lr(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Nq("a",!0);Nq("A",!1);Uo("hour","h");Vo("hour",13);function zq(e,t){return t._meridiemParse}Ht("a",zq);Ht("A",zq);Ht("H",Fn);Ht("h",Fn);Ht("k",Fn);Ht("HH",Fn,ns);Ht("hh",Fn,ns);Ht("kk",Fn,ns);Ht("hmm",Tq);Ht("hmmss",Pq);Ht("Hmm",Tq);Ht("Hmmss",Pq);En(["H","HH"],zi);En(["k","kk"],function(e,t,r){var n=Rr(e);t[zi]=n===24?0:n});En(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});En(["h","hh"],function(e,t,r){t[zi]=Rr(e),Tr(r).bigHour=!0});En("hmm",function(e,t,r){var n=e.length-2;t[zi]=Rr(e.substr(0,n)),t[hl]=Rr(e.substr(n)),Tr(r).bigHour=!0});En("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[zi]=Rr(e.substr(0,n)),t[hl]=Rr(e.substr(n,2)),t[Zc]=Rr(e.substr(i)),Tr(r).bigHour=!0});En("Hmm",function(e,t,r){var n=e.length-2;t[zi]=Rr(e.substr(0,n)),t[hl]=Rr(e.substr(n))});En("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[zi]=Rr(e.substr(0,n)),t[hl]=Rr(e.substr(n,2)),t[Zc]=Rr(e.substr(i))});function I1e(e){return(e+"").toLowerCase().charAt(0)==="p"}var R1e=/[ap]\.?m?\.?/i,$1e=Gg("Hours",!0);function D1e(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var jq={calendar:Ebe,longDateFormat:Pbe,invalidDate:Mbe,ordinal:Ibe,dayOfMonthOrdinalParse:Rbe,relativeTime:Dbe,months:Kbe,monthsShort:Aq,week:l1e,weekdays:m1e,weekdaysMin:g1e,weekdaysShort:Lq,meridiemParse:R1e},Hn={},Pv={},u_;function L1e(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function pB(e){return e&&e.toLowerCase().replace("_","-")}function N1e(e){for(var t=0,r,n,i,o;t<e.length;){for(o=pB(e[t]).split("-"),r=o.length,n=pB(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=zE(o.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&L1e(o,n)>=r-1)break;r--}t++}return u_}function z1e(e){return e.match("^[^/\\\\]*$")!=null}function zE(e){var t=null,r;if(Hn[e]===void 0&&typeof G1<"u"&&G1&&G1.exports&&z1e(e))try{t=u_._abbr,r=require,r("./locale/"+e),Pd(t)}catch{Hn[e]=null}return Hn[e]}function Pd(e,t){var r;return e&&(ga(t)?r=wu(e):r=dD(e,t),r?u_=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),u_._abbr}function dD(e,t){if(t!==null){var r,n=jq;if(t.abbr=e,Hn[e]!=null)bq("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Hn[e]._config;else if(t.parentLocale!=null)if(Hn[t.parentLocale]!=null)n=Hn[t.parentLocale]._config;else if(r=zE(t.parentLocale),r!=null)n=r._config;else return Pv[t.parentLocale]||(Pv[t.parentLocale]=[]),Pv[t.parentLocale].push({name:e,config:t}),null;return Hn[e]=new nD(MM(n,t)),Pv[e]&&Pv[e].forEach(function(i){dD(i.name,i.config)}),Pd(e),Hn[e]}else return delete Hn[e],null}function j1e(e,t){if(t!=null){var r,n,i=jq;Hn[e]!=null&&Hn[e].parentLocale!=null?Hn[e].set(MM(Hn[e]._config,t)):(n=zE(e),n!=null&&(i=n._config),t=MM(i,t),n==null&&(t.abbr=e),r=new nD(t),r.parentLocale=Hn[e],Hn[e]=r),Pd(e)}else Hn[e]!=null&&(Hn[e].parentLocale!=null?(Hn[e]=Hn[e].parentLocale,e===Pd()&&Pd(e)):Hn[e]!=null&&delete Hn[e]);return Hn[e]}function wu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return u_;if(!_l(e)){if(t=zE(e),t)return t;e=[e]}return N1e(e)}function B1e(){return OM(Hn)}function fD(e){var t,r=e._a;return r&&Tr(e).overflow===-2&&(t=r[Kc]<0||r[Kc]>11?Kc:r[Hl]<1||r[Hl]>NE(r[Bo],r[Kc])?Hl:r[zi]<0||r[zi]>24||r[zi]===24&&(r[hl]!==0||r[Zc]!==0||r[Hf]!==0)?zi:r[hl]<0||r[hl]>59?hl:r[Zc]<0||r[Zc]>59?Zc:r[Hf]<0||r[Hf]>999?Hf:-1,Tr(e)._overflowDayOfYear&&(t<Bo||t>Hl)&&(t=Hl),Tr(e)._overflowWeeks&&t===-1&&(t=Hbe),Tr(e)._overflowWeekday&&t===-1&&(t=Gbe),Tr(e).overflow=t),e}var F1e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,U1e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,V1e=/Z|[+-]\d\d(?::?\d\d)?/,l1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],XT=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],W1e=/^\/?Date\((-?\d+)/i,q1e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,H1e={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Bq(e){var t,r,n=e._i,i=F1e.exec(n)||U1e.exec(n),o,s,a,f,h=l1.length,g=XT.length;if(i){for(Tr(e).iso=!0,t=0,r=h;t<r;t++)if(l1[t][1].exec(i[1])){s=l1[t][0],o=l1[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,r=g;t<r;t++)if(XT[t][1].exec(i[3])){a=(i[2]||" ")+XT[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(V1e.exec(i[4]))f="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(f||""),pD(e)}else e._isValid=!1}function G1e(e,t,r,n,i,o){var s=[Y1e(e),Aq.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Y1e(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function K1e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Z1e(e,t,r){if(e){var n=Lq.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return Tr(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function X1e(e,t,r){if(e)return H1e[e];if(t)return 0;var n=parseInt(r,10),i=n%100,o=(n-i)/100;return o*60+i}function Fq(e){var t=q1e.exec(K1e(e._i)),r;if(t){if(r=G1e(t[4],t[3],t[2],t[5],t[6],t[7]),!Z1e(t[1],r,e))return;e._a=r,e._tzm=X1e(t[8],t[9],t[10]),e._d=l_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Tr(e).rfc2822=!0}else e._isValid=!1}function J1e(e){var t=W1e.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Bq(e),e._isValid===!1)delete e._isValid;else return;if(Fq(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:zt.createFromInputFallback(e)}zt.createFromInputFallback=Ns("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Gp(e,t,r){return e??t??r}function Q1e(e){var t=new Date(zt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function hD(e){var t,r,n=[],i,o,s;if(!e._d){for(i=Q1e(e),e._w&&e._a[Hl]==null&&e._a[Kc]==null&&ewe(e),e._dayOfYear!=null&&(s=Gp(e._a[Bo],i[Bo]),(e._dayOfYear>w0(s)||e._dayOfYear===0)&&(Tr(e)._overflowDayOfYear=!0),r=l_(s,0,e._dayOfYear),e._a[Kc]=r.getUTCMonth(),e._a[Hl]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[zi]===24&&e._a[hl]===0&&e._a[Zc]===0&&e._a[Hf]===0&&(e._nextDay=!0,e._a[zi]=0),e._d=(e._useUTC?l_:a1e).apply(null,n),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[zi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(Tr(e).weekdayMismatch=!0)}}function ewe(e){var t,r,n,i,o,s,a,f,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,r=Gp(t.GG,e._a[Bo],c_(Bn(),1,4).year),n=Gp(t.W,1),i=Gp(t.E,1),(i<1||i>7)&&(f=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=c_(Bn(),o,s),r=Gp(t.gg,e._a[Bo],h.year),n=Gp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(f=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(f=!0)):i=o),n<1||n>ru(r,o,s)?Tr(e)._overflowWeeks=!0:f!=null?Tr(e)._overflowWeekday=!0:(a=Dq(r,n,i,o,s),e._a[Bo]=a.year,e._dayOfYear=a.dayOfYear)}zt.ISO_8601=function(){};zt.RFC_2822=function(){};function pD(e){if(e._f===zt.ISO_8601){Bq(e);return}if(e._f===zt.RFC_2822){Fq(e);return}e._a=[],Tr(e).empty=!0;var t=""+e._i,r,n,i,o,s,a=t.length,f=0,h,g;for(i=wq(e._f,e._locale).match(iD)||[],g=i.length,r=0;r<g;r++)o=i[r],n=(t.match(Vbe(o,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&Tr(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),f+=n.length),Rm[o]?(n?Tr(e).empty=!1:Tr(e).unusedTokens.push(o),qbe(o,n,e)):e._strict&&!n&&Tr(e).unusedTokens.push(o);Tr(e).charsLeftOver=a-f,t.length>0&&Tr(e).unusedInput.push(t),e._a[zi]<=12&&Tr(e).bigHour===!0&&e._a[zi]>0&&(Tr(e).bigHour=void 0),Tr(e).parsedDateParts=e._a.slice(0),Tr(e).meridiem=e._meridiem,e._a[zi]=twe(e._locale,e._a[zi],e._meridiem),h=Tr(e).era,h!==null&&(e._a[Bo]=e._locale.erasConvertYear(h,e._a[Bo])),hD(e),fD(e)}function twe(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function rwe(e){var t,r,n,i,o,s,a=!1,f=e._f.length;if(f===0){Tr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<f;i++)o=0,s=!1,t=rD({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],pD(t),tD(t)&&(s=!0),o+=Tr(t).charsLeftOver,o+=Tr(t).unusedTokens.length*10,Tr(t).score=o,a?o<n&&(n=o,r=t):(n==null||o<n||s)&&(n=o,r=t,s&&(a=!0));fd(e,r||t)}function nwe(e){if(!e._d){var t=oD(e._i),r=t.day===void 0?t.date:t.day;e._a=_q([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),hD(e)}}function iwe(e){var t=new ox(fD(Uq(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Uq(e){var t=e._i,r=e._f;return e._locale=e._locale||wu(e._l),t===null||r===void 0&&t===""?ME({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),xl(t)?new ox(fD(t)):(ix(t)?e._d=t:_l(r)?rwe(e):r?pD(e):owe(e),tD(e)||(e._d=null),e))}function owe(e){var t=e._i;ga(t)?e._d=new Date(zt.now()):ix(t)?e._d=new Date(t.valueOf()):typeof t=="string"?J1e(e):_l(t)?(e._a=_q(t.slice(0),function(r){return parseInt(r,10)}),hD(e)):ih(t)?nwe(e):mu(t)?e._d=new Date(t):zt.createFromInputFallback(e)}function Vq(e,t,r,n,i){var o={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(ih(e)&&eD(e)||_l(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=r,o._i=e,o._f=t,o._strict=n,iwe(o)}function Bn(e,t,r,n){return Vq(e,t,r,n,!1)}var awe=Ns("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ME()}),swe=Ns("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ME()});function Wq(e,t){var r,n;if(t.length===1&&_l(t[0])&&(t=t[0]),!t.length)return Bn();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function lwe(){var e=[].slice.call(arguments,0);return Wq("isBefore",e)}function cwe(){var e=[].slice.call(arguments,0);return Wq("isAfter",e)}var uwe=function(){return Date.now?Date.now():+new Date},Av=["year","quarter","month","week","day","hour","minute","second","millisecond"];function dwe(e){var t,r=!1,n,i=Av.length;for(t in e)if(Zr(e,t)&&!(wi.call(Av,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[Av[n]]){if(r)return!1;parseFloat(e[Av[n]])!==Rr(e[Av[n]])&&(r=!0)}return!0}function fwe(){return this._isValid}function hwe(){return Sl(NaN)}function jE(e){var t=oD(e),r=t.year||0,n=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,f=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=dwe(t),this._milliseconds=+g+h*1e3+f*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+n*3+r*12,this._data={},this._locale=wu(),this._bubble()}function q1(e){return e instanceof jE}function RM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function pwe(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<n;s++)(r&&e[s]!==t[s]||!r&&Rr(e[s])!==Rr(t[s]))&&o++;return o+i}function qq(e,t){lr(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+sc(~~(r/60),2)+t+sc(~~r%60,2)})}qq("Z",":");qq("ZZ","");Ht("Z",LE);Ht("ZZ",LE);En(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=mD(LE,e)});var mwe=/([\+\-]|\d\d)/gi;function mD(e,t){var r=(t||"").match(e),n,i,o;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(mwe)||["-",0,0],o=+(i[1]*60)+Rr(i[2]),o===0?0:i[0]==="+"?o:-o)}function gD(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(xl(e)||ix(e)?e.valueOf():Bn(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),zt.updateOffset(r,!1),r):Bn(e).local()}function $M(e){return-Math.round(e._d.getTimezoneOffset())}zt.updateOffset=function(){};function gwe(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=mD(LE,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=$M(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?Yq(this,Sl(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,zt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:$M(this)}function ywe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vwe(e){return this.utcOffset(0,e)}function _we(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($M(this),"m")),this}function xwe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=mD(Fbe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bwe(e){return this.isValid()?(e=e?Bn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function wwe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Swe(){if(!ga(this._isDSTShifted))return this._isDSTShifted;var e={},t;return rD(e,this),e=Uq(e),e._a?(t=e._isUTC?dc(e._a):Bn(e._a),this._isDSTShifted=this.isValid()&&pwe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ewe(){return this.isValid()?!this._isUTC:!1}function Cwe(){return this.isValid()?this._isUTC:!1}function Hq(){return this.isValid()?this._isUTC&&this._offset===0:!1}var kwe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Twe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sl(e,t){var r=e,n=null,i,o,s;return q1(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:mu(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=kwe.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:Rr(n[Hl])*i,h:Rr(n[zi])*i,m:Rr(n[hl])*i,s:Rr(n[Zc])*i,ms:Rr(RM(n[Hf]*1e3))*i}):(n=Twe.exec(e))?(i=n[1]==="-"?-1:1,r={y:kf(n[2],i),M:kf(n[3],i),w:kf(n[4],i),d:kf(n[5],i),h:kf(n[6],i),m:kf(n[7],i),s:kf(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=Pwe(Bn(r.from),Bn(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),o=new jE(r),q1(e)&&Zr(e,"_locale")&&(o._locale=e._locale),q1(e)&&Zr(e,"_isValid")&&(o._isValid=e._isValid),o}Sl.fn=jE.prototype;Sl.invalid=hwe;function kf(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function mB(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Pwe(e,t){var r;return e.isValid()&&t.isValid()?(t=gD(t,e),e.isBefore(t)?r=mB(e,t):(r=mB(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Gq(e,t){return function(r,n){var i,o;return n!==null&&!isNaN(+n)&&(bq(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),i=Sl(r,n),Yq(this,i,e),this}}function Yq(e,t,r,n){var i=t._milliseconds,o=RM(t._days),s=RM(t._months);e.isValid()&&(n=n??!0,s&&Oq(e,Vw(e,"Month")+s*r),o&&Eq(e,"Date",Vw(e,"Date")+o*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&zt.updateOffset(e,o||s))}var Awe=Gq(1,"add"),Mwe=Gq(-1,"subtract");function Kq(e){return typeof e=="string"||e instanceof String}function Owe(e){return xl(e)||ix(e)||Kq(e)||mu(e)||Rwe(e)||Iwe(e)||e===null||e===void 0}function Iwe(e){var t=ih(e)&&!eD(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=n.length;for(i=0;i<s;i+=1)o=n[i],r=r||Zr(e,o);return t&&r}function Rwe(e){var t=_l(e),r=!1;return t&&(r=e.filter(function(n){return!mu(n)&&Kq(e)}).length===0),t&&r}function $we(e){var t=ih(e)&&!eD(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<n.length;i+=1)o=n[i],r=r||Zr(e,o);return t&&r}function Dwe(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Lwe(e,t){arguments.length===1&&(arguments[0]?Owe(arguments[0])?(e=arguments[0],t=void 0):$we(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Bn(),n=gD(r,this).startOf("day"),i=zt.calendarFormat(this,n)||"sameElse",o=t&&(fc(t[i])?t[i].call(this,r):t[i]);return this.format(o||this.localeData().calendar(i,this,Bn(r)))}function Nwe(){return new ox(this)}function zwe(e,t){var r=xl(e)?e:Bn(e);return this.isValid()&&r.isValid()?(t=zs(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function jwe(e,t){var r=xl(e)?e:Bn(e);return this.isValid()&&r.isValid()?(t=zs(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Bwe(e,t,r,n){var i=xl(e)?e:Bn(e),o=xl(t)?t:Bn(t);return this.isValid()&&i.isValid()&&o.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(o,r):!this.isAfter(o,r))):!1}function Fwe(e,t){var r=xl(e)?e:Bn(e),n;return this.isValid()&&r.isValid()?(t=zs(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Uwe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Vwe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Wwe(e,t,r){var n,i,o;if(!this.isValid())return NaN;if(n=gD(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=zs(t),t){case"year":o=H1(this,n)/12;break;case"month":o=H1(this,n);break;case"quarter":o=H1(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-i)/864e5;break;case"week":o=(this-n-i)/6048e5;break;default:o=this-n}return r?o:vs(o)}function H1(e,t){if(e.date()<t.date())return-H1(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,o;return t-n<0?(i=e.clone().add(r-1,"months"),o=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),o=(t-n)/(i-n)),-(r+o)||0}zt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";zt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function qwe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hwe(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?W1(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",W1(r,"Z")):W1(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Gwe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(r+n+i+o)}function Ywe(e){e||(e=this.isUtc()?zt.defaultFormatUtc:zt.defaultFormat);var t=W1(this,e);return this.localeData().postformat(t)}function Kwe(e,t){return this.isValid()&&(xl(e)&&e.isValid()||Bn(e).isValid())?Sl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Zwe(e){return this.from(Bn(),e)}function Xwe(e,t){return this.isValid()&&(xl(e)&&e.isValid()||Bn(e).isValid())?Sl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Jwe(e){return this.to(Bn(),e)}function Zq(e){var t;return e===void 0?this._locale._abbr:(t=wu(e),t!=null&&(this._locale=t),this)}var Xq=Ns("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Jq(){return this._locale}var Hw=1e3,$m=60*Hw,Gw=60*$m,Qq=(365*400+97)*24*Gw;function Dm(e,t){return(e%t+t)%t}function eH(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Qq:new Date(e,t,r).valueOf()}function tH(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Qq:Date.UTC(e,t,r)}function Qwe(e){var t,r;if(e=zs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?tH:eH,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Dm(t+(this._isUTC?0:this.utcOffset()*$m),Gw);break;case"minute":t=this._d.valueOf(),t-=Dm(t,$m);break;case"second":t=this._d.valueOf(),t-=Dm(t,Hw);break}return this._d.setTime(t),zt.updateOffset(this,!0),this}function eSe(e){var t,r;if(e=zs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?tH:eH,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Gw-Dm(t+(this._isUTC?0:this.utcOffset()*$m),Gw)-1;break;case"minute":t=this._d.valueOf(),t+=$m-Dm(t,$m)-1;break;case"second":t=this._d.valueOf(),t+=Hw-Dm(t,Hw)-1;break}return this._d.setTime(t),zt.updateOffset(this,!0),this}function tSe(){return this._d.valueOf()-(this._offset||0)*6e4}function rSe(){return Math.floor(this.valueOf()/1e3)}function nSe(){return new Date(this.valueOf())}function iSe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function oSe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function aSe(){return this.isValid()?this.toISOString():null}function sSe(){return tD(this)}function lSe(){return fd({},Tr(this))}function cSe(){return Tr(this).overflow}function uSe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}lr("N",0,0,"eraAbbr");lr("NN",0,0,"eraAbbr");lr("NNN",0,0,"eraAbbr");lr("NNNN",0,0,"eraName");lr("NNNNN",0,0,"eraNarrow");lr("y",["y",1],"yo","eraYear");lr("y",["yy",2],0,"eraYear");lr("y",["yyy",3],0,"eraYear");lr("y",["yyyy",4],0,"eraYear");Ht("N",yD);Ht("NN",yD);Ht("NNN",yD);Ht("NNNN",bSe);Ht("NNNNN",wSe);En(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?Tr(r).era=i:Tr(r).invalidEra=e});Ht("y",Yg);Ht("yy",Yg);Ht("yyy",Yg);Ht("yyyy",Yg);Ht("yo",SSe);En(["y","yy","yyy","yyyy"],Bo);En(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Bo]=r._locale.eraYearOrdinalParse(e,i):t[Bo]=parseInt(e,10)});function dSe(e,t){var r,n,i,o=this._eras||wu("en")._eras;for(r=0,n=o.length;r<n;++r){switch(typeof o[r].since){case"string":i=zt(o[r].since).startOf("day"),o[r].since=i.valueOf();break}switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":i=zt(o[r].until).startOf("day").valueOf(),o[r].until=i.valueOf();break}}return o}function fSe(e,t,r){var n,i,o=this.eras(),s,a,f;for(e=e.toUpperCase(),n=0,i=o.length;n<i;++n)if(s=o[n].name.toUpperCase(),a=o[n].abbr.toUpperCase(),f=o[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[n];break;case"NNNN":if(s===e)return o[n];break;case"NNNNN":if(f===e)return o[n];break}else if([s,a,f].indexOf(e)>=0)return o[n]}function hSe(e,t){var r=e.since<=e.until?1:-1;return t===void 0?zt(e.since).year():zt(e.since).year()+(t-e.offset)*r}function pSe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function mSe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function gSe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function ySe(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-zt(i[e].since).year())*r+i[e].offset;return this.year()}function vSe(e){return Zr(this,"_erasNameRegex")||vD.call(this),e?this._erasNameRegex:this._erasRegex}function _Se(e){return Zr(this,"_erasAbbrRegex")||vD.call(this),e?this._erasAbbrRegex:this._erasRegex}function xSe(e){return Zr(this,"_erasNarrowRegex")||vD.call(this),e?this._erasNarrowRegex:this._erasRegex}function yD(e,t){return t.erasAbbrRegex(e)}function bSe(e,t){return t.erasNameRegex(e)}function wSe(e,t){return t.erasNarrowRegex(e)}function SSe(e,t){return t._eraYearOrdinalRegex||Yg}function vD(){var e=[],t=[],r=[],n=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Ua(s[i].name)),e.push(Ua(s[i].abbr)),r.push(Ua(s[i].narrow)),n.push(Ua(s[i].name)),n.push(Ua(s[i].abbr)),n.push(Ua(s[i].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}lr(0,["gg",2],0,function(){return this.weekYear()%100});lr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function BE(e,t){lr(0,[e,e.length],0,t)}BE("gggg","weekYear");BE("ggggg","weekYear");BE("GGGG","isoWeekYear");BE("GGGGG","isoWeekYear");Uo("weekYear","gg");Uo("isoWeekYear","GG");Vo("weekYear",1);Vo("isoWeekYear",1);Ht("G",DE);Ht("g",DE);Ht("GG",Fn,ns);Ht("gg",Fn,ns);Ht("GGGG",sD,aD);Ht("gggg",sD,aD);Ht("GGGGG",$E,IE);Ht("ggggg",$E,IE);sx(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Rr(e)});sx(["gg","GG"],function(e,t,r,n){t[n]=zt.parseTwoDigitYear(e)});function ESe(e){return rH.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function CSe(e){return rH.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function kSe(){return ru(this.year(),1,4)}function TSe(){return ru(this.isoWeekYear(),1,4)}function PSe(){var e=this.localeData()._week;return ru(this.year(),e.dow,e.doy)}function ASe(){var e=this.localeData()._week;return ru(this.weekYear(),e.dow,e.doy)}function rH(e,t,r,n,i){var o;return e==null?c_(this,n,i).year:(o=ru(e,n,i),t>o&&(t=o),MSe.call(this,e,t,r,n,i))}function MSe(e,t,r,n,i){var o=Dq(e,t,r,n,i),s=l_(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}lr("Q",0,"Qo","quarter");Uo("quarter","Q");Vo("quarter",7);Ht("Q",Cq);En("Q",function(e,t){t[Kc]=(Rr(e)-1)*3});function OSe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}lr("D",["DD",2],"Do","date");Uo("date","D");Vo("date",9);Ht("D",Fn);Ht("DD",Fn,ns);Ht("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});En(["D","DD"],Hl);En("Do",function(e,t){t[Hl]=Rr(e.match(Fn)[0])});var nH=Gg("Date",!0);lr("DDD",["DDDD",3],"DDDo","dayOfYear");Uo("dayOfYear","DDD");Vo("dayOfYear",4);Ht("DDD",RE);Ht("DDDD",kq);En(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Rr(e)});function ISe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}lr("m",["mm",2],0,"minute");Uo("minute","m");Vo("minute",14);Ht("m",Fn);Ht("mm",Fn,ns);En(["m","mm"],hl);var RSe=Gg("Minutes",!1);lr("s",["ss",2],0,"second");Uo("second","s");Vo("second",15);Ht("s",Fn);Ht("ss",Fn,ns);En(["s","ss"],Zc);var $Se=Gg("Seconds",!1);lr("S",0,0,function(){return~~(this.millisecond()/100)});lr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});lr(0,["SSS",3],0,"millisecond");lr(0,["SSSS",4],0,function(){return this.millisecond()*10});lr(0,["SSSSS",5],0,function(){return this.millisecond()*100});lr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});lr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});lr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});lr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Uo("millisecond","ms");Vo("millisecond",16);Ht("S",RE,Cq);Ht("SS",RE,ns);Ht("SSS",RE,kq);var hd,iH;for(hd="SSSS";hd.length<=9;hd+="S")Ht(hd,Yg);function DSe(e,t){t[Hf]=Rr(("0."+e)*1e3)}for(hd="S";hd.length<=9;hd+="S")En(hd,DSe);iH=Gg("Milliseconds",!1);lr("z",0,0,"zoneAbbr");lr("zz",0,0,"zoneName");function LSe(){return this._isUTC?"UTC":""}function NSe(){return this._isUTC?"Coordinated Universal Time":""}var xt=ox.prototype;xt.add=Awe;xt.calendar=Lwe;xt.clone=Nwe;xt.diff=Wwe;xt.endOf=eSe;xt.format=Ywe;xt.from=Kwe;xt.fromNow=Zwe;xt.to=Xwe;xt.toNow=Jwe;xt.get=jbe;xt.invalidAt=cSe;xt.isAfter=zwe;xt.isBefore=jwe;xt.isBetween=Bwe;xt.isSame=Fwe;xt.isSameOrAfter=Uwe;xt.isSameOrBefore=Vwe;xt.isValid=sSe;xt.lang=Xq;xt.locale=Zq;xt.localeData=Jq;xt.max=swe;xt.min=awe;xt.parsingFlags=lSe;xt.set=Bbe;xt.startOf=Qwe;xt.subtract=Mwe;xt.toArray=iSe;xt.toObject=oSe;xt.toDate=nSe;xt.toISOString=Hwe;xt.inspect=Gwe;typeof Symbol<"u"&&Symbol.for!=null&&(xt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});xt.toJSON=aSe;xt.toString=qwe;xt.unix=rSe;xt.valueOf=tSe;xt.creationData=uSe;xt.eraName=pSe;xt.eraNarrow=mSe;xt.eraAbbr=gSe;xt.eraYear=ySe;xt.year=$q;xt.isLeapYear=o1e;xt.weekYear=ESe;xt.isoWeekYear=CSe;xt.quarter=xt.quarters=OSe;xt.month=Iq;xt.daysInMonth=r1e;xt.week=xt.weeks=d1e;xt.isoWeek=xt.isoWeeks=f1e;xt.weeksInYear=PSe;xt.weeksInWeekYear=ASe;xt.isoWeeksInYear=kSe;xt.isoWeeksInISOWeekYear=TSe;xt.date=nH;xt.day=xt.days=C1e;xt.weekday=k1e;xt.isoWeekday=T1e;xt.dayOfYear=ISe;xt.hour=xt.hours=$1e;xt.minute=xt.minutes=RSe;xt.second=xt.seconds=$Se;xt.millisecond=xt.milliseconds=iH;xt.utcOffset=gwe;xt.utc=vwe;xt.local=_we;xt.parseZone=xwe;xt.hasAlignedHourOffset=bwe;xt.isDST=wwe;xt.isLocal=Ewe;xt.isUtcOffset=Cwe;xt.isUtc=Hq;xt.isUTC=Hq;xt.zoneAbbr=LSe;xt.zoneName=NSe;xt.dates=Ns("dates accessor is deprecated. Use date instead.",nH);xt.months=Ns("months accessor is deprecated. Use month instead",Iq);xt.years=Ns("years accessor is deprecated. Use year instead",$q);xt.zone=Ns("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ywe);xt.isDSTShifted=Ns("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Swe);function zSe(e){return Bn(e*1e3)}function jSe(){return Bn.apply(null,arguments).parseZone()}function oH(e){return e}var Qr=nD.prototype;Qr.calendar=Cbe;Qr.longDateFormat=Abe;Qr.invalidDate=Obe;Qr.ordinal=$be;Qr.preparse=oH;Qr.postformat=oH;Qr.relativeTime=Lbe;Qr.pastFuture=Nbe;Qr.set=Sbe;Qr.eras=dSe;Qr.erasParse=fSe;Qr.erasConvertYear=hSe;Qr.erasAbbrRegex=_Se;Qr.erasNameRegex=vSe;Qr.erasNarrowRegex=xSe;Qr.months=Jbe;Qr.monthsShort=Qbe;Qr.monthsParse=t1e;Qr.monthsRegex=i1e;Qr.monthsShortRegex=n1e;Qr.week=s1e;Qr.firstDayOfYear=u1e;Qr.firstDayOfWeek=c1e;Qr.weekdays=x1e;Qr.weekdaysMin=w1e;Qr.weekdaysShort=b1e;Qr.weekdaysParse=E1e;Qr.weekdaysRegex=P1e;Qr.weekdaysShortRegex=A1e;Qr.weekdaysMinRegex=M1e;Qr.isPM=I1e;Qr.meridiem=D1e;function Yw(e,t,r,n){var i=wu(),o=dc().set(n,t);return i[r](o,e)}function aH(e,t,r){if(mu(e)&&(t=e,e=void 0),e=e||"",t!=null)return Yw(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Yw(e,n,r,"month");return i}function _D(e,t,r,n){typeof e=="boolean"?(mu(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,mu(t)&&(r=t,t=void 0),t=t||"");var i=wu(),o=e?i._week.dow:0,s,a=[];if(r!=null)return Yw(t,(r+o)%7,n,"day");for(s=0;s<7;s++)a[s]=Yw(t,(s+o)%7,n,"day");return a}function BSe(e,t){return aH(e,t,"months")}function FSe(e,t){return aH(e,t,"monthsShort")}function USe(e,t,r){return _D(e,t,r,"weekdays")}function VSe(e,t,r){return _D(e,t,r,"weekdaysShort")}function WSe(e,t,r){return _D(e,t,r,"weekdaysMin")}Pd("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Rr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});zt.lang=Ns("moment.lang is deprecated. Use moment.locale instead.",Pd);zt.langData=Ns("moment.langData is deprecated. Use moment.localeData instead.",wu);var Nc=Math.abs;function qSe(){var e=this._data;return this._milliseconds=Nc(this._milliseconds),this._days=Nc(this._days),this._months=Nc(this._months),e.milliseconds=Nc(e.milliseconds),e.seconds=Nc(e.seconds),e.minutes=Nc(e.minutes),e.hours=Nc(e.hours),e.months=Nc(e.months),e.years=Nc(e.years),this}function sH(e,t,r,n){var i=Sl(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function HSe(e,t){return sH(this,e,t,1)}function GSe(e,t){return sH(this,e,t,-1)}function gB(e){return e<0?Math.floor(e):Math.ceil(e)}function YSe(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,o,s,a,f;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=gB(DM(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=vs(e/1e3),n.seconds=i%60,o=vs(i/60),n.minutes=o%60,s=vs(o/60),n.hours=s%24,t+=vs(s/24),f=vs(lH(t)),r+=f,t-=gB(DM(f)),a=vs(r/12),r%=12,n.days=t,n.months=r,n.years=a,this}function lH(e){return e*4800/146097}function DM(e){return e*146097/4800}function KSe(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=zs(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+lH(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(DM(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function ZSe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Rr(this._months/12)*31536e6:NaN}function Su(e){return function(){return this.as(e)}}var XSe=Su("ms"),JSe=Su("s"),QSe=Su("m"),e2e=Su("h"),t2e=Su("d"),r2e=Su("w"),n2e=Su("M"),i2e=Su("Q"),o2e=Su("y");function a2e(){return Sl(this)}function s2e(e){return e=zs(e),this.isValid()?this[e+"s"]():NaN}function Ah(e){return function(){return this.isValid()?this._data[e]:NaN}}var l2e=Ah("milliseconds"),c2e=Ah("seconds"),u2e=Ah("minutes"),d2e=Ah("hours"),f2e=Ah("days"),h2e=Ah("months"),p2e=Ah("years");function m2e(){return vs(this.days()/7)}var Fc=Math.round,pm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function g2e(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function y2e(e,t,r,n){var i=Sl(e).abs(),o=Fc(i.as("s")),s=Fc(i.as("m")),a=Fc(i.as("h")),f=Fc(i.as("d")),h=Fc(i.as("M")),g=Fc(i.as("w")),y=Fc(i.as("y")),x=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||s<=1&&["m"]||s<r.m&&["mm",s]||a<=1&&["h"]||a<r.h&&["hh",a]||f<=1&&["d"]||f<r.d&&["dd",f];return r.w!=null&&(x=x||g<=1&&["w"]||g<r.w&&["ww",g]),x=x||h<=1&&["M"]||h<r.M&&["MM",h]||y<=1&&["y"]||["yy",y],x[2]=t,x[3]=+e>0,x[4]=n,g2e.apply(null,x)}function v2e(e){return e===void 0?Fc:typeof e=="function"?(Fc=e,!0):!1}function _2e(e,t){return pm[e]===void 0?!1:t===void 0?pm[e]:(pm[e]=t,e==="s"&&(pm.ss=t-1),!0)}function x2e(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=pm,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},pm,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),o=y2e(this,!r,n,i),r&&(o=i.pastFuture(+this,o)),i.postformat(o)}var JT=Math.abs;function jp(e){return(e>0)-(e<0)||+e}function FE(){if(!this.isValid())return this.localeData().invalidDate();var e=JT(this._milliseconds)/1e3,t=JT(this._days),r=JT(this._months),n,i,o,s,a=this.asSeconds(),f,h,g,y;return a?(n=vs(e/60),i=vs(n/60),e%=60,n%=60,o=vs(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=a<0?"-":"",h=jp(this._months)!==jp(a)?"-":"",g=jp(this._days)!==jp(a)?"-":"",y=jp(this._milliseconds)!==jp(a)?"-":"",f+"P"+(o?h+o+"Y":"")+(r?h+r+"M":"")+(t?g+t+"D":"")+(i||n||e?"T":"")+(i?y+i+"H":"")+(n?y+n+"M":"")+(e?y+s+"S":"")):"P0D"}var Fr=jE.prototype;Fr.isValid=fwe;Fr.abs=qSe;Fr.add=HSe;Fr.subtract=GSe;Fr.as=KSe;Fr.asMilliseconds=XSe;Fr.asSeconds=JSe;Fr.asMinutes=QSe;Fr.asHours=e2e;Fr.asDays=t2e;Fr.asWeeks=r2e;Fr.asMonths=n2e;Fr.asQuarters=i2e;Fr.asYears=o2e;Fr.valueOf=ZSe;Fr._bubble=YSe;Fr.clone=a2e;Fr.get=s2e;Fr.milliseconds=l2e;Fr.seconds=c2e;Fr.minutes=u2e;Fr.hours=d2e;Fr.days=f2e;Fr.weeks=m2e;Fr.months=h2e;Fr.years=p2e;Fr.humanize=x2e;Fr.toISOString=FE;Fr.toString=FE;Fr.toJSON=FE;Fr.locale=Zq;Fr.localeData=Jq;Fr.toIsoString=Ns("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",FE);Fr.lang=Xq;lr("X",0,0,"unix");lr("x",0,0,"valueOf");Ht("x",DE);Ht("X",Ube);En("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});En("x",function(e,t,r){r._d=new Date(Rr(e))});//! moment.js
zt.version="2.29.4";bbe(Bn);zt.fn=xt;zt.min=lwe;zt.max=cwe;zt.now=uwe;zt.utc=dc;zt.unix=zSe;zt.months=BSe;zt.isDate=ix;zt.locale=Pd;zt.invalid=ME;zt.duration=Sl;zt.isMoment=xl;zt.weekdays=USe;zt.parseZone=jSe;zt.localeData=wu;zt.isDuration=q1;zt.monthsShort=FSe;zt.weekdaysMin=WSe;zt.defineLocale=dD;zt.updateLocale=j1e;zt.locales=B1e;zt.weekdaysShort=VSe;zt.normalizeUnits=zs;zt.relativeTimeRounding=v2e;zt.relativeTimeThreshold=_2e;zt.calendarFormat=Dwe;zt.prototype=xt;zt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const b2e=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},w2e=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},S2e=(e,t)=>e*b2e(t),E2e=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},C2e=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},k2e=(e,t)=>e*E2e(t),T2e=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},P2e=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},A2e=(e,t)=>e*T2e(t),S0=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),cH=e=>e?"sharedYes":"sharedNo",M2e=(e,t=1)=>Number(e.toFixed(t)),uH=e=>`${e}%`,dH=(e,t,r)=>{if(e){const n=zt(e);switch(t){case"date":return n.format("YYYY-MM-DD");case"time":return n.format(r?"hh:mm:ss A":"HH:mm:ss");case"minutes":return n.format(r?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return n.format(r?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},fH=e=>e?S0("alarm",e):"",O2e=e=>{const t=["","","","","","","",""];let r=(e+22.5)%360;return r<0&&(r+=360),e.toFixed()+t[Math.floor(r/45)]},I2e=(e,t,r)=>`${k2e(e,t).toFixed(2)} ${C2e(t)}`,R2e=(e,t,r)=>`${A2e(e,t).toFixed(2)} ${P2e(t)}`,$2e=(e,t,r)=>`${S2e(e,t).toFixed(2)} ${w2e(t)}`,D2e=(e,t)=>{const r=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return`${r} ${t("sharedHourAbbreviation")} ${n} ${t("sharedMinuteAbbreviation")}`},yB=(e,t,r)=>{let n,i,o,s;switch(e==="latitude"?n=t>=0?"N":"S":n=t>=0?"E":"W",r){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i} ${o.toFixed(6)}' ${n}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i} ${o}' ${s}" ${n}`;default:return`${t.toFixed(6)}`}},hH=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},L2e=({positions:e,onClick:t,showStatus:r,selectedPosition:n,titleField:i})=>{const o=V.useId(),s=`${o}-clusters`,a=`${o}-direction`,f=Br(E=>E.devices.items),h=1,g=!0,y=!1,x="all",A=(E,R,N)=>{const D=E[R.deviceId];let F;switch(x){case"none":F=!1;break;case"all":F=!0;break;default:F=N===R.id;break}return{id:R.id,deviceId:R.deviceId,name:D.name,fixTime:dH(R.fixTime,"seconds",y),category:yW(D.category),color:r?hH(D.status):"neutral",rotation:R.course,direction:F}},T=()=>Qe.getCanvas().style.cursor="pointer",w=()=>Qe.getCanvas().style.cursor="",M=V.useCallback(E=>{!E.defaultPrevented&&t&&t()},[t]),O=V.useCallback(E=>{E.preventDefault();const R=E.features[0];t&&t(R.properties.id,R.properties.deviceId)},[t]),I=V.useCallback(E=>{E.preventDefault();const R=Qe.queryRenderedFeatures(E.point,{layers:[s]}),N=R[0].properties.cluster_id;Qe.getSource(o).getClusterExpansionZoom(N,(D,F)=>{D||Qe.easeTo({center:R[0].geometry.coordinates,zoom:F})})},[s]);return V.useEffect(()=>(Qe.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:g,clusterMaxZoom:14,clusterRadius:50}),Qe.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":h,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*h],"text-font":tu(Qe),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Qe.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":h,"text-field":"{point_count_abbreviated}","text-font":tu(Qe),"text-size":14}}),Qe.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":h,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),Qe.on("mouseenter",o,T),Qe.on("mouseleave",o,w),Qe.on("mouseenter",s,T),Qe.on("mouseleave",s,w),Qe.on("click",o,O),Qe.on("click",s,I),Qe.on("click",M),()=>{Qe.off("mouseenter",o,T),Qe.off("mouseleave",o,w),Qe.off("mouseenter",s,T),Qe.off("mouseleave",s,w),Qe.off("click",o,O),Qe.off("click",s,I),Qe.off("click",M),Qe.getLayer(o)&&Qe.removeLayer(o),Qe.getLayer(s)&&Qe.removeLayer(s),Qe.getLayer(a)&&Qe.removeLayer(a),Qe.getSource(o)&&Qe.removeSource(o)}),[g,s,a,O,I]),V.useEffect(()=>{Qe.getSource(o).setData({type:"FeatureCollection",features:e.filter(E=>f.hasOwnProperty(E.deviceId)).map(E=>({type:"Feature",geometry:{type:"Point",coordinates:[E.longitude,E.latitude]},properties:A(f,E,n&&n.id)}))})},[f,e,n]),null},N2e=()=>{const e=V.useId(),t=`${e}-points`,r=`${e}-points-clusters`,n=Br(g=>g.mission.route),i=!0,o=.6,s=(g,y)=>({id:y.id,name:g[y.routeid].name,uav:g[y.routeid].uav,latitude:g[y.routeid].wp[y.id].pos[0],longitude:g[y.routeid].wp[y.id].pos[1],altitud:g[y.routeid].wp[y.id].pos[2],yaw:g[y.routeid].wp[y.id].yaw,speed:g[y.routeid].wp[y.id].speed,gimbal:g[y.routeid].wp[y.id].gimbal,actions:g[y.routeid].wp[y.id].action,attributes:g[y.routeid].attributes,category:"default",color:g[y.routeid].id});function a(g){console.log("target"),console.log(g);let y=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${g.features[0].properties.uav}</b>
    <span><a href="https://www.google.com/maps?q=${g.features[0].properties.latitude},${g.features[0].properties.longitude}" target="_blank">
    Point_${g.features[0].properties.id}</a></span></div>
        <div><span>Route: ${g.features[0].properties.name}</span></div>
        <div style="display:inline"><span> Height: </span><span>${g.features[0].properties.altitud.toFixed(1)}m </span></div>`;y=g.features[0].properties.hasOwnProperty("speed")?y+`<div style="display:inline"><span>Speed: </span><span>${g.features[0].properties.speed} m/s </span></div>`:y,y=g.features[0].properties.hasOwnProperty("yaw")?y+`<div style="display:inline"><span>Yaw: </span><span>${g.features[0].properties.yaw} </span></div>`:y,y=g.features[0].properties.hasOwnProperty("gimbal")?y+`<div style="display:inline"><span>Gimbal: </span><span>${g.features[0].properties.gimbal} </span></div>`:y;let x="<div><b> Waypoint actions: </b></div>";if(g.features[0].properties.actions){let w=JSON.parse(g.features[0].properties.actions);x=x+Object.keys(w).map(M=>{let O=M=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${M}: </span><span>${w[M]} ${O} </span></div>`}).join("")}let A="<div><b> Attributes_mission: </b></div>",T=JSON.parse(g.features[0].properties.attributes);A=A+Object.keys(T).map(w=>{let M=w=="idle_vel"||w=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${w}: </span><span>${T[w]} ${M} </span></div>`}).join(""),new hE.Popup().setLngLat(g.lngLat).setHTML(y+x+A).addTo(Qe)}V.useEffect(()=>(Qe.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Qe.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Qe.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Qe.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":tu(Qe),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Qe.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":tu(Qe),"text-size":14},paint:{"text-color":"white"}}),Qe.addLayer({id:r,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":tu(Qe),"text-size":14}}),Qe.on("click","mission-points",a),Qe.on("mouseenter","mission-points",()=>{Qe.getCanvas().style.cursor="pointer"}),Qe.on("mouseleave","mission-points",()=>{Qe.getCanvas().style.cursor=""}),()=>{Qe.getLayer("mission-line")&&Qe.removeLayer("mission-line"),Qe.getLayer("mission-title")&&Qe.removeLayer("mission-title"),Qe.getLayer("mission-points")&&Qe.removeLayer("mission-points"),Qe.getLayer(r)&&Qe.removeLayer(r),Qe.getSource(e)&&Qe.removeSource(e),Qe.getSource(t)&&Qe.removeSource(t)}),[]);function f(g){let y=g.wp.map(function(x){return[x.pos[1],x.pos[0]]});return{id:g.id,type:"Feature",geometry:{type:"LineString",coordinates:y},properties:{name:g.uav,color:Km[g.id]}}}function h(g){let y=[];return g.forEach((x,A)=>{x.wp.forEach((T,w)=>{y.push({longitude:T.pos[1],latitude:T.pos[0],id:w,routeid:A})})}),y}return V.useEffect(()=>{let g=h(n);Qe.getSource(t).setData({type:"FeatureCollection",features:g.map(y=>({type:"Feature",geometry:{type:"Point",coordinates:[y.longitude,y.latitude]},properties:s(n,y)}))}),Qe.getSource(e).setData({type:"FeatureCollection",features:n.map(y=>f(y))})},[n]),null},z2e=({markers:e,showTitles:t})=>{const r=V.useId();W9();const n=.4;return V.useEffect(()=>(Qe.addSource(r,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t?Qe.addLayer({id:r,type:"symbol",source:r,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":n,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*n],"text-font":tu(Qe),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Qe.addLayer({id:r,type:"symbol",source:r,layout:{"icon-image":"{image}","icon-size":n,"icon-allow-overlap":!0}}),()=>{Qe.getLayer(r)&&Qe.removeLayer(r),Qe.getSource(r)&&Qe.removeSource(r)}),[t]),V.useEffect(()=>{var i;(i=Qe.getSource(r))==null||i.setData({type:"FeatureCollection",features:e.map(({latitude:o,longitude:s,image:a,title:f})=>({type:"Feature",geometry:{type:"Point",coordinates:[s,o]},properties:{image:a||"default-neutral",title:f||""}}))})},[t,e]),null},j2e=e=>{const t=V.useRef();return V.useEffect(()=>{t.current=e}),t.current},B2e=()=>{const e=Br(o=>o.devices.selectedId),t=j2e(e),r=10,n=!1,i=Br(o=>o.data.positions[e]);return V.useEffect(()=>{(e!==t||n)&&i&&i.hasOwnProperty("latitude")&&Qe.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(Qe.getZoom(),r),offset:[0,-300/2]})}),null};var vB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function F2e(e,t){return!!(e===t||vB(e)&&vB(t))}function U2e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!F2e(e[r],t[r]))return!1;return!0}function QT(e,t){t===void 0&&(t=U2e);var r,n=[],i,o=!1;function s(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return o&&r===this&&t(a,n)||(i=e.apply(this,a),o=!0,r=this,n=a),i}return s}var V2e=typeof performance=="object"&&typeof performance.now=="function",_B=V2e?function(){return performance.now()}:function(){return Date.now()};function xB(e){cancelAnimationFrame(e.id)}function W2e(e,t){var r=_B();function n(){_B()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var eP=-1;function bB(e){if(e===void 0&&(e=!1),eP===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),eP=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return eP}var Bp=null;function wB(e){if(e===void 0&&(e=!1),Bp===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Bp="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Bp="negative":Bp="positive-ascending"),document.body.removeChild(t),Bp}return Bp}var q2e=150,H2e=function(t,r){return t};function G2e(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,f=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(y){Y_(x,y);function x(T){var w;return w=y.call(this,T)||this,w._instanceProps=f(w.props,Q0(w)),w._outerRef=void 0,w._resetIsScrollingTimeoutId=null,w.state={instance:Q0(w),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof w.props.initialScrollOffset=="number"?w.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},w._callOnItemsRendered=void 0,w._callOnItemsRendered=QT(function(M,O,I,E){return w.props.onItemsRendered({overscanStartIndex:M,overscanStopIndex:O,visibleStartIndex:I,visibleStopIndex:E})}),w._callOnScroll=void 0,w._callOnScroll=QT(function(M,O,I){return w.props.onScroll({scrollDirection:M,scrollOffset:O,scrollUpdateWasRequested:I})}),w._getItemStyle=void 0,w._getItemStyle=function(M){var O=w.props,I=O.direction,E=O.itemSize,R=O.layout,N=w._getItemStyleCache(h&&E,h&&R,h&&I),D;if(N.hasOwnProperty(M))D=N[M];else{var F=r(w.props,M,w._instanceProps),q=i(w.props,M,w._instanceProps),J=I==="horizontal"||R==="horizontal",Q=I==="rtl",ae=J?F:0;N[M]=D={position:"absolute",left:Q?void 0:ae,right:Q?ae:void 0,top:J?0:F,height:J?"100%":q,width:J?q:"100%"}}return D},w._getItemStyleCache=void 0,w._getItemStyleCache=QT(function(M,O,I){return{}}),w._onScrollHorizontal=function(M){var O=M.currentTarget,I=O.clientWidth,E=O.scrollLeft,R=O.scrollWidth;w.setState(function(N){if(N.scrollOffset===E)return null;var D=w.props.direction,F=E;if(D==="rtl")switch(wB()){case"negative":F=-E;break;case"positive-descending":F=R-I-E;break}return F=Math.max(0,Math.min(F,R-I)),{isScrolling:!0,scrollDirection:N.scrollOffset<E?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._onScrollVertical=function(M){var O=M.currentTarget,I=O.clientHeight,E=O.scrollHeight,R=O.scrollTop;w.setState(function(N){if(N.scrollOffset===R)return null;var D=Math.max(0,Math.min(R,E-I));return{isScrolling:!0,scrollDirection:N.scrollOffset<D?"forward":"backward",scrollOffset:D,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._outerRefSetter=function(M){var O=w.props.outerRef;w._outerRef=M,typeof O=="function"?O(M):O!=null&&typeof O=="object"&&O.hasOwnProperty("current")&&(O.current=M)},w._resetIsScrollingDebounced=function(){w._resetIsScrollingTimeoutId!==null&&xB(w._resetIsScrollingTimeoutId),w._resetIsScrollingTimeoutId=W2e(w._resetIsScrolling,q2e)},w._resetIsScrolling=function(){w._resetIsScrollingTimeoutId=null,w.setState({isScrolling:!1},function(){w._getItemStyleCache(-1,null)})},w}x.getDerivedStateFromProps=function(w,M){return Y2e(w,M),g(w),null};var A=x.prototype;return A.scrollTo=function(w){w=Math.max(0,w),this.setState(function(M){return M.scrollOffset===w?null:{scrollDirection:M.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},A.scrollToItem=function(w,M){M===void 0&&(M="auto");var O=this.props,I=O.itemCount,E=O.layout,R=this.state.scrollOffset;w=Math.max(0,Math.min(w,I-1));var N=0;if(this._outerRef){var D=this._outerRef;E==="vertical"?N=D.scrollWidth>D.clientWidth?bB():0:N=D.scrollHeight>D.clientHeight?bB():0}this.scrollTo(o(this.props,w,M,R,this._instanceProps,N))},A.componentDidMount=function(){var w=this.props,M=w.direction,O=w.initialScrollOffset,I=w.layout;if(typeof O=="number"&&this._outerRef!=null){var E=this._outerRef;M==="horizontal"||I==="horizontal"?E.scrollLeft=O:E.scrollTop=O}this._callPropsCallbacks()},A.componentDidUpdate=function(){var w=this.props,M=w.direction,O=w.layout,I=this.state,E=I.scrollOffset,R=I.scrollUpdateWasRequested;if(R&&this._outerRef!=null){var N=this._outerRef;if(M==="horizontal"||O==="horizontal")if(M==="rtl")switch(wB()){case"negative":N.scrollLeft=-E;break;case"positive-ascending":N.scrollLeft=E;break;default:var D=N.clientWidth,F=N.scrollWidth;N.scrollLeft=F-D-E;break}else N.scrollLeft=E;else N.scrollTop=E}this._callPropsCallbacks()},A.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&xB(this._resetIsScrollingTimeoutId)},A.render=function(){var w=this.props,M=w.children,O=w.className,I=w.direction,E=w.height,R=w.innerRef,N=w.innerElementType,D=w.innerTagName,F=w.itemCount,q=w.itemData,J=w.itemKey,Q=J===void 0?H2e:J,ae=w.layout,he=w.outerElementType,fe=w.outerTagName,we=w.style,ge=w.useIsScrolling,Ce=w.width,Te=this.state.isScrolling,Ee=I==="horizontal"||ae==="horizontal",Oe=Ee?this._onScrollHorizontal:this._onScrollVertical,qe=this._getRangeToRender(),rt=qe[0],Pe=qe[1],je=[];if(F>0)for(var Le=rt;Le<=Pe;Le++)je.push(V.createElement(M,{data:q,key:Q(Le,q),index:Le,isScrolling:ge?Te:void 0,style:this._getItemStyle(Le)}));var Ye=n(this.props,this._instanceProps);return V.createElement(he||fe||"div",{className:O,onScroll:Oe,ref:this._outerRefSetter,style:bn({position:"relative",height:E,width:Ce,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:I},we)},V.createElement(N||D||"div",{children:je,ref:R,style:{height:Ee?"100%":Ye,pointerEvents:Te?"none":void 0,width:Ee?Ye:"100%"}}))},A._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var w=this.props.itemCount;if(w>0){var M=this._getRangeToRender(),O=M[0],I=M[1],E=M[2],R=M[3];this._callOnItemsRendered(O,I,E,R)}}if(typeof this.props.onScroll=="function"){var N=this.state,D=N.scrollDirection,F=N.scrollOffset,q=N.scrollUpdateWasRequested;this._callOnScroll(D,F,q)}},A._getRangeToRender=function(){var w=this.props,M=w.itemCount,O=w.overscanCount,I=this.state,E=I.isScrolling,R=I.scrollDirection,N=I.scrollOffset;if(M===0)return[0,0,0,0];var D=s(this.props,N,this._instanceProps),F=a(this.props,D,N,this._instanceProps),q=!E||R==="backward"?Math.max(1,O):1,J=!E||R==="forward"?Math.max(1,O):1;return[Math.max(0,D-q),Math.max(0,Math.min(M-1,F+J)),D,F]},x}(V.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Y2e=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},K2e=G2e({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,s){var a=t.direction,f=t.height,h=t.itemCount,g=t.itemSize,y=t.layout,x=t.width,A=a==="horizontal"||y==="horizontal",T=A?x:f,w=Math.max(0,h*g-T),M=Math.min(w,r*g),O=Math.max(0,r*g-T+g+s);switch(n==="smart"&&(i>=O-T&&i<=M+T?n="auto":n="center"),n){case"start":return M;case"end":return O;case"center":{var I=Math.round(O+(M-O)/2);return I<Math.ceil(T/2)?0:I>w+Math.floor(T/2)?w:I}case"auto":default:return i>=O&&i<=M?i:i<O?O:M}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,f=t.layout,h=t.width,g=i==="horizontal"||f==="horizontal",y=r*a,x=g?h:o,A=Math.ceil((x+n-y)/a);return Math.max(0,Math.min(s-1,r+A-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Cs;typeof window<"u"?Cs=window:typeof self<"u"?Cs=self:Cs=global;let LM=null,NM=null;const SB=20,tP=Cs.clearTimeout,EB=Cs.setTimeout,rP=Cs.cancelAnimationFrame||Cs.mozCancelAnimationFrame||Cs.webkitCancelAnimationFrame,CB=Cs.requestAnimationFrame||Cs.mozRequestAnimationFrame||Cs.webkitRequestAnimationFrame;rP==null||CB==null?(LM=tP,NM=function(t){return EB(t,SB)}):(LM=function([t,r]){rP(t),tP(r)},NM=function(t){const r=CB(function(){tP(n),t()}),n=EB(function(){rP(r),t()},SB);return[r,n]});function Z2e(e){let t,r,n,i,o,s,a;const f=typeof document<"u"&&document.attachEvent;if(!f){s=function(O){const I=O.__resizeTriggers__,E=I.firstElementChild,R=I.lastElementChild,N=E.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,N.style.width=E.offsetWidth+1+"px",N.style.height=E.offsetHeight+1+"px",E.scrollLeft=E.scrollWidth,E.scrollTop=E.scrollHeight},o=function(O){return O.offsetWidth!==O.__resizeLast__.width||O.offsetHeight!==O.__resizeLast__.height},a=function(O){if(O.target.className&&typeof O.target.className.indexOf=="function"&&O.target.className.indexOf("contract-trigger")<0&&O.target.className.indexOf("expand-trigger")<0)return;const I=this;s(this),this.__resizeRAF__&&LM(this.__resizeRAF__),this.__resizeRAF__=NM(function(){o(I)&&(I.__resizeLast__.width=I.offsetWidth,I.__resizeLast__.height=I.offsetHeight,I.__resizeListeners__.forEach(function(N){N.call(I,O)}))})};let x=!1,A="";n="animationstart";const T="Webkit Moz O ms".split(" ");let w="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),M="";{const O=document.createElement("fakeelement");if(O.style.animationName!==void 0&&(x=!0),x===!1){for(let I=0;I<T.length;I++)if(O.style[T[I]+"AnimationName"]!==void 0){M=T[I],A="-"+M.toLowerCase()+"-",n=w[I],x=!0;break}}}r="resizeanim",t="@"+A+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",i=A+"animation: 1ms "+r+"; "}const h=function(x){if(!x.getElementById("detectElementResize")){const A=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',T=x.head||x.getElementsByTagName("head")[0],w=x.createElement("style");w.id="detectElementResize",w.type="text/css",e!=null&&w.setAttribute("nonce",e),w.styleSheet?w.styleSheet.cssText=A:w.appendChild(x.createTextNode(A)),T.appendChild(w)}};return{addResizeListener:function(x,A){if(f)x.attachEvent("onresize",A);else{if(!x.__resizeTriggers__){const T=x.ownerDocument,w=Cs.getComputedStyle(x);w&&w.position==="static"&&(x.style.position="relative"),h(T),x.__resizeLast__={},x.__resizeListeners__=[],(x.__resizeTriggers__=T.createElement("div")).className="resize-triggers";const M=T.createElement("div");M.className="expand-trigger",M.appendChild(T.createElement("div"));const O=T.createElement("div");O.className="contract-trigger",x.__resizeTriggers__.appendChild(M),x.__resizeTriggers__.appendChild(O),x.appendChild(x.__resizeTriggers__),s(x),x.addEventListener("scroll",a,!0),n&&(x.__resizeTriggers__.__animationListener__=function(E){E.animationName===r&&s(x)},x.__resizeTriggers__.addEventListener(n,x.__resizeTriggers__.__animationListener__))}x.__resizeListeners__.push(A)}},removeResizeListener:function(x,A){if(f)x.detachEvent("onresize",A);else if(x.__resizeListeners__.splice(x.__resizeListeners__.indexOf(A),1),!x.__resizeListeners__.length){x.removeEventListener("scroll",a,!0),x.__resizeTriggers__.__animationListener__&&(x.__resizeTriggers__.removeEventListener(n,x.__resizeTriggers__.__animationListener__),x.__resizeTriggers__.__animationListener__=null);try{x.__resizeTriggers__=!x.removeChild(x.__resizeTriggers__)}catch{}}}}}class X2e extends V.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:n,onResize:i}=this.props;if(this._parentNode){var o,s,a,f;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),y=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),x=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),A=parseFloat((f=h.paddingBottom)!==null&&f!==void 0?f:"0"),T=this._parentNode.getBoundingClientRect(),w=T.height-x-A,M=T.width-g-y,O=this._parentNode.offsetHeight-x-A,I=this._parentNode.offsetWidth-g-y;(!r&&(this.state.height!==O||this.state.scaledHeight!==w)||!n&&(this.state.width!==I||this.state.scaledWidth!==M))&&(this.setState({height:O,width:I,scaledHeight:w,scaledWidth:M}),typeof i=="function"&&i({height:O,scaledHeight:w,scaledWidth:M,width:I}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Z2e(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:r,defaultWidth:n,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:f={},tagName:h="div",...g}=this.props,{height:y,scaledHeight:x,scaledWidth:A,width:T}=this.state,w={overflow:"visible"},M={};let O=!1;return i||(y===0&&(O=!0),w.height=0,M.height=y,M.scaledHeight=x),o||(T===0&&(O=!0),w.width=0,M.width=T,M.scaledWidth=A),V.createElement(h,{ref:this._setRef,style:{...w,...f},...g},!O&&t(M))}}var xD={},J2e=ln;Object.defineProperty(xD,"__esModule",{value:!0});var pH=xD.default=void 0,Q2e=J2e(cn()),eEe=B,tEe=(0,Q2e.default)((0,eEe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");pH=xD.default=tEe;var bD={},rEe=ln;Object.defineProperty(bD,"__esModule",{value:!0});var mH=bD.default=void 0,nEe=rEe(cn()),iEe=B,oEe=(0,nEe.default)((0,iEe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");mH=bD.default=oEe;var wD={},aEe=ln;Object.defineProperty(wD,"__esModule",{value:!0});var gH=wD.default=void 0,sEe=cEe(V),lEe=aEe(cn()),nP=B;function yH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(yH=function(n){return n?r:t})(e)}function cEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=yH(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var uEe=(0,lEe.default)((0,nP.jsxs)(sEe.Fragment,{children:[(0,nP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,nP.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");gH=wD.default=uEe;var SD={},dEe=ln;Object.defineProperty(SD,"__esModule",{value:!0});var vH=SD.default=void 0,fEe=pEe(V),hEe=dEe(cn()),iP=B;function _H(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(_H=function(n){return n?r:t})(e)}function pEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=_H(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var mEe=(0,hEe.default)((0,iP.jsxs)(fEe.Fragment,{children:[(0,iP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,iP.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");vH=SD.default=mEe;var ED={},gEe=ln;Object.defineProperty(ED,"__esModule",{value:!0});var xH=ED.default=void 0,yEe=_Ee(V),vEe=gEe(cn()),oP=B;function bH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(bH=function(n){return n?r:t})(e)}function _Ee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=bH(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var xEe=(0,vEe.default)((0,oP.jsxs)(yEe.Fragment,{children:[(0,oP.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,oP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");xH=ED.default=xEe;var CD={},bEe=ln;Object.defineProperty(CD,"__esModule",{value:!0});var wH=CD.default=void 0,wEe=EEe(V),SEe=bEe(cn()),aP=B;function SH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(SH=function(n){return n?r:t})(e)}function EEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=SH(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var CEe=(0,SEe.default)((0,aP.jsxs)(wEe.Fragment,{children:[(0,aP.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,aP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");wH=CD.default=CEe;var kD={},kEe=ln;Object.defineProperty(kD,"__esModule",{value:!0});var EH=kD.default=void 0,TEe=kEe(cn()),PEe=B,AEe=(0,TEe.default)((0,PEe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");EH=kD.default=AEe;const kB=e=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e},V.createElement("title",null,"Engine"),V.createElement("path",{fill:"currentColor",d:"M13.778 6.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778 13.333c-0.3 0-0.579 0.121-0.79 0.321l-1.888 1.901h-2.878c-0.611 0-1.111 0.5-1.111 1.111v6.667c0 0.611 0.5 1.111 1.111 1.111h1.888l3.056 2.033c0.178 0.122 0.39 0.189 0.612 0.189h5.556c0.244 0 0.477-0.077 0.666-0.221l4.444-3.333c0.278-0.211 0.445-0.545 0.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111 14.444v6.667h2.222v-6.667h-2.222zM17.111 15.556v3.333h2.222l-3.333 5.556v-3.333h-2.222l3.333-5.556zM2.667 16.667v5.556h2.222v-5.556h-2.222z"})),MEe=$i(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),OEe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},sP={color:al[500]},TB={color:bR[700]},lP={color:Vc[500]},IEe={color:Ql[500]},REe=({data:e,index:t,style:r})=>{const n=MEe(),i=bl(),o=e[t],s=Br(h=>h.data.positions[o.id]),a=o.name,f=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=zt(o.lastUpdate).fromNow(),B.jsxs(De.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&B.jsx(Or,{component:"span",style:{fontSize:12},children:s.attributes.landed_state}),B.jsx(Or,{component:"span",style:{fontSize:12},className:n[hH(o.status)],children:h})]})};return B.jsx("div",{style:r,children:B.jsxs(Ope,{onClick:()=>i(cl.selectId(o.id)),disabled:o.disabled,children:[B.jsx(Npe,{children:B.jsx(Xue,{children:B.jsx("img",{style:OEe,src:Tw[yW(o.category)],alt:""})})}),B.jsx(qpe,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:f(),secondaryTypographyProps:{noWrap:!0}}),s&&B.jsxs(B.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&B.jsx(Hp,{title:`positionIgnition: ${cH(s.attributes.ignition)}`,children:B.jsx(Vr,{size:"small",children:s.attributes.ignition?B.jsx(kB,{width:20,height:20,style:sP}):B.jsx(kB,{width:20,height:20,style:IEe})})}),s.hasOwnProperty("speed")&&B.jsx(Hp,{title:`speed: ${s.speed}`,children:B.jsx(Vr,{size:"small",children:B.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&B.jsx(Hp,{title:`altitude: ${Math.round(s.altitude)}`,children:B.jsx(Vr,{size:"small",children:B.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&B.jsx(Hp,{title:`BatteryLevel: ${uH(s.attributes.batteryLevel)}`,children:B.jsx(Vr,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?B.jsx(mH,{fontSize:"small",style:sP}):B.jsx(pH,{fontSize:"small",style:sP}):s.attributes.batteryLevel>30?s.attributes.charge?B.jsx(vH,{fontSize:"small",style:TB}):B.jsx(gH,{fontSize:"small",style:TB}):s.attributes.charge?B.jsx(wH,{fontSize:"small",style:lP}):B.jsx(xH,{fontSize:"small",style:lP})})}),s.attributes.hasOwnProperty("alarm")&&B.jsx(Hp,{title:`eventAlarm: ${fH(s.attributes.alarm)}`,children:B.jsx(Vr,{size:"small",children:B.jsx(EH,{fontSize:"small",style:lP})})})]})]},o.id)})},$Ee=$i(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),CH=({devices:e})=>{const t=$Ee();bl();const r=V.useRef(null);r.current&&(r.current.className=t.listInner);const[,n]=V.useState(Date.now());return V.useEffect(()=>{const i=setInterval(()=>n(Date.now()),6e4);return()=>{clearInterval(i)}},[]),B.jsx(X2e,{className:t.list,children:({height:i,width:o})=>B.jsx(K2e,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:r,children:REe})})};var TD={exports:{}},kH={};const DEe=dU(y0e);var gi={},hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.dontSetMe=BEe;hc.findInArray=LEe;hc.int=jEe;hc.isFunction=NEe;hc.isNum=zEe;function LEe(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function NEe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function zEe(e){return typeof e=="number"&&!isNaN(e)}function jEe(e){return parseInt(e,10)}function BEe(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.browserPrefixToKey=PH;Mh.browserPrefixToStyle=FEe;Mh.default=void 0;Mh.getPrefix=TH;var cP=["Moz","Webkit","O","ms"];function TH(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var n=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!n||r in n)return"";for(var i=0;i<cP.length;i++)if(PH(r,cP[i])in n)return cP[i];return""}function PH(e,t){return t?"".concat(t).concat(UEe(e)):e}function FEe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function UEe(e){for(var t="",r=!0,n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}var VEe=TH();Mh.default=VEe;function zM(e){"@babel/helpers - typeof";return zM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zM(e)}Object.defineProperty(gi,"__esModule",{value:!0});gi.addClassName=RH;gi.addEvent=HEe;gi.addUserSelectStyles=nCe;gi.createCSSTransform=QEe;gi.createSVGTransform=eCe;gi.getTouch=tCe;gi.getTouchIdentifier=rCe;gi.getTranslation=PD;gi.innerHeight=ZEe;gi.innerWidth=XEe;gi.matchesSelector=IH;gi.matchesSelectorAndParentsTo=qEe;gi.offsetXYFromParent=JEe;gi.outerHeight=YEe;gi.outerWidth=KEe;gi.removeClassName=$H;gi.removeEvent=GEe;gi.removeUserSelectStyles=iCe;var Ka=hc,PB=WEe(Mh);function AH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(AH=function(i){return i?r:t})(e)}function WEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||zM(e)!=="object"&&typeof e!="function")return{default:e};var r=AH(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function AB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c1="";function IH(e,t){return c1||(c1=(0,Ka.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Ka.isFunction)(e[r])})),(0,Ka.isFunction)(e[c1])?e[c1](t):!1}function qEe(e,t,r){var n=e;do{if(IH(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function HEe(e,t,r,n){if(e){var i=MH({capture:!0},n);e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function GEe(e,t,r,n){if(e){var i=MH({capture:!0},n);e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function YEe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ka.int)(r.borderTopWidth),t+=(0,Ka.int)(r.borderBottomWidth),t}function KEe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ka.int)(r.borderLeftWidth),t+=(0,Ka.int)(r.borderRightWidth),t}function ZEe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ka.int)(r.paddingTop),t-=(0,Ka.int)(r.paddingBottom),t}function XEe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ka.int)(r.paddingLeft),t-=(0,Ka.int)(r.paddingRight),t}function JEe(e,t,r){var n=t===t.ownerDocument.body,i=n?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/r,s=(e.clientY+t.scrollTop-i.top)/r;return{x:o,y:s}}function QEe(e,t){var r=PD(e,t,"px");return OH({},(0,PB.browserPrefixToKey)("transform",PB.default),r)}function eCe(e,t){var r=PD(e,t,"");return r}function PD(e,t,r){var n=e.x,i=e.y,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){var s="".concat(typeof t.x=="string"?t.x:t.x+r),a="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(s,", ").concat(a,")")+o}return o}function tCe(e,t){return e.targetTouches&&(0,Ka.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,Ka.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function rCe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function nCe(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&RH(e.body,"react-draggable-transparent-selection")}}function iCe(e){if(e)try{if(e.body&&$H(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function RH(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function $H(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.canDragX=sCe;pc.canDragY=lCe;pc.createCoreData=uCe;pc.createDraggableData=dCe;pc.getBoundPosition=oCe;pc.getControlPosition=cCe;pc.snapToGrid=aCe;var za=hc,mm=gi;function oCe(e,t,r){if(!e.props.bounds)return[t,r];var n=e.props.bounds;n=typeof n=="string"?n:fCe(n);var i=AD(e);if(typeof n=="string"){var o=i.ownerDocument,s=o.defaultView,a;if(n==="parent"?a=i.parentNode:a=o.querySelector(n),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var f=a,h=s.getComputedStyle(i),g=s.getComputedStyle(f);n={left:-i.offsetLeft+(0,za.int)(g.paddingLeft)+(0,za.int)(h.marginLeft),top:-i.offsetTop+(0,za.int)(g.paddingTop)+(0,za.int)(h.marginTop),right:(0,mm.innerWidth)(f)-(0,mm.outerWidth)(i)-i.offsetLeft+(0,za.int)(g.paddingRight)-(0,za.int)(h.marginRight),bottom:(0,mm.innerHeight)(f)-(0,mm.outerHeight)(i)-i.offsetTop+(0,za.int)(g.paddingBottom)-(0,za.int)(h.marginBottom)}}return(0,za.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,za.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,za.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,za.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function aCe(e,t,r){var n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function sCe(e){return e.props.axis==="both"||e.props.axis==="x"}function lCe(e){return e.props.axis==="both"||e.props.axis==="y"}function cCe(e,t,r){var n=typeof t=="number"?(0,mm.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;var i=AD(r),o=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,mm.offsetXYFromParent)(n||e,o,r.props.scale)}function uCe(e,t,r){var n=e.state,i=!(0,za.isNum)(n.lastX),o=AD(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:r}}function dCe(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function fCe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function AD(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var UE={},VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.default=hCe;function hCe(){}function Kw(e){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kw(e)}Object.defineProperty(UE,"__esModule",{value:!0});UE.default=void 0;var uP=mCe(V),Na=MD(SR),pCe=MD(cc),Oo=gi,Ku=pc,dP=hc,Mv=MD(VE);function MD(e){return e&&e.__esModule?e:{default:e}}function DH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(DH=function(i){return i?r:t})(e)}function mCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||Kw(e)!=="object"&&typeof e!="function")return{default:e};var r=DH(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function MB(e,t){return _Ce(e)||vCe(e,t)||yCe(e,t)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(e,t){if(e){if(typeof e=="string")return OB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OB(e,t)}}function OB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(f){o=!0,a=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function _Ce(e){if(Array.isArray(e))return e}function xCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bCe(e,t,r){return t&&IB(e.prototype,t),r&&IB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jM(e,t)}function jM(e,t){return jM=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jM(e,t)}function SCe(e){var t=CCe();return function(){var n=Zw(e),i;if(t){var o=Zw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ECe(this,i)}}function ECe(e,t){if(t&&(Kw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(e)}function hs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var el={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Zu=el.mouse,WE=function(e){wCe(r,e);var t=SCe(r);function r(){var n;xCe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),hs(Ro(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),hs(Ro(n),"mounted",!1),hs(Ro(n),"handleDragStart",function(a){if(n.props.onMouseDown(a),!n.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var f=n.findDOMNode();if(!f||!f.ownerDocument||!f.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var h=f.ownerDocument;if(!(n.props.disabled||!(a.target instanceof h.defaultView.Node)||n.props.handle&&!(0,Oo.matchesSelectorAndParentsTo)(a.target,n.props.handle,f)||n.props.cancel&&(0,Oo.matchesSelectorAndParentsTo)(a.target,n.props.cancel,f))){a.type==="touchstart"&&a.preventDefault();var g=(0,Oo.getTouchIdentifier)(a);n.setState({touchIdentifier:g});var y=(0,Ku.getControlPosition)(a,g,Ro(n));if(y!=null){var x=y.x,A=y.y,T=(0,Ku.createCoreData)(Ro(n),x,A);(0,Mv.default)("DraggableCore: handleDragStart: %j",T),(0,Mv.default)("calling",n.props.onStart);var w=n.props.onStart(a,T);w===!1||n.mounted===!1||(n.props.enableUserSelectHack&&(0,Oo.addUserSelectStyles)(h),n.setState({dragging:!0,lastX:x,lastY:A}),(0,Oo.addEvent)(h,Zu.move,n.handleDrag),(0,Oo.addEvent)(h,Zu.stop,n.handleDragStop))}}}),hs(Ro(n),"handleDrag",function(a){var f=(0,Ku.getControlPosition)(a,n.state.touchIdentifier,Ro(n));if(f!=null){var h=f.x,g=f.y;if(Array.isArray(n.props.grid)){var y=h-n.state.lastX,x=g-n.state.lastY,A=(0,Ku.snapToGrid)(n.props.grid,y,x),T=MB(A,2);if(y=T[0],x=T[1],!y&&!x)return;h=n.state.lastX+y,g=n.state.lastY+x}var w=(0,Ku.createCoreData)(Ro(n),h,g);(0,Mv.default)("DraggableCore: handleDrag: %j",w);var M=n.props.onDrag(a,w);if(M===!1||n.mounted===!1){try{n.handleDragStop(new MouseEvent("mouseup"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(O)}return}n.setState({lastX:h,lastY:g})}}),hs(Ro(n),"handleDragStop",function(a){if(n.state.dragging){var f=(0,Ku.getControlPosition)(a,n.state.touchIdentifier,Ro(n));if(f!=null){var h=f.x,g=f.y;if(Array.isArray(n.props.grid)){var y=h-n.state.lastX||0,x=g-n.state.lastY||0,A=(0,Ku.snapToGrid)(n.props.grid,y,x),T=MB(A,2);y=T[0],x=T[1],h=n.state.lastX+y,g=n.state.lastY+x}var w=(0,Ku.createCoreData)(Ro(n),h,g),M=n.props.onStop(a,w);if(M===!1||n.mounted===!1)return!1;var O=n.findDOMNode();O&&n.props.enableUserSelectHack&&(0,Oo.removeUserSelectStyles)(O.ownerDocument),(0,Mv.default)("DraggableCore: handleDragStop: %j",w),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),O&&((0,Mv.default)("DraggableCore: Removing handlers"),(0,Oo.removeEvent)(O.ownerDocument,Zu.move,n.handleDrag),(0,Oo.removeEvent)(O.ownerDocument,Zu.stop,n.handleDragStop))}}}),hs(Ro(n),"onMouseDown",function(a){return Zu=el.mouse,n.handleDragStart(a)}),hs(Ro(n),"onMouseUp",function(a){return Zu=el.mouse,n.handleDragStop(a)}),hs(Ro(n),"onTouchStart",function(a){return Zu=el.touch,n.handleDragStart(a)}),hs(Ro(n),"onTouchEnd",function(a){return Zu=el.touch,n.handleDragStop(a)}),n}return bCe(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,Oo.addEvent)(i,el.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var o=i.ownerDocument;(0,Oo.removeEvent)(o,el.mouse.move,this.handleDrag),(0,Oo.removeEvent)(o,el.touch.move,this.handleDrag),(0,Oo.removeEvent)(o,el.mouse.stop,this.handleDragStop),(0,Oo.removeEvent)(o,el.touch.stop,this.handleDragStop),(0,Oo.removeEvent)(i,el.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Oo.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var i,o,s;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(o=this.props)===null||o===void 0||(s=o.nodeRef)===null||s===void 0?void 0:s.current:pCe.default.findDOMNode(this)}},{key:"render",value:function(){return uP.cloneElement(uP.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(uP.Component);UE.default=WE;hs(WE,"displayName","DraggableCore");hs(WE,"propTypes",{allowAnyClick:Na.default.bool,disabled:Na.default.bool,enableUserSelectHack:Na.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Na.default.arrayOf(Na.default.number),handle:Na.default.string,cancel:Na.default.string,nodeRef:Na.default.object,onStart:Na.default.func,onDrag:Na.default.func,onStop:Na.default.func,onMouseDown:Na.default.func,scale:Na.default.number,className:dP.dontSetMe,style:dP.dontSetMe,transform:dP.dontSetMe});hs(WE,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(Pe){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},t(Pe)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var r=T(V),n=x(SR),i=x(cc),o=x(DEe),s=gi,a=pc,f=hc,h=x(UE),g=x(VE),y=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function x(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}function A(Pe){if(typeof WeakMap!="function")return null;var je=new WeakMap,Le=new WeakMap;return(A=function(Be){return Be?Le:je})(Pe)}function T(Pe,je){if(!je&&Pe&&Pe.__esModule)return Pe;if(Pe===null||t(Pe)!=="object"&&typeof Pe!="function")return{default:Pe};var Le=A(je);if(Le&&Le.has(Pe))return Le.get(Pe);var Ye={},Be=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lt in Pe)if(lt!=="default"&&Object.prototype.hasOwnProperty.call(Pe,lt)){var it=Be?Object.getOwnPropertyDescriptor(Pe,lt):null;it&&(it.get||it.set)?Object.defineProperty(Ye,lt,it):Ye[lt]=Pe[lt]}return Ye.default=Pe,Le&&Le.set(Pe,Ye),Ye}function w(){return w=Object.assign||function(Pe){for(var je=1;je<arguments.length;je++){var Le=arguments[je];for(var Ye in Le)Object.prototype.hasOwnProperty.call(Le,Ye)&&(Pe[Ye]=Le[Ye])}return Pe},w.apply(this,arguments)}function M(Pe,je){if(Pe==null)return{};var Le=O(Pe,je),Ye,Be;if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(Pe);for(Be=0;Be<lt.length;Be++)Ye=lt[Be],!(je.indexOf(Ye)>=0)&&Object.prototype.propertyIsEnumerable.call(Pe,Ye)&&(Le[Ye]=Pe[Ye])}return Le}function O(Pe,je){if(Pe==null)return{};var Le={},Ye=Object.keys(Pe),Be,lt;for(lt=0;lt<Ye.length;lt++)Be=Ye[lt],!(je.indexOf(Be)>=0)&&(Le[Be]=Pe[Be]);return Le}function I(Pe,je){var Le=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(Pe);je&&(Ye=Ye.filter(function(Be){return Object.getOwnPropertyDescriptor(Pe,Be).enumerable})),Le.push.apply(Le,Ye)}return Le}function E(Pe){for(var je=1;je<arguments.length;je++){var Le=arguments[je]!=null?arguments[je]:{};je%2?I(Object(Le),!0).forEach(function(Ye){qe(Pe,Ye,Le[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Le)):I(Object(Le)).forEach(function(Ye){Object.defineProperty(Pe,Ye,Object.getOwnPropertyDescriptor(Le,Ye))})}return Pe}function R(Pe,je){return J(Pe)||q(Pe,je)||D(Pe,je)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(Pe,je){if(Pe){if(typeof Pe=="string")return F(Pe,je);var Le=Object.prototype.toString.call(Pe).slice(8,-1);if(Le==="Object"&&Pe.constructor&&(Le=Pe.constructor.name),Le==="Map"||Le==="Set")return Array.from(Pe);if(Le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return F(Pe,je)}}function F(Pe,je){(je==null||je>Pe.length)&&(je=Pe.length);for(var Le=0,Ye=new Array(je);Le<je;Le++)Ye[Le]=Pe[Le];return Ye}function q(Pe,je){var Le=Pe==null?null:typeof Symbol<"u"&&Pe[Symbol.iterator]||Pe["@@iterator"];if(Le!=null){var Ye=[],Be=!0,lt=!1,it,Ve;try{for(Le=Le.call(Pe);!(Be=(it=Le.next()).done)&&(Ye.push(it.value),!(je&&Ye.length===je));Be=!0);}catch(Xe){lt=!0,Ve=Xe}finally{try{!Be&&Le.return!=null&&Le.return()}finally{if(lt)throw Ve}}return Ye}}function J(Pe){if(Array.isArray(Pe))return Pe}function Q(Pe,je){if(!(Pe instanceof je))throw new TypeError("Cannot call a class as a function")}function ae(Pe,je){for(var Le=0;Le<je.length;Le++){var Ye=je[Le];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Pe,Ye.key,Ye)}}function he(Pe,je,Le){return je&&ae(Pe.prototype,je),Le&&ae(Pe,Le),Object.defineProperty(Pe,"prototype",{writable:!1}),Pe}function fe(Pe,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");Pe.prototype=Object.create(je&&je.prototype,{constructor:{value:Pe,writable:!0,configurable:!0}}),Object.defineProperty(Pe,"prototype",{writable:!1}),je&&we(Pe,je)}function we(Pe,je){return we=Object.setPrototypeOf||function(Ye,Be){return Ye.__proto__=Be,Ye},we(Pe,je)}function ge(Pe){var je=Ee();return function(){var Ye=Oe(Pe),Be;if(je){var lt=Oe(this).constructor;Be=Reflect.construct(Ye,arguments,lt)}else Be=Ye.apply(this,arguments);return Ce(this,Be)}}function Ce(Pe,je){if(je&&(t(je)==="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(Pe)}function Te(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function Ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oe(Pe){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(Le){return Le.__proto__||Object.getPrototypeOf(Le)},Oe(Pe)}function qe(Pe,je,Le){return je in Pe?Object.defineProperty(Pe,je,{value:Le,enumerable:!0,configurable:!0,writable:!0}):Pe[je]=Le,Pe}var rt=function(Pe){fe(Le,Pe);var je=ge(Le);function Le(Ye){var Be;return Q(this,Le),Be=je.call(this,Ye),qe(Te(Be),"onDragStart",function(lt,it){(0,g.default)("Draggable: onDragStart: %j",it);var Ve=Be.props.onStart(lt,(0,a.createDraggableData)(Te(Be),it));if(Ve===!1)return!1;Be.setState({dragging:!0,dragged:!0})}),qe(Te(Be),"onDrag",function(lt,it){if(!Be.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",it);var Ve=(0,a.createDraggableData)(Te(Be),it),Xe={x:Ve.x,y:Ve.y};if(Be.props.bounds){var ct=Xe.x,Fe=Xe.y;Xe.x+=Be.state.slackX,Xe.y+=Be.state.slackY;var Me=(0,a.getBoundPosition)(Te(Be),Xe.x,Xe.y),Et=R(Me,2),Zt=Et[0],Ot=Et[1];Xe.x=Zt,Xe.y=Ot,Xe.slackX=Be.state.slackX+(ct-Xe.x),Xe.slackY=Be.state.slackY+(Fe-Xe.y),Ve.x=Xe.x,Ve.y=Xe.y,Ve.deltaX=Xe.x-Be.state.x,Ve.deltaY=Xe.y-Be.state.y}var jt=Be.props.onDrag(lt,Ve);if(jt===!1)return!1;Be.setState(Xe)}),qe(Te(Be),"onDragStop",function(lt,it){if(!Be.state.dragging)return!1;var Ve=Be.props.onStop(lt,(0,a.createDraggableData)(Te(Be),it));if(Ve===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",it);var Xe={dragging:!1,slackX:0,slackY:0},ct=!!Be.props.position;if(ct){var Fe=Be.props.position,Me=Fe.x,Et=Fe.y;Xe.x=Me,Xe.y=Et}Be.setState(Xe)}),Be.state={dragging:!1,dragged:!1,x:Ye.position?Ye.position.x:Ye.defaultPosition.x,y:Ye.position?Ye.position.y:Ye.defaultPosition.y,prevPropsPosition:E({},Ye.position),slackX:0,slackY:0,isElementSVG:!1},Ye.position&&!(Ye.onDrag||Ye.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Be}return he(Le,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Be,lt,it;return(Be=(lt=this.props)===null||lt===void 0||(it=lt.nodeRef)===null||it===void 0?void 0:it.current)!==null&&Be!==void 0?Be:i.default.findDOMNode(this)}},{key:"render",value:function(){var Be,lt=this.props;lt.axis,lt.bounds;var it=lt.children,Ve=lt.defaultPosition,Xe=lt.defaultClassName,ct=lt.defaultClassNameDragging,Fe=lt.defaultClassNameDragged,Me=lt.position,Et=lt.positionOffset;lt.scale;var Zt=M(lt,y),Ot={},jt=null,Mr=!!Me,Hr=!Mr||this.state.dragging,pr=Me||Ve,Sr={x:(0,a.canDragX)(this)&&Hr?this.state.x:pr.x,y:(0,a.canDragY)(this)&&Hr?this.state.y:pr.y};this.state.isElementSVG?jt=(0,s.createSVGTransform)(Sr,Et):Ot=(0,s.createCSSTransform)(Sr,Et);var cr=(0,o.default)(it.props.className||"",Xe,(Be={},qe(Be,ct,this.state.dragging),qe(Be,Fe,this.state.dragged),Be));return r.createElement(h.default,w({},Zt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(it),{className:cr,style:E(E({},it.props.style),Ot),transform:jt}))}}],[{key:"getDerivedStateFromProps",value:function(Be,lt){var it=Be.position,Ve=lt.prevPropsPosition;return it&&(!Ve||it.x!==Ve.x||it.y!==Ve.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:it,prevPropsPosition:Ve}),{x:it.x,y:it.y,prevPropsPosition:E({},it)}):null}}]),Le}(r.Component);e.default=rt,qe(rt,"displayName","Draggable"),qe(rt,"propTypes",E(E({},h.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe})),qe(rt,"defaultProps",E(E({},h.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(kH);var LH=kH,NH=LH.default,kCe=LH.DraggableCore;TD.exports=NH;TD.exports.default=NH;TD.exports.DraggableCore=kCe;var OD={},TCe=ln;Object.defineProperty(OD,"__esModule",{value:!0});var zH=OD.default=void 0,PCe=TCe(cn()),ACe=B,MCe=(0,PCe.default)((0,ACe.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");zH=OD.default=MCe;var ID={},OCe=ln;Object.defineProperty(ID,"__esModule",{value:!0});var jH=ID.default=void 0,ICe=OCe(cn()),RCe=B,$Ce=(0,ICe.default)((0,RCe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");jH=ID.default=$Ce;var RD={},DCe=ln;Object.defineProperty(RD,"__esModule",{value:!0});var BH=RD.default=void 0,LCe=DCe(cn()),NCe=B,zCe=(0,LCe.default)((0,NCe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");BH=RD.default=zCe;var $D={},jCe=ln;Object.defineProperty($D,"__esModule",{value:!0});var FH=$D.default=void 0,BCe=jCe(cn()),FCe=B,UCe=(0,BCe.default)((0,FCe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");FH=$D.default=UCe;const BM=({position:e,property:t,attribute:r})=>{const n=Br(x=>x.devices.items[e.deviceId]),i=t||r,o=t?e[t]:e.attributes[r],s="m",a="m",f="km/s",h="ddm",g=!1,y=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return dH(o,"seconds",g);case"latitude":return yB("latitude",o,h);case"longitude":return yB("longitude",o,h);case"speed":return $2e(o,f);case"course":return O2e(o);case"altitude":return R2e(o,a);case"batteryLevel":return uH(o);case"alarm":return fH(o);case"gimbal":return o.x.toFixed();case"odometer":case"distance":case"totalDistance":return I2e(o,s);case"hours":return D2e(o);default:return typeof o=="number"?M2e(o):typeof o=="boolean"?cH(o):o||""}};switch(i){case"image":case"video":case"audio":return B.jsx(gpe,{href:`/api/media/${n.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return y()}},VCe=$i(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),WCe=({open:e,endpoint:t,itemId:r,onResult:n})=>{const i=VCe(),o=async()=>{(await fetch(`/api/${t}/${r}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),n(!0)):n(!1)};return B.jsx(dge,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>n(!1),message:"confirmar para eliminar",action:B.jsx(_n,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},UH=$i(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),fP=({name:e,content:t})=>{const r=UH();return B.jsxs(Mm,{children:[B.jsx(co,{className:r.card,children:B.jsx(Or,{variant:"body2",children:e})}),B.jsx(co,{className:r.cell,children:B.jsx(Or,{variant:"body2",color:"textSecondary",children:t})})]})},qCe=({deviceId:e,position:t,onClose:r,disableActions:n,desktopPadding:i=0})=>{var O;const o=UH(),s=Ig(),a=bl(),f=Br(I=>I.devices.items[e]),h=(O=f==null?void 0:f.attributes)==null?void 0:O.deviceImage,g="speed,course,batteryLevel,gimbal",[y,x]=V.useState(null),[A,T]=V.useState(!1),w=async(I,E,R)=>{console.log("send command uavud: "+I+E);try{const N=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:I,type:E,attributes:R}),headers:{"Content-Type":"application/json"}});if(N.ok){let D=await N.json();console.log(D)}else throw console.log("Error1:"+N),Error(await N.text())}catch(N){console.log("Error2:"+N)}},M=async I=>{if(I){const E=await fetch("/api/devices");if(E.ok){let R=await E.json();a(cl.refresh(Object.values(R)))}else throw Error(await E.text())}T(!1)};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:o.root,children:f&&B.jsxs(zg,{elevation:3,className:o.card,children:[h?B.jsx(ofe,{className:o.media,image:`/api/media/${f.uniqueId}/${h}`,children:B.jsx(Vr,{size:"small",onClick:r,onTouchStart:r,children:B.jsx(jd,{fontSize:"small",className:o.mediaButton})})}):B.jsxs("div",{className:o.header,children:[B.jsx(Or,{variant:"body2",color:"textSecondary",children:f.name}),B.jsx(Vr,{size:"small",onClick:r,onTouchStart:r,children:B.jsx(jd,{fontSize:"small"})})]}),t&&B.jsx(Xde,{className:o.content,children:B.jsx(d$,{size:"small",classes:{root:o.table},children:B.jsxs(f$,{children:[t.hasOwnProperty("latitude")&&B.jsx(fP,{name:"Position",content:B.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(I=>t.hasOwnProperty(I)||t.attributes.hasOwnProperty(I)).map(I=>B.jsx(fP,{name:I,content:B.jsx(BM,{position:t,property:t.hasOwnProperty(I)?I:null,attribute:t.hasOwnProperty(I)?null:I})},I)),t.attributes.hasOwnProperty("alarm")&&B.jsx(fP,{name:"Alarm "+t.attributes.alarm,content:B.jsxs("div",{style:{width:"100%"},children:[B.jsx(_n,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>w(f.id,"threat",{data:!0}),children:"Validate"}),B.jsx(_n,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},onClick:()=>w(f.id,"threat",{data:!1}),children:"Dismiss"})]})},"alarm1")]})})}),B.jsxs(qde,{classes:{root:o.actions},disableSpacing:!0,children:[B.jsx(Vr,{color:"secondary",onClick:I=>x(I.currentTarget),disabled:!t,children:B.jsx(FH,{})}),B.jsx(Vr,{onClick:()=>w(f.id,"SincroniseFiles"),children:B.jsx(zH,{})}),B.jsx(Vr,{onClick:()=>w(f.id,"commandMission"),disabled:n,children:B.jsx(jH,{})}),B.jsx(Vr,{children:B.jsx(BH,{})}),B.jsx(Vr,{onClick:()=>T(!0),className:o.negative,children:B.jsx(Sh,{})})]})]})}),t&&B.jsxs(P9,{anchorEl:y,open:!!y,onClose:()=>x(null),children:[B.jsx(fl,{onClick:()=>s(`/device/${e}`),children:B.jsx(Or,{color:"secondary",children:"Detalle Dispositivo"})}),B.jsx(fl,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),B.jsx(fl,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),B.jsx(fl,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),B.jsx(WCe,{open:A,endpoint:"devices",itemId:e,onResult:I=>M(I)})]})};var DD={},HCe=ln;Object.defineProperty(DD,"__esModule",{value:!0});var VH=DD.default=void 0,GCe=HCe(cn()),YCe=B,KCe=(0,GCe.default)((0,YCe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");VH=DD.default=KCe;var LD={},ZCe=ln;Object.defineProperty(LD,"__esModule",{value:!0});var WH=LD.default=void 0,XCe=ZCe(cn()),JCe=B,QCe=(0,XCe.default)((0,JCe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");WH=LD.default=QCe;var ND={},eke=ln;Object.defineProperty(ND,"__esModule",{value:!0});var qH=ND.default=void 0,tke=eke(cn()),rke=B,nke=(0,tke.default)((0,rke.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");qH=ND.default=nke;const ike={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},HH=({SetAddUAVOpen:e})=>B.jsxs(X_,{style:ike,children:[B.jsx(Vr,{edge:"start",children:B.jsx(WH,{})}),B.jsx(c$,{placeholder:"device",endAdornment:B.jsx(epe,{position:"end",children:B.jsx(Vr,{size:"small",edge:"end",children:B.jsx(mde,{color:"info",variant:"dot",children:B.jsx(qH,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),B.jsx(Vr,{edge:"end",onClick:()=>{e(!0)},children:B.jsx(Hp,{children:B.jsx(VH,{})})})]}),oke=$i(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),RB=({deviceId:e,deviceIp:t,camera_src:r,onClose:n})=>{const i=oke();Br(T=>T.data.camera[e]);const o=Br(T=>T.devices.items[e]),s="http://"+t+":8889/"+r,[a,f]=V.useState(!1);let h=i.card,g=a?i.root_max:i.root,y=a?i.media1:i.media;function x(){f(!a)}V.useRef();function A(){n(),f(!1)}return V.useEffect(()=>{e&&console.log("device in camera-"+o.name+"-"+t+"+"+r)},[e]),B.jsx("div",{className:g,children:o&&B.jsxs(zg,{elevation:3,className:h,children:[B.jsxs("div",{className:i.gruopBtn,children:[B.jsx(Vr,{size:"small",onClick:x,onTouchStart:x,children:B.jsx(AE,{fontSize:"small",className:i.mediaButton})}),B.jsx(Vr,{size:"small",onClick:A,children:B.jsx(jd,{fontSize:"small",className:i.mediaButton})})]}),B.jsx("div",{className:i.tittle,children:"Image "+o.name}),B.jsx("iframe",{src:s,className:y})]})})},ake=$i(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),ske=()=>{const e=ake(),t=bl(),r=xu(),n=Br(Ce=>Ce.devices.items),i=Br(Ce=>Ce.data.positions),o=Br(Ce=>Ce.data.camera),s=Br(Ce=>Ce.devices.selectedId),a=Br(Ce=>Ce.session.markers),[f,h]=V.useState([]),[g,y]=V.useState([]),[x,A]=V.useState([]),[T,w]=V.useState(),[M,O]=V.useState(),[I,E]=V.useState(),[R,N]=V.useState(),D=f.find(Ce=>s&&Ce.deviceId===s),F=x.find(Ce=>s&&Ce.deviceId==s);let q=Object.values(n);const[J,Q]=V.useState(!1),[ae,he]=V.useState([]);let fe=null;const we=(Ce,Te)=>{switch(Ce){case"success":fe={id:ae.length+1,title:"Success",description:Te,backgroundColor:"#5cb85c"};break;case"danger":fe={id:ae.length+1,title:"Danger",description:Te,backgroundColor:"#d9534f"};break;case"info":fe={id:ae.length+1,title:"Info",description:Te,backgroundColor:"#5bc0de"};break;case"warning":fe={id:ae.length+1,title:"Warning",description:Te,backgroundColor:"#f0ad4e"};break;default:fe=[]}he([...ae,fe])},ge=V.useCallback((Ce,Te)=>{t(cl.selectId(Te))},[t]);return V.useEffect(()=>{y(a)},[a]),V.useEffect(()=>{h(Object.values(i))},[i]),V.useEffect(()=>{A(Object.values(o))},[o]),V.useEffect(()=>{s?(w(n[s].ip),n[s].camera.length>0?(O(n[s].camera[0].type),E(n[s].camera[0].source)):O(null),N(n[s].name)):(w(null),O(null))},[s]),B.jsx("div",{className:e.root,children:B.jsxs(z$,{notification:we,children:[B.jsx(j$,{SetAddUAVOpen:Q}),B.jsx(K$,{SetAddUAVOpen:Q}),B.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:B.jsxs(m7,{children:[B.jsx(z2e,{markers:g}),B.jsx(N2e,{}),B.jsx(L2e,{positions:f,onClick:ge,selectedPosition:D,showStatus:!0}),B.jsx(B2e,{})]})}),B.jsx("div",{className:e.sidebarStyle,children:B.jsx("div",{className:e.middleStyle,children:B.jsxs(vl,{square:!0,className:e.contentListStyle,children:[B.jsx(HH,{SetAddUAVOpen:Q}),B.jsx(CH,{devices:q})]})})}),J&&B.jsx(pbe,{SetAddUAVOpen:Q}),B.jsx(qCe,{deviceId:s,position:D,onClose:()=>t(cl.selectId(null)),desktopPadding:r.dimensions.drawerWidthDesktop}),M==="WebRTC"&&B.jsx(RB,{deviceId:s,deviceIp:"127.0.0.1",camera_src:R+"_"+I,onClose:()=>t(cl.selectId(null))}),M==="WebRTC_env"&&B.jsx(RB,{deviceId:s,deviceIp:T,camera_src:I,onClose:()=>t(cl.selectId(null))}),M==="Websocket"&&B.jsx(xbe,{deviceId:s,datacamera:F,onClose:()=>t(cl.selectId(null))}),B.jsx(ibe,{toastlist:ae,position:"buttom-right",setList:he})]})})};class lke{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const cke=()=>{const e=V.useId(),t=`${e}-points`,r=`${e}-points-clusters`,n=Br(w=>w.mission.route);Br(w=>w.mission.selectpoint);const i=!0,o=.6,s=bl(),[a,f]=V.useState(new lke);let h=Qe.getCanvasContainer();function g(w){let M=w.lngLat;h.style.cursor="grabbing",console.log("new position"+M.lng+"-"+M.lat);let O=a.getroute();console.log(O);let I=a.getSelectwp();I.id>=0&&(O[I.route_id].wp[I.id].pos[0]=w.lngLat.lat,O[I.route_id].wp[I.id].pos[1]=w.lngLat.lng);let E=T(O);Qe.getSource(t).setData({type:"FeatureCollection",features:E.map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:x(O,R)}))}),Qe.getSource(e).setData({type:"FeatureCollection",features:O.map(R=>A(R))})}function y(w){var M=w.lngLat;h.style.cursor="";let O=a.getSelectwp();console.log(`Longitude: ${M.lng} Latitude: ${M.lat}`),s(Yl.updateWpPos({wp_id:O.id,route_id:O.route_id,lng:w.lngLat.lng,lat:w.lngLat.lat})),a.setSelecwp({id:-1}),Qe.off("mousemove",g),Qe.off("touchmove",g)}const x=(w,M)=>({id:M.id,route_id:M.routeid,name:w[M.routeid].name,uav:w[M.routeid].uav,latitude:w[M.routeid].wp[M.id].pos[0],longitude:w[M.routeid].wp[M.id].pos[1],altitud:w[M.routeid].wp[M.id].pos[2],yaw:w[M.routeid].wp[M.id].yaw,gimbal:w[M.routeid].wp[M.id].gimbal,actions:w[M.routeid].wp[M.id].action,attributes:w[M.routeid].attributes,category:"default",color:w[M.routeid].id});V.useEffect(()=>(console.log("render"),Qe.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Qe.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Qe.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Qe.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":tu(Qe),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Qe.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":tu(Qe),"text-size":14},paint:{"text-color":"white"}}),Qe.addLayer({id:r,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":tu(Qe),"text-size":14}}),Qe.on("mouseenter","mission-points",function(){h.style.cursor="move"}),Qe.on("mouseleave","mission-points",function(){h.style.cursor=""}),Qe.on("mousedown","mission-points",function(w){w.preventDefault(),a.setSelecwp(w.features[0].properties),s(Yl.selectpoint(w.features[0].properties)),h.style.cursor="grab",Qe.on("mousemove",g),Qe.once("mouseup",y)}),Qe.on("touchstart","mission-points",function(w){w.points.length===1&&(console.log("touch start"),w.preventDefault(),Qe.on("touchmove",g),Qe.once("touchend",y))}),Qe.on("click",function(w){console.log("A click event has occurred at "+w.lngLat)}),()=>{Qe.getLayer("mission-line")&&Qe.removeLayer("mission-line"),Qe.getLayer("mission-title")&&Qe.removeLayer("mission-title"),Qe.getLayer("mission-points")&&Qe.removeLayer("mission-points"),Qe.getLayer(r)&&Qe.removeLayer(r),Qe.getSource(e)&&Qe.removeSource(e),Qe.getSource(t)&&Qe.removeSource(t)}),[]);function A(w){let M=Object.values(w.wp).map(function(O){return[O.pos[1],O.pos[0]]});return{id:w.id,type:"Feature",geometry:{type:"LineString",coordinates:M},properties:{name:w.uav,color:Km[w.id]}}}function T(w){let M=[];return w.map((O,I)=>{O.wp.map((E,R)=>{M.push({longitude:E.pos[1],latitude:E.pos[0],id:R,routeid:I})})}),M}return V.useEffect(()=>{console.log("Mapmission upload mission"),console.log(n),a.initroute(n);let w=T(n);Qe.getSource(t).setData({type:"FeatureCollection",features:w.map(M=>({type:"Feature",geometry:{type:"Point",coordinates:[M.longitude,M.latitude]},properties:x(n,M)}))}),Qe.getSource(e).setData({type:"FeatureCollection",features:n.map(M=>A(M))})},[n]),null},uke=$i(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),dke=({mission:e,setmission:t,index:r,index_wp:n,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=uke(),[f,h]=V.useState(!1),[g,y]=V.useState(!0),[x,A]=V.useState(0),[T,w]=V.useState(!1);V.useEffect(()=>{w(o)},[o]);const M=D=>(F,q)=>{w(q?D:!1)};async function O(D,F){let q;const J=await fetch("/api/mission/actions/dji_M210_noetic");if(J.ok)q=await J.json();else throw Error(await J.text());let Q=q.find(he=>he.id==x),ae=JSON.parse(JSON.stringify(e.route));ae[D].wp[F].hasOwnProperty("action")||(ae[D].wp[F].action={}),Q.param?ae[D].wp[F].action[Q.name]=0:ae[D].wp[F].action[Q.name]=!0,t({...e,route:ae}),y(!0)}const I=(D,F)=>{console.log("remove wp"+D+"-"+F);let q=[...e.route],J=[...e.route[D].wp];J.splice(F,1);let Q={...q[D],wp:J};q[D]=Q,t({...e,route:q})},E=(D,F,q)=>{console.log("remove action"+D+"-"+F+"-"+q);let J=JSON.parse(JSON.stringify(e.route));delete J[D].wp[F].action[q],t({...e,route:J})},R=D=>(F,q)=>{h(q?D:!1)},N=D=>(F,q)=>{y(!1)};return B.jsxs(yh,{expanded:T==="wp "+n,onChange:M("wp "+n),children:[B.jsxs(_h,{expandIcon:B.jsx(Bd,{}),children:[B.jsx(Or,{sx:{width:"33%",flexShrink:0},children:"WP "+n}),B.jsx(Vr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(r,n),children:B.jsx(Sh,{})})]}),B.jsxs(vh,{className:a.details,children:[B.jsxs(Gc,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[B.jsx("div",{children:B.jsx(Or,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),B.jsx(fo,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[r]?q.wp[n].pos[0]=+D.target.value:q=F,q})})}),B.jsx(fo,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[r]?q.wp[n].pos[1]=+D.target.value:q=F,q})})}),B.jsx(fo,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[r]?q.wp[n].pos[2]=+D.target.value:q=F,q})})})]}),B.jsx(fo,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:e.route[r].attributes.idle_vel,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return e.route[r]?q.wp[n].speed=+D.target.value:q=F,q})})}),B.jsx(fo,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[r]?q.wp[n].yaw=+D.target.value:q=F,q})})}),B.jsx(fo,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[r]?q.wp[n].gimbal=+D.target.value:q=F,q})})}),B.jsxs(yh,{expanded:f==="wp "+n,onChange:R("wp "+n),children:[B.jsx(_h,{expandIcon:B.jsx(Bd,{}),children:B.jsx(Or,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),B.jsxs(vh,{className:a.details,children:[i.action&&De.Children.toArray(Object.keys(i.action).map((D,F,q)=>B.jsxs(V.Fragment,{children:[B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",className:a.attributeName,children:D}),B.jsx("div",{className:a.actionValue,children:B.jsx(fo,{required:!0,fullWidth:!0,value:i.action[D]?i.action[D]:0,onChange:J=>t({...e,route:e.route.map(Q=>{let ae=JSON.parse(JSON.stringify(Q));return Q==e.route[r]?ae.wp[n].action[D]=J.target.value:ae=Q,ae})})})}),B.jsx(Vr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>E(r,n,D),className:a.negative,children:B.jsx(Sh,{})})]}),B.jsx(s$,{})]},"fragment-action-"+F))),B.jsx(Gc,{textAlign:"center",children:g?B.jsx(_n,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:N(),children:"Add new action"}):B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),B.jsx(Wc,{emptyValue:null,fullWidth:!0,value:x,onChange:D=>A(D.target.value),endpoint:"/api/mission/actions/dji_M210_noetic",keyGetter:D=>D.id,titleGetter:D=>D.description}),B.jsxs("div",{children:[B.jsx(_n,{onClick:()=>y(!0),children:"Cancel"}),B.jsx(_n,{onClick:()=>O(r,n),children:"Add"})]})]})})]})]}),B.jsx(Gc,{textAlign:"center",children:B.jsx(_n,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(r,n),children:"Add new Waypoint"})})]})]})},fke=$i(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),hke=({mission:e,setmission:t,setScrool:r})=>{const n=fke(),i=Br(N=>N.mission),o=Br(N=>N.mission.selectpoint),s=bl(),[a,f]=V.useState(!1),[h,g]=V.useState(!1),[y,x]=V.useState(!1),[A,T]=V.useState(!0);V.useEffect(()=>{t(i),i.route.length>0?T(!1):T(!0),f(!0)},[i]),V.useEffect(()=>{a&&(console.log("update mission"),s(Yl.reloadMission(e.route))),e.route.length>0?T(!1):T(!0)},[e.route]),V.useEffect(()=>{a&&s(Yl.reloadName({name:e.name,description:e.description}))},[e.name,e.description]),V.useEffect(()=>{g("Rute "+o.route_id),x("wp "+o.id),r(500+o.route_id*50+o.id*50)},[o]);const w=()=>{t({name:"new Mission",description:"",route:[]}),T(!1),M(),console.log("add new mission")},M=()=>{let N=[...e.route],D=N.length>0?+N.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};N.push({name:"",uav:"",id:D,attributes:F,wp:[]}),t({...e,route:N})},O=(N,D)=>{console.log("add new wp"+N);let F=JSON.parse(JSON.stringify(e.route)),q=Qe.getCenter();D>0&&(q.lat=(F[N].wp[D].pos[0]+F[N].wp[D-1].pos[0])/2,q.lng=(F[N].wp[D].pos[1]+F[N].wp[D-1].pos[1])/2),D<0?F[N].wp.push({pos:[q.lat,q.lng,5],action:{}}):F[N].wp.splice(D,0,{pos:[q.lat,q.lng,5],action:{}}),t({...e,route:F})},I=N=>{console.log("remove route"+N);let D=JSON.parse(JSON.stringify(e.route));D.splice(N,1),t({...e,route:D})},E=N=>(D,F)=>{g(F?N:!1)},R=N=>(D,F)=>{x(F?N:!1)};return B.jsx(V.Fragment,{children:A?B.jsx(Gc,{textAlign:"center",children:B.jsx(_n,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:w,children:"Create New Mission"})}):B.jsx(V.Fragment,{children:B.jsxs(Gc,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[B.jsx(fo,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:N=>t({...e,name:N.target.value})}),B.jsx(fo,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:N=>t({...e,description:N.target.value})}),De.Children.toArray(Object.values(e.route).map((N,D,F)=>B.jsxs(V.Fragment,{children:[B.jsxs(yh,{expanded:h==="Rute "+D,onChange:E("Rute "+D),children:[B.jsxs(_h,{expandIcon:B.jsx(Bd,{}),children:[B.jsx(Or,{sx:{width:"33%",flexShrink:0,color:Km[N.id]},children:"Rute "+D}),B.jsx(Or,{sx:{color:"text.secondary"},children:N.name+"- "+N.uav}),B.jsx(Vr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(D),children:B.jsx(Sh,{})})]}),B.jsxs(vh,{className:n.details,children:[B.jsx(fo,{required:!0,label:"Route Name",variant:"standard",value:N.name?N.name:"",onChange:q=>t({...e,route:e.route.map(J=>J==e.route[D]?{...N,name:q.target.value}:J)})}),B.jsx(fo,{required:!0,label:"UAV id",variant:"standard",value:N.uav?N.uav:"uav_",onChange:q=>t({...e,route:e.route.map(J=>J==e.route[D]?{...N,uav:q.target.value}:J)})}),B.jsx(Wc,{emptyValue:null,value:N.uav_type?N.uav_type:"",onChange:q=>t({...e,route:e.route.map(J=>J==e.route[D]?{...N,uav_type:q.target.value}:J)}),endpoint:"/api/devices/type",keyGetter:q=>q,titleGetter:q=>q,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),B.jsxs(yh,{expanded:y==="wp -"+D,onChange:R("wp -"+D),children:[B.jsx(_h,{expandIcon:B.jsx(Bd,{}),children:B.jsx(Or,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),B.jsx(vh,{className:n.details,children:N.attributes&&B.jsxs(V.Fragment,{children:[B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",className:n.attributeName,children:"Speed Mode"}),B.jsx("div",{className:n.attributeValue,children:B.jsx(Wc,{emptyValue:null,fullWidth:!0,value:N.attributes.mode_speed?N.attributes.mode_speed:0,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J===e.route[D]?Q.attributes.mode_speed=q.target.value:Q=J,Q})}),endpoint:"/api/mission/atributesparam/dji_M300/mode_speed",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",className:n.attributeName,children:"Speed idle (m/s):"}),B.jsx(fo,{fullWidth:!0,required:!0,type:"number",className:n.attributeValue,value:N.attributes.idle_vel?N.attributes.idle_vel:1.85,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J==e.route[D]?Q.attributes.idle_vel=+q.target.value:Q=J,Q})})})]}),B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",className:n.attributeName,children:"Speed MAX (m/s):"}),B.jsx(fo,{fullWidth:!0,required:!0,type:"number",className:n.attributeValue,value:N.attributes.max_vel?N.attributes.max_vel:12,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J==e.route[D]?Q.attributes.max_vel=+q.target.value:Q=J,Q})})})]}),B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",className:n.attributeName,children:"landing mode"}),B.jsx("div",{className:n.attributeValue,children:B.jsx(Wc,{emptyValue:null,fullWidth:!0,value:N.attributes.mode_landing?N.attributes.mode_landing:0,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J===e.route[D]?Q.attributes.mode_landing=q.target.value:Q=J,Q})}),endpoint:"/api/mission/atributesparam/dji_M300/mode_landing",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),B.jsxs("div",{children:[B.jsx(Or,{variant:"subtitle1",className:n.attributeName,children:"Yaw mode"}),B.jsx("div",{className:n.attributeValue,children:B.jsx(Wc,{emptyValue:null,fullWidth:!0,value:N.attributes.mode_yaw?N.attributes.mode_yaw:0,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J===e.route[D]?Q.attributes.mode_yaw=q.target.value:Q=J,Q})}),endpoint:"/api/mission/atributesparam/dji_M300/mode_yaw",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),B.jsxs("div",{children:[B.jsxs(Or,{variant:"subtitle1",className:n.attributeName,children:[" ","Gimbal mode"," "]}),B.jsx("div",{className:n.attributeValue,children:B.jsx(Wc,{emptyValue:null,fullWidth:!0,value:N.attributes.mode_gimbal?N.attributes.mode_gimbal:0,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J===e.route[D]?Q.attributes.mode_gimbal=q.target.value:Q=J,Q})}),endpoint:"/api/mission/atributesparam/dji_M300/mode_gimbal",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),B.jsxs("div",{children:[B.jsxs(Or,{variant:"subtitle1",className:n.attributeName,children:[" ","Trace mode:"," "]}),B.jsx("div",{className:n.attributeValue,children:B.jsx(Wc,{emptyValue:null,fullWidth:!0,value:N.attributes.mode_trace?N.attributes.mode_trace:0,onChange:q=>t({...e,route:e.route.map(J=>{let Q=JSON.parse(JSON.stringify(J));return J===e.route[D]?Q.attributes.mode_trace=q.target.value:Q=J,Q})}),endpoint:"/api/mission/atributesparam/dji_M300/mode_trace",keyGetter:q=>q.id,titleGetter:q=>q.name})})]})]},"fragment-route-atri-"+N.id)})]}),B.jsx(Or,{variant:"subtitle1",children:"Waypoints"}),De.Children.toArray(Object.values(N.wp).map((q,J,Q)=>B.jsx(dke,{mission:e,setmission:t,index_wp:J,index:D,waypoint:q,AddnewWp:O,expand_wp:y}))),B.jsx(Gc,{textAlign:"center",children:B.jsx(_n,{value:D,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:q=>O(q.target.value,-1),children:"Add new Waypoint"})})]})]}),D<F.length-1?B.jsx(s$,{}):null]},"fragment-route-"+D))),B.jsx(Gc,{textAlign:"center",children:B.jsx(_n,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:M,children:"Add new Route"})})]})})})};var zD={},pke=ln;Object.defineProperty(zD,"__esModule",{value:!0});var qE=zD.default=void 0,mke=pke(cn()),gke=B,yke=(0,mke.default)((0,gke.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");qE=zD.default=yke;var jD={},vke=ln;Object.defineProperty(jD,"__esModule",{value:!0});var GH=jD.default=void 0,_ke=vke(cn()),xke=B,bke=(0,_ke.default)((0,xke.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");GH=jD.default=bke;var BD={},wke=ln;Object.defineProperty(BD,"__esModule",{value:!0});var YH=BD.default=void 0,Ske=wke(cn()),Eke=B,Cke=(0,Ske.default)((0,Eke.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");YH=BD.default=Cke;const kke=$i(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),Tke=()=>{const e=kke(),t=Ig(),r=V.useContext(cg),n=V.useRef(null),[i,o]=V.useState({name:"no mission",description:"",route:[]}),s=g=>{console.log("scrool"+g),n.current.scroll&&setTimeout(()=>{n.current.scroll(0,g)},1e3)},a=g=>{const y=g.target.files[0];if(!y)return;const x=new FileReader;x.readAsText(y),x.onload=()=>{console.log(x.result),console.log(y.name),r.openMision(y.name,x.result)},x.onerror=()=>{console.log(x.error)}},f=()=>{o({name:"no mission",description:"",route:[]})},h=()=>{let g={version:"3"};g.name=i.name,g.route=i.route;const y=sq.stringify(g),x=new Blob([y],{type:"text/plain"}),A=URL.createObjectURL(x),T=document.createElement("a");T.download=i.name+".yaml",T.href=A,T.click()};return B.jsxs(V.Fragment,{children:[B.jsxs(X_,{className:e.toolbar,children:[B.jsx(Vr,{edge:"start",sx:{mr:2},onClick:()=>t(-1),children:B.jsx(qE,{})}),B.jsx(Or,{variant:"h6",className:e.title,children:"Mission Task"}),B.jsx(Vr,{onClick:h,children:B.jsx(YH,{})}),B.jsx(Vr,{onClick:f,children:B.jsx(Sh,{})}),B.jsxs("label",{htmlFor:"upload-gpx",children:[B.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:a}),B.jsx(Vr,{edge:"end",component:"span",onClick:()=>{},children:B.jsx(GH,{})})]})]}),B.jsx("div",{ref:n,className:e.list,children:B.jsx(hke,{mission:i,setmission:o,setScrool:s})})]})};var KH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var f in o)t.call(o,f)&&o[f]&&n.push(f)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(KH);var Pke=KH.exports;const wn=Jr(Pke);function Ake(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Kd=Ake;const Kg=Jr(Kd);var Mke=typeof Fv=="object"&&Fv&&Fv.Object===Object&&Fv,ZH=Mke,Oke=ZH,Ike=typeof self=="object"&&self&&self.Object===Object&&self,Rke=Oke||Ike||Function("return this")(),mc=Rke,$ke=mc,Dke=$ke.Symbol,lx=Dke,$B=lx,XH=Object.prototype,Lke=XH.hasOwnProperty,Nke=XH.toString,Ov=$B?$B.toStringTag:void 0;function zke(e){var t=Lke.call(e,Ov),r=e[Ov];try{e[Ov]=void 0;var n=!0}catch{}var i=Nke.call(e);return n&&(t?e[Ov]=r:delete e[Ov]),i}var jke=zke,Bke=Object.prototype,Fke=Bke.toString;function Uke(e){return Fke.call(e)}var Vke=Uke,DB=lx,Wke=jke,qke=Vke,Hke="[object Null]",Gke="[object Undefined]",LB=DB?DB.toStringTag:void 0;function Yke(e){return e==null?e===void 0?Gke:Hke:LB&&LB in Object(e)?Wke(e):qke(e)}var Zd=Yke,Kke=Zd,Zke=Kd,Xke="[object AsyncFunction]",Jke="[object Function]",Qke="[object GeneratorFunction]",eTe="[object Proxy]";function tTe(e){if(!Zke(e))return!1;var t=Kke(e);return t==Jke||t==Qke||t==Xke||t==eTe}var FD=tTe;const hr=Jr(FD);var rTe=Array.isArray,ca=rTe;const po=Jr(ca);function nTe(e){return e!=null&&typeof e=="object"}var Xd=nTe,iTe=Zd,oTe=ca,aTe=Xd,sTe="[object String]";function lTe(e){return typeof e=="string"||!oTe(e)&&aTe(e)&&iTe(e)==sTe}var cTe=lTe;const cx=Jr(cTe);var uTe=Zd,dTe=Xd,fTe="[object Symbol]";function hTe(e){return typeof e=="symbol"||dTe(e)&&uTe(e)==fTe}var Zg=hTe,pTe=ca,mTe=Zg,gTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yTe=/^\w*$/;function vTe(e,t){if(pTe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||mTe(e)?!0:yTe.test(e)||!gTe.test(e)||t!=null&&e in Object(t)}var UD=vTe,_Te=mc,xTe=_Te["__core-js_shared__"],bTe=xTe,hP=bTe,NB=function(){var e=/[^.]+$/.exec(hP&&hP.keys&&hP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wTe(e){return!!NB&&NB in e}var STe=wTe,ETe=Function.prototype,CTe=ETe.toString;function kTe(e){if(e!=null){try{return CTe.call(e)}catch{}try{return e+""}catch{}}return""}var JH=kTe,TTe=FD,PTe=STe,ATe=Kd,MTe=JH,OTe=/[\\^$.*+?()[\]{}|]/g,ITe=/^\[object .+?Constructor\]$/,RTe=Function.prototype,$Te=Object.prototype,DTe=RTe.toString,LTe=$Te.hasOwnProperty,NTe=RegExp("^"+DTe.call(LTe).replace(OTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zTe(e){if(!ATe(e)||PTe(e))return!1;var t=TTe(e)?NTe:ITe;return t.test(MTe(e))}var jTe=zTe;function BTe(e,t){return e==null?void 0:e[t]}var FTe=BTe,UTe=jTe,VTe=FTe;function WTe(e,t){var r=VTe(e,t);return UTe(r)?r:void 0}var Oh=WTe,qTe=Oh,HTe=qTe(Object,"create"),HE=HTe,zB=HE;function GTe(){this.__data__=zB?zB(null):{},this.size=0}var YTe=GTe;function KTe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZTe=KTe,XTe=HE,JTe="__lodash_hash_undefined__",QTe=Object.prototype,ePe=QTe.hasOwnProperty;function tPe(e){var t=this.__data__;if(XTe){var r=t[e];return r===JTe?void 0:r}return ePe.call(t,e)?t[e]:void 0}var rPe=tPe,nPe=HE,iPe=Object.prototype,oPe=iPe.hasOwnProperty;function aPe(e){var t=this.__data__;return nPe?t[e]!==void 0:oPe.call(t,e)}var sPe=aPe,lPe=HE,cPe="__lodash_hash_undefined__";function uPe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lPe&&t===void 0?cPe:t,this}var dPe=uPe,fPe=YTe,hPe=ZTe,pPe=rPe,mPe=sPe,gPe=dPe;function Xg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xg.prototype.clear=fPe;Xg.prototype.delete=hPe;Xg.prototype.get=pPe;Xg.prototype.has=mPe;Xg.prototype.set=gPe;var yPe=Xg;function vPe(){this.__data__=[],this.size=0}var _Pe=vPe;function xPe(e,t){return e===t||e!==e&&t!==t}var VD=xPe,bPe=VD;function wPe(e,t){for(var r=e.length;r--;)if(bPe(e[r][0],t))return r;return-1}var GE=wPe,SPe=GE,EPe=Array.prototype,CPe=EPe.splice;function kPe(e){var t=this.__data__,r=SPe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():CPe.call(t,r,1),--this.size,!0}var TPe=kPe,PPe=GE;function APe(e){var t=this.__data__,r=PPe(t,e);return r<0?void 0:t[r][1]}var MPe=APe,OPe=GE;function IPe(e){return OPe(this.__data__,e)>-1}var RPe=IPe,$Pe=GE;function DPe(e,t){var r=this.__data__,n=$Pe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var LPe=DPe,NPe=_Pe,zPe=TPe,jPe=MPe,BPe=RPe,FPe=LPe;function Jg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jg.prototype.clear=NPe;Jg.prototype.delete=zPe;Jg.prototype.get=jPe;Jg.prototype.has=BPe;Jg.prototype.set=FPe;var YE=Jg,UPe=Oh,VPe=mc,WPe=UPe(VPe,"Map"),WD=WPe,jB=yPe,qPe=YE,HPe=WD;function GPe(){this.size=0,this.__data__={hash:new jB,map:new(HPe||qPe),string:new jB}}var YPe=GPe;function KPe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZPe=KPe,XPe=ZPe;function JPe(e,t){var r=e.__data__;return XPe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var KE=JPe,QPe=KE;function eAe(e){var t=QPe(this,e).delete(e);return this.size-=t?1:0,t}var tAe=eAe,rAe=KE;function nAe(e){return rAe(this,e).get(e)}var iAe=nAe,oAe=KE;function aAe(e){return oAe(this,e).has(e)}var sAe=aAe,lAe=KE;function cAe(e,t){var r=lAe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var uAe=cAe,dAe=YPe,fAe=tAe,hAe=iAe,pAe=sAe,mAe=uAe;function Qg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qg.prototype.clear=dAe;Qg.prototype.delete=fAe;Qg.prototype.get=hAe;Qg.prototype.has=pAe;Qg.prototype.set=mAe;var qD=Qg,QH=qD,gAe="Expected a function";function HD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gAe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(HD.Cache||QH),r}HD.Cache=QH;var yAe=HD,vAe=yAe,_Ae=500;function xAe(e){var t=vAe(e,function(n){return r.size===_Ae&&r.clear(),n}),r=t.cache;return t}var bAe=xAe,wAe=bAe,SAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EAe=/\\(\\)?/g,CAe=wAe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SAe,function(r,n,i,o){t.push(i?o.replace(EAe,"$1"):n||r)}),t}),kAe=CAe;function TAe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var GD=TAe,BB=lx,PAe=GD,AAe=ca,MAe=Zg,OAe=1/0,FB=BB?BB.prototype:void 0,UB=FB?FB.toString:void 0;function eG(e){if(typeof e=="string")return e;if(AAe(e))return PAe(e,eG)+"";if(MAe(e))return UB?UB.call(e):"";var t=e+"";return t=="0"&&1/e==-OAe?"-0":t}var IAe=eG,RAe=IAe;function $Ae(e){return e==null?"":RAe(e)}var tG=$Ae,DAe=ca,LAe=UD,NAe=kAe,zAe=tG;function jAe(e,t){return DAe(e)?e:LAe(e,t)?[e]:NAe(zAe(e))}var rG=jAe,BAe=Zg,FAe=1/0;function UAe(e){if(typeof e=="string"||BAe(e))return e;var t=e+"";return t=="0"&&1/e==-FAe?"-0":t}var ZE=UAe,VAe=rG,WAe=ZE;function qAe(e,t){t=VAe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[WAe(t[r++])];return r&&r==n?e:void 0}var YD=qAe,HAe=YD;function GAe(e,t,r){var n=e==null?void 0:HAe(e,t);return n===void 0?r:n}var nG=GAe;const ks=Jr(nG);function YAe(e){return e==null}var KAe=YAe;const dr=Jr(KAe);var ZAe=Zd,XAe=Xd,JAe="[object Number]";function QAe(e){return typeof e=="number"||XAe(e)&&ZAe(e)==JAe}var iG=QAe;const eMe=Jr(iG);var tMe=iG;function rMe(e){return tMe(e)&&e!=+e}var nMe=rMe;const ux=Jr(nMe);var xs=function(t){return t===0?0:t>0?1:-1},Gf=function(t){return cx(t)&&t.indexOf("%")===t.length-1},Mt=function(t){return eMe(t)&&!ux(t)},ji=function(t){return Mt(t)||cx(t)},iMe=0,dx=function(t){var r=++iMe;return"".concat(t||"").concat(r)},ug=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mt(t)&&!cx(t))return n;var o;if(Gf(t)){var s=t.indexOf("%");o=r*parseFloat(t.slice(0,s))/100}else o=+t;return ux(o)&&(o=n),i&&o>r&&(o=r),o},Qu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},oMe=function(t){if(!po(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},sl=function(t,r){return Mt(t)&&Mt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Xw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ks(n,t))===r})}function Lm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function FM(e){"@babel/helpers - typeof";return FM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FM(e)}var aMe=["viewBox","children"],sMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VB=["points","pathLength"],pP={svg:aMe,polygon:VB,polyline:VB},KD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(V.isValidElement(t)&&(n=t.props),!Kg(n))return null;var i={};return Object.keys(n).forEach(function(o){KD.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},lMe=function(t,r,n){return function(i){return t(r,n,i),null}},Qw=function(t,r,n){if(!Kg(t)||FM(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];KD.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=lMe(s,r,n))}),i},cMe=["children"],uMe=["children"];function WB(e,t){if(e==null)return{};var r=dMe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function UM(e){"@babel/helpers - typeof";return UM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UM(e)}var qB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ad=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},HB=null,mP=null,ZD=function e(t){if(t===HB&&po(mP))return mP;var r=[];return V.Children.forEach(t,function(n){dr(n)||(HV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),mP=r,HB=t,r};function Ts(e,t){var r=[],n=[];return po(t)?n=t.map(function(i){return Ad(i)}):n=[Ad(t)],ZD(e).forEach(function(i){var o=ks(i,"type.displayName")||ks(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Xc(e,t){var r=Ts(e,t);return r&&r[0]}var GB=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Mt(n)||n<=0||!Mt(i)||i<=0)},fMe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hMe=function(t){return t&&t.type&&cx(t.type)&&fMe.indexOf(t.type)>=0},pMe=function(t){return t&&UM(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},mMe=function(t,r,n,i){var o,s=(o=pP==null?void 0:pP[i])!==null&&o!==void 0?o:[];return!hr(t)&&(i&&s.includes(r)||sMe.includes(r))||n&&KD.includes(r)},qr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(V.isValidElement(t)&&(i=t.props),!Kg(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;mMe((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},oG=function e(t,r){if(t===r)return!0;var n=V.Children.count(t);if(n!==V.Children.count(r))return!1;if(n===0)return!0;if(n===1)return YB(po(t)?t[0]:t,po(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],s=r[i];if(po(o)||po(s)){if(!e(o,s))return!1}else if(!YB(o,s))return!1}return!0},YB=function(t,r){if(dr(t)&&dr(r))return!0;if(!dr(t)&&!dr(r)){var n=t.props||{},i=n.children,o=WB(n,cMe),s=r.props||{},a=s.children,f=WB(s,uMe);return i&&a?Lm(o,f)&&oG(i,a):!i&&!a?Lm(o,f):!1}return!1},KB=function(t,r){var n=[],i={};return ZD(t).forEach(function(o,s){if(hMe(o))n.push(o);else if(o){var a=Ad(o.type),f=r[a]||{},h=f.handler,g=f.once;if(h&&(!g||!i[a])){var y=h(o,a,s);n.push(y),i[a]=!0}}}),n},gMe=function(t){var r=t&&t.type;return r&&qB[r]?qB[r]:null},yMe=function(t,r){return ZD(r).indexOf(t)},vMe=["children","width","height","viewBox","className","style"];function VM(){return VM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VM.apply(this,arguments)}function _Me(e,t){if(e==null)return{};var r=xMe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function WM(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,s=e.style,a=_Me(e,vMe),f=i||{width:r,height:n,x:0,y:0},h=wn("recharts-surface",o);return De.createElement("svg",VM({},qr(a,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),De.createElement("title",null,e.title),De.createElement("desc",null,e.desc),t)}var bMe=["children","className"];function qM(){return qM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qM.apply(this,arguments)}function wMe(e,t){if(e==null)return{};var r=SMe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ii=De.forwardRef(function(e,t){var r=e.children,n=e.className,i=wMe(e,bMe),o=wn("recharts-layer",n);return De.createElement("g",qM({className:o},qr(i,!0),{ref:t}),r)}),EMe=YE;function CMe(){this.__data__=new EMe,this.size=0}var kMe=CMe;function TMe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var PMe=TMe;function AMe(e){return this.__data__.get(e)}var MMe=AMe;function OMe(e){return this.__data__.has(e)}var IMe=OMe,RMe=YE,$Me=WD,DMe=qD,LMe=200;function NMe(e,t){var r=this.__data__;if(r instanceof RMe){var n=r.__data__;if(!$Me||n.length<LMe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new DMe(n)}return r.set(e,t),this.size=r.size,this}var zMe=NMe,jMe=YE,BMe=kMe,FMe=PMe,UMe=MMe,VMe=IMe,WMe=zMe;function ey(e){var t=this.__data__=new jMe(e);this.size=t.size}ey.prototype.clear=BMe;ey.prototype.delete=FMe;ey.prototype.get=UMe;ey.prototype.has=VMe;ey.prototype.set=WMe;var aG=ey,qMe="__lodash_hash_undefined__";function HMe(e){return this.__data__.set(e,qMe),this}var GMe=HMe;function YMe(e){return this.__data__.has(e)}var KMe=YMe,ZMe=qD,XMe=GMe,JMe=KMe;function eS(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ZMe;++t<r;)this.add(e[t])}eS.prototype.add=eS.prototype.push=XMe;eS.prototype.has=JMe;var sG=eS;function QMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var lG=QMe;function eOe(e,t){return e.has(t)}var cG=eOe,tOe=sG,rOe=lG,nOe=cG,iOe=1,oOe=2;function aOe(e,t,r,n,i,o){var s=r&iOe,a=e.length,f=t.length;if(a!=f&&!(s&&f>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var y=-1,x=!0,A=r&oOe?new tOe:void 0;for(o.set(e,t),o.set(t,e);++y<a;){var T=e[y],w=t[y];if(n)var M=s?n(w,T,y,t,e,o):n(T,w,y,e,t,o);if(M!==void 0){if(M)continue;x=!1;break}if(A){if(!rOe(t,function(O,I){if(!nOe(A,I)&&(T===O||i(T,O,r,n,o)))return A.push(I)})){x=!1;break}}else if(!(T===w||i(T,w,r,n,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var uG=aOe,sOe=mc,lOe=sOe.Uint8Array,cOe=lOe;function uOe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var dOe=uOe;function fOe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var XD=fOe,ZB=lx,XB=cOe,hOe=VD,pOe=uG,mOe=dOe,gOe=XD,yOe=1,vOe=2,_Oe="[object Boolean]",xOe="[object Date]",bOe="[object Error]",wOe="[object Map]",SOe="[object Number]",EOe="[object RegExp]",COe="[object Set]",kOe="[object String]",TOe="[object Symbol]",POe="[object ArrayBuffer]",AOe="[object DataView]",JB=ZB?ZB.prototype:void 0,gP=JB?JB.valueOf:void 0;function MOe(e,t,r,n,i,o,s){switch(r){case AOe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case POe:return!(e.byteLength!=t.byteLength||!o(new XB(e),new XB(t)));case _Oe:case xOe:case SOe:return hOe(+e,+t);case bOe:return e.name==t.name&&e.message==t.message;case EOe:case kOe:return e==t+"";case wOe:var a=mOe;case COe:var f=n&yOe;if(a||(a=gOe),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;n|=vOe,s.set(e,t);var g=pOe(a(e),a(t),n,i,o,s);return s.delete(e),g;case TOe:if(gP)return gP.call(e)==gP.call(t)}return!1}var OOe=MOe;function IOe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var dG=IOe,ROe=dG,$Oe=ca;function DOe(e,t,r){var n=t(e);return $Oe(e)?n:ROe(n,r(e))}var LOe=DOe;function NOe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var zOe=NOe;function jOe(){return[]}var BOe=jOe,FOe=zOe,UOe=BOe,VOe=Object.prototype,WOe=VOe.propertyIsEnumerable,QB=Object.getOwnPropertySymbols,qOe=QB?function(e){return e==null?[]:(e=Object(e),FOe(QB(e),function(t){return WOe.call(e,t)}))}:UOe,HOe=qOe;function GOe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var YOe=GOe,KOe=Zd,ZOe=Xd,XOe="[object Arguments]";function JOe(e){return ZOe(e)&&KOe(e)==XOe}var QOe=JOe,e4=QOe,eIe=Xd,fG=Object.prototype,tIe=fG.hasOwnProperty,rIe=fG.propertyIsEnumerable,nIe=e4(function(){return arguments}())?e4:function(e){return eIe(e)&&tIe.call(e,"callee")&&!rIe.call(e,"callee")},JD=nIe,tS={exports:{}};function iIe(){return!1}var oIe=iIe;tS.exports;(function(e,t){var r=mc,n=oIe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?r.Buffer:void 0,f=a?a.isBuffer:void 0,h=f||n;e.exports=h})(tS,tS.exports);var hG=tS.exports,aIe=9007199254740991,sIe=/^(?:0|[1-9]\d*)$/;function lIe(e,t){var r=typeof e;return t=t??aIe,!!t&&(r=="number"||r!="symbol"&&sIe.test(e))&&e>-1&&e%1==0&&e<t}var QD=lIe,cIe=9007199254740991;function uIe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cIe}var eL=uIe,dIe=Zd,fIe=eL,hIe=Xd,pIe="[object Arguments]",mIe="[object Array]",gIe="[object Boolean]",yIe="[object Date]",vIe="[object Error]",_Ie="[object Function]",xIe="[object Map]",bIe="[object Number]",wIe="[object Object]",SIe="[object RegExp]",EIe="[object Set]",CIe="[object String]",kIe="[object WeakMap]",TIe="[object ArrayBuffer]",PIe="[object DataView]",AIe="[object Float32Array]",MIe="[object Float64Array]",OIe="[object Int8Array]",IIe="[object Int16Array]",RIe="[object Int32Array]",$Ie="[object Uint8Array]",DIe="[object Uint8ClampedArray]",LIe="[object Uint16Array]",NIe="[object Uint32Array]",Nn={};Nn[AIe]=Nn[MIe]=Nn[OIe]=Nn[IIe]=Nn[RIe]=Nn[$Ie]=Nn[DIe]=Nn[LIe]=Nn[NIe]=!0;Nn[pIe]=Nn[mIe]=Nn[TIe]=Nn[gIe]=Nn[PIe]=Nn[yIe]=Nn[vIe]=Nn[_Ie]=Nn[xIe]=Nn[bIe]=Nn[wIe]=Nn[SIe]=Nn[EIe]=Nn[CIe]=Nn[kIe]=!1;function zIe(e){return hIe(e)&&fIe(e.length)&&!!Nn[dIe(e)]}var jIe=zIe;function BIe(e){return function(t){return e(t)}}var pG=BIe,rS={exports:{}};rS.exports;(function(e,t){var r=ZH,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(rS,rS.exports);var FIe=rS.exports,UIe=jIe,VIe=pG,t4=FIe,r4=t4&&t4.isTypedArray,WIe=r4?VIe(r4):UIe,mG=WIe,qIe=YOe,HIe=JD,GIe=ca,YIe=hG,KIe=QD,ZIe=mG,XIe=Object.prototype,JIe=XIe.hasOwnProperty;function QIe(e,t){var r=GIe(e),n=!r&&HIe(e),i=!r&&!n&&YIe(e),o=!r&&!n&&!i&&ZIe(e),s=r||n||i||o,a=s?qIe(e.length,String):[],f=a.length;for(var h in e)(t||JIe.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||KIe(h,f)))&&a.push(h);return a}var eRe=QIe,tRe=Object.prototype;function rRe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tRe;return e===r}var nRe=rRe;function iRe(e,t){return function(r){return e(t(r))}}var oRe=iRe,aRe=oRe,sRe=aRe(Object.keys,Object),lRe=sRe,cRe=nRe,uRe=lRe,dRe=Object.prototype,fRe=dRe.hasOwnProperty;function hRe(e){if(!cRe(e))return uRe(e);var t=[];for(var r in Object(e))fRe.call(e,r)&&r!="constructor"&&t.push(r);return t}var pRe=hRe,mRe=FD,gRe=eL;function yRe(e){return e!=null&&gRe(e.length)&&!mRe(e)}var fx=yRe,vRe=eRe,_Re=pRe,xRe=fx;function bRe(e){return xRe(e)?vRe(e):_Re(e)}var XE=bRe,wRe=LOe,SRe=HOe,ERe=XE;function CRe(e){return wRe(e,ERe,SRe)}var kRe=CRe,n4=kRe,TRe=1,PRe=Object.prototype,ARe=PRe.hasOwnProperty;function MRe(e,t,r,n,i,o){var s=r&TRe,a=n4(e),f=a.length,h=n4(t),g=h.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var x=a[y];if(!(s?x in t:ARe.call(t,x)))return!1}var A=o.get(e),T=o.get(t);if(A&&T)return A==t&&T==e;var w=!0;o.set(e,t),o.set(t,e);for(var M=s;++y<f;){x=a[y];var O=e[x],I=t[x];if(n)var E=s?n(I,O,x,t,e,o):n(O,I,x,e,t,o);if(!(E===void 0?O===I||i(O,I,r,n,o):E)){w=!1;break}M||(M=x=="constructor")}if(w&&!M){var R=e.constructor,N=t.constructor;R!=N&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof N=="function"&&N instanceof N)&&(w=!1)}return o.delete(e),o.delete(t),w}var ORe=MRe,IRe=Oh,RRe=mc,$Re=IRe(RRe,"DataView"),DRe=$Re,LRe=Oh,NRe=mc,zRe=LRe(NRe,"Promise"),jRe=zRe,BRe=Oh,FRe=mc,URe=BRe(FRe,"Set"),gG=URe,VRe=Oh,WRe=mc,qRe=VRe(WRe,"WeakMap"),HRe=qRe,HM=DRe,GM=WD,YM=jRe,KM=gG,ZM=HRe,yG=Zd,ty=JH,i4="[object Map]",GRe="[object Object]",o4="[object Promise]",a4="[object Set]",s4="[object WeakMap]",l4="[object DataView]",YRe=ty(HM),KRe=ty(GM),ZRe=ty(YM),XRe=ty(KM),JRe=ty(ZM),Rf=yG;(HM&&Rf(new HM(new ArrayBuffer(1)))!=l4||GM&&Rf(new GM)!=i4||YM&&Rf(YM.resolve())!=o4||KM&&Rf(new KM)!=a4||ZM&&Rf(new ZM)!=s4)&&(Rf=function(e){var t=yG(e),r=t==GRe?e.constructor:void 0,n=r?ty(r):"";if(n)switch(n){case YRe:return l4;case KRe:return i4;case ZRe:return o4;case XRe:return a4;case JRe:return s4}return t});var QRe=Rf,yP=aG,e$e=uG,t$e=OOe,r$e=ORe,c4=QRe,u4=ca,d4=hG,n$e=mG,i$e=1,f4="[object Arguments]",h4="[object Array]",u1="[object Object]",o$e=Object.prototype,p4=o$e.hasOwnProperty;function a$e(e,t,r,n,i,o){var s=u4(e),a=u4(t),f=s?h4:c4(e),h=a?h4:c4(t);f=f==f4?u1:f,h=h==f4?u1:h;var g=f==u1,y=h==u1,x=f==h;if(x&&d4(e)){if(!d4(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new yP),s||n$e(e)?e$e(e,t,r,n,i,o):t$e(e,t,f,r,n,i,o);if(!(r&i$e)){var A=g&&p4.call(e,"__wrapped__"),T=y&&p4.call(t,"__wrapped__");if(A||T){var w=A?e.value():e,M=T?t.value():t;return o||(o=new yP),i(w,M,r,n,o)}}return x?(o||(o=new yP),r$e(e,t,r,n,i,o)):!1}var s$e=a$e,l$e=s$e,m4=Xd;function vG(e,t,r,n,i){return e===t?!0:e==null||t==null||!m4(e)&&!m4(t)?e!==e&&t!==t:l$e(e,t,r,n,vG,i)}var tL=vG,c$e=aG,u$e=tL,d$e=1,f$e=2;function h$e(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var f=a[0],h=e[f],g=a[1];if(s&&a[2]){if(h===void 0&&!(f in e))return!1}else{var y=new c$e;if(n)var x=n(h,g,f,e,t,y);if(!(x===void 0?u$e(g,h,d$e|f$e,n,y):x))return!1}}return!0}var p$e=h$e,m$e=Kd;function g$e(e){return e===e&&!m$e(e)}var _G=g$e,y$e=_G,v$e=XE;function _$e(e){for(var t=v$e(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,y$e(i)]}return t}var x$e=_$e;function b$e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var xG=b$e,w$e=p$e,S$e=x$e,E$e=xG;function C$e(e){var t=S$e(e);return t.length==1&&t[0][2]?E$e(t[0][0],t[0][1]):function(r){return r===e||w$e(r,e,t)}}var k$e=C$e;function T$e(e,t){return e!=null&&t in Object(e)}var P$e=T$e,A$e=rG,M$e=JD,O$e=ca,I$e=QD,R$e=eL,$$e=ZE;function D$e(e,t,r){t=A$e(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=$$e(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&R$e(i)&&I$e(s,i)&&(O$e(e)||M$e(e)))}var L$e=D$e,N$e=P$e,z$e=L$e;function j$e(e,t){return e!=null&&z$e(e,t,N$e)}var B$e=j$e,F$e=tL,U$e=nG,V$e=B$e,W$e=UD,q$e=_G,H$e=xG,G$e=ZE,Y$e=1,K$e=2;function Z$e(e,t){return W$e(e)&&q$e(t)?H$e(G$e(e),t):function(r){var n=U$e(r,e);return n===void 0&&n===t?V$e(r,e):F$e(t,n,Y$e|K$e)}}var X$e=Z$e;function J$e(e){return e}var ry=J$e;function Q$e(e){return function(t){return t==null?void 0:t[e]}}var eDe=Q$e,tDe=YD;function rDe(e){return function(t){return tDe(t,e)}}var nDe=rDe,iDe=eDe,oDe=nDe,aDe=UD,sDe=ZE;function lDe(e){return aDe(e)?iDe(sDe(e)):oDe(e)}var cDe=lDe,uDe=k$e,dDe=X$e,fDe=ry,hDe=ca,pDe=cDe;function mDe(e){return typeof e=="function"?e:e==null?fDe:typeof e=="object"?hDe(e)?dDe(e[0],e[1]):uDe(e):pDe(e)}var Jd=mDe;function gDe(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var bG=gDe;function yDe(e){return e!==e}var vDe=yDe;function _De(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var xDe=_De,bDe=bG,wDe=vDe,SDe=xDe;function EDe(e,t,r){return t===t?SDe(e,t,r):bDe(e,wDe,r)}var CDe=EDe,kDe=CDe;function TDe(e,t){var r=e==null?0:e.length;return!!r&&kDe(e,t,0)>-1}var PDe=TDe;function ADe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var MDe=ADe;function ODe(){}var IDe=ODe,vP=gG,RDe=IDe,$De=XD,DDe=1/0,LDe=vP&&1/$De(new vP([,-0]))[1]==DDe?function(e){return new vP(e)}:RDe,NDe=LDe,zDe=sG,jDe=PDe,BDe=MDe,FDe=cG,UDe=NDe,VDe=XD,WDe=200;function qDe(e,t,r){var n=-1,i=jDe,o=e.length,s=!0,a=[],f=a;if(r)s=!1,i=BDe;else if(o>=WDe){var h=t?null:UDe(e);if(h)return VDe(h);s=!1,i=FDe,f=new zDe}else f=t?[]:a;e:for(;++n<o;){var g=e[n],y=t?t(g):g;if(g=r||g!==0?g:0,s&&y===y){for(var x=f.length;x--;)if(f[x]===y)continue e;t&&f.push(y),a.push(g)}else i(f,y,r)||(f!==a&&f.push(y),a.push(g))}return a}var HDe=qDe,GDe=Jd,YDe=HDe;function KDe(e,t){return e&&e.length?YDe(e,GDe(t)):[]}var ZDe=KDe;const nS=Jr(ZDe);function XDe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var JDe=XDe,QDe=JDe;function eLe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:QDe(e,t,r)}var tLe=eLe,rLe="\\ud800-\\udfff",nLe="\\u0300-\\u036f",iLe="\\ufe20-\\ufe2f",oLe="\\u20d0-\\u20ff",aLe=nLe+iLe+oLe,sLe="\\ufe0e\\ufe0f",lLe="\\u200d",cLe=RegExp("["+lLe+rLe+aLe+sLe+"]");function uLe(e){return cLe.test(e)}var wG=uLe;function dLe(e){return e.split("")}var fLe=dLe,SG="\\ud800-\\udfff",hLe="\\u0300-\\u036f",pLe="\\ufe20-\\ufe2f",mLe="\\u20d0-\\u20ff",gLe=hLe+pLe+mLe,yLe="\\ufe0e\\ufe0f",vLe="["+SG+"]",XM="["+gLe+"]",JM="\\ud83c[\\udffb-\\udfff]",_Le="(?:"+XM+"|"+JM+")",EG="[^"+SG+"]",CG="(?:\\ud83c[\\udde6-\\uddff]){2}",kG="[\\ud800-\\udbff][\\udc00-\\udfff]",xLe="\\u200d",TG=_Le+"?",PG="["+yLe+"]?",bLe="(?:"+xLe+"(?:"+[EG,CG,kG].join("|")+")"+PG+TG+")*",wLe=PG+TG+bLe,SLe="(?:"+[EG+XM+"?",XM,CG,kG,vLe].join("|")+")",ELe=RegExp(JM+"(?="+JM+")|"+SLe+wLe,"g");function CLe(e){return e.match(ELe)||[]}var kLe=CLe,TLe=fLe,PLe=wG,ALe=kLe;function MLe(e){return PLe(e)?ALe(e):TLe(e)}var OLe=MLe,ILe=tLe,RLe=wG,$Le=OLe,DLe=tG;function LLe(e){return function(t){t=DLe(t);var r=RLe(t)?$Le(t):void 0,n=r?r[0]:t.charAt(0),i=r?ILe(r,1).join(""):t.slice(1);return n[e]()+i}}var NLe=LLe,zLe=NLe,jLe=zLe("toUpperCase"),BLe=jLe;const JE=Jr(BLe);function Pn(e){return function(){return e}}const AG=Math.cos,iS=Math.sin,El=Math.sqrt,oS=Math.PI,QE=2*oS,QM=Math.PI,eO=2*QM,$f=1e-6,FLe=eO-$f;function MG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ULe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MG;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class VLe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MG:ULe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,f=n-t,h=i-r,g=s-t,y=a-r,x=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>$f)if(!(Math.abs(y*f-h*g)>$f)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let A=n-s,T=i-a,w=f*f+h*h,M=A*A+T*T,O=Math.sqrt(w),I=Math.sqrt(x),E=o*Math.tan((QM-Math.acos((w+x-M)/(2*O*I)))/2),R=E/I,N=E/O;Math.abs(R-1)>$f&&this._append`L${t+R*g},${r+R*y}`,this._append`A${o},${o},0,0,${+(y*A>g*T)},${this._x1=t+N*f},${this._y1=r+N*h}`}}arc(t,r,n,i,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),f=n*Math.sin(i),h=t+a,g=r+f,y=1^s,x=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>$f||Math.abs(this._y1-g)>$f)&&this._append`L${h},${g}`,n&&(x<0&&(x=x%eO+eO),x>FLe?this._append`A${n},${n},0,1,${y},${t-a},${r-f}A${n},${n},0,1,${y},${this._x1=h},${this._y1=g}`:x>$f&&this._append`A${n},${n},0,${+(x>=QM)},${y},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VLe(t)}function nL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OG(e){this._context=e}OG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eC(e){return new OG(e)}function IG(e){return e[0]}function RG(e){return e[1]}function $G(e,t){var r=Pn(!0),n=null,i=eC,o=null,s=rL(a);e=typeof e=="function"?e:e===void 0?IG:Pn(e),t=typeof t=="function"?t:t===void 0?RG:Pn(t);function a(f){var h,g=(f=nL(f)).length,y,x=!1,A;for(n==null&&(o=i(A=s())),h=0;h<=g;++h)!(h<g&&r(y=f[h],h,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(y,h,f),+t(y,h,f));if(A)return o=null,A+""||null}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pn(+f),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:Pn(+f),a):t},a.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Pn(!!f),a):r},a.curve=function(f){return arguments.length?(i=f,n!=null&&(o=i(n)),a):i},a.context=function(f){return arguments.length?(f==null?n=o=null:o=i(n=f),a):n},a}function d1(e,t,r){var n=null,i=Pn(!0),o=null,s=eC,a=null,f=rL(h);e=typeof e=="function"?e:e===void 0?IG:Pn(+e),t=typeof t=="function"?t:Pn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?RG:Pn(+r);function h(y){var x,A,T,w=(y=nL(y)).length,M,O=!1,I,E=new Array(w),R=new Array(w);for(o==null&&(a=s(I=f())),x=0;x<=w;++x){if(!(x<w&&i(M=y[x],x,y))===O)if(O=!O)A=x,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),T=x-1;T>=A;--T)a.point(E[T],R[T]);a.lineEnd(),a.areaEnd()}O&&(E[x]=+e(M,x,y),R[x]=+t(M,x,y),a.point(n?+n(M,x,y):E[x],r?+r(M,x,y):R[x]))}if(I)return a=null,I+""||null}function g(){return $G().defined(i).curve(s).context(o)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:Pn(+y),n=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:Pn(+y),h):e},h.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Pn(+y),h):n},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:Pn(+y),r=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:Pn(+y),h):t},h.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Pn(+y),h):r},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(r)},h.lineX1=function(){return g().x(n).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Pn(!!y),h):i},h.curve=function(y){return arguments.length?(s=y,o!=null&&(a=s(o)),h):s},h.context=function(y){return arguments.length?(y==null?o=a=null:a=s(o=y),h):o},h}class DG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WLe(e){return new DG(e,!0)}function qLe(e){return new DG(e,!1)}const iL={draw(e,t){const r=El(t/oS);e.moveTo(r,0),e.arc(0,0,r,0,QE)}},HLe={draw(e,t){const r=El(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LG=El(1/3),GLe=LG*2,YLe={draw(e,t){const r=El(t/GLe),n=r*LG;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},KLe={draw(e,t){const r=El(t),n=-r/2;e.rect(n,n,r,r)}},ZLe=.8908130915292852,NG=iS(oS/10)/iS(7*oS/10),XLe=iS(QE/10)*NG,JLe=-AG(QE/10)*NG,QLe={draw(e,t){const r=El(t*ZLe),n=XLe*r,i=JLe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const s=QE*o/5,a=AG(s),f=iS(s);e.lineTo(f*r,-a*r),e.lineTo(a*n-f*i,f*n+a*i)}e.closePath()}},_P=El(3),eNe={draw(e,t){const r=-El(t/(_P*3));e.moveTo(0,r*2),e.lineTo(-_P*r,-r),e.lineTo(_P*r,-r),e.closePath()}},us=-.5,ds=El(3)/2,tO=1/El(12),tNe=(tO/2+1)*3,rNe={draw(e,t){const r=El(t/tNe),n=r/2,i=r*tO,o=n,s=r*tO+r,a=-o,f=s;e.moveTo(n,i),e.lineTo(o,s),e.lineTo(a,f),e.lineTo(us*n-ds*i,ds*n+us*i),e.lineTo(us*o-ds*s,ds*o+us*s),e.lineTo(us*a-ds*f,ds*a+us*f),e.lineTo(us*n+ds*i,us*i-ds*n),e.lineTo(us*o+ds*s,us*s-ds*o),e.lineTo(us*a+ds*f,us*f-ds*a),e.closePath()}};function nNe(e,t){let r=null,n=rL(i);e=typeof e=="function"?e:Pn(e||iL),t=typeof t=="function"?t:Pn(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Pn(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Pn(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function aS(){}function sS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zG(e){this._context=e}zG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iNe(e){return new zG(e)}function jG(e){this._context=e}jG.prototype={areaStart:aS,areaEnd:aS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oNe(e){return new jG(e)}function BG(e){this._context=e}BG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aNe(e){return new BG(e)}function FG(e){this._context=e}FG.prototype={areaStart:aS,areaEnd:aS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sNe(e){return new FG(e)}function g4(e){return e<0?-1:1}function y4(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(g4(o)+g4(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function v4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function xP(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function lS(e){this._context=e}lS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xP(this,this._t0,v4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xP(this,v4(this,r=y4(this,e,t)),r);break;default:xP(this,this._t0,r=y4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function UG(e){this._context=new VG(e)}(UG.prototype=Object.create(lS.prototype)).point=function(e,t){lS.prototype.point.call(this,t,e)};function VG(e){this._context=e}VG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function lNe(e){return new lS(e)}function cNe(e){return new UG(e)}function WG(e){this._context=e}WG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_4(e),i=_4(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _4(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function uNe(e){return new WG(e)}function tC(e,t){this._context=e,this._t=t}tC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dNe(e){return new tC(e,.5)}function fNe(e){return new tC(e,0)}function hNe(e){return new tC(e,1)}function dg(e,t){if((s=e.length)>1)for(var r=1,n,i,o=e[t[0]],s,a=o.length;r<s;++r)for(i=o,o=e[t[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function rO(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pNe(e,t){return e[t]}function mNe(e){const t=[];return t.key=e,t}function gNe(){var e=Pn([]),t=rO,r=dg,n=pNe;function i(o){var s=Array.from(e.apply(this,arguments),mNe),a,f=s.length,h=-1,g;for(const y of o)for(a=0,++h;a<f;++a)(s[a][h]=[0,+n(y,s[a].key,h,o)]).data=y;for(a=0,g=nL(t(s));a<f;++a)s[g[a]].index=a;return r(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Pn(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Pn(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?rO:typeof o=="function"?o:Pn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??dg,i):r},i}function yNe(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}dg(e,t)}}function vNe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=e[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}dg(e,t)}}function _Ne(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,f=0,h=0;a<s;++a){for(var g=e[t[a]],y=g[n][1]||0,x=g[n-1][1]||0,A=(y-x)/2,T=0;T<a;++T){var w=e[t[T]],M=w[n][1]||0,O=w[n-1][1]||0;A+=M-O}f+=y,h+=A*y}i[n-1][1]+=i[n-1][0]=r,f&&(r-=h/f)}i[n-1][1]+=i[n-1][0]=r,dg(e,t)}}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}var qG={symbolCircle:iL,symbolCross:HLe,symbolDiamond:YLe,symbolSquare:KLe,symbolStar:QLe,symbolTriangle:eNe,symbolWye:rNe},xNe=Math.PI/180,bNe=function(t){var r="symbol".concat(JE(t));return qG[r]||iL},wNe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*xNe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SNe={type:"circle",size:64,sizeType:"area"},ENe=function(t,r){qG["symbol".concat(JE(t))]=r},oL=function(t){var r=function(){var h=t.size,g=t.sizeType,y=t.type,x=bNe(y),A=nNe().type(x).size(wNe(h,g,y));return A()},n=t.className,i=t.cx,o=t.cy,s=t.size,a=qr(t,!0);return i===+i&&o===+o&&s===+s?De.createElement("path",nO({},a,{className:wn("recharts-symbols",n),transform:"translate(".concat(i,", ").concat(o,")"),d:r()})):null};oL.defaultProps=SNe;oL.registerSymbol=ENe;function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function iO(){return iO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iO.apply(this,arguments)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function TNe(e,t,r){return t&&b4(e.prototype,t),r&&b4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oO(e,t)}function oO(e,t){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oO(e,t)}function ANe(e){var t=INe();return function(){var n=cS(e),i;if(t){var o=cS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return MNe(this,i)}}function MNe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(e)}function ONe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function INe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(e)}function d_(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=RNe(e,"string");return fg(t)==="symbol"?t:String(t)}function RNe(e,t){if(fg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fs=32,aL=function(e){PNe(r,e);var t=ANe(r);function r(){return kNe(this,r),t.apply(this,arguments)}return TNe(r,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=fs/2,a=fs/6,f=fs/3,h=i.inactive?o:i.color;if(i.type==="plainline")return De.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:fs,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return De.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(fs,"M").concat(2*f,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return De.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(fs/8,"h").concat(fs,"v").concat(fs*3/4,"h").concat(-fs,"z"),className:"recharts-legend-icon"});if(De.isValidElement(i.legendIcon)){var g=CNe({},i);return delete g.legendIcon,De.cloneElement(i.legendIcon,g)}return De.createElement(oL,{fill:h,cx:s,cy:s,size:fs,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,f=o.layout,h=o.formatter,g=o.inactiveColor,y={x:0,y:0,width:fs,height:fs},x={display:f==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(T,w){var M,O=T.formatter||h,I=wn((M={"recharts-legend-item":!0},d_(M,"legend-item-".concat(w),!0),d_(M,"inactive",T.inactive),M));if(T.type==="none")return null;var E=T.inactive?g:T.color;return De.createElement("li",iO({className:I,style:x,key:"legend-item-".concat(w)},Qw(i.props,T,w)),De.createElement(WM,{width:a,height:a,viewBox:y,style:A},i.renderIcon(T)),De.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},O?O(T.value,T,w):T.value))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return De.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}]),r}(V.PureComponent);d_(aL,"displayName","Legend");d_(aL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}var $Ne=["ref"];function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){rC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function LNe(e,t,r){return t&&S4(e.prototype,t),r&&S4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aO(e,t)}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aO(e,t)}function zNe(e){var t=BNe();return function(){var n=uS(e),i;if(t){var o=uS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return jNe(this,i)}}function jNe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GG(e)}function GG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uS(e)}function rC(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=FNe(e,"string");return hg(t)==="symbol"?t:String(t)}function FNe(e,t){if(hg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UNe(e,t){if(e==null)return{};var r=VNe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function WNe(e){return e.value}function qNe(e,t){return e===!0?nS(t,WNe):hr(e)?nS(t,e):t}function HNe(e,t){if(De.isValidElement(e))return De.cloneElement(e,t);if(hr(e))return De.createElement(e,t);t.ref;var r=UNe(t,$Ne);return De.createElement(aL,r)}var E4=1,pg=function(e){NNe(r,e);var t=zNe(r);function r(){var n;DNe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),rC(GG(n),"state",{boxWidth:-1,boxHeight:-1}),n}return LNe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight;return o>=0&&s>=0?{width:o,height:s}:null}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,f=o.verticalAlign,h=o.margin,g=o.chartWidth,y=o.chartHeight,x,A;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var T=this.getBBoxSnapshot()||{width:0};x={left:((g||0)-T.width)/2}}else x=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var w=this.getBBoxSnapshot()||{height:0};A={top:((y||0)-w.height)/2}}else A=f==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return Fp(Fp({},x),A)}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var f=this.wrapperNode.getBoundingClientRect();(Math.abs(f.width-o)>E4||Math.abs(f.height-s)>E4)&&this.setState({boxWidth:f.width,boxHeight:f.height},function(){a&&a(f)})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){a&&a(null)})}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,f=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,y=o.payload,x=Fp(Fp({position:"absolute",width:a||"auto",height:f||"auto"},this.getDefaultPosition(h)),h);return De.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(T){i.wrapperNode=T}},HNe(s,Fp(Fp({},this.props),{},{payload:qNe(g,y)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Mt(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),r}(V.PureComponent);rC(pg,"displayName","Legend");rC(pg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GNe=Object.getOwnPropertyNames,YNe=Object.getOwnPropertySymbols,KNe=Object.prototype.hasOwnProperty;function C4(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function f1(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var f=e(r,n,i);return o.delete(r),o.delete(n),f}}function k4(e){return GNe(e).concat(YNe(e))}var KG=Object.hasOwn||function(e,t){return KNe.call(e,t)};function ny(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var ZG="_owner",T4=Object.getOwnPropertyDescriptor,P4=Object.keys;function ZNe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function XNe(e,t){return ny(e.getTime(),t.getTime())}function A4(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,g=0;(a=f.next())&&!a.done;){var y=s.value,x=y[0],A=y[1],T=a.value,w=T[0],M=T[1];!h&&!n[g]&&(h=r.equals(x,w,o,g,e,t,r)&&r.equals(A,M,x,w,e,t,r))&&(n[g]=!0),g++}if(!h)return!1;o++}return!0}function JNe(e,t,r){var n=P4(e),i=n.length;if(P4(t).length!==i)return!1;for(var o;i-- >0;)if(o=n[i],o===ZG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!KG(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Iv(e,t,r){var n=k4(e),i=n.length;if(k4(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],o===ZG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!KG(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(s=T4(e,o),a=T4(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function QNe(e,t){return ny(e.valueOf(),t.valueOf())}function eze(e,t){return e.source===t.source&&e.flags===t.flags}function M4(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),f=!1,h=0;(s=a.next())&&!s.done;)!f&&!n[h]&&(f=r.equals(o.value,s.value,o.value,s.value,e,t,r))&&(n[h]=!0),h++;if(!f)return!1}return!0}function tze(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var rze="[object Arguments]",nze="[object Boolean]",ize="[object Date]",oze="[object Map]",aze="[object Number]",sze="[object Object]",lze="[object RegExp]",cze="[object Set]",uze="[object String]",dze=Array.isArray,O4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,I4=Object.assign,fze=Object.prototype.toString.call.bind(Object.prototype.toString);function hze(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,f=e.areTypedArraysEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null||typeof g!="object"||typeof y!="object")return g!==g&&y!==y;var A=g.constructor;if(A!==y.constructor)return!1;if(A===Object)return i(g,y,x);if(dze(g))return t(g,y,x);if(O4!=null&&O4(g))return f(g,y,x);if(A===Date)return r(g,y,x);if(A===RegExp)return s(g,y,x);if(A===Map)return n(g,y,x);if(A===Set)return a(g,y,x);var T=fze(g);return T===ize?r(g,y,x):T===lze?s(g,y,x):T===oze?n(g,y,x):T===cze?a(g,y,x):T===sze?typeof g.then!="function"&&typeof y.then!="function"&&i(g,y,x):T===rze?i(g,y,x):T===nze||T===aze||T===uze?o(g,y,x):!1}}function pze(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Iv:ZNe,areDatesEqual:XNe,areMapsEqual:n?C4(A4,Iv):A4,areObjectsEqual:n?Iv:JNe,arePrimitiveWrappersEqual:QNe,areRegExpsEqual:eze,areSetsEqual:n?C4(M4,Iv):M4,areTypedArraysEqual:n?Iv:tze};if(r&&(i=I4({},i,r(i))),t){var o=f1(i.areArraysEqual),s=f1(i.areMapsEqual),a=f1(i.areObjectsEqual),f=f1(i.areSetsEqual);i=I4({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:f})}return i}function mze(e){return function(t,r,n,i,o,s,a){return e(t,r,a)}}function gze(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,o=e.strict;if(n)return function(f,h){var g=n(),y=g.cache,x=y===void 0?t?new WeakMap:void 0:y,A=g.meta;return r(f,h,{cache:x,equals:i,meta:A,strict:o})};if(t)return function(f,h){return r(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return r(f,h,s)}}var yze=Qd();Qd({strict:!0});Qd({circular:!0});Qd({circular:!0,strict:!0});Qd({createInternalComparator:function(){return ny}});Qd({strict:!0,createInternalComparator:function(){return ny}});Qd({circular:!0,createInternalComparator:function(){return ny}});Qd({circular:!0,createInternalComparator:function(){return ny},strict:!0});function Qd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=pze(e),f=hze(a),h=n?n(f):mze(f);return gze({circular:r,comparator:f,createState:i,equals:h,strict:s})}function R4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):requestAnimationFrame(i)};requestAnimationFrame(n)}function sO(e){"@babel/helpers - typeof";return sO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sO(e)}function vze(e){return wze(e)||bze(e)||xze(e)||_ze()}function _ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xze(e,t){if(e){if(typeof e=="string")return $4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $4(e,t)}}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wze(e){if(Array.isArray(e))return e}function Sze(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=vze(s),f=a[0],h=a.slice(1);if(typeof f=="number"){R4(i.bind(null,h),f);return}i(f),R4(i.bind(null,h));return}sO(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function f_(e){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f_(e)}function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(n){dS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dS(e,t,r){return t=Eze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eze(e){var t=Cze(e,"string");return f_(t)==="symbol"?t:String(t)}function Cze(e,t){if(f_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kze=["Webkit","Moz","O","ms"],Tze=["-webkit-","-moz-","-o-","-ms-"],Pze=["transform","transformOrigin","transition"],Aze=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},Mze=function(t){return t},Oze=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ize=function(t,r){if(Pze.indexOf(t)===-1)return dS({},t,Number.isNaN(r)?0:r);var n=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=r;return kze.reduce(function(s,a,f){return n&&(o=r.replace(/(transform|transform-origin)/gim,"".concat(Tze[f],"$1"))),mg(mg({},s),{},dS({},a+i,o))},{})},E0=function(t,r){return Object.keys(r).reduce(function(n,i){return mg(mg({},n),{},dS({},i,t(i,r[i])))},{})},lO=function(t){return Object.keys(t).reduce(function(r,n){return mg(mg({},r),Ize(n,r[n]))},t)},L4=function(t,r,n){return t.map(function(i){return"".concat(Oze(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Rze(e,t){return Lze(e)||Dze(e,t)||XG(e,t)||$ze()}function $ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Lze(e){if(Array.isArray(e))return e}function Nze(e){return Bze(e)||jze(e)||XG(e)||zze()}function zze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(e,t){if(e){if(typeof e=="string")return cO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(e,t)}}function jze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bze(e){if(Array.isArray(e))return cO(e)}function cO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fS=1e-4,JG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},QG=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},N4=function(t,r){return function(n){var i=JG(t,r);return QG(i,n)}},Fze=function(t,r){return function(n){var i=JG(t,r),o=[].concat(Nze(i.map(function(s,a){return s*a}).slice(1)),[0]);return QG(o,n)}},z4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var f=r[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(M){return parseFloat(M)}),g=Rze(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var y=N4(i,s),x=N4(o,a),A=Fze(i,s),T=function(O){return O>1?1:O<0?0:O},w=function(O){for(var I=O>1?1:O,E=I,R=0;R<8;++R){var N=y(E)-I,D=A(E);if(Math.abs(N-I)<fS||D<fS)return x(E);E=T(E-N/D)}return x(E)};return w.isStepper=!1,w},Uze=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,f=function(g,y,x){var A=-(g-y)*n,T=x*o,w=x+(A-T)*a/1e3,M=x*a/1e3+g;return Math.abs(M-y)<fS&&Math.abs(w)<fS?[y,0]:[M,w]};return f.isStepper=!0,f.dt=a,f},Vze=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return z4(i);case"spring":return Uze();default:if(i.split("(")[0]==="cubic-bezier")return z4(i)}return typeof i=="function"?i:null};function h_(e){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h_(e)}function j4(e){return Hze(e)||qze(e)||eY(e)||Wze()}function Wze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hze(e){if(Array.isArray(e))return dO(e)}function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(n){uO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uO(e,t,r){return t=Gze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gze(e){var t=Yze(e,"string");return h_(t)==="symbol"?t:String(t)}function Yze(e,t){if(h_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kze(e,t){return Jze(e)||Xze(e,t)||eY(e,t)||Zze()}function Zze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(e,t){if(e){if(typeof e=="string")return dO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(e,t)}}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Jze(e){if(Array.isArray(e))return e}var hS=function(t,r,n){return t+(r-t)*n},fO=function(t){var r=t.from,n=t.to;return r!==n},Qze=function e(t,r,n){var i=E0(function(o,s){if(fO(s)){var a=t(s.from,s.to,s.velocity),f=Kze(a,2),h=f[0],g=f[1];return so(so({},s),{},{from:h,velocity:g})}return s},r);return n<1?E0(function(o,s){return fO(s)?so(so({},s),{},{velocity:hS(s.velocity,i[o].velocity,n),from:hS(s.from,i[o].from,n)}):s},r):e(t,i,n-1)};const eje=function(e,t,r,n,i){var o=Aze(e,t),s=o.reduce(function(M,O){return so(so({},M),{},uO({},O,[e[O],t[O]]))},{}),a=o.reduce(function(M,O){return so(so({},M),{},uO({},O,{from:e[O],velocity:0,to:t[O]}))},{}),f=-1,h,g,y=function(){return null},x=function(){return E0(function(O,I){return I.from},a)},A=function(){return!Object.values(a).filter(fO).length},T=function(O){h||(h=O);var I=O-h,E=I/r.dt;a=Qze(r,a,E),i(so(so(so({},e),t),x())),h=O,A()||(f=requestAnimationFrame(y))},w=function(O){g||(g=O);var I=(O-g)/n,E=E0(function(N,D){return hS.apply(void 0,j4(D).concat([r(I)]))},s);if(i(so(so(so({},e),t),E)),I<1)f=requestAnimationFrame(y);else{var R=E0(function(N,D){return hS.apply(void 0,j4(D).concat([r(1)]))},s);i(so(so(so({},e),t),R))}};return y=r.isStepper?T:w,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(f)}}};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}var tje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rje(e,t){if(e==null)return{};var r=nje(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nje(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function bP(e){return sje(e)||aje(e)||oje(e)||ije()}function ije(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oje(e,t){if(e){if(typeof e=="string")return hO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hO(e,t)}}function aje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sje(e){if(Array.isArray(e))return hO(e)}function hO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qv(e,t,r){return t=tY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tY(n.key),n)}}function cje(e,t,r){return t&&U4(e.prototype,t),r&&U4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tY(e){var t=uje(e,"string");return gg(t)==="symbol"?t:String(t)}function uje(e,t){if(gg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}function pO(e,t){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pO(e,t)}function fje(e){var t=hje();return function(){var n=pS(e),i;if(t){var o=pS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mO(this,i)}}function mO(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gO(e)}function gO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pS(e){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pS(e)}var Eh=function(e){dje(r,e);var t=fje(r);function r(n,i){var o;lje(this,r),o=t.call(this,n,i);var s=o.props,a=s.isActive,f=s.attributeName,h=s.from,g=s.to,y=s.steps,x=s.children,A=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(gO(o)),o.changeStyle=o.changeStyle.bind(gO(o)),!a||A<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:g}),mO(o);if(y&&y.length)o.state={style:y[0].style};else if(h){if(typeof x=="function")return o.state={style:h},mO(o);o.state={style:f?Qv({},f,h):h}}else o.state={style:{}};return o}return cje(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,g=o.to,y=o.from,x=this.state.style;if(a){if(!s){var A={style:f?Qv({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(A);return}if(!(yze(i.to,g)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=T||h?y:i.to;if(this.state&&x){var M={style:f?Qv({},f,w):w};(f&&[f]!==w||!f&&x!==w)&&this.setState(M)}this.runAnimation(Qs(Qs({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,f=i.duration,h=i.easing,g=i.begin,y=i.onAnimationEnd,x=i.onAnimationStart,A=eje(s,a,Vze(h),f,this.changeStyle),T=function(){o.stopJSAnimation=A()};this.manager.start([x,g,T,f,y])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,f=i.onAnimationStart,h=s[0],g=h.style,y=h.duration,x=y===void 0?0:y,A=function(w,M,O){if(O===0)return w;var I=M.duration,E=M.easing,R=E===void 0?"ease":E,N=M.style,D=M.properties,F=M.onAnimationEnd,q=O>0?s[O-1]:M,J=D||Object.keys(N);if(typeof R=="function"||R==="spring")return[].concat(bP(w),[o.runJSAnimation.bind(o,{from:q.style,to:N,duration:I,easing:R}),I]);var Q=L4(J,I,R),ae=Qs(Qs(Qs({},q.style),N),{},{transition:Q});return[].concat(bP(w),[ae,I,F]).filter(Mze)};return this.manager.start([f].concat(bP(s.reduce(A,[g,Math.max(x,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Sze());var o=i.begin,s=i.duration,a=i.attributeName,f=i.to,h=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,x=i.steps,A=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof h=="function"||typeof A=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var w=a?Qv({},a,f):f,M=L4(Object.keys(w),s,h);T.start([g,o,Qs(Qs({},w),{},{transition:M}),s,y])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=rje(i,tje),h=V.Children.count(o),g=lO(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var y=function(A){var T=A.props,w=T.style,M=w===void 0?{}:w,O=T.className,I=V.cloneElement(A,Qs(Qs({},f),{},{style:Qs(Qs({},M),g),className:O}));return I};return h===1?y(V.Children.only(o)):De.createElement("div",null,V.Children.map(o,function(x){return y(x)}))}}]),r}(V.PureComponent);Eh.displayName="Animate";Eh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Eh.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});kr.object,kr.object,kr.object,kr.element;kr.object,kr.object,kr.object,kr.oneOfType([kr.array,kr.element]),kr.any;var V4=lx,pje=JD,mje=ca,W4=V4?V4.isConcatSpreadable:void 0;function gje(e){return mje(e)||pje(e)||!!(W4&&e&&e[W4])}var yje=gje,vje=dG,_je=yje;function rY(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=_je),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?rY(a,t-1,r,n,i):vje(i,a):n||(i[i.length]=a)}return i}var nY=rY;function xje(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var f=s[e?a:++i];if(r(o[f],f,o)===!1)break}return t}}var bje=xje,wje=bje,Sje=wje(),Eje=Sje,Cje=Eje,kje=XE;function Tje(e,t){return e&&Cje(e,t,kje)}var iY=Tje,Pje=fx;function Aje(e,t){return function(r,n){if(r==null)return r;if(!Pje(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var Mje=Aje,Oje=iY,Ije=Mje,Rje=Ije(Oje),sL=Rje,$je=sL,Dje=fx;function Lje(e,t){var r=-1,n=Dje(e)?Array(e.length):[];return $je(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var oY=Lje;function Nje(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var zje=Nje,q4=Zg;function jje(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=q4(e),s=t!==void 0,a=t===null,f=t===t,h=q4(t);if(!a&&!h&&!o&&e>t||o&&s&&f&&!a&&!h||n&&s&&f||!r&&f||!i)return 1;if(!n&&!o&&!h&&e<t||h&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!f)return-1}return 0}var Bje=jje,Fje=Bje;function Uje(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var f=Fje(i[n],o[n]);if(f){if(n>=a)return f;var h=r[n];return f*(h=="desc"?-1:1)}}return e.index-t.index}var Vje=Uje,wP=GD,Wje=YD,qje=Jd,Hje=oY,Gje=zje,Yje=pG,Kje=Vje,Zje=ry,Xje=ca;function Jje(e,t,r){t.length?t=wP(t,function(o){return Xje(o)?function(s){return Wje(s,o.length===1?o[0]:o)}:o}):t=[Zje];var n=-1;t=wP(t,Yje(qje));var i=Hje(e,function(o,s,a){var f=wP(t,function(h){return h(o)});return{criteria:f,index:++n,value:o}});return Gje(i,function(o,s){return Kje(o,s,r)})}var Qje=Jje;function e3e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var t3e=e3e,r3e=t3e,H4=Math.max;function n3e(e,t,r){return t=H4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=H4(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),r3e(e,this,a)}}var i3e=n3e;function o3e(e){return function(){return e}}var a3e=o3e,s3e=Oh,l3e=function(){try{var e=s3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),aY=l3e,c3e=a3e,G4=aY,u3e=ry,d3e=G4?function(e,t){return G4(e,"toString",{configurable:!0,enumerable:!1,value:c3e(t),writable:!0})}:u3e,f3e=d3e,h3e=800,p3e=16,m3e=Date.now;function g3e(e){var t=0,r=0;return function(){var n=m3e(),i=p3e-(n-r);if(r=n,i>0){if(++t>=h3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var y3e=g3e,v3e=f3e,_3e=y3e,x3e=_3e(v3e),b3e=x3e,w3e=ry,S3e=i3e,E3e=b3e;function C3e(e,t){return E3e(S3e(e,t,w3e),e+"")}var k3e=C3e,T3e=VD,P3e=fx,A3e=QD,M3e=Kd;function O3e(e,t,r){if(!M3e(r))return!1;var n=typeof t;return(n=="number"?P3e(r)&&A3e(t,r.length):n=="string"&&t in r)?T3e(r[t],e):!1}var nC=O3e,I3e=nY,R3e=Qje,$3e=k3e,Y4=nC,D3e=$3e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Y4(e,t[0],t[1])?t=[]:r>2&&Y4(t[0],t[1],t[2])&&(t=[t[0]]),R3e(e,I3e(t,1),[])}),L3e=D3e;const lL=Jr(L3e);function p_(e){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}function N3e(e,t){return F3e(e)||B3e(e,t)||j3e(e,t)||z3e()}function z3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(e,t){if(e){if(typeof e=="string")return K4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K4(e,t)}}function K4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function F3e(e){if(Array.isArray(e))return e}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){U3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=W3e(e,"string");return p_(t)==="symbol"?t:String(t)}function W3e(e,t){if(p_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q3e(e){return po(e)&&ji(e[0])&&ji(e[1])?e.join(" ~ "):e}var H3e=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,f=t.labelStyle,h=f===void 0?{}:f,g=t.payload,y=t.formatter,x=t.itemSorter,A=t.wrapperClassName,T=t.labelClassName,w=t.label,M=t.labelFormatter,O=function(){if(g&&g.length){var J={padding:0,margin:0},Q=(x?lL(g,x):g).map(function(ae,he){if(ae.type==="none")return null;var fe=SP({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},a),we=ae.formatter||y||q3e,ge=ae.value,Ce=ae.name,Te=ge,Ee=Ce;if(we&&Te!=null&&Ee!=null){var Oe=we(ge,Ce,ae,he,g);if(Array.isArray(Oe)){var qe=N3e(Oe,2);Te=qe[0],Ee=qe[1]}else Te=Oe}return De.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(he),style:fe},ji(Ee)?De.createElement("span",{className:"recharts-tooltip-item-name"},Ee):null,ji(Ee)?De.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,De.createElement("span",{className:"recharts-tooltip-item-value"},Te),De.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return De.createElement("ul",{className:"recharts-tooltip-item-list",style:J},Q)}return null},I=SP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=SP({margin:0},h),R=!dr(w),N=R?w:"",D=wn("recharts-default-tooltip",A),F=wn("recharts-tooltip-label",T);return R&&M&&g!==void 0&&g!==null&&(N=M(w,g)),De.createElement("div",{className:D,style:I},De.createElement("p",{className:F,style:E},De.isValidElement(N)?N:"".concat(N)),O())},G3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nu={isSsr:G3e(),get:function(t){return nu[t]},set:function(t,r){if(typeof t=="string")nu[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){nu[i]=t[i]})}}};function m_(e){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m_(e)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){e0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0(e,t,r){return t=Y3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y3e(e){var t=K3e(e,"string");return m_(t)==="symbol"?t:String(t)}function K3e(e,t){if(m_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1(e,t){return Q3e(e)||J3e(e,t)||X3e(e,t)||Z3e()}function Z3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3e(e,t){if(e){if(typeof e=="string")return J4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J4(e,t)}}function J4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Q3e(e){if(Array.isArray(e))return e}var Rv="recharts-tooltip-wrapper",Q4=1;function e5e(e){return e.dataKey}function t5e(e,t){return e===!0?nS(t,e5e):hr(e)?nS(t,e):t}function r5e(e,t){return De.isValidElement(e)?De.cloneElement(e,t):hr(e)?De.createElement(e,t):De.createElement(H3e,t)}var n5e={active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!nu.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},Yf=function(t){var r,n=V.useState(-1),i=h1(n,2),o=i[0],s=i[1],a=V.useState(-1),f=h1(a,2),h=f[0],g=f[1],y=V.useState(!1),x=h1(y,2),A=x[0],T=x[1],w=V.useState({x:0,y:0}),M=h1(w,2),O=M[0],I=M[1],E=V.useRef(),R=t.allowEscapeViewBox,N=t.reverseDirection,D=t.coordinate,F=t.offset,q=t.position,J=t.viewBox,Q=V.useCallback(function(it){it.key==="Escape"&&(T(!0),I(function(Ve){return zc(zc({},Ve),{},{x:D==null?void 0:D.x,y:D==null?void 0:D.y})}))},[D==null?void 0:D.x,D==null?void 0:D.y]);V.useEffect(function(){var it=function(){if(A?(document.removeEventListener("keydown",Q),((D==null?void 0:D.x)!==O.x||(D==null?void 0:D.y)!==O.y)&&T(!1)):document.addEventListener("keydown",Q),E.current&&E.current.getBoundingClientRect){var Xe=E.current.getBoundingClientRect();(Math.abs(Xe.width-o)>Q4||Math.abs(Xe.height-h)>Q4)&&(s(Xe.width),g(Xe.height))}else(o!==-1||h!==-1)&&(s(-1),g(-1))};return it(),function(){document.removeEventListener("keydown",Q)}},[h,o,D,A,O.x,O.y,Q]);var ae=function(Ve){var Xe=Ve.key,ct=Ve.tooltipDimension,Fe=Ve.viewBoxDimension;if(q&&Mt(q[Xe]))return q[Xe];var Me=D[Xe]-ct-F,Et=D[Xe]+F;if(R!=null&&R[Xe])return N[Xe]?Me:Et;if(N!=null&&N[Xe]){var Zt=Me,Ot=J[Xe];return Zt<Ot?Math.max(Et,J[Xe]):Math.max(Me,J[Xe])}var jt=Et+ct,Mr=J[Xe]+Fe;return jt>Mr?Math.max(Me,J[Xe]):Math.max(Et,J[Xe])},he=t.payload,fe=t.payloadUniqBy,we=t.filterNull,ge=t.active,Ce=t.wrapperStyle,Te=t.useTranslate3d,Ee=t.isAnimationActive,Oe=t.animationDuration,qe=t.animationEasing,rt=t5e(fe,we&&he&&he.length?he.filter(function(it){return!dr(it.value)}):he),Pe=rt&&rt.length,je=t.content,Le=zc({pointerEvents:"none",visibility:!A&&ge&&Pe?"visible":"hidden",position:"absolute",top:0,left:0},Ce),Ye,Be;q&&Mt(q.x)&&Mt(q.y)?(Ye=q.x,Be=q.y):o>0&&h>0&&D?(Ye=ae({key:"x",tooltipDimension:o,viewBoxDimension:J.width}),Be=ae({key:"y",tooltipDimension:h,viewBoxDimension:J.height})):Le.visibility="hidden",Le=zc(zc({},lO({transform:Te?"translate3d(".concat(Ye,"px, ").concat(Be,"px, 0)"):"translate(".concat(Ye,"px, ").concat(Be,"px)")})),Le),Ee&&ge&&(Le=zc(zc({},lO({transition:"transform ".concat(Oe,"ms ").concat(qe)})),Le));var lt=wn(Rv,(r={},e0(r,"".concat(Rv,"-right"),Mt(Ye)&&D&&Mt(D.x)&&Ye>=D.x),e0(r,"".concat(Rv,"-left"),Mt(Ye)&&D&&Mt(D.x)&&Ye<D.x),e0(r,"".concat(Rv,"-bottom"),Mt(Be)&&D&&Mt(D.y)&&Be>=D.y),e0(r,"".concat(Rv,"-top"),Mt(Be)&&D&&Mt(D.y)&&Be<D.y),r));return De.createElement("div",{tabIndex:-1,role:"dialog",className:lt,style:Le,ref:E},r5e(je,zc(zc({},t),{},{payload:rt})))};Yf.displayName="Tooltip";Yf.defaultProps=n5e;var i5e=mc,o5e=function(){return i5e.Date.now()},a5e=o5e,s5e=/\s/;function l5e(e){for(var t=e.length;t--&&s5e.test(e.charAt(t)););return t}var c5e=l5e,u5e=c5e,d5e=/^\s+/;function f5e(e){return e&&e.slice(0,u5e(e)+1).replace(d5e,"")}var h5e=f5e,p5e=h5e,eF=Kd,m5e=Zg,tF=0/0,g5e=/^[-+]0x[0-9a-f]+$/i,y5e=/^0b[01]+$/i,v5e=/^0o[0-7]+$/i,_5e=parseInt;function x5e(e){if(typeof e=="number")return e;if(m5e(e))return tF;if(eF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=p5e(e);var r=y5e.test(e);return r||v5e.test(e)?_5e(e.slice(2),r?2:8):g5e.test(e)?tF:+e}var sY=x5e,b5e=Kd,EP=a5e,rF=sY,w5e="Expected a function",S5e=Math.max,E5e=Math.min;function C5e(e,t,r){var n,i,o,s,a,f,h=0,g=!1,y=!1,x=!0;if(typeof e!="function")throw new TypeError(w5e);t=rF(t)||0,b5e(r)&&(g=!!r.leading,y="maxWait"in r,o=y?S5e(rF(r.maxWait)||0,t):o,x="trailing"in r?!!r.trailing:x);function A(D){var F=n,q=i;return n=i=void 0,h=D,s=e.apply(q,F),s}function T(D){return h=D,a=setTimeout(O,t),g?A(D):s}function w(D){var F=D-f,q=D-h,J=t-F;return y?E5e(J,o-q):J}function M(D){var F=D-f,q=D-h;return f===void 0||F>=t||F<0||y&&q>=o}function O(){var D=EP();if(M(D))return I(D);a=setTimeout(O,w(D))}function I(D){return a=void 0,x&&n?A(D):(n=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),h=0,n=f=i=a=void 0}function R(){return a===void 0?s:I(EP())}function N(){var D=EP(),F=M(D);if(n=arguments,i=this,f=D,F){if(a===void 0)return T(f);if(y)return clearTimeout(a),a=setTimeout(O,t),A(f)}return a===void 0&&(a=setTimeout(O,t)),s}return N.cancel=E,N.flush=R,N}var lY=C5e;const k5e=Jr(lY);var T5e=lY,P5e=Kd,A5e="Expected a function";function M5e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(A5e);return P5e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),T5e(e,t,{leading:n,maxWait:t,trailing:i})}var O5e=M5e;const cY=Jr(O5e);var yO=function(e,t){return yO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},yO(e,t)};function I5e(e,t){yO(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function R5e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var $5e=function(e,t,r,n){switch(t){case"debounce":return k5e(e,r,n);case"throttle":return cY(e,r,n);default:return e}},nF=function(e){return typeof e=="function"},$v=function(){return typeof window>"u"},iF=function(e){return e instanceof Element||e instanceof HTMLDocument},D5e=function(e,t,r){return function(n){var i=n.width,o=n.height;e(function(s){return s.width===i&&s.height===o||s.width===i&&!r||s.height===o&&!t?s:{width:i,height:o}})}},L5e=function(e){I5e(t,e);function t(r){var n=e.call(this,r)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var h=n.props,g=h.targetRef,y=h.observerOptions;if(!$v()){g&&g.current&&(n.targetRef.current=g.current);var x=n.getElement();x&&(n.observableElement&&n.observableElement===x||(n.observableElement=x,n.resizeObserver.observe(x,y)))}},n.getElement=function(){var h=n.props,g=h.querySelector,y=h.targetDomEl;if($v())return null;if(g)return document.querySelector(g);if(y&&iF(y))return y;if(n.targetRef&&iF(n.targetRef.current))return n.targetRef.current;var x=cc.findDOMNode(n);if(!x)return null;var A=n.getRenderType();switch(A){case"renderProp":return x;case"childFunction":return x;case"child":return x;case"childArray":return x;default:return x.parentElement}},n.createResizeHandler=function(h){var g=n.props,y=g.handleWidth,x=y===void 0?!0:y,A=g.handleHeight,T=A===void 0?!0:A,w=g.onResize;if(!(!x&&!T)){var M=D5e(function(O){return n.setState(O,function(){return w==null?void 0:w(n.state.width,n.state.height)})},x,T);h.forEach(function(O){var I=O&&O.contentRect||{},E=I.width,R=I.height,N=!n.skipOnMount&&!$v();N&&M({width:E,height:R}),n.skipOnMount=!1})}},n.getRenderType=function(){var h=n.props,g=h.render,y=h.children;return nF(g)?"renderProp":nF(y)?"childFunction":V.isValidElement(y)?"child":Array.isArray(y)?"childArray":"parent"};var i=r.skipOnMount,o=r.refreshMode,s=r.refreshRate,a=s===void 0?1e3:s,f=r.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=i,n.targetRef=V.createRef(),n.observableElement=null,$v()||(n.resizeHandler=$5e(n.createResizeHandler,o,a,f),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){$v()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var r=this.props,n=r.render,i=r.children,o=r.nodeType,s=o===void 0?"div":o,a=this.state,f=a.width,h=a.height,g={width:f,height:h,targetRef:this.targetRef},y=this.getRenderType();switch(y){case"renderProp":return n==null?void 0:n(g);case"childFunction":{var x=i;return x==null?void 0:x(g)}case"child":{var A=i;if(A.type&&typeof A.type=="string"){g.targetRef;var T=R5e(g,["targetRef"]);return V.cloneElement(A,T)}return V.cloneElement(A,g)}case"childArray":{var w=i;return w.map(function(M){return!!M&&V.cloneElement(M,g)})}default:return De.createElement(s,null)}},t}(V.PureComponent),Nm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vO.apply(this,arguments)}function N5e(e,t){return F5e(e)||B5e(e,t)||j5e(e,t)||z5e()}function z5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j5e(e,t){if(e){if(typeof e=="string")return oF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oF(e,t)}}function oF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function F5e(e){if(Array.isArray(e))return e}var U5e=V.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,s=o===void 0?"100%":o,a=e.height,f=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,y=e.minHeight,x=e.maxHeight,A=e.children,T=e.debounce,w=T===void 0?0:T,M=e.id,O=e.className,I=e.onResize,E=V.useState({containerWidth:i.width,containerHeight:i.height}),R=N5e(E,2),N=R[0],D=R[1],F=V.useRef(null);V.useImperativeHandle(t,function(){return F},[F]);var q=V.useCallback(function(){return F.current?{containerWidth:F.current.clientWidth,containerHeight:F.current.clientHeight}:null},[]),J=V.useCallback(function(){var he=q();if(he){var fe=he.containerWidth,we=he.containerHeight;I&&I(fe,we),D(function(ge){var Ce=ge.containerWidth,Te=ge.containerHeight;return fe!==Ce||we!==Te?{containerWidth:fe,containerHeight:we}:ge})}},[q,I]),Q=V.useMemo(function(){var he=N.containerWidth,fe=N.containerHeight;if(he<0||fe<0)return null;Nm(Gf(s)||Gf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),Nm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var we=Gf(s)?he:s,ge=Gf(f)?fe:f;return r&&r>0&&(we?ge=we/r:ge&&(we=ge*r),x&&ge>x&&(ge=x)),Nm(we>0||ge>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,we,ge,s,f,g,y,r),V.cloneElement(A,{width:we,height:ge})},[r,A,f,x,y,g,N,s]);V.useEffect(function(){var he=q();he&&D(he)},[q]);var ae={width:s,height:f,minWidth:g,minHeight:y,maxHeight:x};return De.createElement(L5e,{handleWidth:!0,handleHeight:!0,onResize:J,targetRef:F,refreshMode:w>0?"debounce":void 0,refreshRate:w},De.createElement("div",vO({},M!=null?{id:"".concat(M)}:{},{className:wn("recharts-responsive-container",O),style:ae,ref:F}),Q))}),uY=function(t){return null};uY.displayName="Cell";var _O={exports:{}},CP="(".charCodeAt(0),kP=")".charCodeAt(0),p1="'".charCodeAt(0),TP='"'.charCodeAt(0),PP="\\".charCodeAt(0),m1="/".charCodeAt(0),AP=",".charCodeAt(0),MP=":".charCodeAt(0),aF="*".charCodeAt(0),V5e=function(e){for(var t=[],r=e,n,i,o,s,a,f,h,g=0,y=r.charCodeAt(g),x=r.length,A=[{nodes:t}],T=0,w,M="",O="",I="";g<x;)if(y<=32){n=g;do n+=1,y=r.charCodeAt(n);while(y<=32);s=r.slice(g,n),o=t[t.length-1],y===kP&&T?I=s:o&&o.type==="div"?o.after=s:y===AP||y===MP||y===m1&&r.charCodeAt(n+1)!==aF?O=s:t.push({type:"space",sourceIndex:g,value:s}),g=n}else if(y===p1||y===TP){n=g,i=y===p1?"'":'"',s={type:"string",sourceIndex:g,quote:i};do if(a=!1,n=r.indexOf(i,n+1),~n)for(f=n;r.charCodeAt(f-1)===PP;)f-=1,a=!a;else r+=i,n=r.length-1,s.unclosed=!0;while(a);s.value=r.slice(g+1,n),t.push(s),g=n+1,y=r.charCodeAt(g)}else if(y===m1&&r.charCodeAt(g+1)===aF)s={type:"comment",sourceIndex:g},n=r.indexOf("*/",g),n===-1&&(s.unclosed=!0,n=r.length),s.value=r.slice(g+2,n),t.push(s),g=n+2,y=r.charCodeAt(g);else if(y===m1||y===AP||y===MP)s=r[g],t.push({type:"div",sourceIndex:g-O.length,value:s,before:O,after:""}),O="",g+=1,y=r.charCodeAt(g);else if(CP===y){n=g;do n+=1,y=r.charCodeAt(n);while(y<=32);if(s={type:"function",sourceIndex:g-M.length,value:M,before:r.slice(g+1,n)},g=n,M==="url"&&y!==p1&&y!==TP){n-=1;do if(a=!1,n=r.indexOf(")",n+1),~n)for(f=n;r.charCodeAt(f-1)===PP;)f-=1,a=!a;else r+=")",n=r.length-1,s.unclosed=!0;while(a);h=n;do h-=1,y=r.charCodeAt(h);while(y<=32);g!==h+1?s.nodes=[{type:"word",sourceIndex:g,value:r.slice(g,h+1)}]:s.nodes=[],s.unclosed&&h+1!==n?(s.after="",s.nodes.push({type:"space",sourceIndex:h+1,value:r.slice(h+1,n)})):s.after=r.slice(h+1,n),g=n+1,y=r.charCodeAt(g),t.push(s)}else T+=1,s.after="",t.push(s),A.push(s),t=s.nodes=[],w=s;M=""}else if(kP===y&&T)g+=1,y=r.charCodeAt(g),w.after=I,I="",T-=1,A.pop(),w=A[T],t=w.nodes;else{n=g;do y===PP&&(n+=1),n+=1,y=r.charCodeAt(n);while(n<x&&!(y<=32||y===p1||y===TP||y===AP||y===MP||y===m1||y===CP||y===kP&&T));s=r.slice(g,n),CP===y?M=s:t.push({type:"word",sourceIndex:g,value:s}),g=n}for(g=A.length-1;g;g-=1)A[g].unclosed=!0;return A[0].nodes},W5e=function e(t,r,n){var i,o,s,a;for(i=0,o=t.length;i<o;i+=1)s=t[i],n||(a=r(s,i,t)),a!==!1&&s.type==="function"&&Array.isArray(s.nodes)&&e(s.nodes,r,n),n&&r(s,i,t)};function sF(e,t){var r=e.type,n=e.value,i,o;return t&&(o=t(e))!==void 0?o:r==="word"||r==="space"?n:r==="string"?(i=e.quote||"",i+n+(e.unclosed?"":i)):r==="comment"?"/*"+n+(e.unclosed?"":"*/"):r==="div"?(e.before||"")+n+(e.after||""):Array.isArray(e.nodes)?(i=dY(e.nodes),r!=="function"?i:n+"("+(e.before||"")+i+(e.after||"")+(e.unclosed?"":")")):n}function dY(e,t){var r,n;if(Array.isArray(e)){for(r="",n=e.length-1;~n;n-=1)r=sF(e[n],t)+r;return r}return sF(e,t)}var q5e=dY,OP,lF;function H5e(){if(lF)return OP;lF=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),r=".".charCodeAt(0),n="e".charCodeAt(0),i="E".charCodeAt(0);return OP=function(o){for(var s=0,a=o.length,f=!1,h=-1,g=!1,y;s<a;){if(y=o.charCodeAt(s),y>=48&&y<=57)g=!0;else if(y===n||y===i){if(h>-1)break;h=s}else if(y===r){if(f)break;f=!0}else if(y===t||y===e){if(s!==0)break}else break;s+=1}return h+1===s&&s--,g?{number:o.slice(0,s),unit:o.slice(s)}:!1},OP}var G5e=V5e,fY=W5e,hY=q5e;function Fd(e){return this instanceof Fd?(this.nodes=G5e(e),this):new Fd(e)}Fd.prototype.toString=function(){return Array.isArray(this.nodes)?hY(this.nodes):""};Fd.prototype.walk=function(e,t){return fY(this.nodes,e,t),this};Fd.unit=H5e();Fd.walk=fY;Fd.stringify=hY;var Y5e=Fd;function K5e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pY={};(function(e){var t=function(){function r(x,A){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),x==null&&(x="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:x}),this.hash=A;var T;if(A&&A.exception instanceof Error){var w=A.exception;this.message=w.message||x,T=w.stack}T||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):T=new Error(x).stack),T&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:T})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.name="JisonParserError";function n(x){for(var A=[],T=x.pop,w=x.rule,M=0,O=T.length;M<O;M++)A.push([T[M],w[M]]);return A}function i(x){for(var A={},T=x.idx,w=x.goto,M=0,O=T.length;M<O;M++){var I=T[M];A[I]=w[M]}return A}function o(x){for(var A=[],T=x.len,w=x.symbol,M=x.type,O=x.state,I=x.mode,E=x.goto,R=0,N=T.length;R<N;R++){for(var D=T[R],F={},q=0;q<D;q++){var J=w.shift();switch(M.shift()){case 2:F[J]=[I.shift(),E.shift()];break;case 0:F[J]=O.shift();break;default:F[J]=[3]}}A.push(F)}return A}function s(x,A,T){T=T||0;for(var w=0;w<A;w++)this.push(x),x+=T}function a(x,A){for(x=this.length-x,A+=x;x<A;x++)this.push(this[x])}function f(x){for(var A=[],T=0,w=x.length;T<w;T++){var M=x[T];typeof M=="function"?(T++,M.apply(A,x[T])):A.push(M)}return A}var h={trace:function(){},JisonParserError:r,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(A){return'"'+A+'"'},getSymbolName:function(A){if(this.terminals_[A])return this.terminals_[A];var T=this.symbols_;for(var w in T)if(T[w]===A)return w;return null},describeSymbol:function(A){if(A!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[A])return this.terminal_descriptions_[A];if(A===this.EOF)return"end of input";var T=this.getSymbolName(A);return T?this.quoteName(T):null},collect_expected_token_set:function(A,T){var w=this.TERROR,M=[],O={};if(!T&&this.state_descriptions_&&this.state_descriptions_[A])return[this.state_descriptions_[A]];for(var I in this.table[A])if(I=+I,I!==w){var E=T?I:this.describeSymbol(I);E&&!O[E]&&(M.push(E),O[E]=!0)}return M},productions_:n({pop:f([29,s,[30,10],31,31,32,32,s,[33,15]]),rule:f([2,s,[3,5],4,7,s,[1,4],2,4,6,s,[1,14],2])}),performAction:function(A,T,w){var M=this.yy;switch(M.parser,M.lexer,A){case 0:this.$=w[T-1];break;case 1:return this.$=w[T-1],w[T-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:w[T-1],left:w[T-2],right:w[T]};break;case 6:this.$=w[T-1];break;case 7:this.$={type:"Calc",value:w[T-1]};break;case 8:this.$={type:"Calc",value:w[T-1],prefix:w[T-5]};break;case 9:case 10:case 11:this.$=w[T];break;case 12:this.$={type:"Value",value:parseFloat(w[T])};break;case 13:this.$={type:"Value",value:parseFloat(w[T])*-1};break;case 14:this.$={type:"CssVariable",value:w[T-1]};break;case 15:this.$={type:"CssVariable",value:w[T-3],fallback:w[T-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(w[T]),unit:/[a-z]+/.exec(w[T])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(w[T]),unit:/[a-z]+/.exec(w[T])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(w[T]),unit:/[a-z]+/.exec(w[T])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(w[T]),unit:/[a-z]+/.exec(w[T])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(w[T]),unit:/[a-z]+/.exec(w[T])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(w[T]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(w[T]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(w[T]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(w[T]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(w[T]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(w[T]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(w[T]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(w[T]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(w[T]),unit:"%"};break;case 30:var O=w[T];O.value*=-1,this.$=O;break}},table:o({len:f([24,1,5,23,1,18,s,[0,3],1,s,[0,16],s,[23,4],a,[28,3],0,0,16,1,6,6,s,[0,3],5,1,2,a,[37,3],a,[20,3],5,0,0]),symbol:f([4,7,9,11,12,s,[15,19,1],1,1,s,[3,4,1],a,[30,19],a,[29,4],7,4,10,11,a,[22,14],a,[19,3],a,[43,22],a,[23,69],a,[139,4],8,a,[51,24],4,a,[138,15],13,a,[186,5],8,a,[6,6],a,[5,5],9,8,14,a,[159,47],a,[60,10]]),type:f([s,[2,19],s,[0,5],1,s,[2,24],s,[0,4],a,[22,19],a,[43,42],a,[23,70],a,[28,25],a,[45,25],a,[113,54]]),state:f([1,2,8,6,7,30,a,[4,3],33,37,a,[5,3],38,a,[4,3],39,a,[4,3],40,a,[4,3],42,a,[21,4],50,a,[5,3],51,a,[4,3]]),mode:f([s,[1,179],s,[2,3],a,[5,5],a,[6,4],s,[1,57]]),goto:f([5,3,4,24,s,[9,15,1],s,[25,5,1],a,[24,19],31,35,32,34,a,[18,14],36,a,[38,19],a,[19,57],a,[118,4],41,a,[24,19],43,35,a,[16,14],44,s,[2,3],28,29,2,s,[3,3],28,29,3,a,[53,4],s,[45,5,1],a,[100,42],52,a,[5,4],53])}),defaultActions:i({idx:f([6,7,8,s,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:f([9,10,11,s,[16,14,1],12,1,30,13,s,[4,4,1],14,15,8])}),parseError:function(A,T,w){if(T.recoverable)typeof this.trace=="function"&&this.trace(A),T.destroy();else throw typeof this.trace=="function"&&this.trace(A),w||(w=this.JisonParserError),new w(A,T)},parse:function(A){var T=this,w=new Array(128),M=new Array(128),O=new Array(128),I=this.table,E=0,R=0;this.TERROR;var N=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var D=[0,54],F;this.__lexer__?F=this.__lexer__:F=this.__lexer__=Object.create(this.lexer);var q={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return q};function J(it,Ve){for(var Xe in Ve)typeof it[Xe]>"u"&&Object.prototype.hasOwnProperty.call(Ve,Xe)&&(it[Xe]=Ve[Xe])}J(q,this.yy),q.lexer=F,q.parser=this,typeof q.parseError=="function"?this.parseError=function(Ve,Xe,ct){return ct||(ct=this.JisonParserError),q.parseError.call(this,Ve,Xe,ct)}:this.parseError=this.originalParseError,typeof q.quoteName=="function"?this.quoteName=function(Ve){return q.quoteName.call(this,Ve)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(Ve,Xe,ct){var Fe;if(Xe){var Me;(q.post_parse||this.post_parse)&&(Me=this.constructParseErrorInfo(null,null,null,!1)),q.post_parse&&(Fe=q.post_parse.call(this,q,Ve,Me),typeof Fe<"u"&&(Ve=Fe)),this.post_parse&&(Fe=this.post_parse.call(this,q,Ve,Me),typeof Fe<"u"&&(Ve=Fe)),Me&&Me.destroy&&Me.destroy()}if(this.__reentrant_call_depth>1)return Ve;if(F.cleanupAfterLex&&F.cleanupAfterLex(ct),q&&(q.lexer=void 0,q.parser=void 0,F.yy===q&&(F.yy=void 0)),q=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,w.length=0,M.length=0,O.length=0,E=0,!ct){for(var Et=this.__error_infos.length-1;Et>=0;Et--){var Zt=this.__error_infos[Et];Zt&&typeof Zt.destroy=="function"&&Zt.destroy()}this.__error_infos.length=0}return Ve},this.constructParseErrorInfo=function(Ve,Xe,ct,Fe){var Me={errStr:Ve,exception:Xe,text:F.match,value:F.yytext,token:this.describeSymbol(R)||R,token_id:R,line:F.yylineno,expected:ct,recoverable:Fe,state:fe,action:we,new_state:rt,symbol_stack:w,state_stack:M,value_stack:O,stack_pointer:E,yy:q,lexer:F,parser:this,destroy:function(){var Zt=!!this.recoverable;for(var Ot in this)this.hasOwnProperty(Ot)&&typeof Ot=="object"&&(this[Ot]=void 0);this.recoverable=Zt}};return this.__error_infos.push(Me),Me};function Q(){var it=F.lex();return typeof it!="number"&&(it=T.symbols_[it]||it),it||N}function ae(){var it=F.fastLex();return typeof it!="number"&&(it=T.symbols_[it]||it),it||N}var he=Q,fe,we,ge,Ce,Te={$:!0,_$:void 0,yy:q},Ee,Oe,qe,rt,Pe=!1;try{if(this.__reentrant_call_depth++,F.setInput(A,q),typeof F.canIUse=="function"){var je=F.canIUse();je.fastLex&&typeof ae=="function"&&(he=ae)}for(O[E]=null,M[E]=0,w[E]=0,++E,this.pre_parse&&this.pre_parse.call(this,q),q.pre_parse&&q.pre_parse.call(this,q),rt=M[E-1];;){if(fe=rt,this.defaultActions[fe])we=2,rt=this.defaultActions[fe];else if(R||(R=he()),Ce=I[fe]&&I[fe][R]||D,rt=Ce[1],we=Ce[0],!we){var Le,Ye=this.describeSymbol(R)||R,Be=this.collect_expected_token_set(fe);typeof F.yylineno=="number"?Le="Parse error on line "+(F.yylineno+1)+": ":Le="Parse error: ",typeof F.showPosition=="function"&&(Le+=`
`+F.showPosition(79-10,10)+`
`),Be.length?Le+="Expecting "+Be.join(", ")+", got unexpected "+Ye:Le+="Unexpected "+Ye,Ee=this.constructParseErrorInfo(Le,null,Be,!1),ge=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof ge<"u"&&(Pe=ge);break}switch(we){default:if(we instanceof Array){Ee=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+fe+", token: "+R,null,null,!1),ge=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof ge<"u"&&(Pe=ge);break}Ee=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),ge=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof ge<"u"&&(Pe=ge);break;case 1:w[E]=R,O[E]=F.yytext,M[E]=rt,++E,R=0;continue;case 2:if(qe=this.productions_[rt-1],Oe=qe[1],ge=this.performAction.call(Te,rt,E-1,O),typeof ge<"u"){Pe=ge;break}E-=Oe;var lt=qe[0];w[E]=lt,O[E]=Te.$,rt=I[M[E-1]][lt],M[E]=rt,++E;continue;case 3:E!==-2&&(Pe=!0,E--,typeof O[E]<"u"&&(Pe=O[E]));break}break}}catch(it){if(it instanceof this.JisonParserError)throw it;if(F&&typeof F.JisonLexerError=="function"&&it instanceof F.JisonLexerError)throw it;Ee=this.constructParseErrorInfo("Parsing aborted due to exception.",it,null,!1),Pe=!1,ge=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof ge<"u"&&(Pe=ge)}finally{Pe=this.cleanupAfterParse(Pe,!0,!0),this.__reentrant_call_depth--}return Pe}};h.originalParseError=h.parseError,h.originalQuoteName=h.quoteName;var g=function(){function x(T,w){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),T==null&&(T="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:T}),this.hash=w;var M;if(w&&w.exception instanceof Error){var O=w.exception;this.message=O.message||T,M=O.stack}M||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):M=new Error(T).stack),M&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:M})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(x.prototype,Error.prototype):x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x.prototype.name="JisonLexerError";var A={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(w,M,O){if(w=""+w,O==null&&(O=!(w.indexOf(`
`)>0&&w.indexOf("^")>0)),this.yylloc&&O){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(w)||(w+=`
`),w+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var I=this.showPosition();I&&(w.length&&w[w.length-1]!==`
`&&I[0]!==`
`?w+=`
`+I:w+=I)}}var E={errStr:w,recoverable:!!M,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var N=!!this.recoverable;for(var D in this)this.hasOwnProperty(D)&&typeof D=="object"&&(this[D]=void 0);this.recoverable=N}};return this.__error_infos.push(E),E},parseError:function(w,M,O){if(O||(O=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,w,M,O)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,w,M,O)||this.ERROR}throw new O(w,M)},yyerror:function(w){var M="";this.yylloc&&(M=" on line "+(this.yylineno+1));var O=this.constructLexErrorInfo("Lexical error"+M+": "+w,this.options.lexerErrorsAreRecoverable),I=Array.prototype.slice.call(arguments,1);return I.length&&(O.extra_error_attributes=I),this.parseError(O.errStr,O,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(w){if(this.setInput("",{}),!w){for(var M=this.__error_infos.length-1;M>=0;M--){var O=this.__error_infos[M];O&&typeof O.destroy=="function"&&O.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var w=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:w,last_line:this.yylineno+1,last_column:w,range:[this.offset,this.offset]}},setInput:function(w,M){if(this.yy=M||this.yy||{},!this.__decompressed){for(var O=this.rules,I=0,E=O.length;I<E;I++){var R=O[I];typeof R=="number"&&(O[I]=O[R])}var N=this.conditions;for(var D in N){for(var F=N[D],q=F.rules,E=q.length,J=new Array(E+1),Q=new Array(E+1),I=0;I<E;I++){var ae=q[I],R=O[ae];J[I+1]=R,Q[I+1]=ae}F.rules=Q,F.__rule_regexes=J,F.__rule_count=E}this.__decompressed=!0}return this._input=w||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(w,M){var O=w.call(this,this._input,M);return typeof O!="string"?O&&(this._input=""+O):this._input=O,this},input:function(){if(!this._input)return null;var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var M=1,O=!1;if(w===`
`)O=!0;else if(w==="\r"){O=!0;var I=this._input[1];I===`
`&&(M++,w+=I,this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I,this.yylloc.range[1]++)}return O?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(M),w},unput:function(w){var M=w.length,O=w.split(/(?:\r\n?|\n)/g);if(this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.yyleng=this.yytext.length,this.offset-=M,this.match=this.match.substr(0,this.match.length-M),this.matched=this.matched.substr(0,this.matched.length-M),O.length>1){this.yylineno-=O.length-1,this.yylloc.last_line=this.yylineno+1;var I=this.match,E=I.split(/(?:\r\n?|\n)/g);E.length===1&&(I=this.matched,E=I.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=E[E.length-1].length}else this.yylloc.last_column-=M;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var w="";this.yylloc&&(w=" on line "+(this.yylineno+1));var M=this.constructLexErrorInfo("Lexical error"+w+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(M.errStr,M,this.JisonLexerError)||this.ERROR}return this},less:function(w){return this.unput(this.match.slice(w))},pastInput:function(w,M){var O=this.matched.substring(0,this.matched.length-this.match.length);w<0?w=O.length:w||(w=20),M<0?M=O.length:M||(M=1),O=O.substr(-w*2-2);var I=O.replace(/\r\n|\r/g,`
`).split(`
`);return I=I.slice(-M),O=I.join(`
`),O.length>w&&(O="..."+O.substr(-w)),O},upcomingInput:function(w,M){var O=this.match;w<0?w=O.length+this._input.length:w||(w=20),M<0?M=w:M||(M=1),O.length<w*2+2&&(O+=this._input.substring(0,w*2+2));var I=O.replace(/\r\n|\r/g,`
`).split(`
`);return I=I.slice(0,M),O=I.join(`
`),O.length>w&&(O=O.substring(0,w)+"..."),O},showPosition:function(w,M){var O=this.pastInput(w).replace(/\s/g," "),I=new Array(O.length+1).join("-");return O+this.upcomingInput(M).replace(/\s/g," ")+`
`+I+"^"},deriveLocationInfo:function(w,M,O,I){var E={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return w&&(E.first_line=w.first_line|0,E.last_line=w.last_line|0,E.first_column=w.first_column|0,E.last_column=w.last_column|0,w.range&&(E.range[0]=w.range[0]|0,E.range[1]=w.range[1]|0)),(E.first_line<=0||E.last_line<E.first_line)&&(E.first_line<=0&&M&&(E.first_line=M.last_line|0,E.first_column=M.last_column|0,M.range&&(E.range[0]=w.range[1]|0)),(E.last_line<=0||E.last_line<E.first_line)&&O&&(E.last_line=O.first_line|0,E.last_column=O.first_column|0,O.range&&(E.range[1]=w.range[0]|0)),E.first_line<=0&&I&&(E.last_line<=0||I.last_line<=E.last_line)&&(E.first_line=I.first_line|0,E.first_column=I.first_column|0,I.range&&(E.range[0]=I.range[0]|0)),E.last_line<=0&&I&&(E.first_line<=0||I.first_line>=E.first_line)&&(E.last_line=I.last_line|0,E.last_column=I.last_column|0,I.range&&(E.range[1]=I.range[1]|0))),E.last_line<=0&&(E.first_line<=0?(E.first_line=this.yylloc.first_line,E.last_line=this.yylloc.last_line,E.first_column=this.yylloc.first_column,E.last_column=this.yylloc.last_column,E.range[0]=this.yylloc.range[0],E.range[1]=this.yylloc.range[1]):(E.last_line=this.yylloc.last_line,E.last_column=this.yylloc.last_column,E.range[1]=this.yylloc.range[1])),E.first_line<=0&&(E.first_line=E.last_line,E.first_column=0,E.range[1]=E.range[0]),E.first_column<0&&(E.first_column=0),E.last_column<0&&(E.last_column=E.first_column>0?E.first_column:80),E},prettyPrintRange:function(w,M,O){w=this.deriveLocationInfo(w,M,O);const I=3,E=1,R=2;var N=this.matched+this._input,D=N.split(`
`),F=Math.max(1,M?M.first_line:w.first_line-I),q=Math.max(1,O?O.last_line:w.last_line+E),J=1+Math.log10(q|1)|0,Q=new Array(J).join(" "),ae=[],he=D.slice(F-1,q+1).map(function(Te,Ee){var Oe=Ee+F,qe=(Q+Oe).substr(-J),rt=qe+": "+Te,Pe=new Array(J+1).join("^"),je=2+1,Le=0;if(Oe===w.first_line?(je+=w.first_column,Le=Math.max(2,(Oe===w.last_line?w.last_column:Te.length)-w.first_column+1)):Oe===w.last_line?Le=Math.max(2,w.last_column+1):Oe>w.first_line&&Oe<w.last_line&&(Le=Math.max(2,Te.length+1)),Le){var Ye=new Array(je).join("."),Be=new Array(Le).join("^");rt+=`
`+Pe+Ye+Be,Te.trim().length>0&&ae.push(Ee)}return rt=rt.replace(/\t/g," "),rt});if(ae.length>2*R){var fe=ae[R-1]+1,we=ae[ae.length-R]-1,ge=new Array(J+1).join(" ")+"  (...continued...)";ge+=`
`+new Array(J+1).join("-")+"  (---------------)",he.splice(fe,we-fe+1,ge)}return he.join(`
`)},describeYYLLOC:function(w,M){var O=w.first_line,I=w.last_line,E=w.first_column,R=w.last_column,N=I-O,D=R-E,F;if(N===0?(F="line "+O+", ",D<=1?F+="column "+E:F+="columns "+E+" .. "+R):F="lines "+O+"(column "+E+") .. "+I+"(column "+R+")",w.range&&M){var q=w.range[0],J=w.range[1]-1;J<=q?F+=" {String Offset: "+q+"}":F+=" {String Offset range: "+q+" .. "+J+"}"}return F},test_match:function(w,M){var O,I,E,R,N;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),R=w[0],N=R.length,I=R.split(/(?:\r\n?|\n)/g),I.length>1?(this.yylineno+=I.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=I[I.length-1].length):this.yylloc.last_column+=N,this.yytext+=R,this.match+=R,this.matched+=R,this.matches=w,this.yyleng=this.yytext.length,this.yylloc.range[1]+=N,this.offset+=N,this._more=!1,this._backtrack=!1,this._input=this._input.slice(N),O=this.performAction.call(this,this.yy,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var D in E)this[D]=E[D];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return O=this._signaled_error_token,this._signaled_error_token=!1,O;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var w,M,O,I;this._more||this.clear();var E=this.__currentRuleSet__;if(!E&&(E=this.__currentRuleSet__=this._currentRules(),!E||!E.rules)){var R="";this.options.trackPosition&&(R=" on line "+(this.yylineno+1));var N=this.constructLexErrorInfo("Internal lexer engine error"+R+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(N.errStr,N,this.JisonLexerError)||this.ERROR}for(var D=E.rules,F=E.__rule_regexes,q=E.__rule_count,J=1;J<=q;J++)if(O=this._input.match(F[J]),O&&(!M||O[0].length>M[0].length)){if(M=O,I=J,this.options.backtrack_lexer){if(w=this.test_match(O,D[J]),w!==!1)return w;if(this._backtrack){M=void 0;continue}else return!1}else if(!this.options.flex)break}if(M)return w=this.test_match(M,D[I]),w!==!1?w:!1;if(this._input){var R="";this.options.trackPosition&&(R=" on line "+(this.yylineno+1));var N=this.constructLexErrorInfo("Lexical error"+R+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),Q=this._input,ae=this.topState(),he=this.conditionStack.length;return w=this.parseError(N.errStr,N,this.JisonLexerError)||this.ERROR,w===this.ERROR&&!this.matches&&Q===this._input&&ae===this.topState()&&he===this.conditionStack.length&&this.input(),w}else return this.done=!0,this.clear(),this.EOF},lex:function(){var w;for(typeof this.pre_lex=="function"&&(w=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(w=this.options.pre_lex.call(this,w)||w),this.yy&&typeof this.yy.pre_lex=="function"&&(w=this.yy.pre_lex.call(this,w)||w);!w;)w=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(w=this.yy.post_lex.call(this,w)||w),typeof this.options.post_lex=="function"&&(w=this.options.post_lex.call(this,w)||w),typeof this.post_lex=="function"&&(w=this.post_lex.call(this,w)||w),w},fastLex:function(){for(var w;!w;)w=this.next();return w},canIUse:function(){var w={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return w},begin:function(w){return this.pushState(w)},pushState:function(w){return this.conditionStack.push(w),this.__currentRuleSet__=null,this},popState:function(){var w=this.conditionStack.length-1;return w>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:x,performAction:function(w,M,O){switch(M){case 1:break;default:return this.simpleCaseActionClusters[M]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return A}();h.lexer=g;function y(){this.yy={}}return y.prototype=h,h.Parser=y,new y}();typeof K5e<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(pY);var hx={},xO={exports:{}},IP={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},Z5e=function(e,t,r,n){if(!IP.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!IP[r].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+r);var i=IP[r][t]*e;return n!==!1?(n=Math.pow(10,parseInt(n)||5),Math.round(i*n)/n):i};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Z5e,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function o(a,f,h){switch(a.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return s(a,f,h);default:return{left:a,right:f}}}function s(a,f,h){return f.type===a.type&&(f={type:a.type,value:(0,n.default)(f.value,f.unit,a.unit,h),unit:a.unit}),{left:a,right:f}}t.default=o,e.exports=t.default})(xO,xO.exports);var X5e=xO.exports;Object.defineProperty(hx,"__esModule",{value:!0});hx.flip=bO;var J5e=X5e,RP=Q5e(J5e);function Q5e(e){return e&&e.__esModule?e:{default:e}}function Lo(e,t){return e.type==="MathExpression"?iBe(e,t):e.type==="Calc"?Lo(e.value,t):e}function cF(e,t){return e.type===t.type&&e.value===t.value}function _a(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function eBe(e,t){var r=(0,RP.default)(e.left,e.right,t),n=Lo(r.left,t),i=Lo(r.right,t);return n.type==="MathExpression"&&i.type==="MathExpression"&&(n.operator==="/"&&i.operator==="*"||n.operator==="-"&&i.operator==="+"||n.operator==="*"&&i.operator==="/"||n.operator==="+"&&i.operator==="-")&&(cF(n.right,i.right)?r=(0,RP.default)(n.left,i.left,t):cF(n.right,i.left)&&(r=(0,RP.default)(n.left,i.right,t)),n=Lo(r.left,t),i=Lo(r.right,t)),e.left=n,e.right=i,e}function bO(e){return e==="+"?"-":"+"}function wO(e){return _a(e.type)?e.value=-e.value:e.type=="MathExpression"&&(e.left=wO(e.left),e.right=wO(e.right)),e}function tBe(e,t){var r=e,n=r.left,i=r.right,o=r.operator;if(n.type==="CssVariable"||i.type==="CssVariable")return e;if(i.value===0)return n;if(n.value===0&&o==="+")return i;if(n.value===0&&o==="-")return wO(i);if(n.type===i.type&&_a(n.type)&&(e=Object.assign({},n),o==="+"?e.value=n.value+i.value:e.value=n.value-i.value),_a(n.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(n.type===i.left.type)return e=Object.assign({},e),e.left=Lo({type:"MathExpression",operator:o,left:n,right:i.left},t),e.right=i.right,e.operator=o==="-"?bO(i.operator):i.operator,Lo(e,t);if(n.type===i.right.type)return e=Object.assign({},e),e.left=Lo({type:"MathExpression",operator:o==="-"?bO(i.operator):i.operator,left:n,right:i.right},t),e.right=i.left,Lo(e,t)}if(n.type==="MathExpression"&&(n.operator==="+"||n.operator==="-")&&_a(i.type)){if(i.type===n.left.type)return e=Object.assign({},n),e.left=Lo({type:"MathExpression",operator:o,left:n.left,right:i},t),Lo(e,t);if(i.type===n.right.type)return e=Object.assign({},n),n.operator==="-"?(e.right=Lo({type:"MathExpression",operator:o==="-"?"+":"-",left:i,right:n.right},t),e.operator=o==="-"?"-":"+"):e.right=Lo({type:"MathExpression",operator:o,left:n.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator=e.operator==="-"?"+":"-"),Lo(e,t)}return e}function rBe(e,t){if(!_a(e.right.type))return e;if(e.right.type!=="Value")throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(e.right.value===0)throw new Error("Cannot divide by zero");return e.left.type==="MathExpression"?_a(e.left.left.type)&&_a(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,Lo(e.left,t)):e:_a(e.left.type)?(e.left.value/=e.right.value,e.left):e}function nBe(e){if(e.left.type==="MathExpression"&&e.right.type==="Value"){if(_a(e.left.left.type)&&_a(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(_a(e.left.type)&&e.right.type==="Value")return e.left.value*=e.right.value,e.left;if(e.left.type==="Value"&&e.right.type==="MathExpression"){if(_a(e.right.left.type)&&_a(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if(e.left.type==="Value"&&_a(e.right.type))return e.right.value*=e.left.value,e.right}return e}function iBe(e,t){switch(e=eBe(e,t),e.operator){case"+":case"-":return tBe(e,t);case"/":return rBe(e,t);case"*":return nBe(e)}return e}hx.default=Lo;var SO={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(s,a,f){var h=o(a,f);return a.type==="MathExpression"&&(h=s+"("+h+")"),h};var r=hx,n={"*":0,"/":0,"+":1,"-":1};function i(s,a){if(a!==!1){var f=Math.pow(10,a);return Math.round(s*f)/f}return s}function o(s,a){switch(s.type){case"MathExpression":{var f=s.left,h=s.right,g=s.operator,y="";return f.type==="MathExpression"&&n[g]<n[f.operator]?y+="("+o(f,a)+")":y+=o(f,a),y+=" "+s.operator+" ",h.type==="MathExpression"&&n[g]<n[h.operator]?y+="("+o(h,a)+")":(h.type==="MathExpression"&&g==="-"&&["+","-"].includes(h.operator)&&(h.operator=(0,r.flip)(h.operator)),y+=o(h,a)),y}case"Value":return i(s.value,a);case"CssVariable":return s.fallback?"var("+s.value+", "+o(s.fallback,a)+")":"var("+s.value+")";case"Calc":return s.prefix?"-"+s.prefix+"-calc("+o(s.value,a)+")":"calc("+o(s.value,a)+")";default:return i(s.value,a)+s.unit}}e.exports=t.default})(SO,SO.exports);var oBe=SO.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Y5e,n=h(r),i=pY,o=hx,s=h(o),a=oBe,f=h(a);function h(y){return y&&y.__esModule?y:{default:y}}var g=/((?:\-[a-z]+\-)?calc)/;t.default=function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,n.default)(y).walk(function(A){if(!(A.type!=="function"||!g.test(A.value))){var T=n.default.stringify(A.nodes);if(!(T.indexOf("constant")>=0||T.indexOf("env")>=0)){var w=i.parser.parse(T),M=(0,s.default)(w,x);A.type="word",A.value=(0,f.default)(A.value,M,x)}}},!0).toString()},e.exports=t.default})(_O,_O.exports);var aBe=_O.exports;const $P=Jr(aBe);function g_(e){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g_(e)}function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){sBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sBe(e,t,r){return t=lBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lBe(e){var t=cBe(e,"string");return g_(t)==="symbol"?t:String(t)}function cBe(e,t){if(g_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e){return hBe(e)||fBe(e)||dBe(e)||uBe()}function uBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dBe(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function fBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hBe(e){if(Array.isArray(e))return EO(e)}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Up={widthCache:{},cacheCount:0},pBe=2e3,mBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gBe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],hF="recharts_measurement_span";function yBe(e,t){return gBe.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function vBe(e){var t=e.split(""),r=t.reduce(function(n,i){return i===i.toUpperCase()?[].concat(fF(n),["-",i.toLowerCase()]):[].concat(fF(n),[i])},[]);return r.join("")}var _Be=function(t){return Object.keys(t).reduce(function(r,n){return"".concat(r).concat(vBe(n),":").concat(yBe(n,t[n]),";")},"")},Gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nu.isSsr)return{width:0,height:0};var n="".concat(t),i=_Be(r),o="".concat(n,"-").concat(i);if(Up.widthCache[o])return Up.widthCache[o];try{var s=document.getElementById(hF);s||(s=document.createElement("span"),s.setAttribute("id",hF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=dF(dF({},mBe),r);Object.keys(a).map(function(g){return s.style[g]=a[g],g}),s.textContent=n;var f=s.getBoundingClientRect(),h={width:f.width,height:f.height};return Up.widthCache[o]=h,++Up.cacheCount>pBe&&(Up.cacheCount=0,Up.widthCache={}),h}catch{return{width:0,height:0}}},xBe=function(t){var r=t.ownerDocument.documentElement,n={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft}},bBe=function(t,r){return{chartX:Math.round(t.pageX-r.left),chartY:Math.round(t.pageY-r.top)}},wBe=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function CO(){return CO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CO.apply(this,arguments)}function SBe(e,t){if(e==null)return{};var r=EBe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EBe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function pF(e,t){return PBe(e)||TBe(e,t)||kBe(e,t)||CBe()}function CBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kBe(e,t){if(e){if(typeof e=="string")return mF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mF(e,t)}}function mF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function PBe(e){if(Array.isArray(e))return e}var mY=/[ \f\n\r\t\v\u2028\u2029]+/,gY=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];dr(r)||(n?o=r.toString().split(""):o=r.toString().split(mY));var s=o.map(function(f){return{word:f,width:Gl(f,i).width}}),a=n?0:Gl("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},ABe=function(t,r,n,i,o){var s=t.maxLines,a=t.children,f=t.style,h=t.breakAll,g=Mt(s),y=a,x=function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ge.reduce(function(Ce,Te){var Ee=Te.word,Oe=Te.width,qe=Ce[Ce.length-1];if(qe&&(i==null||o||qe.width+Oe+n<Number(i)))qe.words.push(Ee),qe.width+=Oe+n;else{var rt={words:[Ee],width:Oe};Ce.push(rt)}return Ce},[])},A=x(r),T=function(ge){return ge.reduce(function(Ce,Te){return Ce.width>Te.width?Ce:Te})};if(!g)return A;for(var w="",M=function(ge){var Ce=y.slice(0,ge),Te=gY({breakAll:h,style:f,children:Ce+w}).wordsWithComputedWidth,Ee=x(Te),Oe=Ee.length>s||T(Ee).width>Number(i);return[Oe,Ee]},O=0,I=y.length-1,E=0,R;O<=I&&E<=y.length-1;){var N=Math.floor((O+I)/2),D=N-1,F=M(D),q=pF(F,2),J=q[0],Q=q[1],ae=M(N),he=pF(ae,1),fe=he[0];if(!J&&!fe&&(O=N+1),J&&fe&&(I=N-1),!J&&fe){R=Q;break}E++}return R||A},gF=function(t){var r=dr(t)?[]:t.toString().split(mY);return[{words:r}]},MBe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((r||n)&&!nu.isSsr){var f,h,g=gY({breakAll:s,children:i,style:o});if(g){var y=g.wordsWithComputedWidth,x=g.spaceWidth;f=y,h=x}else return gF(i);return ABe({breakAll:s,children:i,maxLines:a,style:o},f,h,r,n)}return gF(i)},yY={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"},y_=function(t){var r=V.useMemo(function(){return MBe({breakAll:t.breakAll,children:t.children,maxLines:t.maxLines,scaleToFit:t.scaleToFit,style:t.style,width:t.width})},[t.breakAll,t.children,t.maxLines,t.scaleToFit,t.style,t.width]),n=t.dx,i=t.dy,o=t.textAnchor,s=t.verticalAnchor,a=t.scaleToFit,f=t.angle,h=t.lineHeight,g=t.capHeight,y=t.className,x=t.breakAll,A=SBe(t,wBe);if(!ji(A.x)||!ji(A.y))return null;var T=A.x+(Mt(n)?n:0),w=A.y+(Mt(i)?i:0),M;switch(s){case"start":M=$P("calc(".concat(g,")"));break;case"middle":M=$P("calc(".concat((r.length-1)/2," * -").concat(h," + (").concat(g," / 2))"));break;default:M=$P("calc(".concat(r.length-1," * -").concat(h,")"));break}var O=[];if(a){var I=r[0].width,E=t.width;O.push("scale(".concat((Mt(E)?E/I:1)/I,")"))}return f&&O.push("rotate(".concat(f,", ").concat(T,", ").concat(w,")")),O.length&&(A.transform=O.join(" ")),De.createElement("text",CO({},qr(A,!0),{x:T,y:w,className:wn("recharts-text",y),textAnchor:o,fill:A.fill.includes("url")?yY.fill:A.fill}),r.map(function(R,N){return De.createElement("tspan",{x:T,dy:N===0?M:h,key:N},R.words.join(x?"":" "))}))};y_.defaultProps=yY;var OBe=tL;function IBe(e,t){return OBe(e,t)}var RBe=IBe;const cL=Jr(RBe);var $Be=Zg;function DBe(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(a===void 0?s===s&&!$Be(s):r(s,a)))var a=s,f=o}return f}var vY=DBe;function LBe(e,t){return e>t}var NBe=LBe,zBe=vY,jBe=NBe,BBe=ry;function FBe(e){return e&&e.length?zBe(e,BBe,jBe):void 0}var UBe=FBe;const iC=Jr(UBe);function VBe(e,t){return e<t}var WBe=VBe,qBe=vY,HBe=WBe,GBe=ry;function YBe(e){return e&&e.length?qBe(e,GBe,HBe):void 0}var KBe=YBe;const oC=Jr(KBe);var ZBe=GD,XBe=Jd,JBe=oY,QBe=ca;function e4e(e,t){var r=QBe(e)?ZBe:JBe;return r(e,XBe(t))}var t4e=e4e,r4e=nY,n4e=t4e;function i4e(e,t){return r4e(n4e(e,t),1)}var o4e=i4e;const a4e=Jr(o4e);function Md(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s4e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _Y(e){let t,r,n;e.length!==2?(t=Md,r=(a,f)=>Md(e(a),f),n=(a,f)=>e(a)-f):(t=e===Md||e===s4e?e:l4e,r=e,n=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;r(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;r(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&n(a[y-1],f)>-n(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function l4e(){return 0}function xY(e){return e===null?NaN:+e}function*c4e(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const u4e=_Y(Md),d4e=u4e.right;_Y(xY).center;const px=d4e;class yF extends Map{constructor(t,r=p4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(vF(this,t))}has(t){return super.has(vF(this,t))}set(t,r){return super.set(f4e(this,t),r)}delete(t){return super.delete(h4e(this,t))}}function vF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function f4e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function h4e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function p4e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function m4e(e=Md){if(e===Md)return bY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function bY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const g4e=Math.sqrt(50),y4e=Math.sqrt(10),v4e=Math.sqrt(2);function mS(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=g4e?10:o>=y4e?5:o>=v4e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=r&&r<2?mS(e,t,r*2):[a,f,h]}function kO(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,s]=n?mS(t,e,r):mS(e,t,r);if(!(o>=i))return[];const a=o-i+1,f=new Array(a);if(n)if(s<0)for(let h=0;h<a;++h)f[h]=(o-h)/-s;else for(let h=0;h<a;++h)f[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)f[h]=(i+h)/-s;else for(let h=0;h<a;++h)f[h]=(i+h)*s;return f}function TO(e,t,r){return t=+t,e=+e,r=+r,mS(e,t,r)[2]}function _4e(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?TO(t,e,r):TO(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function _F(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function xF(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function wY(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?bY:m4e(i);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1),A=Math.max(r,Math.floor(t-h*y/f+x)),T=Math.min(n,Math.floor(t+(f-h)*y/f+x));wY(e,t,A,T,i)}const o=e[t];let s=r,a=n;for(Dv(e,r,t),i(e[n],o)>0&&Dv(e,r,n);s<a;){for(Dv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[r],o)===0?Dv(e,r,a):(++a,Dv(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function Dv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function x4e(e,t,r){if(e=Float64Array.from(c4e(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xF(e);if(t>=1)return _F(e);var n,i=(n-1)*t,o=Math.floor(i),s=_F(wY(e,o).subarray(0,o+1)),a=xF(e.subarray(o+1));return s+(a-s)*(i-o)}}function b4e(e,t,r=xY){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function w4e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function js(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Eu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PO=Symbol("implicit");function uL(){var e=new yF,t=[],r=[],n=PO;function i(o){let s=e.get(o);if(s===void 0){if(n!==PO)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new yF;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uL(t,r).unknown(n)},js.apply(i,arguments),i}function v_(){var e=uL().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,f=0,h=0,g=.5;delete e.unknown;function y(){var x=t().length,A=i<n,T=A?i:n,w=A?n:i;o=(w-T)/Math.max(1,x-f+h*2),a&&(o=Math.floor(o)),T+=(w-T-o*(x-f))*g,s=o*(1-f),a&&(T=Math.round(T),s=Math.round(s));var M=w4e(x).map(function(O){return T+o*O});return r(A?M.reverse():M)}return e.domain=function(x){return arguments.length?(t(x),y()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,y()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,a=!0,y()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(x){return arguments.length?(a=!!x,y()):a},e.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),y()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),y()):f},e.paddingOuter=function(x){return arguments.length?(h=+x,y()):h},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),y()):g},e.copy=function(){return v_(t(),[n,i]).round(a).paddingInner(f).paddingOuter(h).align(g)},js.apply(y(),arguments)}function SY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SY(t())},e}function C0(){return SY(v_.apply(null,arguments).paddingInner(1))}function dL(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function EY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mx(){}var __=.7,gS=1/__,zm="\\s*([+-]?\\d+)\\s*",x_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S4e=/^#([0-9a-f]{3,8})$/,E4e=new RegExp(`^rgb\\(${zm},${zm},${zm}\\)$`),C4e=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),k4e=new RegExp(`^rgba\\(${zm},${zm},${zm},${x_}\\)$`),T4e=new RegExp(`^rgba\\(${nc},${nc},${nc},${x_}\\)$`),P4e=new RegExp(`^hsl\\(${x_},${nc},${nc}\\)$`),A4e=new RegExp(`^hsla\\(${x_},${nc},${nc},${x_}\\)$`),bF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dL(mx,b_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wF,formatHex:wF,formatHex8:M4e,formatHsl:O4e,formatRgb:SF,toString:SF});function wF(){return this.rgb().formatHex()}function M4e(){return this.rgb().formatHex8()}function O4e(){return CY(this).formatHsl()}function SF(){return this.rgb().formatRgb()}function b_(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=S4e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?EF(t):r===3?new ba(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?g1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?g1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E4e.exec(e))?new ba(t[1],t[2],t[3],1):(t=C4e.exec(e))?new ba(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=k4e.exec(e))?g1(t[1],t[2],t[3],t[4]):(t=T4e.exec(e))?g1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=P4e.exec(e))?TF(t[1],t[2]/100,t[3]/100,1):(t=A4e.exec(e))?TF(t[1],t[2]/100,t[3]/100,t[4]):bF.hasOwnProperty(e)?EF(bF[e]):e==="transparent"?new ba(NaN,NaN,NaN,0):null}function EF(e){return new ba(e>>16&255,e>>8&255,e&255,1)}function g1(e,t,r,n){return n<=0&&(e=t=r=NaN),new ba(e,t,r,n)}function I4e(e){return e instanceof mx||(e=b_(e)),e?(e=e.rgb(),new ba(e.r,e.g,e.b,e.opacity)):new ba}function AO(e,t,r,n){return arguments.length===1?I4e(e):new ba(e,t,r,n??1)}function ba(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dL(ba,AO,EY(mx,{brighter(e){return e=e==null?gS:Math.pow(gS,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?__:Math.pow(__,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ba(oh(this.r),oh(this.g),oh(this.b),yS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CF,formatHex:CF,formatHex8:R4e,formatRgb:kF,toString:kF}));function CF(){return`#${Kf(this.r)}${Kf(this.g)}${Kf(this.b)}`}function R4e(){return`#${Kf(this.r)}${Kf(this.g)}${Kf(this.b)}${Kf((isNaN(this.opacity)?1:this.opacity)*255)}`}function kF(){const e=yS(this.opacity);return`${e===1?"rgb(":"rgba("}${oh(this.r)}, ${oh(this.g)}, ${oh(this.b)}${e===1?")":`, ${e})`}`}function yS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kf(e){return e=oh(e),(e<16?"0":"")+e.toString(16)}function TF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ul(e,t,r,n)}function CY(e){if(e instanceof ul)return new ul(e.h,e.s,e.l,e.opacity);if(e instanceof mx||(e=b_(e)),!e)return new ul;if(e instanceof ul)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,f=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=f<.5?o+i:2-o-i,s*=60):a=f>0&&f<1?0:s,new ul(s,a,f,e.opacity)}function $4e(e,t,r,n){return arguments.length===1?CY(e):new ul(e,t,r,n??1)}function ul(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dL(ul,$4e,EY(mx,{brighter(e){return e=e==null?gS:Math.pow(gS,e),new ul(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?__:Math.pow(__,e),new ul(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ba(DP(e>=240?e-240:e+120,i,n),DP(e,i,n),DP(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ul(PF(this.h),y1(this.s),y1(this.l),yS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yS(this.opacity);return`${e===1?"hsl(":"hsla("}${PF(this.h)}, ${y1(this.s)*100}%, ${y1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function PF(e){return e=(e||0)%360,e<0?e+360:e}function y1(e){return Math.max(0,Math.min(1,e||0))}function DP(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fL=e=>()=>e;function D4e(e,t){return function(r){return e+r*t}}function L4e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function N4e(e){return(e=+e)==1?kY:function(t,r){return r-t?L4e(t,r,e):fL(isNaN(t)?r:t)}}function kY(e,t){var r=t-e;return r?D4e(e,r):fL(isNaN(e)?t:e)}const AF=function e(t){var r=N4e(t);function n(i,o){var s=r((i=AO(i)).r,(o=AO(o)).r),a=r(i.g,o.g),f=r(i.b,o.b),h=kY(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=f(g),i.opacity=h(g),i+""}}return n.gamma=e,n}(1);function z4e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function j4e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B4e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=iy(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function F4e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function U4e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=iy(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var MO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LP=new RegExp(MO.source,"g");function V4e(e){return function(){return e}}function W4e(e){return function(t){return e(t)+""}}function q4e(e,t){var r=MO.lastIndex=LP.lastIndex=0,n,i,o,s=-1,a=[],f=[];for(e=e+"",t=t+"";(n=MO.exec(e))&&(i=LP.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,f.push({i:s,x:vS(n,i)})),r=LP.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?f[0]?W4e(f[0].x):V4e(t):(t=f.length,function(h){for(var g=0,y;g<t;++g)a[(y=f[g]).i]=y.x(h);return a.join("")})}function iy(e,t){var r=typeof t,n;return t==null||r==="boolean"?fL(t):(r==="number"?vS:r==="string"?(n=b_(t))?(t=n,AF):q4e:t instanceof b_?AF:t instanceof Date?F4e:j4e(t)?z4e:Array.isArray(t)?B4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U4e:vS)(e,t)}function hL(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function H4e(e,t){t===void 0&&(t=e,e=iy);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function G4e(e){return function(){return e}}function _S(e){return+e}var MF=[0,1];function oa(e){return e}function OO(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:G4e(isNaN(t)?NaN:.5)}function Y4e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function K4e(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=OO(i,n),o=r(s,o)):(n=OO(n,i),o=r(o,s)),function(a){return o(n(a))}}function Z4e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=OO(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var f=px(e,a,1,n)-1;return o[f](i[f](a))}}function gx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function aC(){var e=MF,t=MF,r=iy,n,i,o,s=oa,a,f,h;function g(){var x=Math.min(e.length,t.length);return s!==oa&&(s=Y4e(e[0],e[x-1])),a=x>2?Z4e:K4e,f=h=null,y}function y(x){return x==null||isNaN(x=+x)?o:(f||(f=a(e.map(n),t,r)))(n(s(x)))}return y.invert=function(x){return s(i((h||(h=a(t,e.map(n),vS)))(x)))},y.domain=function(x){return arguments.length?(e=Array.from(x,_S),g()):e.slice()},y.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},y.rangeRound=function(x){return t=Array.from(x),r=hL,g()},y.clamp=function(x){return arguments.length?(s=x?!0:oa,g()):s!==oa},y.interpolate=function(x){return arguments.length?(r=x,g()):r},y.unknown=function(x){return arguments.length?(o=x,y):o},function(x,A){return n=x,i=A,g()}}function pL(){return aC()(oa,oa)}function X4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yg(e){return e=xS(Math.abs(e)),e?e[1]:NaN}function J4e(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],f=0;i>0&&a>0&&(f+a+1>n&&(a=Math.max(1,n-f)),o.push(r.substring(i-=a,i+a)),!((f+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Q4e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w_(e){if(!(t=eFe.exec(e)))throw new Error("invalid format: "+e);var t;return new mL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}w_.prototype=mL.prototype;function mL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tFe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var TY;function rFe(e,t){var r=xS(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(TY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+xS(e,Math.max(0,t+o-1))[0]}function OF(e,t){var r=xS(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const IF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OF(e*100,t),r:OF,s:rFe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RF(e){return e}var $F=Array.prototype.map,DF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nFe(e){var t=e.grouping===void 0||e.thousands===void 0?RF:J4e($F.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?RF:Q4e($F.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(y){y=w_(y);var x=y.fill,A=y.align,T=y.sign,w=y.symbol,M=y.zero,O=y.width,I=y.comma,E=y.precision,R=y.trim,N=y.type;N==="n"?(I=!0,N="g"):IF[N]||(E===void 0&&(E=12),R=!0,N="g"),(M||x==="0"&&A==="=")&&(M=!0,x="0",A="=");var D=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",F=w==="$"?n:/[%p]/.test(N)?s:"",q=IF[N],J=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function Q(ae){var he=D,fe=F,we,ge,Ce;if(N==="c")fe=q(ae)+fe,ae="";else{ae=+ae;var Te=ae<0||1/ae<0;if(ae=isNaN(ae)?f:q(Math.abs(ae),E),R&&(ae=tFe(ae)),Te&&+ae==0&&T!=="+"&&(Te=!1),he=(Te?T==="("?T:a:T==="-"||T==="("?"":T)+he,fe=(N==="s"?DF[8+TY/3]:"")+fe+(Te&&T==="("?")":""),J){for(we=-1,ge=ae.length;++we<ge;)if(Ce=ae.charCodeAt(we),48>Ce||Ce>57){fe=(Ce===46?i+ae.slice(we+1):ae.slice(we))+fe,ae=ae.slice(0,we);break}}}I&&!M&&(ae=t(ae,1/0));var Ee=he.length+ae.length+fe.length,Oe=Ee<O?new Array(O-Ee+1).join(x):"";switch(I&&M&&(ae=t(Oe+ae,Oe.length?O-fe.length:1/0),Oe=""),A){case"<":ae=he+ae+fe+Oe;break;case"=":ae=he+Oe+ae+fe;break;case"^":ae=Oe.slice(0,Ee=Oe.length>>1)+he+ae+fe+Oe.slice(Ee);break;default:ae=Oe+he+ae+fe;break}return o(ae)}return Q.toString=function(){return y+""},Q}function g(y,x){var A=h((y=w_(y),y.type="f",y)),T=Math.max(-8,Math.min(8,Math.floor(yg(x)/3)))*3,w=Math.pow(10,-T),M=DF[8+T/3];return function(O){return A(w*O)+M}}return{format:h,formatPrefix:g}}var v1,gL,PY;iFe({thousands:",",grouping:[3],currency:["$",""]});function iFe(e){return v1=nFe(e),gL=v1.format,PY=v1.formatPrefix,v1}function oFe(e){return Math.max(0,-yg(Math.abs(e)))}function aFe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yg(t)/3)))*3-yg(Math.abs(e)))}function sFe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yg(t)-yg(e))+1}function AY(e,t,r,n){var i=_4e(e,t,r),o;switch(n=w_(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=aFe(i,s))&&(n.precision=o),PY(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=sFe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=oFe(i))&&(n.precision=o-(n.type==="%")*2);break}}return gL(n)}function ef(e){var t=e.domain;return e.ticks=function(r){var n=t();return kO(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return AY(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],f,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=TO(s,a,r),h===f)return n[i]=s,n[o]=a,t(n);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;f=h}return e},e}function bS(){var e=pL();return e.copy=function(){return gx(e,bS())},js.apply(e,arguments),ef(e)}function MY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_S),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return MY(e).unknown(t)},e=arguments.length?Array.from(e,_S):[0,1],ef(r)}function OY(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}function LF(e){return Math.log(e)}function NF(e){return Math.exp(e)}function lFe(e){return-Math.log(-e)}function cFe(e){return-Math.exp(-e)}function uFe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dFe(e){return e===10?uFe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fFe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zF(e){return(t,r)=>-e(-t,r)}function yL(e){const t=e(LF,NF),r=t.domain;let n=10,i,o;function s(){return i=fFe(n),o=dFe(n),r()[0]<0?(i=zF(i),o=zF(o),e(lFe,cFe)):e(LF,NF),t}return t.base=function(a){return arguments.length?(n=+a,s()):n},t.domain=function(a){return arguments.length?(r(a),s()):r()},t.ticks=a=>{const f=r();let h=f[0],g=f[f.length-1];const y=g<h;y&&([h,g]=[g,h]);let x=i(h),A=i(g),T,w;const M=a==null?10:+a;let O=[];if(!(n%1)&&A-x<M){if(x=Math.floor(x),A=Math.ceil(A),h>0){for(;x<=A;++x)for(T=1;T<n;++T)if(w=x<0?T/o(-x):T*o(x),!(w<h)){if(w>g)break;O.push(w)}}else for(;x<=A;++x)for(T=n-1;T>=1;--T)if(w=x>0?T/o(-x):T*o(x),!(w<h)){if(w>g)break;O.push(w)}O.length*2<M&&(O=kO(h,g,M))}else O=kO(x,A,Math.min(A-x,M)).map(o);return y?O.reverse():O},t.tickFormat=(a,f)=>{if(a==null&&(a=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=w_(f)).precision==null&&(f.trim=!0),f=gL(f)),a===1/0)return f;const h=Math.max(1,n*a/t.ticks().length);return g=>{let y=g/o(Math.round(i(g)));return y*n<n-.5&&(y*=n),y<=h?f(g):""}},t.nice=()=>r(OY(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function IY(){const e=yL(aC()).domain([1,10]);return e.copy=()=>gx(e,IY()).base(e.base()),js.apply(e,arguments),e}function jF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vL(e){var t=1,r=e(jF(t),BF(t));return r.constant=function(n){return arguments.length?e(jF(t=+n),BF(t)):t},ef(r)}function RY(){var e=vL(aC());return e.copy=function(){return gx(e,RY()).constant(e.constant())},js.apply(e,arguments)}function FF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pFe(e){return e<0?-e*e:e*e}function _L(e){var t=e(oa,oa),r=1;function n(){return r===1?e(oa,oa):r===.5?e(hFe,pFe):e(FF(r),FF(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ef(t)}function xL(){var e=_L(aC());return e.copy=function(){return gx(e,xL()).exponent(e.exponent())},js.apply(e,arguments),e}function mFe(){return xL.apply(null,arguments).exponent(.5)}function UF(e){return Math.sign(e)*e*e}function gFe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $Y(){var e=pL(),t=[0,1],r=!1,n;function i(o){var s=gFe(e(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return e.invert(UF(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,_S)).map(UF)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $Y(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},js.apply(i,arguments),ef(i)}function DY(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=b4e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[px(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Md),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return DY().domain(e).range(t).unknown(n)},js.apply(o,arguments)}function LY(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[px(n,f,0,r)]:o}function a(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,a()):[e,t]},s.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,a()):i.slice()},s.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return n.slice()},s.copy=function(){return LY().domain([e,t]).range(i).unknown(o)},js.apply(ef(s),arguments)}function NY(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[px(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return NY().domain(e).range(t).unknown(r)},js.apply(i,arguments)}const NP=new Date,zP=new Date;function Ui(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const f=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return f;let h;do f.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return f},i.filter=o=>Ui(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),r&&(i.count=(o,s)=>(NP.setTime(+o),zP.setTime(+s),e(NP),e(zP),Math.floor(r(NP,zP))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const wS=Ui(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ui(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):wS);wS.range;const Jc=1e3,bs=Jc*60,Qc=bs*60,gu=Qc*24,bL=gu*7,VF=gu*30,jP=gu*365,Zf=Ui(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getUTCSeconds());Zf.range;const wL=Ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jc)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getMinutes());wL.range;const SL=Ui(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCMinutes());SL.range;const EL=Ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jc-e.getMinutes()*bs)},(e,t)=>{e.setTime(+e+t*Qc)},(e,t)=>(t-e)/Qc,e=>e.getHours());EL.range;const CL=Ui(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qc)},(e,t)=>(t-e)/Qc,e=>e.getUTCHours());CL.range;const yx=Ui(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bs)/gu,e=>e.getDate()-1);yx.range;const sC=Ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>e.getUTCDate()-1);sC.range;const zY=Ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>Math.floor(e/gu));zY.range;function Ih(e){return Ui(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bs)/bL)}const lC=Ih(0),SS=Ih(1),yFe=Ih(2),vFe=Ih(3),vg=Ih(4),_Fe=Ih(5),xFe=Ih(6);lC.range;SS.range;yFe.range;vFe.range;vg.range;_Fe.range;xFe.range;function Rh(e){return Ui(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bL)}const cC=Rh(0),ES=Rh(1),bFe=Rh(2),wFe=Rh(3),_g=Rh(4),SFe=Rh(5),EFe=Rh(6);cC.range;ES.range;bFe.range;wFe.range;_g.range;SFe.range;EFe.range;const kL=Ui(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kL.range;const TL=Ui(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());TL.range;const yu=Ui(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ui(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yu.range;const vu=Ui(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ui(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vu.range;function BP(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CFe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kFe(e){let t,r,n;e.length!==2?(t=BP,r=(a,f)=>BP(e(a),f),n=(a,f)=>e(a)-f):(t=e===BP||e===CFe?e:TFe,r=e,n=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;r(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;r(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&n(a[y-1],f)>-n(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function TFe(){return 0}const PFe=Math.sqrt(50),AFe=Math.sqrt(10),MFe=Math.sqrt(2);function jY(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=PFe?10:o>=AFe?5:o>=MFe?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=r&&r<2?jY(e,t,r*2):[a,f,h]}function WF(e,t,r){return t=+t,e=+e,r=+r,jY(e,t,r)[2]}function qF(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?WF(t,e,r):WF(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function BY(e,t,r,n,i,o){const s=[[Zf,1,Jc],[Zf,5,5*Jc],[Zf,15,15*Jc],[Zf,30,30*Jc],[o,1,bs],[o,5,5*bs],[o,15,15*bs],[o,30,30*bs],[i,1,Qc],[i,3,3*Qc],[i,6,6*Qc],[i,12,12*Qc],[n,1,gu],[n,2,2*gu],[r,1,bL],[t,1,VF],[t,3,3*VF],[e,1,jP]];function a(h,g,y){const x=g<h;x&&([h,g]=[g,h]);const A=y&&typeof y.range=="function"?y:f(h,g,y),T=A?A.range(h,+g+1):[];return x?T.reverse():T}function f(h,g,y){const x=Math.abs(g-h)/y,A=kFe(([,,M])=>M).right(s,x);if(A===s.length)return e.every(qF(h/jP,g/jP,y));if(A===0)return wS.every(Math.max(qF(h,g,y),1));const[T,w]=s[x/s[A-1][2]<s[A][2]/x?A-1:A];return T.every(w)}return[a,f]}const[OFe,IFe]=BY(vu,TL,cC,zY,CL,SL),[RFe,$Fe]=BY(yu,kL,lC,yx,EL,wL);function FP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function UP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DFe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,f=e.shortMonths,h=Nv(i),g=zv(i),y=Nv(o),x=zv(o),A=Nv(s),T=zv(s),w=Nv(a),M=zv(a),O=Nv(f),I=zv(f),E={a:Te,A:Ee,b:Oe,B:qe,c:null,d:XF,e:XF,f:i6e,g:p6e,G:g6e,H:t6e,I:r6e,j:n6e,L:FY,m:o6e,M:a6e,p:rt,q:Pe,Q:e6,s:t6,S:s6e,u:l6e,U:c6e,V:u6e,w:d6e,W:f6e,x:null,X:null,y:h6e,Y:m6e,Z:y6e,"%":QF},R={a:je,A:Le,b:Ye,B:Be,c:null,d:JF,e:JF,f:b6e,g:O6e,G:R6e,H:v6e,I:_6e,j:x6e,L:VY,m:w6e,M:S6e,p:lt,q:it,Q:e6,s:t6,S:E6e,u:C6e,U:k6e,V:T6e,w:P6e,W:A6e,x:null,X:null,y:M6e,Y:I6e,Z:$6e,"%":QF},N={a:Q,A:ae,b:he,B:fe,c:we,d:KF,e:KF,f:XFe,g:YF,G:GF,H:ZF,I:ZF,j:GFe,L:ZFe,m:HFe,M:YFe,p:J,q:qFe,Q:QFe,s:e6e,S:KFe,u:BFe,U:FFe,V:UFe,w:jFe,W:VFe,x:ge,X:Ce,y:YF,Y:GF,Z:WFe,"%":JFe};E.x=D(r,E),E.X=D(n,E),E.c=D(t,E),R.x=D(r,R),R.X=D(n,R),R.c=D(t,R);function D(Ve,Xe){return function(ct){var Fe=[],Me=-1,Et=0,Zt=Ve.length,Ot,jt,Mr;for(ct instanceof Date||(ct=new Date(+ct));++Me<Zt;)Ve.charCodeAt(Me)===37&&(Fe.push(Ve.slice(Et,Me)),(jt=HF[Ot=Ve.charAt(++Me)])!=null?Ot=Ve.charAt(++Me):jt=Ot==="e"?" ":"0",(Mr=Xe[Ot])&&(Ot=Mr(ct,jt)),Fe.push(Ot),Et=Me+1);return Fe.push(Ve.slice(Et,Me)),Fe.join("")}}function F(Ve,Xe){return function(ct){var Fe=Lv(1900,void 0,1),Me=q(Fe,Ve,ct+="",0),Et,Zt;if(Me!=ct.length)return null;if("Q"in Fe)return new Date(Fe.Q);if("s"in Fe)return new Date(Fe.s*1e3+("L"in Fe?Fe.L:0));if(Xe&&!("Z"in Fe)&&(Fe.Z=0),"p"in Fe&&(Fe.H=Fe.H%12+Fe.p*12),Fe.m===void 0&&(Fe.m="q"in Fe?Fe.q:0),"V"in Fe){if(Fe.V<1||Fe.V>53)return null;"w"in Fe||(Fe.w=1),"Z"in Fe?(Et=UP(Lv(Fe.y,0,1)),Zt=Et.getUTCDay(),Et=Zt>4||Zt===0?ES.ceil(Et):ES(Et),Et=sC.offset(Et,(Fe.V-1)*7),Fe.y=Et.getUTCFullYear(),Fe.m=Et.getUTCMonth(),Fe.d=Et.getUTCDate()+(Fe.w+6)%7):(Et=FP(Lv(Fe.y,0,1)),Zt=Et.getDay(),Et=Zt>4||Zt===0?SS.ceil(Et):SS(Et),Et=yx.offset(Et,(Fe.V-1)*7),Fe.y=Et.getFullYear(),Fe.m=Et.getMonth(),Fe.d=Et.getDate()+(Fe.w+6)%7)}else("W"in Fe||"U"in Fe)&&("w"in Fe||(Fe.w="u"in Fe?Fe.u%7:"W"in Fe?1:0),Zt="Z"in Fe?UP(Lv(Fe.y,0,1)).getUTCDay():FP(Lv(Fe.y,0,1)).getDay(),Fe.m=0,Fe.d="W"in Fe?(Fe.w+6)%7+Fe.W*7-(Zt+5)%7:Fe.w+Fe.U*7-(Zt+6)%7);return"Z"in Fe?(Fe.H+=Fe.Z/100|0,Fe.M+=Fe.Z%100,UP(Fe)):FP(Fe)}}function q(Ve,Xe,ct,Fe){for(var Me=0,Et=Xe.length,Zt=ct.length,Ot,jt;Me<Et;){if(Fe>=Zt)return-1;if(Ot=Xe.charCodeAt(Me++),Ot===37){if(Ot=Xe.charAt(Me++),jt=N[Ot in HF?Xe.charAt(Me++):Ot],!jt||(Fe=jt(Ve,ct,Fe))<0)return-1}else if(Ot!=ct.charCodeAt(Fe++))return-1}return Fe}function J(Ve,Xe,ct){var Fe=h.exec(Xe.slice(ct));return Fe?(Ve.p=g.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function Q(Ve,Xe,ct){var Fe=A.exec(Xe.slice(ct));return Fe?(Ve.w=T.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function ae(Ve,Xe,ct){var Fe=y.exec(Xe.slice(ct));return Fe?(Ve.w=x.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function he(Ve,Xe,ct){var Fe=O.exec(Xe.slice(ct));return Fe?(Ve.m=I.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function fe(Ve,Xe,ct){var Fe=w.exec(Xe.slice(ct));return Fe?(Ve.m=M.get(Fe[0].toLowerCase()),ct+Fe[0].length):-1}function we(Ve,Xe,ct){return q(Ve,t,Xe,ct)}function ge(Ve,Xe,ct){return q(Ve,r,Xe,ct)}function Ce(Ve,Xe,ct){return q(Ve,n,Xe,ct)}function Te(Ve){return s[Ve.getDay()]}function Ee(Ve){return o[Ve.getDay()]}function Oe(Ve){return f[Ve.getMonth()]}function qe(Ve){return a[Ve.getMonth()]}function rt(Ve){return i[+(Ve.getHours()>=12)]}function Pe(Ve){return 1+~~(Ve.getMonth()/3)}function je(Ve){return s[Ve.getUTCDay()]}function Le(Ve){return o[Ve.getUTCDay()]}function Ye(Ve){return f[Ve.getUTCMonth()]}function Be(Ve){return a[Ve.getUTCMonth()]}function lt(Ve){return i[+(Ve.getUTCHours()>=12)]}function it(Ve){return 1+~~(Ve.getUTCMonth()/3)}return{format:function(Ve){var Xe=D(Ve+="",E);return Xe.toString=function(){return Ve},Xe},parse:function(Ve){var Xe=F(Ve+="",!1);return Xe.toString=function(){return Ve},Xe},utcFormat:function(Ve){var Xe=D(Ve+="",R);return Xe.toString=function(){return Ve},Xe},utcParse:function(Ve){var Xe=F(Ve+="",!0);return Xe.toString=function(){return Ve},Xe}}}var HF={"-":"",_:" ",0:"0"},ro=/^\s*\d+/,LFe=/^%/,NFe=/[\\^$*+?|[\]().{}]/g;function Xr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function zFe(e){return e.replace(NFe,"\\$&")}function Nv(e){return new RegExp("^(?:"+e.map(zFe).join("|")+")","i")}function zv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jFe(e,t,r){var n=ro.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function BFe(e,t,r){var n=ro.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function FFe(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function UFe(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VFe(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=ro.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function WFe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qFe(e,t,r){var n=ro.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function HFe(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KF(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function GFe(e,t,r){var n=ro.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YFe(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function KFe(e,t,r){var n=ro.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZFe(e,t,r){var n=ro.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function XFe(e,t,r){var n=ro.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JFe(e,t,r){var n=LFe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QFe(e,t,r){var n=ro.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function e6e(e,t,r){var n=ro.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XF(e,t){return Xr(e.getDate(),t,2)}function t6e(e,t){return Xr(e.getHours(),t,2)}function r6e(e,t){return Xr(e.getHours()%12||12,t,2)}function n6e(e,t){return Xr(1+yx.count(yu(e),e),t,3)}function FY(e,t){return Xr(e.getMilliseconds(),t,3)}function i6e(e,t){return FY(e,t)+"000"}function o6e(e,t){return Xr(e.getMonth()+1,t,2)}function a6e(e,t){return Xr(e.getMinutes(),t,2)}function s6e(e,t){return Xr(e.getSeconds(),t,2)}function l6e(e){var t=e.getDay();return t===0?7:t}function c6e(e,t){return Xr(lC.count(yu(e)-1,e),t,2)}function UY(e){var t=e.getDay();return t>=4||t===0?vg(e):vg.ceil(e)}function u6e(e,t){return e=UY(e),Xr(vg.count(yu(e),e)+(yu(e).getDay()===4),t,2)}function d6e(e){return e.getDay()}function f6e(e,t){return Xr(SS.count(yu(e)-1,e),t,2)}function h6e(e,t){return Xr(e.getFullYear()%100,t,2)}function p6e(e,t){return e=UY(e),Xr(e.getFullYear()%100,t,2)}function m6e(e,t){return Xr(e.getFullYear()%1e4,t,4)}function g6e(e,t){var r=e.getDay();return e=r>=4||r===0?vg(e):vg.ceil(e),Xr(e.getFullYear()%1e4,t,4)}function y6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xr(t/60|0,"0",2)+Xr(t%60,"0",2)}function JF(e,t){return Xr(e.getUTCDate(),t,2)}function v6e(e,t){return Xr(e.getUTCHours(),t,2)}function _6e(e,t){return Xr(e.getUTCHours()%12||12,t,2)}function x6e(e,t){return Xr(1+sC.count(vu(e),e),t,3)}function VY(e,t){return Xr(e.getUTCMilliseconds(),t,3)}function b6e(e,t){return VY(e,t)+"000"}function w6e(e,t){return Xr(e.getUTCMonth()+1,t,2)}function S6e(e,t){return Xr(e.getUTCMinutes(),t,2)}function E6e(e,t){return Xr(e.getUTCSeconds(),t,2)}function C6e(e){var t=e.getUTCDay();return t===0?7:t}function k6e(e,t){return Xr(cC.count(vu(e)-1,e),t,2)}function WY(e){var t=e.getUTCDay();return t>=4||t===0?_g(e):_g.ceil(e)}function T6e(e,t){return e=WY(e),Xr(_g.count(vu(e),e)+(vu(e).getUTCDay()===4),t,2)}function P6e(e){return e.getUTCDay()}function A6e(e,t){return Xr(ES.count(vu(e)-1,e),t,2)}function M6e(e,t){return Xr(e.getUTCFullYear()%100,t,2)}function O6e(e,t){return e=WY(e),Xr(e.getUTCFullYear()%100,t,2)}function I6e(e,t){return Xr(e.getUTCFullYear()%1e4,t,4)}function R6e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_g(e):_g.ceil(e),Xr(e.getUTCFullYear()%1e4,t,4)}function $6e(){return"+0000"}function QF(){return"%"}function e6(e){return+e}function t6(e){return Math.floor(+e/1e3)}var Vp,qY,HY;D6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D6e(e){return Vp=DFe(e),qY=Vp.format,Vp.parse,HY=Vp.utcFormat,Vp.utcParse,Vp}function L6e(e){return new Date(e)}function N6e(e){return e instanceof Date?+e:+new Date(+e)}function PL(e,t,r,n,i,o,s,a,f,h){var g=pL(),y=g.invert,x=g.domain,A=h(".%L"),T=h(":%S"),w=h("%I:%M"),M=h("%I %p"),O=h("%a %d"),I=h("%b %d"),E=h("%B"),R=h("%Y");function N(D){return(f(D)<D?A:a(D)<D?T:s(D)<D?w:o(D)<D?M:n(D)<D?i(D)<D?O:I:r(D)<D?E:R)(D)}return g.invert=function(D){return new Date(y(D))},g.domain=function(D){return arguments.length?x(Array.from(D,N6e)):x().map(L6e)},g.ticks=function(D){var F=x();return e(F[0],F[F.length-1],D??10)},g.tickFormat=function(D,F){return F==null?N:h(F)},g.nice=function(D){var F=x();return(!D||typeof D.range!="function")&&(D=t(F[0],F[F.length-1],D??10)),D?x(OY(F,D)):g},g.copy=function(){return gx(g,PL(e,t,r,n,i,o,s,a,f,h))},g}function z6e(){return js.apply(PL(RFe,$Fe,yu,kL,lC,yx,EL,wL,Zf,qY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j6e(){return js.apply(PL(OFe,IFe,vu,TL,cC,sC,CL,SL,Zf,HY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uC(){var e=0,t=1,r,n,i,o,s=oa,a=!1,f;function h(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-r)*i,a?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(y){return arguments.length?(a=!!y,h):a},h.interpolator=function(y){return arguments.length?(s=y,h):s};function g(y){return function(x){var A,T;return arguments.length?([A,T]=x,s=y(A,T),h):[s(0),s(1)]}}return h.range=g(iy),h.rangeRound=g(hL),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return o=y,r=y(e),n=y(t),i=r===n?0:1/(n-r),h}}function tf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GY(){var e=ef(uC()(oa));return e.copy=function(){return tf(e,GY())},Eu.apply(e,arguments)}function YY(){var e=yL(uC()).domain([1,10]);return e.copy=function(){return tf(e,YY()).base(e.base())},Eu.apply(e,arguments)}function KY(){var e=vL(uC());return e.copy=function(){return tf(e,KY()).constant(e.constant())},Eu.apply(e,arguments)}function AL(){var e=_L(uC());return e.copy=function(){return tf(e,AL()).exponent(e.exponent())},Eu.apply(e,arguments)}function B6e(){return AL.apply(null,arguments).exponent(.5)}function ZY(){var e=[],t=oa;function r(n){if(n!=null&&!isNaN(n=+n))return t((px(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Md),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>x4e(e,o/n))},r.copy=function(){return ZY(t).domain(e)},Eu.apply(r,arguments)}function dC(){var e=0,t=.5,r=1,n=1,i,o,s,a,f,h=oa,g,y=!1,x;function A(w){return isNaN(w=+w)?x:(w=.5+((w=+g(w))-o)*(n*w<n*o?a:f),h(y?Math.max(0,Math.min(1,w)):w))}A.domain=function(w){return arguments.length?([e,t,r]=w,i=g(e=+e),o=g(t=+t),s=g(r=+r),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),n=o<i?-1:1,A):[e,t,r]},A.clamp=function(w){return arguments.length?(y=!!w,A):y},A.interpolator=function(w){return arguments.length?(h=w,A):h};function T(w){return function(M){var O,I,E;return arguments.length?([O,I,E]=M,h=H4e(w,[O,I,E]),A):[h(0),h(.5),h(1)]}}return A.range=T(iy),A.rangeRound=T(hL),A.unknown=function(w){return arguments.length?(x=w,A):x},function(w){return g=w,i=w(e),o=w(t),s=w(r),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),n=o<i?-1:1,A}}function XY(){var e=ef(dC()(oa));return e.copy=function(){return tf(e,XY())},Eu.apply(e,arguments)}function JY(){var e=yL(dC()).domain([.1,1,10]);return e.copy=function(){return tf(e,JY()).base(e.base())},Eu.apply(e,arguments)}function QY(){var e=vL(dC());return e.copy=function(){return tf(e,QY()).constant(e.constant())},Eu.apply(e,arguments)}function ML(){var e=_L(dC());return e.copy=function(){return tf(e,ML()).exponent(e.exponent())},Eu.apply(e,arguments)}function F6e(){return ML.apply(null,arguments).exponent(.5)}const r6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v_,scaleDiverging:XY,scaleDivergingLog:JY,scaleDivergingPow:ML,scaleDivergingSqrt:F6e,scaleDivergingSymlog:QY,scaleIdentity:MY,scaleImplicit:PO,scaleLinear:bS,scaleLog:IY,scaleOrdinal:uL,scalePoint:C0,scalePow:xL,scaleQuantile:DY,scaleQuantize:LY,scaleRadial:$Y,scaleSequential:GY,scaleSequentialLog:YY,scaleSequentialPow:AL,scaleSequentialQuantile:ZY,scaleSequentialSqrt:B6e,scaleSequentialSymlog:KY,scaleSqrt:mFe,scaleSymlog:RY,scaleThreshold:NY,scaleTime:z6e,scaleUtc:j6e,tickFormat:AY},Symbol.toStringTag,{value:"Module"}));var oy=1e9,U6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IL,Kn=!0,Rs="[DecimalError] ",ah=Rs+"Invalid argument: ",OL=Rs+"Exponent out of range: ",ay=Math.floor,Df=Math.pow,V6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qa,Ji=1e7,zn=7,eK=9007199254740991,CS=ay(eK/zn),Yt={};Yt.absoluteValue=Yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Yt.comparedTo=Yt.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Yt.decimalPlaces=Yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Yt.dividedBy=Yt.div=function(e){return iu(this,new this.constructor(e))};Yt.dividedToIntegerBy=Yt.idiv=function(e){var t=this,r=t.constructor;return Tn(iu(t,new r(e),0,1),r.precision)};Yt.equals=Yt.eq=function(e){return!this.cmp(e)};Yt.exponent=function(){return Ri(this)};Yt.greaterThan=Yt.gt=function(e){return this.cmp(e)>0};Yt.greaterThanOrEqualTo=Yt.gte=function(e){return this.cmp(e)>=0};Yt.isInteger=Yt.isint=function(){return this.e>this.d.length-2};Yt.isNegative=Yt.isneg=function(){return this.s<0};Yt.isPositive=Yt.ispos=function(){return this.s>0};Yt.isZero=function(){return this.s===0};Yt.lessThan=Yt.lt=function(e){return this.cmp(e)<0};Yt.lessThanOrEqualTo=Yt.lte=function(e){return this.cmp(e)<1};Yt.logarithm=Yt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(qa))throw Error(Rs+"NaN");if(r.s<1)throw Error(Rs+(r.s?"NaN":"-Infinity"));return r.eq(qa)?new n(0):(Kn=!1,t=iu(S_(r,o),S_(e,o),o),Kn=!0,Tn(t,i))};Yt.minus=Yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nK(t,e):tK(t,(e.s=-e.s,e))};Yt.modulo=Yt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Rs+"NaN");return r.s?(Kn=!1,t=iu(r,e,0,1).times(e),Kn=!0,r.minus(t)):Tn(new n(r),i)};Yt.naturalExponential=Yt.exp=function(){return rK(this)};Yt.naturalLogarithm=Yt.ln=function(){return S_(this)};Yt.negated=Yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Yt.plus=Yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tK(t,e):nK(t,(e.s=-e.s,e))};Yt.precision=Yt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ah+e);if(t=Ri(i)+1,n=i.d.length-1,r=n*zn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Yt.squareRoot=Yt.sqrt=function(){var e,t,r,n,i,o,s,a=this,f=a.constructor;if(a.s<1){if(!a.s)return new f(0);throw Error(Rs+"NaN")}for(e=Ri(a),Kn=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Kl(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ay((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=s=r+3;;)if(o=n,n=o.plus(iu(a,o,s+2)).times(.5),Kl(o.d).slice(0,s)===(t=Kl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Tn(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return Kn=!0,Tn(n,r)};Yt.times=Yt.mul=function(e){var t,r,n,i,o,s,a,f,h,g=this,y=g.constructor,x=g.d,A=(e=new y(e)).d;if(!g.s||!e.s)return new y(0);for(e.s*=g.s,r=g.e+e.e,f=x.length,h=A.length,f<h&&(o=x,x=A,A=o,s=f,f=h,h=s),o=[],s=f+h,n=s;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,i=f+n;i>n;)a=o[i]+A[n]*x[i-n-1]+t,o[i--]=a%Ji|0,t=a/Ji|0;o[i]=(o[i]+t)%Ji|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Kn?Tn(e,y.precision):e};Yt.toDecimalPlaces=Yt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(lc(e,0,oy),t===void 0?t=n.rounding:lc(t,0,8),Tn(r,e+Ri(r)+1,t))};Yt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ch(n,!0):(lc(e,0,oy),t===void 0?t=i.rounding:lc(t,0,8),n=Tn(new i(n),e+1,t),r=Ch(n,!0,e+1)),r};Yt.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?Ch(i):(lc(e,0,oy),t===void 0?t=o.rounding:lc(t,0,8),n=Tn(new o(i),e+Ri(i)+1,t),r=Ch(n.abs(),!1,e+Ri(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Yt.toInteger=Yt.toint=function(){var e=this,t=e.constructor;return Tn(new t(e),Ri(e)+1,t.rounding)};Yt.toNumber=function(){return+this};Yt.toPower=Yt.pow=function(e){var t,r,n,i,o,s,a=this,f=a.constructor,h=12,g=+(e=new f(e));if(!e.s)return new f(qa);if(a=new f(a),!a.s){if(e.s<1)throw Error(Rs+"Infinity");return a}if(a.eq(qa))return a;if(n=f.precision,e.eq(qa))return Tn(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=g<0?-g:g)<=eK){for(i=new f(qa),t=Math.ceil(n/zn+4),Kn=!1;r%2&&(i=i.times(a),i6(i.d,t)),r=ay(r/2),r!==0;)a=a.times(a),i6(a.d,t);return Kn=!0,e.s<0?new f(qa).div(i):Tn(i,n)}}else if(o<0)throw Error(Rs+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,Kn=!1,i=e.times(S_(a,n+h)),Kn=!0,i=rK(i),i.s=o,i};Yt.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=Ri(i),n=Ch(i,r<=o.toExpNeg||r>=o.toExpPos)):(lc(e,1,oy),t===void 0?t=o.rounding:lc(t,0,8),i=Tn(new o(i),e,t),r=Ri(i),n=Ch(i,e<=r||r<=o.toExpNeg,e)),n};Yt.toSignificantDigits=Yt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lc(e,1,oy),t===void 0?t=n.rounding:lc(t,0,8)),Tn(new n(r),e,t)};Yt.toString=Yt.valueOf=Yt.val=Yt.toJSON=Yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ri(e),r=e.constructor;return Ch(e,t<=r.toExpNeg||t>=r.toExpPos)};function tK(e,t){var r,n,i,o,s,a,f,h,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Kn?Tn(t,y):t;if(f=e.d,h=t.d,s=e.e,i=t.e,f=f.slice(),o=s-i,o){for(o<0?(n=f,o=-o,a=h.length):(n=h,i=s,a=f.length),s=Math.ceil(y/zn),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=f.length,o=h.length,a-o<0&&(o=a,n=h,h=f,f=n),r=0;o;)r=(f[--o]=f[o]+h[o]+r)/Ji|0,f[o]%=Ji;for(r&&(f.unshift(r),++i),a=f.length;f[--a]==0;)f.pop();return t.d=f,t.e=i,Kn?Tn(t,y):t}function lc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ah+e)}function Kl(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=zn-n.length,r&&(o+=nd(r)),o+=n;s=e[t],n=s+"",r=zn-n.length,r&&(o+=nd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var iu=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Ji|0,s=o/Ji|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,f;if(o!=s)f=o>s?1:-1;else for(a=f=0;a<o;a++)if(n[a]!=i[a]){f=n[a]>i[a]?1:-1;break}return f}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Ji+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,f,h,g,y,x,A,T,w,M,O,I,E,R,N,D,F,q,J=n.constructor,Q=n.s==i.s?1:-1,ae=n.d,he=i.d;if(!n.s)return new J(n);if(!i.s)throw Error(Rs+"Division by zero");for(f=n.e-i.e,F=he.length,N=ae.length,A=new J(Q),T=A.d=[],h=0;he[h]==(ae[h]||0);)++h;if(he[h]>(ae[h]||0)&&--f,o==null?I=o=J.precision:s?I=o+(Ri(n)-Ri(i))+1:I=o,I<0)return new J(0);if(I=I/zn+2|0,h=0,F==1)for(g=0,he=he[0],I++;(h<N||g)&&I--;h++)E=g*Ji+(ae[h]||0),T[h]=E/he|0,g=E%he|0;else{for(g=Ji/(he[0]+1)|0,g>1&&(he=e(he,g),ae=e(ae,g),F=he.length,N=ae.length),R=F,w=ae.slice(0,F),M=w.length;M<F;)w[M++]=0;q=he.slice(),q.unshift(0),D=he[0],he[1]>=Ji/2&&++D;do g=0,a=t(he,w,F,M),a<0?(O=w[0],F!=M&&(O=O*Ji+(w[1]||0)),g=O/D|0,g>1?(g>=Ji&&(g=Ji-1),y=e(he,g),x=y.length,M=w.length,a=t(y,w,x,M),a==1&&(g--,r(y,F<x?q:he,x))):(g==0&&(a=g=1),y=he.slice()),x=y.length,x<M&&y.unshift(0),r(w,y,M),a==-1&&(M=w.length,a=t(he,w,F,M),a<1&&(g++,r(w,F<M?q:he,M))),M=w.length):a===0&&(g++,w=[0]),T[h++]=g,a&&w[0]?w[M++]=ae[R]||0:(w=[ae[R]],M=1);while((R++<N||w[0]!==void 0)&&I--)}return T[0]||T.shift(),A.e=f,Tn(A,s?o+Ri(A)+1:o)}}();function rK(e,t){var r,n,i,o,s,a,f=0,h=0,g=e.constructor,y=g.precision;if(Ri(e)>16)throw Error(OL+Ri(e));if(!e.s)return new g(qa);for(t==null?(Kn=!1,a=y):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(n=Math.log(Df(2,h))/Math.LN10*2+5|0,a+=n,r=i=o=new g(qa),g.precision=a;;){if(i=Tn(i.times(e),a),r=r.times(++f),s=o.plus(iu(i,r,a)),Kl(s.d).slice(0,a)===Kl(o.d).slice(0,a)){for(;h--;)o=Tn(o.times(o),a);return g.precision=y,t==null?(Kn=!0,Tn(o,y)):o}o=s}}function Ri(e){for(var t=e.e*zn,r=e.d[0];r>=10;r/=10)t++;return t}function VP(e,t,r){if(t>e.LN10.sd())throw Kn=!0,r&&(e.precision=r),Error(Rs+"LN10 precision limit exceeded");return Tn(new e(e.LN10),t)}function nd(e){for(var t="";e--;)t+="0";return t}function S_(e,t){var r,n,i,o,s,a,f,h,g,y=1,x=10,A=e,T=A.d,w=A.constructor,M=w.precision;if(A.s<1)throw Error(Rs+(A.s?"NaN":"-Infinity"));if(A.eq(qa))return new w(0);if(t==null?(Kn=!1,h=M):h=t,A.eq(10))return t==null&&(Kn=!0),VP(w,h);if(h+=x,w.precision=h,r=Kl(T),n=r.charAt(0),o=Ri(A),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)A=A.times(e),r=Kl(A.d),n=r.charAt(0),y++;o=Ri(A),n>1?(A=new w("0."+r),o++):A=new w(n+"."+r.slice(1))}else return f=VP(w,h+2,M).times(o+""),A=S_(new w(n+"."+r.slice(1)),h-x).plus(f),w.precision=M,t==null?(Kn=!0,Tn(A,M)):A;for(a=s=A=iu(A.minus(qa),A.plus(qa),h),g=Tn(A.times(A),h),i=3;;){if(s=Tn(s.times(g),h),f=a.plus(iu(s,new w(i),h)),Kl(f.d).slice(0,h)===Kl(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(VP(w,h+2,M).times(o+""))),a=iu(a,new w(y),h),w.precision=M,t==null?(Kn=!0,Tn(a,M)):a;a=f,i+=2}}function n6(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ay(r/zn),e.d=[],n=(r+1)%zn,r<0&&(n+=zn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=zn;n<i;)e.d.push(+t.slice(n,n+=zn));t=t.slice(n),n=zn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Kn&&(e.e>CS||e.e<-CS))throw Error(OL+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tn(e,t,r){var n,i,o,s,a,f,h,g,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=zn,i=t,h=y[g=0];else{if(g=Math.ceil((n+1)/zn),o=y.length,g>=o)return e;for(h=o=y[g],s=1;o>=10;o/=10)s++;n%=zn,i=n-zn+s}if(r!==void 0&&(o=Df(10,s-i-1),a=h/o%10|0,f=t<0||y[g+1]!==void 0||h%o,f=r<4?(a||f)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||f||r==6&&(n>0?i>0?h/Df(10,s-i):0:y[g-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return f?(o=Ri(e),y.length=1,t=t-o-1,y[0]=Df(10,(zn-t%zn)%zn),e.e=ay(-t/zn)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(n==0?(y.length=g,o=1,g--):(y.length=g+1,o=Df(10,zn-n),y[g]=i>0?(h/Df(10,s-i)%Df(10,i)|0)*o:0),f)for(;;)if(g==0){(y[0]+=o)==Ji&&(y[0]=1,++e.e);break}else{if(y[g]+=o,y[g]!=Ji)break;y[g--]=0,o=1}for(n=y.length;y[--n]===0;)y.pop();if(Kn&&(e.e>CS||e.e<-CS))throw Error(OL+Ri(e));return e}function nK(e,t){var r,n,i,o,s,a,f,h,g,y,x=e.constructor,A=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Kn?Tn(t,A):t;if(f=e.d,y=t.d,n=t.e,h=e.e,f=f.slice(),s=h-n,s){for(g=s<0,g?(r=f,s=-s,a=y.length):(r=y,n=h,a=f.length),i=Math.max(Math.ceil(A/zn),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=f.length,a=y.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(f[i]!=y[i]){g=f[i]<y[i];break}s=0}for(g&&(r=f,f=y,y=r,t.s=-t.s),a=f.length,i=y.length-a;i>0;--i)f[a++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=Ji-1;--f[o],f[i]+=Ji}f[i]-=y[i]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Kn?Tn(t,A):t):new x(0)}function Ch(e,t,r){var n,i=Ri(e),o=Kl(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+nd(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+nd(-i-1)+o,r&&(n=r-s)>0&&(o+=nd(n))):i>=s?(o+=nd(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+nd(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=nd(n))),e.s<0?"-"+o:o}function i6(e,t){if(e.length>t)return e.length=t,!0}function iK(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ah+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return n6(s,o.toString())}else if(typeof o!="string")throw Error(ah+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,V6e.test(o))n6(s,o);else throw Error(ah+o)}if(i.prototype=Yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iK,i.config=i.set=W6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function W6e(e){if(!e||typeof e!="object")throw Error(Rs+"Object expected");var t,r,n,i=["precision",1,oy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ay(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ah+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ah+r+": "+n);return this}var IL=iK(U6e);qa=new IL(1);const xn=IL;function q6e(e){return K6e(e)||Y6e(e)||G6e(e)||H6e()}function H6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(e,t){if(e){if(typeof e=="string")return IO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(e,t)}}function Y6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function K6e(e){if(Array.isArray(e))return IO(e)}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z6e=function(t){return t},oK={"@@functional/placeholder":!0},aK=function(t){return t===oK},o6=function(t){return function r(){return arguments.length===0||arguments.length===1&&aK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},X6e=function e(t,r){return t===1?r:o6(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==oK}).length;return s>=t?r.apply(void 0,i):e(t-s,o6(function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];var g=i.map(function(y){return aK(y)?f.shift():y});return r.apply(void 0,q6e(g).concat(f))}))})},fC=function(t){return X6e(t.length,t)},RO=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},J6e=fC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Q6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Z6e;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,f){return f(a)},o.apply(void 0,arguments))}},$O=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},sK=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,f){return a===r[f]})||(r=o,n=t.apply(void 0,o)),n}};function eUe(e){var t;return e===0?t=1:t=Math.floor(new xn(e).abs().log(10).toNumber())+1,t}function tUe(e,t,r){for(var n=new xn(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var rUe=fC(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),nUe=fC(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),iUe=fC(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const hC={rangeStep:tUe,getDigitCount:eUe,interpolateNumber:rUe,uninterpolateNumber:nUe,uninterpolateTruncation:iUe};function DO(e){return sUe(e)||aUe(e)||lK(e)||oUe()}function oUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sUe(e){if(Array.isArray(e))return LO(e)}function E_(e,t){return uUe(e)||cUe(e,t)||lK(e,t)||lUe()}function lUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(e,t){if(e){if(typeof e=="string")return LO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(e,t)}}function LO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cUe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(f){i=!0,o=f}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function uUe(e){if(Array.isArray(e))return e}function cK(e){var t=E_(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function uK(e,t,r){if(e.lte(0))return new xn(0);var n=hC.getDigitCount(e.toNumber()),i=new xn(10).pow(n),o=e.div(i),s=n!==1?.05:.1,a=new xn(Math.ceil(o.div(s).toNumber())).add(r).mul(s),f=a.mul(i);return t?f:new xn(Math.ceil(f))}function dUe(e,t,r){var n=1,i=new xn(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new xn(10).pow(hC.getDigitCount(e)-1),i=new xn(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new xn(Math.floor(e)))}else e===0?i=new xn(Math.floor((t-1)/2)):r||(i=new xn(Math.floor(e)));var s=Math.floor((t-1)/2),a=Q6e(J6e(function(f){return i.add(new xn(f-s).mul(n)).toNumber()}),RO);return a(0,t)}function dK(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xn(0),tickMin:new xn(0),tickMax:new xn(0)};var o=uK(new xn(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new xn(0):(s=new xn(e).add(t).div(2),s=s.sub(new xn(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new xn(t).sub(s).div(o).toNumber()),h=a+f+1;return h>r?dK(e,t,r,n,i+1):(h<r&&(f=t>0?f+(r-h):f,a=t>0?a:a+(r-h)),{step:o,tickMin:s.sub(new xn(a).mul(o)),tickMax:s.add(new xn(f).mul(o))})}function fUe(e){var t=E_(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=cK([r,n]),f=E_(a,2),h=f[0],g=f[1];if(h===-1/0||g===1/0){var y=g===1/0?[h].concat(DO(RO(0,i-1).map(function(){return 1/0}))):[].concat(DO(RO(0,i-1).map(function(){return-1/0})),[g]);return r>n?$O(y):y}if(h===g)return dUe(h,i,o);var x=dK(h,g,s,o),A=x.step,T=x.tickMin,w=x.tickMax,M=hC.rangeStep(T,w.add(new xn(.1).mul(A)),A);return r>n?$O(M):M}function hUe(e,t){var r=E_(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=cK([n,i]),a=E_(s,2),f=a[0],h=a[1];if(f===-1/0||h===1/0)return[n,i];if(f===h)return[f];var g=Math.max(t,2),y=uK(new xn(h).sub(f).div(g-1),o,0),x=[].concat(DO(hC.rangeStep(new xn(f),new xn(h).sub(new xn(.99).mul(y)),y)),[h]);return n>i?$O(x):x}var pUe=sK(fUe),mUe=sK(hUe),gUe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function yUe(e,t){return bUe(e)||xUe(e,t)||_Ue(e,t)||vUe()}function vUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ue(e,t){if(e){if(typeof e=="string")return a6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a6(e,t)}}function a6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function bUe(e){if(Array.isArray(e))return e}function wUe(e,t){if(e==null)return{};var r=SUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function vx(e){var t=e.offset,r=e.layout,n=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,f=e.yAxis,h=wUe(e,gUe),g=qr(h),y=o.map(function(x,A){var T=s(x,i),w=T.x,M=T.y,O=T.value,I=T.errorVal;if(!I)return null;var E=[],R,N;if(Array.isArray(I)){var D=yUe(I,2);R=D[0],N=D[1]}else R=N=I;if(r==="vertical"){var F=a.scale,q=M+t,J=q+n,Q=q-n,ae=F(O-R),he=F(O+N);E.push({x1:he,y1:J,x2:he,y2:Q}),E.push({x1:ae,y1:q,x2:he,y2:q}),E.push({x1:ae,y1:J,x2:ae,y2:Q})}else if(r==="horizontal"){var fe=f.scale,we=w+t,ge=we-n,Ce=we+n,Te=fe(O-R),Ee=fe(O+N);E.push({x1:ge,y1:Ee,x2:Ce,y2:Ee}),E.push({x1:we,y1:Te,x2:we,y2:Ee}),E.push({x1:ge,y1:Te,x2:Ce,y2:Te})}return De.createElement(Ii,kS({className:"recharts-errorBar",key:"bar-".concat(A)},g),E.map(function(Oe,qe){return De.createElement("line",kS({},Oe,{key:"line-".concat(qe)}))}))});return De.createElement(Ii,{className:"recharts-errorBars"},y)}vx.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};vx.displayName="ErrorBar";function C_(e){"@babel/helpers - typeof";return C_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C_(e)}function s6(e){return TUe(e)||kUe(e)||CUe(e)||EUe()}function EUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CUe(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function kUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TUe(e){if(Array.isArray(e))return NO(e)}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(n){jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jm(e,t,r){return t=PUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PUe(e){var t=AUe(e,"string");return C_(t)==="symbol"?t:String(t)}function AUe(e,t){if(C_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qa(e,t,r){return dr(e)||dr(t)?r:ji(t)?ks(e,t,r):hr(t)?t(e):r}function k0(e,t,r,n){var i=a4e(e,function(a){return Qa(a,t)});if(r==="number"){var o=i.filter(function(a){return Mt(a)||parseFloat(a)});return o.length?[oC(o),iC(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!dr(a)}):i;return s.map(function(a){return ji(a)||a instanceof Date?a:""})}var MUe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,y=i[h].coordinate,x=h>=a-1?i[0].coordinate:i[h+1].coordinate,A=void 0;if(xs(y-g)!==xs(x-y)){var T=[];if(xs(x-y)===xs(f[1]-f[0])){A=x;var w=y+f[1]-f[0];T[0]=Math.min(w,(w+g)/2),T[1]=Math.max(w,(w+g)/2)}else{A=g;var M=x+f[1]-f[0];T[0]=Math.min(y,(M+y)/2),T[1]=Math.max(y,(M+y)/2)}var O=[Math.min(y,(A+y)/2),Math.max(y,(A+y)/2)];if(t>O[0]&&t<=O[1]||t>=T[0]&&t<=T[1]){s=i[h].index;break}}else{var I=Math.min(g,x),E=Math.max(g,x);if(t>(I+y)/2&&t<=(E+y)/2){s=i[h].index;break}}}else for(var R=0;R<a;R++)if(R===0&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<a-1&&t>(n[R].coordinate+n[R-1].coordinate)/2&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R===a-1&&t>(n[R].coordinate+n[R-1].coordinate)/2){s=n[R].index;break}return s},RL=function(t){var r=t,n=r.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(n){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},fK=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Xc(r,pg);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(n||[]).reduce(function(f,h){var g=h.item,y=h.props,x=y.sectors||y.data||[];return f.concat(x.map(function(A){return{type:s.props.iconType||g.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):a=(n||[]).map(function(f){var h=f.item,g=h.props,y=g.dataKey,x=g.name,A=g.legendType,T=g.hide;return{inactive:T,dataKey:y,type:s.props.iconType||A||"square",color:RL(h),value:x||y,payload:h.props}}),ia(ia(ia({},s.props),pg.getWithHeight(s,i)),{},{payload:a,item:s})},OUe=function(t){var r=t.barSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},s=Object.keys(i),a=0,f=s.length;a<f;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),y=0,x=g.length;y<x;y++){var A=h[g[y]],T=A.items,w=A.cateAxisId,M=T.filter(function(E){return Ad(E.type).indexOf("Bar")>=0});if(M&&M.length){var O=M[0].props.barSize,I=M[0].props[w];o[I]||(o[I]=[]),o[I].push({item:M[0],stackList:M.slice(1),barSize:dr(O)?r:O})}}return o},IUe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,f=s.length;if(f<1)return null;var h=ug(r,i,0,!0),g;if(s[0].barSize===+s[0].barSize){var y=!1,x=i/f,A=s.reduce(function(E,R){return E+R.barSize||0},0);A+=(f-1)*h,A>=i&&(A-=(f-1)*h,h=0),A>=i&&x>0&&(y=!0,x*=.9,A=f*x);var T=(i-A)/2>>0,w={offset:T-h,size:0};g=s.reduce(function(E,R){var N=[].concat(s6(E),[{item:R.item,position:{offset:w.offset+w.size+h,size:y?x:R.barSize}}]);return w=N[N.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(D){N.push({item:D,position:w})}),N},[])}else{var M=ug(n,i,0,!0);i-2*M-(f-1)*h<=0&&(h=0);var O=(i-2*M-(f-1)*h)/f;O>1&&(O>>=0);var I=a===+a?Math.min(O,a):O;g=s.reduce(function(E,R,N){var D=[].concat(s6(E),[{item:R.item,position:{offset:M+(O+h)*N+(O-I)/2,size:I}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(F){D.push({item:F,position:D[D.length-1].position})}),D},[])}return g},RUe=function(t,r,n,i){var o=n.children,s=n.width,a=n.margin,f=s-(a.left||0)-(a.right||0),h=fK({children:o,legendWidth:f}),g=t;if(h){var y=i||{},x=h.align,A=h.verticalAlign,T=h.layout;(T==="vertical"||T==="horizontal"&&A==="middle")&&Mt(t[x])&&(g=ia(ia({},t),{},jm({},x,g[x]+(y.width||0)))),(T==="horizontal"||T==="vertical"&&x==="center")&&Mt(t[A])&&(g=ia(ia({},t),{},jm({},A,g[A]+(y.height||0))))}return g},$Ue=function(t,r,n){return dr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hK=function(t,r,n,i,o){var s=r.props.children,a=Ts(s,vx).filter(function(h){return $Ue(i,o,h.props.direction)});if(a&&a.length){var f=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var y=Qa(g,n,0),x=po(y)?[oC(y),iC(y)]:[y,y],A=f.reduce(function(T,w){var M=Qa(g,w,0),O=x[0]-Math.abs(po(M)?M[0]:M),I=x[1]+Math.abs(po(M)?M[1]:M);return[Math.min(O,T[0]),Math.max(I,T[1])]},[1/0,-1/0]);return[Math.min(A[0],h[0]),Math.max(A[1],h[1])]},[1/0,-1/0])}return null},DUe=function(t,r,n,i,o){var s=r.map(function(a){return hK(t,a,n,o,i)}).filter(function(a){return!dr(a)});return s&&s.length?s.reduce(function(a,f){return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]):null},pK=function(t,r,n,i,o){var s=r.map(function(f){var h=f.props.dataKey;return n==="number"&&h&&hK(t,f,h,i)||k0(t,h,n,o)});if(n==="number")return s.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(f,h){for(var g=0,y=h.length;g<y;g++)a[h[g]]||(a[h[g]]=!0,f.push(h[g]));return f},[])},mK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},c6=function(t,r,n){var i,o,s=t.map(function(a){return a.coordinate===r&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate});return i||s.push(r),o||s.push(n),s},ed=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?xs(a[0]-a[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(y){var x=o?o.indexOf(y):y;return{coordinate:i(x)+h,value:y,offset:h}});return g.filter(function(y){return!ux(y.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(y,x){return{coordinate:i(y)+h,value:y,index:x,offset:h}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,x){return{coordinate:i(y)+h,value:o?o[y]:y,index:x,offset:h}})},_1=function(t,r,n){var i;return hr(n)?i=n:hr(r)&&(i=r),hr(t)||i?function(o,s,a,f){hr(t)&&t(o,s,a,f),hr(i)&&i(o,s,a,f)}:null},LUe=function(t,r,n){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:v_(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:bS(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:C0(),realScaleType:"point"}:o==="category"?{scale:v_(),realScaleType:"band"}:{scale:bS(),realScaleType:"linear"};if(cx(i)){var f="scale".concat(JE(i));return{scale:(r6[f]||C0)(),realScaleType:r6[f]?f:"point"}}return hr(i)?{scale:i}:{scale:C0(),realScaleType:"point"}},u6=1e-4,NUe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-u6,s=Math.max(i[0],i[1])+u6,a=t(r[0]),f=t(r[n-1]);(a<o||a>s||f<o||f>s)&&t.domain([r[0],r[n-1]])}},zUe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},jUe=function(t,r){if(!r||r.length!==2||!Mt(r[0])||!Mt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Mt(t[0])||t[0]<n)&&(o[0]=n),(!Mt(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},BUe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var f=ux(t[a][n][1])?t[a][n][0]:t[a][n][1];f>=0?(t[a][n][0]=o,t[a][n][1]=o+f,o=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+f,s=t[a][n][1])}},FUe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=ux(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},UUe={sign:BUe,expand:yNe,none:dg,silhouette:vNe,wiggle:_Ne,positive:FUe},VUe=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),o=gNe().keys(i).value(function(s,a){return+Qa(s,a,0)}).order(rO).offset(UUe[n]);return o(t)},WUe=function(t,r,n,i,o,s){if(!t)return null;var a=s?r.reverse():r,f=a.reduce(function(h,g){var y=g.props,x=y.stackId,A=y.hide;if(A)return h;var T=g.props[n],w=h[T]||{hasStack:!1,stackGroups:{}};if(ji(x)){var M=w.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};M.items.push(g),w.hasStack=!0,w.stackGroups[x]=M}else w.stackGroups[dx("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return ia(ia({},h),{},jm({},T,w))},{});return Object.keys(f).reduce(function(h,g){var y=f[g];return y.hasStack&&(y.stackGroups=Object.keys(y.stackGroups).reduce(function(x,A){var T=y.stackGroups[A];return ia(ia({},x),{},jm({},A,{numericAxisId:n,cateAxisId:i,items:T.items,stackedData:VUe(t,T.items,o)}))},{})),ia(ia({},h),{},jm({},g,y))},{})},qUe=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,f=n||r.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=pUe(h,o,a);return t.domain([oC(g),iC(g)]),{niceTicks:g}}if(o&&i==="number"){var y=t.domain(),x=mUe(y,o,a);return{niceTicks:x}}return null},d6=function(t){var r=t.axis,n=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!dr(o[r.dataKey])){var f=Xw(n,"value",o[r.dataKey]);if(f)return f.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var h=Qa(o,dr(a)?r.dataKey:a);return dr(h)?null:r.scale(h)},f6=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var f=Qa(s,r.dataKey,r.domain[a]);return dr(f)?null:r.scale(f)-o/2+i},HUe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},GUe=function(t,r){var n=t.props.stackId;if(ji(n)){var i=r[n];if(i&&i.items.length){for(var o=-1,s=0,a=i.items.length;s<a;s++)if(i.items[s]===t){o=s;break}return o>=0?i.stackedData[o]:null}}return null},YUe=function(t){return t.reduce(function(r,n){return[oC(n.concat([r[0]]).filter(Mt)),iC(n.concat([r[1]]).filter(Mt))]},[1/0,-1/0])},gK=function(t,r,n){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,f=a.reduce(function(h,g){var y=YUe(g.slice(r,n+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},h6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zO=function(t,r,n){if(hr(t))return t(r,n);if(!po(t))return r;var i=[];if(Mt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(h6.test(t[0])){var o=+h6.exec(t[0])[1];i[0]=r[0]-o}else hr(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Mt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(p6.test(t[1])){var s=+p6.exec(t[1])[1];i[1]=r[1]+s}else hr(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},TS=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=lL(r,function(y){return y.coordinate}),s=1/0,a=1,f=o.length;a<f;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},m6=function(t,r,n){return!t||!t.length||cL(t,ks(n,"type.defaultProps.domain"))?r:t},yK=function(t,r){var n=t.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,f=n.tooltipType,h=n.chartType;return ia(ia({},qr(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:RL(t),value:Qa(r,i),type:f,payload:r,chartType:h})};function k_(e){"@babel/helpers - typeof";return k_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k_(e)}function g6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(r),!0).forEach(function(n){KUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KUe(e,t,r){return t=ZUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZUe(e){var t=XUe(e,"string");return k_(t)==="symbol"?t:String(t)}function XUe(e,t){if(k_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PS=Math.PI/180,JUe=function(t){return t*180/Math.PI},mo=function(t,r,n,i){return{x:t+Math.cos(-PS*i)*n,y:r+Math.sin(-PS*i)*n}},QUe=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},e8e=function(t,r){var n=t.x,i=t.y,o=r.cx,s=r.cy,a=QUe({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var f=(n-o)/a,h=Math.acos(f);return i>s&&(h=2*Math.PI-h),{radius:a,angle:JUe(h),angleInRadian:h}},t8e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},r8e=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},v6=function(t,r){var n=t.x,i=t.y,o=e8e({x:n,y:i},r),s=o.radius,a=o.angle,f=r.innerRadius,h=r.outerRadius;if(s<f||s>h)return!1;if(s===0)return!0;var g=t8e(r),y=g.startAngle,x=g.endAngle,A=a,T;if(y<=x){for(;A>x;)A-=360;for(;A<y;)A+=360;T=A>=y&&A<=x}else{for(;A>y;)A-=360;for(;A<x;)A+=360;T=A>=x&&A<=y}return T?y6(y6({},r),{},{radius:s,angle:r8e(A,r)}):null};function T_(e){"@babel/helpers - typeof";return T_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T_(e)}function n8e(e){return s8e(e)||a8e(e)||o8e(e)||i8e()}function i8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8e(e,t){if(e){if(typeof e=="string")return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(e,t)}}function a8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s8e(e){if(Array.isArray(e))return jO(e)}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(n){l8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8e(e,t,r){return t=c8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8e(e){var t=u8e(e,"string");return T_(t)==="symbol"?t:String(t)}function u8e(e,t){if(T_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(this,arguments)}var d8e=function(t){var r=t.value,n=t.formatter,i=dr(t.children)?r:t.children;return hr(n)?n(i):i},f8e=function(t,r){var n=xs(r-t),i=Math.min(Math.abs(r-t),360);return n*i},h8e=function(t,r,n){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,f=o,h=f.cx,g=f.cy,y=f.innerRadius,x=f.outerRadius,A=f.startAngle,T=f.endAngle,w=f.clockWise,M=(y+x)/2,O=f8e(A,T),I=O>=0?1:-1,E,R;i==="insideStart"?(E=A+I*s,R=w):i==="insideEnd"?(E=T-I*s,R=!w):i==="end"&&(E=T+I*s,R=w),R=O<=0?R:!R;var N=mo(h,g,M,E),D=mo(h,g,M,E+(R?1:-1)*359),F="M".concat(N.x,",").concat(N.y,`
    A`).concat(M,",").concat(M,",0,1,").concat(R?0:1,`,
    `).concat(D.x,",").concat(D.y),q=dr(t.id)?dx("recharts-radial-line-"):t.id;return De.createElement("text",P_({},n,{dominantBaseline:"central",className:wn("recharts-radial-bar-label",a)}),De.createElement("defs",null,De.createElement("path",{id:q,d:F})),De.createElement("textPath",{xlinkHref:"#".concat(q)},r))},p8e=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,s=o.cx,a=o.cy,f=o.innerRadius,h=o.outerRadius,g=o.startAngle,y=o.endAngle,x=(g+y)/2;if(i==="outside"){var A=mo(s,a,h+n,x),T=A.x,w=A.y;return{x:T,y:w,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var M=(f+h)/2,O=mo(s,a,M,x),I=O.x,E=O.y;return{x:I,y:E,textAnchor:"middle",verticalAnchor:"middle"}},m8e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,s=r,a=s.x,f=s.y,h=s.width,g=s.height,y=g>=0?1:-1,x=y*i,A=y>0?"end":"start",T=y>0?"start":"end",w=h>=0?1:-1,M=w*i,O=w>0?"end":"start",I=w>0?"start":"end";if(o==="top"){var E={x:a+h/2,y:f-y*i,textAnchor:"middle",verticalAnchor:A};return Zi(Zi({},E),n?{height:Math.max(f-n.y,0),width:h}:{})}if(o==="bottom"){var R={x:a+h/2,y:f+g+x,textAnchor:"middle",verticalAnchor:T};return Zi(Zi({},R),n?{height:Math.max(n.y+n.height-(f+g),0),width:h}:{})}if(o==="left"){var N={x:a-M,y:f+g/2,textAnchor:O,verticalAnchor:"middle"};return Zi(Zi({},N),n?{width:Math.max(N.x-n.x,0),height:g}:{})}if(o==="right"){var D={x:a+h+M,y:f+g/2,textAnchor:I,verticalAnchor:"middle"};return Zi(Zi({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:g}:{})}var F=n?{width:h,height:g}:{};return o==="insideLeft"?Zi({x:a+M,y:f+g/2,textAnchor:I,verticalAnchor:"middle"},F):o==="insideRight"?Zi({x:a+h-M,y:f+g/2,textAnchor:O,verticalAnchor:"middle"},F):o==="insideTop"?Zi({x:a+h/2,y:f+x,textAnchor:"middle",verticalAnchor:T},F):o==="insideBottom"?Zi({x:a+h/2,y:f+g-x,textAnchor:"middle",verticalAnchor:A},F):o==="insideTopLeft"?Zi({x:a+M,y:f+x,textAnchor:I,verticalAnchor:T},F):o==="insideTopRight"?Zi({x:a+h-M,y:f+x,textAnchor:O,verticalAnchor:T},F):o==="insideBottomLeft"?Zi({x:a+M,y:f+g-x,textAnchor:I,verticalAnchor:A},F):o==="insideBottomRight"?Zi({x:a+h-M,y:f+g-x,textAnchor:O,verticalAnchor:A},F):Kg(o)&&(Mt(o.x)||Gf(o.x))&&(Mt(o.y)||Gf(o.y))?Zi({x:a+ug(o.x,h),y:f+ug(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):Zi({x:a+h/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},g8e=function(t){return"cx"in t&&Mt(t.cx)};function ho(e){var t=e.viewBox,r=e.position,n=e.value,i=e.children,o=e.content,s=e.className,a=s===void 0?"":s,f=e.textBreakAll;if(!t||dr(n)&&dr(i)&&!V.isValidElement(o)&&!hr(o))return null;if(V.isValidElement(o))return V.cloneElement(o,e);var h;if(hr(o)){if(h=V.createElement(o,e),V.isValidElement(h))return h}else h=d8e(e);var g=g8e(t),y=qr(e,!0);if(g&&(r==="insideStart"||r==="insideEnd"||r==="end"))return h8e(e,h,y);var x=g?p8e(e):m8e(e);return De.createElement(y_,P_({className:wn("recharts-label",a)},y,x,{breakAll:f}),h)}ho.displayName="Label";ho.defaultProps={offset:5};var vK=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,f=t.radius,h=t.innerRadius,g=t.outerRadius,y=t.x,x=t.y,A=t.top,T=t.left,w=t.width,M=t.height,O=t.clockWise,I=t.labelViewBox;if(I)return I;if(Mt(w)&&Mt(M)){if(Mt(y)&&Mt(x))return{x:y,y:x,width:w,height:M};if(Mt(A)&&Mt(T))return{x:A,y:T,width:w,height:M}}return Mt(y)&&Mt(x)?{x:y,y:x,width:0,height:0}:Mt(r)&&Mt(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||f||a||0,clockWise:O}:t.viewBox?t.viewBox:{}},y8e=function(t,r){return t?t===!0?De.createElement(ho,{key:"label-implicit",viewBox:r}):ji(t)?De.createElement(ho,{key:"label-implicit",viewBox:r,value:t}):V.isValidElement(t)?t.type===ho?V.cloneElement(t,{key:"label-implicit",viewBox:r}):De.createElement(ho,{key:"label-implicit",content:t,viewBox:r}):hr(t)?De.createElement(ho,{key:"label-implicit",content:t,viewBox:r}):Kg(t)?De.createElement(ho,P_({viewBox:r},t,{key:"label-implicit"})):null:null},v8e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=vK(t),s=Ts(i,ho).map(function(f,h){return V.cloneElement(f,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return s;var a=y8e(t.label,r||o);return[a].concat(n8e(s))};ho.parseViewBox=vK;ho.renderCallByParent=v8e;function _8e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var x8e=_8e;const b8e=Jr(x8e);function A_(e){"@babel/helpers - typeof";return A_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A_(e)}var w8e=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function S8e(e){return T8e(e)||k8e(e)||C8e(e)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8e(e,t){if(e){if(typeof e=="string")return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}}function k8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T8e(e){if(Array.isArray(e))return BO(e)}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AS.apply(this,arguments)}function x6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(r),!0).forEach(function(n){P8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8e(e,t,r){return t=A8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A8e(e){var t=M8e(e,"string");return A_(t)==="symbol"?t:String(t)}function M8e(e,t){if(A_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O8e(e,t){if(e==null)return{};var r=I8e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var R8e={valueAccessor:function(t){return po(t.value)?b8e(t.value):t.value}};function ou(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,i=e.clockWise,o=e.id,s=e.textBreakAll,a=O8e(e,w8e);return!t||!t.length?null:De.createElement(Ii,{className:"recharts-label-list"},t.map(function(f,h){var g=dr(n)?r(f,h):Qa(f&&f.payload,n),y=dr(o)?{}:{id:"".concat(o,"-").concat(h)};return De.createElement(ho,AS({},qr(f,!0),a,y,{parentViewBox:f.parentViewBox,index:h,value:g,textBreakAll:s,viewBox:ho.parseViewBox(dr(i)?f:b6(b6({},f),{},{clockWise:i})),key:"label-".concat(h)}))}))}ou.displayName="LabelList";function $8e(e,t){return e?e===!0?De.createElement(ou,{key:"labelList-implicit",data:t}):De.isValidElement(e)||hr(e)?De.createElement(ou,{key:"labelList-implicit",data:t,content:e}):Kg(e)?De.createElement(ou,AS({data:t},e,{key:"labelList-implicit"})):null:null}function D8e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Ts(n,ou).map(function(s,a){return V.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!r)return i;var o=$8e(e.label,t);return[o].concat(S8e(i))}ou.renderCallByParent=D8e;ou.defaultProps=R8e;function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FO.apply(this,arguments)}var L8e=function(t,r){var n=xs(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},x1=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,g=f*(a?1:-1)+i,y=Math.asin(f/g)/PS,x=h?o:o+s*y,A=mo(r,n,g,x),T=mo(r,n,i,x),w=h?o-s*y:o,M=mo(r,n,g*Math.cos(y*PS),w);return{center:A,circleTangency:T,lineTangency:M,theta:y}},_K=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,f=L8e(s,a),h=s+f,g=mo(r,n,o,s),y=mo(r,n,o,h),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var A=mo(r,n,i,s),T=mo(r,n,i,h);x+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=h),`,
            `).concat(A.x,",").concat(A.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},N8e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,y=xs(g-h),x=x1({cx:r,cy:n,radius:o,angle:h,sign:y,cornerRadius:s,cornerIsExternal:f}),A=x.circleTangency,T=x.lineTangency,w=x.theta,M=x1({cx:r,cy:n,radius:o,angle:g,sign:-y,cornerRadius:s,cornerIsExternal:f}),O=M.circleTangency,I=M.lineTangency,E=M.theta,R=f?Math.abs(h-g):Math.abs(h-g)-w-E;if(R<0)return a?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_K({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var N="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(y<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var D=x1({cx:r,cy:n,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),F=D.circleTangency,q=D.lineTangency,J=D.theta,Q=x1({cx:r,cy:n,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),ae=Q.circleTangency,he=Q.lineTangency,fe=Q.theta,we=f?Math.abs(h-g):Math.abs(h-g)-J-fe;if(we<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(he.x,",").concat(he.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(ae.x,",").concat(ae.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(we>180),",").concat(+(y>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(q.x,",").concat(q.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},xK=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,y=t.className;if(o<i||h===g)return null;var x=wn("recharts-sector",y),A=o-i,T=ug(s,A,0,!0),w;return T>0&&Math.abs(h-g)<360?w=N8e({cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(T,A/2),forceCornerRadius:a,cornerIsExternal:f,startAngle:h,endAngle:g}):w=_K({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g}),De.createElement("path",FO({},qr(t,!0),{className:x,d:w,role:"img"}))};xK.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};function M_(e){"@babel/helpers - typeof";return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(e)}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UO.apply(this,arguments)}function w6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(r),!0).forEach(function(n){z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8e(e,t,r){return t=j8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8e(e){var t=B8e(e,"string");return M_(t)==="symbol"?t:String(t)}function B8e(e,t){if(M_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E6={curveBasisClosed:oNe,curveBasisOpen:aNe,curveBasis:iNe,curveBumpX:WLe,curveBumpY:qLe,curveLinearClosed:sNe,curveLinear:eC,curveMonotoneX:lNe,curveMonotoneY:cNe,curveNatural:uNe,curveStep:dNe,curveStepAfter:hNe,curveStepBefore:fNe},b1=function(t){return t.x===+t.x&&t.y===+t.y},jv=function(t){return t.x},Bv=function(t){return t.y},F8e=function(t,r){if(hr(t))return t;var n="curve".concat(JE(t));return(n==="curveMonotone"||n==="curveBump")&&r?E6["".concat(n).concat(r==="vertical"?"Y":"X")]:E6[n]||eC},U8e=function(t){var r=t.type,n=t.points,i=t.baseLine,o=t.layout,s=t.connectNulls,a=F8e(r,o),f=s?n.filter(function(x){return b1(x)}):n,h;if(po(i)){var g=s?i.filter(function(x){return b1(x)}):i,y=f.map(function(x,A){return S6(S6({},x),{},{base:g[A]})});return o==="vertical"?h=d1().y(Bv).x1(jv).x0(function(x){return x.base.x}):h=d1().x(jv).y1(Bv).y0(function(x){return x.base.y}),h.defined(b1).curve(a),h(y)}return o==="vertical"&&Mt(i)?h=d1().y(Bv).x1(jv).x0(i):Mt(i)?h=d1().x(jv).y1(Bv).y0(i):h=$G().x(jv).y(Bv),h.defined(b1).curve(a),h(f)},MS=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?U8e(t):i;return De.createElement("path",UO({},qr(t),Jw(t),{className:wn("recharts-curve",r),d:s,ref:o}))};MS.defaultProps={type:"linear",points:[],connectNulls:!1};function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}function V8e(e,t){return G8e(e)||H8e(e,t)||q8e(e,t)||W8e()}function W8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(e,t){if(e){if(typeof e=="string")return C6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C6(e,t)}}function C6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function G8e(e){if(Array.isArray(e))return e}var k6=function(t,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,f=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(s>0&&o instanceof Array){for(var y=[0,0,0,0],x=0,A=4;x<A;x++)y[x]=o[x]>s?s:o[x];g="M".concat(t,",").concat(r+a*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(t+f*y[0],",").concat(r)),g+="L ".concat(t+n-f*y[1],",").concat(r),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+a*y[1])),g+="L ".concat(t+n,",").concat(r+i-a*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(t+n-f*y[2],",").concat(r+i)),g+="L ".concat(t+f*y[3],",").concat(r+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-a*y[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var T=Math.min(s,o);g="M ".concat(t,",").concat(r+a*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t+f*T,",").concat(r,`
            L `).concat(t+n-f*T,",").concat(r,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t+n,",").concat(r+a*T,`
            L `).concat(t+n,",").concat(r+i-a*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t+n-f*T,",").concat(r+i,`
            L `).concat(t+f*T,",").concat(r+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t,",").concat(r+i-a*T," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},Y8e=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,s=r.y,a=r.width,f=r.height;if(Math.abs(a)>0&&Math.abs(f)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),y=Math.min(s,s+f),x=Math.max(s,s+f);return n>=h&&n<=g&&i>=y&&i<=x}return!1},pC=function(t){var r=V.useRef(),n=V.useState(-1),i=V8e(n,2),o=i[0],s=i[1];V.useLayoutEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var a=t.x,f=t.y,h=t.width,g=t.height,y=t.radius,x=t.className,A=t.animationEasing,T=t.animationDuration,w=t.animationBegin,M=t.isAnimationActive,O=t.isUpdateAnimationActive;if(a!==+a||f!==+f||h!==+h||g!==+g||h===0||g===0)return null;var I=wn("recharts-rectangle",x);return O?De.createElement(Eh,{canBegin:o>0,from:{width:h,height:g,x:a,y:f},to:{width:h,height:g,x:a,y:f},duration:T,animationEasing:A,isActive:O},function(E){var R=E.width,N=E.height,D=E.x,F=E.y;return De.createElement(Eh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:T,isActive:M,easing:A},De.createElement("path",OS({},qr(t,!0),{className:I,d:k6(D,F,R,N,y),ref:r})))}):De.createElement("path",OS({},qr(t,!0),{className:I,d:k6(a,f,h,g,y)}))};pC.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};function VO(){return VO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VO.apply(this,arguments)}var $L=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,s=wn("recharts-dot",o);return r===+r&&n===+n&&i===+i?De.createElement("circle",VO({},qr(t),Jw(t),{className:s,cx:r,cy:n,r:i})):null};function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}var K8e=function(t,r,n,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},bK=function(t){var r=t.x,n=t.y,i=t.width,o=t.height,s=t.top,a=t.left,f=t.className;return!Mt(r)||!Mt(n)||!Mt(i)||!Mt(o)||!Mt(s)||!Mt(a)?null:De.createElement("path",WO({},qr(t,!0),{className:wn("recharts-cross",f),d:K8e(r,n,i,o,s,a)}))};bK.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var Z8e=Math.ceil,X8e=Math.max;function J8e(e,t,r,n){for(var i=-1,o=X8e(Z8e((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}var Q8e=J8e,eVe=sY,T6=1/0,tVe=17976931348623157e292;function rVe(e){if(!e)return e===0?e:0;if(e=eVe(e),e===T6||e===-T6){var t=e<0?-1:1;return t*tVe}return e===e?e:0}var wK=rVe,nVe=Q8e,iVe=nC,WP=wK;function oVe(e){return function(t,r,n){return n&&typeof n!="number"&&iVe(t,r,n)&&(r=n=void 0),t=WP(t),r===void 0?(r=t,t=0):r=WP(r),n=n===void 0?t<r?1:-1:WP(n),nVe(t,r,n,e)}}var aVe=oVe,sVe=aVe,lVe=sVe(),cVe=lVe;const IS=Jr(cVe);function O_(e){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O_(e)}function P6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return t=uVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uVe(e){var t=dVe(e,"string");return O_(t)==="symbol"?t:String(t)}function dVe(e,t){if(O_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fVe=["Webkit","Moz","O","ms"],hVe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=fVe.reduce(function(o,s){return A6(A6({},o),{},SK({},s+n,r))},{});return i[t]=r,i};function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RS.apply(this,arguments)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function mVe(e,t,r){return t&&O6(e.prototype,t),r&&O6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qO(e,t)}function qO(e,t){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qO(e,t)}function yVe(e){var t=_Ve();return function(){var n=$S(e),i;if(t){var o=$S(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return vVe(this,i)}}function vVe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zl(e)}function zl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Ve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$S(e)}function ps(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=xVe(e,"string");return xg(t)==="symbol"?t:String(t)}function xVe(e,t){if(xg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bVe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!r||!r.length)return{};var f=r.length,h=C0().domain(IS(0,f)).range([o,o+s-a]),g=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},I6=function(t){return t.changedTouches&&!!t.changedTouches.length},I_=function(e){gVe(r,e);var t=yVe(r);function r(n){var i;return pVe(this,r),i=t.call(this,n),ps(zl(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),ps(zl(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),ps(zl(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()}),ps(zl(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),ps(zl(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),ps(zl(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),ps(zl(i),"handleSlideDragStart",function(o){var s=I6(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(zl(i),"startX"),endX:i.handleTravellerDragStart.bind(zl(i),"endX")},i.state={},i}return mVe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,f=this.props,h=f.gap,g=f.data,y=g.length-1,x=Math.min(o,s),A=Math.max(o,s),T=r.getIndexInRange(a,x),w=r.getIndexInRange(a,A);return{startIndex:T-T%h,endIndex:w===y?y:w-w%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,f=o.dataKey,h=Qa(s[i],f,i);return hr(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,f=o.endX,h=this.props,g=h.x,y=h.width,x=h.travellerWidth,A=h.startIndex,T=h.endIndex,w=h.onChange,M=i.pageX-s;M>0?M=Math.min(M,g+y-x-f,g+y-x-a):M<0&&(M=Math.max(M,g-a,g-f));var O=this.getIndex({startX:a+M,endX:f+M});(O.startIndex!==A||O.endIndex!==T)&&w&&w(O),this.setState({startX:a+M,endX:f+M,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=I6(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,f=s.movingTravellerId,h=s.endX,g=s.startX,y=this.state[f],x=this.props,A=x.x,T=x.width,w=x.travellerWidth,M=x.onChange,O=x.gap,I=x.data,E={startX:this.state.startX,endX:this.state.endX},R=i.pageX-a;R>0?R=Math.min(R,A+T-w-y):R<0&&(R=Math.max(R,A-y)),E[f]=y+R;var N=this.getIndex(E),D=N.startIndex,F=N.endIndex,q=function(){var Q=I.length-1;return f==="startX"&&(h>g?D%O===0:F%O===0)||h<g&&F===Q||f==="endX"&&(h>g?F%O===0:D%O===0)||h>g&&F===Q};this.setState((o={},ps(o,f,y+R),ps(o,"brushMoveStartX",i.pageX),o),function(){M&&q()&&M(N)})}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.fill,g=i.stroke;return De.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.data,g=i.children,y=i.padding,x=V.Children.only(g);return x?De.cloneElement(x,{x:o,y:s,width:a,height:f,margin:y,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this.props,a=s.y,f=s.travellerWidth,h=s.height,g=s.traveller,y=Math.max(i,this.props.x),x=qP(qP({},qr(this.props)),{},{x:y,y:a,width:f,height:h});return De.createElement(Ii,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],style:{cursor:"col-resize"}},r.renderTraveller(g,x))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,f=s.height,h=s.stroke,g=s.travellerWidth,y=Math.min(i,o)+g,x=Math.max(Math.abs(o-i)-g,0);return De.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:y,y:a,width:x,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,f=i.height,h=i.travellerWidth,g=i.stroke,y=this.state,x=y.startX,A=y.endX,T=5,w={pointerEvents:"none",fill:g};return De.createElement(Ii,{className:"recharts-brush-texts"},De.createElement(y_,RS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,A)-T,y:a+f/2},w),this.getTextOfTick(o)),De.createElement(y_,RS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,A)+h+T,y:a+f/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,f=i.x,h=i.y,g=i.width,y=i.height,x=i.alwaysShowText,A=this.state,T=A.startX,w=A.endX,M=A.isTextActive,O=A.isSlideMoving,I=A.isTravellerMoving;if(!o||!o.length||!Mt(f)||!Mt(h)||!Mt(g)||!Mt(y)||g<=0||y<=0)return null;var E=wn("recharts-brush",s),R=De.Children.count(a)===1,N=hVe("userSelect","none");return De.createElement(Ii,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(T,w),this.renderTravellerLayer(T,"startX"),this.renderTravellerLayer(w,"endX"),(M||O||I||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,f=i.height,h=i.stroke,g=Math.floor(s+f/2)-1;return De.createElement(De.Fragment,null,De.createElement("rect",{x:o,y:s,width:a,height:f,fill:h,stroke:"none"}),De.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),De.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return De.isValidElement(i)?s=De.cloneElement(i,o):hr(i)?s=i(o):s=r.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,f=i.x,h=i.travellerWidth,g=i.updateId,y=i.startIndex,x=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return qP({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a},s&&s.length?bVe({data:s,width:a,x:f,travellerWidth:h,startIndex:y,endIndex:x}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||f!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([f,f+a-h]);var A=o.scale.domain().map(function(T){return o.scale(T)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,f=s-1;f-a>1;){var h=Math.floor((a+f)/2);i[h]>o?f=h:a=h}return o>=i[f]?f:a}}]),r}(V.PureComponent);ps(I_,"displayName","Brush");ps(I_,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wVe=sL;function SVe(e,t){var r;return wVe(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var EVe=SVe,CVe=lG,kVe=Jd,TVe=EVe,PVe=ca,AVe=nC;function MVe(e,t,r){var n=PVe(e)?CVe:TVe;return r&&AVe(e,t,r)&&(t=void 0),n(e,kVe(t))}var OVe=MVe;const IVe=Jr(OVe);var ic=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r};function RVe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $Ve=RVe,DVe=sL;function LVe(e,t){var r=!0;return DVe(e,function(n,i,o){return r=!!t(n,i,o),r}),r}var NVe=LVe,zVe=$Ve,jVe=NVe,BVe=Jd,FVe=ca,UVe=nC;function VVe(e,t,r){var n=FVe(e)?zVe:jVe;return r&&UVe(e,t,r)&&(t=void 0),n(e,BVe(t))}var WVe=VVe;const CK=Jr(WVe);var R6=aY;function qVe(e,t,r){t=="__proto__"&&R6?R6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var HVe=qVe,GVe=HVe,YVe=iY,KVe=Jd;function ZVe(e,t){var r={};return t=KVe(t),YVe(e,function(n,i,o){GVe(r,i,t(n,i,o))}),r}var XVe=ZVe;const JVe=Jr(XVe);var QVe=["value","background"];function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function eWe(e,t){if(e==null)return{};var r=tWe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tWe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function HO(){return HO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HO.apply(this,arguments)}function $6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(r),!0).forEach(function(n){pd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kK(n.key),n)}}function nWe(e,t,r){return t&&D6(e.prototype,t),r&&D6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GO(e,t)}function GO(e,t){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GO(e,t)}function oWe(e){var t=sWe();return function(){var n=DS(e),i;if(t){var o=DS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return aWe(this,i)}}function aWe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0(e)}function t0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DS(e)}function pd(e,t,r){return t=kK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kK(e){var t=lWe(e,"string");return bg(t)==="symbol"?t:String(t)}function lWe(e,t){if(bg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mC=function(e){iWe(r,e);var t=oWe(r);function r(){var n;rWe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),pd(t0(n),"state",{isAnimationFinished:!1}),pd(t0(n),"id",dx("recharts-bar-")),pd(t0(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),pd(t0(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return nWe(r,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props.shape,a=qr(this.props);return i&&i.map(function(f,h){var g=Xi(Xi(Xi({},a),f),{},{index:h});return De.createElement(Ii,HO({className:"recharts-bar-rectangle"},Qw(o.props,f,h),{key:"rectangle-".concat(h)}),r.renderRectangle(s,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,f=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,y=o.animationEasing,x=o.animationId,A=this.state.prevData;return De.createElement(Eh,{begin:h,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var w=T.t,M=s.map(function(O,I){var E=A&&A[I];if(E){var R=sl(E.x,O.x),N=sl(E.y,O.y),D=sl(E.width,O.width),F=sl(E.height,O.height);return Xi(Xi({},O),{},{x:R(w),y:N(w),width:D(w),height:F(w)})}if(a==="horizontal"){var q=sl(0,O.height),J=q(w);return Xi(Xi({},O),{},{y:O.y+O.height-J,height:J})}var Q=sl(0,O.width),ae=Q(w);return Xi(Xi({},O),{},{width:ae})});return De.createElement(Ii,null,i.renderRectanglesStatically(M))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!cL(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props.data,s=qr(this.props.background);return o.map(function(a,f){a.value;var h=a.background,g=eWe(a,QVe);if(!h)return null;var y=Xi(Xi(Xi(Xi(Xi({},g),{},{fill:"#eee"},h),s),Qw(i.props,a,f)),{},{index:f,key:"background-bar-".concat(f),className:"recharts-bar-background-rectangle"});return r.renderRectangle(i.props.background,y)})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Ts(y,vx);if(!x)return null;var A=g==="vertical"?a[0].height/2:a[0].width/2,T=function(O,I){var E=Array.isArray(O.value)?O.value[1]:O.value;return{x:O.x,y:O.y,value:E,errorVal:Qa(O,I)}},w={clipPath:i?"url(#clipPath-".concat(o,")"):null};return De.createElement(Ii,w,x.map(function(M,O){return De.cloneElement(M,{key:"error-bar-".concat(O),data:a,xAxis:f,yAxis:h,layout:g,offset:A,dataPointFormatter:T})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,f=i.xAxis,h=i.yAxis,g=i.left,y=i.top,x=i.width,A=i.height,T=i.isAnimationActive,w=i.background,M=i.id;if(o||!s||!s.length)return null;var O=this.state.isAnimationFinished,I=wn("recharts-bar",a),E=f&&f.allowDataOverflow,R=h&&h.allowDataOverflow,N=E||R,D=dr(M)?this.id:M;return De.createElement(Ii,{className:I},E||R?De.createElement("defs",null,De.createElement("clipPath",{id:"clipPath-".concat(D)},De.createElement("rect",{x:E?g:g-x/2,y:R?y:y-A/2,width:E?x:x*2,height:R?A:A*2}))):null,De.createElement(Ii,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(D,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,D),(!T||O)&&ou.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}},{key:"renderRectangle",value:function(i,o){var s;return De.isValidElement(i)?s=De.cloneElement(i,o):hr(i)?s=i(o):s=De.createElement(pC,o),s}}]),r}(V.PureComponent);pd(mC,"displayName","Bar");pd(mC,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!nu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pd(mC,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,y=e.displayedData,x=e.offset,A=zUe(n,r);if(!A)return null;var T=t.layout,w=r.props,M=w.dataKey,O=w.children,I=w.minPointSize,E=T==="horizontal"?s:o,R=h?E.scale.domain():null,N=HUe({numericAxis:E}),D=Ts(O,uY),F=y.map(function(q,J){var Q,ae,he,fe,we,ge;if(h?Q=jUe(h[g+J],R):(Q=Qa(q,M),po(Q)||(Q=[N,Q])),T==="horizontal"){var Ce,Te=[s.scale(Q[0]),s.scale(Q[1])],Ee=Te[0],Oe=Te[1];ae=f6({axis:o,ticks:a,bandSize:i,offset:A.offset,entry:q,index:J}),he=(Ce=Oe??Ee)!==null&&Ce!==void 0?Ce:void 0,fe=A.size;var qe=Ee-Oe;if(we=Number.isNaN(qe)?0:qe,ge={x:ae,y:s.y,width:fe,height:s.height},Math.abs(I)>0&&Math.abs(we)<Math.abs(I)){var rt=xs(we||I)*(Math.abs(I)-Math.abs(we));he-=rt,we+=rt}}else{var Pe=[o.scale(Q[0]),o.scale(Q[1])],je=Pe[0],Le=Pe[1];if(ae=je,he=f6({axis:s,ticks:f,bandSize:i,offset:A.offset,entry:q,index:J}),fe=Le-je,we=A.size,ge={x:o.x,y:he,width:o.width,height:we},Math.abs(I)>0&&Math.abs(fe)<Math.abs(I)){var Ye=xs(fe||I)*(Math.abs(I)-Math.abs(fe));fe+=Ye}}return Xi(Xi(Xi({},q),{},{x:ae,y:he,width:fe,height:we,value:h?Q:Q[1],payload:q,background:ge},D&&D[J]&&D[J].props),{},{tooltipPayload:[yK(r,q)],tooltipPosition:{x:ae+fe/2,y:he+we/2}})});return Xi({data:F,layout:T},x)});function R_(e){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(e)}function cWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TK(n.key),n)}}function uWe(e,t,r){return t&&L6(e.prototype,t),r&&L6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(n){gC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gC(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=dWe(e,"string");return R_(t)==="symbol"?t:String(t)}function dWe(e,t){if(R_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fWe=function(t,r,n,i,o){var s=t.width,a=t.height,f=t.layout,h=t.children,g=Object.keys(r),y={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},x=!!Xc(h,mC);return g.reduce(function(A,T){var w=r[T],M=w.orientation,O=w.domain,I=w.padding,E=I===void 0?{}:I,R=w.mirror,N=w.reversed,D="".concat(M).concat(R?"Mirror":""),F,q,J,Q,ae;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var he=O[1]-O[0],fe=1/0,we=w.categoricalDomain.sort();we.forEach(function(Le,Ye){Ye>0&&(fe=Math.min((Le||0)-(we[Ye-1]||0),fe))});var ge=fe/he,Ce=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(F=ge*Ce/2),w.padding==="no-gap"){var Te=ug(t.barCategoryGap,ge*Ce),Ee=ge*Ce/2;F=Ee-Te-(Ee-Te)/Ce*Te}}i==="xAxis"?q=[n.left+(E.left||0)+(F||0),n.left+n.width-(E.right||0)-(F||0)]:i==="yAxis"?q=f==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(F||0),n.top+n.height-(E.bottom||0)-(F||0)]:q=w.range,N&&(q=[q[1],q[0]]);var Oe=LUe(w,o,x),qe=Oe.scale,rt=Oe.realScaleType;qe.domain(O).range(q),NUe(qe);var Pe=qUe(qe,il(il({},w),{},{realScaleType:rt}));i==="xAxis"?(ae=M==="top"&&!R||M==="bottom"&&R,J=n.left,Q=y[D]-ae*w.height):i==="yAxis"&&(ae=M==="left"&&!R||M==="right"&&R,J=y[D]-ae*w.width,Q=n.top);var je=il(il(il({},w),Pe),{},{realScaleType:rt,x:J,y:Q,scale:qe,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return je.bandSize=TS(je,Pe),!w.hide&&i==="xAxis"?y[D]+=(ae?-1:1)*je.height:w.hide||(y[D]+=(ae?-1:1)*je.width),il(il({},A),{},gC({},T,je))},{})},PK=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},hWe=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return PK({x:r,y:n},{x:i,y:o})},AK=function(){function e(t){cWe(this,e),this.scale=t}return uWe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+f}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}]),e}();gC(AK,"EPS",1e-4);var DL=function(t){var r=Object.keys(t).reduce(function(n,i){return il(il({},n),{},gC({},i,AK.create(t[i])))},{});return il(il({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return JVe(i,function(f,h){return r[h].apply(f,{bandAware:s,position:a})})},isInRange:function(i){return CK(i,function(o,s){return r[s].isInRange(o)})}})};function pWe(e){return(e%180+180)%180}var mWe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=pWe(i),s=o*Math.PI/180,a=Math.atan(n/r),f=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(f)};function $_(e){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$_(e)}function z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(r),!0).forEach(function(n){gWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gWe(e,t,r){return t=yWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yWe(e){var t=vWe(e,"string");return $_(t)==="symbol"?t:String(t)}function vWe(e,t){if($_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _We(e,t){return SWe(e)||wWe(e,t)||bWe(e,t)||xWe()}function xWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bWe(e,t){if(e){if(typeof e=="string")return B6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B6(e,t)}}function B6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function SWe(e){if(Array.isArray(e))return e}function YO(){return YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YO.apply(this,arguments)}var EWe=function(t,r){var n;return De.isValidElement(t)?n=De.cloneElement(t,r):hr(t)?n=t(r):n=De.createElement("line",YO({},r,{className:"recharts-reference-line-line"})),n},CWe=function(t,r,n,i,o){var s=o.viewBox,a=s.x,f=s.y,h=s.width,g=s.height,y=o.position;if(n){var x=o.y,A=o.yAxis.orientation,T=t.y.apply(x,{position:y});if(ic(o,"discard")&&!t.y.isInRange(T))return null;var w=[{x:a+h,y:T},{x:a,y:T}];return A==="left"?w.reverse():w}if(r){var M=o.x,O=o.xAxis.orientation,I=t.x.apply(M,{position:y});if(ic(o,"discard")&&!t.x.isInRange(I))return null;var E=[{x:I,y:f+g},{x:I,y:f}];return O==="top"?E.reverse():E}if(i){var R=o.segment,N=R.map(function(D){return t.apply(D,{position:y})});return ic(o,"discard")&&IVe(N,function(D){return!t.isInRange(D)})?null:N}return null};function LL(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,f=e.alwaysShow,h=e.clipPathId;Nm(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=DL({x:i.scale,y:o.scale}),y=ji(t),x=ji(r),A=n&&n.length===2,T=CWe(g,y,x,A,e);if(!T)return null;var w=_We(T,2),M=w[0],O=M.x,I=M.y,E=w[1],R=E.x,N=E.y,D=ic(e,"hidden")?"url(#".concat(h,")"):void 0,F=j6(j6({clipPath:D},qr(e,!0)),{},{x1:O,y1:I,x2:R,y2:N});return De.createElement(Ii,{className:wn("recharts-reference-line",a)},EWe(s,F),ho.renderCallByParent(e,hWe({x1:O,y1:I,x2:R,y2:N})))}LL.displayName="ReferenceLine";LL.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function D_(e){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(e)}function KO(){return KO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KO.apply(this,arguments)}function F6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(r),!0).forEach(function(n){kWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kWe(e,t,r){return t=TWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TWe(e){var t=PWe(e,"string");return D_(t)==="symbol"?t:String(t)}function PWe(e,t){if(D_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AWe=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,s=DL({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return ic(t,"discard")&&!s.isInRange(a)?null:a};function _x(e){var t=e.x,r=e.y,n=e.r,i=e.alwaysShow,o=e.clipPathId,s=ji(t),a=ji(r);if(Nm(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var f=AWe(e);if(!f)return null;var h=f.x,g=f.y,y=e.shape,x=e.className,A=ic(e,"hidden")?"url(#".concat(o,")"):void 0,T=U6(U6({clipPath:A},qr(e,!0)),{},{cx:h,cy:g});return De.createElement(Ii,{className:wn("recharts-reference-dot",x)},_x.renderDot(y,T),ho.renderCallByParent(e,{x:h-n,y:g-n,width:2*n,height:2*n}))}_x.displayName="ReferenceDot";_x.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};_x.renderDot=function(e,t){var r;return De.isValidElement(e)?r=De.cloneElement(e,t):hr(e)?r=e(t):r=De.createElement($L,KO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function L_(e){"@babel/helpers - typeof";return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L_(e)}function ZO(){return ZO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZO.apply(this,arguments)}function V6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(r),!0).forEach(function(n){MWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MWe(e,t,r){return t=OWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OWe(e){var t=IWe(e,"string");return L_(t)==="symbol"?t:String(t)}function IWe(e,t){if(L_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RWe=function(t,r,n,i,o){var s=o.x1,a=o.x2,f=o.y1,h=o.y2,g=o.xAxis,y=o.yAxis;if(!g||!y)return null;var x=DL({x:g.scale,y:y.scale}),A={x:t?x.x.apply(s,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(f,{position:"start"}):x.y.rangeMin},T={x:r?x.x.apply(a,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return ic(o,"discard")&&(!x.isInRange(A)||!x.isInRange(T))?null:PK(A,T)};function xx(e){var t=e.x1,r=e.x2,n=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;Nm(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ji(t),h=ji(r),g=ji(n),y=ji(i),x=e.shape;if(!f&&!h&&!g&&!y&&!x)return null;var A=RWe(f,h,g,y,e);if(!A&&!x)return null;var T=ic(e,"hidden")?"url(#".concat(a,")"):void 0;return De.createElement(Ii,{className:wn("recharts-reference-area",o)},xx.renderRect(x,W6(W6({clipPath:T},qr(e,!0)),A)),ho.renderCallByParent(e,A))}xx.displayName="ReferenceArea";xx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};xx.renderRect=function(e,t){var r;return De.isValidElement(e)?r=De.cloneElement(e,t):hr(e)?r=e(t):r=De.createElement(pC,ZO({},t,{className:"recharts-reference-area-rect"})),r};function XO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function N_(e){"@babel/helpers - typeof";return N_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N_(e)}function q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(r),!0).forEach(function(n){$We(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $We(e,t,r){return t=DWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DWe(e){var t=LWe(e,"string");return N_(t)==="symbol"?t:String(t)}function LWe(e,t){if(N_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NWe(e){for(var t=1,r=XO(e,t,function(n){return n.isShow});t<=e.length;){if(r!==void 0)return r;t++,r=XO(e,t,function(n){return n.isShow})}return e.slice(0,1)}function zWe(e,t){return XO(e,t+1)}function JO(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mWe(n,r)}function jWe(e){var t=e.angle,r=e.ticks,n=e.tickFormatter,i=e.viewBox,o=e.orientation,s=e.minTickGap,a=e.unit,f=e.fontSize,h=e.letterSpacing,g=i.x,y=i.y,x=i.width,A=i.height,T=o==="top"||o==="bottom"?"width":"height",w=a&&T==="width"?Gl(a,{fontSize:f,letterSpacing:h}):{width:0,height:0},M=(r||[]).slice(),O=M.length,I=O>=2?xs(M[1].coordinate-M[0].coordinate):1,E,R;I===1?(E=T==="width"?g:y,R=T==="width"?g+x:y+A):(E=T==="width"?g+x:y+A,R=T==="width"?g:y);for(var N=O-1;N>=0;N--){var D=M[N],F=hr(n)?n(D.value,O-N-1):D.value,q=T==="width"?JO(Gl(F,{fontSize:f,letterSpacing:h}),w,t):Gl(F,{fontSize:f,letterSpacing:h})[T];if(N===O-1){var J=I*(D.coordinate+I*q/2-R);M[N]=D=Do(Do({},D),{},{tickCoord:J>0?D.coordinate-J*I:D.coordinate})}else M[N]=D=Do(Do({},D),{},{tickCoord:D.coordinate});var Q=I*(D.tickCoord-I*q/2-E)>=0&&I*(D.tickCoord+I*q/2-R)<=0;Q&&(R=D.tickCoord-I*(q/2+s),M[N]=Do(Do({},D),{},{isShow:!0}))}return M}function H6(e,t){var r=e.angle,n=e.ticks,i=e.tickFormatter,o=e.viewBox,s=e.orientation,a=e.minTickGap,f=e.unit,h=e.fontSize,g=e.letterSpacing,y=o.x,x=o.y,A=o.width,T=o.height,w=s==="top"||s==="bottom"?"width":"height",M=(n||[]).slice(),O=f&&w==="width"?Gl(f,{fontSize:h,letterSpacing:g}):{width:0,height:0},I=M.length,E=I>=2?xs(M[1].coordinate-M[0].coordinate):1,R,N;if(E===1?(R=w==="width"?y:x,N=w==="width"?y+A:x+T):(R=w==="width"?y+A:x+T,N=w==="width"?y:x),t){var D=n[I-1],F=hr(i)?i(D.value,I-1):D.value,q=w==="width"?JO(Gl(F,{fontSize:h,letterSpacing:g}),O,r):Gl(F,{fontSize:h,letterSpacing:g})[w],J=E*(D.coordinate+E*q/2-N);M[I-1]=D=Do(Do({},D),{},{tickCoord:J>0?D.coordinate-J*E:D.coordinate});var Q=E*(D.tickCoord-E*q/2-R)>=0&&E*(D.tickCoord+E*q/2-N)<=0;Q&&(N=D.tickCoord-E*(q/2+a),M[I-1]=Do(Do({},D),{},{isShow:!0}))}for(var ae=t?I-1:I,he=0;he<ae;he++){var fe=M[he],we=hr(i)?i(fe.value,he):fe.value,ge=w==="width"?JO(Gl(we,{fontSize:h,letterSpacing:g}),O,r):Gl(we,{fontSize:h,letterSpacing:g})[w];if(he===0){var Ce=E*(fe.coordinate-E*ge/2-R);M[he]=fe=Do(Do({},fe),{},{tickCoord:Ce<0?fe.coordinate-Ce*E:fe.coordinate})}else M[he]=fe=Do(Do({},fe),{},{tickCoord:fe.coordinate});var Te=E*(fe.tickCoord-E*ge/2-R)>=0&&E*(fe.tickCoord+E*ge/2-N)<=0;Te&&(R=fe.tickCoord+E*(ge/2+a),M[he]=Do(Do({},fe),{},{isShow:!0}))}return M}function QO(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,f=e.interval,h=e.tickFormatter,g=e.unit,y=e.angle;if(!i||!i.length||!n)return[];if(Mt(f)||nu.isSsr)return zWe(i,typeof f=="number"&&Mt(f)?f:0);var x=[];return f==="equidistantPreserveStart"?(x=H6({angle:y,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r}),NWe(x)):(f==="preserveStart"||f==="preserveStartEnd"?x=H6({angle:y,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r},f==="preserveStartEnd"):x=jWe({angle:y,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r}),x.filter(function(A){return A.isShow}))}var BWe=["viewBox"],FWe=["viewBox"],UWe=["ticks"];function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}function G6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(r),!0).forEach(function(n){NL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HP(e,t){if(e==null)return{};var r=VWe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VWe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function WWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MK(n.key),n)}}function qWe(e,t,r){return t&&Y6(e.prototype,t),r&&Y6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eI(e,t)}function eI(e,t){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eI(e,t)}function GWe(e){var t=ZWe();return function(){var n=LS(e),i;if(t){var o=LS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return YWe(this,i)}}function YWe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KWe(e)}function KWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LS(e)}function NL(e,t,r){return t=MK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=XWe(e,"string");return wg(t)==="symbol"?t:String(t)}function XWe(e,t){if(wg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T0=function(e){HWe(r,e);var t=GWe(r);function r(n){var i;return WWe(this,r),i=t.call(this,n),i.state={fontSize:"",letterSpacing:""},i}return qWe(r,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=HP(i,BWe),f=this.props,h=f.viewBox,g=HP(f,FWe);return!Lm(s,h)||!Lm(a,g)||!Lm(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,f=o.width,h=o.height,g=o.orientation,y=o.tickSize,x=o.mirror,A=o.tickMargin,T,w,M,O,I,E,R=x?-1:1,N=i.tickSize||y,D=Mt(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":T=w=i.coordinate,O=a+ +!x*h,M=O-R*N,E=M-R*A,I=D;break;case"left":M=O=i.coordinate,w=s+ +!x*f,T=w-R*N,I=T-R*A,E=D;break;case"right":M=O=i.coordinate,w=s+ +x*f,T=w+R*N,I=T+R*A,E=D;break;default:T=w=i.coordinate,O=a+ +x*h,M=O+R*N,E=M+R*A,I=D;break}return{line:{x1:T,y1:M,x2:w,y2:O},tick:{x:I,y:E}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.orientation,g=i.mirror,y=i.axisLine,x=ta(ta(ta({},qr(this.props)),qr(y)),{},{fill:"none"});if(h==="top"||h==="bottom"){var A=+(h==="top"&&!g||h==="bottom"&&g);x=ta(ta({},x),{},{x1:o,y1:s+A*f,x2:o+a,y2:s+A*f})}else{var T=+(h==="left"&&!g||h==="right"&&g);x=ta(ta({},x),{},{x1:o+T*a,y1:s,x2:o+T*a,y2:s+f})}return De.createElement("line",gm({},x,{className:wn("recharts-cartesian-axis-line",ks(y,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,f=this.props,h=f.tickLine,g=f.stroke,y=f.tick,x=f.tickFormatter,A=f.unit,T=QO(ta(ta({},this.props),{},{ticks:i}),o,s),w=this.getTickTextAnchor(),M=this.getTickVerticalAnchor(),O=qr(this.props),I=qr(y),E=ta(ta({},O),{},{fill:"none"},qr(h)),R=T.map(function(N,D){var F=a.getTickLineCoord(N),q=F.line,J=F.tick,Q=ta(ta(ta(ta({textAnchor:w,verticalAnchor:M},O),{},{stroke:"none",fill:g},I),J),{},{index:D,payload:N,visibleTicksCount:T.length,tickFormatter:x});return De.createElement(Ii,gm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D)},Qw(a.props,N,D)),h&&De.createElement("line",gm({},E,q,{className:wn("recharts-cartesian-axis-tick-line",ks(h,"className"))})),y&&r.renderTickItem(y,Q,"".concat(hr(x)?x(N.value,D):N.value).concat(A||"")))});return De.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,f=o.height,h=o.ticksGenerator,g=o.className,y=o.hide;if(y)return null;var x=this.props,A=x.ticks,T=HP(x,UWe),w=A;return hr(h)&&(w=A&&A.length>0?h(this.props):h(T)),a<=0||f<=0||!w||!w.length?null:De.createElement(Ii,{className:wn("recharts-cartesian-axis",g),ref:function(O){i.layerReference=O}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),ho.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return De.isValidElement(i)?a=De.cloneElement(i,o):hr(i)?a=i(o):a=De.createElement(y_,gm({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),r}(V.Component);NL(T0,"displayName","CartesianAxis");NL(T0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var JWe=["x1","y1","x2","y2","key"];function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function tI(){return tI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tI.apply(this,arguments)}function QWe(e,t){if(e==null)return{};var r=e9e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e9e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function K6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(r),!0).forEach(function(n){zL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OK(n.key),n)}}function r9e(e,t,r){return t&&Z6(e.prototype,t),r&&Z6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rI(e,t)}function rI(e,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rI(e,t)}function i9e(e){var t=s9e();return function(){var n=NS(e),i;if(t){var o=NS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return o9e(this,i)}}function o9e(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a9e(e)}function a9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function NS(e){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NS(e)}function zL(e,t,r){return t=OK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=l9e(e,"string");return Sg(t)==="symbol"?t:String(t)}function l9e(e,t){if(Sg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jL=function(e){n9e(r,e);var t=i9e(r);function r(){return t9e(this,r),t.apply(this,arguments)}return r9e(r,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,f=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(y,x){var A=w1(w1({},o.props),{},{x1:a,y1:y,x2:a+f,y2:y,key:"line-".concat(x),index:x});return r.renderLineItem(h,A)});return De.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,f=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(y,x){var A=w1(w1({},o.props),{},{x1:y,y1:a,x2:y,y2:a+f,key:"line-".concat(x),index:x});return r.renderLineItem(h,A)});return De.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,x=i.map(function(T){return Math.round(T+f-f)}).sort(function(T,w){return T-w});f!==x[0]&&x.unshift(0);var A=x.map(function(T,w){var M=!x[w+1],O=M?f+g-T:x[w+1]-T;if(O<=0)return null;var I=w%o.length;return De.createElement("rect",{key:"react-".concat(w),x:T,y:h,width:O,height:y,stroke:"none",fill:o[I],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return De.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,x=i.map(function(T){return Math.round(T+h-h)}).sort(function(T,w){return T-w});h!==x[0]&&x.unshift(0);var A=x.map(function(T,w){var M=!x[w+1],O=M?h+y-T:x[w+1]-T;if(O<=0)return null;var I=w%o.length;return De.createElement("rect",{key:"react-".concat(w),y:T,x:f,height:O,width:g,stroke:"none",fill:o[I],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return De.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,f=o.y,h=o.width,g=o.height;return De.createElement("rect",{x:a,y:f,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.horizontal,g=i.vertical,y=i.horizontalCoordinatesGenerator,x=i.verticalCoordinatesGenerator,A=i.xAxis,T=i.yAxis,w=i.offset,M=i.chartWidth,O=i.chartHeight;if(!Mt(a)||a<=0||!Mt(f)||f<=0||!Mt(o)||o!==+o||!Mt(s)||s!==+s)return null;var I=this.props,E=I.horizontalPoints,R=I.verticalPoints;return(!E||!E.length)&&hr(y)&&(E=y({yAxis:T,width:M,height:O,offset:w})),(!R||!R.length)&&hr(x)&&(R=x({xAxis:A,width:M,height:O,offset:w})),De.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(E),g&&this.renderVertical(R),h&&this.renderHorizontalStripes(E),g&&this.renderVerticalStripes(R))}}],[{key:"renderLineItem",value:function(i,o){var s;if(De.isValidElement(i))s=De.cloneElement(i,o);else if(hr(i))s=i(o);else{var a=o.x1,f=o.y1,h=o.x2,g=o.y2,y=o.key,x=QWe(o,JWe);s=De.createElement("line",tI({},qr(x),{x1:a,y1:f,x2:h,y2:g,fill:"none",key:y}))}return s}}]),r}(V.PureComponent);zL(jL,"displayName","CartesianGrid");zL(jL,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var c9e=["type","layout","connectNulls","ref"];function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function u9e(e,t){if(e==null)return{};var r=d9e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d9e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){Ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wp(e){return m9e(e)||p9e(e)||h9e(e)||f9e()}function f9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9e(e,t){if(e){if(typeof e=="string")return nI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nI(e,t)}}function p9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m9e(e){if(Array.isArray(e))return nI(e)}function nI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IK(n.key),n)}}function y9e(e,t,r){return t&&J6(e.prototype,t),r&&J6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iI(e,t)}function iI(e,t){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iI(e,t)}function _9e(e){var t=b9e();return function(){var n=zS(e),i;if(t){var o=zS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return x9e(this,i)}}function x9e(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lf(e)}function Lf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zS(e)}function Ul(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=w9e(e,"string");return Eg(t)==="symbol"?t:String(t)}function w9e(e,t){if(Eg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cg=function(e){v9e(r,e);var t=_9e(r);function r(){var n;g9e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ul(Lf(n),"state",{isAnimationFinished:!0,totalLength:0}),Ul(Lf(n),"getStrokeDasharray",function(a,f,h){for(var g=h.reduce(function(I,E){return I+E}),y=Math.floor(a/g),x=a%g,A=f-a,T=[],w=0,M=0;;M+=h[w],++w)if(M+h[w]>x){T=[].concat(Wp(h.slice(0,w)),[x-M]);break}var O=T.length%2===0?[0,A]:[A];return[].concat(Wp(r.repeat(h,y)),Wp(T),O).map(function(I){return"".concat(I,"px")}).join(", ")}),Ul(Lf(n),"id",dx("recharts-line-")),Ul(Lf(n),"pathRef",function(a){n.mainCurve=a}),Ul(Lf(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ul(Lf(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return y9e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Ts(y,vx);if(!x)return null;var A=function(M,O){return{x:M.x,y:M.y,value:M.value,errorVal:Qa(M.payload,O)}},T={clipPath:i?"url(#clipPath-".concat(o,")"):null};return De.createElement(Ii,T,x.map(function(w,M){return De.cloneElement(w,{key:"bar-".concat(M),data:a,xAxis:f,yAxis:h,layout:g,dataPointFormatter:A})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var f=this.props,h=f.dot,g=f.points,y=f.dataKey,x=qr(this.props),A=qr(h,!0),T=g.map(function(M,O){var I=ja(ja(ja({key:"dot-".concat(O),r:3},x),A),{},{value:M.value,dataKey:y,cx:M.x,cy:M.y,index:O,payload:M.payload});return r.renderDotItem(h,I)}),w={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return De.createElement(Ii,P0({className:"recharts-line-dots",key:"dots"},w),T)}},{key:"renderCurveStatically",value:function(i,o,s,a){var f=this.props,h=f.type,g=f.layout,y=f.connectNulls;f.ref;var x=u9e(f,c9e),A=ja(ja(ja({},qr(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:y});return De.createElement(MS,P0({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,f=a.points,h=a.strokeDasharray,g=a.isAnimationActive,y=a.animationBegin,x=a.animationDuration,A=a.animationEasing,T=a.animationId,w=a.animateNewValues,M=a.width,O=a.height,I=this.state,E=I.prevPoints,R=I.totalLength;return De.createElement(Eh,{begin:y,duration:x,isActive:g,easing:A,from:{t:0},to:{t:1},key:"line-".concat(T),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var D=N.t;if(E){var F=E.length/f.length,q=f.map(function(fe,we){var ge=Math.floor(we*F);if(E[ge]){var Ce=E[ge],Te=sl(Ce.x,fe.x),Ee=sl(Ce.y,fe.y);return ja(ja({},fe),{},{x:Te(D),y:Ee(D)})}if(w){var Oe=sl(M*2,fe.x),qe=sl(O/2,fe.y);return ja(ja({},fe),{},{x:Oe(D),y:qe(D)})}return ja(ja({},fe),{},{x:fe.x,y:fe.y})});return s.renderCurveStatically(q,i,o)}var J=sl(0,R),Q=J(D),ae;if(h){var he="".concat(h).split(/[,\s]+/gim).map(function(fe){return parseFloat(fe)});ae=s.getStrokeDasharray(Q,R,he)}else ae="".concat(Q,"px ").concat(R-Q,"px");return s.renderCurveStatically(f,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,f=s.isAnimationActive,h=this.state,g=h.prevPoints,y=h.totalLength;return f&&a&&a.length&&(!g&&y>0||!cL(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,f=o.points,h=o.className,g=o.xAxis,y=o.yAxis,x=o.top,A=o.left,T=o.width,w=o.height,M=o.isAnimationActive,O=o.id;if(s||!f||!f.length)return null;var I=this.state.isAnimationFinished,E=f.length===1,R=wn("recharts-line",h),N=g&&g.allowDataOverflow,D=y&&y.allowDataOverflow,F=N||D,q=dr(O)?this.id:O,J=(i=qr(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},Q=J.r,ae=Q===void 0?3:Q,he=J.strokeWidth,fe=he===void 0?2:he,we=pMe(a)?a:{},ge=we.clipDot,Ce=ge===void 0?!0:ge,Te=ae*2+fe;return De.createElement(Ii,{className:R},N||D?De.createElement("defs",null,De.createElement("clipPath",{id:"clipPath-".concat(q)},De.createElement("rect",{x:N?A:A-T/2,y:D?x:x-w/2,width:N?T:T*2,height:D?w:w*2})),!Ce&&De.createElement("clipPath",{id:"clipPath-dots-".concat(q)},De.createElement("rect",{x:A-Te/2,y:x-Te/2,width:T+Te,height:w+Te}))):null,!E&&this.renderCurve(F,q),this.renderErrorBar(F,q),(E||a)&&this.renderDots(F,Ce,q),(!M||I)&&ou.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(Wp(i),[0]):i,a=[],f=0;f<o;++f)a=[].concat(Wp(a),Wp(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(De.isValidElement(i))s=De.cloneElement(i,o);else if(hr(i))s=i(o);else{var a=wn("recharts-line-dot",i?i.className:"");s=De.createElement($L,P0({},o,{className:a}))}return s}}]),r}(V.PureComponent);Ul(Cg,"displayName","Line");Ul(Cg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!nu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ul(Cg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,f=e.displayedData,h=e.offset,g=t.layout,y=f.map(function(x,A){var T=Qa(x,s);return g==="horizontal"?{x:d6({axis:r,ticks:i,bandSize:a,entry:x,index:A}),y:dr(T)?null:n.scale(T),value:T,payload:x}:{x:dr(T)?null:r.scale(T),y:d6({axis:n,ticks:o,bandSize:a,entry:x,index:A}),value:T,payload:x}});return ja({points:y,layout:g},h)});var yC=function(){return null};yC.displayName="XAxis";yC.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var vC=function(){return null};vC.displayName="YAxis";vC.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var S9e=Jd,E9e=fx,C9e=XE;function k9e(e){return function(t,r,n){var i=Object(t);if(!E9e(t)){var o=S9e(r);t=C9e(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var T9e=k9e,P9e=wK;function A9e(e){var t=P9e(e),r=t%1;return t===t?r?t-r:t:0}var M9e=A9e,O9e=bG,I9e=Jd,R9e=M9e,$9e=Math.max;function D9e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:R9e(r);return i<0&&(i=$9e(n+i,0)),O9e(e,I9e(t),i)}var L9e=D9e,N9e=T9e,z9e=L9e,j9e=N9e(z9e),B9e=j9e;const F9e=Jr(B9e);var U9e=Zd,V9e=Xd,W9e="[object Boolean]";function q9e(e){return e===!0||e===!1||V9e(e)&&U9e(e)==W9e}var H9e=q9e;const G9e=Jr(H9e);function Q6(e){return X9e(e)||Z9e(e)||K9e(e)||Y9e()}function Y9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9e(e,t){if(e){if(typeof e=="string")return oI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(e,t)}}function Z9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X9e(e){if(Array.isArray(e))return oI(e)}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aI=function(t,r,n,i,o){var s=Ts(t,LL),a=Ts(t,_x),f=[].concat(Q6(s),Q6(a)),h=Ts(t,xx),g="".concat(i,"Id"),y=i[0],x=r;if(f.length&&(x=f.reduce(function(w,M){if(M.props[g]===n&&ic(M.props,"extendDomain")&&Mt(M.props[y])){var O=M.props[y];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},x)),h.length){var A="".concat(y,"1"),T="".concat(y,"2");x=h.reduce(function(w,M){if(M.props[g]===n&&ic(M.props,"extendDomain")&&Mt(M.props[A])&&Mt(M.props[T])){var O=M.props[A],I=M.props[T];return[Math.min(w[0],O,I),Math.max(w[1],O,I)]}return w},x)}return o&&o.length&&(x=o.reduce(function(w,M){return Mt(M)?[Math.min(w[0],M),Math.max(w[1],M)]:w},x)),x},RK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,y,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var A=new i(g,y||f,x),T=r?r+h:h;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],A]:f._events[T].push(A):(f._events[T]=A,f._eventsCount++),f}function s(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,y;if(this._eventsCount===0)return h;for(y in g=this._events)t.call(g,y)&&h.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=r?r+h:h,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,A=y.length,T=new Array(A);x<A;x++)T[x]=y[x].fn;return T},a.prototype.listenerCount=function(h){var g=r?r+h:h,y=this._events[g];return y?y.fn?1:y.length:0},a.prototype.emit=function(h,g,y,x,A,T){var w=r?r+h:h;if(!this._events[w])return!1;var M=this._events[w],O=arguments.length,I,E;if(M.fn){switch(M.once&&this.removeListener(h,M.fn,void 0,!0),O){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,g),!0;case 3:return M.fn.call(M.context,g,y),!0;case 4:return M.fn.call(M.context,g,y,x),!0;case 5:return M.fn.call(M.context,g,y,x,A),!0;case 6:return M.fn.call(M.context,g,y,x,A,T),!0}for(E=1,I=new Array(O-1);E<O;E++)I[E-1]=arguments[E];M.fn.apply(M.context,I)}else{var R=M.length,N;for(E=0;E<R;E++)switch(M[E].once&&this.removeListener(h,M[E].fn,void 0,!0),O){case 1:M[E].fn.call(M[E].context);break;case 2:M[E].fn.call(M[E].context,g);break;case 3:M[E].fn.call(M[E].context,g,y);break;case 4:M[E].fn.call(M[E].context,g,y,x);break;default:if(!I)for(N=1,I=new Array(O-1);N<O;N++)I[N-1]=arguments[N];M[E].fn.apply(M[E].context,I)}}return!0},a.prototype.on=function(h,g,y){return o(this,h,g,y,!1)},a.prototype.once=function(h,g,y){return o(this,h,g,y,!0)},a.prototype.removeListener=function(h,g,y,x){var A=r?r+h:h;if(!this._events[A])return this;if(!g)return s(this,A),this;var T=this._events[A];if(T.fn)T.fn===g&&(!x||T.once)&&(!y||T.context===y)&&s(this,A);else{for(var w=0,M=[],O=T.length;w<O;w++)(T[w].fn!==g||x&&!T[w].once||y&&T[w].context!==y)&&M.push(T[w]);M.length?this._events[A]=M.length===1?M[0]:M:s(this,A)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&s(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(RK);var J9e=RK.exports;const Q9e=Jr(J9e);var Ba=new Q9e;Ba.setMaxListeners&&Ba.setMaxListeners(10);var GP="recharts.syncMouseEvents";function z_(e){"@babel/helpers - typeof";return z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z_(e)}function e7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$K(n.key),n)}}function t7e(e,t,r){return t&&eU(e.prototype,t),r&&eU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YP(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=r7e(e,"string");return z_(t)==="symbol"?t:String(t)}function r7e(e,t){if(z_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n7e=function(){function e(){e7e(this,e),YP(this,"activeIndex",0),YP(this,"coordinateList",[]),YP(this,"layout","horizontal")}return t7e(e,[{key:"setDetails",value:function(r){var n=r.coordinateList,i=n===void 0?[]:n,o=r.container,s=o===void 0?null:o,a=r.layout,f=a===void 0?null:a,h=r.offset,g=h===void 0?null:h,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),n=r.x,i=r.y,o=this.coordinateList[this.activeIndex].coordinate,s=n+o,a=i+this.offset.top;this.mouseHandlerCallback({pageX:s,pageY:a})}}}]),e}(),i7e=["item"],o7e=["children","className","width","height","style","compact","title","desc"];function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function tU(e,t){return l7e(e)||s7e(e,t)||DK(e,t)||a7e()}function a7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],f=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function l7e(e){if(Array.isArray(e))return e}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function rU(e,t){if(e==null)return{};var r=c7e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c7e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function u7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LK(n.key),n)}}function d7e(e,t,r){return t&&nU(e.prototype,t),r&&nU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sI(e,t)}function sI(e,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sI(e,t)}function h7e(e){var t=m7e();return function(){var n=jS(e),i;if(t){var o=jS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return p7e(this,i)}}function p7e(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}function $r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jS(e){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jS(e)}function Tg(e){return v7e(e)||y7e(e)||DK(e)||g7e()}function g7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return lI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(e,t)}}function y7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v7e(e){if(Array.isArray(e))return lI(e)}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(r),!0).forEach(function(n){ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ur(e,t,r){return t=LK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=_7e(e,"string");return kg(t)==="symbol"?t:String(t)}function _7e(e,t){if(kg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x7e={xAxis:["bottom","top"],yAxis:["left","right"]},NK={x:0,y:0},b7e=Number.isFinite?Number.isFinite:isFinite,oU=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,aU=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,w7e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},S7e=function(t,r,n,i){var o=r.find(function(g){return g&&g.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return dt(dt(dt({},i),mo(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var f=o.coordinate,h=i.angle;return dt(dt(dt({},i),mo(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return NK},_C=function(t,r,n){var i=r.graphicalItems,o=r.dataStartIndex,s=r.dataEndIndex,a=(i||[]).reduce(function(f,h){var g=h.props.data;return g&&g.length?[].concat(Tg(f),Tg(g)):f},[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:t&&t.length&&Mt(o)&&Mt(s)?t.slice(o,s+1):[]};function E7e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Mt(n)&&Mt(i))return!0}return!1}function zK(e){return e==="number"?[0,"auto"]:void 0}var jK=function(t,r,n,i){var o=t.graphicalItems,s=t.tooltipAxis,a=_C(r,t);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(f,h){var g=h.props.hide;if(g)return f;var y=h.props.data,x;if(s.dataKey&&!s.allowDuplicatedCategory){var A=y===void 0?a:y;x=Xw(A,s.dataKey,i)}else x=y&&y[n]||a[n];return x?[].concat(Tg(f),[yK(h,x)]):f},[])},sU=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},s=w7e(o,n),a=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,g=MUe(s,a,h,f);if(g>=0&&h){var y=h[g]&&h[g].value,x=jK(t,r,g,y),A=S7e(n,a,g,o);return{activeTooltipIndex:g,activeLabel:y,activePayload:x,activeCoordinate:A}}return null},C7e=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,f=r.dataStartIndex,h=r.dataEndIndex,g=t.layout,y=t.children,x=t.stackOffset,A=mK(g,o),T=n.reduce(function(w,M){var O,I=M.props,E=I.type,R=I.dataKey,N=I.allowDataOverflow,D=I.allowDuplicatedCategory,F=I.scale,q=I.ticks,J=I.includeHidden,Q=M.props[s];if(w[Q])return w;var ae=_C(t.data,{graphicalItems:i.filter(function(je){return je.props[s]===Q}),dataStartIndex:f,dataEndIndex:h}),he=ae.length,fe,we,ge;E7e(M.props.domain,N,E)&&(fe=zO(M.props.domain,null,N),A&&(E==="number"||F!=="auto")&&(ge=k0(ae,R,"category")));var Ce=zK(E);if(!fe||fe.length===0){var Te,Ee=(Te=M.props.domain)!==null&&Te!==void 0?Te:Ce;if(R){if(fe=k0(ae,R,E),E==="category"&&A){var Oe=oMe(fe);D&&Oe?(we=fe,fe=IS(0,he)):D||(fe=m6(Ee,fe,M).reduce(function(je,Le){return je.indexOf(Le)>=0?je:[].concat(Tg(je),[Le])},[]))}else if(E==="category")D?fe=fe.filter(function(je){return je!==""&&!dr(je)}):fe=m6(Ee,fe,M).reduce(function(je,Le){return je.indexOf(Le)>=0||Le===""||dr(Le)?je:[].concat(Tg(je),[Le])},[]);else if(E==="number"){var qe=DUe(ae,i.filter(function(je){return je.props[s]===Q&&(J||!je.props.hide)}),R,o,g);qe&&(fe=qe)}A&&(E==="number"||F!=="auto")&&(ge=k0(ae,R,"category"))}else A?fe=IS(0,he):a&&a[Q]&&a[Q].hasStack&&E==="number"?fe=x==="expand"?[0,1]:gK(a[Q].stackGroups,f,h):fe=pK(ae,i.filter(function(je){return je.props[s]===Q&&(J||!je.props.hide)}),E,g,!0);if(E==="number")fe=aI(y,fe,Q,o,q),Ee&&(fe=zO(Ee,fe,N));else if(E==="category"&&Ee){var rt=Ee,Pe=fe.every(function(je){return rt.indexOf(je)>=0});Pe&&(fe=rt)}}return dt(dt({},w),{},ur({},Q,dt(dt({},M.props),{},{axisType:o,domain:fe,categoricalDomain:ge,duplicateDomain:we,originalDomain:(O=M.props.domain)!==null&&O!==void 0?O:Ce,isCategorical:A,layout:g})))},{});return T},k7e=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,f=r.dataStartIndex,h=r.dataEndIndex,g=t.layout,y=t.children,x=_C(t.data,{graphicalItems:n,dataStartIndex:f,dataEndIndex:h}),A=x.length,T=mK(g,o),w=-1,M=n.reduce(function(O,I){var E=I.props[s],R=zK("number");if(!O[E]){w++;var N;return T?N=IS(0,A):a&&a[E]&&a[E].hasStack?(N=gK(a[E].stackGroups,f,h),N=aI(y,N,E,o)):(N=zO(R,pK(x,n.filter(function(D){return D.props[s]===E&&!D.props.hide}),"number",g),i.defaultProps.allowDataOverflow),N=aI(y,N,E,o)),dt(dt({},O),{},ur({},E,dt(dt({axisType:o},i.defaultProps),{},{hide:!0,orientation:ks(x7e,"".concat(o,".").concat(w%2),null),domain:N,originalDomain:R,isCategorical:T,layout:g})))}return O},{});return M},T7e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,f=r.dataStartIndex,h=r.dataEndIndex,g=t.children,y="".concat(i,"Id"),x=Ts(g,o),A={};return x&&x.length?A=C7e(t,{axes:x,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h}):s&&s.length&&(A=k7e(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h})),A},P7e=function(t){var r=Qu(t),n=ed(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lL(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:TS(r,n)}},lU=function(t){var r,n,i=t.children,o=t.defaultShowTooltip,s=Xc(i,I_),a=s&&s.props&&s.props.startIndex||0,f=(s==null||(r=s.props)===null||r===void 0?void 0:r.endIndex)!==void 0?s==null||(n=s.props)===null||n===void 0?void 0:n.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:f,activeTooltipIndex:-1,isTooltipActive:dr(o)?!1:o}},A7e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ad(r&&r.type);return n&&n.indexOf("Bar")>=0})},cU=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},M7e=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,f=a===void 0?{}:a,h=n.width,g=n.height,y=n.children,x=n.margin||{},A=Xc(y,I_),T=Xc(y,pg),w=Object.keys(f).reduce(function(E,R){var N=f[R],D=N.orientation;return!N.mirror&&!N.hide?dt(dt({},E),{},ur({},D,E[D]+N.width)):E},{left:x.left||0,right:x.right||0}),M=Object.keys(s).reduce(function(E,R){var N=s[R],D=N.orientation;return!N.mirror&&!N.hide?dt(dt({},E),{},ur({},D,ks(E,"".concat(D))+N.height)):E},{top:x.top||0,bottom:x.bottom||0}),O=dt(dt({},M),w),I=O.bottom;return A&&(O.bottom+=A.props.height||I_.defaultProps.height),T&&r&&(O=RUe(O,i,n,r)),dt(dt({brushBottom:I},O),{},{width:h-O.left-O.right,height:g-O.top-O.bottom})},O7e=function(t){var r,n=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,f=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,y=t.formatAxisMap,x=t.defaultProps,A=function(M,O){var I=O.graphicalItems,E=O.stackGroups,R=O.offset,N=O.updateId,D=O.dataStartIndex,F=O.dataEndIndex,q=M.barSize,J=M.layout,Q=M.barGap,ae=M.barCategoryGap,he=M.maxBarSize,fe=cU(J),we=fe.numericAxisName,ge=fe.cateAxisName,Ce=A7e(I),Te=Ce&&OUe({barSize:q,stackGroups:E}),Ee=[];return I.forEach(function(Oe,qe){var rt=_C(M.data,{dataStartIndex:D,dataEndIndex:F},Oe),Pe=Oe.props,je=Pe.dataKey,Le=Pe.maxBarSize,Ye=Oe.props["".concat(we,"Id")],Be=Oe.props["".concat(ge,"Id")],lt=h.reduce(function(pr,Sr){var cr,Er=O["".concat(Sr.axisType,"Map")],un=Oe.props["".concat(Sr.axisType,"Id")],ut=Er&&Er[un];return dt(dt({},pr),{},(cr={},ur(cr,Sr.axisType,ut),ur(cr,"".concat(Sr.axisType,"Ticks"),ed(ut)),cr))},{}),it=lt[ge],Ve=lt["".concat(ge,"Ticks")],Xe=E&&E[Ye]&&E[Ye].hasStack&&GUe(Oe,E[Ye].stackGroups),ct=Ad(Oe.type).indexOf("Bar")>=0,Fe=TS(it,Ve),Me=[];if(ct){var Et,Zt,Ot=dr(Le)?he:Le,jt=(Et=(Zt=TS(it,Ve,!0))!==null&&Zt!==void 0?Zt:Ot)!==null&&Et!==void 0?Et:0;Me=IUe({barGap:Q,barCategoryGap:ae,bandSize:jt!==Fe?jt:Fe,sizeList:Te[Be],maxBarSize:Ot}),jt!==Fe&&(Me=Me.map(function(pr){return dt(dt({},pr),{},{position:dt(dt({},pr.position),{},{offset:pr.position.offset-jt/2})})}))}var Mr=Oe&&Oe.type&&Oe.type.getComposedData;if(Mr){var Hr;Ee.push({props:dt(dt({},Mr(dt(dt({},lt),{},{displayedData:rt,props:M,dataKey:je,item:Oe,bandSize:Fe,barPosition:Me,offset:R,stackedData:Xe,layout:J,dataStartIndex:D,dataEndIndex:F}))),{},(Hr={key:Oe.key||"item-".concat(qe)},ur(Hr,we,lt[we]),ur(Hr,ge,lt[ge]),ur(Hr,"animationId",N),Hr)),childIndex:yMe(Oe,M.children),item:Oe})}}),Ee},T=function(M,O){var I=M.props,E=M.dataStartIndex,R=M.dataEndIndex,N=M.updateId;if(!GB({props:I}))return null;var D=I.children,F=I.layout,q=I.stackOffset,J=I.data,Q=I.reverseStackOrder,ae=cU(F),he=ae.numericAxisName,fe=ae.cateAxisName,we=Ts(D,i),ge=WUe(J,we,"".concat(he,"Id"),"".concat(fe,"Id"),q,Q),Ce=h.reduce(function(rt,Pe){var je="".concat(Pe.axisType,"Map");return dt(dt({},rt),{},ur({},je,T7e(I,dt(dt({},Pe),{},{graphicalItems:we,stackGroups:Pe.axisType===he&&ge,dataStartIndex:E,dataEndIndex:R}))))},{}),Te=M7e(dt(dt({},Ce),{},{props:I,graphicalItems:we}),O==null?void 0:O.legendBBox);Object.keys(Ce).forEach(function(rt){Ce[rt]=y(I,Ce[rt],Te,rt.replace("Map",""),n)});var Ee=Ce["".concat(fe,"Map")],Oe=P7e(Ee),qe=A(I,dt(dt({},Ce),{},{dataStartIndex:E,dataEndIndex:R,updateId:N,graphicalItems:we,stackGroups:ge,offset:Te}));return dt(dt({formattedGraphicalItems:qe,graphicalItems:we,offset:Te,stackGroups:ge},Oe),Ce)};return r=function(w){f7e(O,w);var M=h7e(O);function O(I){var E;return u7e(this,O),E=M.call(this,I),ur($r(E),"accessibilityManager",new n7e),ur($r(E),"clearDeferId",function(){!dr(E.deferId)&&aU&&aU(E.deferId),E.deferId=null}),ur($r(E),"handleLegendBBoxUpdate",function(R){if(R){var N=E.state,D=N.dataStartIndex,F=N.dataEndIndex,q=N.updateId;E.setState(dt({legendBBox:R},T({props:E.props,dataStartIndex:D,dataEndIndex:F,updateId:q},dt(dt({},E.state),{},{legendBBox:R}))))}}),ur($r(E),"handleReceiveSyncEvent",function(R,N,D){var F=E.props.syncId;F===R&&N!==E.uniqueChartId&&(E.clearDeferId(),E.deferId=oU&&oU(E.applySyncEvent.bind($r(E),D)))}),ur($r(E),"handleBrushChange",function(R){var N=R.startIndex,D=R.endIndex;if(N!==E.state.dataStartIndex||D!==E.state.dataEndIndex){var F=E.state.updateId;E.setState(function(){return dt({dataStartIndex:N,dataEndIndex:D},T({props:E.props,dataStartIndex:N,dataEndIndex:D,updateId:F},E.state))}),E.triggerSyncEvent({dataStartIndex:N,dataEndIndex:D})}}),ur($r(E),"handleMouseEnter",function(R){var N=E.props.onMouseEnter,D=E.getMouseInfo(R);if(D){var F=dt(dt({},D),{},{isTooltipActive:!0});E.setState(F),E.triggerSyncEvent(F),hr(N)&&N(F,R)}}),ur($r(E),"triggeredAfterMouseMove",function(R){var N=E.props.onMouseMove,D=E.getMouseInfo(R),F=D?dt(dt({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(F),E.triggerSyncEvent(F),hr(N)&&N(F,R)}),ur($r(E),"handleItemMouseEnter",function(R){E.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),ur($r(E),"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ur($r(E),"handleMouseMove",function(R){R&&hr(R.persist)&&R.persist(),E.triggeredAfterMouseMove(R)}),ur($r(E),"handleMouseLeave",function(R){var N=E.props.onMouseLeave,D={isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D),hr(N)&&N(D,R),E.cancelThrottledTriggerAfterMouseMove()}),ur($r(E),"handleOuterEvent",function(R){var N=gMe(R),D=ks(E.props,"".concat(N));if(N&&hr(D)){var F;/.*touch.*/i.test(N)?F=E.getMouseInfo(R.changedTouches[0]):F=E.getMouseInfo(R);var q=D;q(F,R)}}),ur($r(E),"handleClick",function(R){var N=E.props.onClick,D=E.getMouseInfo(R);if(D){var F=dt(dt({},D),{},{isTooltipActive:!0});E.setState(F),E.triggerSyncEvent(F),hr(N)&&N(F,R)}}),ur($r(E),"handleMouseDown",function(R){var N=E.props.onMouseDown;if(hr(N)){var D=E.getMouseInfo(R);N(D,R)}}),ur($r(E),"handleMouseUp",function(R){var N=E.props.onMouseUp;if(hr(N)){var D=E.getMouseInfo(R);N(D,R)}}),ur($r(E),"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&E.handleMouseMove(R.changedTouches[0])}),ur($r(E),"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&E.handleMouseDown(R.changedTouches[0])}),ur($r(E),"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&E.handleMouseUp(R.changedTouches[0])}),ur($r(E),"verticalCoordinatesGenerator",function(R){var N=R.xAxis,D=R.width,F=R.height,q=R.offset;return c6(QO(dt(dt(dt({},T0.defaultProps),N),{},{ticks:ed(N,!0),viewBox:{x:0,y:0,width:D,height:F}})),q.left,q.left+q.width)}),ur($r(E),"horizontalCoordinatesGenerator",function(R){var N=R.yAxis,D=R.width,F=R.height,q=R.offset;return c6(QO(dt(dt(dt({},T0.defaultProps),N),{},{ticks:ed(N,!0),viewBox:{x:0,y:0,width:D,height:F}})),q.top,q.top+q.height)}),ur($r(E),"axesTicksGenerator",function(R){return ed(R,!0)}),ur($r(E),"renderCursor",function(R){var N=E.state,D=N.isTooltipActive,F=N.activeCoordinate,q=N.activePayload,J=N.offset,Q=N.activeTooltipIndex,ae=E.getTooltipEventType();if(!R||!R.props.cursor||!D||!F||n!=="ScatterChart"&&ae!=="axis")return null;var he=E.props.layout,fe,we=MS;if(n==="ScatterChart")fe=F,we=bK;else if(n==="BarChart")fe=E.getCursorRectangle(),we=pC;else if(he==="radial"){var ge=E.getCursorPoints(),Ce=ge.cx,Te=ge.cy,Ee=ge.radius,Oe=ge.startAngle,qe=ge.endAngle;fe={cx:Ce,cy:Te,startAngle:Oe,endAngle:qe,innerRadius:Ee,outerRadius:Ee},we=xK}else fe={points:E.getCursorPoints()},we=MS;var rt=R.key||"_recharts-cursor",Pe=dt(dt(dt(dt({stroke:"#ccc",pointerEvents:"none"},J),fe),qr(R.props.cursor)),{},{payload:q,payloadIndex:Q,key:rt,className:"recharts-tooltip-cursor"});return V.isValidElement(R.props.cursor)?V.cloneElement(R.props.cursor,Pe):V.createElement(we,Pe)}),ur($r(E),"renderPolarAxis",function(R,N,D){var F=ks(R,"type.axisType"),q=ks(E.state,"".concat(F,"Map")),J=q&&q[R.props["".concat(F,"Id")]];return V.cloneElement(R,dt(dt({},J),{},{className:F,key:R.key||"".concat(N,"-").concat(D),ticks:ed(J,!0)}))}),ur($r(E),"renderXAxis",function(R,N,D){var F=E.state.xAxisMap,q=F[R.props.xAxisId];return E.renderAxis(q,R,N,D)}),ur($r(E),"renderYAxis",function(R,N,D){var F=E.state.yAxisMap,q=F[R.props.yAxisId];return E.renderAxis(q,R,N,D)}),ur($r(E),"renderGrid",function(R){var N=E.state,D=N.xAxisMap,F=N.yAxisMap,q=N.offset,J=E.props,Q=J.width,ae=J.height,he=Qu(D),fe=F9e(F,function(Ce){return CK(Ce.domain,b7e)}),we=fe||Qu(F),ge=R.props||{};return V.cloneElement(R,{key:R.key||"grid",x:Mt(ge.x)?ge.x:q.left,y:Mt(ge.y)?ge.y:q.top,width:Mt(ge.width)?ge.width:q.width,height:Mt(ge.height)?ge.height:q.height,xAxis:he,yAxis:we,offset:q,chartWidth:Q,chartHeight:ae,verticalCoordinatesGenerator:ge.verticalCoordinatesGenerator||E.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:ge.horizontalCoordinatesGenerator||E.horizontalCoordinatesGenerator})}),ur($r(E),"renderPolarGrid",function(R){var N=R.props,D=N.radialLines,F=N.polarAngles,q=N.polarRadius,J=E.state,Q=J.radiusAxisMap,ae=J.angleAxisMap,he=Qu(Q),fe=Qu(ae),we=fe.cx,ge=fe.cy,Ce=fe.innerRadius,Te=fe.outerRadius;return V.cloneElement(R,{polarAngles:po(F)?F:ed(fe,!0).map(function(Ee){return Ee.coordinate}),polarRadius:po(q)?q:ed(he,!0).map(function(Ee){return Ee.coordinate}),cx:we,cy:ge,innerRadius:Ce,outerRadius:Te,key:R.key||"polar-grid",radialLines:D})}),ur($r(E),"renderLegend",function(){var R=E.state.formattedGraphicalItems,N=E.props,D=N.children,F=N.width,q=N.height,J=E.props.margin||{},Q=F-(J.left||0)-(J.right||0),ae=fK({children:D,formattedGraphicalItems:R,legendWidth:Q,legendContent:g});if(!ae)return null;var he=ae.item,fe=rU(ae,i7e);return V.cloneElement(he,dt(dt({},fe),{},{chartWidth:F,chartHeight:q,margin:J,ref:function(ge){E.legendInstance=ge},onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ur($r(E),"renderTooltip",function(){var R=E.props.children,N=Xc(R,Yf);if(!N)return null;var D=E.state,F=D.isTooltipActive,q=D.activeCoordinate,J=D.activePayload,Q=D.activeLabel,ae=D.offset;return V.cloneElement(N,{viewBox:dt(dt({},ae),{},{x:ae.left,y:ae.top}),active:F,label:Q,payload:F?J:[],coordinate:q})}),ur($r(E),"renderBrush",function(R){var N=E.props,D=N.margin,F=N.data,q=E.state,J=q.offset,Q=q.dataStartIndex,ae=q.dataEndIndex,he=q.updateId;return V.cloneElement(R,{key:R.key||"_recharts-brush",onChange:_1(E.handleBrushChange,null,R.props.onChange),data:F,x:Mt(R.props.x)?R.props.x:J.left,y:Mt(R.props.y)?R.props.y:J.top+J.height+J.brushBottom-(D.bottom||0),width:Mt(R.props.width)?R.props.width:J.width,startIndex:Q,endIndex:ae,updateId:"brush-".concat(he)})}),ur($r(E),"renderReferenceElement",function(R,N,D){if(!R)return null;var F=$r(E),q=F.clipPathId,J=E.state,Q=J.xAxisMap,ae=J.yAxisMap,he=J.offset,fe=R.props,we=fe.xAxisId,ge=fe.yAxisId;return V.cloneElement(R,{key:R.key||"".concat(N,"-").concat(D),xAxis:Q[we],yAxis:ae[ge],viewBox:{x:he.left,y:he.top,width:he.width,height:he.height},clipPathId:q})}),ur($r(E),"renderActivePoints",function(R){var N=R.item,D=R.activePoint,F=R.basePoint,q=R.childIndex,J=R.isRange,Q=[],ae=N.props.key,he=N.item.props,fe=he.activeDot,we=he.dataKey,ge=dt(dt({index:q,dataKey:we,cx:D.x,cy:D.y,r:4,fill:RL(N.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value,key:"".concat(ae,"-activePoint-").concat(q)},qr(fe)),Jw(fe));return Q.push(O.renderActiveDot(fe,ge)),F?Q.push(O.renderActiveDot(fe,dt(dt({},ge),{},{cx:F.x,cy:F.y,key:"".concat(ae,"-basePoint-").concat(q)}))):J&&Q.push(null),Q}),ur($r(E),"renderGraphicChild",function(R,N,D){var F=E.filterFormatItem(R,N,D);if(!F)return null;var q=E.getTooltipEventType(),J=E.state,Q=J.isTooltipActive,ae=J.tooltipAxis,he=J.activeTooltipIndex,fe=J.activeLabel,we=E.props.children,ge=Xc(we,Yf),Ce=F.props,Te=Ce.points,Ee=Ce.isRange,Oe=Ce.baseLine,qe=F.item.props,rt=qe.activeDot,Pe=qe.hide,je=!Pe&&Q&&ge&&rt&&he>=0,Le={};q!=="axis"&&ge&&ge.props.trigger==="click"?Le={onClick:_1(E.handleItemMouseEnter,null,R.props.onCLick)}:q!=="axis"&&(Le={onMouseLeave:_1(E.handleItemMouseLeave,null,R.props.onMouseLeave),onMouseEnter:_1(E.handleItemMouseEnter,null,R.props.onMouseEnter)});var Ye=V.cloneElement(R,dt(dt({},F.props),Le));function Be(Xe){return typeof ae.dataKey=="function"?ae.dataKey(Xe.payload):null}if(je){var lt,it;if(ae.dataKey&&!ae.allowDuplicatedCategory){var Ve=typeof ae.dataKey=="function"?Be:"payload.".concat(ae.dataKey.toString());lt=Xw(Te,Ve,fe),it=Ee&&Oe&&Xw(Oe,Ve,fe)}else lt=Te[he],it=Ee&&Oe&&Oe[he];if(!dr(lt))return[Ye].concat(Tg(E.renderActivePoints({item:F,activePoint:lt,basePoint:it,childIndex:he,isRange:Ee})))}return Ee?[Ye,null,null]:[Ye,null]}),ur($r(E),"renderCustomized",function(R,N,D){return V.cloneElement(R,dt(dt({key:"recharts-customized-".concat(D)},E.props),E.state))}),E.uniqueChartId=dr(I.id)?dx("recharts"):I.id,E.clipPathId="".concat(E.uniqueChartId,"-clip"),I.throttleDelay&&(E.triggeredAfterMouseMove=cY(E.triggeredAfterMouseMove,I.throttleDelay)),E.state={},E}return d7e(O,[{key:"componentDidMount",value:function(){var E,R;dr(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(E,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var N,D;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(E){dr(E.syncId)&&!dr(this.props.syncId)&&this.addListener(),!dr(E.syncId)&&dr(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),dr(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Xc(this.props.children,Yf);if(E&&G9e(E.props.shared)){var R=E.props.shared?"axis":"item";return f.indexOf(R)>=0?R:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var R=xBe(this.container),N=bBe(E,R),D=this.inRange(N.chartX,N.chartY);if(!D)return null;var F=this.state,q=F.xAxisMap,J=F.yAxisMap,Q=this.getTooltipEventType();if(Q!=="axis"&&q&&J){var ae=Qu(q).scale,he=Qu(J).scale,fe=ae&&ae.invert?ae.invert(N.chartX):null,we=he&&he.invert?he.invert(N.chartY):null;return dt(dt({},N),{},{xValue:fe,yValue:we})}var ge=sU(this.state,this.props.data,this.props.layout,D);return ge?dt(dt({},N),ge):null}},{key:"getCursorRectangle",value:function(){var E=this.props.layout,R=this.state,N=R.activeCoordinate,D=R.offset,F=R.tooltipAxisBandSize,q=F/2;return{stroke:"none",fill:"#ccc",x:E==="horizontal"?N.x-q:D.left+.5,y:E==="horizontal"?D.top+.5:N.y-q,width:E==="horizontal"?F:D.width-1,height:E==="horizontal"?D.height-1:F}}},{key:"getCursorPoints",value:function(){var E=this.props.layout,R=this.state,N=R.activeCoordinate,D=R.offset,F,q,J,Q;if(E==="horizontal")F=N.x,J=F,q=D.top,Q=D.top+D.height;else if(E==="vertical")q=N.y,Q=q,F=D.left,J=D.left+D.width;else if(!dr(N.cx)||!dr(N.cy))if(E==="centric"){var ae=N.cx,he=N.cy,fe=N.innerRadius,we=N.outerRadius,ge=N.angle,Ce=mo(ae,he,fe,ge),Te=mo(ae,he,we,ge);F=Ce.x,q=Ce.y,J=Te.x,Q=Te.y}else{var Ee=N.cx,Oe=N.cy,qe=N.radius,rt=N.startAngle,Pe=N.endAngle,je=mo(Ee,Oe,qe,rt),Le=mo(Ee,Oe,qe,Pe);return{points:[je,Le],cx:Ee,cy:Oe,radius:qe,startAngle:rt,endAngle:Pe}}return[{x:F,y:q},{x:J,y:Q}]}},{key:"inRange",value:function(E,R){var N=this.props.layout;if(N==="horizontal"||N==="vertical"){var D=this.state.offset,F=E>=D.left&&E<=D.left+D.width&&R>=D.top&&R<=D.top+D.height;return F?{x:E,y:R}:null}var q=this.state,J=q.angleAxisMap,Q=q.radiusAxisMap;if(J&&Q){var ae=Qu(J);return v6({x:E,y:R},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,R=this.getTooltipEventType(),N=Xc(E,Yf),D={};N&&R==="axis"&&(N.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=Jw(this.props,this.handleOuterEvent);return dt(dt({},F),D)}},{key:"addListener",value:function(){Ba.on(GP,this.handleReceiveSyncEvent),Ba.setMaxListeners&&Ba._maxListeners&&Ba.setMaxListeners(Ba._maxListeners+1)}},{key:"removeListener",value:function(){Ba.removeListener(GP,this.handleReceiveSyncEvent),Ba.setMaxListeners&&Ba._maxListeners&&Ba.setMaxListeners(Ba._maxListeners-1)}},{key:"triggerSyncEvent",value:function(E){var R=this.props.syncId;dr(R)||Ba.emit(GP,R,this.uniqueChartId,E)}},{key:"applySyncEvent",value:function(E){var R=this.props,N=R.layout,D=R.syncMethod,F=this.state.updateId,q=E.dataStartIndex,J=E.dataEndIndex;if(!dr(E.dataStartIndex)||!dr(E.dataEndIndex))this.setState(dt({dataStartIndex:q,dataEndIndex:J},T({props:this.props,dataStartIndex:q,dataEndIndex:J,updateId:F},this.state)));else if(dr(E.activeTooltipIndex))this.setState(E);else{var Q=E.chartX,ae=E.chartY,he=E.activeTooltipIndex,fe=this.state,we=fe.offset,ge=fe.tooltipTicks;if(!we)return;if(typeof D=="function")he=D(ge,E);else if(D==="value"){he=-1;for(var Ce=0;Ce<ge.length;Ce++)if(ge[Ce].value===E.activeLabel){he=Ce;break}}var Te=dt(dt({},we),{},{x:we.left,y:we.top}),Ee=Math.min(Q,Te.x+Te.width),Oe=Math.min(ae,Te.y+Te.height),qe=ge[he]&&ge[he].value,rt=jK(this.state,this.props.data,he),Pe=ge[he]?{x:N==="horizontal"?ge[he].coordinate:Ee,y:N==="horizontal"?Oe:ge[he].coordinate}:NK;this.setState(dt(dt({},E),{},{activeLabel:qe,activeCoordinate:Pe,activePayload:rt,activeTooltipIndex:he}))}}},{key:"filterFormatItem",value:function(E,R,N){for(var D=this.state.formattedGraphicalItems,F=0,q=D.length;F<q;F++){var J=D[F];if(J.item===E||J.props.key===E.key||R===Ad(J.item.type)&&N===J.childIndex)return J}return null}},{key:"renderAxis",value:function(E,R,N,D){var F=this.props,q=F.width,J=F.height;return De.createElement(T0,ym({},E,{className:wn("recharts-".concat(E.axisType," ").concat(E.axisType),E.className),key:R.key||"".concat(N,"-").concat(D),viewBox:{x:0,y:0,width:q,height:J},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var E=this.clipPathId,R=this.state.offset,N=R.left,D=R.top,F=R.height,q=R.width;return De.createElement("defs",null,De.createElement("clipPath",{id:E},De.createElement("rect",{x:N,y:D,height:F,width:q})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(R,N){var D=tU(N,2),F=D[0],q=D[1];return dt(dt({},R),{},ur({},F,q.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(R,N){var D=tU(N,2),F=D[0],q=D[1];return dt(dt({},R),{},ur({},F,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var R,N;return(R=this.state.xAxisMap)===null||R===void 0||(N=R[E])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(E){var R,N;return(R=this.state.yAxisMap)===null||R===void 0||(N=R[E])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(E){var R=this.state.formattedGraphicalItems;if(R&&R.length)for(var N=0,D=R.length;N<D;N++){var F=R[N],q=F.props,J=F.item,Q=Ad(J.type);if(Q==="Bar"){var ae=(q.data||[]).find(function(fe){return Y8e(E,fe)});if(ae)return{graphicalItem:F,payload:ae}}else if(Q==="RadialBar"){var he=(q.data||[]).find(function(fe){return v6(E,fe)});if(he)return{graphicalItem:F,payload:he}}}return null}},{key:"render",value:function(){var E=this;if(!GB(this))return null;var R=this.props,N=R.children,D=R.className,F=R.width,q=R.height,J=R.style,Q=R.compact,ae=R.title,he=R.desc,fe=rU(R,o7e),we=qr(fe),ge={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(Q)return De.createElement(WM,ym({},we,{width:F,height:q,title:ae,desc:he}),this.renderClipPath(),KB(N,ge));if(this.props.accessibilityLayer){var Ce,Te;we.tabIndex=(Ce=0)!==null&&Ce!==void 0?Ce:this.props.tabIndex,we.role=(Te="img")!==null&&Te!==void 0?Te:this.props.role,we.onKeyDown=function(Oe){E.accessibilityManager.keyboardEvent(Oe)},we.onFocus=function(){E.accessibilityManager.focus()}}var Ee=this.parseEventsOfWrapper();return De.createElement("div",ym({className:wn("recharts-wrapper",D),style:dt({position:"relative",cursor:"default",width:F,height:q},J)},Ee,{ref:function(qe){E.container=qe},role:"region"}),De.createElement(WM,ym({},we,{width:F,height:q,title:ae,desc:he}),this.renderClipPath(),KB(N,ge)),this.renderLegend(),this.renderTooltip())}}]),O}(V.Component),ur(r,"displayName",n),ur(r,"defaultProps",dt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),ur(r,"getDerivedStateFromProps",function(w,M){var O=w.data,I=w.children,E=w.width,R=w.height,N=w.layout,D=w.stackOffset,F=w.margin;if(dr(M.updateId)){var q=lU(w);return dt(dt(dt({},q),{},{updateId:0},T(dt(dt({props:w},q),{},{updateId:0}),M)),{},{prevData:O,prevWidth:E,prevHeight:R,prevLayout:N,prevStackOffset:D,prevMargin:F,prevChildren:I})}if(O!==M.prevData||E!==M.prevWidth||R!==M.prevHeight||N!==M.prevLayout||D!==M.prevStackOffset||!Lm(F,M.prevMargin)){var J=lU(w),Q={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},ae=dt(dt({},sU(M,O,N)),{},{updateId:M.updateId+1}),he=dt(dt(dt({},J),Q),ae);return dt(dt(dt({},he),T(dt({props:w},he),M)),{},{prevData:O,prevWidth:E,prevHeight:R,prevLayout:N,prevStackOffset:D,prevMargin:F,prevChildren:I})}if(!oG(I,M.prevChildren)){var fe=!dr(O),we=fe?M.updateId:M.updateId+1;return dt(dt({updateId:we},T(dt(dt({props:w},M),{},{updateId:we}),M)),{},{prevChildren:I})}return null}),ur(r,"renderActiveDot",function(w,M){var O;return V.isValidElement(w)?O=V.cloneElement(w,M):hr(w)?O=w(M):O=De.createElement($L,M),De.createElement(Ii,{className:"recharts-active-dot",key:M.key},O)}),r},I7e=O7e({chartName:"LineChart",GraphicalChild:Cg,axisComponents:[{axisType:"xAxis",AxisComp:yC},{axisType:"yAxis",AxisComp:vC}],formatAxisMap:fWe});const R7e=$i(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),$7e=()=>{const e=R7e(),[t,r]=V.useState([]),[n,i]=V.useState([]),[o,s]=V.useState([]),a=De.createRef();a.current=o;const[f,h]=V.useState(-1),g=Br(E=>E.mission.route),y=t.map(E=>E.elevation),x=t.map(E=>E.uavheight),A=Math.min(...y),T=Math.max(...x),w=T-A,M=E=>{let R=[];return E.length>0&&E.forEach(N=>{let D=[];N.wp.forEach(F=>{D.push([F.pos[0],F.pos[1],F.pos[2]])}),R.push(D)}),R};async function O(){if(console.log("--------------   LLAMANDO A ELEVATION"),g.length>0){let E=JSON.parse(JSON.stringify(g)),R=E.map(F=>F.id),N=M(E);i(N);let D;try{const F=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:N})});if(F.ok)D=await F.json();else throw new Error(F.status)}catch(F){console.log(F)}if(D.status){let F=D.elevation.map((q,J)=>({name:"RT"+J,data:q,color:Km[R[J]]}));console.log(F),h(-1),s(F)}else console.log("no get elevation of point")}}V.useEffect(()=>{console.log("mission Elevation")},[]),V.useEffect(()=>{let E=!1,R=M(g);if(console.log("update elevation"),console.log(R),console.log(n),R.length>n.length)console.log("ruta mayour"),R[+R.length+-1].length>0?E=!0:i(R);else if(R.length<n.length){console.log(" se ha eliminado  una ruta");let N=[],D=[];n.map((F,q)=>{let J=!1;R.map(Q=>{JSON.stringify(F)===JSON.stringify(Q)&&(J=!0)}),J&&(N.push(F),D.push(a.current[q]))}),s(D),i(N)}else{console.log("ruta de la misma longitud");for(let N=0;N<R.length;N=N+1)if(console.log(JSON.stringify(R[N])),console.log(JSON.stringify(n[N])),JSON.stringify(R[N])!=JSON.stringify(n[N])){console.log("latitude longitude no equals");let D=n[N].map(q=>[q[0],q[1]]),F=R[N].map(q=>[q[0],q[1]]);if(JSON.stringify(D)===JSON.stringify(F)){for(let q=0;q<n[N].length;q=q+1)if(n[N][q][2]!==R[N][q][2]){console.log("diferent elevation");let J=JSON.parse(JSON.stringify(a.current));for(let Q=0;Q<J[N].data.length;Q=Q+1)J[N].data[Q].hasOwnProperty("wp")&&J[N].data[Q].wp==q&&(console.log("encontrado elev profile wp"),J[N].data[Q].uavheight=+J[N].data[Q].uavheight-+J[N].data[Q].uav+ +R[N][q][2],J[N].data[Q].uav=+R[N][q][2]);console.log(J),s(J)}i(R);break}else{console.log("nuevas posiciones"),E=!0;break}}}E&&O()},[g]),V.useEffect(()=>{f==-1?r(o):r([o[f]])},[f,o]);const I=({active:E,payload:R,label:N})=>{if(E&&R&&R.length){let D=[R[0].payload];return D[0].color=R[0].color,R.map(F=>{let q=!0;D.map(J=>{F.payload.rt==J.rt&&(q=!1)}),F.payload.color=F.color,q&&D.push(F.payload)}),D[0].uavheight?B.jsxs("div",{style:{background:"#FFFFFF"},children:[B.jsx("div",{children:`distancia ${N} m `}),D.map(F=>B.jsxs(V.Fragment,{children:[B.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt} - wp ${F.wp}`},`tr${F.rt}`),B.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} - UAV: ${F.uavheight}`},`dr${F.rt}`)]},"s-"+F.rt))]}):B.jsxs("div",{style:{background:"#FFFFFF"},children:[B.jsx("div",{children:`distancia ${N} m `}),D.map(F=>B.jsxs(V.Fragment,{children:[B.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt}`},`tr${F.rt}`),B.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} `},`dr${F.rt}`)]},"s-"+F.rt))]})}return null};return B.jsxs("div",{className:e.content,children:[B.jsxs(Gc,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[B.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),B.jsxs(sE,{children:[B.jsx(lE,{id:"demo-simple-select-label",children:"Route"}),B.jsxs(cE,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Elevation Profile",onChange:E=>h(E.target.value),children:[B.jsx(fl,{value:-1,children:"All Routes"}),o.map((E,R,N)=>B.jsx(fl,{value:R,children:`Route${R}`},`sel${R}`))]})]})]}),t.length>0&&B.jsx("div",{className:e.chart,children:B.jsx(U5e,{width:"100%",height:"100%",children:B.jsxs(I7e,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[B.jsx(yC,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),B.jsx(vC,{type:"number",tickFormatter:E=>E.toFixed(2),domain:[A-w/5,T+w/5]}),B.jsx(jL,{strokeDasharray:"3 3"}),B.jsx(Yf,{content:B.jsx(I,{})}),B.jsx(pg,{}),t.map((E,R,N)=>B.jsxs(V.Fragment,{children:[B.jsx(Cg,{type:"monotone",dataKey:"elevation",data:E.data,name:E.name,stroke:E.color,activeDot:{r:8,onClick:(D,F)=>{console.log(F);let q=`https://www.google.com/maps?q=${F.payload.lat},${F.payload.lng}`;window.open(q,"_blank")}}},E.name),B.jsx(Cg,{connectNulls:!0,dataKey:"uavheight",data:E.data,name:E.name+"-v",stroke:E.color,strokeDasharray:"5 5",activeDot:{onClick:(D,F)=>{console.log(F)}}},E.name+"-v")]},"s-"+R))]})})})]})},D7e=$i(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),L7e=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},N7e=()=>{const e=D7e();return B.jsx("div",{className:e.root,children:B.jsxs(z$,{notification:L7e,children:[B.jsx(j$,{}),B.jsx(K$,{}),B.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[B.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),B.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:B.jsx(m7,{children:B.jsx(cke,{})})})]}),B.jsx("div",{className:e.sidebarStyle,children:B.jsx("div",{className:e.middleStyle,children:B.jsx(vl,{square:!0,children:B.jsx(Tke,{})})})}),B.jsx("div",{className:e.panelElevation,children:B.jsx("div",{className:e.middleStyle,children:B.jsx(vl,{square:!0,children:B.jsx($7e,{})})})})]})})},z7e=()=>B.jsx("div",{children:"EventPage"}),j7e=()=>B.jsx("div",{children:"ReplayPage"}),B7e=()=>V.useMemo(()=>({custom:[{key:"data",name:"commandData",type:"string"}],positionPeriodic:[{key:"frequency",name:"commandFrequency",type:"number"}],setTimezone:[{key:"timezone",name:"commandTimezone",type:"string"}],sendSms:[{key:"phone",name:"commandPhone",type:"string"},{key:"message",name:"commandMessage",type:"string"}],message:[{key:"message",name:"commandMessage",type:"string"}],sendUssd:[{key:"phone",name:"commandPhone",type:"string"}],sosNumber:[{key:"index",name:"commandIndex",type:"number"},{key:"phone",name:"commandPhone",type:"string"}],silenceTime:[{key:"data",name:"commandData",type:"string"}],setPhonebook:[{key:"data",name:"commandData",type:"string"}],voiceMessage:[{key:"data",name:"commandData",type:"string"}],outputControl:[{key:"index",name:"commandIndex",type:"number"},{key:"data",name:"commandData",type:"string"}],voiceMonitoring:[{key:"enable",name:"commandEnable",type:"boolean"}],setAgps:[{key:"enable",name:"commandEnable",type:"boolean"}],setIndicator:[{key:"data",name:"commandData",type:"string"}],configuration:[{key:"data",name:"commandData",type:"string"}],setConnection:[{key:"server",name:"commandServer",type:"string"},{key:"port",name:"commandPort",type:"number"}],setOdometer:[{key:"data",name:"commandData",type:"string"}],modePowerSaving:[{key:"enable",name:"commandEnable",type:"boolean"}],modeDeepSleep:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmGeofence:[{key:"radius",name:"commandRadius",type:"number"}],alarmBattery:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmSos:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmRemove:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmClock:[{key:"data",name:"commandData",type:"string"}],alarmSpeed:[{key:"data",name:"commandData",type:"string"}],alarmFall:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmVibration:[{key:"data",name:"commandData",type:"string"}],SetupCamera:[{key:"type",name:"Type",type:"number"},{key:"enable",name:"Enable",type:"number"}],Gimbal:[{key:"roll",name:"Roll",type:"number"},{key:"pitch",name:"Pitch",type:"number"},{key:"yaw",name:"Yaw",type:"number"}],GimbalPitch:[{key:"pitch",name:"Pitch",type:"number"}],treat:[{key:"enable",name:"commandEnable",type:"boolean"}],setupcamera:[{key:"cameraType",name:"cameraType",type:"number"},{key:"start",name:"start",type:"number"}]}),[]),F7e=({deviceId:e,item:t,setItem:r})=>{const n=Br(a=>a.session.server.textEnabled),i=B7e(),[o,s]=V.useState([]);return V.useEffect(()=>{t&&t.type?s(i[t.type]||[]):s([])},[i,t]),B.jsxs(V.Fragment,{children:[B.jsx(Wc,{value:t.type||"",onChange:a=>r({...t,type:a.target.value,attributes:{}}),endpoint:e?`/api/commands/types?${new URLSearchParams({deviceId:e}).toString()}`:"/api/commands/types",keyGetter:a=>a.type,titleGetter:a=>S0("command_",a.type),label:"Command type"}),o.map(({key:a,name:f,type:h})=>h==="boolean"?B.jsx(t5,{control:B.jsx(Q3,{checked:t.attributes[a],onChange:g=>{const y={...t,attributes:{...t.attributes}};y.attributes[a]=g.target.checked,r(y)}}),label:f}):B.jsx(fo,{type:h==="number"?"number":"text",value:t.attributes[a],onChange:g=>{const y={...t,attributes:{...t.attributes}};y.attributes[a]=h==="number"?Number(g.target.value):g.target.value,r(y)},label:f})),n&&B.jsx(t5,{control:B.jsx(Q3,{checked:t.textChannel,onChange:a=>r({...t,textChannel:a.target.checked})}),label:"commandSendSms"})]},"sdf")},U7e=$i(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),V7e=()=>{const e=U7e(),t=Ig(),{id:r}=Lee(),[n,i]=V.useState(),[o,s]=V.useState({}),a=Br(A=>A.data.positions),[f,h]=V.useState(0);V.useEffect(()=>{r&&i(a[r])},[r,a]);const g=Br(A=>{if(n){const T=A.devices.items[n.deviceId];if(T)return T.name}return null}),y=uye(async()=>{let A;if(f){const w=await fetch(`/api/commands/${f}`);if(w.ok)A=await w.json();else throw Error(await w.text())}else A=o;A.deviceId=parseInt(r,10);const T=await fetch("/api/commands/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(T.ok)t(-1);else throw Error(await T.text())}),x=()=>f||o&&o.type;return B.jsxs("div",{className:e.root,children:[B.jsx(XR,{position:"sticky",color:"inherit",children:B.jsxs(X_,{children:[B.jsx(Vr,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:B.jsx(qE,{})}),B.jsx(Or,{variant:"h6",children:g})]})}),B.jsx("div",{className:e.content,children:B.jsx($w,{maxWidth:"sm",children:B.jsx(vl,{children:B.jsxs(d$,{children:[B.jsx($9,{children:B.jsxs(Mm,{children:[B.jsx(co,{children:"stateName"}),B.jsx(co,{children:"sharedName"}),B.jsx(co,{children:"stateValue"})]})}),B.jsxs(f$,{children:[n&&Object.getOwnPropertyNames(n).filter(A=>A!=="attributes").map(A=>B.jsxs(Mm,{children:[B.jsx(co,{children:A}),B.jsx(co,{children:B.jsx("strong",{children:S0("position",A)})}),B.jsx(co,{children:B.jsx(BM,{position:n,property:A})})]},A)),n&&Object.getOwnPropertyNames(n.attributes).map(A=>B.jsxs(Mm,{children:[B.jsx(co,{children:A}),B.jsx(co,{children:B.jsx("strong",{children:S0("position",A)||S0("device",A)})}),B.jsx(co,{children:B.jsx(BM,{position:n,attribute:A})})]},A))]})]})})})}),B.jsx("div",{children:B.jsxs($w,{maxWidth:"xs",className:e.container,children:[B.jsxs(yh,{defaultExpanded:!0,children:[B.jsx(_h,{expandIcon:B.jsx(Bd,{}),children:B.jsx(Or,{variant:"subtitle1",children:"Command"})}),B.jsx(vh,{className:e.details,children:!f&&B.jsx(F7e,{deviceId:r,item:o,setItem:s})})]}),B.jsxs("div",{className:e.buttons,children:[B.jsx(_n,{type:"button",color:"primary",variant:"outlined",onClick:()=>t(-1),children:"Cancel"}),B.jsx(_n,{type:"button",color:"primary",variant:"contained",onClick:y,disabled:!x(),children:"Send"})]})]})})]})},W7e=$i(e=>({card:{pointerEvents:"auto"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),uU=({deviceId:e,deviceIp:t="127.0.0.1",camera_src:r="video0",onClose:n})=>{const i=W7e(),o=e?Br(T=>T.devices.items[e]):{name:"test"},s="http://"+t+":8889/"+r,[a,f]=V.useState(!1);let h=i.card,g=a?i.root_max:i.root,y=a?i.media1:i.media;function x(){f(!a)}V.useRef();function A(){n(),f(!1)}return B.jsx("div",{className:g,children:o&&B.jsxs(zg,{className:h,children:[B.jsxs("div",{children:[B.jsxs("div",{className:i.gruopBtn,children:[B.jsx(Vr,{size:"small",onClick:x,onTouchStart:x,children:B.jsx(AE,{fontSize:"small",className:i.mediaButton})}),B.jsx(Vr,{size:"small",onClick:A,children:B.jsx(jd,{fontSize:"small",className:i.mediaButton})})]}),B.jsx("div",{className:i.tittle,children:"Id: "+o.name+"-"+r})]}),B.jsx("iframe",{src:s,className:y})]})})},q7e=$i(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),H7e=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},G7e=()=>{const[e,t]=V.useState(!1),r=Br(o=>o.devices.items);let n=Object.values(r);const i=q7e();return B.jsx("div",{className:i.root,children:B.jsxs(z$,{notification:H7e,children:[B.jsx(j$,{}),B.jsx(K$,{}),B.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:B.jsx(Gc,{sx:{flexGrow:1},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"100%",padding:"20px",float:"right"},children:B.jsx(o5,{container:!0,spacing:4,justifyContent:"space-around",children:De.Children.toArray(Object.values(r).map(o=>B.jsx(V.Fragment,{children:o.camera.map((s,a)=>B.jsxs(o5,{item:!0,children:[s.type==="WebRTC"&&B.jsx(uU,{deviceId:o.id,deviceIp:"127.0.0.1",devicename:o.name,camera_src:s.source,onClose:()=>{console.log("cerrar ")}}),s.type==="WebRTC_env"&&B.jsx(uU,{deviceId:o.id,deviceIp:o.ip,devicename:o.name,camera_src:s.source,onClose:()=>{console.log("cerrar ")}})]},"card-"+o.id+"-"+a))},"dev"+o.id)))})})}),B.jsx("div",{className:i.sidebarStyle,children:B.jsx("div",{className:i.middleStyle,children:B.jsxs(vl,{square:!0,className:i.contentListStyle,children:[B.jsx(HH,{SetAddUAVOpen:t}),B.jsx(CH,{devices:n})]})})})]})})},Y7e=$i(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),K7e=()=>{const e=Y7e(),t=Ig(),[r,n]=V.useState([]),[i,o]=V.useState(),s=Br(f=>f.events.items),a=Br(f=>f.devices.items);return V.useEffect(()=>{n(s)},[s]),V.useEffect(()=>{o({...a,"-1":{name:"GCS"}})},[a]),Br(f=>{if(r){const h=f.devices.items[r.deviceId];if(h)return h.name}return null}),B.jsxs("div",{className:e.root,children:[B.jsx(XR,{position:"sticky",color:"inherit",children:B.jsxs(X_,{children:[B.jsx(Vr,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:B.jsx(qE,{})}),B.jsx(Or,{variant:"h6",children:"Events"})]})}),B.jsx("div",{className:e.content,children:B.jsx($w,{maxWidth:"sm",children:B.jsx(vl,{children:B.jsxs(d$,{children:[B.jsx($9,{children:B.jsxs(Mm,{children:[B.jsx(co,{children:"UAV"}),B.jsx(co,{children:"Fecha"}),B.jsx(co,{children:"Valor"})]})}),B.jsx(f$,{children:r&&r.map(f=>B.jsxs(Mm,{children:[B.jsx(co,{children:i[f.deviceId].name}),B.jsx(co,{children:f.eventTime}),B.jsx(co,{children:f.attributes.message})]},f.id))})]})})})})]})},Z7e=()=>{const e=Ig();o2();const t=J0e();return h$(async()=>{e("/")},[t]),B.jsx(Xee,{children:B.jsxs(jc,{path:"/",element:B.jsx(X0e,{}),children:[B.jsx(jc,{index:!0,element:B.jsx(ske,{})}),B.jsx(jc,{path:"mission",element:B.jsx(N7e,{})}),B.jsx(jc,{path:"camera",element:B.jsx(G7e,{})}),B.jsx(jc,{path:"device/:id",element:B.jsx(V7e,{})}),B.jsx(jc,{path:"event/:id",element:B.jsx(z7e,{})}),B.jsx(jc,{path:"events",element:B.jsx(K7e,{})}),B.jsx(jc,{path:"replay",element:B.jsx(j7e,{})})]})})},X7e=()=>{const e={white:hh.white,background:Ql[50],primary:pW[900],secondary:al[800],positive:al[500],medium:bR[700],negative:Vc[500],neutral:Ql[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},J7e={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},Q7e={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:Ql[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},eqe=()=>V.useMemo(()=>qR({palette:X7e(),dimensions:J7e,components:Q7e}),[]),tqe=({children:e})=>{const t=eqe();return B.jsx(Qae,{theme:t,children:e})};Tne();const rqe=CV(document.getElementById("root"));rqe.render(B.jsx(are,{store:sne,children:B.jsx(Bie,{injectFirst:!0,children:B.jsxs(tqe,{children:[B.jsx(Afe,{}),B.jsx(Qee,{children:B.jsx(Z7e,{})})]})})}))});export default nqe();
