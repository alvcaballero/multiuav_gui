var QK=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var VVe=QK((qVe,p1)=>{function eZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function UF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var VF={exports:{}},oS={},WF={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_=Symbol.for("react.element"),tZ=Symbol.for("react.portal"),rZ=Symbol.for("react.fragment"),nZ=Symbol.for("react.strict_mode"),iZ=Symbol.for("react.profiler"),oZ=Symbol.for("react.provider"),aZ=Symbol.for("react.context"),sZ=Symbol.for("react.forward_ref"),lZ=Symbol.for("react.suspense"),cZ=Symbol.for("react.memo"),uZ=Symbol.for("react.lazy"),dz=Symbol.iterator;function fZ(e){return e===null||typeof e!="object"?null:(e=dz&&e[dz]||e["@@iterator"],typeof e=="function"?e:null)}var qF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HF=Object.assign,GF={};function ng(e,t,r){this.props=e,this.context=t,this.refs=GF,this.updater=r||qF}ng.prototype.isReactComponent={};ng.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ng.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YF(){}YF.prototype=ng.prototype;function mO(e,t,r){this.props=e,this.context=t,this.refs=GF,this.updater=r||qF}var gO=mO.prototype=new YF;gO.constructor=mO;HF(gO,ng.prototype);gO.isPureReactComponent=!0;var hz=Array.isArray,KF=Object.prototype.hasOwnProperty,yO={current:null},ZF={key:!0,ref:!0,__self:!0,__source:!0};function XF(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)KF.call(t,n)&&!ZF.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var d=Array(a),h=0;h<a;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:l_,type:e,key:o,ref:s,props:i,_owner:yO.current}}function dZ(e,t){return{$$typeof:l_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vO(e){return typeof e=="object"&&e!==null&&e.$$typeof===l_}function hZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pz=/\/+/g;function WC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hZ(""+e.key):t.toString(36)}function Ub(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case l_:case tZ:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+WC(s,0):n,hz(i)?(r="",e!=null&&(r=e.replace(pz,"$&/")+"/"),Ub(i,t,r,"",function(h){return h})):i!=null&&(vO(i)&&(i=dZ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",hz(e))for(var a=0;a<e.length;a++){o=e[a];var d=n+WC(o,a);s+=Ub(o,t,r,d,i)}else if(d=fZ(e),typeof d=="function")for(e=d.call(e),a=0;!(o=e.next()).done;)o=o.value,d=n+WC(o,a++),s+=Ub(o,t,r,d,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gx(e,t,r){if(e==null)return e;var n=[],i=0;return Ub(e,n,"","",function(o){return t.call(r,o,i++)}),n}function pZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ra={current:null},Vb={transition:null},mZ={ReactCurrentDispatcher:ra,ReactCurrentBatchConfig:Vb,ReactCurrentOwner:yO};Lr.Children={map:Gx,forEach:function(e,t,r){Gx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gx(e,function(){t++}),t},toArray:function(e){return Gx(e,function(t){return t})||[]},only:function(e){if(!vO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lr.Component=ng;Lr.Fragment=rZ;Lr.Profiler=iZ;Lr.PureComponent=mO;Lr.StrictMode=nZ;Lr.Suspense=lZ;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mZ;Lr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HF({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=yO.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(d in t)KF.call(t,d)&&!ZF.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&a!==void 0?a[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){a=Array(d);for(var h=0;h<d;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:l_,type:e.type,key:i,ref:o,props:n,_owner:s}};Lr.createContext=function(e){return e={$$typeof:aZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oZ,_context:e},e.Consumer=e};Lr.createElement=XF;Lr.createFactory=function(e){var t=XF.bind(null,e);return t.type=e,t};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(e){return{$$typeof:sZ,render:e}};Lr.isValidElement=vO;Lr.lazy=function(e){return{$$typeof:uZ,_payload:{_status:-1,_result:e},_init:pZ}};Lr.memo=function(e,t){return{$$typeof:cZ,type:e,compare:t===void 0?null:t}};Lr.startTransition=function(e){var t=Vb.transition;Vb.transition={};try{e()}finally{Vb.transition=t}};Lr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lr.useCallback=function(e,t){return ra.current.useCallback(e,t)};Lr.useContext=function(e){return ra.current.useContext(e)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(e){return ra.current.useDeferredValue(e)};Lr.useEffect=function(e,t){return ra.current.useEffect(e,t)};Lr.useId=function(){return ra.current.useId()};Lr.useImperativeHandle=function(e,t,r){return ra.current.useImperativeHandle(e,t,r)};Lr.useInsertionEffect=function(e,t){return ra.current.useInsertionEffect(e,t)};Lr.useLayoutEffect=function(e,t){return ra.current.useLayoutEffect(e,t)};Lr.useMemo=function(e,t){return ra.current.useMemo(e,t)};Lr.useReducer=function(e,t,r){return ra.current.useReducer(e,t,r)};Lr.useRef=function(e){return ra.current.useRef(e)};Lr.useState=function(e){return ra.current.useState(e)};Lr.useSyncExternalStore=function(e,t,r){return ra.current.useSyncExternalStore(e,t,r)};Lr.useTransition=function(){return ra.current.useTransition()};Lr.version="18.2.0";WF.exports=Lr;var W=WF.exports;const We=Kr(W),m1=eZ({__proto__:null,default:We},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gZ=W,yZ=Symbol.for("react.element"),vZ=Symbol.for("react.fragment"),_Z=Object.prototype.hasOwnProperty,xZ=gZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bZ={key:!0,ref:!0,__self:!0,__source:!0};function JF(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)_Z.call(t,n)&&!bZ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:yZ,type:e,key:o,ref:s,props:i,_owner:xZ.current}}oS.Fragment=vZ;oS.jsx=JF;oS.jsxs=JF;VF.exports=oS;var U=VF.exports,QF={exports:{}},Xa={},e6={exports:{}},t6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ee,Ie){var He=Ee.length;Ee.push(Ie);e:for(;0<He;){var tt=He-1>>>1,Te=Ee[tt];if(0<i(Te,Ie))Ee[tt]=Ie,Ee[He]=Te,He=tt;else break e}}function r(Ee){return Ee.length===0?null:Ee[0]}function n(Ee){if(Ee.length===0)return null;var Ie=Ee[0],He=Ee.pop();if(He!==Ie){Ee[0]=He;e:for(var tt=0,Te=Ee.length,Ne=Te>>>1;tt<Ne;){var De=2*(tt+1)-1,Ye=Ee[De],je=De+1,st=Ee[je];if(0>i(Ye,He))je<Te&&0>i(st,Ye)?(Ee[tt]=st,Ee[je]=He,tt=je):(Ee[tt]=Ye,Ee[De]=He,tt=De);else if(je<Te&&0>i(st,He))Ee[tt]=st,Ee[je]=He,tt=je;else break e}}return Ie}function i(Ee,Ie){var He=Ee.sortIndex-Ie.sortIndex;return He!==0?He:Ee.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var d=[],h=[],g=1,v=null,b=3,M=!1,P=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Ee){for(var Ie=r(h);Ie!==null;){if(Ie.callback===null)n(h);else if(Ie.startTime<=Ee)n(h),Ie.sortIndex=Ie.expirationTime,t(d,Ie);else break;Ie=r(h)}}function R(Ee){if(w=!1,C(Ee),!P)if(r(d)!==null)P=!0,Me(z);else{var Ie=r(h);Ie!==null&&Ae(R,Ie.startTime-Ee)}}function z(Ee,Ie){P=!1,w&&(w=!1,O(H),H=-1),M=!0;var He=b;try{for(C(Ie),v=r(d);v!==null&&(!(v.expirationTime>Ie)||Ee&&!ae());){var tt=v.callback;if(typeof tt=="function"){v.callback=null,b=v.priorityLevel;var Te=tt(v.expirationTime<=Ie);Ie=e.unstable_now(),typeof Te=="function"?v.callback=Te:v===r(d)&&n(d),C(Ie)}else n(d);v=r(d)}if(v!==null)var Ne=!0;else{var De=r(h);De!==null&&Ae(R,De.startTime-Ie),Ne=!1}return Ne}finally{v=null,b=He,M=!1}}var L=!1,F=null,H=-1,re=5,te=-1;function ae(){return!(e.unstable_now()-te<re)}function de(){if(F!==null){var Ee=e.unstable_now();te=Ee;var Ie=!0;try{Ie=F(!0,Ee)}finally{Ie?pe():(L=!1,F=null)}}else L=!1}var pe;if(typeof I=="function")pe=function(){I(de)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,_e=Se.port2;Se.port1.onmessage=de,pe=function(){_e.postMessage(null)}}else pe=function(){A(de,0)};function Me(Ee){F=Ee,L||(L=!0,pe())}function Ae(Ee,Ie){H=A(function(){Ee(e.unstable_now())},Ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ee){Ee.callback=null},e.unstable_continueExecution=function(){P||M||(P=!0,Me(z))},e.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Ee?Math.floor(1e3/Ee):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Ee){switch(b){case 1:case 2:case 3:var Ie=3;break;default:Ie=b}var He=b;b=Ie;try{return Ee()}finally{b=He}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ee,Ie){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var He=b;b=Ee;try{return Ie()}finally{b=He}},e.unstable_scheduleCallback=function(Ee,Ie,He){var tt=e.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?tt+He:tt):He=tt,Ee){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=He+Te,Ee={id:g++,callback:Ie,priorityLevel:Ee,startTime:He,expirationTime:Te,sortIndex:-1},He>tt?(Ee.sortIndex=He,t(h,Ee),r(d)===null&&Ee===r(h)&&(w?(O(H),H=-1):w=!0,Ae(R,He-tt))):(Ee.sortIndex=Te,t(d,Ee),P||M||(P=!0,Me(z))),Ee},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(Ee){var Ie=b;return function(){var He=b;b=Ie;try{return Ee.apply(this,arguments)}finally{b=He}}}})(t6);e6.exports=t6;var wZ=e6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6=W,Ga=wZ;function yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n6=new Set,Hv={};function ah(e,t){mm(e,t),mm(e+"Capture",t)}function mm(e,t){for(Hv[e]=t,e=0;e<t.length;e++)n6.add(t[e])}var Gc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iP=Object.prototype.hasOwnProperty,SZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mz={},gz={};function EZ(e){return iP.call(gz,e)?!0:iP.call(mz,e)?!1:SZ.test(e)?gz[e]=!0:(mz[e]=!0,!1)}function CZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TZ(e,t,r,n){if(t===null||typeof t>"u"||CZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function na(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var fo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fo[e]=new na(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fo[t]=new na(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fo[e]=new na(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fo[e]=new na(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fo[e]=new na(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fo[e]=new na(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fo[e]=new na(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fo[e]=new na(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fo[e]=new na(e,5,!1,e.toLowerCase(),null,!1,!1)});var _O=/[\-:]([a-z])/g;function xO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_O,xO);fo[t]=new na(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_O,xO);fo[t]=new na(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_O,xO);fo[t]=new na(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fo[e]=new na(e,1,!1,e.toLowerCase(),null,!1,!1)});fo.xlinkHref=new na("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fo[e]=new na(e,1,!1,e.toLowerCase(),null,!0,!0)});function bO(e,t,r,n){var i=fo.hasOwnProperty(t)?fo[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TZ(t,r,i,n)&&(r=null),n||i===null?EZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var su=r6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yx=Symbol.for("react.element"),kp=Symbol.for("react.portal"),Pp=Symbol.for("react.fragment"),wO=Symbol.for("react.strict_mode"),oP=Symbol.for("react.profiler"),i6=Symbol.for("react.provider"),o6=Symbol.for("react.context"),SO=Symbol.for("react.forward_ref"),aP=Symbol.for("react.suspense"),sP=Symbol.for("react.suspense_list"),EO=Symbol.for("react.memo"),Uu=Symbol.for("react.lazy"),a6=Symbol.for("react.offscreen"),yz=Symbol.iterator;function ky(e){return e===null||typeof e!="object"?null:(e=yz&&e[yz]||e["@@iterator"],typeof e=="function"?e:null)}var ai=Object.assign,qC;function lv(e){if(qC===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qC=t&&t[1]||""}return`
`+qC+e}var HC=!1;function GC(e,t){if(!e||HC)return"";HC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=a);break}}}finally{HC=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lv(e):""}function kZ(e){switch(e.tag){case 5:return lv(e.type);case 16:return lv("Lazy");case 13:return lv("Suspense");case 19:return lv("SuspenseList");case 0:case 2:case 15:return e=GC(e.type,!1),e;case 11:return e=GC(e.type.render,!1),e;case 1:return e=GC(e.type,!0),e;default:return""}}function lP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pp:return"Fragment";case kp:return"Portal";case oP:return"Profiler";case wO:return"StrictMode";case aP:return"Suspense";case sP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o6:return(e.displayName||"Context")+".Consumer";case i6:return(e._context.displayName||"Context")+".Provider";case SO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case EO:return t=e.displayName||null,t!==null?t:lP(e.type)||"Memo";case Uu:t=e._payload,e=e._init;try{return lP(e(t))}catch{}}return null}function PZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lP(t);case 8:return t===wO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AZ(e){var t=s6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kx(e){e._valueTracker||(e._valueTracker=AZ(e))}function l6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=s6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function g1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cP(e,t){var r=t.checked;return ai({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vz(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c6(e,t){t=t.checked,t!=null&&bO(e,"checked",t,!1)}function uP(e,t){c6(e,t);var r=wf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fP(e,t.type,r):t.hasOwnProperty("defaultValue")&&fP(e,t.type,wf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fP(e,t,r){(t!=="number"||g1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cv=Array.isArray;function Kp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wf(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(yt(91));return ai({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xz(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(yt(92));if(cv(r)){if(1<r.length)throw Error(yt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wf(r)}}function u6(e,t){var r=wf(t.value),n=wf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zx,d6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zx=Zx||document.createElement("div"),Zx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MZ=["Webkit","ms","Moz","O"];Object.keys(bv).forEach(function(e){MZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bv[t]=bv[e]})});function h6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bv.hasOwnProperty(e)&&bv[e]?(""+t).trim():t+"px"}function p6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=h6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var OZ=ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pP(e,t){if(t){if(OZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(yt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(yt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(yt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(yt(62))}}function mP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gP=null;function CO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yP=null,Zp=null,Xp=null;function wz(e){if(e=f_(e)){if(typeof yP!="function")throw Error(yt(280));var t=e.stateNode;t&&(t=uS(t),yP(e.stateNode,e.type,t))}}function m6(e){Zp?Xp?Xp.push(e):Xp=[e]:Zp=e}function g6(){if(Zp){var e=Zp,t=Xp;if(Xp=Zp=null,wz(e),t)for(e=0;e<t.length;e++)wz(t[e])}}function y6(e,t){return e(t)}function v6(){}var YC=!1;function _6(e,t,r){if(YC)return e(t,r);YC=!0;try{return y6(e,t,r)}finally{YC=!1,(Zp!==null||Xp!==null)&&(v6(),g6())}}function Yv(e,t){var r=e.stateNode;if(r===null)return null;var n=uS(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(yt(231,t,typeof r));return r}var vP=!1;if(Gc)try{var Py={};Object.defineProperty(Py,"passive",{get:function(){vP=!0}}),window.addEventListener("test",Py,Py),window.removeEventListener("test",Py,Py)}catch{vP=!1}function IZ(e,t,r,n,i,o,s,a,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(g){this.onError(g)}}var wv=!1,y1=null,v1=!1,_P=null,RZ={onError:function(e){wv=!0,y1=e}};function $Z(e,t,r,n,i,o,s,a,d){wv=!1,y1=null,IZ.apply(RZ,arguments)}function DZ(e,t,r,n,i,o,s,a,d){if($Z.apply(this,arguments),wv){if(wv){var h=y1;wv=!1,y1=null}else throw Error(yt(198));v1||(v1=!0,_P=h)}}function sh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function x6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sz(e){if(sh(e)!==e)throw Error(yt(188))}function LZ(e){var t=e.alternate;if(!t){if(t=sh(e),t===null)throw Error(yt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Sz(i),e;if(o===n)return Sz(i),t;o=o.sibling}throw Error(yt(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(yt(189))}}if(r.alternate!==n)throw Error(yt(190))}if(r.tag!==3)throw Error(yt(188));return r.stateNode.current===r?e:t}function b6(e){return e=LZ(e),e!==null?w6(e):null}function w6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w6(e);if(t!==null)return t;e=e.sibling}return null}var S6=Ga.unstable_scheduleCallback,Ez=Ga.unstable_cancelCallback,zZ=Ga.unstable_shouldYield,NZ=Ga.unstable_requestPaint,bi=Ga.unstable_now,jZ=Ga.unstable_getCurrentPriorityLevel,TO=Ga.unstable_ImmediatePriority,E6=Ga.unstable_UserBlockingPriority,_1=Ga.unstable_NormalPriority,BZ=Ga.unstable_LowPriority,C6=Ga.unstable_IdlePriority,aS=null,Vl=null;function FZ(e){if(Vl&&typeof Vl.onCommitFiberRoot=="function")try{Vl.onCommitFiberRoot(aS,e,void 0,(e.current.flags&128)===128)}catch{}}var cl=Math.clz32?Math.clz32:WZ,UZ=Math.log,VZ=Math.LN2;function WZ(e){return e>>>=0,e===0?32:31-(UZ(e)/VZ|0)|0}var Xx=64,Jx=4194304;function uv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function x1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=uv(a):(o&=s,o!==0&&(n=uv(o)))}else s=r&~i,s!==0?n=uv(s):o!==0&&(n=uv(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cl(t),i=1<<r,n|=e[r],t&=~i;return n}function qZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-cl(o),a=1<<s,d=i[s];d===-1?(!(a&r)||a&n)&&(i[s]=qZ(a,t)):d<=t&&(e.expiredLanes|=a),o&=~a}}function xP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function T6(){var e=Xx;return Xx<<=1,!(Xx&4194240)&&(Xx=64),e}function KC(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function c_(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cl(t),e[t]=r}function GZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-cl(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function kO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var un=0;function k6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var P6,PO,A6,M6,O6,bP=!1,Qx=[],of=null,af=null,sf=null,Kv=new Map,Zv=new Map,qu=[],YZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cz(e,t){switch(e){case"focusin":case"focusout":of=null;break;case"dragenter":case"dragleave":af=null;break;case"mouseover":case"mouseout":sf=null;break;case"pointerover":case"pointerout":Kv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zv.delete(t.pointerId)}}function Ay(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=f_(t),t!==null&&PO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KZ(e,t,r,n,i){switch(t){case"focusin":return of=Ay(of,e,t,r,n,i),!0;case"dragenter":return af=Ay(af,e,t,r,n,i),!0;case"mouseover":return sf=Ay(sf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Kv.set(o,Ay(Kv.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Zv.set(o,Ay(Zv.get(o)||null,e,t,r,n,i)),!0}return!1}function I6(e){var t=Td(e.target);if(t!==null){var r=sh(t);if(r!==null){if(t=r.tag,t===13){if(t=x6(r),t!==null){e.blockedOn=t,O6(e.priority,function(){A6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gP=n,r.target.dispatchEvent(n),gP=null}else return t=f_(r),t!==null&&PO(t),e.blockedOn=r,!1;t.shift()}return!0}function Tz(e,t,r){Wb(e)&&r.delete(t)}function ZZ(){bP=!1,of!==null&&Wb(of)&&(of=null),af!==null&&Wb(af)&&(af=null),sf!==null&&Wb(sf)&&(sf=null),Kv.forEach(Tz),Zv.forEach(Tz)}function My(e,t){e.blockedOn===t&&(e.blockedOn=null,bP||(bP=!0,Ga.unstable_scheduleCallback(Ga.unstable_NormalPriority,ZZ)))}function Xv(e){function t(i){return My(i,e)}if(0<Qx.length){My(Qx[0],e);for(var r=1;r<Qx.length;r++){var n=Qx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(of!==null&&My(of,e),af!==null&&My(af,e),sf!==null&&My(sf,e),Kv.forEach(t),Zv.forEach(t),r=0;r<qu.length;r++)n=qu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qu.length&&(r=qu[0],r.blockedOn===null);)I6(r),r.blockedOn===null&&qu.shift()}var Jp=su.ReactCurrentBatchConfig,b1=!0;function XZ(e,t,r,n){var i=un,o=Jp.transition;Jp.transition=null;try{un=1,AO(e,t,r,n)}finally{un=i,Jp.transition=o}}function JZ(e,t,r,n){var i=un,o=Jp.transition;Jp.transition=null;try{un=4,AO(e,t,r,n)}finally{un=i,Jp.transition=o}}function AO(e,t,r,n){if(b1){var i=wP(e,t,r,n);if(i===null)oT(e,t,n,w1,r),Cz(e,n);else if(KZ(i,e,t,r,n))n.stopPropagation();else if(Cz(e,n),t&4&&-1<YZ.indexOf(e)){for(;i!==null;){var o=f_(i);if(o!==null&&P6(o),o=wP(e,t,r,n),o===null&&oT(e,t,n,w1,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else oT(e,t,n,null,r)}}var w1=null;function wP(e,t,r,n){if(w1=null,e=CO(n),e=Td(e),e!==null)if(t=sh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=x6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w1=e,null}function R6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jZ()){case TO:return 1;case E6:return 4;case _1:case BZ:return 16;case C6:return 536870912;default:return 16}default:return 16}}var Yu=null,MO=null,qb=null;function $6(){if(qb)return qb;var e,t=MO,r=t.length,n,i="value"in Yu?Yu.value:Yu.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return qb=i.slice(e,1<n?1-n:void 0)}function Hb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eb(){return!0}function kz(){return!1}function Ja(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?eb:kz,this.isPropagationStopped=kz,this}return ai(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eb)},persist:function(){},isPersistent:eb}),t}var ig={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OO=Ja(ig),u_=ai({},ig,{view:0,detail:0}),QZ=Ja(u_),ZC,XC,Oy,sS=ai({},u_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oy&&(Oy&&e.type==="mousemove"?(ZC=e.screenX-Oy.screenX,XC=e.screenY-Oy.screenY):XC=ZC=0,Oy=e),ZC)},movementY:function(e){return"movementY"in e?e.movementY:XC}}),Pz=Ja(sS),eX=ai({},sS,{dataTransfer:0}),tX=Ja(eX),rX=ai({},u_,{relatedTarget:0}),JC=Ja(rX),nX=ai({},ig,{animationName:0,elapsedTime:0,pseudoElement:0}),iX=Ja(nX),oX=ai({},ig,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aX=Ja(oX),sX=ai({},ig,{data:0}),Az=Ja(sX),lX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uX[e])?!!t[e]:!1}function IO(){return fX}var dX=ai({},u_,{key:function(e){if(e.key){var t=lX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IO,charCode:function(e){return e.type==="keypress"?Hb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hX=Ja(dX),pX=ai({},sS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mz=Ja(pX),mX=ai({},u_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IO}),gX=Ja(mX),yX=ai({},ig,{propertyName:0,elapsedTime:0,pseudoElement:0}),vX=Ja(yX),_X=ai({},sS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xX=Ja(_X),bX=[9,13,27,32],RO=Gc&&"CompositionEvent"in window,Sv=null;Gc&&"documentMode"in document&&(Sv=document.documentMode);var wX=Gc&&"TextEvent"in window&&!Sv,D6=Gc&&(!RO||Sv&&8<Sv&&11>=Sv),Oz=String.fromCharCode(32),Iz=!1;function L6(e,t){switch(e){case"keyup":return bX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ap=!1;function SX(e,t){switch(e){case"compositionend":return z6(t);case"keypress":return t.which!==32?null:(Iz=!0,Oz);case"textInput":return e=t.data,e===Oz&&Iz?null:e;default:return null}}function EX(e,t){if(Ap)return e==="compositionend"||!RO&&L6(e,t)?(e=$6(),qb=MO=Yu=null,Ap=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D6&&t.locale!=="ko"?null:t.data;default:return null}}var CX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CX[e.type]:t==="textarea"}function N6(e,t,r,n){m6(n),t=S1(t,"onChange"),0<t.length&&(r=new OO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ev=null,Jv=null;function TX(e){K6(e,0)}function lS(e){var t=Ip(e);if(l6(t))return e}function kX(e,t){if(e==="change")return t}var j6=!1;if(Gc){var QC;if(Gc){var eT="oninput"in document;if(!eT){var $z=document.createElement("div");$z.setAttribute("oninput","return;"),eT=typeof $z.oninput=="function"}QC=eT}else QC=!1;j6=QC&&(!document.documentMode||9<document.documentMode)}function Dz(){Ev&&(Ev.detachEvent("onpropertychange",B6),Jv=Ev=null)}function B6(e){if(e.propertyName==="value"&&lS(Jv)){var t=[];N6(t,Jv,e,CO(e)),_6(TX,t)}}function PX(e,t,r){e==="focusin"?(Dz(),Ev=t,Jv=r,Ev.attachEvent("onpropertychange",B6)):e==="focusout"&&Dz()}function AX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lS(Jv)}function MX(e,t){if(e==="click")return lS(t)}function OX(e,t){if(e==="input"||e==="change")return lS(t)}function IX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fl=typeof Object.is=="function"?Object.is:IX;function Qv(e,t){if(fl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!iP.call(t,i)||!fl(e[i],t[i]))return!1}return!0}function Lz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zz(e,t){var r=Lz(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lz(r)}}function F6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?F6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U6(){for(var e=window,t=g1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=g1(e.document)}return t}function $O(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RX(e){var t=U6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&F6(r.ownerDocument.documentElement,r)){if(n!==null&&$O(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=zz(r,o);var s=zz(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $X=Gc&&"documentMode"in document&&11>=document.documentMode,Mp=null,SP=null,Cv=null,EP=!1;function Nz(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;EP||Mp==null||Mp!==g1(n)||(n=Mp,"selectionStart"in n&&$O(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cv&&Qv(Cv,n)||(Cv=n,n=S1(SP,"onSelect"),0<n.length&&(t=new OO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mp)))}function tb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Op={animationend:tb("Animation","AnimationEnd"),animationiteration:tb("Animation","AnimationIteration"),animationstart:tb("Animation","AnimationStart"),transitionend:tb("Transition","TransitionEnd")},tT={},V6={};Gc&&(V6=document.createElement("div").style,"AnimationEvent"in window||(delete Op.animationend.animation,delete Op.animationiteration.animation,delete Op.animationstart.animation),"TransitionEvent"in window||delete Op.transitionend.transition);function cS(e){if(tT[e])return tT[e];if(!Op[e])return e;var t=Op[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V6)return tT[e]=t[r];return e}var W6=cS("animationend"),q6=cS("animationiteration"),H6=cS("animationstart"),G6=cS("transitionend"),Y6=new Map,jz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Of(e,t){Y6.set(e,t),ah(t,[e])}for(var rT=0;rT<jz.length;rT++){var nT=jz[rT],DX=nT.toLowerCase(),LX=nT[0].toUpperCase()+nT.slice(1);Of(DX,"on"+LX)}Of(W6,"onAnimationEnd");Of(q6,"onAnimationIteration");Of(H6,"onAnimationStart");Of("dblclick","onDoubleClick");Of("focusin","onFocus");Of("focusout","onBlur");Of(G6,"onTransitionEnd");mm("onMouseEnter",["mouseout","mouseover"]);mm("onMouseLeave",["mouseout","mouseover"]);mm("onPointerEnter",["pointerout","pointerover"]);mm("onPointerLeave",["pointerout","pointerover"]);ah("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ah("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ah("onBeforeInput",["compositionend","keypress","textInput","paste"]);ah("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zX=new Set("cancel close invalid load scroll toggle".split(" ").concat(fv));function Bz(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,DZ(n,t,void 0,e),e.currentTarget=null}function K6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],d=a.instance,h=a.currentTarget;if(a=a.listener,d!==o&&i.isPropagationStopped())break e;Bz(i,a,h),o=d}else for(s=0;s<n.length;s++){if(a=n[s],d=a.instance,h=a.currentTarget,a=a.listener,d!==o&&i.isPropagationStopped())break e;Bz(i,a,h),o=d}}}if(v1)throw e=_P,v1=!1,_P=null,e}function On(e,t){var r=t[AP];r===void 0&&(r=t[AP]=new Set);var n=e+"__bubble";r.has(n)||(Z6(t,e,2,!1),r.add(n))}function iT(e,t,r){var n=0;t&&(n|=4),Z6(r,e,n,t)}var rb="_reactListening"+Math.random().toString(36).slice(2);function e0(e){if(!e[rb]){e[rb]=!0,n6.forEach(function(r){r!=="selectionchange"&&(zX.has(r)||iT(r,!1,e),iT(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rb]||(t[rb]=!0,iT("selectionchange",!1,t))}}function Z6(e,t,r,n){switch(R6(t)){case 1:var i=XZ;break;case 4:i=JZ;break;default:i=AO}r=i.bind(null,t,r,e),i=void 0,!vP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function oT(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Td(a),s===null)return;if(d=s.tag,d===5||d===6){n=o=s;continue e}a=a.parentNode}}n=n.return}_6(function(){var h=o,g=CO(r),v=[];e:{var b=Y6.get(e);if(b!==void 0){var M=OO,P=e;switch(e){case"keypress":if(Hb(r)===0)break e;case"keydown":case"keyup":M=hX;break;case"focusin":P="focus",M=JC;break;case"focusout":P="blur",M=JC;break;case"beforeblur":case"afterblur":M=JC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Pz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=tX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=gX;break;case W6:case q6:case H6:M=iX;break;case G6:M=vX;break;case"scroll":M=QZ;break;case"wheel":M=xX;break;case"copy":case"cut":case"paste":M=aX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Mz}var w=(t&4)!==0,A=!w&&e==="scroll",O=w?b!==null?b+"Capture":null:b;w=[];for(var I=h,C;I!==null;){C=I;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,O!==null&&(R=Yv(I,O),R!=null&&w.push(t0(I,R,C)))),A)break;I=I.return}0<w.length&&(b=new M(b,P,null,r,g),v.push({event:b,listeners:w}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",b&&r!==gP&&(P=r.relatedTarget||r.fromElement)&&(Td(P)||P[Yc]))break e;if((M||b)&&(b=g.window===g?g:(b=g.ownerDocument)?b.defaultView||b.parentWindow:window,M?(P=r.relatedTarget||r.toElement,M=h,P=P?Td(P):null,P!==null&&(A=sh(P),P!==A||P.tag!==5&&P.tag!==6)&&(P=null)):(M=null,P=h),M!==P)){if(w=Pz,R="onMouseLeave",O="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(w=Mz,R="onPointerLeave",O="onPointerEnter",I="pointer"),A=M==null?b:Ip(M),C=P==null?b:Ip(P),b=new w(R,I+"leave",M,r,g),b.target=A,b.relatedTarget=C,R=null,Td(g)===h&&(w=new w(O,I+"enter",P,r,g),w.target=C,w.relatedTarget=A,R=w),A=R,M&&P)t:{for(w=M,O=P,I=0,C=w;C;C=sp(C))I++;for(C=0,R=O;R;R=sp(R))C++;for(;0<I-C;)w=sp(w),I--;for(;0<C-I;)O=sp(O),C--;for(;I--;){if(w===O||O!==null&&w===O.alternate)break t;w=sp(w),O=sp(O)}w=null}else w=null;M!==null&&Fz(v,b,M,w,!1),P!==null&&A!==null&&Fz(v,A,P,w,!0)}}e:{if(b=h?Ip(h):window,M=b.nodeName&&b.nodeName.toLowerCase(),M==="select"||M==="input"&&b.type==="file")var z=kX;else if(Rz(b))if(j6)z=OX;else{z=AX;var L=PX}else(M=b.nodeName)&&M.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(z=MX);if(z&&(z=z(e,h))){N6(v,z,r,g);break e}L&&L(e,b,h),e==="focusout"&&(L=b._wrapperState)&&L.controlled&&b.type==="number"&&fP(b,"number",b.value)}switch(L=h?Ip(h):window,e){case"focusin":(Rz(L)||L.contentEditable==="true")&&(Mp=L,SP=h,Cv=null);break;case"focusout":Cv=SP=Mp=null;break;case"mousedown":EP=!0;break;case"contextmenu":case"mouseup":case"dragend":EP=!1,Nz(v,r,g);break;case"selectionchange":if($X)break;case"keydown":case"keyup":Nz(v,r,g)}var F;if(RO)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Ap?L6(e,r)&&(H="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(D6&&r.locale!=="ko"&&(Ap||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ap&&(F=$6()):(Yu=g,MO="value"in Yu?Yu.value:Yu.textContent,Ap=!0)),L=S1(h,H),0<L.length&&(H=new Az(H,e,null,r,g),v.push({event:H,listeners:L}),F?H.data=F:(F=z6(r),F!==null&&(H.data=F)))),(F=wX?SX(e,r):EX(e,r))&&(h=S1(h,"onBeforeInput"),0<h.length&&(g=new Az("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:h}),g.data=F))}K6(v,t)})}function t0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function S1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yv(e,r),o!=null&&n.unshift(t0(e,o,i)),o=Yv(e,t),o!=null&&n.push(t0(e,o,i))),e=e.return}return n}function sp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fz(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,d=a.alternate,h=a.stateNode;if(d!==null&&d===n)break;a.tag===5&&h!==null&&(a=h,i?(d=Yv(r,o),d!=null&&s.unshift(t0(r,d,a))):i||(d=Yv(r,o),d!=null&&s.push(t0(r,d,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var NX=/\r\n?/g,jX=/\u0000|\uFFFD/g;function Uz(e){return(typeof e=="string"?e:""+e).replace(NX,`
`).replace(jX,"")}function nb(e,t,r){if(t=Uz(t),Uz(e)!==t&&r)throw Error(yt(425))}function E1(){}var CP=null,TP=null;function kP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PP=typeof setTimeout=="function"?setTimeout:void 0,BX=typeof clearTimeout=="function"?clearTimeout:void 0,Vz=typeof Promise=="function"?Promise:void 0,FX=typeof queueMicrotask=="function"?queueMicrotask:typeof Vz<"u"?function(e){return Vz.resolve(null).then(e).catch(UX)}:PP;function UX(e){setTimeout(function(){throw e})}function aT(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Xv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Xv(t)}function lf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var og=Math.random().toString(36).slice(2),zl="__reactFiber$"+og,r0="__reactProps$"+og,Yc="__reactContainer$"+og,AP="__reactEvents$"+og,VX="__reactListeners$"+og,WX="__reactHandles$"+og;function Td(e){var t=e[zl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yc]||r[zl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wz(e);e!==null;){if(r=e[zl])return r;e=Wz(e)}return t}e=r,r=e.parentNode}return null}function f_(e){return e=e[zl]||e[Yc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ip(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(yt(33))}function uS(e){return e[r0]||null}var MP=[],Rp=-1;function If(e){return{current:e}}function $n(e){0>Rp||(e.current=MP[Rp],MP[Rp]=null,Rp--)}function Cn(e,t){Rp++,MP[Rp]=e.current,e.current=t}var Sf={},Do=If(Sf),_a=If(!1),qd=Sf;function gm(e,t){var r=e.type.contextTypes;if(!r)return Sf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xa(e){return e=e.childContextTypes,e!=null}function C1(){$n(_a),$n(Do)}function qz(e,t,r){if(Do.current!==Sf)throw Error(yt(168));Cn(Do,t),Cn(_a,r)}function X6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(yt(108,PZ(e)||"Unknown",i));return ai({},r,n)}function T1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sf,qd=Do.current,Cn(Do,e),Cn(_a,_a.current),!0}function Hz(e,t,r){var n=e.stateNode;if(!n)throw Error(yt(169));r?(e=X6(e,t,qd),n.__reactInternalMemoizedMergedChildContext=e,$n(_a),$n(Do),Cn(Do,e)):$n(_a),Cn(_a,r)}var Oc=null,fS=!1,sT=!1;function J6(e){Oc===null?Oc=[e]:Oc.push(e)}function qX(e){fS=!0,J6(e)}function Rf(){if(!sT&&Oc!==null){sT=!0;var e=0,t=un;try{var r=Oc;for(un=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Oc=null,fS=!1}catch(i){throw Oc!==null&&(Oc=Oc.slice(e+1)),S6(TO,Rf),i}finally{un=t,sT=!1}}return null}var $p=[],Dp=0,k1=null,P1=0,hs=[],ps=0,Hd=null,Rc=1,$c="";function pd(e,t){$p[Dp++]=P1,$p[Dp++]=k1,k1=e,P1=t}function Q6(e,t,r){hs[ps++]=Rc,hs[ps++]=$c,hs[ps++]=Hd,Hd=e;var n=Rc;e=$c;var i=32-cl(n)-1;n&=~(1<<i),r+=1;var o=32-cl(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Rc=1<<32-cl(t)+i|r<<i|n,$c=o+e}else Rc=1<<o|r<<i|n,$c=e}function DO(e){e.return!==null&&(pd(e,1),Q6(e,1,0))}function LO(e){for(;e===k1;)k1=$p[--Dp],$p[Dp]=null,P1=$p[--Dp],$p[Dp]=null;for(;e===Hd;)Hd=hs[--ps],hs[ps]=null,$c=hs[--ps],hs[ps]=null,Rc=hs[--ps],hs[ps]=null}var Wa=null,Va=null,Hn=!1,rl=null;function eU(e,t){var r=gs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gz(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wa=e,Va=lf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wa=e,Va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hd!==null?{id:Rc,overflow:$c}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wa=e,Va=null,!0):!1;default:return!1}}function OP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function IP(e){if(Hn){var t=Va;if(t){var r=t;if(!Gz(e,t)){if(OP(e))throw Error(yt(418));t=lf(r.nextSibling);var n=Wa;t&&Gz(e,t)?eU(n,r):(e.flags=e.flags&-4097|2,Hn=!1,Wa=e)}}else{if(OP(e))throw Error(yt(418));e.flags=e.flags&-4097|2,Hn=!1,Wa=e}}}function Yz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wa=e}function ib(e){if(e!==Wa)return!1;if(!Hn)return Yz(e),Hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kP(e.type,e.memoizedProps)),t&&(t=Va)){if(OP(e))throw tU(),Error(yt(418));for(;t;)eU(e,t),t=lf(t.nextSibling)}if(Yz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(yt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Va=lf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Va=null}}else Va=Wa?lf(e.stateNode.nextSibling):null;return!0}function tU(){for(var e=Va;e;)e=lf(e.nextSibling)}function ym(){Va=Wa=null,Hn=!1}function zO(e){rl===null?rl=[e]:rl.push(e)}var HX=su.ReactCurrentBatchConfig;function Qs(e,t){if(e&&e.defaultProps){t=ai({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var A1=If(null),M1=null,Lp=null,NO=null;function jO(){NO=Lp=M1=null}function BO(e){var t=A1.current;$n(A1),e._currentValue=t}function RP(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qp(e,t){M1=e,NO=Lp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ya=!0),e.firstContext=null)}function Cs(e){var t=e._currentValue;if(NO!==e)if(e={context:e,memoizedValue:t,next:null},Lp===null){if(M1===null)throw Error(yt(308));Lp=e,M1.dependencies={lanes:0,firstContext:e}}else Lp=Lp.next=e;return t}var kd=null;function FO(e){kd===null?kd=[e]:kd.push(e)}function rU(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,FO(t)):(r.next=i.next,i.next=r),t.interleaved=r,Kc(e,n)}function Kc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vu=!1;function UO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Kc(e,r)}return i=n.interleaved,i===null?(t.next=t,FO(n)):(t.next=i.next,i.next=t),n.interleaved=t,Kc(e,r)}function Gb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kO(e,r)}}function Kz(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function O1(e,t,r,n){var i=e.updateQueue;Vu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var d=a,h=d.next;d.next=null,s===null?o=h:s.next=h,s=d;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=d))}if(o!==null){var v=i.baseState;s=0,g=h=d=null,a=o;do{var b=a.lane,M=a.eventTime;if((n&b)===b){g!==null&&(g=g.next={eventTime:M,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var P=e,w=a;switch(b=t,M=r,w.tag){case 1:if(P=w.payload,typeof P=="function"){v=P.call(M,v,b);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=w.payload,b=typeof P=="function"?P.call(M,v,b):P,b==null)break e;v=ai({},v,b);break e;case 2:Vu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[a]:b.push(a))}else M={eventTime:M,lane:b,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=M,d=v):g=g.next=M,s|=b;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;b=a,a=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(1);if(g===null&&(d=v),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Yd|=s,e.lanes=s,e.memoizedState=v}}function Zz(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(yt(191,i));i.call(n)}}}var iU=new r6.Component().refs;function $P(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ai({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dS={isMounted:function(e){return(e=e._reactInternals)?sh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ta(),i=ff(e),o=Uc(n,i);o.payload=t,r!=null&&(o.callback=r),t=cf(e,o,i),t!==null&&(ul(t,e,i,n),Gb(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ta(),i=ff(e),o=Uc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=cf(e,o,i),t!==null&&(ul(t,e,i,n),Gb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ta(),n=ff(e),i=Uc(r,n);i.tag=2,t!=null&&(i.callback=t),t=cf(e,i,n),t!==null&&(ul(t,e,n,r),Gb(t,e,n))}};function Xz(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Qv(r,n)||!Qv(i,o):!0}function oU(e,t,r){var n=!1,i=Sf,o=t.contextType;return typeof o=="object"&&o!==null?o=Cs(o):(i=xa(t)?qd:Do.current,n=t.contextTypes,o=(n=n!=null)?gm(e,i):Sf),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dS,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Jz(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dS.enqueueReplaceState(t,t.state,null)}function DP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=iU,UO(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Cs(o):(o=xa(t)?qd:Do.current,i.context=gm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&($P(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dS.enqueueReplaceState(i,i.state,null),O1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Iy(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(yt(309));var n=r.stateNode}if(!n)throw Error(yt(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===iU&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(yt(284));if(!r._owner)throw Error(yt(290,e))}return e}function ob(e,t){throw e=Object.prototype.toString.call(t),Error(yt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qz(e){var t=e._init;return t(e._payload)}function aU(e){function t(O,I){if(e){var C=O.deletions;C===null?(O.deletions=[I],O.flags|=16):C.push(I)}}function r(O,I){if(!e)return null;for(;I!==null;)t(O,I),I=I.sibling;return null}function n(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function i(O,I){return O=df(O,I),O.index=0,O.sibling=null,O}function o(O,I,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<I?(O.flags|=2,I):C):(O.flags|=2,I)):(O.flags|=1048576,I)}function s(O){return e&&O.alternate===null&&(O.flags|=2),O}function a(O,I,C,R){return I===null||I.tag!==6?(I=pT(C,O.mode,R),I.return=O,I):(I=i(I,C),I.return=O,I)}function d(O,I,C,R){var z=C.type;return z===Pp?g(O,I,C.props.children,R,C.key):I!==null&&(I.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Uu&&Qz(z)===I.type)?(R=i(I,C.props),R.ref=Iy(O,I,C),R.return=O,R):(R=Qb(C.type,C.key,C.props,null,O.mode,R),R.ref=Iy(O,I,C),R.return=O,R)}function h(O,I,C,R){return I===null||I.tag!==4||I.stateNode.containerInfo!==C.containerInfo||I.stateNode.implementation!==C.implementation?(I=mT(C,O.mode,R),I.return=O,I):(I=i(I,C.children||[]),I.return=O,I)}function g(O,I,C,R,z){return I===null||I.tag!==7?(I=Nd(C,O.mode,R,z),I.return=O,I):(I=i(I,C),I.return=O,I)}function v(O,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return I=pT(""+I,O.mode,C),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Yx:return C=Qb(I.type,I.key,I.props,null,O.mode,C),C.ref=Iy(O,null,I),C.return=O,C;case kp:return I=mT(I,O.mode,C),I.return=O,I;case Uu:var R=I._init;return v(O,R(I._payload),C)}if(cv(I)||ky(I))return I=Nd(I,O.mode,C,null),I.return=O,I;ob(O,I)}return null}function b(O,I,C,R){var z=I!==null?I.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return z!==null?null:a(O,I,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yx:return C.key===z?d(O,I,C,R):null;case kp:return C.key===z?h(O,I,C,R):null;case Uu:return z=C._init,b(O,I,z(C._payload),R)}if(cv(C)||ky(C))return z!==null?null:g(O,I,C,R,null);ob(O,C)}return null}function M(O,I,C,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return O=O.get(C)||null,a(I,O,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Yx:return O=O.get(R.key===null?C:R.key)||null,d(I,O,R,z);case kp:return O=O.get(R.key===null?C:R.key)||null,h(I,O,R,z);case Uu:var L=R._init;return M(O,I,C,L(R._payload),z)}if(cv(R)||ky(R))return O=O.get(C)||null,g(I,O,R,z,null);ob(I,R)}return null}function P(O,I,C,R){for(var z=null,L=null,F=I,H=I=0,re=null;F!==null&&H<C.length;H++){F.index>H?(re=F,F=null):re=F.sibling;var te=b(O,F,C[H],R);if(te===null){F===null&&(F=re);break}e&&F&&te.alternate===null&&t(O,F),I=o(te,I,H),L===null?z=te:L.sibling=te,L=te,F=re}if(H===C.length)return r(O,F),Hn&&pd(O,H),z;if(F===null){for(;H<C.length;H++)F=v(O,C[H],R),F!==null&&(I=o(F,I,H),L===null?z=F:L.sibling=F,L=F);return Hn&&pd(O,H),z}for(F=n(O,F);H<C.length;H++)re=M(F,O,H,C[H],R),re!==null&&(e&&re.alternate!==null&&F.delete(re.key===null?H:re.key),I=o(re,I,H),L===null?z=re:L.sibling=re,L=re);return e&&F.forEach(function(ae){return t(O,ae)}),Hn&&pd(O,H),z}function w(O,I,C,R){var z=ky(C);if(typeof z!="function")throw Error(yt(150));if(C=z.call(C),C==null)throw Error(yt(151));for(var L=z=null,F=I,H=I=0,re=null,te=C.next();F!==null&&!te.done;H++,te=C.next()){F.index>H?(re=F,F=null):re=F.sibling;var ae=b(O,F,te.value,R);if(ae===null){F===null&&(F=re);break}e&&F&&ae.alternate===null&&t(O,F),I=o(ae,I,H),L===null?z=ae:L.sibling=ae,L=ae,F=re}if(te.done)return r(O,F),Hn&&pd(O,H),z;if(F===null){for(;!te.done;H++,te=C.next())te=v(O,te.value,R),te!==null&&(I=o(te,I,H),L===null?z=te:L.sibling=te,L=te);return Hn&&pd(O,H),z}for(F=n(O,F);!te.done;H++,te=C.next())te=M(F,O,H,te.value,R),te!==null&&(e&&te.alternate!==null&&F.delete(te.key===null?H:te.key),I=o(te,I,H),L===null?z=te:L.sibling=te,L=te);return e&&F.forEach(function(de){return t(O,de)}),Hn&&pd(O,H),z}function A(O,I,C,R){if(typeof C=="object"&&C!==null&&C.type===Pp&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Yx:e:{for(var z=C.key,L=I;L!==null;){if(L.key===z){if(z=C.type,z===Pp){if(L.tag===7){r(O,L.sibling),I=i(L,C.props.children),I.return=O,O=I;break e}}else if(L.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Uu&&Qz(z)===L.type){r(O,L.sibling),I=i(L,C.props),I.ref=Iy(O,L,C),I.return=O,O=I;break e}r(O,L);break}else t(O,L);L=L.sibling}C.type===Pp?(I=Nd(C.props.children,O.mode,R,C.key),I.return=O,O=I):(R=Qb(C.type,C.key,C.props,null,O.mode,R),R.ref=Iy(O,I,C),R.return=O,O=R)}return s(O);case kp:e:{for(L=C.key;I!==null;){if(I.key===L)if(I.tag===4&&I.stateNode.containerInfo===C.containerInfo&&I.stateNode.implementation===C.implementation){r(O,I.sibling),I=i(I,C.children||[]),I.return=O,O=I;break e}else{r(O,I);break}else t(O,I);I=I.sibling}I=mT(C,O.mode,R),I.return=O,O=I}return s(O);case Uu:return L=C._init,A(O,I,L(C._payload),R)}if(cv(C))return P(O,I,C,R);if(ky(C))return w(O,I,C,R);ob(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,I!==null&&I.tag===6?(r(O,I.sibling),I=i(I,C),I.return=O,O=I):(r(O,I),I=pT(C,O.mode,R),I.return=O,O=I),s(O)):r(O,I)}return A}var vm=aU(!0),sU=aU(!1),d_={},Wl=If(d_),n0=If(d_),i0=If(d_);function Pd(e){if(e===d_)throw Error(yt(174));return e}function VO(e,t){switch(Cn(i0,t),Cn(n0,e),Cn(Wl,d_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hP(t,e)}$n(Wl),Cn(Wl,t)}function _m(){$n(Wl),$n(n0),$n(i0)}function lU(e){Pd(i0.current);var t=Pd(Wl.current),r=hP(t,e.type);t!==r&&(Cn(n0,e),Cn(Wl,r))}function WO(e){n0.current===e&&($n(Wl),$n(n0))}var ni=If(0);function I1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lT=[];function qO(){for(var e=0;e<lT.length;e++)lT[e]._workInProgressVersionPrimary=null;lT.length=0}var Yb=su.ReactCurrentDispatcher,cT=su.ReactCurrentBatchConfig,Gd=0,oi=null,Ri=null,Zi=null,R1=!1,Tv=!1,o0=0,GX=0;function Eo(){throw Error(yt(321))}function HO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fl(e[r],t[r]))return!1;return!0}function GO(e,t,r,n,i,o){if(Gd=o,oi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yb.current=e===null||e.memoizedState===null?XX:JX,e=r(n,i),Tv){o=0;do{if(Tv=!1,o0=0,25<=o)throw Error(yt(301));o+=1,Zi=Ri=null,t.updateQueue=null,Yb.current=QX,e=r(n,i)}while(Tv)}if(Yb.current=$1,t=Ri!==null&&Ri.next!==null,Gd=0,Zi=Ri=oi=null,R1=!1,t)throw Error(yt(300));return e}function YO(){var e=o0!==0;return o0=0,e}function Rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?oi.memoizedState=Zi=e:Zi=Zi.next=e,Zi}function Ts(){if(Ri===null){var e=oi.alternate;e=e!==null?e.memoizedState:null}else e=Ri.next;var t=Zi===null?oi.memoizedState:Zi.next;if(t!==null)Zi=t,Ri=e;else{if(e===null)throw Error(yt(310));Ri=e,e={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},Zi===null?oi.memoizedState=Zi=e:Zi=Zi.next=e}return Zi}function a0(e,t){return typeof t=="function"?t(e):t}function uT(e){var t=Ts(),r=t.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=e;var n=Ri,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,d=null,h=o;do{var g=h.lane;if((Gd&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(a=d=v,s=n):d=d.next=v,oi.lanes|=g,Yd|=g}h=h.next}while(h!==null&&h!==o);d===null?s=n:d.next=a,fl(n,t.memoizedState)||(ya=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,oi.lanes|=o,Yd|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fT(e){var t=Ts(),r=t.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);fl(o,t.memoizedState)||(ya=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function cU(){}function uU(e,t){var r=oi,n=Ts(),i=t(),o=!fl(n.memoizedState,i);if(o&&(n.memoizedState=i,ya=!0),n=n.queue,KO(hU.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Zi!==null&&Zi.memoizedState.tag&1){if(r.flags|=2048,s0(9,dU.bind(null,r,n,i,t),void 0,null),Xi===null)throw Error(yt(349));Gd&30||fU(r,t,i)}return i}function fU(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oi.updateQueue,t===null?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dU(e,t,r,n){t.value=r,t.getSnapshot=n,pU(t)&&mU(e)}function hU(e,t,r){return r(function(){pU(t)&&mU(e)})}function pU(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fl(e,r)}catch{return!0}}function mU(e){var t=Kc(e,1);t!==null&&ul(t,e,1,-1)}function eN(e){var t=Rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:e},t.queue=e,e=e.dispatch=ZX.bind(null,oi,e),[t.memoizedState,e]}function s0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oi.updateQueue,t===null?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gU(){return Ts().memoizedState}function Kb(e,t,r,n){var i=Rl();oi.flags|=e,i.memoizedState=s0(1|t,r,void 0,n===void 0?null:n)}function hS(e,t,r,n){var i=Ts();n=n===void 0?null:n;var o=void 0;if(Ri!==null){var s=Ri.memoizedState;if(o=s.destroy,n!==null&&HO(n,s.deps)){i.memoizedState=s0(t,r,o,n);return}}oi.flags|=e,i.memoizedState=s0(1|t,r,o,n)}function tN(e,t){return Kb(8390656,8,e,t)}function KO(e,t){return hS(2048,8,e,t)}function yU(e,t){return hS(4,2,e,t)}function vU(e,t){return hS(4,4,e,t)}function _U(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xU(e,t,r){return r=r!=null?r.concat([e]):null,hS(4,4,_U.bind(null,t,e),r)}function ZO(){}function bU(e,t){var r=Ts();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&HO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wU(e,t){var r=Ts();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&HO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function SU(e,t,r){return Gd&21?(fl(r,t)||(r=T6(),oi.lanes|=r,Yd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=r)}function YX(e,t){var r=un;un=r!==0&&4>r?r:4,e(!0);var n=cT.transition;cT.transition={};try{e(!1),t()}finally{un=r,cT.transition=n}}function EU(){return Ts().memoizedState}function KX(e,t,r){var n=ff(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},CU(e))TU(t,r);else if(r=rU(e,t,r,n),r!==null){var i=ta();ul(r,e,n,i),kU(r,t,n)}}function ZX(e,t,r){var n=ff(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(CU(e))TU(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,fl(a,s)){var d=t.interleaved;d===null?(i.next=i,FO(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=rU(e,t,i,n),r!==null&&(i=ta(),ul(r,e,n,i),kU(r,t,n))}}function CU(e){var t=e.alternate;return e===oi||t!==null&&t===oi}function TU(e,t){Tv=R1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kU(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kO(e,r)}}var $1={readContext:Cs,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},XX={readContext:Cs,useCallback:function(e,t){return Rl().memoizedState=[e,t===void 0?null:t],e},useContext:Cs,useEffect:tN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kb(4194308,4,_U.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kb(4,2,e,t)},useMemo:function(e,t){var r=Rl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KX.bind(null,oi,e),[n.memoizedState,e]},useRef:function(e){var t=Rl();return e={current:e},t.memoizedState=e},useState:eN,useDebugValue:ZO,useDeferredValue:function(e){return Rl().memoizedState=e},useTransition:function(){var e=eN(!1),t=e[0];return e=YX.bind(null,e[1]),Rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oi,i=Rl();if(Hn){if(r===void 0)throw Error(yt(407));r=r()}else{if(r=t(),Xi===null)throw Error(yt(349));Gd&30||fU(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,tN(hU.bind(null,n,o,e),[e]),n.flags|=2048,s0(9,dU.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Rl(),t=Xi.identifierPrefix;if(Hn){var r=$c,n=Rc;r=(n&~(1<<32-cl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=o0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JX={readContext:Cs,useCallback:bU,useContext:Cs,useEffect:KO,useImperativeHandle:xU,useInsertionEffect:yU,useLayoutEffect:vU,useMemo:wU,useReducer:uT,useRef:gU,useState:function(){return uT(a0)},useDebugValue:ZO,useDeferredValue:function(e){var t=Ts();return SU(t,Ri.memoizedState,e)},useTransition:function(){var e=uT(a0)[0],t=Ts().memoizedState;return[e,t]},useMutableSource:cU,useSyncExternalStore:uU,useId:EU,unstable_isNewReconciler:!1},QX={readContext:Cs,useCallback:bU,useContext:Cs,useEffect:KO,useImperativeHandle:xU,useInsertionEffect:yU,useLayoutEffect:vU,useMemo:wU,useReducer:fT,useRef:gU,useState:function(){return fT(a0)},useDebugValue:ZO,useDeferredValue:function(e){var t=Ts();return Ri===null?t.memoizedState=e:SU(t,Ri.memoizedState,e)},useTransition:function(){var e=fT(a0)[0],t=Ts().memoizedState;return[e,t]},useMutableSource:cU,useSyncExternalStore:uU,useId:EU,unstable_isNewReconciler:!1};function xm(e,t){try{var r="",n=t;do r+=kZ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function dT(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function LP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eJ=typeof WeakMap=="function"?WeakMap:Map;function PU(e,t,r){r=Uc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){L1||(L1=!0,HP=n),LP(e,t)},r}function AU(e,t,r){r=Uc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){LP(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){LP(e,t),typeof n!="function"&&(uf===null?uf=new Set([this]):uf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function rN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=pJ.bind(null,e,t,r),t.then(e,e))}function nN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iN(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Uc(-1,1),t.tag=2,cf(r,t,1))),r.lanes|=1),e)}var tJ=su.ReactCurrentOwner,ya=!1;function Xo(e,t,r,n){t.child=e===null?sU(t,null,r,n):vm(t,e.child,r,n)}function oN(e,t,r,n,i){r=r.render;var o=t.ref;return Qp(t,i),n=GO(e,t,r,n,o,i),r=YO(),e!==null&&!ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zc(e,t,i)):(Hn&&r&&DO(t),t.flags|=1,Xo(e,t,n,i),t.child)}function aN(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!iI(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,MU(e,t,o,n,i)):(e=Qb(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Qv,r(s,n)&&e.ref===t.ref)return Zc(e,t,i)}return t.flags|=1,e=df(o,n),e.ref=t.ref,e.return=t,t.child=e}function MU(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Qv(o,n)&&e.ref===t.ref)if(ya=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(ya=!0);else return t.lanes=e.lanes,Zc(e,t,i)}return zP(e,t,r,n,i)}function OU(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Np,Na),Na|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(Np,Na),Na|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Cn(Np,Na),Na|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Cn(Np,Na),Na|=n;return Xo(e,t,i,r),t.child}function IU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zP(e,t,r,n,i){var o=xa(r)?qd:Do.current;return o=gm(t,o),Qp(t,i),r=GO(e,t,r,n,o,i),n=YO(),e!==null&&!ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zc(e,t,i)):(Hn&&n&&DO(t),t.flags|=1,Xo(e,t,r,i),t.child)}function sN(e,t,r,n,i){if(xa(r)){var o=!0;T1(t)}else o=!1;if(Qp(t,i),t.stateNode===null)Zb(e,t),oU(t,r,n),DP(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var d=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=Cs(h):(h=xa(r)?qd:Do.current,h=gm(t,h));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||d!==h)&&Jz(t,s,n,h),Vu=!1;var b=t.memoizedState;s.state=b,O1(t,n,s,i),d=t.memoizedState,a!==n||b!==d||_a.current||Vu?(typeof g=="function"&&($P(t,r,g,n),d=t.memoizedState),(a=Vu||Xz(t,r,a,n,b,d,h))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=h,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,nU(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:Qs(t.type,a),s.props=h,v=t.pendingProps,b=s.context,d=r.contextType,typeof d=="object"&&d!==null?d=Cs(d):(d=xa(r)?qd:Do.current,d=gm(t,d));var M=r.getDerivedStateFromProps;(g=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||b!==d)&&Jz(t,s,n,d),Vu=!1,b=t.memoizedState,s.state=b,O1(t,n,s,i);var P=t.memoizedState;a!==v||b!==P||_a.current||Vu?(typeof M=="function"&&($P(t,r,M,n),P=t.memoizedState),(h=Vu||Xz(t,r,h,n,b,P,d)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,P,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,P,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=P),s.props=n,s.state=P,s.context=d,n=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),n=!1)}return NP(e,t,r,n,o,i)}function NP(e,t,r,n,i,o){IU(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Hz(t,r,!1),Zc(e,t,o);n=t.stateNode,tJ.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=vm(t,e.child,null,o),t.child=vm(t,null,a,o)):Xo(e,t,a,o),t.memoizedState=n.state,i&&Hz(t,r,!0),t.child}function RU(e){var t=e.stateNode;t.pendingContext?qz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qz(e,t.context,!1),VO(e,t.containerInfo)}function lN(e,t,r,n,i){return ym(),zO(i),t.flags|=256,Xo(e,t,r,n),t.child}var jP={dehydrated:null,treeContext:null,retryLane:0};function BP(e){return{baseLanes:e,cachePool:null,transitions:null}}function $U(e,t,r){var n=t.pendingProps,i=ni.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Cn(ni,i&1),e===null)return IP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=gS(s,n,0,null),e=Nd(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=BP(r),t.memoizedState=jP,e):XO(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rJ(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var d={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=df(i,d),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=df(a,o):(o=Nd(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?BP(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=jP,n}return o=e.child,e=o.sibling,n=df(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function XO(e,t){return t=gS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ab(e,t,r,n){return n!==null&&zO(n),vm(t,e.child,null,r),e=XO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rJ(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=dT(Error(yt(422))),ab(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=gS({mode:"visible",children:n.children},i,0,null),o=Nd(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&vm(t,e.child,null,s),t.child.memoizedState=BP(s),t.memoizedState=jP,o);if(!(t.mode&1))return ab(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(yt(419)),n=dT(o,n,void 0),ab(e,t,s,n)}if(a=(s&e.childLanes)!==0,ya||a){if(n=Xi,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Kc(e,i),ul(n,e,i,-1))}return nI(),n=dT(Error(yt(421))),ab(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mJ.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Va=lf(i.nextSibling),Wa=t,Hn=!0,rl=null,e!==null&&(hs[ps++]=Rc,hs[ps++]=$c,hs[ps++]=Hd,Rc=e.id,$c=e.overflow,Hd=t),t=XO(t,n.children),t.flags|=4096,t)}function cN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),RP(e.return,t,r)}function hT(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function DU(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Xo(e,t,n.children,r),n=ni.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cN(e,r,t);else if(e.tag===19)cN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cn(ni,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&I1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),hT(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&I1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}hT(t,!0,r,null,o);break;case"together":hT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(yt(153));if(t.child!==null){for(e=t.child,r=df(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=df(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nJ(e,t,r){switch(t.tag){case 3:RU(t),ym();break;case 5:lU(t);break;case 1:xa(t.type)&&T1(t);break;case 4:VO(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Cn(A1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Cn(ni,ni.current&1),t.flags|=128,null):r&t.child.childLanes?$U(e,t,r):(Cn(ni,ni.current&1),e=Zc(e,t,r),e!==null?e.sibling:null);Cn(ni,ni.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return DU(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cn(ni,ni.current),n)break;return null;case 22:case 23:return t.lanes=0,OU(e,t,r)}return Zc(e,t,r)}var LU,FP,zU,NU;LU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};FP=function(){};zU=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Pd(Wl.current);var o=null;switch(r){case"input":i=cP(e,i),n=cP(e,n),o=[];break;case"select":i=ai({},i,{value:void 0}),n=ai({},n,{value:void 0}),o=[];break;case"textarea":i=dP(e,i),n=dP(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=E1)}pP(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Hv.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var d=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&d!==a&&(d!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in d)d.hasOwnProperty(s)&&a[s]!==d[s]&&(r||(r={}),r[s]=d[s])}else r||(o||(o=[]),o.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,a=a?a.__html:void 0,d!=null&&a!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Hv.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&On("scroll",e),o||a===d||(o=[])):(o=o||[]).push(h,d))}r&&(o=o||[]).push("style",r);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};NU=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ry(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Co(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function iJ(e,t,r){var n=t.pendingProps;switch(LO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Co(t),null;case 1:return xa(t.type)&&C1(),Co(t),null;case 3:return n=t.stateNode,_m(),$n(_a),$n(Do),qO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ib(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rl!==null&&(KP(rl),rl=null))),FP(e,t),Co(t),null;case 5:WO(t);var i=Pd(i0.current);if(r=t.type,e!==null&&t.stateNode!=null)zU(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(yt(166));return Co(t),null}if(e=Pd(Wl.current),ib(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zl]=t,n[r0]=o,e=(t.mode&1)!==0,r){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(i=0;i<fv.length;i++)On(fv[i],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":vz(n,o),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},On("invalid",n);break;case"textarea":xz(n,o),On("invalid",n)}pP(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&nb(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&nb(n.textContent,a,e),i=["children",""+a]):Hv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&On("scroll",n)}switch(r){case"input":Kx(n),_z(n,o,!0);break;case"textarea":Kx(n),bz(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=E1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[zl]=t,e[r0]=n,LU(e,t,!1,!1),t.stateNode=e;e:{switch(s=mP(r,n),r){case"dialog":On("cancel",e),On("close",e),i=n;break;case"iframe":case"object":case"embed":On("load",e),i=n;break;case"video":case"audio":for(i=0;i<fv.length;i++)On(fv[i],e);i=n;break;case"source":On("error",e),i=n;break;case"img":case"image":case"link":On("error",e),On("load",e),i=n;break;case"details":On("toggle",e),i=n;break;case"input":vz(e,n),i=cP(e,n),On("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ai({},n,{value:void 0}),On("invalid",e);break;case"textarea":xz(e,n),i=dP(e,n),On("invalid",e);break;default:i=n}pP(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var d=a[o];o==="style"?p6(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&d6(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Gv(e,d):typeof d=="number"&&Gv(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hv.hasOwnProperty(o)?d!=null&&o==="onScroll"&&On("scroll",e):d!=null&&bO(e,o,d,s))}switch(r){case"input":Kx(e),_z(e,n,!1);break;case"textarea":Kx(e),bz(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wf(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Kp(e,!!n.multiple,o,!1):n.defaultValue!=null&&Kp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=E1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Co(t),null;case 6:if(e&&t.stateNode!=null)NU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(yt(166));if(r=Pd(i0.current),Pd(Wl.current),ib(t)){if(n=t.stateNode,r=t.memoizedProps,n[zl]=t,(o=n.nodeValue!==r)&&(e=Wa,e!==null))switch(e.tag){case 3:nb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nb(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zl]=t,t.stateNode=n}return Co(t),null;case 13:if($n(ni),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hn&&Va!==null&&t.mode&1&&!(t.flags&128))tU(),ym(),t.flags|=98560,o=!1;else if(o=ib(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(yt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(yt(317));o[zl]=t}else ym(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Co(t),o=!1}else rl!==null&&(KP(rl),rl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ni.current&1?$i===0&&($i=3):nI())),t.updateQueue!==null&&(t.flags|=4),Co(t),null);case 4:return _m(),FP(e,t),e===null&&e0(t.stateNode.containerInfo),Co(t),null;case 10:return BO(t.type._context),Co(t),null;case 17:return xa(t.type)&&C1(),Co(t),null;case 19:if($n(ni),o=t.memoizedState,o===null)return Co(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)Ry(o,!1);else{if($i!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=I1(e),s!==null){for(t.flags|=128,Ry(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Cn(ni,ni.current&1|2),t.child}e=e.sibling}o.tail!==null&&bi()>bm&&(t.flags|=128,n=!0,Ry(o,!1),t.lanes=4194304)}else{if(!n)if(e=I1(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ry(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Hn)return Co(t),null}else 2*bi()-o.renderingStartTime>bm&&r!==1073741824&&(t.flags|=128,n=!0,Ry(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bi(),t.sibling=null,r=ni.current,Cn(ni,n?r&1|2:r&1),t):(Co(t),null);case 22:case 23:return rI(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Na&1073741824&&(Co(t),t.subtreeFlags&6&&(t.flags|=8192)):Co(t),null;case 24:return null;case 25:return null}throw Error(yt(156,t.tag))}function oJ(e,t){switch(LO(t),t.tag){case 1:return xa(t.type)&&C1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _m(),$n(_a),$n(Do),qO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return WO(t),null;case 13:if($n(ni),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(yt(340));ym()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $n(ni),null;case 4:return _m(),null;case 10:return BO(t.type._context),null;case 22:case 23:return rI(),null;case 24:return null;default:return null}}var sb=!1,Io=!1,aJ=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function zp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hi(e,t,n)}else r.current=null}function UP(e,t,r){try{r()}catch(n){hi(e,t,n)}}var uN=!1;function sJ(e,t){if(CP=b1,e=U6(),$O(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,d=-1,h=0,g=0,v=e,b=null;t:for(;;){for(var M;v!==r||i!==0&&v.nodeType!==3||(a=s+i),v!==o||n!==0&&v.nodeType!==3||(d=s+n),v.nodeType===3&&(s+=v.nodeValue.length),(M=v.firstChild)!==null;)b=v,v=M;for(;;){if(v===e)break t;if(b===r&&++h===i&&(a=s),b===o&&++g===n&&(d=s),(M=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=M}r=a===-1||d===-1?null:{start:a,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(TP={focusedElem:e,selectionRange:r},b1=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){t=Gt;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var w=P.memoizedProps,A=P.memoizedState,O=t.stateNode,I=O.getSnapshotBeforeUpdate(t.elementType===t.type?w:Qs(t.type,w),A);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(R){hi(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}return P=uN,uN=!1,P}function kv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&UP(t,r,o)}i=i.next}while(i!==n)}}function pS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function VP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jU(e){var t=e.alternate;t!==null&&(e.alternate=null,jU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zl],delete t[r0],delete t[AP],delete t[VX],delete t[WX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BU(e){return e.tag===5||e.tag===3||e.tag===4}function fN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function WP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=E1));else if(n!==4&&(e=e.child,e!==null))for(WP(e,t,r),e=e.sibling;e!==null;)WP(e,t,r),e=e.sibling}function qP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qP(e,t,r),e=e.sibling;e!==null;)qP(e,t,r),e=e.sibling}var oo=null,el=!1;function $u(e,t,r){for(r=r.child;r!==null;)FU(e,t,r),r=r.sibling}function FU(e,t,r){if(Vl&&typeof Vl.onCommitFiberUnmount=="function")try{Vl.onCommitFiberUnmount(aS,r)}catch{}switch(r.tag){case 5:Io||zp(r,t);case 6:var n=oo,i=el;oo=null,$u(e,t,r),oo=n,el=i,oo!==null&&(el?(e=oo,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):oo.removeChild(r.stateNode));break;case 18:oo!==null&&(el?(e=oo,r=r.stateNode,e.nodeType===8?aT(e.parentNode,r):e.nodeType===1&&aT(e,r),Xv(e)):aT(oo,r.stateNode));break;case 4:n=oo,i=el,oo=r.stateNode.containerInfo,el=!0,$u(e,t,r),oo=n,el=i;break;case 0:case 11:case 14:case 15:if(!Io&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&UP(r,t,s),i=i.next}while(i!==n)}$u(e,t,r);break;case 1:if(!Io&&(zp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){hi(r,t,a)}$u(e,t,r);break;case 21:$u(e,t,r);break;case 22:r.mode&1?(Io=(n=Io)||r.memoizedState!==null,$u(e,t,r),Io=n):$u(e,t,r);break;default:$u(e,t,r)}}function dN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aJ),t.forEach(function(n){var i=gJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ys(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:oo=a.stateNode,el=!1;break e;case 3:oo=a.stateNode.containerInfo,el=!0;break e;case 4:oo=a.stateNode.containerInfo,el=!0;break e}a=a.return}if(oo===null)throw Error(yt(160));FU(o,s,i),oo=null,el=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){hi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UU(t,e),t=t.sibling}function UU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ys(t,e),Ol(e),n&4){try{kv(3,e,e.return),pS(3,e)}catch(w){hi(e,e.return,w)}try{kv(5,e,e.return)}catch(w){hi(e,e.return,w)}}break;case 1:Ys(t,e),Ol(e),n&512&&r!==null&&zp(r,r.return);break;case 5:if(Ys(t,e),Ol(e),n&512&&r!==null&&zp(r,r.return),e.flags&32){var i=e.stateNode;try{Gv(i,"")}catch(w){hi(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&c6(i,o),mP(a,s);var h=mP(a,o);for(s=0;s<d.length;s+=2){var g=d[s],v=d[s+1];g==="style"?p6(i,v):g==="dangerouslySetInnerHTML"?d6(i,v):g==="children"?Gv(i,v):bO(i,g,v,h)}switch(a){case"input":uP(i,o);break;case"textarea":u6(i,o);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var M=o.value;M!=null?Kp(i,!!o.multiple,M,!1):b!==!!o.multiple&&(o.defaultValue!=null?Kp(i,!!o.multiple,o.defaultValue,!0):Kp(i,!!o.multiple,o.multiple?[]:"",!1))}i[r0]=o}catch(w){hi(e,e.return,w)}}break;case 6:if(Ys(t,e),Ol(e),n&4){if(e.stateNode===null)throw Error(yt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){hi(e,e.return,w)}}break;case 3:if(Ys(t,e),Ol(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xv(t.containerInfo)}catch(w){hi(e,e.return,w)}break;case 4:Ys(t,e),Ol(e);break;case 13:Ys(t,e),Ol(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(eI=bi())),n&4&&dN(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Io=(h=Io)||g,Ys(t,e),Io=h):Ys(t,e),Ol(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Gt=e,g=e.child;g!==null;){for(v=Gt=g;Gt!==null;){switch(b=Gt,M=b.child,b.tag){case 0:case 11:case 14:case 15:kv(4,b,b.return);break;case 1:zp(b,b.return);var P=b.stateNode;if(typeof P.componentWillUnmount=="function"){n=b,r=b.return;try{t=n,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(w){hi(n,r,w)}}break;case 5:zp(b,b.return);break;case 22:if(b.memoizedState!==null){pN(v);continue}}M!==null?(M.return=b,Gt=M):pN(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=v.stateNode,d=v.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,a.style.display=h6("display",s))}catch(w){hi(e,e.return,w)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(w){hi(e,e.return,w)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ys(t,e),Ol(e),n&4&&dN(e);break;case 21:break;default:Ys(t,e),Ol(e)}}function Ol(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(BU(r)){var n=r;break e}r=r.return}throw Error(yt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gv(i,""),n.flags&=-33);var o=fN(e);qP(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=fN(e);WP(e,a,s);break;default:throw Error(yt(161))}}catch(d){hi(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lJ(e,t,r){Gt=e,VU(e)}function VU(e,t,r){for(var n=(e.mode&1)!==0;Gt!==null;){var i=Gt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||sb;if(!s){var a=i.alternate,d=a!==null&&a.memoizedState!==null||Io;a=sb;var h=Io;if(sb=s,(Io=d)&&!h)for(Gt=i;Gt!==null;)s=Gt,d=s.child,s.tag===22&&s.memoizedState!==null?mN(i):d!==null?(d.return=s,Gt=d):mN(i);for(;o!==null;)Gt=o,VU(o),o=o.sibling;Gt=i,sb=a,Io=h}hN(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Gt=o):hN(e)}}function hN(e){for(;Gt!==null;){var t=Gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Io||pS(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Io)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zz(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zz(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&Xv(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}Io||t.flags&512&&VP(t)}catch(b){hi(t,t.return,b)}}if(t===e){Gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function pN(e){for(;Gt!==null;){var t=Gt;if(t===e){Gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Gt=r;break}Gt=t.return}}function mN(e){for(;Gt!==null;){var t=Gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pS(4,t)}catch(d){hi(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){hi(t,i,d)}}var o=t.return;try{VP(t)}catch(d){hi(t,o,d)}break;case 5:var s=t.return;try{VP(t)}catch(d){hi(t,s,d)}}}catch(d){hi(t,t.return,d)}if(t===e){Gt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Gt=a;break}Gt=t.return}}var cJ=Math.ceil,D1=su.ReactCurrentDispatcher,JO=su.ReactCurrentOwner,_s=su.ReactCurrentBatchConfig,Fr=0,Xi=null,Ai=null,uo=0,Na=0,Np=If(0),$i=0,l0=null,Yd=0,mS=0,QO=0,Pv=null,da=null,eI=0,bm=1/0,Ac=null,L1=!1,HP=null,uf=null,lb=!1,Ku=null,z1=0,Av=0,GP=null,Xb=-1,Jb=0;function ta(){return Fr&6?bi():Xb!==-1?Xb:Xb=bi()}function ff(e){return e.mode&1?Fr&2&&uo!==0?uo&-uo:HX.transition!==null?(Jb===0&&(Jb=T6()),Jb):(e=un,e!==0||(e=window.event,e=e===void 0?16:R6(e.type)),e):1}function ul(e,t,r,n){if(50<Av)throw Av=0,GP=null,Error(yt(185));c_(e,r,n),(!(Fr&2)||e!==Xi)&&(e===Xi&&(!(Fr&2)&&(mS|=r),$i===4&&Hu(e,uo)),ba(e,n),r===1&&Fr===0&&!(t.mode&1)&&(bm=bi()+500,fS&&Rf()))}function ba(e,t){var r=e.callbackNode;HZ(e,t);var n=x1(e,e===Xi?uo:0);if(n===0)r!==null&&Ez(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ez(r),t===1)e.tag===0?qX(gN.bind(null,e)):J6(gN.bind(null,e)),FX(function(){!(Fr&6)&&Rf()}),r=null;else{switch(k6(n)){case 1:r=TO;break;case 4:r=E6;break;case 16:r=_1;break;case 536870912:r=C6;break;default:r=_1}r=XU(r,WU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function WU(e,t){if(Xb=-1,Jb=0,Fr&6)throw Error(yt(327));var r=e.callbackNode;if(em()&&e.callbackNode!==r)return null;var n=x1(e,e===Xi?uo:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=N1(e,n);else{t=n;var i=Fr;Fr|=2;var o=HU();(Xi!==e||uo!==t)&&(Ac=null,bm=bi()+500,zd(e,t));do try{dJ();break}catch(a){qU(e,a)}while(1);jO(),D1.current=o,Fr=i,Ai!==null?t=0:(Xi=null,uo=0,t=$i)}if(t!==0){if(t===2&&(i=xP(e),i!==0&&(n=i,t=YP(e,i))),t===1)throw r=l0,zd(e,0),Hu(e,n),ba(e,bi()),r;if(t===6)Hu(e,n);else{if(i=e.current.alternate,!(n&30)&&!uJ(i)&&(t=N1(e,n),t===2&&(o=xP(e),o!==0&&(n=o,t=YP(e,o))),t===1))throw r=l0,zd(e,0),Hu(e,n),ba(e,bi()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(yt(345));case 2:md(e,da,Ac);break;case 3:if(Hu(e,n),(n&130023424)===n&&(t=eI+500-bi(),10<t)){if(x1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ta(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=PP(md.bind(null,e,da,Ac),t);break}md(e,da,Ac);break;case 4:if(Hu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-cl(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=bi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cJ(n/1960))-n,10<n){e.timeoutHandle=PP(md.bind(null,e,da,Ac),n);break}md(e,da,Ac);break;case 5:md(e,da,Ac);break;default:throw Error(yt(329))}}}return ba(e,bi()),e.callbackNode===r?WU.bind(null,e):null}function YP(e,t){var r=Pv;return e.current.memoizedState.isDehydrated&&(zd(e,t).flags|=256),e=N1(e,t),e!==2&&(t=da,da=r,t!==null&&KP(t)),e}function KP(e){da===null?da=e:da.push.apply(da,e)}function uJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!fl(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hu(e,t){for(t&=~QO,t&=~mS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cl(t),n=1<<r;e[r]=-1,t&=~n}}function gN(e){if(Fr&6)throw Error(yt(327));em();var t=x1(e,0);if(!(t&1))return ba(e,bi()),null;var r=N1(e,t);if(e.tag!==0&&r===2){var n=xP(e);n!==0&&(t=n,r=YP(e,n))}if(r===1)throw r=l0,zd(e,0),Hu(e,t),ba(e,bi()),r;if(r===6)throw Error(yt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,md(e,da,Ac),ba(e,bi()),null}function tI(e,t){var r=Fr;Fr|=1;try{return e(t)}finally{Fr=r,Fr===0&&(bm=bi()+500,fS&&Rf())}}function Kd(e){Ku!==null&&Ku.tag===0&&!(Fr&6)&&em();var t=Fr;Fr|=1;var r=_s.transition,n=un;try{if(_s.transition=null,un=1,e)return e()}finally{un=n,_s.transition=r,Fr=t,!(Fr&6)&&Rf()}}function rI(){Na=Np.current,$n(Np)}function zd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BX(r)),Ai!==null)for(r=Ai.return;r!==null;){var n=r;switch(LO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&C1();break;case 3:_m(),$n(_a),$n(Do),qO();break;case 5:WO(n);break;case 4:_m();break;case 13:$n(ni);break;case 19:$n(ni);break;case 10:BO(n.type._context);break;case 22:case 23:rI()}r=r.return}if(Xi=e,Ai=e=df(e.current,null),uo=Na=t,$i=0,l0=null,QO=mS=Yd=0,da=Pv=null,kd!==null){for(t=0;t<kd.length;t++)if(r=kd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}kd=null}return e}function qU(e,t){do{var r=Ai;try{if(jO(),Yb.current=$1,R1){for(var n=oi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}R1=!1}if(Gd=0,Zi=Ri=oi=null,Tv=!1,o0=0,JO.current=null,r===null||r.return===null){$i=1,l0=t,Ai=null;break}e:{var o=e,s=r.return,a=r,d=t;if(t=uo,a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=a,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var b=g.alternate;b?(g.updateQueue=b.updateQueue,g.memoizedState=b.memoizedState,g.lanes=b.lanes):(g.updateQueue=null,g.memoizedState=null)}var M=nN(s);if(M!==null){M.flags&=-257,iN(M,s,a,o,t),M.mode&1&&rN(o,h,t),t=M,d=h;var P=t.updateQueue;if(P===null){var w=new Set;w.add(d),t.updateQueue=w}else P.add(d);break e}else{if(!(t&1)){rN(o,h,t),nI();break e}d=Error(yt(426))}}else if(Hn&&a.mode&1){var A=nN(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),iN(A,s,a,o,t),zO(xm(d,a));break e}}o=d=xm(d,a),$i!==4&&($i=2),Pv===null?Pv=[o]:Pv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var O=PU(o,d,t);Kz(o,O);break e;case 1:a=d;var I=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof I.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(uf===null||!uf.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=AU(o,a,t);Kz(o,R);break e}}o=o.return}while(o!==null)}YU(r)}catch(z){t=z,Ai===r&&r!==null&&(Ai=r=r.return);continue}break}while(1)}function HU(){var e=D1.current;return D1.current=$1,e===null?$1:e}function nI(){($i===0||$i===3||$i===2)&&($i=4),Xi===null||!(Yd&268435455)&&!(mS&268435455)||Hu(Xi,uo)}function N1(e,t){var r=Fr;Fr|=2;var n=HU();(Xi!==e||uo!==t)&&(Ac=null,zd(e,t));do try{fJ();break}catch(i){qU(e,i)}while(1);if(jO(),Fr=r,D1.current=n,Ai!==null)throw Error(yt(261));return Xi=null,uo=0,$i}function fJ(){for(;Ai!==null;)GU(Ai)}function dJ(){for(;Ai!==null&&!zZ();)GU(Ai)}function GU(e){var t=ZU(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?YU(e):Ai=t,JO.current=null}function YU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oJ(r,t),r!==null){r.flags&=32767,Ai=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$i=6,Ai=null;return}}else if(r=iJ(r,t,Na),r!==null){Ai=r;return}if(t=t.sibling,t!==null){Ai=t;return}Ai=t=e}while(t!==null);$i===0&&($i=5)}function md(e,t,r){var n=un,i=_s.transition;try{_s.transition=null,un=1,hJ(e,t,r,n)}finally{_s.transition=i,un=n}return null}function hJ(e,t,r,n){do em();while(Ku!==null);if(Fr&6)throw Error(yt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(yt(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(GZ(e,o),e===Xi&&(Ai=Xi=null,uo=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lb||(lb=!0,XU(_1,function(){return em(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=_s.transition,_s.transition=null;var s=un;un=1;var a=Fr;Fr|=4,JO.current=null,sJ(e,r),UU(r,e),RX(TP),b1=!!CP,TP=CP=null,e.current=r,lJ(r),NZ(),Fr=a,un=s,_s.transition=o}else e.current=r;if(lb&&(lb=!1,Ku=e,z1=i),o=e.pendingLanes,o===0&&(uf=null),FZ(r.stateNode),ba(e,bi()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(L1)throw L1=!1,e=HP,HP=null,e;return z1&1&&e.tag!==0&&em(),o=e.pendingLanes,o&1?e===GP?Av++:(Av=0,GP=e):Av=0,Rf(),null}function em(){if(Ku!==null){var e=k6(z1),t=_s.transition,r=un;try{if(_s.transition=null,un=16>e?16:e,Ku===null)var n=!1;else{if(e=Ku,Ku=null,z1=0,Fr&6)throw Error(yt(331));var i=Fr;for(Fr|=4,Gt=e.current;Gt!==null;){var o=Gt,s=o.child;if(Gt.flags&16){var a=o.deletions;if(a!==null){for(var d=0;d<a.length;d++){var h=a[d];for(Gt=h;Gt!==null;){var g=Gt;switch(g.tag){case 0:case 11:case 15:kv(8,g,o)}var v=g.child;if(v!==null)v.return=g,Gt=v;else for(;Gt!==null;){g=Gt;var b=g.sibling,M=g.return;if(jU(g),g===h){Gt=null;break}if(b!==null){b.return=M,Gt=b;break}Gt=M}}}var P=o.alternate;if(P!==null){var w=P.child;if(w!==null){P.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}Gt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Gt=s;else e:for(;Gt!==null;){if(o=Gt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kv(9,o,o.return)}var O=o.sibling;if(O!==null){O.return=o.return,Gt=O;break e}Gt=o.return}}var I=e.current;for(Gt=I;Gt!==null;){s=Gt;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,Gt=C;else e:for(s=I;Gt!==null;){if(a=Gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pS(9,a)}}catch(z){hi(a,a.return,z)}if(a===s){Gt=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Gt=R;break e}Gt=a.return}}if(Fr=i,Rf(),Vl&&typeof Vl.onPostCommitFiberRoot=="function")try{Vl.onPostCommitFiberRoot(aS,e)}catch{}n=!0}return n}finally{un=r,_s.transition=t}}return!1}function yN(e,t,r){t=xm(r,t),t=PU(e,t,1),e=cf(e,t,1),t=ta(),e!==null&&(c_(e,1,t),ba(e,t))}function hi(e,t,r){if(e.tag===3)yN(e,e,r);else for(;t!==null;){if(t.tag===3){yN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(uf===null||!uf.has(n))){e=xm(r,e),e=AU(t,e,1),t=cf(t,e,1),e=ta(),t!==null&&(c_(t,1,e),ba(t,e));break}}t=t.return}}function pJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ta(),e.pingedLanes|=e.suspendedLanes&r,Xi===e&&(uo&r)===r&&($i===4||$i===3&&(uo&130023424)===uo&&500>bi()-eI?zd(e,0):QO|=r),ba(e,t)}function KU(e,t){t===0&&(e.mode&1?(t=Jx,Jx<<=1,!(Jx&130023424)&&(Jx=4194304)):t=1);var r=ta();e=Kc(e,t),e!==null&&(c_(e,t,r),ba(e,r))}function mJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KU(e,r)}function gJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(yt(314))}n!==null&&n.delete(t),KU(e,r)}var ZU;ZU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_a.current)ya=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ya=!1,nJ(e,t,r);ya=!!(e.flags&131072)}else ya=!1,Hn&&t.flags&1048576&&Q6(t,P1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zb(e,t),e=t.pendingProps;var i=gm(t,Do.current);Qp(t,r),i=GO(null,t,n,e,i,r);var o=YO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xa(n)?(o=!0,T1(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UO(t),i.updater=dS,t.stateNode=i,i._reactInternals=t,DP(t,n,e,r),t=NP(null,t,n,!0,o,r)):(t.tag=0,Hn&&o&&DO(t),Xo(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zb(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=vJ(n),e=Qs(n,e),i){case 0:t=zP(null,t,n,e,r);break e;case 1:t=sN(null,t,n,e,r);break e;case 11:t=oN(null,t,n,e,r);break e;case 14:t=aN(null,t,n,Qs(n.type,e),r);break e}throw Error(yt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),zP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),sN(e,t,n,i,r);case 3:e:{if(RU(t),e===null)throw Error(yt(387));n=t.pendingProps,o=t.memoizedState,i=o.element,nU(e,t),O1(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=xm(Error(yt(423)),t),t=lN(e,t,n,r,i);break e}else if(n!==i){i=xm(Error(yt(424)),t),t=lN(e,t,n,r,i);break e}else for(Va=lf(t.stateNode.containerInfo.firstChild),Wa=t,Hn=!0,rl=null,r=sU(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ym(),n===i){t=Zc(e,t,r);break e}Xo(e,t,n,r)}t=t.child}return t;case 5:return lU(t),e===null&&IP(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,kP(n,i)?s=null:o!==null&&kP(n,o)&&(t.flags|=32),IU(e,t),Xo(e,t,s,r),t.child;case 6:return e===null&&IP(t),null;case 13:return $U(e,t,r);case 4:return VO(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vm(t,null,n,r):Xo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),oN(e,t,n,i,r);case 7:return Xo(e,t,t.pendingProps,r),t.child;case 8:return Xo(e,t,t.pendingProps.children,r),t.child;case 12:return Xo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Cn(A1,n._currentValue),n._currentValue=s,o!==null)if(fl(o.value,s)){if(o.children===i.children&&!_a.current){t=Zc(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var d=a.firstContext;d!==null;){if(d.context===n){if(o.tag===1){d=Uc(-1,r&-r),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),RP(o.return,r,t),a.lanes|=r;break}d=d.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(yt(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),RP(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Qp(t,r),i=Cs(i),n=n(i),t.flags|=1,Xo(e,t,n,r),t.child;case 14:return n=t.type,i=Qs(n,t.pendingProps),i=Qs(n.type,i),aN(e,t,n,i,r);case 15:return MU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qs(n,i),Zb(e,t),t.tag=1,xa(n)?(e=!0,T1(t)):e=!1,Qp(t,r),oU(t,n,i),DP(t,n,i,r),NP(null,t,n,!0,e,r);case 19:return DU(e,t,r);case 22:return OU(e,t,r)}throw Error(yt(156,t.tag))};function XU(e,t){return S6(e,t)}function yJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(e,t,r,n){return new yJ(e,t,r,n)}function iI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vJ(e){if(typeof e=="function")return iI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===SO)return 11;if(e===EO)return 14}return 2}function df(e,t){var r=e.alternate;return r===null?(r=gs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qb(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")iI(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Pp:return Nd(r.children,i,o,t);case wO:s=8,i|=8;break;case oP:return e=gs(12,r,t,i|2),e.elementType=oP,e.lanes=o,e;case aP:return e=gs(13,r,t,i),e.elementType=aP,e.lanes=o,e;case sP:return e=gs(19,r,t,i),e.elementType=sP,e.lanes=o,e;case a6:return gS(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case i6:s=10;break e;case o6:s=9;break e;case SO:s=11;break e;case EO:s=14;break e;case Uu:s=16,n=null;break e}throw Error(yt(130,e==null?e:typeof e,""))}return t=gs(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Nd(e,t,r,n){return e=gs(7,e,n,t),e.lanes=r,e}function gS(e,t,r,n){return e=gs(22,e,n,t),e.elementType=a6,e.lanes=r,e.stateNode={isHidden:!1},e}function pT(e,t,r){return e=gs(6,e,null,t),e.lanes=r,e}function mT(e,t,r){return t=gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _J(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=KC(0),this.expirationTimes=KC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=KC(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oI(e,t,r,n,i,o,s,a,d){return e=new _J(e,t,r,a,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gs(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UO(o),e}function xJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JU(e){if(!e)return Sf;e=e._reactInternals;e:{if(sh(e)!==e||e.tag!==1)throw Error(yt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(yt(171))}if(e.tag===1){var r=e.type;if(xa(r))return X6(e,r,t)}return t}function QU(e,t,r,n,i,o,s,a,d){return e=oI(r,n,!0,e,i,o,s,a,d),e.context=JU(null),r=e.current,n=ta(),i=ff(r),o=Uc(n,i),o.callback=t??null,cf(r,o,i),e.current.lanes=i,c_(e,i,n),ba(e,n),e}function yS(e,t,r,n){var i=t.current,o=ta(),s=ff(i);return r=JU(r),t.context===null?t.context=r:t.pendingContext=r,t=Uc(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cf(i,t,s),e!==null&&(ul(e,i,s,o),Gb(e,i,s)),s}function j1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aI(e,t){vN(e,t),(e=e.alternate)&&vN(e,t)}function bJ(){return null}var e8=typeof reportError=="function"?reportError:function(e){console.error(e)};function sI(e){this._internalRoot=e}vS.prototype.render=sI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(yt(409));yS(e,t,null,null)};vS.prototype.unmount=sI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kd(function(){yS(null,e,null,null)}),t[Yc]=null}};function vS(e){this._internalRoot=e}vS.prototype.unstable_scheduleHydration=function(e){if(e){var t=M6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qu.length&&t!==0&&t<qu[r].priority;r++);qu.splice(r,0,e),r===0&&I6(e)}};function lI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _S(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _N(){}function wJ(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var h=j1(s);o.call(h)}}var s=QU(t,n,e,0,null,!1,!1,"",_N);return e._reactRootContainer=s,e[Yc]=s.current,e0(e.nodeType===8?e.parentNode:e),Kd(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=j1(d);a.call(h)}}var d=oI(e,0,!1,null,null,!1,!1,"",_N);return e._reactRootContainer=d,e[Yc]=d.current,e0(e.nodeType===8?e.parentNode:e),Kd(function(){yS(t,d,r,n)}),d}function xS(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var d=j1(s);a.call(d)}}yS(t,s,e,i)}else s=wJ(r,t,e,i,n);return j1(s)}P6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uv(t.pendingLanes);r!==0&&(kO(t,r|1),ba(t,bi()),!(Fr&6)&&(bm=bi()+500,Rf()))}break;case 13:Kd(function(){var n=Kc(e,1);if(n!==null){var i=ta();ul(n,e,1,i)}}),aI(e,1)}};PO=function(e){if(e.tag===13){var t=Kc(e,134217728);if(t!==null){var r=ta();ul(t,e,134217728,r)}aI(e,134217728)}};A6=function(e){if(e.tag===13){var t=ff(e),r=Kc(e,t);if(r!==null){var n=ta();ul(r,e,t,n)}aI(e,t)}};M6=function(){return un};O6=function(e,t){var r=un;try{return un=e,t()}finally{un=r}};yP=function(e,t,r){switch(t){case"input":if(uP(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=uS(n);if(!i)throw Error(yt(90));l6(n),uP(n,i)}}}break;case"textarea":u6(e,r);break;case"select":t=r.value,t!=null&&Kp(e,!!r.multiple,t,!1)}};y6=tI;v6=Kd;var SJ={usingClientEntryPoint:!1,Events:[f_,Ip,uS,m6,g6,tI]},$y={findFiberByHostInstance:Td,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},EJ={bundleType:$y.bundleType,version:$y.version,rendererPackageName:$y.rendererPackageName,rendererConfig:$y.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:su.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b6(e),e===null?null:e.stateNode},findFiberByHostInstance:$y.findFiberByHostInstance||bJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cb.isDisabled&&cb.supportsFiber)try{aS=cb.inject(EJ),Vl=cb}catch{}}Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SJ;Xa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lI(t))throw Error(yt(200));return xJ(e,t,null,r)};Xa.createRoot=function(e,t){if(!lI(e))throw Error(yt(299));var r=!1,n="",i=e8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=oI(e,1,!1,null,null,r,!1,n,i),e[Yc]=t.current,e0(e.nodeType===8?e.parentNode:e),new sI(t)};Xa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(yt(188)):(e=Object.keys(e).join(","),Error(yt(268,e)));return e=b6(t),e=e===null?null:e.stateNode,e};Xa.flushSync=function(e){return Kd(e)};Xa.hydrate=function(e,t,r){if(!_S(t))throw Error(yt(200));return xS(null,e,t,!0,r)};Xa.hydrateRoot=function(e,t,r){if(!lI(e))throw Error(yt(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=e8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=QU(t,null,e,1,r??null,i,!1,o,s),e[Yc]=t.current,e0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new vS(t)};Xa.render=function(e,t,r){if(!_S(t))throw Error(yt(200));return xS(null,e,t,!1,r)};Xa.unmountComponentAtNode=function(e){if(!_S(e))throw Error(yt(40));return e._reactRootContainer?(Kd(function(){xS(null,null,e,!1,function(){e._reactRootContainer=null,e[Yc]=null})}),!0):!1};Xa.unstable_batchedUpdates=tI;Xa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_S(r))throw Error(yt(200));if(e==null||e._reactInternals===void 0)throw Error(yt(38));return xS(e,t,r,!1,n)};Xa.version="18.2.0-next-9e3b772b8-20220608";function t8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t8)}catch(e){console.error(e)}}t8(),QF.exports=Xa;var lu=QF.exports;const ub=Kr(lu);var r8,xN=lu;r8=xN.createRoot,xN.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(this,arguments)}var Zu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zu||(Zu={}));const bN="popstate";function CJ(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return ZP("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:n8(i)}return kJ(t,r,null,e)}function zi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TJ(){return Math.random().toString(36).substr(2,8)}function wN(e,t){return{usr:e.state,key:e.key,idx:t}}function ZP(e,t,r,n){return r===void 0&&(r=null),c0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ag(t):t,{state:r,key:t&&t.key||n||TJ()})}function n8(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ag(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function kJ(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Zu.Pop,d=null,h=g();h==null&&(h=0,s.replaceState(c0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function v(){a=Zu.Pop;let A=g(),O=A==null?null:A-h;h=A,d&&d({action:a,location:w.location,delta:O})}function b(A,O){a=Zu.Push;let I=ZP(w.location,A,O);r&&r(I,A),h=g()+1;let C=wN(I,h),R=w.createHref(I);try{s.pushState(C,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(R)}o&&d&&d({action:a,location:w.location,delta:1})}function M(A,O){a=Zu.Replace;let I=ZP(w.location,A,O);r&&r(I,A),h=g();let C=wN(I,h),R=w.createHref(I);s.replaceState(C,"",R),o&&d&&d({action:a,location:w.location,delta:0})}function P(A){let O=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof A=="string"?A:n8(A);return zi(O,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,O)}let w={get action(){return a},get location(){return e(i,s)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(bN,v),d=A,()=>{i.removeEventListener(bN,v),d=null}},createHref(A){return t(i,A)},createURL:P,encodeLocation(A){let O=P(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:M,go(A){return s.go(A)}};return w}var SN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(SN||(SN={}));function PJ(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?ag(t):t,i=a8(n.pathname||"/",r);if(i==null)return null;let o=i8(e);AJ(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=NJ(o[a],FJ(i));return s}function i8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let d={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};d.relativePath.startsWith("/")&&(zi(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=jd([n,d.relativePath]),g=r.concat(d);o.children&&o.children.length>0&&(zi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),i8(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:LJ(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let d of o8(o.path))i(o,s,d)}),t}function o8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=o8(n.join("/")),a=[];return a.push(...s.map(d=>d===""?o:[o,d].join("/"))),i&&a.push(...s),a.map(d=>e.startsWith("/")&&d===""?"/":d)}function AJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const MJ=/^:\w+$/,OJ=3,IJ=2,RJ=1,$J=10,DJ=-2,EN=e=>e==="*";function LJ(e,t){let r=e.split("/"),n=r.length;return r.some(EN)&&(n+=DJ),t&&(n+=IJ),r.filter(i=>!EN(i)).reduce((i,o)=>i+(MJ.test(o)?OJ:o===""?RJ:$J),n)}function zJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function NJ(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let s=0;s<r.length;++s){let a=r[s],d=s===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=jJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:d},h);if(!g)return null;Object.assign(n,g.params);let v=a.route;o.push({params:n,pathname:jd([i,g.pathname]),pathnameBase:GJ(jd([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=jd([i,g.pathnameBase]))}return o}function jJ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=BJ(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((h,g,v)=>{if(g==="*"){let b=a[v]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}return h[g]=UJ(a[v]||"",g),h},{}),pathname:o,pathnameBase:s,pattern:e}}function BJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(n.push(a),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function FJ(e){try{return decodeURI(e)}catch(t){return cI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function UJ(e,t){try{return decodeURIComponent(e)}catch(r){return cI(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function a8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function VJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ag(e):e;return{pathname:r?r.startsWith("/")?r:WJ(r,t):t,search:YJ(n),hash:KJ(i)}}function WJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function gT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function HJ(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ag(e):(i=c0({},e),zi(!i.pathname||!i.pathname.includes("?"),gT("?","pathname","search",i)),zi(!i.pathname||!i.pathname.includes("#"),gT("#","pathname","hash",i)),zi(!i.search||!i.search.includes("#"),gT("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(n||s==null)a=r;else{let v=t.length-1;if(s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}a=v>=0?t[v]:"/"}let d=VJ(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}const jd=e=>e.join("/").replace(/\/\/+/g,"/"),GJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s8=["post","put","patch","delete"];new Set(s8);const XJ=["get",...s8];new Set(XJ);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}const uI=W.createContext(null),JJ=W.createContext(null),bS=W.createContext(null),wS=W.createContext(null),$f=W.createContext({outlet:null,matches:[],isDataRoute:!1}),l8=W.createContext(null);function SS(){return W.useContext(wS)!=null}function ES(){return SS()||zi(!1),W.useContext(wS).location}function c8(e){W.useContext(bS).static||W.useLayoutEffect(e)}function h_(){let{isDataRoute:e}=W.useContext($f);return e?pQ():QJ()}function QJ(){SS()||zi(!1);let e=W.useContext(uI),{basename:t,navigator:r}=W.useContext(bS),{matches:n}=W.useContext($f),{pathname:i}=ES(),o=JSON.stringify(qJ(n).map(d=>d.pathnameBase)),s=W.useRef(!1);return c8(()=>{s.current=!0}),W.useCallback(function(d,h){if(h===void 0&&(h={}),!s.current)return;if(typeof d=="number"){r.go(d);return}let g=HJ(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:jd([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,o,i,e])}const eQ=W.createContext(null);function tQ(e){let t=W.useContext($f).outlet;return t&&W.createElement(eQ.Provider,{value:e},t)}function rQ(){let{matches:e}=W.useContext($f),t=e[e.length-1];return t?t.params:{}}function nQ(e,t){return iQ(e,t)}function iQ(e,t,r){SS()||zi(!1);let{navigator:n}=W.useContext(bS),{matches:i}=W.useContext($f),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let d=ES(),h;if(t){var g;let w=typeof t=="string"?ag(t):t;a==="/"||(g=w.pathname)!=null&&g.startsWith(a)||zi(!1),h=w}else h=d;let v=h.pathname||"/",b=a==="/"?v:v.slice(a.length)||"/",M=PJ(e,{pathname:b}),P=cQ(M&&M.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:jd([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:jd([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r);return t&&P?W.createElement(wS.Provider,{value:{location:B1({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Zu.Pop}},P):P}function oQ(){let e=hQ(),t=ZJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),r?W.createElement("pre",{style:i},r):null,o)}const aQ=W.createElement(oQ,null);class sQ extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?W.createElement($f.Provider,{value:this.props.routeContext},W.createElement(l8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lQ(e){let{routeContext:t,match:r,children:n}=e,i=W.useContext(uI);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement($f.Provider,{value:t},n)}function cQ(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var i;if((i=r)!=null&&i.errors)e=r.matches;else return null}let o=e,s=(n=r)==null?void 0:n.errors;if(s!=null){let a=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));a>=0||zi(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,d,h)=>{let g=d.route.id?s==null?void 0:s[d.route.id]:null,v=null;r&&(v=d.route.errorElement||aQ);let b=t.concat(o.slice(0,h+1)),M=()=>{let P;return g?P=v:d.route.Component?P=W.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=a,W.createElement(lQ,{match:d,routeContext:{outlet:a,matches:b,isDataRoute:r!=null},children:P})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?W.createElement(sQ,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:M(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):M()},null)}var u8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u8||{}),F1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F1||{});function uQ(e){let t=W.useContext(uI);return t||zi(!1),t}function fQ(e){let t=W.useContext(JJ);return t||zi(!1),t}function dQ(e){let t=W.useContext($f);return t||zi(!1),t}function f8(e){let t=dQ(),r=t.matches[t.matches.length-1];return r.route.id||zi(!1),r.route.id}function hQ(){var e;let t=W.useContext(l8),r=fQ(F1.UseRouteError),n=f8(F1.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function pQ(){let{router:e}=uQ(u8.UseNavigateStable),t=f8(F1.UseNavigateStable),r=W.useRef(!1);return c8(()=>{r.current=!0}),W.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,B1({fromRouteId:t},o)))},[e,t])}function mQ(e){return tQ(e.context)}function gd(e){zi(!1)}function gQ(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Zu.Pop,navigator:o,static:s=!1}=e;SS()&&zi(!1);let a=t.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=ag(n));let{pathname:h="/",search:g="",hash:v="",state:b=null,key:M="default"}=n,P=W.useMemo(()=>{let w=a8(h,a);return w==null?null:{location:{pathname:w,search:g,hash:v,state:b,key:M},navigationType:i}},[a,h,g,v,b,M,i]);return P==null?null:W.createElement(bS.Provider,{value:d},W.createElement(wS.Provider,{children:r,value:P}))}function yQ(e){let{children:t,location:r}=e;return nQ(XP(t),r)}new Promise(()=>{});function XP(e,t){t===void 0&&(t=[]);let r=[];return W.Children.forEach(e,(n,i)=>{if(!W.isValidElement(n))return;let o=[...t,i];if(n.type===W.Fragment){r.push.apply(r,XP(n.props.children,o));return}n.type!==gd&&zi(!1),!n.props.index||!n.props.children||zi(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=XP(n.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vQ="startTransition",CN=m1[vQ];function _Q(e){let{basename:t,children:r,future:n,window:i}=e,o=W.useRef();o.current==null&&(o.current=CJ({window:i,v5Compat:!0}));let s=o.current,[a,d]=W.useState({action:s.action,location:s.location}),{v7_startTransition:h}=n||{},g=W.useCallback(v=>{h&&CN?CN(()=>d(v)):d(v)},[d,h]);return W.useLayoutEffect(()=>s.listen(g),[s,g]),W.createElement(gQ,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s})}var TN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(TN||(TN={}));var kN;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kN||(kN={}));var d8={exports:{}},h8={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=W;function xQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bQ=typeof Object.is=="function"?Object.is:xQ,wQ=wm.useState,SQ=wm.useEffect,EQ=wm.useLayoutEffect,CQ=wm.useDebugValue;function TQ(e,t){var r=t(),n=wQ({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return EQ(function(){i.value=r,i.getSnapshot=t,yT(i)&&o({inst:i})},[e,r,t]),SQ(function(){return yT(i)&&o({inst:i}),e(function(){yT(i)&&o({inst:i})})},[e]),CQ(r),r}function yT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bQ(e,r)}catch{return!0}}function kQ(e,t){return t()}var PQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kQ:TQ;h8.useSyncExternalStore=wm.useSyncExternalStore!==void 0?wm.useSyncExternalStore:PQ;d8.exports=h8;var p8=d8.exports,m8={exports:{}},g8={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=W,AQ=p8;function MQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OQ=typeof Object.is=="function"?Object.is:MQ,IQ=AQ.useSyncExternalStore,RQ=CS.useRef,$Q=CS.useEffect,DQ=CS.useMemo,LQ=CS.useDebugValue;g8.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=RQ(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=DQ(function(){function d(M){if(!h){if(h=!0,g=M,M=n(M),i!==void 0&&s.hasValue){var P=s.value;if(i(P,M))return v=P}return v=M}if(P=v,OQ(g,M))return P;var w=n(M);return i!==void 0&&i(P,w)?P:(g=M,v=w)}var h=!1,g,v,b=r===void 0?null:r;return[function(){return d(t())},b===null?void 0:function(){return d(b())}]},[t,r,n,i]);var a=IQ(e,o[0],o[1]);return $Q(function(){s.hasValue=!0,s.value=a},[a]),LQ(a),a};m8.exports=g8;var zQ=m8.exports;function NQ(e){e()}let y8=NQ;const jQ=e=>y8=e,BQ=()=>y8,PN=Symbol.for("react-redux-context"),AN=typeof globalThis<"u"?globalThis:{};function FQ(){var e;if(!W.createContext)return{};const t=(e=AN[PN])!=null?e:AN[PN]=new Map;let r=t.get(W.createContext);return r||(r=W.createContext(null),t.set(W.createContext,r)),r}const Xc=FQ();function fI(e=Xc){return function(){return W.useContext(e)}}const v8=fI(),_8=()=>{throw new Error("uSES not initialized!")};let x8=_8;const UQ=e=>{x8=e},VQ=(e,t)=>e===t;function WQ(e=Xc){const t=e===Xc?v8:fI(e);return function(n,i={}){const{equalityFn:o=VQ,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:d,subscription:h,getServerState:g,stabilityCheck:v,noopCheck:b}=t();W.useRef(!0);const M=W.useCallback({[n.name](w){return n(w)}}[n.name],[n,v,s]),P=x8(h.addNestedSub,d.getState,g||d.getState,M,o);return W.useDebugValue(P),P}}const Dn=WQ();function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yn.apply(this,arguments)}function p_(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var b8={exports:{}},fn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=typeof Symbol=="function"&&Symbol.for,dI=Ji?Symbol.for("react.element"):60103,hI=Ji?Symbol.for("react.portal"):60106,TS=Ji?Symbol.for("react.fragment"):60107,kS=Ji?Symbol.for("react.strict_mode"):60108,PS=Ji?Symbol.for("react.profiler"):60114,AS=Ji?Symbol.for("react.provider"):60109,MS=Ji?Symbol.for("react.context"):60110,pI=Ji?Symbol.for("react.async_mode"):60111,OS=Ji?Symbol.for("react.concurrent_mode"):60111,IS=Ji?Symbol.for("react.forward_ref"):60112,RS=Ji?Symbol.for("react.suspense"):60113,qQ=Ji?Symbol.for("react.suspense_list"):60120,$S=Ji?Symbol.for("react.memo"):60115,DS=Ji?Symbol.for("react.lazy"):60116,HQ=Ji?Symbol.for("react.block"):60121,GQ=Ji?Symbol.for("react.fundamental"):60117,YQ=Ji?Symbol.for("react.responder"):60118,KQ=Ji?Symbol.for("react.scope"):60119;function Qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dI:switch(e=e.type,e){case pI:case OS:case TS:case PS:case kS:case RS:return e;default:switch(e=e&&e.$$typeof,e){case MS:case IS:case DS:case $S:case AS:return e;default:return t}}case hI:return t}}}function w8(e){return Qa(e)===OS}fn.AsyncMode=pI;fn.ConcurrentMode=OS;fn.ContextConsumer=MS;fn.ContextProvider=AS;fn.Element=dI;fn.ForwardRef=IS;fn.Fragment=TS;fn.Lazy=DS;fn.Memo=$S;fn.Portal=hI;fn.Profiler=PS;fn.StrictMode=kS;fn.Suspense=RS;fn.isAsyncMode=function(e){return w8(e)||Qa(e)===pI};fn.isConcurrentMode=w8;fn.isContextConsumer=function(e){return Qa(e)===MS};fn.isContextProvider=function(e){return Qa(e)===AS};fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dI};fn.isForwardRef=function(e){return Qa(e)===IS};fn.isFragment=function(e){return Qa(e)===TS};fn.isLazy=function(e){return Qa(e)===DS};fn.isMemo=function(e){return Qa(e)===$S};fn.isPortal=function(e){return Qa(e)===hI};fn.isProfiler=function(e){return Qa(e)===PS};fn.isStrictMode=function(e){return Qa(e)===kS};fn.isSuspense=function(e){return Qa(e)===RS};fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===TS||e===OS||e===PS||e===kS||e===RS||e===qQ||typeof e=="object"&&e!==null&&(e.$$typeof===DS||e.$$typeof===$S||e.$$typeof===AS||e.$$typeof===MS||e.$$typeof===IS||e.$$typeof===GQ||e.$$typeof===YQ||e.$$typeof===KQ||e.$$typeof===HQ)};fn.typeOf=Qa;b8.exports=fn;var S8=b8.exports,mI=S8,ZQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},E8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gI={};gI[mI.ForwardRef]=JQ;gI[mI.Memo]=E8;function MN(e){return mI.isMemo(e)?E8:gI[e.$$typeof]||ZQ}var QQ=Object.defineProperty,eee=Object.getOwnPropertyNames,ON=Object.getOwnPropertySymbols,tee=Object.getOwnPropertyDescriptor,ree=Object.getPrototypeOf,IN=Object.prototype;function C8(e,t,r){if(typeof t!="string"){if(IN){var n=ree(t);n&&n!==IN&&C8(e,n,r)}var i=eee(t);ON&&(i=i.concat(ON(t)));for(var o=MN(e),s=MN(t),a=0;a<i.length;++a){var d=i[a];if(!XQ[d]&&!(r&&r[d])&&!(s&&s[d])&&!(o&&o[d])){var h=tee(t,d);try{QQ(e,d,h)}catch{}}}}return e}var nee=C8;const RN=Kr(nee);var T8={exports:{}},dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI=Symbol.for("react.element"),vI=Symbol.for("react.portal"),LS=Symbol.for("react.fragment"),zS=Symbol.for("react.strict_mode"),NS=Symbol.for("react.profiler"),jS=Symbol.for("react.provider"),BS=Symbol.for("react.context"),iee=Symbol.for("react.server_context"),FS=Symbol.for("react.forward_ref"),US=Symbol.for("react.suspense"),VS=Symbol.for("react.suspense_list"),WS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),oee=Symbol.for("react.offscreen"),k8;k8=Symbol.for("react.module.reference");function Os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yI:switch(e=e.type,e){case LS:case NS:case zS:case US:case VS:return e;default:switch(e=e&&e.$$typeof,e){case iee:case BS:case FS:case qS:case WS:case jS:return e;default:return t}}case vI:return t}}}dn.ContextConsumer=BS;dn.ContextProvider=jS;dn.Element=yI;dn.ForwardRef=FS;dn.Fragment=LS;dn.Lazy=qS;dn.Memo=WS;dn.Portal=vI;dn.Profiler=NS;dn.StrictMode=zS;dn.Suspense=US;dn.SuspenseList=VS;dn.isAsyncMode=function(){return!1};dn.isConcurrentMode=function(){return!1};dn.isContextConsumer=function(e){return Os(e)===BS};dn.isContextProvider=function(e){return Os(e)===jS};dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yI};dn.isForwardRef=function(e){return Os(e)===FS};dn.isFragment=function(e){return Os(e)===LS};dn.isLazy=function(e){return Os(e)===qS};dn.isMemo=function(e){return Os(e)===WS};dn.isPortal=function(e){return Os(e)===vI};dn.isProfiler=function(e){return Os(e)===NS};dn.isStrictMode=function(e){return Os(e)===zS};dn.isSuspense=function(e){return Os(e)===US};dn.isSuspenseList=function(e){return Os(e)===VS};dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===LS||e===NS||e===zS||e===US||e===VS||e===oee||typeof e=="object"&&e!==null&&(e.$$typeof===qS||e.$$typeof===WS||e.$$typeof===jS||e.$$typeof===BS||e.$$typeof===FS||e.$$typeof===k8||e.getModuleId!==void 0)};dn.typeOf=Os;T8.exports=dn;var aee=T8.exports;const see=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function lee(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,d,h,g,v,b;function M(I,C){return d=I,h=C,g=e(d,h),v=t(n,h),b=r(g,v,h),a=!0,b}function P(){return g=e(d,h),t.dependsOnOwnProps&&(v=t(n,h)),b=r(g,v,h),b}function w(){return e.dependsOnOwnProps&&(g=e(d,h)),t.dependsOnOwnProps&&(v=t(n,h)),b=r(g,v,h),b}function A(){const I=e(d,h),C=!s(I,g);return g=I,C&&(b=r(g,v,h)),b}function O(I,C){const R=!o(C,h),z=!i(I,d,C,h);return d=I,h=C,R&&z?P():R?w():z?A():b}return function(C,R){return a?O(C,R):M(C,R)}}function cee(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,o=p_(t,see);const s=r(e,o),a=n(e,o),d=i(e,o);return lee(s,a,d,e,o)}function uee(e,t){const r={};for(const n in e){const i=e[n];typeof i=="function"&&(r[n]=(...o)=>t(i(...o)))}return r}function JP(e){return function(r){const n=e(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function $N(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function P8(e,t){return function(n,{displayName:i}){const o=function(a,d){return o.dependsOnOwnProps?o.mapToProps(a,d):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,d){o.mapToProps=e,o.dependsOnOwnProps=$N(e);let h=o(a,d);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=$N(h),h=o(a,d)),h},o}}function _I(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function fee(e){return e&&typeof e=="object"?JP(t=>uee(e,t)):e?typeof e=="function"?P8(e):_I(e,"mapDispatchToProps"):JP(t=>({dispatch:t}))}function dee(e){return e?typeof e=="function"?P8(e):_I(e,"mapStateToProps"):JP(()=>({}))}function hee(e,t,r){return yn({},r,e,t)}function pee(e){return function(r,{displayName:n,areMergedPropsEqual:i}){let o=!1,s;return function(d,h,g){const v=e(d,h,g);return o?i(v,s)||(s=v):(o=!0,s=v),s}}}function mee(e){return e?typeof e=="function"?pee(e):_I(e,"mergeProps"):()=>hee}function gee(){const e=BQ();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const DN={notify(){},get:()=>[]};function A8(e,t){let r,n=DN;function i(v){return d(),n.subscribe(v)}function o(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function a(){return!!r}function d(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=gee())}function h(){r&&(r(),r=void 0,n.clear(),n=DN)}const g={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>n};return g}const yee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U1=yee?W.useLayoutEffect:W.useEffect;function LN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vT(e,t){if(LN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!LN(e[r[i]],t[r[i]]))return!1;return!0}const vee=["reactReduxForwardedRef"];let M8=_8;const _ee=e=>{M8=e},xee=[null,null];function bee(e,t,r){U1(()=>e(...t),r)}function wee(e,t,r,n,i,o){e.current=n,r.current=!1,i.current&&(i.current=null,o())}function See(e,t,r,n,i,o,s,a,d,h,g){if(!e)return()=>{};let v=!1,b=null;const M=()=>{if(v||!a.current)return;const w=t.getState();let A,O;try{A=n(w,i.current)}catch(I){O=I,b=I}O||(b=null),A===o.current?s.current||h():(o.current=A,d.current=A,s.current=!0,g())};return r.onStateChange=M,r.trySubscribe(),M(),()=>{if(v=!0,r.tryUnsubscribe(),r.onStateChange=null,b)throw b}}function Eee(e,t){return e===t}function Cee(e,t,r,{pure:n,areStatesEqual:i=Eee,areOwnPropsEqual:o=vT,areStatePropsEqual:s=vT,areMergedPropsEqual:a=vT,forwardRef:d=!1,context:h=Xc}={}){const g=h,v=dee(e),b=fee(t),M=mee(r),P=!!e;return A=>{const O=A.displayName||A.name||"Component",I=`Connect(${O})`,C={shouldHandleStateChanges:P,displayName:I,wrappedComponentName:O,WrappedComponent:A,initMapStateToProps:v,initMapDispatchToProps:b,initMergeProps:M,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function R(F){const[H,re,te]=W.useMemo(()=>{const{reactReduxForwardedRef:Be}=F,Pe=p_(F,vee);return[F.context,Be,Pe]},[F]),ae=W.useMemo(()=>H&&H.Consumer&&aee.isContextConsumer(W.createElement(H.Consumer,null))?H:g,[H,g]),de=W.useContext(ae),pe=!!F.store&&!!F.store.getState&&!!F.store.dispatch,Se=!!de&&!!de.store,_e=pe?F.store:de.store,Me=Se?de.getServerState:_e.getState,Ae=W.useMemo(()=>cee(_e.dispatch,C),[_e]),[Ee,Ie]=W.useMemo(()=>{if(!P)return xee;const Be=A8(_e,pe?void 0:de.subscription),Pe=Be.notifyNestedSubs.bind(Be);return[Be,Pe]},[_e,pe,de]),He=W.useMemo(()=>pe?de:yn({},de,{subscription:Ee}),[pe,de,Ee]),tt=W.useRef(),Te=W.useRef(te),Ne=W.useRef(),De=W.useRef(!1);W.useRef(!1);const Ye=W.useRef(!1),je=W.useRef();U1(()=>(Ye.current=!0,()=>{Ye.current=!1}),[]);const st=W.useMemo(()=>()=>Ne.current&&te===Te.current?Ne.current:Ae(_e.getState(),te),[_e,te]),nt=W.useMemo(()=>Pe=>Ee?See(P,_e,Ee,Ae,Te,tt,De,Ye,Ne,Ie,Pe):()=>{},[Ee]);bee(wee,[Te,tt,De,te,Ne,Ie]);let Ue;try{Ue=M8(nt,st,Me?()=>Ae(Me(),te):st)}catch(Be){throw je.current&&(Be.message+=`
The error may be correlated with this previous error:
${je.current.stack}

`),Be}U1(()=>{je.current=void 0,Ne.current=void 0,tt.current=Ue});const Xe=W.useMemo(()=>W.createElement(A,yn({},Ue,{ref:re})),[re,A,Ue]);return W.useMemo(()=>P?W.createElement(ae.Provider,{value:He},Xe):Xe,[ae,Xe,He])}const L=W.memo(R);if(L.WrappedComponent=A,L.displayName=R.displayName=I,d){const H=W.forwardRef(function(te,ae){return W.createElement(L,yn({},te,{reactReduxForwardedRef:ae}))});return H.displayName=I,H.WrappedComponent=A,RN(H,A)}return RN(L,A)}}function Tee({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const s=W.useMemo(()=>{const h=A8(e);return{store:e,subscription:h,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[e,n,i,o]),a=W.useMemo(()=>e.getState(),[e]);U1(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const d=t||Xc;return W.createElement(d.Provider,{value:s},r)}function O8(e=Xc){const t=e===Xc?v8:fI(e);return function(){const{store:n}=t();return n}}const kee=O8();function Pee(e=Xc){const t=e===Xc?kee:O8(e);return function(){return t().dispatch}}const rc=Pee();UQ(zQ.useSyncExternalStoreWithSelector);_ee(p8.useSyncExternalStore);jQ(lu.unstable_batchedUpdates);function ol(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ef(e){return!!e&&!!e[qn]}function Jc(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===zee}(e)||Array.isArray(e)||!!e[VN]||!!(!((t=e.constructor)===null||t===void 0)&&t[VN])||xI(e)||bI(e))}function Zd(e,t,r){r===void 0&&(r=!1),sg(e)===0?(r?Object.keys:rm)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function sg(e){var t=e[qn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:xI(e)?2:bI(e)?3:0}function tm(e,t){return sg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Aee(e,t){return sg(e)===2?e.get(t):e[t]}function I8(e,t,r){var n=sg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function R8(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function xI(e){return Dee&&e instanceof Map}function bI(e){return Lee&&e instanceof Set}function yd(e){return e.o||e.t}function wI(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=D8(e);delete t[qn];for(var r=rm(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function SI(e,t){return t===void 0&&(t=!1),EI(e)||Ef(e)||!Jc(e)||(sg(e)>1&&(e.set=e.add=e.clear=e.delete=Mee),Object.freeze(e),t&&Zd(e,function(r,n){return SI(n,!0)},!0)),e}function Mee(){ol(2)}function EI(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ql(e){var t=rA[e];return t||ol(18,e),t}function Oee(e,t){rA[e]||(rA[e]=t)}function QP(){return u0}function _T(e,t){t&&(ql("Patches"),e.u=[],e.s=[],e.v=t)}function V1(e){eA(e),e.p.forEach(Iee),e.p=null}function eA(e){e===u0&&(u0=e.l)}function zN(e){return u0={p:[],l:u0,h:e,m:!0,_:0}}function Iee(e){var t=e[qn];t.i===0||t.i===1?t.j():t.g=!0}function xT(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||ql("ES5").S(t,e,n),n?(r[qn].P&&(V1(t),ol(4)),Jc(e)&&(e=W1(t,e),t.l||q1(t,e)),t.u&&ql("Patches").M(r[qn].t,e,t.u,t.s)):e=W1(t,r,[]),V1(t),t.u&&t.v(t.u,t.s),e!==$8?e:void 0}function W1(e,t,r){if(EI(t))return t;var n=t[qn];if(!n)return Zd(t,function(a,d){return NN(e,n,t,a,d,r)},!0),t;if(n.A!==e)return t;if(!n.P)return q1(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=wI(n.k):n.o,o=i,s=!1;n.i===3&&(o=new Set(i),i.clear(),s=!0),Zd(o,function(a,d){return NN(e,n,i,a,d,r,s)}),q1(e,i,!1),r&&e.u&&ql("Patches").N(n,r,e.u,e.s)}return n.o}function NN(e,t,r,n,i,o,s){if(Ef(i)){var a=W1(e,i,o&&t&&t.i!==3&&!tm(t.R,n)?o.concat(n):void 0);if(I8(r,n,a),!Ef(a))return;e.m=!1}else s&&r.add(i);if(Jc(i)&&!EI(i)){if(!e.h.D&&e._<1)return;W1(e,i),t&&t.A.l||q1(e,i)}}function q1(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&SI(t,r)}function bT(e,t){var r=e[qn];return(r?yd(r):e)[t]}function jN(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Gu(e){e.P||(e.P=!0,e.l&&Gu(e.l))}function wT(e){e.o||(e.o=wI(e.t))}function tA(e,t,r){var n=xI(t)?ql("MapSet").F(t,r):bI(t)?ql("MapSet").T(t,r):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:QP(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},d=a,h=f0;s&&(d=[a],h=dv);var g=Proxy.revocable(d,h),v=g.revoke,b=g.proxy;return a.k=b,a.j=v,b}(t,r):ql("ES5").J(t,r);return(r?r.A:QP()).p.push(n),n}function Ree(e){return Ef(e)||ol(22,e),function t(r){if(!Jc(r))return r;var n,i=r[qn],o=sg(r);if(i){if(!i.P&&(i.i<4||!ql("ES5").K(i)))return i.t;i.I=!0,n=BN(r,o),i.I=!1}else n=BN(r,o);return Zd(n,function(s,a){i&&Aee(i.t,s)===a||I8(n,s,t(a))}),o===3?new Set(n):n}(e)}function BN(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return wI(e)}function $ee(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var d=this[qn];return f0.get(d,o)},set:function(d){var h=this[qn];f0.set(h,o,d)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][qn];if(!a.P)switch(a.i){case 5:n(a)&&Gu(a);break;case 4:r(a)&&Gu(a)}}}function r(o){for(var s=o.t,a=o.k,d=rm(a),h=d.length-1;h>=0;h--){var g=d[h];if(g!==qn){var v=s[g];if(v===void 0&&!tm(s,g))return!0;var b=a[g],M=b&&b[qn];if(M?M.t!==v:!R8(b,v))return!0}}var P=!!s[qn];return d.length!==rm(s).length+(P?0:1)}function n(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var d=0;d<s.length;d++)if(!s.hasOwnProperty(d))return!0;return!1}var i={};Oee("ES5",{J:function(o,s){var a=Array.isArray(o),d=function(g,v){if(g){for(var b=Array(v.length),M=0;M<v.length;M++)Object.defineProperty(b,""+M,e(M,!0));return b}var P=D8(v);delete P[qn];for(var w=rm(P),A=0;A<w.length;A++){var O=w[A];P[O]=e(O,g||!!P[O].enumerable)}return Object.create(Object.getPrototypeOf(v),P)}(a,o),h={i:a?5:4,A:s?s.A:QP(),P:!1,I:!1,R:{},l:s,t:o,k:d,o:null,g:!1,C:!1};return Object.defineProperty(d,qn,{value:h,writable:!0}),d},S:function(o,s,a){a?Ef(s)&&s[qn].A===o&&t(o.p):(o.u&&function d(h){if(h&&typeof h=="object"){var g=h[qn];if(g){var v=g.t,b=g.k,M=g.R,P=g.i;if(P===4)Zd(b,function(C){C!==qn&&(v[C]!==void 0||tm(v,C)?M[C]||d(b[C]):(M[C]=!0,Gu(g)))}),Zd(v,function(C){b[C]!==void 0||tm(b,C)||(M[C]=!1,Gu(g))});else if(P===5){if(n(g)&&(Gu(g),M.length=!0),b.length<v.length)for(var w=b.length;w<v.length;w++)M[w]=!1;else for(var A=v.length;A<b.length;A++)M[A]=!0;for(var O=Math.min(b.length,v.length),I=0;I<O;I++)b.hasOwnProperty(I)||(M[I]=!0),M[I]===void 0&&d(b[I])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var FN,u0,CI=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Dee=typeof Map<"u",Lee=typeof Set<"u",UN=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$8=CI?Symbol.for("immer-nothing"):((FN={})["immer-nothing"]=!0,FN),VN=CI?Symbol.for("immer-draftable"):"__$immer_draftable",qn=CI?Symbol.for("immer-state"):"__$immer_state",zee=""+Object.prototype.constructor,rm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,D8=Object.getOwnPropertyDescriptors||function(e){var t={};return rm(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},rA={},f0={get:function(e,t){if(t===qn)return e;var r=yd(e);if(!tm(r,t))return function(i,o,s){var a,d=jN(o,s);return d?"value"in d?d.value:(a=d.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Jc(n)?n:n===bT(e.t,t)?(wT(e),e.o[t]=tA(e.A.h,n,e)):n},has:function(e,t){return t in yd(e)},ownKeys:function(e){return Reflect.ownKeys(yd(e))},set:function(e,t,r){var n=jN(yd(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=bT(yd(e),t),o=i==null?void 0:i[qn];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(R8(r,i)&&(r!==void 0||tm(e.t,t)))return!0;wT(e),Gu(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return bT(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,wT(e),Gu(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=yd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){ol(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ol(12)}},dv={};Zd(f0,function(e,t){dv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),dv.deleteProperty=function(e,t){return dv.set.call(this,e,t,void 0)},dv.set=function(e,t,r){return f0.set.call(this,e[0],t,r,e[0])};var Nee=function(){function e(r){var n=this;this.O=UN,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var d=n;return function(w){var A=this;w===void 0&&(w=a);for(var O=arguments.length,I=Array(O>1?O-1:0),C=1;C<O;C++)I[C-1]=arguments[C];return d.produce(w,function(R){var z;return(z=o).call.apply(z,[A,R].concat(I))})}}var h;if(typeof o!="function"&&ol(6),s!==void 0&&typeof s!="function"&&ol(7),Jc(i)){var g=zN(n),v=tA(n,i,void 0),b=!0;try{h=o(v),b=!1}finally{b?V1(g):eA(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(w){return _T(g,s),xT(w,g)},function(w){throw V1(g),w}):(_T(g,s),xT(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===$8&&(h=void 0),n.D&&SI(h,!0),s){var M=[],P=[];ql("Patches").M(i,h,M,P),s(M,P)}return h}ol(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,v=Array(g>1?g-1:0),b=1;b<g;b++)v[b-1]=arguments[b];return n.produceWithPatches(h,function(M){return i.apply(void 0,[M].concat(v))})};var s,a,d=n.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&d instanceof Promise?d.then(function(h){return[h,s,a]}):[d,s,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Jc(r)||ol(8),Ef(r)&&(r=Ree(r));var n=zN(this),i=tA(this,r,void 0);return i[qn].C=!0,eA(n),i},t.finishDraft=function(r,n){var i=r&&r[qn],o=i.A;return _T(o,n),xT(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!UN&&ol(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=ql("Patches").$;return Ef(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},e}(),Ya=new Nee,L8=Ya.produce;Ya.produceWithPatches.bind(Ya);Ya.setAutoFreeze.bind(Ya);Ya.setUseProxies.bind(Ya);Ya.applyPatches.bind(Ya);Ya.createDraft.bind(Ya);Ya.finishDraft.bind(Ya);function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function jee(e,t){if(d0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8(e){var t=jee(e,"string");return d0(t)==="symbol"?t:String(t)}function Bee(e,t,r){return t=z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){Bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ao(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var HN=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ST=function(){return Math.random().toString(36).substring(7).split("").join(".")},H1={INIT:"@@redux/INIT"+ST(),REPLACE:"@@redux/REPLACE"+ST(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ST()}};function Fee(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function N8(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ao(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ao(1));return r(N8)(e,t)}if(typeof e!="function")throw new Error(Ao(2));var i=e,o=t,s=[],a=s,d=!1;function h(){a===s&&(a=s.slice())}function g(){if(d)throw new Error(Ao(3));return o}function v(w){if(typeof w!="function")throw new Error(Ao(4));if(d)throw new Error(Ao(5));var A=!0;return h(),a.push(w),function(){if(A){if(d)throw new Error(Ao(6));A=!1,h();var I=a.indexOf(w);a.splice(I,1),s=null}}}function b(w){if(!Fee(w))throw new Error(Ao(7));if(typeof w.type>"u")throw new Error(Ao(8));if(d)throw new Error(Ao(9));try{d=!0,o=i(o,w)}finally{d=!1}for(var A=s=a,O=0;O<A.length;O++){var I=A[O];I()}return w}function M(w){if(typeof w!="function")throw new Error(Ao(10));i=w,b({type:H1.REPLACE})}function P(){var w,A=v;return w={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(Ao(11));function C(){I.next&&I.next(g())}C();var R=A(C);return{unsubscribe:R}}},w[HN]=function(){return this},w}return b({type:H1.INIT}),n={dispatch:b,subscribe:v,getState:g,replaceReducer:M},n[HN]=P,n}function Uee(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:H1.INIT});if(typeof n>"u")throw new Error(Ao(12));if(typeof r(void 0,{type:H1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ao(13))})}function j8(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),s;try{Uee(r)}catch(a){s=a}return function(d,h){if(d===void 0&&(d={}),s)throw s;for(var g=!1,v={},b=0;b<o.length;b++){var M=o[b],P=r[M],w=d[M],A=P(w,h);if(typeof A>"u")throw h&&h.type,new Error(Ao(14));v[M]=A,g=g||A!==w}return g=g||o.length!==Object.keys(d).length,g?v:d}}function G1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Vee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(Ao(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(d){return d(s)});return o=G1.apply(void 0,a)(i.dispatch),qN(qN({},i),{},{dispatch:o})}}}function B8(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var F8=B8();F8.withExtraArgument=B8;const GN=F8;var U8=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wee=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Sm=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},qee=Object.defineProperty,Hee=Object.defineProperties,Gee=Object.getOwnPropertyDescriptors,YN=Object.getOwnPropertySymbols,Yee=Object.prototype.hasOwnProperty,Kee=Object.prototype.propertyIsEnumerable,KN=function(e,t,r){return t in e?qee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},hf=function(e,t){for(var r in t||(t={}))Yee.call(t,r)&&KN(e,r,t[r]);if(YN)for(var n=0,i=YN(t);n<i.length;n++){var r=i[n];Kee.call(t,r)&&KN(e,r,t[r])}return e},ET=function(e,t){return Hee(e,Gee(t))},Zee=function(e,t,r){return new Promise(function(n,i){var o=function(d){try{a(r.next(d))}catch(h){i(h)}},s=function(d){try{a(r.throw(d))}catch(h){i(h)}},a=function(d){return d.done?n(d.value):Promise.resolve(d.value).then(o,s)};a((r=r.apply(e,t)).next())})},Xee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?G1:G1.apply(null,arguments)};function Jee(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var Qee=function(e){U8(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Sm([void 0],r[0].concat(this)))):new(t.bind.apply(t,Sm([void 0],r.concat(this))))},t}(Array),ete=function(e){U8(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Sm([void 0],r[0].concat(this)))):new(t.bind.apply(t,Sm([void 0],r.concat(this))))},t}(Array);function nA(e){return Jc(e)?L8(e,function(){}):e}function tte(e){return typeof e=="boolean"}function rte(){return function(t){return nte(t)}}function nte(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new Qee;return r&&(tte(r)?n.push(GN):n.push(GN.withExtraArgument(r.extraArgument))),n}var ite=!0;function ote(e){var t=rte(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,s=o===void 0?t():o,a=r.devTools,d=a===void 0?!0:a,h=r.preloadedState,g=h===void 0?void 0:h,v=r.enhancers,b=v===void 0?void 0:v,M;if(typeof i=="function")M=i;else if(Jee(i))M=j8(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var P=s;typeof P=="function"&&(P=P(t));var w=Vee.apply(void 0,P),A=G1;d&&(A=Xee(hf({trace:!ite},typeof d=="object"&&d)));var O=new ete(w),I=O;Array.isArray(b)?I=Sm([w],b):typeof b=="function"&&(I=b(O));var C=A.apply(void 0,I);return N8(M,g,C)}function pf(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return hf(hf({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function V8(e){var t={},r=[],n,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return r.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function ate(e){return typeof e=="function"}function ste(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?V8(t):[t,r,n],o=i[0],s=i[1],a=i[2],d;if(ate(e))d=function(){return nA(e())};else{var h=nA(e);d=function(){return h}}function g(v,b){v===void 0&&(v=d());var M=Sm([o[b.type]],s.filter(function(P){var w=P.matcher;return w(b)}).map(function(P){var w=P.reducer;return w}));return M.filter(function(P){return!!P}).length===0&&(M=[a]),M.reduce(function(P,w){if(w)if(Ef(P)){var A=P,O=w(A,b);return O===void 0?P:O}else{if(Jc(P))return L8(P,function(I){return w(I,b)});var O=w(P,b);if(O===void 0){if(P===null)return P;throw Error("A case reducer on a non-draftable value must not return undefined")}return O}return P},v)}return g.getInitialState=d,g}function lte(e,t){return e+"/"+t}function m_(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:nA(e.initialState),n=e.reducers||{},i=Object.keys(n),o={},s={},a={};i.forEach(function(g){var v=n[g],b=lte(t,g),M,P;"reducer"in v?(M=v.reducer,P=v.prepare):M=v,o[g]=M,s[b]=M,a[g]=P?pf(b,P):pf(b)});function d(){var g=typeof e.extraReducers=="function"?V8(e.extraReducers):[e.extraReducers],v=g[0],b=v===void 0?{}:v,M=g[1],P=M===void 0?[]:M,w=g[2],A=w===void 0?void 0:w,O=hf(hf({},b),s);return ste(r,function(I){for(var C in O)I.addCase(C,O[C]);for(var R=0,z=P;R<z.length;R++){var L=z[R];I.addMatcher(L.matcher,L.reducer)}A&&I.addDefaultCase(A)})}var h;return{name:t,reducer:function(g,v){return h||(h=d()),h(g,v)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=d()),h.getInitialState()}}}var cte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ute=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=cte[Math.random()*64|0];return t},fte=["name","message","stack","code"],CT=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),ZN=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),dte=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=fte;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,r,n){var i=pf(t+"/fulfilled",function(h,g,v,b){return{payload:h,meta:ET(hf({},b||{}),{arg:v,requestId:g,requestStatus:"fulfilled"})}}),o=pf(t+"/pending",function(h,g,v){return{payload:void 0,meta:ET(hf({},v||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=pf(t+"/rejected",function(h,g,v,b,M){return{payload:b,error:(n&&n.serializeError||dte)(h||"Rejected"),meta:ET(hf({},M||{}),{arg:v,requestId:g,rejectedWithValue:!!b,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function d(h){return function(g,v,b){var M=n!=null&&n.idGenerator?n.idGenerator(h):ute(),P=new a,w;function A(I){w=I,P.abort()}var O=function(){return Zee(this,null,function(){var I,C,R,z,L,F,H;return Wee(this,function(re){switch(re.label){case 0:return re.trys.push([0,4,,5]),z=(I=n==null?void 0:n.condition)==null?void 0:I.call(n,h,{getState:v,extra:b}),pte(z)?[4,z]:[3,2];case 1:z=re.sent(),re.label=2;case 2:if(z===!1||P.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return L=new Promise(function(te,ae){return P.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:w||"Aborted"})})}),g(o(M,h,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:M,arg:h},{getState:v,extra:b}))),[4,Promise.race([L,Promise.resolve(r(h,{dispatch:g,getState:v,extra:b,requestId:M,signal:P.signal,abort:A,rejectWithValue:function(te,ae){return new CT(te,ae)},fulfillWithValue:function(te,ae){return new ZN(te,ae)}})).then(function(te){if(te instanceof CT)throw te;return te instanceof ZN?i(te.payload,M,h,te.meta):i(te,M,h)})])];case 3:return R=re.sent(),[3,5];case 4:return F=re.sent(),R=F instanceof CT?s(null,M,h,F.payload,F.meta):s(F,M,h),[3,5];case 5:return H=n&&!n.dispatchConditionRejection&&s.match(R)&&R.meta.condition,H||g(R),[2,R]}})})}();return Object.assign(O,{abort:A,requestId:M,arg:h,unwrap:function(){return O.then(hte)}})}}return Object.assign(d,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function hte(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function pte(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var TI="listenerMiddleware";pf(TI+"/add");pf(TI+"/removeAll");pf(TI+"/remove");var XN;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);$ee();const{reducer:mte,actions:gte}=m_({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:yte,actions:Dc}=m_({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(r=>e.items[r.id]=r)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(r=>e.items[r.id]=r)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:vte,actions:TT}=m_({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(r=>{e.positions[r.deviceId]=r,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(r=>{e.camera[r.deviceId]=r})}}}),_te=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let r=0;r<e.length;r++){console.log("uav - "+r),t[r]={},e[r].hasOwnProperty("uav")&&(t[r].uav=e[r].uav),t[r].id=r,t[r].name=e[r].name,t[r].wp=[],t[r].attributes={};for(let n=0;n<e[r].wp.length;n++)t[r].wp[n]={},t[r].wp[n].pos=e[r].wp[n].pos,t[r].wp[n].yaw=e[r].wp[n].yaw,t[r].wp[n].gimbal=e[r].wp[n].gimbal,e[r].wp[n].hasOwnProperty("action")&&(t[r].wp[n].action=e[r].wp[n].action);e[r].hasOwnProperty("attributes")?(console.log("have atribute"),e[r].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[r].attributes.mode_landing=e[r].attributes.mode_landing),e[r].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e[r].attributes.mode_yaw),e[r].attributes.hasOwnProperty("mode_gimbal")&&(t[r].attributes.mode_gimbal=e[r].attributes.mode_gimbal),e[r].attributes.hasOwnProperty("mode_trace")&&(t[r].attributes.mode_trace=e[r].attributes.mode_trace),e[r].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e[r].attributes.idle_vel)):(e[r].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[r].attributes.mode_landing=e[r].mode_landing),e[r].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e[r].mode_yaw),e[r].hasOwnProperty("mode_gimbal")&&(t[r].attributes.mode_gimbal=e[r].mode_gimbal),e[r].hasOwnProperty("mode_trace")&&(t[r].attributes.mode_trace=e[r].mode_trace),e[r].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e[r].idle_vel))}return console.log("-------------------"),console.log(t),t},xte=e=>{let t=[];console.log("mission < 3");for(let r=1;r<=e.uav_n;r++)if(e.hasOwnProperty("uav_"+r)){let n=r-1;console.log("uav - "+n),t[n]={},t[n].id=n,t[n].uav="uav_"+r,t[n].name="uav_"+r,t[n].wp=[],t[n].attributes={};for(let i=0;i<e["uav_"+r].wp_n;i++)t[n].wp[i]={},e["uav_"+r]["wp_"+i].length==3?(t[n].wp[i].yaw=0,t[n].wp[i].pos=e["uav_"+r]["wp_"+i]):(t[n].wp[i].yaw=e["uav_"+r]["wp_"+i][3],t[n].wp[i].pos=e["uav_"+r]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[n].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e.idle_vel),e["uav_"+r].hasOwnProperty("attributes")?(e["uav_"+r].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+r),t[n].attributes.mode_landing=e["uav_"+r].attributes.mode_landing),e["uav_"+r].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e["uav_"+r].attributes.mode_yaw),e["uav_"+r].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e["uav_"+r].attributes.idle_vel)):(e["uav_"+r].hasOwnProperty("mode_landing")&&(t[n].attributes.mode_landing=e["uav_"+r].mode_landing),e["uav_"+r].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e["uav_"+r].mode_yaw),e["uav_"+r].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e["uav_"+r].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:bte,actions:Xu}=m_({name:"mission",initialState:{name:"Mission no loaded",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},updateMission(e,t){e.name=t.payload.name;let r=1;t.payload.mission.version=="3"?(e.home=t.payload.mission.route[r].wp[0].pos,e.route=_te(t.payload.mission.route)):(e.home=t.payload.mission["uav_"+r].wp_0,e.route=xte(t.payload.mission))},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:wte,actions:fb}=m_({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const r=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",n=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,r!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-n),[i.longitude,i.latitude]])}else e.history={}})}}}),JN=3,Ste=1500,Ete=()=>e=>{const t=[];let r=!1,n=0;return setInterval(()=>{r?(t.length<JN&&(r=!1),lu.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(n>JN&&(r=!0),n=0)},Ste),i=>i.type==="devices/update"||i.type==="positions/update"?r?(t.push(i),null):(n+=1,e(i)):e(i)},Cte=j8({errors:mte,devices:yte,data:vte,mission:bte,session:wte}),Tte=ote({reducer:Cte,middleware:e=>e().concat(Ete)}),kte={black:"#000",white:"#fff"},Xd=kte,Pte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ic=Pte,Ate={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},lp=Ate,Mte={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},W8=Mte,Ote={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},cp=Ote,Ite={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},up=Ite,Rte={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nl=Rte,$te={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},kI=$te,Dte={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Dy=Dte,Lte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Hl=Lte,Ly={white:Xd.white,background:Hl[50],primary:W8[900],secondary:nl[800],positive:nl[500],medium:kI[700],negative:Ic[500],neutral:Hl[500],geometry:"#3bb2d0"},zte={background:{default:Ly.background},primary:{main:Ly.primary},secondary:{main:Ly.secondary,contrastText:Ly.white},colors:Ly};var PI={exports:{}};PI.exports=q8;PI.exports.parse=q8;PI.exports.stringify=H8;var QN=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,e3=new RegExp("^"+QN.source+"(\\s"+QN.source+"){1,}");function q8(e){var t=e.split(";"),r=t.pop(),n=(t.shift()||"").split("=").pop(),i=0;function o(I){var C=r.substring(i).match(I);return C?(i+=C[0].length,C[0]):null}function s(I){return I&&n.match(/\d+/)&&(I.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+n}}),I}function a(){o(/^\s*/)}function d(){a();for(var I=0,C=[],R=[C],z=C,L;L=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(e3);){if(L==="(")R.push(z),z=[],R[R.length-1].push(z),I++;else if(L===")"){if(z.length===0||(z=R.pop(),!z))return null;if(I--,I===0)break}else if(L===",")z=[],R[R.length-1].push(z);else if(!L.split(/\s/g).some(isNaN))Array.prototype.push.apply(z,L.split(/\s/g).map(parseFloat));else return null;a()}return I!==0?null:C}function h(){for(var I=[],C,R;R=o(e3)||o(/^(,)/);)R===","?(I.push(C),C=[]):R.split(/\s/g).some(isNaN)||(C||(C=[]),Array.prototype.push.apply(C,R.split(/\s/g).map(parseFloat))),a();if(C)I.push(C);else return null;return I.length?I:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var I=h();return!I||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:I[0]}}function v(){if(!o(/^(multipoint)/i))return null;a();var I=r.substring(r.indexOf("(")+1,r.length-1).replace(/\(/g,"").replace(/\)/g,"");r="MULTIPOINT ("+I+")";var C=d();return C?(a(),{type:"MultiPoint",coordinates:C}):null}function b(){if(!o(/^(multilinestring)/i))return null;a();var I=d();return I?(a(),{type:"MultiLineString",coordinates:I}):null}function M(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var I=h();return!I||!o(/^(\))/)?null:{type:"LineString",coordinates:I}}function P(){if(!o(/^(polygon(\sz)?)/i))return null;a();var I=d();return I?{type:"Polygon",coordinates:I}:null}function w(){if(!o(/^(multipolygon)/i))return null;a();var I=d();return I?{type:"MultiPolygon",coordinates:I}:null}function A(){var I=[],C;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;C=O();)I.push(C),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:I}:null}function O(){return g()||M()||P()||v()||b()||w()||A()}return s(O())}function H8(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function r(s){return s.map(t).join(", ")}function n(s){return s.map(r).map(o).join(", ")}function i(s){return s.map(n).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+r(e.coordinates)+")";case"Polygon":return"POLYGON ("+n(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+r(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+n(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(H8).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const kT=e=>new Promise(t=>{const r=new Image;r.onload=()=>t(r),r.src=e}),t3=(e,t)=>{const r=document.createElement("canvas");r.width=e.width*devicePixelRatio,r.height=e.height*devicePixelRatio,r.style.width=`${e.width}px`,r.style.height=`${e.height}px`;const n=r.getContext("2d");return n.save(),n.fillStyle=t,n.globalAlpha=1,n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.globalAlpha=1,n.drawImage(e,0,0,r.width,r.height),n.restore(),r},db=(e,t,r)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const i=n.getContext("2d");if(i.drawImage(e,0,0,n.width,n.height),t){const s=n.width*.5,a=n.height*.5;i.drawImage(t3(t,r),(n.width-s)/2,(n.height-a)/2,s,a)}else r&&(console.log("entro"),i.drawImage(t3(e,r),0,0,n.width,n.height));return i.getImageData(0,0,n.width,n.height)},mf=e=>{var s;const t=new Set,{layers:r}=e.getStyle();(s=r==null?void 0:r.forEach)==null||s.call(r,a=>{var d,h,g;(g=(h=(d=a.layout)==null?void 0:d["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const n=[...t],i=n.find(a=>a.includes("Regular"));if(i)return[i];const o=n.find(Boolean);return o?[o]:["Roboto Regular"]},Nte="/assets/background-53c65562.svg",jte="/assets/direction-2fdacc6e.svg",PT="/assets/plane-4238c02c.svg",Bte="/assets/helicopter-651bc896.svg",Fte="/assets/drone1-b9b242c5.svg",Ute="/assets/drone2-e1a01f63.svg",r3="/assets/drone3-e4211ef1.svg",Em={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},Y1={helicopter:Bte,plane:PT,drone:Fte,dji:Ute,px4:PT,catec:r3,fuvex:r3,default:PT},G8=e=>Y1.hasOwnProperty(e)?e:"default",wp={},Vte=async()=>{const e=await kT(Nte);wp.background=await db(e),wp.direction=await db(await kT(jte)),Object.keys(Em).forEach(t=>{wp[`background-${t}`]=db(e,null,Em[t])}),await Promise.all(Object.keys(Y1).map(async t=>{const r=[];["primary","positive","negative","neutral"].forEach(n=>{r.push(kT(Y1[t]).then(i=>{wp[`${t}-${n}`]=db(e,i,zte.colors[n])}))}),await Promise.all(r)})),console.log("preload icon"),console.log(wp)};function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}function Ed(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function Y8(e){if(!Ed(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=Y8(e[r])}),t}function wa(e,t,r={clone:!0}){const n=r.clone?nm({},e):e;return Ed(e)&&Ed(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Ed(t[i])&&i in e&&Ed(e[i])?n[i]=wa(e[i],t[i],r):r.clone?n[i]=Ed(t[i])?Y8(t[i]):t[i]:n[i]=t[i])}),n}var K8={exports:{}},Wte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qte=Wte,Hte=qte;function Z8(){}function X8(){}X8.resetWarningCache=Z8;var Gte=function(){function e(n,i,o,s,a,d){if(d!==Hte){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:X8,resetWarningCache:Z8};return r.PropTypes=r,r};K8.exports=Gte();var AI=K8.exports;const Tr=Kr(AI);function Cf(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function wt(e){if(typeof e!="string")throw new Error(Cf(7));return e.charAt(0).toUpperCase()+e.slice(1)}function iA(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function MI(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function Yte(e,t){return()=>null}function e1(e,t){return W.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Ni(e){return e&&e.ownerDocument||document}function Tf(e){return Ni(e).defaultView||window}function Kte(e,t){return()=>null}function K1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Zte=typeof window<"u"?W.useLayoutEffect:W.useEffect,dl=Zte;let n3=0;function Xte(e){const[t,r]=W.useState(e),n=e||t;return W.useEffect(()=>{t==null&&(n3+=1,r(`mui-${n3}`))},[t]),n}const i3=m1["useId".toString()];function OI(e){if(i3!==void 0){const t=i3();return e??t}return Xte(e)}function Jte(e,t,r,n,i){return null}function h0({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=W.useRef(e!==void 0),[o,s]=W.useState(t),a=i?e:o,d=W.useCallback(h=>{i||s(h)},[]);return[a,d]}function sl(e){const t=W.useRef(e);return dl(()=>{t.current=e}),W.useCallback((...r)=>(0,t.current)(...r),[])}function si(...e){return W.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{K1(r,t)})},e)}let HS=!0,oA=!1,o3;const Qte={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ere(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Qte[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function tre(e){e.metaKey||e.altKey||e.ctrlKey||(HS=!0)}function AT(){HS=!1}function rre(){this.visibilityState==="hidden"&&oA&&(HS=!0)}function nre(e){e.addEventListener("keydown",tre,!0),e.addEventListener("mousedown",AT,!0),e.addEventListener("pointerdown",AT,!0),e.addEventListener("touchstart",AT,!0),e.addEventListener("visibilitychange",rre,!0)}function ire(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return HS||ere(t)}function GS(){const e=W.useCallback(i=>{i!=null&&nre(i.ownerDocument)},[]),t=W.useRef(!1);function r(){return t.current?(oA=!0,window.clearTimeout(o3),o3=window.setTimeout(()=>{oA=!1},100),t.current=!1,!0):!1}function n(i){return ire(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function J8(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const ore=e=>{const t=W.useRef({});return W.useEffect(()=>{t.current=e}),t.current},Q8=ore;function II(e,t){const r=nm({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=nm({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},o=t[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=nm({},o),Object.keys(i).forEach(s=>{r[n][s]=II(i[s],o[s])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function lr(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),r&&r[s]&&o.push(r[s])}return o},[]).join(" ")}),n}const a3=e=>e,are=()=>{let e=a3;return{configure(t){e=t},generate(t){return e(t)},reset(){e=a3}}},sre=are(),RI=sre,lre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function or(e,t,r="Mui"){const n=lre[t];return n?`${r}-${n}`:`${RI.generate(e)}-${t}`}function ar(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=or(e,i,r)}),n}const Jd="$$material";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(this,arguments)}function It(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function eV(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var cre=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ure=eV(function(e){return cre.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function fre(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function dre(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var hre=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dre(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=fre(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ko="-ms-",Z1="-moz-",en="-webkit-",tV="comm",$I="rule",DI="decl",pre="@import",rV="@keyframes",mre="@layer",gre=Math.abs,YS=String.fromCharCode,yre=Object.assign;function vre(e,t){return ao(e,0)^45?(((t<<2^ao(e,0))<<2^ao(e,1))<<2^ao(e,2))<<2^ao(e,3):0}function nV(e){return e.trim()}function _re(e,t){return(e=t.exec(e))?e[0]:e}function tn(e,t,r){return e.replace(t,r)}function aA(e,t){return e.indexOf(t)}function ao(e,t){return e.charCodeAt(t)|0}function p0(e,t,r){return e.slice(t,r)}function $l(e){return e.length}function LI(e){return e.length}function hb(e,t){return t.push(e),e}function xre(e,t){return e.map(t).join("")}var KS=1,Cm=1,iV=0,Ca=0,Pi=0,lg="";function ZS(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:KS,column:Cm,length:s,return:""}}function zy(e,t){return yre(ZS("",null,null,"",null,null,0),e,{length:-e.length},t)}function bre(){return Pi}function wre(){return Pi=Ca>0?ao(lg,--Ca):0,Cm--,Pi===10&&(Cm=1,KS--),Pi}function qa(){return Pi=Ca<iV?ao(lg,Ca++):0,Cm++,Pi===10&&(Cm=1,KS++),Pi}function Gl(){return ao(lg,Ca)}function t1(){return Ca}function g_(e,t){return p0(lg,e,t)}function m0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oV(e){return KS=Cm=1,iV=$l(lg=e),Ca=0,[]}function aV(e){return lg="",e}function r1(e){return nV(g_(Ca-1,sA(e===91?e+2:e===40?e+1:e)))}function Sre(e){for(;(Pi=Gl())&&Pi<33;)qa();return m0(e)>2||m0(Pi)>3?"":" "}function Ere(e,t){for(;--t&&qa()&&!(Pi<48||Pi>102||Pi>57&&Pi<65||Pi>70&&Pi<97););return g_(e,t1()+(t<6&&Gl()==32&&qa()==32))}function sA(e){for(;qa();)switch(Pi){case e:return Ca;case 34:case 39:e!==34&&e!==39&&sA(Pi);break;case 40:e===41&&sA(e);break;case 92:qa();break}return Ca}function Cre(e,t){for(;qa()&&e+Pi!==47+10;)if(e+Pi===42+42&&Gl()===47)break;return"/*"+g_(t,Ca-1)+"*"+YS(e===47?e:qa())}function Tre(e){for(;!m0(Gl());)qa();return g_(e,Ca)}function kre(e){return aV(n1("",null,null,null,[""],e=oV(e),0,[0],e))}function n1(e,t,r,n,i,o,s,a,d){for(var h=0,g=0,v=s,b=0,M=0,P=0,w=1,A=1,O=1,I=0,C="",R=i,z=o,L=n,F=C;A;)switch(P=I,I=qa()){case 40:if(P!=108&&ao(F,v-1)==58){aA(F+=tn(r1(I),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:F+=r1(I);break;case 9:case 10:case 13:case 32:F+=Sre(P);break;case 92:F+=Ere(t1()-1,7);continue;case 47:switch(Gl()){case 42:case 47:hb(Pre(Cre(qa(),t1()),t,r),d);break;default:F+="/"}break;case 123*w:a[h++]=$l(F)*O;case 125*w:case 59:case 0:switch(I){case 0:case 125:A=0;case 59+g:O==-1&&(F=tn(F,/\f/g,"")),M>0&&$l(F)-v&&hb(M>32?l3(F+";",n,r,v-1):l3(tn(F," ","")+";",n,r,v-2),d);break;case 59:F+=";";default:if(hb(L=s3(F,t,r,h,g,i,a,C,R=[],z=[],v),o),I===123)if(g===0)n1(F,t,L,L,R,o,v,a,z);else switch(b===99&&ao(F,3)===110?100:b){case 100:case 108:case 109:case 115:n1(e,L,L,n&&hb(s3(e,L,L,0,0,i,a,C,i,R=[],v),z),i,z,v,a,n?R:z);break;default:n1(F,L,L,L,[""],z,0,a,z)}}h=g=M=0,w=O=1,C=F="",v=s;break;case 58:v=1+$l(F),M=P;default:if(w<1){if(I==123)--w;else if(I==125&&w++==0&&wre()==125)continue}switch(F+=YS(I),I*w){case 38:O=g>0?1:(F+="\f",-1);break;case 44:a[h++]=($l(F)-1)*O,O=1;break;case 64:Gl()===45&&(F+=r1(qa())),b=Gl(),g=v=$l(C=F+=Tre(t1())),I++;break;case 45:P===45&&$l(F)==2&&(w=0)}}return o}function s3(e,t,r,n,i,o,s,a,d,h,g){for(var v=i-1,b=i===0?o:[""],M=LI(b),P=0,w=0,A=0;P<n;++P)for(var O=0,I=p0(e,v+1,v=gre(w=s[P])),C=e;O<M;++O)(C=nV(w>0?b[O]+" "+I:tn(I,/&\f/g,b[O])))&&(d[A++]=C);return ZS(e,t,r,i===0?$I:a,d,h,g)}function Pre(e,t,r){return ZS(e,t,r,tV,YS(bre()),p0(e,2,-2),0)}function l3(e,t,r,n){return ZS(e,t,r,DI,p0(e,0,n),p0(e,n+1,-1),n)}function im(e,t){for(var r="",n=LI(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function Are(e,t,r,n){switch(e.type){case mre:if(e.children.length)break;case pre:case DI:return e.return=e.return||e.value;case tV:return"";case rV:return e.return=e.value+"{"+im(e.children,n)+"}";case $I:e.value=e.props.join(",")}return $l(r=im(e.children,n))?e.return=e.value+"{"+r+"}":""}function Mre(e){var t=LI(e);return function(r,n,i,o){for(var s="",a=0;a<t;a++)s+=e[a](r,n,i,o)||"";return s}}function Ore(e){return function(t){t.root||(t=t.return)&&e(t)}}var Ire=function(t,r,n){for(var i=0,o=0;i=o,o=Gl(),i===38&&o===12&&(r[n]=1),!m0(o);)qa();return g_(t,Ca)},Rre=function(t,r){var n=-1,i=44;do switch(m0(i)){case 0:i===38&&Gl()===12&&(r[n]=1),t[n]+=Ire(Ca-1,r,n);break;case 2:t[n]+=r1(i);break;case 4:if(i===44){t[++n]=Gl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=YS(i)}while(i=qa());return t},$re=function(t,r){return aV(Rre(oV(t),r))},c3=new WeakMap,Dre=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!c3.get(n))&&!i){c3.set(t,!0);for(var o=[],s=$re(r,o),a=n.props,d=0,h=0;d<s.length;d++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[d]?s[d].replace(/&\f/g,a[g]):a[g]+" "+s[d]}}},Lre=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function sV(e,t){switch(vre(e,t)){case 5103:return en+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return en+e+Z1+e+ko+e+e;case 6828:case 4268:return en+e+ko+e+e;case 6165:return en+e+ko+"flex-"+e+e;case 5187:return en+e+tn(e,/(\w+).+(:[^]+)/,en+"box-$1$2"+ko+"flex-$1$2")+e;case 5443:return en+e+ko+"flex-item-"+tn(e,/flex-|-self/,"")+e;case 4675:return en+e+ko+"flex-line-pack"+tn(e,/align-content|flex-|-self/,"")+e;case 5548:return en+e+ko+tn(e,"shrink","negative")+e;case 5292:return en+e+ko+tn(e,"basis","preferred-size")+e;case 6060:return en+"box-"+tn(e,"-grow","")+en+e+ko+tn(e,"grow","positive")+e;case 4554:return en+tn(e,/([^-])(transform)/g,"$1"+en+"$2")+e;case 6187:return tn(tn(tn(e,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),e,"")+e;case 5495:case 3959:return tn(e,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return tn(tn(e,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+ko+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+e+e;case 4095:case 3583:case 4068:case 2532:return tn(e,/(.+)-inline(.+)/,en+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($l(e)-1-t>6)switch(ao(e,t+1)){case 109:if(ao(e,t+4)!==45)break;case 102:return tn(e,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+Z1+(ao(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~aA(e,"stretch")?sV(tn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ao(e,t+1)!==115)break;case 6444:switch(ao(e,$l(e)-3-(~aA(e,"!important")&&10))){case 107:return tn(e,":",":"+en)+e;case 101:return tn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(ao(e,14)===45?"inline-":"")+"box$3$1"+en+"$2$3$1"+ko+"$2box$3")+e}break;case 5936:switch(ao(e,t+11)){case 114:return en+e+ko+tn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return en+e+ko+tn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return en+e+ko+tn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return en+e+ko+e+e}return e}var zre=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case DI:t.return=sV(t.value,t.length);break;case rV:return im([zy(t,{value:tn(t.value,"@","@"+en)})],i);case $I:if(t.length)return xre(t.props,function(o){switch(_re(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return im([zy(t,{props:[tn(o,/:(read-\w+)/,":"+Z1+"$1")]})],i);case"::placeholder":return im([zy(t,{props:[tn(o,/:(plac\w+)/,":"+en+"input-$1")]}),zy(t,{props:[tn(o,/:(plac\w+)/,":"+Z1+"$1")]}),zy(t,{props:[tn(o,/:(plac\w+)/,ko+"input-$1")]})],i)}return""})}},Nre=[zre],lV=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var A=w.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=t.stylisPlugins||Nre,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var A=w.getAttribute("data-emotion").split(" "),O=1;O<A.length;O++)o[A[O]]=!0;a.push(w)});var d,h=[Dre,Lre];{var g,v=[Are,Ore(function(w){g.insert(w)})],b=Mre(h.concat(i,v)),M=function(A){return im(kre(A),b)};d=function(A,O,I,C){g=I,M(A?A+"{"+O.styles+"}":O.styles),C&&(P.inserted[O.name]=!0)}}var P={key:r,sheet:new hre({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:d};return P.sheet.hydrate(a),P},jre=!0;function Bre(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var cV=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||jre===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},uV=function(t,r,n){cV(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Fre(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Ure={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vre=/[A-Z]|^ms/g,Wre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fV=function(t){return t.charCodeAt(1)===45},u3=function(t){return t!=null&&typeof t!="boolean"},MT=eV(function(e){return fV(e)?e:e.replace(Vre,"-$&").toLowerCase()}),f3=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Wre,function(n,i,o){return Dl={name:i,styles:o,next:Dl},i})}return Ure[t]!==1&&!fV(t)&&typeof r=="number"&&r!==0?r+"px":r};function g0(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Dl={name:r.name,styles:r.styles,next:Dl},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Dl={name:n.name,styles:n.styles,next:Dl},n=n.next;var i=r.styles+";";return i}return qre(e,t,r)}case"function":{if(e!==void 0){var o=Dl,s=r(e);return Dl=o,g0(e,t,s)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function qre(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=g0(e,t,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":u3(s)&&(n+=MT(o)+":"+f3(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)u3(s[a])&&(n+=MT(o)+":"+f3(o,s[a])+";");else{var d=g0(e,t,s);switch(o){case"animation":case"animationName":{n+=MT(o)+":"+d+";";break}default:n+=o+"{"+d+"}"}}}return n}var d3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Dl,zI=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Dl=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=g0(n,r,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=g0(n,r,t[a]),i&&(o+=s[a]);d3.lastIndex=0;for(var d="",h;(h=d3.exec(o))!==null;)d+="-"+h[1];var g=Fre(o)+d;return{name:g,styles:o,next:Dl}},Hre=function(t){return t()},dV=m1["useInsertionEffect"]?m1["useInsertionEffect"]:!1,Gre=dV||Hre,h3=dV||W.useLayoutEffect,hV=W.createContext(typeof HTMLElement<"u"?lV({key:"css"}):null),Yre=hV.Provider,pV=function(t){return W.forwardRef(function(r,n){var i=W.useContext(hV);return t(r,i,n)})},XS=W.createContext({}),Kre=pV(function(e,t){var r=e.styles,n=zI([r],void 0,W.useContext(XS)),i=W.useRef();return h3(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,d=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),d!==null&&(a=!0,d.setAttribute("data-emotion",o),s.hydrate([d])),i.current=[s,a],function(){s.flush()}},[t]),h3(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&uV(t,n.next,!0),s.tags.length){var d=s.tags[s.tags.length-1].nextElementSibling;s.before=d,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function Zre(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return zI(t)}var NI=function(){var t=Zre.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Xre=ure,Jre=function(t){return t!=="theme"},p3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Xre:Jre},m3=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},Qre=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return cV(r,n,i),Gre(function(){return uV(r,n,i)}),null},ene=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,s;r!==void 0&&(o=r.label,s=r.target);var a=m3(t,r,n),d=a||p3(i),h=!d("as");return function(){var g=arguments,v=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)v.push.apply(v,g);else{v.push(g[0][0]);for(var b=g.length,M=1;M<b;M++)v.push(g[M],g[0][M])}var P=pV(function(w,A,O){var I=h&&w.as||i,C="",R=[],z=w;if(w.theme==null){z={};for(var L in w)z[L]=w[L];z.theme=W.useContext(XS)}typeof w.className=="string"?C=Bre(A.registered,R,w.className):w.className!=null&&(C=w.className+" ");var F=zI(v.concat(R),A.registered,z);C+=A.key+"-"+F.name,s!==void 0&&(C+=" "+s);var H=h&&a===void 0?p3(I):d,re={};for(var te in w)h&&te==="as"||H(te)&&(re[te]=w[te]);return re.className=C,re.ref=O,W.createElement(W.Fragment,null,W.createElement(Qre,{cache:A,serialized:F,isStringTag:typeof I=="string"}),W.createElement(I,re))});return P.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",P.defaultProps=t.defaultProps,P.__emotion_real=P,P.__emotion_base=i,P.__emotion_styles=v,P.__emotion_forwardProp=a,Object.defineProperty(P,"toString",{value:function(){return"."+s}}),P.withComponent=function(w,A){return e(w,yn({},r,A,{shouldForwardProp:m3(P,A,!0)})).apply(void 0,v)},P}},tne=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lA=ene.bind();tne.forEach(function(e){lA[e]=lA(e)});let cA;typeof document=="object"&&(cA=lV({key:"css",prepend:!0}));function rne(e){const{injectFirst:t,children:r}=e;return t&&cA?U.jsx(Yre,{value:cA,children:r}):r}function nne(e){return e==null||Object.keys(e).length===0}function ine(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(nne(i)?r:i):t;return U.jsx(Kre,{styles:n})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function mV(e,t){return lA(e,t)}const one=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},ane=["values","unit","step"],sne=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>oe({},r,{[n.key]:n.val}),{})};function lne(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=It(e,ane),o=sne(t),s=Object.keys(o);function a(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${r})`}function d(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-n/100}${r})`}function h(b,M){const P=s.indexOf(M);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${r}) and (max-width:${(P!==-1&&typeof t[s[P]]=="number"?t[s[P]]:M)-n/100}${r})`}function g(b){return s.indexOf(b)+1<s.length?h(b,s[s.indexOf(b)+1]):a(b)}function v(b){const M=s.indexOf(b);return M===0?a(s[1]):M===s.length-1?d(s[M]):h(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return oe({keys:s,values:o,up:a,down:d,between:h,only:g,not:v,unit:r},i)}const cne={borderRadius:4},une=cne;function Mv(e,t){return t?wa(e,t,{clone:!1}):e}const jI={xs:0,sm:600,md:900,lg:1200,xl:1536},g3={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${jI[e]}px)`};function Qc(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||g3;return t.reduce((s,a,d)=>(s[o.up(o.keys[d])]=r(t[d]),s),{})}if(typeof t=="object"){const o=n.breakpoints||g3;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||jI).indexOf(a)!==-1){const d=o.up(a);s[d]=r(t[a],a)}else{const d=a;s[d]=t[d]}return s},{})}return r(t)}function fne(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function dne(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function Tm(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function X1(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=Tm(e,r)||n,t&&(i=t(i,n,e)),i}function rn(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],d=s.theme,h=Tm(d,n)||{};return Qc(s,a,v=>{let b=X1(h,i,v);return v===b&&typeof v=="string"&&(b=X1(h,i,`${t}${v==="default"?"":wt(v)}`,v)),r===!1?b:{[r]:b}})};return o.propTypes={},o.filterProps=[t],o}function hne(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const pne={m:"margin",p:"padding"},mne={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},y3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gne=hne(e=>{if(e.length>2)if(y3[e])e=y3[e];else return[e];const[t,r]=e.split(""),n=pne[t],i=mne[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),BI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...BI,...FI];function y_(e,t,r,n){var i;const o=(i=Tm(e,t,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function gV(e){return y_(e,"spacing",8)}function v_(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function yne(e,t){return r=>e.reduce((n,i)=>(n[i]=v_(t,r),n),{})}function vne(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=gne(r),o=yne(i,n),s=e[r];return Qc(e,s,o)}function yV(e,t){const r=gV(e.theme);return Object.keys(e).map(n=>vne(e,t,n,r)).reduce(Mv,{})}function fi(e){return yV(e,BI)}fi.propTypes={};fi.filterProps=BI;function di(e){return yV(e,FI)}di.propTypes={};di.filterProps=FI;function _ne(e=8){if(e.mui)return e;const t=gV({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function JS(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?Mv(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Nl(e){return typeof e!="number"?e:`${e}px solid`}const xne=rn({prop:"border",themeKey:"borders",transform:Nl}),bne=rn({prop:"borderTop",themeKey:"borders",transform:Nl}),wne=rn({prop:"borderRight",themeKey:"borders",transform:Nl}),Sne=rn({prop:"borderBottom",themeKey:"borders",transform:Nl}),Ene=rn({prop:"borderLeft",themeKey:"borders",transform:Nl}),Cne=rn({prop:"borderColor",themeKey:"palette"}),Tne=rn({prop:"borderTopColor",themeKey:"palette"}),kne=rn({prop:"borderRightColor",themeKey:"palette"}),Pne=rn({prop:"borderBottomColor",themeKey:"palette"}),Ane=rn({prop:"borderLeftColor",themeKey:"palette"}),QS=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=y_(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:v_(t,n)});return Qc(e,e.borderRadius,r)}return null};QS.propTypes={};QS.filterProps=["borderRadius"];JS(xne,bne,wne,Sne,Ene,Cne,Tne,kne,Pne,Ane,QS);const e2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=y_(e.theme,"spacing",8),r=n=>({gap:v_(t,n)});return Qc(e,e.gap,r)}return null};e2.propTypes={};e2.filterProps=["gap"];const t2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=y_(e.theme,"spacing",8),r=n=>({columnGap:v_(t,n)});return Qc(e,e.columnGap,r)}return null};t2.propTypes={};t2.filterProps=["columnGap"];const r2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=y_(e.theme,"spacing",8),r=n=>({rowGap:v_(t,n)});return Qc(e,e.rowGap,r)}return null};r2.propTypes={};r2.filterProps=["rowGap"];const Mne=rn({prop:"gridColumn"}),One=rn({prop:"gridRow"}),Ine=rn({prop:"gridAutoFlow"}),Rne=rn({prop:"gridAutoColumns"}),$ne=rn({prop:"gridAutoRows"}),Dne=rn({prop:"gridTemplateColumns"}),Lne=rn({prop:"gridTemplateRows"}),zne=rn({prop:"gridTemplateAreas"}),Nne=rn({prop:"gridArea"});JS(e2,t2,r2,Mne,One,Ine,Rne,$ne,Dne,Lne,zne,Nne);function om(e,t){return t==="grey"?t:e}const jne=rn({prop:"color",themeKey:"palette",transform:om}),Bne=rn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:om}),Fne=rn({prop:"backgroundColor",themeKey:"palette",transform:om});JS(jne,Bne,Fne);function Ba(e){return e<=1&&e!==0?`${e*100}%`:e}const Une=rn({prop:"width",transform:Ba}),UI=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n;return{maxWidth:((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||jI[r]||Ba(r)}};return Qc(e,e.maxWidth,t)}return null};UI.filterProps=["maxWidth"];const Vne=rn({prop:"minWidth",transform:Ba}),Wne=rn({prop:"height",transform:Ba}),qne=rn({prop:"maxHeight",transform:Ba}),Hne=rn({prop:"minHeight",transform:Ba});rn({prop:"size",cssProperty:"width",transform:Ba});rn({prop:"size",cssProperty:"height",transform:Ba});const Gne=rn({prop:"boxSizing"});JS(Une,UI,Vne,Wne,qne,Hne,Gne);const Yne={border:{themeKey:"borders",transform:Nl},borderTop:{themeKey:"borders",transform:Nl},borderRight:{themeKey:"borders",transform:Nl},borderBottom:{themeKey:"borders",transform:Nl},borderLeft:{themeKey:"borders",transform:Nl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:QS},color:{themeKey:"palette",transform:om},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:om},backgroundColor:{themeKey:"palette",transform:om},p:{style:di},pt:{style:di},pr:{style:di},pb:{style:di},pl:{style:di},px:{style:di},py:{style:di},padding:{style:di},paddingTop:{style:di},paddingRight:{style:di},paddingBottom:{style:di},paddingLeft:{style:di},paddingX:{style:di},paddingY:{style:di},paddingInline:{style:di},paddingInlineStart:{style:di},paddingInlineEnd:{style:di},paddingBlock:{style:di},paddingBlockStart:{style:di},paddingBlockEnd:{style:di},m:{style:fi},mt:{style:fi},mr:{style:fi},mb:{style:fi},ml:{style:fi},mx:{style:fi},my:{style:fi},margin:{style:fi},marginTop:{style:fi},marginRight:{style:fi},marginBottom:{style:fi},marginLeft:{style:fi},marginX:{style:fi},marginY:{style:fi},marginInline:{style:fi},marginInlineStart:{style:fi},marginInlineEnd:{style:fi},marginBlock:{style:fi},marginBlockStart:{style:fi},marginBlockEnd:{style:fi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:e2},rowGap:{style:r2},columnGap:{style:t2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ba},maxWidth:{style:UI},minWidth:{transform:Ba},height:{transform:Ba},maxHeight:{transform:Ba},minHeight:{transform:Ba},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},n2=Yne;function Kne(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function Zne(e,t){return typeof e=="function"?e(t):e}function Xne(){function e(r,n,i,o){const s={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:d=r,themeKey:h,transform:g,style:v}=a;if(n==null)return null;if(h==="typography"&&n==="inherit")return{[r]:n};const b=Tm(i,h)||{};return v?v(s):Qc(s,n,P=>{let w=X1(b,g,P);return P===w&&typeof P=="string"&&(w=X1(b,g,`${r}${P==="default"?"":wt(P)}`,P)),d===!1?w:{[d]:w}})}function t(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const s=(n=o.unstable_sxConfig)!=null?n:n2;function a(d){let h=d;if(typeof d=="function")h=d(o);else if(typeof d!="object")return d;if(!h)return null;const g=fne(o.breakpoints),v=Object.keys(g);let b=g;return Object.keys(h).forEach(M=>{const P=Zne(h[M],o);if(P!=null)if(typeof P=="object")if(s[M])b=Mv(b,e(M,P,o,s));else{const w=Qc({theme:o},P,A=>({[M]:A}));Kne(w,P)?b[M]=t({sx:P,theme:o}):b=Mv(b,w)}else b=Mv(b,e(M,P,o,s))}),dne(v,b)}return Array.isArray(i)?i.map(a):a(i)}return t}const vV=Xne();vV.filterProps=["sx"];const i2=vV,Jne=["breakpoints","palette","spacing","shape"];function o2(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=It(e,Jne),a=lne(r),d=_ne(i);let h=wa({breakpoints:a,direction:"ltr",components:{},palette:oe({mode:"light"},n),spacing:d,shape:oe({},une,o)},s);return h=t.reduce((g,v)=>wa(g,v),h),h.unstable_sxConfig=oe({},n2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(v){return i2({sx:v,theme:this})},h}function Qne(e){return Object.keys(e).length===0}function VI(e=null){const t=W.useContext(XS);return!t||Qne(t)?e:t}const eie=o2();function a2(e=eie){return VI(e)}function tie({styles:e,themeId:t,defaultTheme:r={}}){const n=a2(r),i=typeof e=="function"?e(t&&n[t]||n):e;return U.jsx(ine,{styles:i})}const rie=["sx"],nie=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:n2;return Object.keys(e).forEach(o=>{i[o]?n.systemProps[o]=e[o]:n.otherProps[o]=e[o]}),n};function _V(e){const{sx:t}=e,r=It(e,rie),{systemProps:n,otherProps:i}=nie(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Ed(a)?oe({},n,a):n}:o=oe({},n,t),oe({},i,{sx:o})}function xV(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=xV(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function jt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=xV(e))&&(n&&(n+=" "),n+=t);return n}const iie=["className","component"];function oie(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,o=mV("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(i2);return W.forwardRef(function(d,h){const g=a2(r),v=_V(d),{className:b,component:M="div"}=v,P=It(v,iie);return U.jsx(o,oe({as:M,ref:h,className:jt(b,i?i(n):n),theme:t&&g[t]||g},P))})}const aie=["variant"];function v3(e){return e.length===0}function bV(e){const{variant:t}=e,r=It(e,aie);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=v3(n)?e[i]:wt(e[i]):n+=`${v3(n)?i:wt(i)}${wt(e[i].toString())}`}),n}const sie=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function lie(e){return Object.keys(e).length===0}function cie(e){return typeof e=="string"&&e.charCodeAt(0)>96}const uie=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,fie=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const o=bV(i.props);n[o]=i.style}),n},die=(e,t,r,n)=>{var i;const{ownerState:o={}}=e,s=[],a=r==null||(i=r.components)==null||(i=i[n])==null?void 0:i.variants;return a&&a.forEach(d=>{let h=!0;Object.keys(d.props).forEach(g=>{o[g]!==d.props[g]&&e[g]!==d.props[g]&&(h=!1)}),h&&s.push(t[bV(d.props)])}),s};function Ov(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const hie=o2(),pie=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Ny({defaultTheme:e,theme:t,themeId:r}){return lie(t)?e:t[r]||t}function mie(e){return e?(t,r)=>r[e]:null}function wV(e={}){const{themeId:t,defaultTheme:r=hie,rootShouldForwardProp:n=Ov,slotShouldForwardProp:i=Ov}=e,o=s=>i2(oe({},s,{theme:Ny(oe({},s,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{one(s,R=>R.filter(z=>!(z!=null&&z.__mui_systemSx)));const{name:d,slot:h,skipVariantsResolver:g,skipSx:v,overridesResolver:b=mie(pie(h))}=a,M=It(a,sie),P=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,w=v||!1;let A,O=Ov;h==="Root"||h==="root"?O=n:h?O=i:cie(s)&&(O=void 0);const I=mV(s,oe({shouldForwardProp:O,label:A},M)),C=(R,...z)=>{const L=z?z.map(te=>typeof te=="function"&&te.__emotion_real!==te?ae=>te(oe({},ae,{theme:Ny(oe({},ae,{defaultTheme:r,themeId:t}))})):te):[];let F=R;d&&b&&L.push(te=>{const ae=Ny(oe({},te,{defaultTheme:r,themeId:t})),de=uie(d,ae);if(de){const pe={};return Object.entries(de).forEach(([Se,_e])=>{pe[Se]=typeof _e=="function"?_e(oe({},te,{theme:ae})):_e}),b(te,pe)}return null}),d&&!P&&L.push(te=>{const ae=Ny(oe({},te,{defaultTheme:r,themeId:t}));return die(te,fie(d,ae),ae,d)}),w||L.push(o);const H=L.length-z.length;if(Array.isArray(R)&&H>0){const te=new Array(H).fill("");F=[...R,...te],F.raw=[...R.raw,...te]}else typeof R=="function"&&R.__emotion_real!==R&&(F=te=>R(oe({},te,{theme:Ny(oe({},te,{defaultTheme:r,themeId:t}))})));const re=I(F,...L);return s.muiName&&(re.muiName=s.muiName),re};return I.withConfig&&(C.withConfig=I.withConfig),C}}const gie=wV(),yie=gie;function vie(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:II(t.components[r].defaultProps,n)}function SV({props:e,name:t,defaultTheme:r,themeId:n}){let i=a2(r);return n&&(i=i[n]||i),vie({theme:i,name:t,props:e})}function WI(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function _ie(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Qd(e){if(e.type)return e;if(e.charAt(0)==="#")return Qd(_ie(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Cf(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Cf(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function s2(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function xie(e){e=Qd(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(h,g=(h+r/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const d=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",d.push(t[3])),s2({type:a,values:d})}function uA(e){e=Qd(e);let t=e.type==="hsl"||e.type==="hsla"?Qd(xie(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function bie(e,t){const r=uA(e),n=uA(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Ln(e,t){return e=Qd(e),t=WI(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,s2(e)}function qI(e,t){if(e=Qd(e),t=WI(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return s2(e)}function HI(e,t){if(e=Qd(e),t=WI(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return s2(e)}function wie(e,t=.15){return uA(e)>.5?qI(e,t):HI(e,t)}function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fA.apply(this,arguments)}const Sie=W.createContext(null),EV=Sie;function GI(){return W.useContext(EV)}const Eie=typeof Symbol=="function"&&Symbol.for,CV=Eie?Symbol.for("mui.nested"):"__THEME_NESTED__";function Cie(e,t){return typeof t=="function"?t(e):fA({},e,t)}function Tie(e){const{children:t,theme:r}=e,n=GI(),i=W.useMemo(()=>{const o=n===null?r:Cie(n,r);return o!=null&&(o[CV]=n!==null),o},[r,n]);return U.jsx(EV.Provider,{value:i,children:t})}const _3={};function x3(e,t,r,n=!1){return W.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const o=r(i),s=e?oe({},t,{[e]:o}):o;return n?()=>s:s}return e?oe({},t,{[e]:r}):oe({},t,r)},[e,t,r,n])}function kie(e){const{children:t,theme:r,themeId:n}=e,i=VI(_3),o=GI()||_3,s=x3(n,i,r),a=x3(n,o,r,!0);return U.jsx(Tie,{theme:a,children:U.jsx(XS.Provider,{value:s,children:t})})}const Pie=["className","component","disableGutters","fixed","maxWidth","classes"],Aie=o2(),Mie=yie("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${wt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),Oie=e=>SV({props:e,name:"MuiContainer",defaultTheme:Aie}),Iie=(e,t)=>{const r=d=>or(t,d),{classes:n,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${wt(String(s))}`,i&&"fixed",o&&"disableGutters"]};return lr(a,r,n)};function Rie(e={}){const{createStyledComponent:t=Mie,useThemeProps:r=Oie,componentName:n="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>oe({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((d,h)=>{const g=h,v=s.breakpoints.values[g];return v!==0&&(d[s.breakpoints.up(g)]={maxWidth:`${v}${s.breakpoints.unit}`}),d},{}),({theme:s,ownerState:a})=>oe({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return W.forwardRef(function(a,d){const h=r(a),{className:g,component:v="div",disableGutters:b=!1,fixed:M=!1,maxWidth:P="lg"}=h,w=It(h,Pie),A=oe({},h,{component:v,disableGutters:b,fixed:M,maxWidth:P}),O=Iie(A,n);return U.jsx(i,oe({as:v,ownerState:A,className:jt(O.root,g),ref:d},w))})}function $ie(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Die=["mode","contrastThreshold","tonalOffset"],b3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xd.white,default:Xd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},OT={text:{primary:Xd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w3(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=HI(e.main,i):t==="dark"&&(e.dark=qI(e.main,o)))}function Lie(e="light"){return e==="dark"?{main:cp[200],light:cp[50],dark:cp[400]}:{main:cp[700],light:cp[400],dark:cp[800]}}function zie(e="light"){return e==="dark"?{main:lp[200],light:lp[50],dark:lp[400]}:{main:lp[500],light:lp[300],dark:lp[700]}}function Nie(e="light"){return e==="dark"?{main:Ic[500],light:Ic[300],dark:Ic[700]}:{main:Ic[700],light:Ic[400],dark:Ic[800]}}function jie(e="light"){return e==="dark"?{main:up[400],light:up[300],dark:up[700]}:{main:up[700],light:up[500],dark:up[900]}}function Bie(e="light"){return e==="dark"?{main:nl[400],light:nl[300],dark:nl[700]}:{main:nl[800],light:nl[500],dark:nl[900]}}function Fie(e="light"){return e==="dark"?{main:Dy[400],light:Dy[300],dark:Dy[700]}:{main:"#ed6c02",light:Dy[500],dark:Dy[900]}}function Uie(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=It(e,Die),o=e.primary||Lie(t),s=e.secondary||zie(t),a=e.error||Nie(t),d=e.info||jie(t),h=e.success||Bie(t),g=e.warning||Fie(t);function v(w){return bie(w,OT.text.primary)>=r?OT.text.primary:b3.text.primary}const b=({color:w,name:A,mainShade:O=500,lightShade:I=300,darkShade:C=700})=>{if(w=oe({},w),!w.main&&w[O]&&(w.main=w[O]),!w.hasOwnProperty("main"))throw new Error(Cf(11,A?` (${A})`:"",O));if(typeof w.main!="string")throw new Error(Cf(12,A?` (${A})`:"",JSON.stringify(w.main)));return w3(w,"light",I,n),w3(w,"dark",C,n),w.contrastText||(w.contrastText=v(w.main)),w},M={dark:OT,light:b3};return wa(oe({common:oe({},Xd),mode:t,primary:b({color:o,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:a,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:d,name:"info"}),success:b({color:h,name:"success"}),grey:Hl,contrastThreshold:r,getContrastText:v,augmentColor:b,tonalOffset:n},M[t]),i)}const Vie=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Wie(e){return Math.round(e*1e5)/1e5}const S3={textTransform:"uppercase"},E3='"Roboto", "Helvetica", "Arial", sans-serif';function qie(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=E3,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:g,pxToRem:v}=r,b=It(r,Vie),M=i/14,P=v||(O=>`${O/h*M}rem`),w=(O,I,C,R,z)=>oe({fontFamily:n,fontWeight:O,fontSize:P(I),lineHeight:C},n===E3?{letterSpacing:`${Wie(R/I)}em`}:{},z,g),A={h1:w(o,96,1.167,-1.5),h2:w(o,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(a,14,1.75,.4,S3),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,S3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wa(oe({htmlFontSize:h,pxToRem:P,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:d},A),b,{clone:!1})}const Hie=.2,Gie=.14,Yie=.12;function Un(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Hie})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Gie})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Yie})`].join(",")}const Kie=["none",Un(0,2,1,-1,0,1,1,0,0,1,3,0),Un(0,3,1,-2,0,2,2,0,0,1,5,0),Un(0,3,3,-2,0,3,4,0,0,1,8,0),Un(0,2,4,-1,0,4,5,0,0,1,10,0),Un(0,3,5,-1,0,5,8,0,0,1,14,0),Un(0,3,5,-1,0,6,10,0,0,1,18,0),Un(0,4,5,-2,0,7,10,1,0,2,16,1),Un(0,5,5,-3,0,8,10,1,0,3,14,2),Un(0,5,6,-3,0,9,12,1,0,3,16,2),Un(0,6,6,-3,0,10,14,1,0,4,18,3),Un(0,6,7,-4,0,11,15,1,0,4,20,3),Un(0,7,8,-4,0,12,17,2,0,5,22,4),Un(0,7,8,-4,0,13,19,2,0,5,24,4),Un(0,7,9,-4,0,14,21,2,0,5,26,4),Un(0,8,9,-5,0,15,22,2,0,6,28,5),Un(0,8,10,-5,0,16,24,2,0,6,30,5),Un(0,8,11,-5,0,17,26,2,0,6,32,5),Un(0,9,11,-5,0,18,28,2,0,7,34,6),Un(0,9,12,-6,0,19,29,2,0,7,36,6),Un(0,10,13,-6,0,20,31,3,0,8,38,7),Un(0,10,13,-6,0,21,33,3,0,8,40,7),Un(0,10,14,-6,0,22,35,3,0,8,42,7),Un(0,11,14,-7,0,23,36,3,0,9,44,8),Un(0,11,15,-7,0,24,38,3,0,9,46,8)],Zie=Kie,Xie=["duration","easing","delay"],Jie={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},TV={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function C3(e){return`${Math.round(e)}ms`}function Qie(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function eoe(e){const t=oe({},Jie,e.easing),r=oe({},TV,e.duration);return oe({getAutoHeightDuration:Qie,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:a=t.easeInOut,delay:d=0}=o;return It(o,Xie),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:C3(s)} ${a} ${typeof d=="string"?d:C3(d)}`).join(",")}},e,{easing:t,duration:r})}const toe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},roe=toe,noe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function YI(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,s=It(e,noe);if(e.vars)throw new Error(Cf(18));const a=Uie(n),d=o2(e);let h=wa(d,{mixins:$ie(d.breakpoints,r),palette:a,shadows:Zie.slice(),typography:qie(a,o),transitions:eoe(i),zIndex:oe({},roe)});return h=wa(h,s),h=t.reduce((g,v)=>wa(g,v),h),h.unstable_sxConfig=oe({},n2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(v){return i2({sx:v,theme:this})},h}const ioe=YI(),l2=ioe;function Df(){const e=a2(l2);return e[Jd]||e}function sr({props:e,name:t}){return SV({props:e,name:t,defaultTheme:l2,themeId:Jd})}const ml=e=>Ov(e)&&e!=="classes",ooe=Ov,aoe=wV({themeId:Jd,defaultTheme:l2,rootShouldForwardProp:ml}),Et=aoe,soe=["theme"];function loe(e){let{theme:t}=e,r=It(e,soe);const n=t[Jd];return U.jsx(kie,oe({},r,{themeId:n?Jd:void 0,theme:n||t}))}const coe=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},T3=coe;function uoe(e){return or("MuiSvgIcon",e)}ar("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const foe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],doe=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${wt(t)}`,`fontSize${wt(r)}`]};return lr(i,uoe,n)},hoe=Et("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${wt(r.color)}`],t[`fontSize${wt(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,s,a,d,h,g,v,b,M,P;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(d=a.pxToRem)==null?void 0:d.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(v=(b=(e.vars||e).palette)==null||(b=b[t.color])==null?void 0:b.main)!=null?v:{action:(M=(e.vars||e).palette)==null||(M=M.action)==null?void 0:M.active,disabled:(P=(e.vars||e).palette)==null||(P=P.action)==null?void 0:P.disabled,inherit:void 0}[t.color]}}),kV=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:v,viewBox:b="0 0 24 24"}=n,M=It(n,foe),P=W.isValidElement(i)&&i.type==="svg",w=oe({},n,{color:s,component:a,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:b,hasSvgAsChild:P}),A={};g||(A.viewBox=b);const O=doe(w);return U.jsxs(hoe,oe({as:a,className:jt(O.root,o),focusable:"false",color:h,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:r},A,M,P&&i.props,{ownerState:w,children:[P?i.props.children:i,v?U.jsx("title",{children:v}):null]}))});kV.muiName="SvgIcon";const k3=kV;function KI(e,t){function r(n,i){return U.jsx(k3,oe({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=k3.muiName,W.memo(W.forwardRef(r))}const poe={configure:e=>{RI.configure(e)}},moe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:wt,createChainedFunction:iA,createSvgIcon:KI,debounce:MI,deprecatedPropType:Yte,isMuiElement:e1,ownerDocument:Ni,ownerWindow:Tf,requirePropFactory:Kte,setRef:K1,unstable_ClassNameGenerator:poe,unstable_useEnhancedEffect:dl,unstable_useId:OI,unsupportedProp:Jte,useControlled:h0,useEventCallback:sl,useForkRef:si,useIsFocusVisible:GS},Symbol.toStringTag,{value:"Module"}));var _n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZI=Symbol.for("react.element"),XI=Symbol.for("react.portal"),c2=Symbol.for("react.fragment"),u2=Symbol.for("react.strict_mode"),f2=Symbol.for("react.profiler"),d2=Symbol.for("react.provider"),h2=Symbol.for("react.context"),goe=Symbol.for("react.server_context"),p2=Symbol.for("react.forward_ref"),m2=Symbol.for("react.suspense"),g2=Symbol.for("react.suspense_list"),y2=Symbol.for("react.memo"),v2=Symbol.for("react.lazy"),yoe=Symbol.for("react.offscreen"),PV;PV=Symbol.for("react.module.reference");function Is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ZI:switch(e=e.type,e){case c2:case f2:case u2:case m2:case g2:return e;default:switch(e=e&&e.$$typeof,e){case goe:case h2:case p2:case v2:case y2:case d2:return e;default:return t}}case XI:return t}}}_n.ContextConsumer=h2;_n.ContextProvider=d2;_n.Element=ZI;_n.ForwardRef=p2;_n.Fragment=c2;_n.Lazy=v2;_n.Memo=y2;_n.Portal=XI;_n.Profiler=f2;_n.StrictMode=u2;_n.Suspense=m2;_n.SuspenseList=g2;_n.isAsyncMode=function(){return!1};_n.isConcurrentMode=function(){return!1};_n.isContextConsumer=function(e){return Is(e)===h2};_n.isContextProvider=function(e){return Is(e)===d2};_n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ZI};_n.isForwardRef=function(e){return Is(e)===p2};_n.isFragment=function(e){return Is(e)===c2};_n.isLazy=function(e){return Is(e)===v2};_n.isMemo=function(e){return Is(e)===y2};_n.isPortal=function(e){return Is(e)===XI};_n.isProfiler=function(e){return Is(e)===f2};_n.isStrictMode=function(e){return Is(e)===u2};_n.isSuspense=function(e){return Is(e)===m2};_n.isSuspenseList=function(e){return Is(e)===g2};_n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===c2||e===f2||e===u2||e===m2||e===g2||e===yoe||typeof e=="object"&&e!==null&&(e.$$typeof===v2||e.$$typeof===y2||e.$$typeof===d2||e.$$typeof===h2||e.$$typeof===p2||e.$$typeof===PV||e.getModuleId!==void 0)};_n.typeOf=Is;function dA(e,t){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dA(e,t)}function __(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dA(e,t)}const P3={disabled:!1},J1=We.createContext(null);var voe=function(t){return t.scrollTop},hv="unmounted",vd="exited",_d="entering",Sp="entered",hA="exiting",cu=function(e){__(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?a?(d=vd,o.appearStatus=_d):d=Sp:n.unmountOnExit||n.mountOnEnter?d=hv:d=vd,o.state={status:d},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===hv?{status:vd}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==_d&&s!==Sp&&(o=_d):(s===_d||s===Sp)&&(o=hA)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===_d){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:ub.findDOMNode(this);s&&voe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vd&&this.setState({status:hv})},r.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,d=this.props.nodeRef?[a]:[ub.findDOMNode(this),a],h=d[0],g=d[1],v=this.getTimeouts(),b=a?v.appear:v.enter;if(!i&&!s||P3.disabled){this.safeSetState({status:Sp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:_d},function(){o.props.onEntering(h,g),o.onTransitionEnd(b,function(){o.safeSetState({status:Sp},function(){o.props.onEntered(h,g)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:ub.findDOMNode(this);if(!o||P3.disabled){this.safeSetState({status:vd},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:hA},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:vd},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:ub.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=d[0],g=d[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===hv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=p_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return We.createElement(J1.Provider,{value:null},typeof s=="function"?s(i,a):We.cloneElement(We.Children.only(s),a))},t}(We.Component);cu.contextType=J1;cu.propTypes={};function fp(){}cu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fp,onEntering:fp,onEntered:fp,onExit:fp,onExiting:fp,onExited:fp};cu.UNMOUNTED=hv;cu.EXITED=vd;cu.ENTERING=_d;cu.ENTERED=Sp;cu.EXITING=hA;const JI=cu;function y0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QI(e,t){var r=function(o){return t&&W.isValidElement(o)?t(o):o},n=Object.create(null);return e&&W.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function _oe(e,t){e=e||{},t=t||{};function r(g){return g in t?t[g]:e[g]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var d in t){if(n[d])for(s=0;s<n[d].length;s++){var h=n[d][s];a[n[d][s]]=r(h)}a[d]=r(d)}for(s=0;s<i.length;s++)a[i[s]]=r(i[s]);return a}function Ad(e,t,r){return r[t]!=null?r[t]:e.props[t]}function xoe(e,t){return QI(e.children,function(r){return W.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ad(r,"appear",e),enter:Ad(r,"enter",e),exit:Ad(r,"exit",e)})})}function boe(e,t,r){var n=QI(e.children),i=_oe(t,n);return Object.keys(i).forEach(function(o){var s=i[o];if(W.isValidElement(s)){var a=o in t,d=o in n,h=t[o],g=W.isValidElement(h)&&!h.props.in;d&&(!a||g)?i[o]=W.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:Ad(s,"exit",e),enter:Ad(s,"enter",e)}):!d&&a&&!g?i[o]=W.cloneElement(s,{in:!1}):d&&a&&W.isValidElement(h)&&(i[o]=W.cloneElement(s,{onExited:r.bind(null,s),in:h.props.in,exit:Ad(s,"exit",e),enter:Ad(s,"enter",e)}))}}),i}var woe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Soe={component:"div",childFactory:function(t){return t}},eR=function(e){__(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=o.handleExited.bind(y0(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,d=o.firstRender;return{children:d?xoe(i,a):boe(i,s,a),firstRender:!1}},r.handleExited=function(i,o){var s=QI(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var d=yn({},a.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=p_(i,["component","childFactory"]),d=this.state.contextValue,h=woe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?We.createElement(J1.Provider,{value:d},h):We.createElement(J1.Provider,{value:d},We.createElement(o,a,h))},t}(We.Component);eR.propTypes={};eR.defaultProps=Soe;const Eoe=eR,AV=e=>e.scrollTop;function km(e,t){var r,n;const{timeout:i,easing:o,style:s={}}=e;return{duration:(r=s.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=s.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function Coe(e){return or("MuiCollapse",e)}ar("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Toe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],koe=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return lr(n,Coe,r)},Poe=Et("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>oe({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&oe({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Aoe=Et("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>oe({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Moe=Et("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>oe({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),MV=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:d,easing:h,in:g,onEnter:v,onEntered:b,onEntering:M,onExit:P,onExited:w,onExiting:A,orientation:O="vertical",style:I,timeout:C=TV.standard,TransitionComponent:R=JI}=n,z=It(n,Toe),L=oe({},n,{orientation:O,collapsedSize:a}),F=koe(L),H=Df(),re=W.useRef(),te=W.useRef(null),ae=W.useRef(),de=typeof a=="number"?`${a}px`:a,pe=O==="horizontal",Se=pe?"width":"height";W.useEffect(()=>()=>{clearTimeout(re.current)},[]);const _e=W.useRef(null),Me=si(r,_e),Ae=je=>st=>{if(je){const nt=_e.current;st===void 0?je(nt):je(nt,st)}},Ee=()=>te.current?te.current[pe?"clientWidth":"clientHeight"]:0,Ie=Ae((je,st)=>{te.current&&pe&&(te.current.style.position="absolute"),je.style[Se]=de,v&&v(je,st)}),He=Ae((je,st)=>{const nt=Ee();te.current&&pe&&(te.current.style.position="");const{duration:Ue,easing:Xe}=km({style:I,timeout:C,easing:h},{mode:"enter"});if(C==="auto"){const ct=H.transitions.getAutoHeightDuration(nt);je.style.transitionDuration=`${ct}ms`,ae.current=ct}else je.style.transitionDuration=typeof Ue=="string"?Ue:`${Ue}ms`;je.style[Se]=`${nt}px`,je.style.transitionTimingFunction=Xe,M&&M(je,st)}),tt=Ae((je,st)=>{je.style[Se]="auto",b&&b(je,st)}),Te=Ae(je=>{je.style[Se]=`${Ee()}px`,P&&P(je)}),Ne=Ae(w),De=Ae(je=>{const st=Ee(),{duration:nt,easing:Ue}=km({style:I,timeout:C,easing:h},{mode:"exit"});if(C==="auto"){const Xe=H.transitions.getAutoHeightDuration(st);je.style.transitionDuration=`${Xe}ms`,ae.current=Xe}else je.style.transitionDuration=typeof nt=="string"?nt:`${nt}ms`;je.style[Se]=de,je.style.transitionTimingFunction=Ue,A&&A(je)}),Ye=je=>{C==="auto"&&(re.current=setTimeout(je,ae.current||0)),i&&i(_e.current,je)};return U.jsx(R,oe({in:g,onEnter:Ie,onEntered:tt,onEntering:He,onExit:Te,onExited:Ne,onExiting:De,addEndListener:Ye,nodeRef:_e,timeout:C==="auto"?null:C},z,{children:(je,st)=>U.jsx(Poe,oe({as:d,className:jt(F.root,s,{entered:F.entered,exited:!g&&de==="0px"&&F.hidden}[je]),style:oe({[pe?"minWidth":"minHeight"]:de},I),ownerState:oe({},L,{state:je}),ref:Me},st,{children:U.jsx(Aoe,{ownerState:oe({},L,{state:je}),className:F.wrapper,ref:te,children:U.jsx(Moe,{ownerState:oe({},L,{state:je}),className:F.wrapperInner,children:o})})}))}))});MV.muiSupportAuto=!0;const Ooe=MV;function Ioe(e){return or("MuiPaper",e)}ar("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Roe=["className","component","elevation","square","variant"],$oe=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return lr(o,Ioe,i)},Doe=Et("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return oe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ln("#fff",T3(t.elevation))}, ${Ln("#fff",T3(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),Loe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:d="elevation"}=n,h=It(n,Roe),g=oe({},n,{component:o,elevation:s,square:a,variant:d}),v=$oe(g);return U.jsx(Doe,oe({as:o,ownerState:g,className:jt(v.root,i),ref:r},h))}),eu=Loe,zoe=W.createContext({}),OV=zoe;function Noe(e){return or("MuiAccordion",e)}const joe=ar("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),pb=joe,Boe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Foe=e=>{const{classes:t,square:r,expanded:n,disabled:i,disableGutters:o}=e;return lr({root:["root",!r&&"rounded",n&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Noe,t)},Uoe=Et(eu,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${pb.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${pb.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${pb.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>oe({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${pb.expanded}`]:{margin:"16px 0"}})),Voe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:d=!1,expanded:h,onChange:g,square:v=!1,TransitionComponent:b=Ooe,TransitionProps:M}=n,P=It(n,Boe),[w,A]=h0({controlled:h,default:s,name:"Accordion",state:"expanded"}),O=W.useCallback(F=>{A(!w),g&&g(F,!w)},[w,g,A]),[I,...C]=W.Children.toArray(i),R=W.useMemo(()=>({expanded:w,disabled:a,disableGutters:d,toggle:O}),[w,a,d,O]),z=oe({},n,{square:v,disabled:a,disableGutters:d,expanded:w}),L=Foe(z);return U.jsxs(Uoe,oe({className:jt(L.root,o),ref:r,ownerState:z,square:v},P,{children:[U.jsx(OV.Provider,{value:R,children:I}),U.jsx(b,oe({in:w,timeout:"auto"},M,{children:U.jsx("div",{"aria-labelledby":I.props.id,id:I.props["aria-controls"],role:"region",className:L.region,children:C})}))]}))}),v0=Voe;function Woe(e){return or("MuiAccordionDetails",e)}ar("MuiAccordionDetails",["root"]);const qoe=["className"],Hoe=e=>{const{classes:t}=e;return lr({root:["root"]},Woe,t)},Goe=Et("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Yoe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAccordionDetails"}),{className:i}=n,o=It(n,qoe),s=n,a=Hoe(s);return U.jsx(Goe,oe({className:jt(a.root,i),ref:r,ownerState:s},o))}),_0=Yoe;function Koe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:d,timeout:h}=e,[g,v]=W.useState(!1),b=jt(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),M={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},P=jt(r.child,g&&r.childLeaving,n&&r.childPulsate);return!a&&!g&&v(!0),W.useEffect(()=>{if(!a&&d!=null){const w=setTimeout(d,h);return()=>{clearTimeout(w)}}},[d,a,h]),U.jsx("span",{className:b,style:M,children:U.jsx("span",{className:P})})}const Zoe=ar("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ds=Zoe,Xoe=["center","classes","className"];let _2=e=>e,A3,M3,O3,I3;const pA=550,Joe=80,Qoe=NI(A3||(A3=_2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),eae=NI(M3||(M3=_2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),tae=NI(O3||(O3=_2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),rae=Et("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nae=Et(Koe,{name:"MuiTouchRipple",slot:"Ripple"})(I3||(I3=_2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ds.rippleVisible,Qoe,pA,({theme:e})=>e.transitions.easing.easeInOut,ds.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ds.child,ds.childLeaving,eae,pA,({theme:e})=>e.transitions.easing.easeInOut,ds.childPulsate,tae,({theme:e})=>e.transitions.easing.easeInOut),iae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,a=It(n,Xoe),[d,h]=W.useState([]),g=W.useRef(0),v=W.useRef(null);W.useEffect(()=>{v.current&&(v.current(),v.current=null)},[d]);const b=W.useRef(!1),M=W.useRef(0),P=W.useRef(null),w=W.useRef(null);W.useEffect(()=>()=>{M.current&&clearTimeout(M.current)},[]);const A=W.useCallback(R=>{const{pulsate:z,rippleX:L,rippleY:F,rippleSize:H,cb:re}=R;h(te=>[...te,U.jsx(nae,{classes:{ripple:jt(o.ripple,ds.ripple),rippleVisible:jt(o.rippleVisible,ds.rippleVisible),ripplePulsate:jt(o.ripplePulsate,ds.ripplePulsate),child:jt(o.child,ds.child),childLeaving:jt(o.childLeaving,ds.childLeaving),childPulsate:jt(o.childPulsate,ds.childPulsate)},timeout:pA,pulsate:z,rippleX:L,rippleY:F,rippleSize:H},g.current)]),g.current+=1,v.current=re},[o]),O=W.useCallback((R={},z={},L=()=>{})=>{const{pulsate:F=!1,center:H=i||z.pulsate,fakeElement:re=!1}=z;if((R==null?void 0:R.type)==="mousedown"&&b.current){b.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(b.current=!0);const te=re?null:w.current,ae=te?te.getBoundingClientRect():{width:0,height:0,left:0,top:0};let de,pe,Se;if(H||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)de=Math.round(ae.width/2),pe=Math.round(ae.height/2);else{const{clientX:_e,clientY:Me}=R.touches&&R.touches.length>0?R.touches[0]:R;de=Math.round(_e-ae.left),pe=Math.round(Me-ae.top)}if(H)Se=Math.sqrt((2*ae.width**2+ae.height**2)/3),Se%2===0&&(Se+=1);else{const _e=Math.max(Math.abs((te?te.clientWidth:0)-de),de)*2+2,Me=Math.max(Math.abs((te?te.clientHeight:0)-pe),pe)*2+2;Se=Math.sqrt(_e**2+Me**2)}R!=null&&R.touches?P.current===null&&(P.current=()=>{A({pulsate:F,rippleX:de,rippleY:pe,rippleSize:Se,cb:L})},M.current=setTimeout(()=>{P.current&&(P.current(),P.current=null)},Joe)):A({pulsate:F,rippleX:de,rippleY:pe,rippleSize:Se,cb:L})},[i,A]),I=W.useCallback(()=>{O({},{pulsate:!0})},[O]),C=W.useCallback((R,z)=>{if(clearTimeout(M.current),(R==null?void 0:R.type)==="touchend"&&P.current){P.current(),P.current=null,M.current=setTimeout(()=>{C(R,z)});return}P.current=null,h(L=>L.length>0?L.slice(1):L),v.current=z},[]);return W.useImperativeHandle(r,()=>({pulsate:I,start:O,stop:C}),[I,O,C]),U.jsx(rae,oe({className:jt(ds.root,o.root,s),ref:w},a,{children:U.jsx(Eoe,{component:null,exit:!0,children:d})}))}),oae=iae;function aae(e){return or("MuiButtonBase",e)}const sae=ar("MuiButtonBase",["root","disabled","focusVisible"]),lae=sae,cae=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],uae=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,s=lr({root:["root",t&&"disabled",r&&"focusVisible"]},aae,i);return r&&n&&(s.root+=` ${n}`),s},fae=Et("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lae.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),dae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:d="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:v=!1,focusRipple:b=!1,LinkComponent:M="a",onBlur:P,onClick:w,onContextMenu:A,onDragLeave:O,onFocus:I,onFocusVisible:C,onKeyDown:R,onKeyUp:z,onMouseDown:L,onMouseLeave:F,onMouseUp:H,onTouchEnd:re,onTouchMove:te,onTouchStart:ae,tabIndex:de=0,TouchRippleProps:pe,touchRippleRef:Se,type:_e}=n,Me=It(n,cae),Ae=W.useRef(null),Ee=W.useRef(null),Ie=si(Ee,Se),{isFocusVisibleRef:He,onFocus:tt,onBlur:Te,ref:Ne}=GS(),[De,Ye]=W.useState(!1);h&&De&&Ye(!1),W.useImperativeHandle(i,()=>({focusVisible:()=>{Ye(!0),Ae.current.focus()}}),[]);const[je,st]=W.useState(!1);W.useEffect(()=>{st(!0)},[]);const nt=je&&!g&&!h;W.useEffect(()=>{De&&b&&!g&&je&&Ee.current.pulsate()},[g,b,De,je]);function Ue(Jt,Ke,At=v){return sl($t=>(Ke&&Ke($t),!At&&Ee.current&&Ee.current[Jt]($t),!0))}const Xe=Ue("start",L),ct=Ue("stop",A),Be=Ue("stop",O),Pe=Ue("stop",H),St=Ue("stop",Jt=>{De&&Jt.preventDefault(),F&&F(Jt)}),Zt=Ue("start",ae),Ot=Ue("stop",re),Nt=Ue("stop",te),Mr=Ue("stop",Jt=>{Te(Jt),He.current===!1&&Ye(!1),P&&P(Jt)},!1),Vr=sl(Jt=>{Ae.current||(Ae.current=Jt.currentTarget),tt(Jt),He.current===!0&&(Ye(!0),C&&C(Jt)),I&&I(Jt)}),pr=()=>{const Jt=Ae.current;return d&&d!=="button"&&!(Jt.tagName==="A"&&Jt.href)},Sr=W.useRef(!1),cr=sl(Jt=>{b&&!Sr.current&&De&&Ee.current&&Jt.key===" "&&(Sr.current=!0,Ee.current.stop(Jt,()=>{Ee.current.start(Jt)})),Jt.target===Jt.currentTarget&&pr()&&Jt.key===" "&&Jt.preventDefault(),R&&R(Jt),Jt.target===Jt.currentTarget&&pr()&&Jt.key==="Enter"&&!h&&(Jt.preventDefault(),w&&w(Jt))}),Er=sl(Jt=>{b&&Jt.key===" "&&Ee.current&&De&&!Jt.defaultPrevented&&(Sr.current=!1,Ee.current.stop(Jt,()=>{Ee.current.pulsate(Jt)})),z&&z(Jt),w&&Jt.target===Jt.currentTarget&&pr()&&Jt.key===" "&&!Jt.defaultPrevented&&w(Jt)});let an=d;an==="button"&&(Me.href||Me.to)&&(an=M);const ut={};an==="button"?(ut.type=_e===void 0?"button":_e,ut.disabled=h):(!Me.href&&!Me.to&&(ut.role="button"),h&&(ut["aria-disabled"]=h));const Or=si(r,Ne,Ae),Xr=oe({},n,{centerRipple:o,component:d,disabled:h,disableRipple:g,disableTouchRipple:v,focusRipple:b,tabIndex:de,focusVisible:De}),mr=uae(Xr);return U.jsxs(fae,oe({as:an,className:jt(mr.root,a),ownerState:Xr,onBlur:Mr,onClick:w,onContextMenu:ct,onFocus:Vr,onKeyDown:cr,onKeyUp:Er,onMouseDown:Xe,onMouseLeave:St,onMouseUp:Pe,onDragLeave:Be,onTouchEnd:Ot,onTouchMove:Nt,onTouchStart:Zt,ref:Or,tabIndex:h?-1:de,type:_e},ut,Me,{children:[s,nt?U.jsx(oae,oe({ref:Ie,center:o},pe)):null]}))}),x_=dae;function hae(e){return or("MuiAccordionSummary",e)}const pae=ar("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),jp=pae,mae=["children","className","expandIcon","focusVisibleClassName","onClick"],gae=e=>{const{classes:t,expanded:r,disabled:n,disableGutters:i}=e;return lr({root:["root",r&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},hae,t)},yae=Et(x_,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const r={duration:e.transitions.duration.shortest};return oe({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],r),[`&.${jp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${jp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${jp.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${jp.expanded}`]:{minHeight:64}})}),vae=Et("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>oe({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${jp.expanded}`]:{margin:"20px 0"}})),_ae=Et("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${jp.expanded}`]:{transform:"rotate(180deg)"}})),xae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:d}=n,h=It(n,mae),{disabled:g=!1,disableGutters:v,expanded:b,toggle:M}=W.useContext(OV),P=O=>{M&&M(O),d&&d(O)},w=oe({},n,{expanded:b,disabled:g,disableGutters:v}),A=gae(w);return U.jsxs(yae,oe({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":b,className:jt(A.root,o),focusVisibleClassName:jt(A.focusVisible,a),onClick:P,ref:r,ownerState:w},h,{children:[U.jsx(vae,{className:A.content,ownerState:w,children:i}),s&&U.jsx(_ae,{className:A.expandIconWrapper,ownerState:w,children:s})]}))}),x0=xae;function bae(e){return or("MuiIconButton",e)}const wae=ar("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Sae=wae,Eae=["edge","children","className","color","disabled","disableFocusRipple","size"],Cae=e=>{const{classes:t,disabled:r,color:n,edge:i,size:o}=e,s={root:["root",r&&"disabled",n!=="default"&&`color${wt(n)}`,i&&`edge${wt(i)}`,`size${wt(o)}`]};return lr(s,bae,t)},Tae=Et(x_,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${wt(r.color)}`],r.edge&&t[`edge${wt(r.edge)}`],t[`size${wt(r.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ln(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":oe({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ln(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Sae.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),kae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:d=!1,disableFocusRipple:h=!1,size:g="medium"}=n,v=It(n,Eae),b=oe({},n,{edge:i,color:a,disabled:d,disableFocusRipple:h,size:g}),M=Cae(b);return U.jsx(Tae,oe({className:jt(M.root,s),centerRipple:!0,focusRipple:!h,disabled:d,ref:r,ownerState:b},v,{children:o}))}),cn=kae;function Pae(e){return or("MuiTypography",e)}ar("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Aae=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Mae=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${wt(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return lr(a,Pae,s)},Oae=Et("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${wt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>oe({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),R3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Iae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Rae=e=>Iae[e]||e,$ae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTypography"}),i=Rae(n.color),o=_V(oe({},n,{color:i})),{align:s="inherit",className:a,component:d,gutterBottom:h=!1,noWrap:g=!1,paragraph:v=!1,variant:b="body1",variantMapping:M=R3}=o,P=It(o,Aae),w=oe({},o,{align:s,color:i,className:a,component:d,gutterBottom:h,noWrap:g,paragraph:v,variant:b,variantMapping:M}),A=d||(v?"p":M[b]||R3[b])||"span",O=Mae(w);return U.jsx(Oae,oe({as:A,ref:r,ownerState:w,className:jt(O.root,a)},P))}),ln=$ae;function Dae(e){return or("MuiAppBar",e)}ar("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const Lae=["className","color","enableColorOnDark","position"],zae=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${wt(t)}`,`position${wt(r)}`]};return lr(i,Dae,n)},mb=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Nae=Et(eu,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${wt(r.position)}`],t[`color${wt(r.color)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return oe({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&oe({},t.color==="default"&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&oe({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&oe({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:mb(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:mb(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:mb(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:mb(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),jae=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=n,d=It(n,Lae),h=oe({},n,{color:o,position:a,enableColorOnDark:s}),g=zae(h);return U.jsx(Nae,oe({square:!0,component:"header",ownerState:h,elevation:4,className:jt(g.root,i,a==="fixed"&&"mui-fixed"),ref:r},d))}),IV=jae;function b0(e){return typeof e=="string"}function pv(e,t,r){return e===void 0||b0(e)?t:oe({},t,{ownerState:oe({},t.ownerState,r)})}const Bae={disableDefaultClasses:!1},Fae=W.createContext(Bae);function RV(e){const{disableDefaultClasses:t}=W.useContext(Fae);return r=>t?"":e(r)}function tR(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function mA(e,t,r){return typeof e=="function"?e(t,r):e}function $3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Uae(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const M=jt(i==null?void 0:i.className,n==null?void 0:n.className,o,r==null?void 0:r.className),P=oe({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),w=oe({},r,i,n);return M.length>0&&(w.className=M),Object.keys(P).length>0&&(w.style=P),{props:w,internalRef:void 0}}const s=tR(oe({},i,n)),a=$3(n),d=$3(i),h=t(s),g=jt(h==null?void 0:h.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),v=oe({},h==null?void 0:h.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),b=oe({},h,r,d,a);return g.length>0&&(b.className=g),Object.keys(v).length>0&&(b.style=v),{props:b,internalRef:h.ref}}const Vae=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Jl(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=It(e,Vae),a=o?{}:mA(n,i),{props:d,internalRef:h}=Uae(oe({},s,{externalSlotProps:a})),g=si(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return pv(r,oe({},d,{ref:g}),i)}function Wae(e){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:i=!1}=e,o=Q8({badgeContent:t,max:n});let s=r;r===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:d=n}=s?o:e,h=a&&Number(a)>d?`${d}+`:a;return{badgeContent:a,invisible:s,max:d,displayValue:h}}function D3(e){return e.substring(2).toLowerCase()}function qae(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Hae(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=W.useRef(!1),a=W.useRef(null),d=W.useRef(!1),h=W.useRef(!1);W.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const g=si(t.ref,a),v=sl(P=>{const w=h.current;h.current=!1;const A=Ni(a.current);if(!d.current||!a.current||"clientX"in P&&qae(P,A))return;if(s.current){s.current=!1;return}let O;P.composedPath?O=P.composedPath().indexOf(a.current)>-1:O=!A.documentElement.contains(P.target)||a.current.contains(P.target),!O&&(r||!w)&&i(P)}),b=P=>w=>{h.current=!0;const A=t.props[P];A&&A(w)},M={ref:g};return o!==!1&&(M[o]=b(o)),W.useEffect(()=>{if(o!==!1){const P=D3(o),w=Ni(a.current),A=()=>{s.current=!0};return w.addEventListener(P,v),w.addEventListener("touchmove",A),()=>{w.removeEventListener(P,v),w.removeEventListener("touchmove",A)}}},[v,o]),n!==!1&&(M[n]=b(n)),W.useEffect(()=>{if(n!==!1){const P=D3(n),w=Ni(a.current);return w.addEventListener(P,v),()=>{w.removeEventListener(P,v)}}},[v,n]),U.jsx(W.Fragment,{children:W.cloneElement(t,M)})}const Gae=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Yae(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Kae(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function Zae(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Kae(e))}function Xae(e){const t=[],r=[];return Array.from(e.querySelectorAll(Gae)).forEach((n,i)=>{const o=Yae(n);o===-1||!Zae(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function Jae(){return!0}function Qae(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=Xae,isEnabled:s=Jae,open:a}=e,d=W.useRef(!1),h=W.useRef(null),g=W.useRef(null),v=W.useRef(null),b=W.useRef(null),M=W.useRef(!1),P=W.useRef(null),w=si(t.ref,P),A=W.useRef(null);W.useEffect(()=>{!a||!P.current||(M.current=!r)},[r,a]),W.useEffect(()=>{if(!a||!P.current)return;const C=Ni(P.current);return P.current.contains(C.activeElement)||(P.current.hasAttribute("tabIndex")||P.current.setAttribute("tabIndex","-1"),M.current&&P.current.focus()),()=>{i||(v.current&&v.current.focus&&(d.current=!0,v.current.focus()),v.current=null)}},[a]),W.useEffect(()=>{if(!a||!P.current)return;const C=Ni(P.current),R=F=>{const{current:H}=P;if(H!==null){if(!C.hasFocus()||n||!s()||d.current){d.current=!1;return}if(!H.contains(C.activeElement)){if(F&&b.current!==F.target||C.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!M.current)return;let ae=[];if((C.activeElement===h.current||C.activeElement===g.current)&&(ae=o(P.current)),ae.length>0){var re,te;const de=!!((re=A.current)!=null&&re.shiftKey&&((te=A.current)==null?void 0:te.key)==="Tab"),pe=ae[0],Se=ae[ae.length-1];typeof pe!="string"&&typeof Se!="string"&&(de?Se.focus():pe.focus())}else H.focus()}}},z=F=>{A.current=F,!(n||!s()||F.key!=="Tab")&&C.activeElement===P.current&&F.shiftKey&&(d.current=!0,g.current&&g.current.focus())};C.addEventListener("focusin",R),C.addEventListener("keydown",z,!0);const L=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&R(null)},50);return()=>{clearInterval(L),C.removeEventListener("focusin",R),C.removeEventListener("keydown",z,!0)}},[r,n,i,s,a,o]);const O=C=>{v.current===null&&(v.current=C.relatedTarget),M.current=!0,b.current=C.target;const R=t.props.onFocus;R&&R(C)},I=C=>{v.current===null&&(v.current=C.relatedTarget),M.current=!0};return U.jsxs(W.Fragment,{children:[U.jsx("div",{tabIndex:a?0:-1,onFocus:I,ref:h,"data-testid":"sentinelStart"}),W.cloneElement(t,{ref:w,onFocus:O}),U.jsx("div",{tabIndex:a?0:-1,onFocus:I,ref:g,"data-testid":"sentinelEnd"})]})}var Sa="top",ks="bottom",Ps="right",Ea="left",rR="auto",b_=[Sa,ks,Ps,Ea],Pm="start",w0="end",ese="clippingParents",$V="viewport",jy="popper",tse="reference",L3=b_.reduce(function(e,t){return e.concat([t+"-"+Pm,t+"-"+w0])},[]),DV=[].concat(b_,[rR]).reduce(function(e,t){return e.concat([t,t+"-"+Pm,t+"-"+w0])},[]),rse="beforeRead",nse="read",ise="afterRead",ose="beforeMain",ase="main",sse="afterMain",lse="beforeWrite",cse="write",use="afterWrite",fse=[rse,nse,ise,ose,ase,sse,lse,cse,use];function Ql(e){return e?(e.nodeName||"").toLowerCase():null}function Ka(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function eh(e){var t=Ka(e).Element;return e instanceof t||e instanceof Element}function xs(e){var t=Ka(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function nR(e){if(typeof ShadowRoot>"u")return!1;var t=Ka(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function dse(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!xs(o)||!Ql(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function hse(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=s.reduce(function(d,h){return d[h]="",d},{});!xs(i)||!Ql(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(d){i.removeAttribute(d)}))})}}const pse={name:"applyStyles",enabled:!0,phase:"write",fn:dse,effect:hse,requires:["computeStyles"]};function Yl(e){return e.split("-")[0]}var Bd=Math.max,Q1=Math.min,Am=Math.round;function gA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function LV(){return!/^((?!chrome|android).)*safari/i.test(gA())}function Mm(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&xs(e)&&(i=e.offsetWidth>0&&Am(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Am(n.height)/e.offsetHeight||1);var s=eh(e)?Ka(e):window,a=s.visualViewport,d=!LV()&&r,h=(n.left+(d&&a?a.offsetLeft:0))/i,g=(n.top+(d&&a?a.offsetTop:0))/o,v=n.width/i,b=n.height/o;return{width:v,height:b,top:g,right:h+v,bottom:g+b,left:h,x:h,y:g}}function iR(e){var t=Mm(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function zV(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&nR(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function tu(e){return Ka(e).getComputedStyle(e)}function mse(e){return["table","td","th"].indexOf(Ql(e))>=0}function Lf(e){return((eh(e)?e.ownerDocument:e.document)||window.document).documentElement}function x2(e){return Ql(e)==="html"?e:e.assignedSlot||e.parentNode||(nR(e)?e.host:null)||Lf(e)}function z3(e){return!xs(e)||tu(e).position==="fixed"?null:e.offsetParent}function gse(e){var t=/firefox/i.test(gA()),r=/Trident/i.test(gA());if(r&&xs(e)){var n=tu(e);if(n.position==="fixed")return null}var i=x2(e);for(nR(i)&&(i=i.host);xs(i)&&["html","body"].indexOf(Ql(i))<0;){var o=tu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function w_(e){for(var t=Ka(e),r=z3(e);r&&mse(r)&&tu(r).position==="static";)r=z3(r);return r&&(Ql(r)==="html"||Ql(r)==="body"&&tu(r).position==="static")?t:r||gse(e)||t}function oR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Iv(e,t,r){return Bd(e,Q1(t,r))}function yse(e,t,r){var n=Iv(e,t,r);return n>r?r:n}function NV(){return{top:0,right:0,bottom:0,left:0}}function jV(e){return Object.assign({},NV(),e)}function BV(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var vse=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,jV(typeof t!="number"?t:BV(t,b_))};function _se(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=Yl(r.placement),d=oR(a),h=[Ea,Ps].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var v=vse(i.padding,r),b=iR(o),M=d==="y"?Sa:Ea,P=d==="y"?ks:Ps,w=r.rects.reference[g]+r.rects.reference[d]-s[d]-r.rects.popper[g],A=s[d]-r.rects.reference[d],O=w_(o),I=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,C=w/2-A/2,R=v[M],z=I-b[g]-v[P],L=I/2-b[g]/2+C,F=Iv(R,L,z),H=d;r.modifiersData[n]=(t={},t[H]=F,t.centerOffset=F-L,t)}}function xse(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||zV(t.elements.popper,i)&&(t.elements.arrow=i))}const bse={name:"arrow",enabled:!0,phase:"main",fn:_se,effect:xse,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Om(e){return e.split("-")[1]}var wse={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sse(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Am(r*i)/i||0,y:Am(n*i)/i||0}}function N3(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,d=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,v=e.isFixed,b=s.x,M=b===void 0?0:b,P=s.y,w=P===void 0?0:P,A=typeof g=="function"?g({x:M,y:w}):{x:M,y:w};M=A.x,w=A.y;var O=s.hasOwnProperty("x"),I=s.hasOwnProperty("y"),C=Ea,R=Sa,z=window;if(h){var L=w_(r),F="clientHeight",H="clientWidth";if(L===Ka(r)&&(L=Lf(r),tu(L).position!=="static"&&a==="absolute"&&(F="scrollHeight",H="scrollWidth")),L=L,i===Sa||(i===Ea||i===Ps)&&o===w0){R=ks;var re=v&&L===z&&z.visualViewport?z.visualViewport.height:L[F];w-=re-n.height,w*=d?1:-1}if(i===Ea||(i===Sa||i===ks)&&o===w0){C=Ps;var te=v&&L===z&&z.visualViewport?z.visualViewport.width:L[H];M-=te-n.width,M*=d?1:-1}}var ae=Object.assign({position:a},h&&wse),de=g===!0?Sse({x:M,y:w},Ka(r)):{x:M,y:w};if(M=de.x,w=de.y,d){var pe;return Object.assign({},ae,(pe={},pe[R]=I?"0":"",pe[C]=O?"0":"",pe.transform=(z.devicePixelRatio||1)<=1?"translate("+M+"px, "+w+"px)":"translate3d("+M+"px, "+w+"px, 0)",pe))}return Object.assign({},ae,(t={},t[R]=I?w+"px":"",t[C]=O?M+"px":"",t.transform="",t))}function Ese(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,d=a===void 0?!0:a,h={placement:Yl(t.placement),variation:Om(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,N3(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,N3(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Cse={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ese,data:{}};var gb={passive:!0};function Tse(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,d=Ka(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",r.update,gb)}),a&&d.addEventListener("resize",r.update,gb),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",r.update,gb)}),a&&d.removeEventListener("resize",r.update,gb)}}const kse={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tse,data:{}};var Pse={left:"right",right:"left",bottom:"top",top:"bottom"};function i1(e){return e.replace(/left|right|bottom|top/g,function(t){return Pse[t]})}var Ase={start:"end",end:"start"};function j3(e){return e.replace(/start|end/g,function(t){return Ase[t]})}function aR(e){var t=Ka(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function sR(e){return Mm(Lf(e)).left+aR(e).scrollLeft}function Mse(e,t){var r=Ka(e),n=Lf(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,d=0;if(i){o=i.width,s=i.height;var h=LV();(h||!h&&t==="fixed")&&(a=i.offsetLeft,d=i.offsetTop)}return{width:o,height:s,x:a+sR(e),y:d}}function Ose(e){var t,r=Lf(e),n=aR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Bd(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Bd(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+sR(e),d=-n.scrollTop;return tu(i||r).direction==="rtl"&&(a+=Bd(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:d}}function lR(e){var t=tu(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function FV(e){return["html","body","#document"].indexOf(Ql(e))>=0?e.ownerDocument.body:xs(e)&&lR(e)?e:FV(x2(e))}function Rv(e,t){var r;t===void 0&&(t=[]);var n=FV(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Ka(n),s=i?[o].concat(o.visualViewport||[],lR(n)?n:[]):n,a=t.concat(s);return i?a:a.concat(Rv(x2(s)))}function yA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ise(e,t){var r=Mm(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function B3(e,t,r){return t===$V?yA(Mse(e,r)):eh(t)?Ise(t,r):yA(Ose(Lf(e)))}function Rse(e){var t=Rv(x2(e)),r=["absolute","fixed"].indexOf(tu(e).position)>=0,n=r&&xs(e)?w_(e):e;return eh(n)?t.filter(function(i){return eh(i)&&zV(i,n)&&Ql(i)!=="body"}):[]}function $se(e,t,r,n){var i=t==="clippingParents"?Rse(e):[].concat(t),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(d,h){var g=B3(e,h,n);return d.top=Bd(g.top,d.top),d.right=Q1(g.right,d.right),d.bottom=Q1(g.bottom,d.bottom),d.left=Bd(g.left,d.left),d},B3(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function UV(e){var t=e.reference,r=e.element,n=e.placement,i=n?Yl(n):null,o=n?Om(n):null,s=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,d;switch(i){case Sa:d={x:s,y:t.y-r.height};break;case ks:d={x:s,y:t.y+t.height};break;case Ps:d={x:t.x+t.width,y:a};break;case Ea:d={x:t.x-r.width,y:a};break;default:d={x:t.x,y:t.y}}var h=i?oR(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Pm:d[h]=d[h]-(t[g]/2-r[g]/2);break;case w0:d[h]=d[h]+(t[g]/2-r[g]/2);break}}return d}function S0(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,s=o===void 0?e.strategy:o,a=r.boundary,d=a===void 0?ese:a,h=r.rootBoundary,g=h===void 0?$V:h,v=r.elementContext,b=v===void 0?jy:v,M=r.altBoundary,P=M===void 0?!1:M,w=r.padding,A=w===void 0?0:w,O=jV(typeof A!="number"?A:BV(A,b_)),I=b===jy?tse:jy,C=e.rects.popper,R=e.elements[P?I:b],z=$se(eh(R)?R:R.contextElement||Lf(e.elements.popper),d,g,s),L=Mm(e.elements.reference),F=UV({reference:L,element:C,strategy:"absolute",placement:i}),H=yA(Object.assign({},C,F)),re=b===jy?H:L,te={top:z.top-re.top+O.top,bottom:re.bottom-z.bottom+O.bottom,left:z.left-re.left+O.left,right:re.right-z.right+O.right},ae=e.modifiersData.offset;if(b===jy&&ae){var de=ae[i];Object.keys(te).forEach(function(pe){var Se=[Ps,ks].indexOf(pe)>=0?1:-1,_e=[Sa,ks].indexOf(pe)>=0?"y":"x";te[pe]+=de[_e]*Se})}return te}function Dse(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,d=r.allowedAutoPlacements,h=d===void 0?DV:d,g=Om(n),v=g?a?L3:L3.filter(function(P){return Om(P)===g}):b_,b=v.filter(function(P){return h.indexOf(P)>=0});b.length===0&&(b=v);var M=b.reduce(function(P,w){return P[w]=S0(e,{placement:w,boundary:i,rootBoundary:o,padding:s})[Yl(w)],P},{});return Object.keys(M).sort(function(P,w){return M[P]-M[w]})}function Lse(e){if(Yl(e)===rR)return[];var t=i1(e);return[j3(e),t,j3(t)]}function zse(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,d=r.fallbackPlacements,h=r.padding,g=r.boundary,v=r.rootBoundary,b=r.altBoundary,M=r.flipVariations,P=M===void 0?!0:M,w=r.allowedAutoPlacements,A=t.options.placement,O=Yl(A),I=O===A,C=d||(I||!P?[i1(A)]:Lse(A)),R=[A].concat(C).reduce(function(De,Ye){return De.concat(Yl(Ye)===rR?Dse(t,{placement:Ye,boundary:g,rootBoundary:v,padding:h,flipVariations:P,allowedAutoPlacements:w}):Ye)},[]),z=t.rects.reference,L=t.rects.popper,F=new Map,H=!0,re=R[0],te=0;te<R.length;te++){var ae=R[te],de=Yl(ae),pe=Om(ae)===Pm,Se=[Sa,ks].indexOf(de)>=0,_e=Se?"width":"height",Me=S0(t,{placement:ae,boundary:g,rootBoundary:v,altBoundary:b,padding:h}),Ae=Se?pe?Ps:Ea:pe?ks:Sa;z[_e]>L[_e]&&(Ae=i1(Ae));var Ee=i1(Ae),Ie=[];if(o&&Ie.push(Me[de]<=0),a&&Ie.push(Me[Ae]<=0,Me[Ee]<=0),Ie.every(function(De){return De})){re=ae,H=!1;break}F.set(ae,Ie)}if(H)for(var He=P?3:1,tt=function(Ye){var je=R.find(function(st){var nt=F.get(st);if(nt)return nt.slice(0,Ye).every(function(Ue){return Ue})});if(je)return re=je,"break"},Te=He;Te>0;Te--){var Ne=tt(Te);if(Ne==="break")break}t.placement!==re&&(t.modifiersData[n]._skip=!0,t.placement=re,t.reset=!0)}}const Nse={name:"flip",enabled:!0,phase:"main",fn:zse,requiresIfExists:["offset"],data:{_skip:!1}};function F3(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function U3(e){return[Sa,Ps,ks,Ea].some(function(t){return e[t]>=0})}function jse(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=S0(t,{elementContext:"reference"}),a=S0(t,{altBoundary:!0}),d=F3(s,n),h=F3(a,i,o),g=U3(d),v=U3(h);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const Bse={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jse};function Fse(e,t,r){var n=Yl(e),i=[Ea,Sa].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ea,Ps].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function Use(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,s=DV.reduce(function(g,v){return g[v]=Fse(v,t.rects,o),g},{}),a=s[t.placement],d=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=s}const Vse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Use};function Wse(e){var t=e.state,r=e.name;t.modifiersData[r]=UV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const qse={name:"popperOffsets",enabled:!0,phase:"read",fn:Wse,data:{}};function Hse(e){return e==="x"?"y":"x"}function Gse(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,d=r.boundary,h=r.rootBoundary,g=r.altBoundary,v=r.padding,b=r.tether,M=b===void 0?!0:b,P=r.tetherOffset,w=P===void 0?0:P,A=S0(t,{boundary:d,rootBoundary:h,padding:v,altBoundary:g}),O=Yl(t.placement),I=Om(t.placement),C=!I,R=oR(O),z=Hse(R),L=t.modifiersData.popperOffsets,F=t.rects.reference,H=t.rects.popper,re=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,te=typeof re=="number"?{mainAxis:re,altAxis:re}:Object.assign({mainAxis:0,altAxis:0},re),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,de={x:0,y:0};if(L){if(o){var pe,Se=R==="y"?Sa:Ea,_e=R==="y"?ks:Ps,Me=R==="y"?"height":"width",Ae=L[R],Ee=Ae+A[Se],Ie=Ae-A[_e],He=M?-H[Me]/2:0,tt=I===Pm?F[Me]:H[Me],Te=I===Pm?-H[Me]:-F[Me],Ne=t.elements.arrow,De=M&&Ne?iR(Ne):{width:0,height:0},Ye=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:NV(),je=Ye[Se],st=Ye[_e],nt=Iv(0,F[Me],De[Me]),Ue=C?F[Me]/2-He-nt-je-te.mainAxis:tt-nt-je-te.mainAxis,Xe=C?-F[Me]/2+He+nt+st+te.mainAxis:Te+nt+st+te.mainAxis,ct=t.elements.arrow&&w_(t.elements.arrow),Be=ct?R==="y"?ct.clientTop||0:ct.clientLeft||0:0,Pe=(pe=ae==null?void 0:ae[R])!=null?pe:0,St=Ae+Ue-Pe-Be,Zt=Ae+Xe-Pe,Ot=Iv(M?Q1(Ee,St):Ee,Ae,M?Bd(Ie,Zt):Ie);L[R]=Ot,de[R]=Ot-Ae}if(a){var Nt,Mr=R==="x"?Sa:Ea,Vr=R==="x"?ks:Ps,pr=L[z],Sr=z==="y"?"height":"width",cr=pr+A[Mr],Er=pr-A[Vr],an=[Sa,Ea].indexOf(O)!==-1,ut=(Nt=ae==null?void 0:ae[z])!=null?Nt:0,Or=an?cr:pr-F[Sr]-H[Sr]-ut+te.altAxis,Xr=an?pr+F[Sr]+H[Sr]-ut-te.altAxis:Er,mr=M&&an?yse(Or,pr,Xr):Iv(M?Or:cr,pr,M?Xr:Er);L[z]=mr,de[z]=mr-pr}t.modifiersData[n]=de}}const Yse={name:"preventOverflow",enabled:!0,phase:"main",fn:Gse,requiresIfExists:["offset"]};function Kse(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Zse(e){return e===Ka(e)||!xs(e)?aR(e):Kse(e)}function Xse(e){var t=e.getBoundingClientRect(),r=Am(t.width)/e.offsetWidth||1,n=Am(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Jse(e,t,r){r===void 0&&(r=!1);var n=xs(t),i=xs(t)&&Xse(t),o=Lf(t),s=Mm(e,i,r),a={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!r)&&((Ql(t)!=="body"||lR(o))&&(a=Zse(t)),xs(t)?(d=Mm(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=sR(o))),{x:s.left+a.scrollLeft-d.x,y:s.top+a.scrollTop-d.y,width:s.width,height:s.height}}function Qse(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var d=t.get(a);d&&i(d)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function ele(e){var t=Qse(e);return fse.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function tle(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function rle(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var V3={placement:"bottom",modifiers:[],strategy:"absolute"};function W3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function nle(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?V3:i;return function(a,d,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},V3,o),modifiersData:{},elements:{reference:a,popper:d},attributes:{},styles:{}},v=[],b=!1,M={state:g,setOptions:function(O){var I=typeof O=="function"?O(g.options):O;w(),g.options=Object.assign({},o,g.options,I),g.scrollParents={reference:eh(a)?Rv(a):a.contextElement?Rv(a.contextElement):[],popper:Rv(d)};var C=ele(rle([].concat(n,g.options.modifiers)));return g.orderedModifiers=C.filter(function(R){return R.enabled}),P(),M.update()},forceUpdate:function(){if(!b){var O=g.elements,I=O.reference,C=O.popper;if(W3(I,C)){g.rects={reference:Jse(I,w_(C),g.options.strategy==="fixed"),popper:iR(C)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(te){return g.modifiersData[te.name]=Object.assign({},te.data)});for(var R=0;R<g.orderedModifiers.length;R++){if(g.reset===!0){g.reset=!1,R=-1;continue}var z=g.orderedModifiers[R],L=z.fn,F=z.options,H=F===void 0?{}:F,re=z.name;typeof L=="function"&&(g=L({state:g,options:H,name:re,instance:M})||g)}}}},update:tle(function(){return new Promise(function(A){M.forceUpdate(),A(g)})}),destroy:function(){w(),b=!0}};if(!W3(a,d))return M;M.setOptions(h).then(function(A){!b&&h.onFirstUpdate&&h.onFirstUpdate(A)});function P(){g.orderedModifiers.forEach(function(A){var O=A.name,I=A.options,C=I===void 0?{}:I,R=A.effect;if(typeof R=="function"){var z=R({state:g,name:O,instance:M,options:C}),L=function(){};v.push(z||L)}})}function w(){v.forEach(function(A){return A()}),v=[]}return M}}var ile=[kse,qse,Cse,pse,Vse,Nse,Yse,bse,Bse],ole=nle({defaultModifiers:ile});function ale(e){return typeof e=="function"?e():e}const VV=W.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[s,a]=W.useState(null),d=si(W.isValidElement(n)?n.ref:null,r);if(dl(()=>{o||a(ale(i)||document.body)},[i,o]),dl(()=>{if(s&&!o)return K1(r,s),()=>{K1(r,null)}},[r,s,o]),o){if(W.isValidElement(n)){const h={ref:d};return W.cloneElement(n,h)}return U.jsx(W.Fragment,{children:n})}return U.jsx(W.Fragment,{children:s&&lu.createPortal(n,s)})});function sle(e){return or("MuiPopper",e)}ar("MuiPopper",["root"]);const lle=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],cle=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ule(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function vA(e){return typeof e=="function"?e():e}function fle(e){return e.nodeType!==void 0}const dle=()=>lr({root:["root"]},RV(sle)),hle={},ple=W.forwardRef(function(t,r){var n;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:d,open:h,placement:g,popperOptions:v,popperRef:b,slotProps:M={},slots:P={},TransitionProps:w}=t,A=It(t,lle),O=W.useRef(null),I=si(O,r),C=W.useRef(null),R=si(C,b),z=W.useRef(R);dl(()=>{z.current=R},[R]),W.useImperativeHandle(b,()=>C.current,[]);const L=ule(g,s),[F,H]=W.useState(L),[re,te]=W.useState(vA(i));W.useEffect(()=>{C.current&&C.current.forceUpdate()}),W.useEffect(()=>{i&&te(vA(i))},[i]),dl(()=>{if(!re||!h)return;const _e=Ee=>{H(Ee.placement)};let Me=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Ee})=>{_e(Ee)}}];d!=null&&(Me=Me.concat(d)),v&&v.modifiers!=null&&(Me=Me.concat(v.modifiers));const Ae=ole(re,O.current,oe({placement:L},v,{modifiers:Me}));return z.current(Ae),()=>{Ae.destroy(),z.current(null)}},[re,a,d,h,v,L]);const ae={placement:F};w!==null&&(ae.TransitionProps=w);const de=dle(),pe=(n=P.root)!=null?n:"div",Se=Jl({elementType:pe,externalSlotProps:M.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:I},ownerState:t,className:de.root});return U.jsx(pe,oe({},Se,{children:typeof o=="function"?o(ae):o}))}),mle=W.forwardRef(function(t,r){const{anchorEl:n,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:d=!1,modifiers:h,open:g,placement:v="bottom",popperOptions:b=hle,popperRef:M,style:P,transition:w=!1,slotProps:A={},slots:O={}}=t,I=It(t,cle),[C,R]=W.useState(!0),z=()=>{R(!1)},L=()=>{R(!0)};if(!d&&!g&&(!w||C))return null;let F;if(o)F=o;else if(n){const te=vA(n);F=te&&fle(te)?Ni(te).body:Ni(null).body}const H=!g&&d&&(!w||C)?"none":void 0,re=w?{in:g,onEnter:z,onExited:L}:void 0;return U.jsx(VV,{disablePortal:a,container:F,children:U.jsx(ple,oe({anchorEl:n,direction:s,disablePortal:a,modifiers:h,ref:r,open:w?!C:g,placement:v,popperOptions:b,popperRef:M,slotProps:A,slots:O},I,{style:oe({position:"fixed",top:0,left:0,display:H},P),TransitionProps:re,children:i}))})});function gle(e){const t=Ni(e);return t.body===e?Tf(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function $v(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function q3(e){return parseInt(Tf(e).getComputedStyle(e).paddingRight,10)||0}function yle(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function H3(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,d=!yle(s);a&&d&&$v(s,i)})}function IT(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function vle(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(gle(n)){const s=J8(Ni(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${q3(n)+s}px`;const a=Ni(n).querySelectorAll(".mui-fixed");[].forEach.call(a,d=>{r.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${q3(d)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Ni(n).body;else{const s=n.parentElement,a=Tf(n);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function _le(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class xle{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&$v(t.modalRef,!1);const i=_le(r);H3(r,t.mount,t.modalRef,i,!0);const o=IT(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=IT(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=vle(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=IT(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&$v(t.modalRef,r),H3(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&$v(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function ble(e){return typeof e=="function"?e():e}function wle(e){return e?e.props.hasOwnProperty("in"):!1}const Sle=new xle;function Ele(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=Sle,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:d,onClose:h,open:g,rootRef:v}=e,b=W.useRef({}),M=W.useRef(null),P=W.useRef(null),w=si(P,v),[A,O]=W.useState(!g),I=wle(d);let C=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(C=!1);const R=()=>Ni(M.current),z=()=>(b.current.modalRef=P.current,b.current.mount=M.current,b.current),L=()=>{i.mount(z(),{disableScrollLock:n}),P.current&&(P.current.scrollTop=0)},F=sl(()=>{const Me=ble(t)||R().body;i.add(z(),Me),P.current&&L()}),H=W.useCallback(()=>i.isTopModal(z()),[i]),re=sl(Me=>{M.current=Me,Me&&(g&&H()?L():P.current&&$v(P.current,C))}),te=W.useCallback(()=>{i.remove(z(),C)},[C,i]);W.useEffect(()=>()=>{te()},[te]),W.useEffect(()=>{g?F():(!I||!o)&&te()},[g,te,I,o,F]);const ae=Me=>Ae=>{var Ee;(Ee=Me.onKeyDown)==null||Ee.call(Me,Ae),!(Ae.key!=="Escape"||!H())&&(r||(Ae.stopPropagation(),h&&h(Ae,"escapeKeyDown")))},de=Me=>Ae=>{var Ee;(Ee=Me.onClick)==null||Ee.call(Me,Ae),Ae.target===Ae.currentTarget&&h&&h(Ae,"backdropClick")};return{getRootProps:(Me={})=>{const Ae=tR(e);delete Ae.onTransitionEnter,delete Ae.onTransitionExited;const Ee=oe({},Ae,Me);return oe({role:"presentation"},Ee,{onKeyDown:ae(Ee),ref:w})},getBackdropProps:(Me={})=>{const Ae=Me;return oe({"aria-hidden":!0},Ae,{onClick:de(Ae),open:g})},getTransitionProps:()=>{const Me=()=>{O(!1),s&&s()},Ae=()=>{O(!0),a&&a(),o&&te()};return{onEnter:iA(Me,d.props.onEnter),onExited:iA(Ae,d.props.onExited)}},rootRef:w,portalRef:re,isTopModal:H,exited:A,hasTransition:I}}function Cle(e){return or("MuiModal",e)}ar("MuiModal",["root","hidden","backdrop"]);const Tle=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],kle=e=>{const{open:t,exited:r}=e;return lr({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},RV(Cle))},Ple=W.forwardRef(function(t,r){var n;const{children:i,closeAfterTransition:o=!1,container:s,disableAutoFocus:a=!1,disableEnforceFocus:d=!1,disableEscapeKeyDown:h=!1,disablePortal:g=!1,disableRestoreFocus:v=!1,disableScrollLock:b=!1,hideBackdrop:M=!1,keepMounted:P=!1,onBackdropClick:w,open:A,slotProps:O={},slots:I={}}=t,C=It(t,Tle),R=oe({},t,{closeAfterTransition:o,disableAutoFocus:a,disableEnforceFocus:d,disableEscapeKeyDown:h,disablePortal:g,disableRestoreFocus:v,disableScrollLock:b,hideBackdrop:M,keepMounted:P}),{getRootProps:z,getBackdropProps:L,getTransitionProps:F,portalRef:H,isTopModal:re,exited:te,hasTransition:ae}=Ele(oe({},R,{rootRef:r})),de=oe({},R,{exited:te,hasTransition:ae}),pe=kle(de),Se={};if(i.props.tabIndex===void 0&&(Se.tabIndex="-1"),ae){const{onEnter:Ie,onExited:He}=F();Se.onEnter=Ie,Se.onExited=He}const _e=(n=I.root)!=null?n:"div",Me=Jl({elementType:_e,externalSlotProps:O.root,externalForwardedProps:C,getSlotProps:z,className:pe.root,ownerState:de}),Ae=I.backdrop,Ee=Jl({elementType:Ae,externalSlotProps:O.backdrop,getSlotProps:Ie=>L(oe({},Ie,{onClick:He=>{w&&w(He),Ie!=null&&Ie.onClick&&Ie.onClick(He)}})),className:pe.backdrop,ownerState:de});return!P&&!A&&(!ae||te)?null:U.jsx(VV,{ref:H,container:s,disablePortal:g,children:U.jsxs(_e,oe({},Me,{children:[!M&&Ae?U.jsx(Ae,oe({},Ee)):null,U.jsx(Qae,{disableEnforceFocus:d,disableAutoFocus:a,disableRestoreFocus:v,isEnabled:re,open:A,children:W.cloneElement(i,Se)})]}))})});function Ale(e){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:i,resumeHideDuration:o}=e,s=W.useRef();W.useEffect(()=>{if(!i)return;function O(I){I.defaultPrevented||(I.key==="Escape"||I.key==="Esc")&&(n==null||n(I,"escapeKeyDown"))}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[i,n]);const a=sl((O,I)=>{n==null||n(O,I)}),d=sl(O=>{!n||O==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},O))});W.useEffect(()=>(i&&d(t),()=>{clearTimeout(s.current)}),[i,t,d]);const h=O=>{n==null||n(O,"clickaway")},g=()=>{clearTimeout(s.current)},v=W.useCallback(()=>{t!=null&&d(o??t*.5)},[t,o,d]),b=O=>I=>{const C=O.onBlur;C==null||C(I),v()},M=O=>I=>{const C=O.onFocus;C==null||C(I),g()},P=O=>I=>{const C=O.onMouseEnter;C==null||C(I),g()},w=O=>I=>{const C=O.onMouseLeave;C==null||C(I),v()};return W.useEffect(()=>{if(!r&&i)return window.addEventListener("focus",v),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",g)}},[r,v,i]),{getRootProps:(O={})=>{const I=tR(e),C=oe({},I,O);return oe({role:"presentation"},C,{onBlur:b(C),onFocus:M(C),onMouseEnter:P(C),onMouseLeave:w(C)})},onClickAway:h}}const Mle=["onChange","maxRows","minRows","style","value"];function yb(e){return parseInt(e,10)||0}const Ole={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function G3(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const Ile=W.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:s,value:a}=t,d=It(t,Mle),{current:h}=W.useRef(a!=null),g=W.useRef(null),v=si(r,g),b=W.useRef(null),M=W.useRef(0),[P,w]=W.useState({outerHeightStyle:0}),A=W.useCallback(()=>{const z=g.current,F=Tf(z).getComputedStyle(z);if(F.width==="0px")return{outerHeightStyle:0};const H=b.current;H.style.width=F.width,H.value=z.value||t.placeholder||"x",H.value.slice(-1)===`
`&&(H.value+=" ");const re=F.boxSizing,te=yb(F.paddingBottom)+yb(F.paddingTop),ae=yb(F.borderBottomWidth)+yb(F.borderTopWidth),de=H.scrollHeight;H.value="x";const pe=H.scrollHeight;let Se=de;o&&(Se=Math.max(Number(o)*pe,Se)),i&&(Se=Math.min(Number(i)*pe,Se)),Se=Math.max(Se,pe);const _e=Se+(re==="border-box"?te+ae:0),Me=Math.abs(Se-de)<=1;return{outerHeightStyle:_e,overflow:Me}},[i,o,t.placeholder]),O=(z,L)=>{const{outerHeightStyle:F,overflow:H}=L;return M.current<20&&(F>0&&Math.abs((z.outerHeightStyle||0)-F)>1||z.overflow!==H)?(M.current+=1,{overflow:H,outerHeightStyle:F}):z},I=W.useCallback(()=>{const z=A();G3(z)||w(L=>O(L,z))},[A]),C=()=>{const z=A();G3(z)||lu.flushSync(()=>{w(L=>O(L,z))})};W.useEffect(()=>{const z=MI(()=>{M.current=0,g.current&&C()});let L;const F=g.current,H=Tf(F);return H.addEventListener("resize",z),typeof ResizeObserver<"u"&&(L=new ResizeObserver(z),L.observe(F)),()=>{z.clear(),H.removeEventListener("resize",z),L&&L.disconnect()}}),dl(()=>{I()}),W.useEffect(()=>{M.current=0},[a]);const R=z=>{M.current=0,h||I(),n&&n(z)};return U.jsxs(W.Fragment,{children:[U.jsx("textarea",oe({value:a,onChange:R,ref:v,rows:o,style:oe({height:P.outerHeightStyle,overflow:P.overflow?"hidden":void 0},s)},d)),U.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:b,tabIndex:-1,style:oe({},Ole.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),Rle=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],$le=Et(mle,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Dle=W.forwardRef(function(t,r){var n;const i=VI(),o=sr({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:d,componentsProps:h,container:g,disablePortal:v,keepMounted:b,modifiers:M,open:P,placement:w,popperOptions:A,popperRef:O,transition:I,slots:C,slotProps:R}=o,z=It(o,Rle),L=(n=C==null?void 0:C.root)!=null?n:d==null?void 0:d.Root,F=oe({anchorEl:s,container:g,disablePortal:v,keepMounted:b,modifiers:M,open:P,placement:w,popperOptions:A,popperRef:O,transition:I},z);return U.jsx($le,oe({as:a,direction:i==null?void 0:i.direction,slots:{root:L},slotProps:R??h},F,{ref:r}))}),WV=Dle;function lh({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const Lle=W.createContext(void 0),b2=Lle;function zf(){return W.useContext(b2)}function qV(e){return U.jsx(tie,oe({},e,{defaultTheme:l2,themeId:Jd}))}function Y3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ew(e,t=!1){return e&&(Y3(e.value)&&e.value!==""||t&&Y3(e.defaultValue)&&e.defaultValue!=="")}function zle(e){return e.startAdornment}function Nle(e){return or("MuiInputBase",e)}const jle=ar("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Im=jle,Ble=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],w2=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${wt(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},S2=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Fle=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:d,hiddenLabel:h,multiline:g,readOnly:v,size:b,startAdornment:M,type:P}=e,w={root:["root",`color${wt(r)}`,n&&"disabled",i&&"error",d&&"fullWidth",s&&"focused",a&&"formControl",b==="small"&&"sizeSmall",g&&"multiline",M&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",v&&"readOnly"],input:["input",n&&"disabled",P==="search"&&"inputTypeSearch",g&&"inputMultiline",b==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",M&&"inputAdornedStart",o&&"inputAdornedEnd",v&&"readOnly"]};return lr(w,Nle,t)},E2=Et("div",{name:"MuiInputBase",slot:"Root",overridesResolver:w2})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Im.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&oe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),C2=Et("input",{name:"MuiInputBase",slot:"Input",overridesResolver:S2})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=oe({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return oe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Im.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Im.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Ule=U.jsx(qV,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Vle=W.forwardRef(function(t,r){var n;const i=sr({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:d,components:h={},componentsProps:g={},defaultValue:v,disabled:b,disableInjectingGlobalStyles:M,endAdornment:P,fullWidth:w=!1,id:A,inputComponent:O="input",inputProps:I={},inputRef:C,maxRows:R,minRows:z,multiline:L=!1,name:F,onBlur:H,onChange:re,onClick:te,onFocus:ae,onKeyDown:de,onKeyUp:pe,placeholder:Se,readOnly:_e,renderSuffix:Me,rows:Ae,slotProps:Ee={},slots:Ie={},startAdornment:He,type:tt="text",value:Te}=i,Ne=It(i,Ble),De=I.value!=null?I.value:Te,{current:Ye}=W.useRef(De!=null),je=W.useRef(),st=W.useCallback(mr=>{},[]),nt=si(je,C,I.ref,st),[Ue,Xe]=W.useState(!1),ct=zf(),Be=lh({props:i,muiFormControl:ct,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Be.focused=ct?ct.focused:Ue,W.useEffect(()=>{!ct&&b&&Ue&&(Xe(!1),H&&H())},[ct,b,Ue,H]);const Pe=ct&&ct.onFilled,St=ct&&ct.onEmpty,Zt=W.useCallback(mr=>{ew(mr)?Pe&&Pe():St&&St()},[Pe,St]);dl(()=>{Ye&&Zt({value:De})},[De,Zt,Ye]);const Ot=mr=>{if(Be.disabled){mr.stopPropagation();return}ae&&ae(mr),I.onFocus&&I.onFocus(mr),ct&&ct.onFocus?ct.onFocus(mr):Xe(!0)},Nt=mr=>{H&&H(mr),I.onBlur&&I.onBlur(mr),ct&&ct.onBlur?ct.onBlur(mr):Xe(!1)},Mr=(mr,...Jt)=>{if(!Ye){const Ke=mr.target||je.current;if(Ke==null)throw new Error(Cf(1));Zt({value:Ke.value})}I.onChange&&I.onChange(mr,...Jt),re&&re(mr,...Jt)};W.useEffect(()=>{Zt(je.current)},[]);const Vr=mr=>{je.current&&mr.currentTarget===mr.target&&je.current.focus(),te&&!Be.disabled&&te(mr)};let pr=O,Sr=I;L&&pr==="input"&&(Ae?Sr=oe({type:void 0,minRows:Ae,maxRows:Ae},Sr):Sr=oe({type:void 0,maxRows:R,minRows:z},Sr),pr=Ile);const cr=mr=>{Zt(mr.animationName==="mui-auto-fill-cancel"?je.current:{value:"x"})};W.useEffect(()=>{ct&&ct.setAdornedStart(!!He)},[ct,He]);const Er=oe({},i,{color:Be.color||"primary",disabled:Be.disabled,endAdornment:P,error:Be.error,focused:Be.focused,formControl:ct,fullWidth:w,hiddenLabel:Be.hiddenLabel,multiline:L,size:Be.size,startAdornment:He,type:tt}),an=Fle(Er),ut=Ie.root||h.Root||E2,Or=Ee.root||g.root||{},Xr=Ie.input||h.Input||C2;return Sr=oe({},Sr,(n=Ee.input)!=null?n:g.input),U.jsxs(W.Fragment,{children:[!M&&Ule,U.jsxs(ut,oe({},Or,!b0(ut)&&{ownerState:oe({},Er,Or.ownerState)},{ref:r,onClick:Vr},Ne,{className:jt(an.root,Or.className,d,_e&&"MuiInputBase-readOnly"),children:[He,U.jsx(b2.Provider,{value:null,children:U.jsx(Xr,oe({ownerState:Er,"aria-invalid":Be.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:v,disabled:Be.disabled,id:A,onAnimationStart:cr,name:F,placeholder:Se,readOnly:_e,required:Be.required,rows:Ae,value:De,onKeyDown:de,onKeyUp:pe,type:tt},Sr,!b0(Xr)&&{as:pr,ownerState:oe({},Er,Sr.ownerState)},{ref:nt,className:jt(an.input,Sr.className,_e&&"MuiInputBase-readOnly"),onBlur:Nt,onChange:Mr,onFocus:Ot}))}),P,Me?Me(oe({},Be,{startAdornment:He})):null]}))]})}),cR=Vle;function Wle(e){return or("MuiInput",e)}const qle=oe({},Im,ar("MuiInput",["root","underline","input"])),By=qle;function Hle(e){return or("MuiOutlinedInput",e)}const Gle=oe({},Im,ar("MuiOutlinedInput",["root","notchedOutline","input"])),Du=Gle;function Yle(e){return or("MuiFilledInput",e)}const Kle=oe({},Im,ar("MuiFilledInput",["root","underline","input"])),dd=Kle,Zle=KI(U.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Xle=KI(U.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Jle(e){return or("MuiAvatar",e)}ar("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Qle=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ece=e=>{const{classes:t,variant:r,colorDefault:n}=e;return lr({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},Jle,t)},tce=Et("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&oe({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),rce=Et("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),nce=Et(Xle,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function ice({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[i,o]=W.useState(!1);return W.useEffect(()=>{if(!r&&!n)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=r,n&&(a.srcset=n),()=>{s=!1}},[e,t,r,n]),i}const oce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:d,sizes:h,src:g,srcSet:v,variant:b="circular"}=n,M=It(n,Qle);let P=null;const w=ice(oe({},d,{src:g,srcSet:v})),A=g||v,O=A&&w!=="error",I=oe({},n,{colorDefault:!O,component:a,variant:b}),C=ece(I);return O?P=U.jsx(rce,oe({alt:i,src:g,srcSet:v,sizes:h,ownerState:I,className:C.img},d)):o!=null?P=o:A&&i?P=i[0]:P=U.jsx(nce,{ownerState:I,className:C.fallback}),U.jsx(tce,oe({as:a,ownerState:I,className:jt(C.root,s),ref:r},M,{children:P}))}),ace=oce,sce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],lce={entering:{opacity:1},entered:{opacity:1}},cce=W.forwardRef(function(t,r){const n=Df(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:d,in:h,onEnter:g,onEntered:v,onEntering:b,onExit:M,onExited:P,onExiting:w,style:A,timeout:O=i,TransitionComponent:I=JI}=t,C=It(t,sce),R=W.useRef(null),z=si(R,a.ref,r),L=Se=>_e=>{if(Se){const Me=R.current;_e===void 0?Se(Me):Se(Me,_e)}},F=L(b),H=L((Se,_e)=>{AV(Se);const Me=km({style:A,timeout:O,easing:d},{mode:"enter"});Se.style.webkitTransition=n.transitions.create("opacity",Me),Se.style.transition=n.transitions.create("opacity",Me),g&&g(Se,_e)}),re=L(v),te=L(w),ae=L(Se=>{const _e=km({style:A,timeout:O,easing:d},{mode:"exit"});Se.style.webkitTransition=n.transitions.create("opacity",_e),Se.style.transition=n.transitions.create("opacity",_e),M&&M(Se)}),de=L(P),pe=Se=>{o&&o(R.current,Se)};return U.jsx(I,oe({appear:s,in:h,nodeRef:R,onEnter:H,onEntered:re,onEntering:F,onExit:ae,onExited:de,onExiting:te,addEndListener:pe,timeout:O},C,{children:(Se,_e)=>W.cloneElement(a,oe({style:oe({opacity:0,visibility:Se==="exited"&&!h?"hidden":void 0},lce[Se],A,a.props.style),ref:z},_e))}))}),uce=cce;function fce(e){return or("MuiBackdrop",e)}ar("MuiBackdrop",["root","invisible"]);const dce=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],hce=e=>{const{classes:t,invisible:r}=e;return lr({root:["root",r&&"invisible"]},fce,t)},pce=Et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>oe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),mce=W.forwardRef(function(t,r){var n,i,o;const s=sr({props:t,name:"MuiBackdrop"}),{children:a,className:d,component:h="div",components:g={},componentsProps:v={},invisible:b=!1,open:M,slotProps:P={},slots:w={},TransitionComponent:A=uce,transitionDuration:O}=s,I=It(s,dce),C=oe({},s,{component:h,invisible:b}),R=hce(C),z=(n=P.root)!=null?n:v.root;return U.jsx(A,oe({in:M,timeout:O},I,{children:U.jsx(pce,oe({"aria-hidden":!0},z,{as:(i=(o=w.root)!=null?o:g.Root)!=null?i:h,className:jt(R.root,d,z==null?void 0:z.className),ownerState:oe({},C,z==null?void 0:z.ownerState),classes:R,ref:r,children:a}))}))}),gce=mce;function yce(e){return or("MuiBadge",e)}const vce=ar("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Lu=vce,_ce=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],RT=10,$T=4,xce=e=>{const{color:t,anchorOrigin:r,invisible:n,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${wt(r.vertical)}${wt(r.horizontal)}`,`anchorOrigin${wt(r.vertical)}${wt(r.horizontal)}${wt(i)}`,`overlap${wt(i)}`,t!=="default"&&`color${wt(t)}`]};return lr(a,yce,s)},bce=Et("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),wce=Et("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${wt(r.anchorOrigin.vertical)}${wt(r.anchorOrigin.horizontal)}${wt(r.overlap)}`],r.color!=="default"&&t[`color${wt(r.color)}`],r.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>oe({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:RT*2,lineHeight:1,padding:"0 6px",height:RT*2,borderRadius:RT,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:$T,height:$T*2,minWidth:$T*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Lu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),Sce=W.forwardRef(function(t,r){var n,i,o,s,a,d;const h=sr({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:v,component:b,components:M={},componentsProps:P={},children:w,overlap:A="rectangular",color:O="default",invisible:I=!1,max:C=99,badgeContent:R,slots:z,slotProps:L,showZero:F=!1,variant:H="standard"}=h,re=It(h,_ce),{badgeContent:te,invisible:ae,max:de,displayValue:pe}=Wae({max:C,invisible:I,badgeContent:R,showZero:F}),Se=Q8({anchorOrigin:g,color:O,overlap:A,variant:H,badgeContent:R}),_e=ae||te==null&&H!=="dot",{color:Me=O,overlap:Ae=A,anchorOrigin:Ee=g,variant:Ie=H}=_e?Se:h,He=Ie!=="dot"?pe:void 0,tt=oe({},h,{badgeContent:te,invisible:_e,max:de,displayValue:He,showZero:F,anchorOrigin:Ee,color:Me,overlap:Ae,variant:Ie}),Te=xce(tt),Ne=(n=(i=z==null?void 0:z.root)!=null?i:M.Root)!=null?n:bce,De=(o=(s=z==null?void 0:z.badge)!=null?s:M.Badge)!=null?o:wce,Ye=(a=L==null?void 0:L.root)!=null?a:P.root,je=(d=L==null?void 0:L.badge)!=null?d:P.badge,st=Jl({elementType:Ne,externalSlotProps:Ye,externalForwardedProps:re,additionalProps:{ref:r,as:b},ownerState:tt,className:jt(Ye==null?void 0:Ye.className,Te.root,v)}),nt=Jl({elementType:De,externalSlotProps:je,ownerState:tt,className:jt(Te.badge,je==null?void 0:je.className)});return U.jsxs(Ne,oe({},st,{children:[w,U.jsx(De,oe({},nt,{children:He}))]}))}),Ece=Sce,Cce=YI(),Tce=oie({themeId:Jd,defaultTheme:Cce,defaultClassName:"MuiBox-root",generateClassName:RI.generate}),Ju=Tce;function kce(e){return or("MuiButton",e)}const Pce=ar("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),vb=Pce,Ace=W.createContext({}),HV=Ace,Mce=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Oce=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${wt(t)}`,`size${wt(i)}`,`${o}Size${wt(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${wt(i)}`],endIcon:["endIcon",`iconSize${wt(i)}`]},d=lr(a,kce,s);return oe({},s,d)},GV=e=>oe({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Ice=Et(x_,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${wt(r.color)}`],t[`size${wt(r.size)}`],t[`${r.variant}Size${wt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return oe({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":oe({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ln(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ln(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ln(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${vb.focusVisible}`]:oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${vb.disabled}`]:oe({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ln(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vb.disabled}`]:{boxShadow:"none"}}),Rce=Et("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${wt(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},GV(e))),$ce=Et("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${wt(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},GV(e))),Dce=W.forwardRef(function(t,r){const n=W.useContext(HV),i=II(n,t),o=sr({props:i,name:"MuiButton"}),{children:s,color:a="primary",component:d="button",className:h,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:b=!1,endIcon:M,focusVisibleClassName:P,fullWidth:w=!1,size:A="medium",startIcon:O,type:I,variant:C="text"}=o,R=It(o,Mce),z=oe({},o,{color:a,component:d,disabled:g,disableElevation:v,disableFocusRipple:b,fullWidth:w,size:A,type:I,variant:C}),L=Oce(z),F=O&&U.jsx(Rce,{className:L.startIcon,ownerState:z,children:O}),H=M&&U.jsx($ce,{className:L.endIcon,ownerState:z,children:M});return U.jsxs(Ice,oe({ownerState:z,className:jt(n.className,L.root,h),component:d,disabled:g,focusRipple:!b,focusVisibleClassName:jt(L.focusVisible,P),ref:r,type:I},R,{classes:L,children:[F,s,H]}))}),Vn=Dce;function Lce(e){return or("MuiButtonGroup",e)}const zce=ar("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),jl=zce,Nce=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],jce=(e,t)=>{const{ownerState:r}=e;return[{[`& .${jl.grouped}`]:t.grouped},{[`& .${jl.grouped}`]:t[`grouped${wt(r.orientation)}`]},{[`& .${jl.grouped}`]:t[`grouped${wt(r.variant)}`]},{[`& .${jl.grouped}`]:t[`grouped${wt(r.variant)}${wt(r.orientation)}`]},{[`& .${jl.grouped}`]:t[`grouped${wt(r.variant)}${wt(r.color)}`]},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},Bce=e=>{const{classes:t,color:r,disabled:n,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,d={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${wt(s)}`,`grouped${wt(a)}`,`grouped${wt(a)}${wt(s)}`,`grouped${wt(a)}${wt(r)}`,n&&"disabled"]};return lr(d,Lce,t)},Fce=Et("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:jce})(({theme:e,ownerState:t})=>oe({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${jl.grouped}`]:oe({minWidth:40,"&:not(:first-of-type)":oe({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":oe({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${jl.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${jl.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Ln(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${jl.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${jl.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":oe({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":oe({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),Uce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:d=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:v=!1,fullWidth:b=!1,orientation:M="horizontal",size:P="medium",variant:w="outlined"}=n,A=It(n,Nce),O=oe({},n,{color:s,component:a,disabled:d,disableElevation:h,disableFocusRipple:g,disableRipple:v,fullWidth:b,orientation:M,size:P,variant:w}),I=Bce(O),C=W.useMemo(()=>({className:I.grouped,color:s,disabled:d,disableElevation:h,disableFocusRipple:g,disableRipple:v,fullWidth:b,size:P,variant:w}),[s,d,h,g,v,b,P,w,I.grouped]);return U.jsx(Fce,oe({as:a,role:"group",className:jt(I.root,o),ref:r,ownerState:O},A,{children:U.jsx(HV.Provider,{value:C,children:i})}))}),Vce=Uce;function Wce(e){return or("MuiCard",e)}ar("MuiCard",["root"]);const qce=["className","raised"],Hce=e=>{const{classes:t}=e;return lr({root:["root"]},Wce,t)},Gce=Et(eu,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Yce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=n,s=It(n,qce),a=oe({},n,{raised:o}),d=Hce(a);return U.jsx(Gce,oe({className:jt(d.root,i),elevation:o?8:void 0,ref:r,ownerState:a},s))}),S_=Yce;function Kce(e){return or("MuiCardActions",e)}ar("MuiCardActions",["root","spacing"]);const Zce=["disableSpacing","className"],Xce=e=>{const{classes:t,disableSpacing:r}=e;return lr({root:["root",!r&&"spacing"]},Kce,t)},Jce=Et("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>oe({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Qce=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=n,s=It(n,Zce),a=oe({},n,{disableSpacing:i}),d=Xce(a);return U.jsx(Jce,oe({className:jt(d.root,o),ownerState:a,ref:r},s))}),eue=Qce;function tue(e){return or("MuiCardContent",e)}ar("MuiCardContent",["root"]);const rue=["className","component"],nue=e=>{const{classes:t}=e;return lr({root:["root"]},tue,t)},iue=Et("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),oue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=n,s=It(n,rue),a=oe({},n,{component:o}),d=nue(a);return U.jsx(iue,oe({as:o,className:jt(d.root,i),ownerState:a,ref:r},s))}),aue=oue;function sue(e){return or("MuiCardMedia",e)}ar("MuiCardMedia",["root","media","img"]);const lue=["children","className","component","image","src","style"],cue=e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e;return lr({root:["root",r&&"media",n&&"img"]},sue,t)},uue=Et("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:i}=r;return[t.root,n&&t.media,i&&t.img]}})(({ownerState:e})=>oe({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),fue=["video","audio","picture","iframe","img"],due=["picture","img"],hue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:d,style:h}=n,g=It(n,lue),v=fue.indexOf(s)!==-1,b=!v&&a?oe({backgroundImage:`url("${a}")`},h):h,M=oe({},n,{component:s,isMediaComponent:v,isImageComponent:due.indexOf(s)!==-1}),P=cue(M);return U.jsx(uue,oe({className:jt(P.root,o),as:s,role:!v&&a?"img":void 0,ref:r,style:b,ownerState:M,src:v?a||d:void 0},g,{children:i}))}),pue=hue,mue=Rie({createStyledComponent:Et("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${wt(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>sr({props:e,name:"MuiContainer"})}),YV=mue,gue=(e,t)=>oe({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),yue=e=>oe({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),vue=(e,t=!1)=>{var r;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var d;n[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(d=a.palette)==null?void 0:d.mode}});let i=oe({html:gue(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:oe({margin:0},yue(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const o=(r=e.components)==null||(r=r.MuiCssBaseline)==null?void 0:r.styleOverrides;return o&&(i=[i,o]),i};function _ue(e){const t=sr({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return U.jsxs(W.Fragment,{children:[U.jsx(qV,{styles:i=>vue(i,n)}),r]})}const xue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],bue=Et("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>oe({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),wue=Et(gce,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Sue=W.forwardRef(function(t,r){var n,i,o,s,a,d;const h=sr({name:"MuiModal",props:t}),{BackdropComponent:g=wue,BackdropProps:v,classes:b,className:M,closeAfterTransition:P=!1,children:w,container:A,component:O,components:I={},componentsProps:C={},disableAutoFocus:R=!1,disableEnforceFocus:z=!1,disableEscapeKeyDown:L=!1,disablePortal:F=!1,disableRestoreFocus:H=!1,disableScrollLock:re=!1,hideBackdrop:te=!1,keepMounted:ae=!1,onBackdropClick:de,onClose:pe,open:Se,slotProps:_e,slots:Me,theme:Ae}=h,Ee=It(h,xue),[Ie,He]=W.useState(!0),tt={container:A,closeAfterTransition:P,disableAutoFocus:R,disableEnforceFocus:z,disableEscapeKeyDown:L,disablePortal:F,disableRestoreFocus:H,disableScrollLock:re,hideBackdrop:te,keepMounted:ae,onBackdropClick:de,onClose:pe,open:Se},Te=oe({},h,tt,{exited:Ie}),Ne=(n=(i=Me==null?void 0:Me.root)!=null?i:I.Root)!=null?n:bue,De=(o=(s=Me==null?void 0:Me.backdrop)!=null?s:I.Backdrop)!=null?o:g,Ye=(a=_e==null?void 0:_e.root)!=null?a:C.root,je=(d=_e==null?void 0:_e.backdrop)!=null?d:C.backdrop;return U.jsx(Ple,oe({slots:{root:Ne,backdrop:De},slotProps:{root:()=>oe({},mA(Ye,Te),!b0(Ne)&&{as:O,theme:Ae},{className:jt(M,Ye==null?void 0:Ye.className,b==null?void 0:b.root,!Te.open&&Te.exited&&(b==null?void 0:b.hidden))}),backdrop:()=>oe({},v,mA(je,Te),{className:jt(je==null?void 0:je.className,v==null?void 0:v.className,b==null?void 0:b.backdrop)})},onTransitionEnter:()=>He(!1),onTransitionExited:()=>He(!0),ref:r},Ee,tt,{children:w}))}),Eue=Sue;function Cue(e){return or("MuiDivider",e)}const Tue=ar("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),K3=Tue,kue=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Pue=e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:s,textAlign:a,variant:d}=e;return lr({root:["root",t&&"absolute",d,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Cue,n)},Aue=Et("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>oe({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ln(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>oe({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>oe({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Mue=Et("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>oe({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),KV=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:d=!1,light:h=!1,orientation:g="horizontal",role:v=a!=="hr"?"separator":void 0,textAlign:b="center",variant:M="fullWidth"}=n,P=It(n,kue),w=oe({},n,{absolute:i,component:a,flexItem:d,light:h,orientation:g,role:v,textAlign:b,variant:M}),A=Pue(w);return U.jsx(Aue,oe({as:a,className:jt(A.root,s),role:v,ref:r,ownerState:w},P,{children:o?U.jsx(Mue,{className:A.wrapper,ownerState:w,children:o}):null}))});KV.muiSkipListHighlight=!0;const ZV=KV,Oue=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Iue=e=>{const{classes:t,disableUnderline:r}=e,i=lr({root:["root",!r&&"underline"],input:["input"]},Yle,t);return oe({},t,i)},Rue=Et(E2,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...w2(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return oe({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${dd.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${dd.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dd.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dd.disabled}, .${dd.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${dd.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&oe({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),$ue=Et(C2,{name:"MuiFilledInput",slot:"Input",overridesResolver:S2})(({theme:e,ownerState:t})=>oe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),XV=W.forwardRef(function(t,r){var n,i,o,s;const a=sr({props:t,name:"MuiFilledInput"}),{components:d={},componentsProps:h,fullWidth:g=!1,inputComponent:v="input",multiline:b=!1,slotProps:M,slots:P={},type:w="text"}=a,A=It(a,Oue),O=oe({},a,{fullWidth:g,inputComponent:v,multiline:b,type:w}),I=Iue(a),C={root:{ownerState:O},input:{ownerState:O}},R=M??h?wa(M??h,C):C,z=(n=(i=P.root)!=null?i:d.Root)!=null?n:Rue,L=(o=(s=P.input)!=null?s:d.Input)!=null?o:$ue;return U.jsx(cR,oe({slots:{root:z,input:L},componentsProps:R,fullWidth:g,inputComponent:v,multiline:b,ref:r,type:w},A,{classes:I}))});XV.muiName="Input";const JV=XV;function Due(e){return or("MuiFormControl",e)}ar("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Lue=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],zue=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${wt(r)}`,n&&"fullWidth"]};return lr(i,Due,t)},Nue=Et("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,t[`margin${wt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>oe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),jue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:d=!1,error:h=!1,focused:g,fullWidth:v=!1,hiddenLabel:b=!1,margin:M="none",required:P=!1,size:w="medium",variant:A="outlined"}=n,O=It(n,Lue),I=oe({},n,{color:s,component:a,disabled:d,error:h,fullWidth:v,hiddenLabel:b,margin:M,required:P,size:w,variant:A}),C=zue(I),[R,z]=W.useState(()=>{let pe=!1;return i&&W.Children.forEach(i,Se=>{if(!e1(Se,["Input","Select"]))return;const _e=e1(Se,["Select"])?Se.props.input:Se;_e&&zle(_e.props)&&(pe=!0)}),pe}),[L,F]=W.useState(()=>{let pe=!1;return i&&W.Children.forEach(i,Se=>{e1(Se,["Input","Select"])&&(ew(Se.props,!0)||ew(Se.props.inputProps,!0))&&(pe=!0)}),pe}),[H,re]=W.useState(!1);d&&H&&re(!1);const te=g!==void 0&&!d?g:H;let ae;const de=W.useMemo(()=>({adornedStart:R,setAdornedStart:z,color:s,disabled:d,error:h,filled:L,focused:te,fullWidth:v,hiddenLabel:b,size:w,onBlur:()=>{re(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{re(!0)},registerEffect:ae,required:P,variant:A}),[R,s,d,h,L,te,v,b,ae,P,w,A]);return U.jsx(b2.Provider,{value:de,children:U.jsx(Nue,oe({as:a,ownerState:I,className:jt(C.root,o),ref:r},O,{children:i}))})}),E0=jue;function Bue(e){return or("MuiFormGroup",e)}ar("MuiFormGroup",["root","row","error"]);const Fue=["className","row"],Uue=e=>{const{classes:t,row:r,error:n}=e;return lr({root:["root",r&&"row",n&&"error"]},Bue,t)},Vue=Et("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})(({ownerState:e})=>oe({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Wue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=n,s=It(n,Fue),a=zf(),d=lh({props:n,muiFormControl:a,states:["error"]}),h=oe({},n,{row:o,error:d.error}),g=Uue(h);return U.jsx(Vue,oe({className:jt(g.root,i),ownerState:h,ref:r},s))}),que=Wue;function Hue(e){return or("MuiFormHelperText",e)}const Gue=ar("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Z3=Gue;var X3;const Yue=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Kue=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:a,required:d}=e,h={root:["root",i&&"disabled",o&&"error",n&&`size${wt(n)}`,r&&"contained",a&&"focused",s&&"filled",d&&"required"]};return lr(h,Hue,t)},Zue=Et("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${wt(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Z3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Z3.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Xue=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=n,a=It(n,Yue),d=zf(),h=lh({props:n,muiFormControl:d,states:["variant","size","disabled","error","filled","focused","required"]}),g=oe({},n,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),v=Kue(g);return U.jsx(Zue,oe({as:s,ownerState:g,className:jt(v.root,o),ref:r},a,{children:i===" "?X3||(X3=U.jsx("span",{className:"notranslate",children:""})):i}))}),Jue=Xue;function Que(e){return or("MuiFormLabel",e)}const efe=ar("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Dv=efe,tfe=["children","className","color","component","disabled","error","filled","focused","required"],rfe=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:a}=e,d={root:["root",`color${wt(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return lr(d,Que,t)},nfe=Et("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Dv.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Dv.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Dv.error}`]:{color:(e.vars||e).palette.error.main}})),ife=Et("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Dv.error}`]:{color:(e.vars||e).palette.error.main}})),ofe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=n,a=It(n,tfe),d=zf(),h=lh({props:n,muiFormControl:d,states:["color","required","focused","disabled","error","filled"]}),g=oe({},n,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),v=rfe(g);return U.jsxs(nfe,oe({as:s,ownerState:g,className:jt(v.root,o),ref:r},a,{children:[i,h.required&&U.jsxs(ife,{ownerState:g,"aria-hidden":!0,className:v.asterisk,children:["","*"]})]}))}),afe=ofe,sfe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function _A(e){return`scale(${e}, ${e**2})`}const lfe={entering:{opacity:1,transform:_A(1)},entered:{opacity:1,transform:"none"}},DT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),QV=W.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:s,in:a,onEnter:d,onEntered:h,onEntering:g,onExit:v,onExited:b,onExiting:M,style:P,timeout:w="auto",TransitionComponent:A=JI}=t,O=It(t,sfe),I=W.useRef(),C=W.useRef(),R=Df(),z=W.useRef(null),L=si(z,o.ref,r),F=_e=>Me=>{if(_e){const Ae=z.current;Me===void 0?_e(Ae):_e(Ae,Me)}},H=F(g),re=F((_e,Me)=>{AV(_e);const{duration:Ae,delay:Ee,easing:Ie}=km({style:P,timeout:w,easing:s},{mode:"enter"});let He;w==="auto"?(He=R.transitions.getAutoHeightDuration(_e.clientHeight),C.current=He):He=Ae,_e.style.transition=[R.transitions.create("opacity",{duration:He,delay:Ee}),R.transitions.create("transform",{duration:DT?He:He*.666,delay:Ee,easing:Ie})].join(","),d&&d(_e,Me)}),te=F(h),ae=F(M),de=F(_e=>{const{duration:Me,delay:Ae,easing:Ee}=km({style:P,timeout:w,easing:s},{mode:"exit"});let Ie;w==="auto"?(Ie=R.transitions.getAutoHeightDuration(_e.clientHeight),C.current=Ie):Ie=Me,_e.style.transition=[R.transitions.create("opacity",{duration:Ie,delay:Ae}),R.transitions.create("transform",{duration:DT?Ie:Ie*.666,delay:DT?Ae:Ae||Ie*.333,easing:Ee})].join(","),_e.style.opacity=0,_e.style.transform=_A(.75),v&&v(_e)}),pe=F(b),Se=_e=>{w==="auto"&&(I.current=setTimeout(_e,C.current||0)),n&&n(z.current,_e)};return W.useEffect(()=>()=>{clearTimeout(I.current)},[]),U.jsx(A,oe({appear:i,in:a,nodeRef:z,onEnter:re,onEntered:te,onEntering:H,onExit:de,onExited:pe,onExiting:ae,addEndListener:Se,timeout:w==="auto"?null:w},O,{children:(_e,Me)=>W.cloneElement(o,oe({style:oe({opacity:0,transform:_A(.75),visibility:_e==="exited"&&!a?"hidden":void 0},lfe[_e],P,o.props.style),ref:L},Me))}))});QV.muiSupportAuto=!0;const tw=QV,cfe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ufe=e=>{const{classes:t,disableUnderline:r}=e,i=lr({root:["root",!r&&"underline"],input:["input"]},Wle,t);return oe({},t,i)},ffe=Et(E2,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...w2(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),oe({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${By.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${By.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${By.disabled}, .${By.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${By.disabled}:before`]:{borderBottomStyle:"dotted"}})}),dfe=Et(C2,{name:"MuiInput",slot:"Input",overridesResolver:S2})({}),eW=W.forwardRef(function(t,r){var n,i,o,s;const a=sr({props:t,name:"MuiInput"}),{disableUnderline:d,components:h={},componentsProps:g,fullWidth:v=!1,inputComponent:b="input",multiline:M=!1,slotProps:P,slots:w={},type:A="text"}=a,O=It(a,cfe),I=ufe(a),R={root:{ownerState:{disableUnderline:d}}},z=P??g?wa(P??g,R):R,L=(n=(i=w.root)!=null?i:h.Root)!=null?n:ffe,F=(o=(s=w.input)!=null?s:h.Input)!=null?o:dfe;return U.jsx(cR,oe({slots:{root:L,input:F},slotProps:z,fullWidth:v,inputComponent:b,multiline:M,ref:r,type:A},O,{classes:I}))});eW.muiName="Input";const tW=eW;function hfe(e){return or("MuiInputAdornment",e)}const pfe=ar("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),J3=pfe;var Q3;const mfe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],gfe=(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${wt(r.position)}`],r.disablePointerEvents===!0&&t.disablePointerEvents,t[r.variant]]},yfe=e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:n,position:i,size:o,variant:s}=e,a={root:["root",r&&"disablePointerEvents",i&&`position${wt(i)}`,s,n&&"hiddenLabel",o&&`size${wt(o)}`]};return lr(a,hfe,t)},vfe=Et("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:gfe})(({theme:e,ownerState:t})=>oe({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${J3.positionStart}&:not(.${J3.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),_fe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:d=!1,position:h,variant:g}=n,v=It(n,mfe),b=zf()||{};let M=g;g&&b.variant,b&&!M&&(M=b.variant);const P=oe({},n,{hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:a,position:h,variant:M}),w=yfe(P);return U.jsx(b2.Provider,{value:null,children:U.jsx(vfe,oe({as:s,ownerState:P,className:jt(w.root,o),ref:r},v,{children:typeof i=="string"&&!d?U.jsx(ln,{color:"text.secondary",children:i}):U.jsxs(W.Fragment,{children:[h==="start"?Q3||(Q3=U.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),xfe=_fe;function bfe(e){return or("MuiInputLabel",e)}ar("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wfe=["disableAnimation","margin","shrink","variant","className"],Sfe=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:a}=e,h=lr({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n==="small"&&"sizeSmall",s],asterisk:[a&&"asterisk"]},bfe,t);return oe({},t,h)},Efe=Et(afe,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Dv.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&oe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Cfe=W.forwardRef(function(t,r){const n=sr({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=n,a=It(n,wfe),d=zf();let h=o;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const g=lh({props:n,muiFormControl:d,states:["size","variant","required"]}),v=oe({},n,{disableAnimation:i,formControl:d,shrink:h,size:g.size,variant:g.variant,required:g.required}),b=Sfe(v);return U.jsx(Efe,oe({"data-shrink":h,ownerState:v,ref:r,className:jt(b.root,s)},a,{classes:b}))}),C0=Cfe;function Tfe(e){return or("MuiLink",e)}const kfe=ar("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Pfe=kfe,rW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Afe=e=>rW[e]||e,Mfe=({theme:e,ownerState:t})=>{const r=Afe(t.color),n=Tm(e,`palette.${r}`,!1)||t.color,i=Tm(e,`palette.${r}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:Ln(n,.4)},Ofe=Mfe,Ife=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Rfe=e=>{const{classes:t,component:r,focusVisible:n,underline:i}=e,o={root:["root",`underline${wt(i)}`,r==="button"&&"button",n&&"focusVisible"]};return lr(o,Tfe,t)},$fe=Et(ln,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${wt(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>oe({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&oe({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:Ofe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pfe.focusVisible}`]:{outline:"auto"}})),Dfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:d,TypographyClasses:h,underline:g="always",variant:v="inherit",sx:b}=n,M=It(n,Ife),{isFocusVisibleRef:P,onBlur:w,onFocus:A,ref:O}=GS(),[I,C]=W.useState(!1),R=si(r,O),z=re=>{w(re),P.current===!1&&C(!1),a&&a(re)},L=re=>{A(re),P.current===!0&&C(!0),d&&d(re)},F=oe({},n,{color:o,component:s,focusVisible:I,underline:g,variant:v}),H=Rfe(F);return U.jsx($fe,oe({color:o,className:jt(H.root,i),classes:h,component:s,onBlur:z,onFocus:L,ref:R,ownerState:F,variant:v,sx:[...Object.keys(rW).includes(o)?[]:[{color:o}],...Array.isArray(b)?b:[b]]},M))}),Lfe=Dfe,zfe=W.createContext({}),th=zfe;function Nfe(e){return or("MuiList",e)}ar("MuiList",["root","padding","dense","subheader"]);const jfe=["children","className","component","dense","disablePadding","subheader"],Bfe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return lr({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Nfe,t)},Ffe=Et("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>oe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Ufe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:d=!1,subheader:h}=n,g=It(n,jfe),v=W.useMemo(()=>({dense:a}),[a]),b=oe({},n,{component:s,dense:a,disablePadding:d}),M=Bfe(b);return U.jsx(th.Provider,{value:v,children:U.jsxs(Ffe,oe({as:s,className:jt(M.root,o),ref:r,ownerState:b},g,{children:[h,i]}))})}),Vfe=Ufe;function Wfe(e){return or("MuiListItemButton",e)}const qfe=ar("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Fy=qfe,Hfe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Gfe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},Yfe=e=>{const{alignItems:t,classes:r,dense:n,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=lr({root:["root",n&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Wfe,r);return oe({},r,h)},Kfe=Et(x_,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Gfe})(({theme:e,ownerState:t})=>oe({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Fy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Fy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Fy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Fy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Zfe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:d=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:v,selected:b=!1,className:M}=n,P=It(n,Hfe),w=W.useContext(th),A=W.useMemo(()=>({dense:d||w.dense||!1,alignItems:i,disableGutters:h}),[i,w.dense,d,h]),O=W.useRef(null);dl(()=>{o&&O.current&&O.current.focus()},[o]);const I=oe({},n,{alignItems:i,dense:A.dense,disableGutters:h,divider:g,selected:b}),C=Yfe(I),R=si(O,r);return U.jsx(th.Provider,{value:A,children:U.jsx(Kfe,oe({ref:R,href:P.href||P.to,component:(P.href||P.to)&&s==="div"?"button":s,focusVisibleClassName:jt(C.focusVisible,v),ownerState:I,className:jt(C.root,M)},P,{classes:C,children:a}))})}),Xfe=Zfe;function Jfe(e){return or("MuiListItemAvatar",e)}ar("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Qfe=["className"],ede=e=>{const{alignItems:t,classes:r}=e;return lr({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Jfe,r)},tde=Et("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>oe({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),rde=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiListItemAvatar"}),{className:i}=n,o=It(n,Qfe),s=W.useContext(th),a=oe({},n,{alignItems:s.alignItems}),d=ede(a);return U.jsx(tde,oe({className:jt(d.root,i),ownerState:a,ref:r},o))}),nde=rde,ide=ar("MuiListItemIcon",["root","alignItemsFlexStart"]),e5=ide;function ode(e){return or("MuiListItemText",e)}const ade=ar("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),rw=ade,sde=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],lde=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:o}=e;return lr({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},ode,t)},cde=Et("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${rw.primary}`]:t.primary},{[`& .${rw.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>oe({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),ude=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:d,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:v}=n,b=It(n,sde),{dense:M}=W.useContext(th);let P=d??i,w=g;const A=oe({},n,{disableTypography:s,inset:a,primary:!!P,secondary:!!w,dense:M}),O=lde(A);return P!=null&&P.type!==ln&&!s&&(P=U.jsx(ln,oe({variant:M?"body2":"body1",className:O.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:P}))),w!=null&&w.type!==ln&&!s&&(w=U.jsx(ln,oe({variant:"body2",className:O.secondary,color:"text.secondary",display:"block"},v,{children:w}))),U.jsxs(cde,oe({className:jt(O.root,o),ownerState:A,ref:r},b,{children:[P,w]}))}),fde=ude,dde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function LT(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function t5(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function nW(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function Uy(e,t,r,n,i,o){let s=!1,a=i(e,t,t?r:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const d=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!nW(a,o)||d)a=i(e,a,r);else return a.focus(),!0}return!1}const hde=W.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:g,variant:v="selectedMenu"}=t,b=It(t,dde),M=W.useRef(null),P=W.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});dl(()=>{i&&M.current.focus()},[i]),W.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(C,R)=>{const z=!M.current.style.width;if(C.clientHeight<M.current.clientHeight&&z){const L=`${J8(Ni(C))}px`;M.current.style[R.direction==="rtl"?"paddingLeft":"paddingRight"]=L,M.current.style.width=`calc(100% + ${L})`}return M.current}}),[]);const w=C=>{const R=M.current,z=C.key,L=Ni(R).activeElement;if(z==="ArrowDown")C.preventDefault(),Uy(R,L,h,d,LT);else if(z==="ArrowUp")C.preventDefault(),Uy(R,L,h,d,t5);else if(z==="Home")C.preventDefault(),Uy(R,null,h,d,LT);else if(z==="End")C.preventDefault(),Uy(R,null,h,d,t5);else if(z.length===1){const F=P.current,H=z.toLowerCase(),re=performance.now();F.keys.length>0&&(re-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&H!==F.keys[0]&&(F.repeating=!1)),F.lastTime=re,F.keys.push(H);const te=L&&!F.repeating&&nW(L,F);F.previousKeyMatched&&(te||Uy(R,L,!1,d,LT,F))?C.preventDefault():F.previousKeyMatched=!1}g&&g(C)},A=si(M,r);let O=-1;W.Children.forEach(s,(C,R)=>{if(!W.isValidElement(C)){O===R&&(O+=1,O>=s.length&&(O=-1));return}C.props.disabled||(v==="selectedMenu"&&C.props.selected||O===-1)&&(O=R),O===R&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(O+=1,O>=s.length&&(O=-1))});const I=W.Children.map(s,(C,R)=>{if(R===O){const z={};return o&&(z.autoFocus=!0),C.props.tabIndex===void 0&&v==="selectedMenu"&&(z.tabIndex=0),W.cloneElement(C,z)}return C});return U.jsx(Vfe,oe({role:"menu",ref:A,className:a,onKeyDown:w,tabIndex:i?0:-1},b,{children:I}))}),pde=hde;function mde(e){return or("MuiPopover",e)}ar("MuiPopover",["root","paper"]);const gde=["onEntering"],yde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],vde=["slotProps"];function r5(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function n5(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function i5(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function zT(e){return typeof e=="function"?e():e}const _de=e=>{const{classes:t}=e;return lr({root:["root"],paper:["paper"]},mde,t)},xde=Et(Eue,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),iW=Et(eu,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),bde=W.forwardRef(function(t,r){var n,i,o;const s=sr({props:t,name:"MuiPopover"}),{action:a,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:v="anchorEl",children:b,className:M,container:P,elevation:w=8,marginThreshold:A=16,open:O,PaperProps:I={},slots:C,slotProps:R,transformOrigin:z={vertical:"top",horizontal:"left"},TransitionComponent:L=tw,transitionDuration:F="auto",TransitionProps:{onEntering:H}={}}=s,re=It(s.TransitionProps,gde),te=It(s,yde),ae=(n=R==null?void 0:R.paper)!=null?n:I,de=W.useRef(),pe=si(de,ae.ref),Se=oe({},s,{anchorOrigin:h,anchorReference:v,elevation:w,marginThreshold:A,externalPaperSlotProps:ae,transformOrigin:z,TransitionComponent:L,transitionDuration:F,TransitionProps:re}),_e=_de(Se),Me=W.useCallback(()=>{if(v==="anchorPosition")return g;const Be=zT(d),St=(Be&&Be.nodeType===1?Be:Ni(de.current).body).getBoundingClientRect();return{top:St.top+r5(St,h.vertical),left:St.left+n5(St,h.horizontal)}},[d,h.horizontal,h.vertical,g,v]),Ae=W.useCallback(Be=>({vertical:r5(Be,z.vertical),horizontal:n5(Be,z.horizontal)}),[z.horizontal,z.vertical]),Ee=W.useCallback(Be=>{const Pe={width:Be.offsetWidth,height:Be.offsetHeight},St=Ae(Pe);if(v==="none")return{top:null,left:null,transformOrigin:i5(St)};const Zt=Me();let Ot=Zt.top-St.vertical,Nt=Zt.left-St.horizontal;const Mr=Ot+Pe.height,Vr=Nt+Pe.width,pr=Tf(zT(d)),Sr=pr.innerHeight-A,cr=pr.innerWidth-A;if(Ot<A){const Er=Ot-A;Ot-=Er,St.vertical+=Er}else if(Mr>Sr){const Er=Mr-Sr;Ot-=Er,St.vertical+=Er}if(Nt<A){const Er=Nt-A;Nt-=Er,St.horizontal+=Er}else if(Vr>cr){const Er=Vr-cr;Nt-=Er,St.horizontal+=Er}return{top:`${Math.round(Ot)}px`,left:`${Math.round(Nt)}px`,transformOrigin:i5(St)}},[d,v,Me,Ae,A]),[Ie,He]=W.useState(O),tt=W.useCallback(()=>{const Be=de.current;if(!Be)return;const Pe=Ee(Be);Pe.top!==null&&(Be.style.top=Pe.top),Pe.left!==null&&(Be.style.left=Pe.left),Be.style.transformOrigin=Pe.transformOrigin,He(!0)},[Ee]),Te=(Be,Pe)=>{H&&H(Be,Pe),tt()},Ne=()=>{He(!1)};W.useEffect(()=>{O&&tt()}),W.useImperativeHandle(a,()=>O?{updatePosition:()=>{tt()}}:null,[O,tt]),W.useEffect(()=>{if(!O)return;const Be=MI(()=>{tt()}),Pe=Tf(d);return Pe.addEventListener("resize",Be),()=>{Be.clear(),Pe.removeEventListener("resize",Be)}},[d,O,tt]);let De=F;F==="auto"&&!L.muiSupportAuto&&(De=void 0);const Ye=P||(d?Ni(zT(d)).body:void 0),je=(i=C==null?void 0:C.root)!=null?i:xde,st=(o=C==null?void 0:C.paper)!=null?o:iW,nt=Jl({elementType:st,externalSlotProps:oe({},ae,{style:Ie?ae.style:oe({},ae.style,{opacity:0})}),additionalProps:{elevation:w,ref:pe},ownerState:Se,className:jt(_e.paper,ae==null?void 0:ae.className)}),Ue=Jl({elementType:je,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:te,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Ye,open:O},ownerState:Se,className:jt(_e.root,M)}),{slotProps:Xe}=Ue,ct=It(Ue,vde);return U.jsx(je,oe({},ct,!b0(je)&&{slotProps:Xe},{children:U.jsx(L,oe({appear:!0,in:O,onEntering:Te,onExited:Ne,timeout:De},re,{children:U.jsx(st,oe({},nt,{children:b}))}))}))}),wde=bde;function Sde(e){return or("MuiMenu",e)}ar("MuiMenu",["root","paper","list"]);const Ede=["onEntering"],Cde=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Tde={vertical:"top",horizontal:"right"},kde={vertical:"top",horizontal:"left"},Pde=e=>{const{classes:t}=e;return lr({root:["root"],paper:["paper"],list:["list"]},Sde,t)},Ade=Et(wde,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mde=Et(iW,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ode=Et(pde,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Ide=W.forwardRef(function(t,r){var n,i;const o=sr({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:d,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:v,open:b,PaperProps:M={},PopoverClasses:P,transitionDuration:w="auto",TransitionProps:{onEntering:A}={},variant:O="selectedMenu",slots:I={},slotProps:C={}}=o,R=It(o.TransitionProps,Ede),z=It(o,Cde),L=Df(),F=L.direction==="rtl",H=oe({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:A,PaperProps:M,transitionDuration:w,TransitionProps:R,variant:O}),re=Pde(H),te=s&&!h&&b,ae=W.useRef(null),de=(Ie,He)=>{ae.current&&ae.current.adjustStyleForScrollbar(Ie,L),A&&A(Ie,He)},pe=Ie=>{Ie.key==="Tab"&&(Ie.preventDefault(),v&&v(Ie,"tabKeyDown"))};let Se=-1;W.Children.map(a,(Ie,He)=>{W.isValidElement(Ie)&&(Ie.props.disabled||(O==="selectedMenu"&&Ie.props.selected||Se===-1)&&(Se=He))});const _e=(n=I.paper)!=null?n:Mde,Me=(i=C.paper)!=null?i:M,Ae=Jl({elementType:I.root,externalSlotProps:C.root,ownerState:H,className:[re.root,d]}),Ee=Jl({elementType:_e,externalSlotProps:Me,ownerState:H,className:re.paper});return U.jsx(Ade,oe({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?Tde:kde,slots:{paper:_e,root:I.root},slotProps:{root:Ae,paper:Ee},open:b,ref:r,transitionDuration:w,TransitionProps:oe({onEntering:de},R),ownerState:H},z,{classes:P,children:U.jsx(Ode,oe({onKeyDown:pe,actions:ae,autoFocus:s&&(Se===-1||h),autoFocusItem:te,variant:O},g,{className:jt(re.list,g.className),children:a}))}))}),oW=Ide;function Rde(e){return or("MuiMenuItem",e)}const $de=ar("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Vy=$de,Dde=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Lde=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},zde=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:o,classes:s}=e,d=lr({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},Rde,s);return oe({},s,d)},Nde=Et(x_,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Lde})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Vy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Vy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Vy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Vy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Vy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${K3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${K3.inset}`]:{marginLeft:52},[`& .${rw.root}`]:{marginTop:0,marginBottom:0},[`& .${rw.inset}`]:{paddingLeft:36},[`& .${e5.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&oe({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${e5.root} svg`]:{fontSize:"1.25rem"}}))),jde=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:d=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:v,className:b}=n,M=It(n,Dde),P=W.useContext(th),w=W.useMemo(()=>({dense:s||P.dense||!1,disableGutters:d}),[P.dense,s,d]),A=W.useRef(null);dl(()=>{i&&A.current&&A.current.focus()},[i]);const O=oe({},n,{dense:w.dense,divider:a,disableGutters:d}),I=zde(n),C=si(A,r);let R;return n.disabled||(R=v!==void 0?v:-1),U.jsx(th.Provider,{value:w,children:U.jsx(Nde,oe({ref:C,role:g,tabIndex:R,component:o,focusVisibleClassName:jt(I.focusVisible,h),className:jt(I.root,b)},M,{ownerState:O,classes:I}))})}),ha=jde;function Bde(e){return or("MuiNativeSelect",e)}const Fde=ar("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),uR=Fde,Ude=["className","disabled","error","IconComponent","inputRef","variant"],Vde=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e,a={select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${wt(r)}`,o&&"iconOpen",n&&"disabled"]};return lr(a,Bde,t)},aW=({ownerState:e,theme:t})=>oe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":oe({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${uR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Wde=Et("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ml,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${uR.multiple}`]:t.multiple}]}})(aW),sW=({ownerState:e,theme:t})=>oe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${uR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),qde=Et("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${wt(r.variant)}`],r.open&&t.iconOpen]}})(sW),Hde=W.forwardRef(function(t,r){const{className:n,disabled:i,error:o,IconComponent:s,inputRef:a,variant:d="standard"}=t,h=It(t,Ude),g=oe({},t,{disabled:i,variant:d,error:o}),v=Vde(g);return U.jsxs(W.Fragment,{children:[U.jsx(Wde,oe({ownerState:g,className:jt(v.select,n),disabled:i,ref:a||r},h)),t.multiple?null:U.jsx(qde,{as:s,ownerState:g,className:v.icon})]})}),Gde=Hde;var o5;const Yde=["children","classes","className","label","notched"],Kde=Et("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Zde=Et("legend")(({ownerState:e,theme:t})=>oe({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&oe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Xde(e){const{className:t,label:r,notched:n}=e,i=It(e,Yde),o=r!=null&&r!=="",s=oe({},e,{notched:n,withLabel:o});return U.jsx(Kde,oe({"aria-hidden":!0,className:t,ownerState:s},i,{children:U.jsx(Zde,{ownerState:s,children:o?U.jsx("span",{children:r}):o5||(o5=U.jsx("span",{className:"notranslate",children:""}))})}))}const Jde=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Qde=e=>{const{classes:t}=e,n=lr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Hle,t);return oe({},t,n)},ehe=Et(E2,{shouldForwardProp:e=>ml(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:w2})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return oe({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Du.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Du.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Du.focused} .${Du.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Du.error} .${Du.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Du.disabled} .${Du.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&oe({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),the=Et(Xde,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),rhe=Et(C2,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:S2})(({theme:e,ownerState:t})=>oe({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),lW=W.forwardRef(function(t,r){var n,i,o,s,a;const d=sr({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:v="input",label:b,multiline:M=!1,notched:P,slots:w={},type:A="text"}=d,O=It(d,Jde),I=Qde(d),C=zf(),R=lh({props:d,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),z=oe({},d,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:C,fullWidth:g,hiddenLabel:R.hiddenLabel,multiline:M,size:R.size,type:A}),L=(n=(i=w.root)!=null?i:h.Root)!=null?n:ehe,F=(o=(s=w.input)!=null?s:h.Input)!=null?o:rhe;return U.jsx(cR,oe({slots:{root:L,input:F},renderSuffix:H=>U.jsx(the,{ownerState:z,className:I.notchedOutline,label:b!=null&&b!==""&&R.required?a||(a=U.jsxs(W.Fragment,{children:[b,"","*"]})):b,notched:typeof P<"u"?P:!!(H.startAdornment||H.filled||H.focused)}),fullWidth:g,inputComponent:v,multiline:M,ref:r,type:A},O,{classes:oe({},I,{notchedOutline:null})}))});lW.muiName="Input";const fR=lW;function nhe(e){return or("MuiSelect",e)}const ihe=ar("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Wy=ihe;var a5;const ohe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ahe=Et("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Wy.select}`]:t.select},{[`&.${Wy.select}`]:t[r.variant]},{[`&.${Wy.error}`]:t.error},{[`&.${Wy.multiple}`]:t.multiple}]}})(aW,{[`&.${Wy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),she=Et("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${wt(r.variant)}`],r.open&&t.iconOpen]}})(sW),lhe=Et("input",{shouldForwardProp:e=>ooe(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function s5(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function che(e){return e==null||typeof e=="string"&&!e.trim()}const uhe=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e,a={select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${wt(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return lr(a,nhe,t)},fhe=W.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:d,defaultOpen:h,defaultValue:g,disabled:v,displayEmpty:b,error:M=!1,IconComponent:P,inputRef:w,labelId:A,MenuProps:O={},multiple:I,name:C,onBlur:R,onChange:z,onClose:L,onFocus:F,onOpen:H,open:re,readOnly:te,renderValue:ae,SelectDisplayProps:de={},tabIndex:pe,value:Se,variant:_e="standard"}=t,Me=It(t,ohe),[Ae,Ee]=h0({controlled:Se,default:g,name:"Select"}),[Ie,He]=h0({controlled:re,default:h,name:"Select"}),tt=W.useRef(null),Te=W.useRef(null),[Ne,De]=W.useState(null),{current:Ye}=W.useRef(re!=null),[je,st]=W.useState(),nt=si(r,w),Ue=W.useCallback(Ke=>{Te.current=Ke,Ke&&De(Ke)},[]),Xe=Ne==null?void 0:Ne.parentNode;W.useImperativeHandle(nt,()=>({focus:()=>{Te.current.focus()},node:tt.current,value:Ae}),[Ae]),W.useEffect(()=>{h&&Ie&&Ne&&!Ye&&(st(s?null:Xe.clientWidth),Te.current.focus())},[Ne,s]),W.useEffect(()=>{o&&Te.current.focus()},[o]),W.useEffect(()=>{if(!A)return;const Ke=Ni(Te.current).getElementById(A);if(Ke){const At=()=>{getSelection().isCollapsed&&Te.current.focus()};return Ke.addEventListener("click",At),()=>{Ke.removeEventListener("click",At)}}},[A]);const ct=(Ke,At)=>{Ke?H&&H(At):L&&L(At),Ye||(st(s?null:Xe.clientWidth),He(Ke))},Be=Ke=>{Ke.button===0&&(Ke.preventDefault(),Te.current.focus(),ct(!0,Ke))},Pe=Ke=>{ct(!1,Ke)},St=W.Children.toArray(a),Zt=Ke=>{const At=St.find($t=>$t.props.value===Ke.target.value);At!==void 0&&(Ee(At.props.value),z&&z(Ke,At))},Ot=Ke=>At=>{let $t;if(At.currentTarget.hasAttribute("tabindex")){if(I){$t=Array.isArray(Ae)?Ae.slice():[];const Jr=Ae.indexOf(Ke.props.value);Jr===-1?$t.push(Ke.props.value):$t.splice(Jr,1)}else $t=Ke.props.value;if(Ke.props.onClick&&Ke.props.onClick(At),Ae!==$t&&(Ee($t),z)){const Jr=At.nativeEvent||At,eo=new Jr.constructor(Jr.type,Jr);Object.defineProperty(eo,"target",{writable:!0,value:{value:$t,name:C}}),z(eo,Ke)}I||ct(!1,At)}},Nt=Ke=>{te||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ke.key)!==-1&&(Ke.preventDefault(),ct(!0,Ke))},Mr=Ne!==null&&Ie,Vr=Ke=>{!Mr&&R&&(Object.defineProperty(Ke,"target",{writable:!0,value:{value:Ae,name:C}}),R(Ke))};delete Me["aria-invalid"];let pr,Sr;const cr=[];let Er=!1;(ew({value:Ae})||b)&&(ae?pr=ae(Ae):Er=!0);const an=St.map(Ke=>{if(!W.isValidElement(Ke))return null;let At;if(I){if(!Array.isArray(Ae))throw new Error(Cf(2));At=Ae.some($t=>s5($t,Ke.props.value)),At&&Er&&cr.push(Ke.props.children)}else At=s5(Ae,Ke.props.value),At&&Er&&(Sr=Ke.props.children);return W.cloneElement(Ke,{"aria-selected":At?"true":"false",onClick:Ot(Ke),onKeyUp:$t=>{$t.key===" "&&$t.preventDefault(),Ke.props.onKeyUp&&Ke.props.onKeyUp($t)},role:"option",selected:At,value:void 0,"data-value":Ke.props.value})});Er&&(I?cr.length===0?pr=null:pr=cr.reduce((Ke,At,$t)=>(Ke.push(At),$t<cr.length-1&&Ke.push(", "),Ke),[]):pr=Sr);let ut=je;!s&&Ye&&Ne&&(ut=Xe.clientWidth);let Or;typeof pe<"u"?Or=pe:Or=v?null:0;const Xr=de.id||(C?`mui-component-select-${C}`:void 0),mr=oe({},t,{variant:_e,value:Ae,open:Mr,error:M}),Jt=uhe(mr);return U.jsxs(W.Fragment,{children:[U.jsx(ahe,oe({ref:Ue,tabIndex:Or,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":Mr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[A,Xr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:Nt,onMouseDown:v||te?null:Be,onBlur:Vr,onFocus:F},de,{ownerState:mr,className:jt(de.className,Jt.select,d),id:Xr,children:che(pr)?a5||(a5=U.jsx("span",{className:"notranslate",children:""})):pr})),U.jsx(lhe,oe({"aria-invalid":M,value:Array.isArray(Ae)?Ae.join(","):Ae,name:C,ref:tt,"aria-hidden":!0,onChange:Zt,tabIndex:-1,disabled:v,className:Jt.nativeInput,autoFocus:o,ownerState:mr},Me)),U.jsx(she,{as:P,className:Jt.icon,ownerState:mr}),U.jsx(oW,oe({id:`menu-${C||""}`,anchorEl:Xe,open:Mr,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},O,{MenuListProps:oe({"aria-labelledby":A,role:"listbox",disableListWrap:!0},O.MenuListProps),PaperProps:oe({},O.PaperProps,{style:oe({minWidth:ut},O.PaperProps!=null?O.PaperProps.style:null)}),children:an}))]})}),dhe=fhe,hhe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],phe=e=>{const{classes:t}=e;return t},dR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ml(e)&&e!=="variant",slot:"Root"},mhe=Et(tW,dR)(""),ghe=Et(fR,dR)(""),yhe=Et(JV,dR)(""),cW=W.forwardRef(function(t,r){const n=sr({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:g=Zle,id:v,input:b,inputProps:M,label:P,labelId:w,MenuProps:A,multiple:O=!1,native:I=!1,onClose:C,onOpen:R,open:z,renderValue:L,SelectDisplayProps:F,variant:H="outlined"}=n,re=It(n,hhe),te=I?Gde:dhe,ae=zf(),de=lh({props:n,muiFormControl:ae,states:["variant","error"]}),pe=de.variant||H,Se=oe({},n,{variant:pe,classes:s}),_e=phe(Se),Me=b||{standard:U.jsx(mhe,{ownerState:Se}),outlined:U.jsx(ghe,{label:P,ownerState:Se}),filled:U.jsx(yhe,{ownerState:Se})}[pe],Ae=si(r,Me.ref);return U.jsx(W.Fragment,{children:W.cloneElement(Me,oe({inputComponent:te,inputProps:oe({children:o,error:de.error,IconComponent:g,variant:pe,type:void 0,multiple:O},I?{id:v}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:w,MenuProps:A,onClose:C,onOpen:R,open:z,renderValue:L,SelectDisplayProps:oe({id:v},F)},M,{classes:M?wa(_e,M.classes):_e},b?b.props.inputProps:{})},O&&I&&pe==="outlined"?{notched:!0}:{},{ref:Ae,className:jt(Me.props.className,a)},!b&&{variant:pe},re))})});cW.muiName="Select";const T0=cW;function vhe(e){return or("MuiSnackbarContent",e)}ar("MuiSnackbarContent",["root","message","action"]);const _he=["action","className","message","role"],xhe=e=>{const{classes:t}=e;return lr({root:["root"],action:["action"],message:["message"]},vhe,t)},bhe=Et(eu,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=wie(e.palette.background.default,t);return oe({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),whe=Et("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),She=Et("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Ehe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=n,d=It(n,_he),h=n,g=xhe(h);return U.jsxs(bhe,oe({role:a,square:!0,elevation:6,className:jt(g.root,o),ownerState:h,ref:r},d,{children:[U.jsx(whe,{className:g.message,ownerState:h,children:s}),i?U.jsx(She,{className:g.action,ownerState:h,children:i}):null]}))}),Che=Ehe;function The(e){return or("MuiSnackbar",e)}ar("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const khe=["onEnter","onExited"],Phe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ahe=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${wt(r.vertical)}${wt(r.horizontal)}`]};return lr(n,The,t)},l5=Et("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${wt(r.anchorOrigin.vertical)}${wt(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return oe({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:oe({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Mhe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiSnackbar"}),i=Df(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:d}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:v,ClickAwayListenerProps:b,ContentProps:M,disableWindowBlurListener:P=!1,message:w,open:A,TransitionComponent:O=tw,transitionDuration:I=o,TransitionProps:{onEnter:C,onExited:R}={}}=n,z=It(n.TransitionProps,khe),L=It(n,Phe),F=oe({},n,{anchorOrigin:{vertical:a,horizontal:d},autoHideDuration:h,disableWindowBlurListener:P,TransitionComponent:O,transitionDuration:I}),H=Ahe(F),{getRootProps:re,onClickAway:te}=Ale(oe({},F)),[ae,de]=W.useState(!0),pe=Jl({elementType:l5,getSlotProps:re,externalForwardedProps:L,ownerState:F,additionalProps:{ref:r},className:[H.root,v]}),Se=Me=>{de(!0),R&&R(Me)},_e=(Me,Ae)=>{de(!1),C&&C(Me,Ae)};return!A&&ae?null:U.jsx(Hae,oe({onClickAway:te},b,{children:U.jsx(l5,oe({},pe,{children:U.jsx(O,oe({appear:!0,in:A,timeout:I,direction:a==="top"?"down":"up",onEnter:_e,onExited:Se},z,{children:g||U.jsx(Che,oe({message:w,action:s},M))}))}))}))}),Ohe=Mhe;function Ihe(e){return or("MuiTooltip",e)}const Rhe=ar("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Qu=Rhe,$he=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Dhe(e){return Math.round(e*1e5)/1e5}const Lhe=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:i,placement:o}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${wt(o.split("-")[0])}`],arrow:["arrow"]};return lr(s,Ihe,t)},zhe=Et(WV,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>oe({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Qu.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Qu.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Qu.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Qu.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Nhe=Et("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${wt(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>oe({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ln(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Dhe(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Qu.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Qu.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Qu.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Qu.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),jhe=Et("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ln(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let _b=!1,NT=null,qy={x:0,y:0};function xb(e,t){return r=>{t&&t(r),e(r)}}const Bhe=W.forwardRef(function(t,r){var n,i,o,s,a,d,h,g,v,b,M,P,w,A,O,I,C,R,z;const L=sr({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:H,components:re={},componentsProps:te={},describeChild:ae=!1,disableFocusListener:de=!1,disableHoverListener:pe=!1,disableInteractive:Se=!1,disableTouchListener:_e=!1,enterDelay:Me=100,enterNextDelay:Ae=0,enterTouchDelay:Ee=700,followCursor:Ie=!1,id:He,leaveDelay:tt=0,leaveTouchDelay:Te=1500,onClose:Ne,onOpen:De,open:Ye,placement:je="bottom",PopperComponent:st,PopperProps:nt={},slotProps:Ue={},slots:Xe={},title:ct,TransitionComponent:Be=tw,TransitionProps:Pe}=L,St=It(L,$he),Zt=W.isValidElement(H)?H:U.jsx("span",{children:H}),Ot=Df(),Nt=Ot.direction==="rtl",[Mr,Vr]=W.useState(),[pr,Sr]=W.useState(null),cr=W.useRef(!1),Er=Se||Ie,an=W.useRef(),ut=W.useRef(),Or=W.useRef(),Xr=W.useRef(),[mr,Jt]=h0({controlled:Ye,default:!1,name:"Tooltip",state:"open"});let Ke=mr;const At=OI(He),$t=W.useRef(),Jr=W.useCallback(()=>{$t.current!==void 0&&(document.body.style.WebkitUserSelect=$t.current,$t.current=void 0),clearTimeout(Xr.current)},[]);W.useEffect(()=>()=>{clearTimeout(an.current),clearTimeout(ut.current),clearTimeout(Or.current),Jr()},[Jr]);const eo=mt=>{clearTimeout(NT),_b=!0,Jt(!0),De&&!Ke&&De(mt)},Xt=sl(mt=>{clearTimeout(NT),NT=setTimeout(()=>{_b=!1},800+tt),Jt(!1),Ne&&Ke&&Ne(mt),clearTimeout(an.current),an.current=setTimeout(()=>{cr.current=!1},Ot.transitions.duration.shortest)}),po=mt=>{cr.current&&mt.type!=="touchstart"||(Mr&&Mr.removeAttribute("title"),clearTimeout(ut.current),clearTimeout(Or.current),Me||_b&&Ae?ut.current=setTimeout(()=>{eo(mt)},_b?Ae:Me):eo(mt))},No=mt=>{clearTimeout(ut.current),clearTimeout(Or.current),Or.current=setTimeout(()=>{Xt(mt)},tt)},{isFocusVisibleRef:Ta,onBlur:mo,onFocus:ts,ref:mi}=GS(),[,Wr]=W.useState(!1),_l=mt=>{mo(mt),Ta.current===!1&&(Wr(!1),No(mt))},jo=mt=>{Mr||Vr(mt.currentTarget),ts(mt),Ta.current===!0&&(Wr(!0),po(mt))},he=mt=>{cr.current=!0;const $r=Zt.props;$r.onTouchStart&&$r.onTouchStart(mt)},X=po,Q=No,se=mt=>{he(mt),clearTimeout(Or.current),clearTimeout(an.current),Jr(),$t.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Xr.current=setTimeout(()=>{document.body.style.WebkitUserSelect=$t.current,po(mt)},Ee)},ge=mt=>{Zt.props.onTouchEnd&&Zt.props.onTouchEnd(mt),Jr(),clearTimeout(Or.current),Or.current=setTimeout(()=>{Xt(mt)},Te)};W.useEffect(()=>{if(!Ke)return;function mt($r){($r.key==="Escape"||$r.key==="Esc")&&Xt($r)}return document.addEventListener("keydown",mt),()=>{document.removeEventListener("keydown",mt)}},[Xt,Ke]);const be=si(Zt.ref,mi,Vr,r);!ct&&ct!==0&&(Ke=!1);const Re=W.useRef(),Ce=mt=>{const $r=Zt.props;$r.onMouseMove&&$r.onMouseMove(mt),qy={x:mt.clientX,y:mt.clientY},Re.current&&Re.current.update()},we={},ze=typeof ct=="string";ae?(we.title=!Ke&&ze&&!pe?ct:null,we["aria-describedby"]=Ke?At:null):(we["aria-label"]=ze?ct:null,we["aria-labelledby"]=Ke&&!ze?At:null);const Je=oe({},we,St,Zt.props,{className:jt(St.className,Zt.props.className),onTouchStart:he,ref:be},Ie?{onMouseMove:Ce}:{}),Qe={};_e||(Je.onTouchStart=se,Je.onTouchEnd=ge),pe||(Je.onMouseOver=xb(X,Je.onMouseOver),Je.onMouseLeave=xb(Q,Je.onMouseLeave),Er||(Qe.onMouseOver=X,Qe.onMouseLeave=Q)),de||(Je.onFocus=xb(jo,Je.onFocus),Je.onBlur=xb(_l,Je.onBlur),Er||(Qe.onFocus=jo,Qe.onBlur=_l));const it=W.useMemo(()=>{var mt;let $r=[{name:"arrow",enabled:!!pr,options:{element:pr,padding:4}}];return(mt=nt.popperOptions)!=null&&mt.modifiers&&($r=$r.concat(nt.popperOptions.modifiers)),oe({},nt.popperOptions,{modifiers:$r})},[pr,nt]),Vt=oe({},L,{isRtl:Nt,arrow:F,disableInteractive:Er,placement:je,PopperComponentProp:st,touch:cr.current}),nr=Lhe(Vt),Lt=(n=(i=Xe.popper)!=null?i:re.Popper)!=null?n:zhe,Wt=(o=(s=(a=Xe.transition)!=null?a:re.Transition)!=null?s:Be)!=null?o:tw,rr=(d=(h=Xe.tooltip)!=null?h:re.Tooltip)!=null?d:Nhe,Pr=(g=(v=Xe.arrow)!=null?v:re.Arrow)!=null?g:jhe,Br=pv(Lt,oe({},nt,(b=Ue.popper)!=null?b:te.popper,{className:jt(nr.popper,nt==null?void 0:nt.className,(M=(P=Ue.popper)!=null?P:te.popper)==null?void 0:M.className)}),Vt),gr=pv(Wt,oe({},Pe,(w=Ue.transition)!=null?w:te.transition),Vt),Ar=pv(rr,oe({},(A=Ue.tooltip)!=null?A:te.tooltip,{className:jt(nr.tooltip,(O=(I=Ue.tooltip)!=null?I:te.tooltip)==null?void 0:O.className)}),Vt),Bi=pv(Pr,oe({},(C=Ue.arrow)!=null?C:te.arrow,{className:jt(nr.arrow,(R=(z=Ue.arrow)!=null?z:te.arrow)==null?void 0:R.className)}),Vt);return U.jsxs(W.Fragment,{children:[W.cloneElement(Zt,Je),U.jsx(Lt,oe({as:st??WV,placement:je,anchorEl:Ie?{getBoundingClientRect:()=>({top:qy.y,left:qy.x,right:qy.x,bottom:qy.y,width:0,height:0})}:Mr,popperRef:Re,open:Mr?Ke:!1,id:At,transition:!0},Qe,Br,{popperOptions:it,children:({TransitionProps:mt})=>U.jsx(Wt,oe({timeout:Ot.transitions.duration.shorter},mt,gr,{children:U.jsxs(rr,oe({},Ar,{children:[ct,F?U.jsx(Pr,oe({},Bi,{ref:Sr})):null]}))}))}))]})}),Ep=Bhe,Fhe=W.createContext(),uW=Fhe;function Uhe(e){return or("MuiTable",e)}ar("MuiTable",["root","stickyHeader"]);const Vhe=["className","component","padding","size","stickyHeader"],Whe=e=>{const{classes:t,stickyHeader:r}=e;return lr({root:["root",r&&"stickyHeader"]},Uhe,t)},qhe=Et("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>oe({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":oe({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),c5="table",Hhe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTable"}),{className:i,component:o=c5,padding:s="normal",size:a="medium",stickyHeader:d=!1}=n,h=It(n,Vhe),g=oe({},n,{component:o,padding:s,size:a,stickyHeader:d}),v=Whe(g),b=W.useMemo(()=>({padding:s,size:a,stickyHeader:d}),[s,a,d]);return U.jsx(uW.Provider,{value:b,children:U.jsx(qhe,oe({as:o,role:o===c5?null:"table",ref:r,className:jt(v.root,i),ownerState:g},h))})}),fW=Hhe,Ghe=W.createContext(),T2=Ghe;function Yhe(e){return or("MuiTableBody",e)}ar("MuiTableBody",["root"]);const Khe=["className","component"],Zhe=e=>{const{classes:t}=e;return lr({root:["root"]},Yhe,t)},Xhe=Et("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Jhe={variant:"body"},u5="tbody",Qhe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableBody"}),{className:i,component:o=u5}=n,s=It(n,Khe),a=oe({},n,{component:o}),d=Zhe(a);return U.jsx(T2.Provider,{value:Jhe,children:U.jsx(Xhe,oe({className:jt(d.root,i),as:o,ref:r,role:o===u5?null:"rowgroup",ownerState:a},s))})}),dW=Qhe;function epe(e){return or("MuiTableCell",e)}const tpe=ar("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),rpe=tpe,npe=["align","className","component","padding","scope","size","sortDirection","variant"],ipe=e=>{const{classes:t,variant:r,align:n,padding:i,size:o,stickyHeader:s}=e,a={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${wt(n)}`,i!=="normal"&&`padding${wt(i)}`,`size${wt(o)}`]};return lr(a,epe,t)},ope=Et("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${wt(r.size)}`],r.padding!=="normal"&&t[`padding${wt(r.padding)}`],r.align!=="inherit"&&t[`align${wt(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>oe({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?HI(Ln(e.palette.divider,1),.88):qI(Ln(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${rpe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),ape=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:d,size:h,sortDirection:g,variant:v}=n,b=It(n,npe),M=W.useContext(uW),P=W.useContext(T2),w=P&&P.variant==="head";let A;s?A=s:A=w?"th":"td";let O=d;A==="td"?O=void 0:!O&&w&&(O="col");const I=v||P&&P.variant,C=oe({},n,{align:i,component:A,padding:a||(M&&M.padding?M.padding:"normal"),size:h||(M&&M.size?M.size:"medium"),sortDirection:g,stickyHeader:I==="head"&&M&&M.stickyHeader,variant:I}),R=ipe(C);let z=null;return g&&(z=g==="asc"?"ascending":"descending"),U.jsx(ope,oe({as:A,ref:r,className:jt(R.root,o),"aria-sort":z,scope:O,ownerState:C},b))}),Xs=ape;function spe(e){return or("MuiTableHead",e)}ar("MuiTableHead",["root"]);const lpe=["className","component"],cpe=e=>{const{classes:t}=e;return lr({root:["root"]},spe,t)},upe=Et("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),fpe={variant:"head"},f5="thead",dpe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableHead"}),{className:i,component:o=f5}=n,s=It(n,lpe),a=oe({},n,{component:o}),d=cpe(a);return U.jsx(T2.Provider,{value:fpe,children:U.jsx(upe,oe({as:o,className:jt(d.root,i),ref:r,role:o===f5?null:"rowgroup",ownerState:a},s))})}),hpe=dpe;function ppe(e){return or("MuiToolbar",e)}ar("MuiToolbar",["root","gutters","regular","dense"]);const mpe=["className","component","disableGutters","variant"],gpe=e=>{const{classes:t,disableGutters:r,variant:n}=e;return lr({root:["root",!r&&"gutters",n]},ppe,t)},ype=Et("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),vpe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=n,d=It(n,mpe),h=oe({},n,{component:o,disableGutters:s,variant:a}),g=gpe(h);return U.jsx(ype,oe({as:o,className:jt(g.root,i),ref:r,ownerState:h},d))}),k2=vpe;function _pe(e){return or("MuiTableRow",e)}const xpe=ar("MuiTableRow",["root","selected","hover","head","footer"]),d5=xpe,bpe=["className","component","hover","selected"],wpe=e=>{const{classes:t,selected:r,hover:n,head:i,footer:o}=e;return lr({root:["root",r&&"selected",n&&"hover",i&&"head",o&&"footer"]},_pe,t)},Spe=Et("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${d5.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${d5.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),h5="tr",Epe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTableRow"}),{className:i,component:o=h5,hover:s=!1,selected:a=!1}=n,d=It(n,bpe),h=W.useContext(T2),g=oe({},n,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),v=wpe(g);return U.jsx(Spe,oe({as:o,ref:r,className:jt(v.root,i),role:o===h5?null:"row",ownerState:g},d))}),o1=Epe;function Cpe(e){return or("MuiTextField",e)}ar("MuiTextField",["root"]);const Tpe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],kpe={standard:tW,filled:JV,outlined:fR},Ppe=e=>{const{classes:t}=e;return lr({root:["root"]},Cpe,t)},Ape=Et(E0,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mpe=W.forwardRef(function(t,r){const n=sr({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:d="primary",defaultValue:h,disabled:g=!1,error:v=!1,FormHelperTextProps:b,fullWidth:M=!1,helperText:P,id:w,InputLabelProps:A,inputProps:O,InputProps:I,inputRef:C,label:R,maxRows:z,minRows:L,multiline:F=!1,name:H,onBlur:re,onChange:te,onClick:ae,onFocus:de,placeholder:pe,required:Se=!1,rows:_e,select:Me=!1,SelectProps:Ae,type:Ee,value:Ie,variant:He="outlined"}=n,tt=It(n,Tpe),Te=oe({},n,{autoFocus:o,color:d,disabled:g,error:v,fullWidth:M,multiline:F,required:Se,select:Me,variant:He}),Ne=Ppe(Te),De={};He==="outlined"&&(A&&typeof A.shrink<"u"&&(De.notched=A.shrink),De.label=R),Me&&((!Ae||!Ae.native)&&(De.id=void 0),De["aria-describedby"]=void 0);const Ye=ct=>{!g&&ae&&(ct.stopPropagation(),ae(ct))},je=OI(w),st=P&&je?`${je}-helper-text`:void 0,nt=R&&je?`${je}-label`:void 0,Ue=kpe[He],Xe=U.jsx(Ue,oe({"aria-describedby":st,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:M,multiline:F,name:H,rows:_e,maxRows:z,minRows:L,type:Ee,value:Ie,id:je,inputRef:C,onBlur:re,onChange:te,onFocus:de,onClick:Ye,placeholder:pe,inputProps:O},De,I));return U.jsxs(Ape,oe({className:jt(Ne.root,a),disabled:g,error:v,fullWidth:M,ref:r,required:Se,color:d,variant:He,ownerState:Te,onClick:Ye},tt,{children:[R!=null&&R!==""&&U.jsx(C0,oe({htmlFor:je,id:nt},A,{children:R})),Me?U.jsx(T0,oe({"aria-describedby":st,id:je,labelId:nt,value:Ie,input:Xe},Ae,{children:s})):Xe,P&&U.jsx(Jue,oe({id:st},b,{children:P}))]}))}),pa=Mpe,P2=(e,t)=>{const r=rc(),n=W.useRef();W.useEffect(()=>(e().then(i=>n.current=i).catch(i=>r(gte.push(i.message))),()=>{const i=n.current;i&&i()}),[...t,r])};function hW(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}var p5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_=(typeof window>"u"?"undefined":p5(window))==="object"&&(typeof document>"u"?"undefined":p5(document))==="object"&&document.nodeType===9;function m5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function pW(e,t,r){return t&&m5(e.prototype,t),r&&m5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ope={}.constructor;function xA(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(xA);if(e.constructor!==Ope)return e;var t={};for(var r in e)t[r]=xA(e[r]);return t}function hR(e,t,r){e===void 0&&(e="unnamed");var n=r.jss,i=xA(t),o=n.plugins.onCreateRule(e,i,r);return o||(e[0],null)}var g5=function(t,r){for(var n="",i=0;i<t.length&&t[i]!=="!important";i++)n&&(n+=r),n+=t[i];return n},Fd=function(t){if(!Array.isArray(t))return t;var r="";if(Array.isArray(t[0]))for(var n=0;n<t.length&&t[n]!=="!important";n++)r&&(r+=", "),r+=g5(t[n]," ");else r=g5(t,", ");return t[t.length-1]==="!important"&&(r+=" !important"),r};function cg(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Hy(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function k0(e,t,r){r===void 0&&(r={});var n="";if(!t)return n;var i=r,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;r.format===!1&&(s=-1/0);var d=cg(r),h=d.linebreak,g=d.space;if(e&&s++,a)if(Array.isArray(a))for(var v=0;v<a.length;v++){var b=a[v];for(var M in b){var P=b[M];P!=null&&(n&&(n+=h),n+=Hy(M+":"+g+Fd(P)+";",s))}}else for(var w in a){var A=a[w];A!=null&&(n&&(n+=h),n+=Hy(w+":"+g+Fd(A)+";",s))}for(var O in t){var I=t[O];I!=null&&O!=="fallbacks"&&(n&&(n+=h),n+=Hy(O+":"+g+Fd(I)+";",s))}return!n&&!r.allowEmpty||!e?n:(s--,n&&(n=""+h+n+h),Hy(""+e+g+"{"+n,s)+Hy("}",s))}var Ipe=/([[\].#*$><+~=|^:(),"'`\s])/g,y5=typeof CSS<"u"&&CSS.escape,pR=function(e){return y5?y5(e):e.replace(Ipe,"\\$1")},mW=function(){function e(r,n,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=r,this.options=i,this.style=n,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(n,i,o){if(i===void 0)return this.style[n];var s=o?o.force:!1;if(!s&&this.style[n]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,n,this));var d=a==null||a===!1,h=n in this.style;if(d&&!h&&!s)return this;var g=d&&h;if(g?delete this.style[n]:this.style[n]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,a),this;var v=this.options.sheet;return v&&v.attached,this},e}(),bA=function(e){__(t,e);function t(n,i,o){var s;s=e.call(this,n,i,o)||this;var a=o.selector,d=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:d!==!1&&(s.id=g(y0(y0(s)),h),s.selectorText="."+pR(s.id)),s}var r=t.prototype;return r.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},r.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=Fd(s))}return i},r.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?yn({},i,{allowEmpty:!0}):i;return k0(this.selectorText,this.style,a)},pW(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(mW),Rpe={onCreateRule:function(t,r,n){return t[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new bA(t,r,n)}},jT={indent:1,children:!0},$pe=/@([\w-]+)/,Dpe=function(){function e(r,n,i){this.type="conditional",this.isProcessed=!1,this.key=r;var o=r.match($pe);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new A2(yn({},i,{parent:this}));for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(n){return this.rules.get(n)},t.indexOf=function(n){return this.rules.indexOf(n)},t.addRule=function(n,i,o){var s=this.rules.add(n,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(n,i,o){var s=this.rules.replace(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(n){n===void 0&&(n=jT);var i=cg(n),o=i.linebreak;if(n.indent==null&&(n.indent=jT.indent),n.children==null&&(n.children=jT.children),n.children===!1)return this.query+" {}";var s=this.rules.toString(n);return s?this.query+" {"+o+s+o+"}":""},e}(),Lpe=/@container|@media|@supports\s+/,zpe={onCreateRule:function(t,r,n){return Lpe.test(t)?new Dpe(t,r,n):null}},BT={indent:1,children:!0},Npe=/@keyframes\s+([\w-]+)/,wA=function(){function e(r,n,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=r.match(Npe);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,d=i.generateId;this.id=s===!1?this.name:pR(d(this,a)),this.rules=new A2(yn({},i,{parent:this}));for(var h in n)this.rules.add(h,n[h],yn({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(n){n===void 0&&(n=BT);var i=cg(n),o=i.linebreak;if(n.indent==null&&(n.indent=BT.indent),n.children==null&&(n.children=BT.children),n.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(n);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),jpe=/@keyframes\s+/,Bpe=/\$([\w-]+)/g,SA=function(t,r){return typeof t=="string"?t.replace(Bpe,function(n,i){return i in r?r[i]:n}):t},v5=function(t,r,n){var i=t[r],o=SA(i,n);o!==i&&(t[r]=o)},Fpe={onCreateRule:function(t,r,n){return typeof t=="string"&&jpe.test(t)?new wA(t,r,n):null},onProcessStyle:function(t,r,n){return r.type!=="style"||!n||("animation-name"in t&&v5(t,"animation-name",n.keyframes),"animation"in t&&v5(t,"animation",n.keyframes)),t},onChangeValue:function(t,r,n){var i=n.options.sheet;if(!i)return t;switch(r){case"animation":return SA(t,i.keyframes);case"animation-name":return SA(t,i.keyframes);default:return t}}},Upe=function(e){__(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?yn({},i,{allowEmpty:!0}):i;return k0(this.key,this.style,a)},t}(mW),Vpe={onCreateRule:function(t,r,n){return n.parent&&n.parent.type==="keyframes"?new Upe(t,r,n):null}},Wpe=function(){function e(r,n,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var t=e.prototype;return t.toString=function(n){var i=cg(n),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=k0(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return k0(this.at,this.style,n)},e}(),qpe=/@font-face/,Hpe={onCreateRule:function(t,r,n){return qpe.test(t)?new Wpe(t,r,n):null}},Gpe=function(){function e(r,n,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var t=e.prototype;return t.toString=function(n){return k0(this.key,this.style,n)},e}(),Ype={onCreateRule:function(t,r,n){return t==="@viewport"||t==="@-ms-viewport"?new Gpe(t,r,n):null}},Kpe=function(){function e(r,n,i){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=i}var t=e.prototype;return t.toString=function(n){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),Zpe={"@charset":!0,"@import":!0,"@namespace":!0},Xpe={onCreateRule:function(t,r,n){return t in Zpe?new Kpe(t,r,n):null}},_5=[Rpe,zpe,Fpe,Vpe,Hpe,Ype,Xpe],Jpe={process:!0},x5={force:!0,process:!0},A2=function(){function e(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var t=e.prototype;return t.add=function(n,i,o){var s=this.options,a=s.parent,d=s.sheet,h=s.jss,g=s.Renderer,v=s.generateId,b=s.scoped,M=yn({classes:this.classes,parent:a,sheet:d,jss:h,Renderer:g,generateId:v,scoped:b,name:n,keyframes:this.keyframes,selector:void 0},o),P=n;n in this.raw&&(P=n+"-d"+this.counter++),this.raw[P]=i,P in this.classes&&(M.selector="."+pR(this.classes[P]));var w=hR(P,i,M);if(!w)return null;this.register(w);var A=M.index===void 0?this.index.length:M.index;return this.index.splice(A,0,w),w},t.replace=function(n,i,o){var s=this.get(n),a=this.index.indexOf(s);s&&this.remove(s);var d=o;return a!==-1&&(d=yn({},o,{index:a})),this.add(n,i,d)},t.get=function(n){return this.map[n]},t.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},t.indexOf=function(n){return this.index.indexOf(n)},t.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},t.register=function(n){this.map[n.key]=n,n instanceof bA?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof wA&&this.keyframes&&(this.keyframes[n.name]=n.id)},t.unregister=function(n){delete this.map[n.key],n instanceof bA?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof wA&&delete this.keyframes[n.name]},t.update=function(){var n,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(n,i,o){o===void 0&&(o=Jpe);var s=this.options,a=s.jss.plugins,d=s.sheet;if(n.rules instanceof e){n.rules.update(i,o);return}var h=n.style;if(a.onUpdate(i,n,d,o),o.process&&h&&h!==n.style){a.onProcessStyle(n.style,n,d);for(var g in n.style){var v=n.style[g],b=h[g];v!==b&&n.prop(g,v,x5)}for(var M in h){var P=n.style[M],w=h[M];P==null&&P!==w&&n.prop(M,null,x5)}}},t.toString=function(n){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=cg(n),d=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],v=g.toString(n);!v&&!s||(i&&(i+=d),i+=v)}return i},e}(),gW=function(){function e(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=yn({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new A2(this.options);for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(n,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(n,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(n,i,o){var s=this.rules.get(n);if(!s)return this.addRule(n,i,o);var a=this.rules.replace(n,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},t.addRules=function(n,i){var o=[];for(var s in n){var a=this.addRule(s,n[s],i);a&&o.push(a)}return o},t.getRule=function(n){return this.rules.get(n)},t.deleteRule=function(n){var i=typeof n=="object"?n:this.rules.get(n);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(n){return this.rules.indexOf(n)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},t.updateOne=function(n,i,o){return this.rules.updateOne(n,i,o),this},t.toString=function(n){return this.rules.toString(n)},e}(),Qpe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(n,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](n,i,o);if(a)return a}return null},t.onProcessRule=function(n){if(!n.isProcessed){for(var i=n.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](n,i);n.style&&this.onProcessStyle(n.style,n,i),n.isProcessed=!0}},t.onProcessStyle=function(n,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(n){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](n)},t.onUpdate=function(n,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](n,i,o,s)},t.onChangeValue=function(n,i,o){for(var s=n,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(n,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(n)===-1&&(o.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var d in a)d in s&&s[d].push(a[d]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),eme=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(n){var i=this.registry,o=n.options.index;if(i.indexOf(n)===-1){if(i.length===0||o>=this.index){i.push(n);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,n);return}}},t.reset=function(){this.registry=[]},t.remove=function(n){var i=this.registry.indexOf(n);this.registry.splice(i,1)},t.toString=function(n){for(var i=n===void 0?{}:n,o=i.attached,s=p_(i,["attached"]),a=cg(s),d=a.linebreak,h="",g=0;g<this.registry.length;g++){var v=this.registry[g];o!=null&&v.attached!==o||(h&&(h+=d),h+=v.toString(s))}return h},pW(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),Lv=new eme,EA=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),CA="2f1acc6c3a606b082e5eef5e54414ffb";EA[CA]==null&&(EA[CA]=0);var b5=EA[CA]++,w5=function(t){t===void 0&&(t={});var r=0,n=function(o,s){r+=1;var a="",d="";return s&&(s.options.classNamePrefix&&(d=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(d||"c")+b5+a+r:d+o.key+"-"+b5+(a?"-"+a:"")+"-"+r};return n},yW=function(t){var r;return function(){return r||(r=t()),r}},tme=function(t,r){try{return t.attributeStyleMap?t.attributeStyleMap.get(r):t.style.getPropertyValue(r)}catch{return""}},rme=function(t,r,n){try{var i=n;if(Array.isArray(n)&&(i=Fd(n)),t.attributeStyleMap)t.attributeStyleMap.set(r,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(r,s,o>-1?"important":"")}}catch{return!1}return!0},nme=function(t,r){try{t.attributeStyleMap?t.attributeStyleMap.delete(r):t.style.removeProperty(r)}catch{}},ime=function(t,r){return t.selectorText=r,t.selectorText===r},vW=yW(function(){return document.querySelector("head")});function ome(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}function ame(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}function sme(e){for(var t=vW(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===e)return n}return null}function lme(e){var t=Lv.registry;if(t.length>0){var r=ome(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=ame(t,e),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&typeof n=="string"){var i=sme(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function cme(e,t){var r=t.insertionPoint,n=lme(t);if(n!==!1&&n.parent){n.parent.insertBefore(e,n.node);return}if(r&&typeof r.nodeType=="number"){var i=r,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}vW().appendChild(e)}var ume=yW(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),S5=function(t,r,n){try{"insertRule"in t?t.insertRule(r,n):"appendRule"in t&&t.appendRule(r)}catch{return!1}return t.cssRules[n]},E5=function(t,r){var n=t.cssRules.length;return r===void 0||r>n?n:r},fme=function(){var t=document.createElement("style");return t.textContent=`
`,t},dme=function(){function e(r){this.getPropertyValue=tme,this.setProperty=rme,this.removeProperty=nme,this.setSelector=ime,this.hasInsertedRules=!1,this.cssRules=[],r&&Lv.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},i=n.media,o=n.meta,s=n.element;this.element=s||fme(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=ume();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){cme(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},t.insertRules=function(n,i){for(var o=0;o<n.index.length;o++)this.insertRule(n.index[o],o,i)},t.insertRule=function(n,i,o){if(o===void 0&&(o=this.element.sheet),n.rules){var s=n,a=o;if(n.type==="conditional"||n.type==="keyframes"){var d=E5(o,i);if(a=S5(o,s.toString({children:!1}),d),a===!1)return!1;this.refCssRule(n,d,a)}return this.insertRules(s.rules,a),a}var h=n.toString();if(!h)return!1;var g=E5(o,i),v=S5(o,h,g);return v===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,g,v),v)},t.refCssRule=function(n,i,o){n.renderable=o,n.options.parent instanceof gW&&this.cssRules.splice(i,0,o)},t.deleteRule=function(n){var i=this.element.sheet,o=this.indexOf(n);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(n){return this.cssRules.indexOf(n)},t.replaceRule=function(n,i){var o=this.indexOf(n);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),hme=0,pme=function(){function e(r){this.id=hme++,this.version="10.10.0",this.plugins=new Qpe,this.options={id:{minify:!1},createGenerateId:w5,Renderer:E_?dme:null,plugins:[]},this.generateId=w5({minify:!1});for(var n=0;n<_5.length;n++)this.plugins.use(_5[n],{queue:"internal"});this.setup(r)}var t=e.prototype;return t.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=yn({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},t.createStyleSheet=function(n,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=Lv.index===0?0:Lv.index+1);var a=new gW(n,yn({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(n){return n.detach(),Lv.remove(n),this},t.createRule=function(n,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof n=="object")return this.createRule(void 0,n,i);var s=yn({},o,{name:n,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=hR(n,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){n.plugins.use(a)}),this},e}(),_W=function(t){return new pme(t)},mR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function xW(e){var t=null;for(var r in e){var n=e[r],i=typeof n;if(i==="function")t||(t={}),t[r]=n;else if(i==="object"&&n!==null&&!Array.isArray(n)){var o=xW(n);o&&(t||(t={}),t[r]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */_W();function bW(e={}){const{baseClasses:t,newClasses:r,Component:n}=e;if(!r)return t;const i=gf({},t);return Object.keys(r).forEach(o=>{r[o]&&(i[o]=`${t[o]} ${r[o]}`)}),i}const mme={set:(e,t,r,n)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:(e,t,r)=>{const n=e.get(t);return n?n.get(r):void 0},delete:(e,t,r)=>{e.get(t).delete(r)}},Bp=mme;function gme(){var e;const t=GI();return(e=t==null?void 0:t.$$material)!=null?e:t}const yme=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function vme(e={}){const{disableGlobal:t=!1,productionPrefix:r="jss",seed:n=""}=e,i=n===""?"":`${n}-`;let o=0;const s=()=>(o+=1,o);return(a,d)=>{const h=d.options.name;if(h&&h.indexOf("Mui")===0&&!d.options.link&&!t){if(yme.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!d.options.theme[CV]||n!==""?g:`${g}-${s()}`}return`${i}${r}${s()}`}}var wW=Date.now(),FT="fnValues"+wW,UT="fnStyle"+ ++wW,_me=function(){return{onCreateRule:function(r,n,i){if(typeof n!="function")return null;var o=hR(r,{},i);return o[UT]=n,o},onProcessStyle:function(r,n){if(FT in n||UT in n)return r;var i={};for(var o in r){var s=r[o];typeof s=="function"&&(delete r[o],i[o]=s)}return n[FT]=i,r},onUpdate:function(r,n,i,o){var s=n,a=s[UT];a&&(s.style=a(r)||{});var d=s[FT];if(d)for(var h in d)s.prop(h,d[h](r),o)}}};const xme=_me;var yf="@global",TA="@global ",bme=function(){function e(r,n,i){this.type="global",this.at=yf,this.isProcessed=!1,this.key=r,this.options=i,this.rules=new A2(yn({},i,{parent:this}));for(var o in n)this.rules.add(o,n[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(n){return this.rules.get(n)},t.addRule=function(n,i,o){var s=this.rules.add(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(n,i,o){var s=this.rules.replace(n,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(n){return this.rules.indexOf(n)},t.toString=function(n){return this.rules.toString(n)},e}(),wme=function(){function e(r,n,i){this.type="global",this.at=yf,this.isProcessed=!1,this.key=r,this.options=i;var o=r.substr(TA.length);this.rule=i.jss.createRule(o,n,yn({},i,{parent:this}))}var t=e.prototype;return t.toString=function(n){return this.rule?this.rule.toString(n):""},e}(),Sme=/\s*,\s*/g;function SW(e,t){for(var r=e.split(Sme),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}function Eme(e,t){var r=e.options,n=e.style,i=n?n[yf]:null;if(i){for(var o in i)t.addRule(o,i[o],yn({},r,{selector:SW(o,e.selector)}));delete n[yf]}}function Cme(e,t){var r=e.options,n=e.style;for(var i in n)if(!(i[0]!=="@"||i.substr(0,yf.length)!==yf)){var o=SW(i.substr(yf.length),e.selector);t.addRule(o,n[i],yn({},r,{selector:o})),delete n[i]}}function Tme(){function e(r,n,i){if(!r)return null;if(r===yf)return new bme(r,n,i);if(r[0]==="@"&&r.substr(0,TA.length)===TA)return new wme(r,n,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=r),null}function t(r,n){r.type!=="style"||!n||(Eme(r,n),Cme(r,n))}return{onCreateRule:e,onProcessRule:t}}var C5=/\s*,\s*/g,kme=/&/g,Pme=/\$([\w-]+)/g;function Ame(){function e(i,o){return function(s,a){var d=i.getRule(a)||o&&o.getRule(a);return d?d.selector:a}}function t(i,o){for(var s=o.split(C5),a=i.split(C5),d="",h=0;h<s.length;h++)for(var g=s[h],v=0;v<a.length;v++){var b=a[v];d&&(d+=", "),d+=b.indexOf("&")!==-1?b.replace(kme,g):g+" "+b}return d}function r(i,o,s){if(s)return yn({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var d=yn({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete d.name,d}function n(i,o,s){if(o.type!=="style")return i;var a=o,d=a.options.parent,h,g;for(var v in i){var b=v.indexOf("&")!==-1,M=v[0]==="@";if(!(!b&&!M)){if(h=r(a,d,h),b){var P=t(v,a.selector);g||(g=e(d,s)),P=P.replace(Pme,g);var w=a.key+"-"+v;"replaceRule"in d?d.replaceRule(w,i[v],yn({},h,{selector:P})):d.addRule(w,i[v],yn({},h,{selector:P}))}else M&&d.addRule(v,{},h).addRule(a.key,i[v],{selector:a.selector});delete i[v]}}return i}return{onProcessStyle:n}}var Mme=/[A-Z]/g,Ome=/^ms-/,VT={};function Ime(e){return"-"+e.toLowerCase()}function EW(e){if(VT.hasOwnProperty(e))return VT[e];var t=e.replace(Mme,Ime);return VT[e]=Ome.test(t)?"-"+t:t}function nw(e){var t={};for(var r in e){var n=r.indexOf("--")===0?r:EW(r);t[n]=e[r]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(nw):t.fallbacks=nw(e.fallbacks)),t}function Rme(){function e(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=nw(r[n]);return r}return nw(r)}function t(r,n,i){if(n.indexOf("--")===0)return r;var o=EW(n);return n===o?r:(i.prop(o,r),null)}return{onProcessStyle:e,onChangeValue:t}}var at=mR&&CSS?CSS.px:"px",bb=mR&&CSS?CSS.ms:"ms",dp=mR&&CSS?CSS.percent:"%",$me={"animation-delay":bb,"animation-duration":bb,"background-position":at,"background-position-x":at,"background-position-y":at,"background-size":at,border:at,"border-bottom":at,"border-bottom-left-radius":at,"border-bottom-right-radius":at,"border-bottom-width":at,"border-left":at,"border-left-width":at,"border-radius":at,"border-right":at,"border-right-width":at,"border-top":at,"border-top-left-radius":at,"border-top-right-radius":at,"border-top-width":at,"border-width":at,"border-block":at,"border-block-end":at,"border-block-end-width":at,"border-block-start":at,"border-block-start-width":at,"border-block-width":at,"border-inline":at,"border-inline-end":at,"border-inline-end-width":at,"border-inline-start":at,"border-inline-start-width":at,"border-inline-width":at,"border-start-start-radius":at,"border-start-end-radius":at,"border-end-start-radius":at,"border-end-end-radius":at,margin:at,"margin-bottom":at,"margin-left":at,"margin-right":at,"margin-top":at,"margin-block":at,"margin-block-end":at,"margin-block-start":at,"margin-inline":at,"margin-inline-end":at,"margin-inline-start":at,padding:at,"padding-bottom":at,"padding-left":at,"padding-right":at,"padding-top":at,"padding-block":at,"padding-block-end":at,"padding-block-start":at,"padding-inline":at,"padding-inline-end":at,"padding-inline-start":at,"mask-position-x":at,"mask-position-y":at,"mask-size":at,height:at,width:at,"min-height":at,"max-height":at,"min-width":at,"max-width":at,bottom:at,left:at,top:at,right:at,inset:at,"inset-block":at,"inset-block-end":at,"inset-block-start":at,"inset-inline":at,"inset-inline-end":at,"inset-inline-start":at,"box-shadow":at,"text-shadow":at,"column-gap":at,"column-rule":at,"column-rule-width":at,"column-width":at,"font-size":at,"font-size-delta":at,"letter-spacing":at,"text-decoration-thickness":at,"text-indent":at,"text-stroke":at,"text-stroke-width":at,"word-spacing":at,motion:at,"motion-offset":at,outline:at,"outline-offset":at,"outline-width":at,perspective:at,"perspective-origin-x":dp,"perspective-origin-y":dp,"transform-origin":dp,"transform-origin-x":dp,"transform-origin-y":dp,"transform-origin-z":dp,"transition-delay":bb,"transition-duration":bb,"vertical-align":at,"flex-basis":at,"shape-margin":at,size:at,gap:at,grid:at,"grid-gap":at,"row-gap":at,"grid-row-gap":at,"grid-column-gap":at,"grid-template-rows":at,"grid-template-columns":at,"grid-auto-rows":at,"grid-auto-columns":at,"box-shadow-x":at,"box-shadow-y":at,"box-shadow-blur":at,"box-shadow-spread":at,"font-line-height":at,"text-shadow-x":at,"text-shadow-y":at,"text-shadow-blur":at};function CW(e){var t=/(-[a-z])/g,r=function(s){return s[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}var Dme=CW($me);function zv(e,t,r){if(t==null)return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=zv(e,t[n],r);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=zv(i,t[i],r);else for(var o in t)t[o]=zv(e+"-"+o,t[o],r);else if(typeof t=="number"&&isNaN(t)===!1){var s=r[e]||Dme[e];return s&&!(t===0&&s===at)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function Lme(e){e===void 0&&(e={});var t=CW(e);function r(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=zv(s,i[s],t);return i}function n(i,o){return zv(o,i,t)}return{onProcessStyle:r,onChangeValue:n}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zme(e){if(Array.isArray(e))return kA(e)}function Nme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jme(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function Bme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fme(e){return zme(e)||Nme(e)||jme(e)||Bme()}var mv="",PA="",TW="",kW="",Ume=E_&&"ontouchstart"in document.documentElement;if(E_){var WT={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Vme=document.createElement("p"),qT=Vme.style,Wme="Transform";for(var HT in WT)if(HT+Wme in qT){mv=HT,PA=WT[HT];break}mv==="Webkit"&&"msHyphens"in qT&&(mv="ms",PA=WT.ms,kW="edge"),mv==="Webkit"&&"-apple-trailing-word"in qT&&(TW="apple")}var wr={js:mv,css:PA,vendor:TW,browser:kW,isTouch:Ume};function qme(e){return e[1]==="-"||wr.js==="ms"?e:"@"+wr.css+"keyframes"+e.substr(10)}var Hme={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:wr.js==="ms"?"-webkit-"+t:wr.css+t}},Gme={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:wr.js==="Webkit"?wr.css+"print-"+t:t}},Yme=/[-\s]+(.)?/g;function Kme(e,t){return t?t.toUpperCase():""}function gR(e){return e.replace(Yme,Kme)}function kf(e){return gR("-"+e)}var Zme={noPrefill:["mask"],supportedProperty:function(t,r){if(!/^mask/.test(t))return!1;if(wr.js==="Webkit"){var n="mask-image";if(gR(n)in r)return t;if(wr.js+kf(n)in r)return wr.css+t}return t}},Xme={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:wr.vendor==="apple"&&!wr.isTouch?wr.css+t:t}},Jme={noPrefill:["transform"],supportedProperty:function(t,r,n){return t!=="transform"?!1:n.transform?t:wr.css+t}},Qme={noPrefill:["transition"],supportedProperty:function(t,r,n){return t!=="transition"?!1:n.transition?t:wr.css+t}},ege={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:wr.js==="Webkit"||wr.js==="ms"&&wr.browser!=="edge"?wr.css+t:t}},tge={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:wr.js==="Moz"||wr.js==="ms"||wr.vendor==="apple"?wr.css+t:t}},rge={supportedProperty:function(t,r){if(!/^break-/.test(t))return!1;if(wr.js==="Webkit"){var n="WebkitColumn"+kf(t);return n in r?wr.css+"column-"+t:!1}if(wr.js==="Moz"){var i="page"+kf(t);return i in r?"page-"+t:!1}return!1}},nge={supportedProperty:function(t,r){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(wr.js==="Moz")return t;var n=t.replace("-inline","");return wr.js+kf(n)in r?wr.css+n:!1}},ige={supportedProperty:function(t,r){return gR(t)in r?t:!1}},oge={supportedProperty:function(t,r){var n=kf(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:wr.js+n in r?wr.css+t:wr.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+t:!1}},age={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:wr.js==="ms"?""+wr.css+t:t}},sge={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:wr.js==="ms"?wr.css+"scroll-chaining":t}},lge={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},cge={supportedProperty:function(t,r){var n=lge[t];return n&&wr.js+kf(n)in r?wr.css+n:!1}},PW={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},uge=Object.keys(PW),fge=function(t){return wr.css+t},dge={supportedProperty:function(t,r,n){var i=n.multiple;if(uge.indexOf(t)>-1){var o=PW[t];if(!Array.isArray(o))return wr.js+kf(o)in r?wr.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(wr.js+kf(o[0])in r))return!1;return o.map(fge)}return!1}},AW=[Hme,Gme,Zme,Xme,Jme,Qme,ege,tge,rge,nge,ige,oge,age,sge,cge,dge],T5=AW.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),hge=AW.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Fme(t.noPrefill)),e},[]),gv,Cd={};if(E_){gv=document.createElement("p");var GT=window.getComputedStyle(document.documentElement,"");for(var YT in GT)isNaN(YT)||(Cd[GT[YT]]=GT[YT]);hge.forEach(function(e){return delete Cd[e]})}function AA(e,t){if(t===void 0&&(t={}),!gv)return e;if(Cd[e]!=null)return Cd[e];(e==="transition"||e==="transform")&&(t[e]=e in gv.style);for(var r=0;r<T5.length&&(Cd[e]=T5[r](e,gv.style,t),!Cd[e]);r++);try{gv.style[e]=""}catch{return!1}return Cd[e]}var hp={},pge={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},mge=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,ju;function gge(e,t,r){if(t==="var")return"var";if(t==="all")return"all";if(r==="all")return", all";var n=t?AA(t):", "+AA(r);return n||t||r}E_&&(ju=document.createElement("p"));function k5(e,t){var r=t;if(!ju||e==="content")return t;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=e+r;if(hp[n]!=null)return hp[n];try{ju.style[e]=r}catch{return hp[n]=!1,!1}if(pge[e])r=r.replace(mge,gge);else if(ju.style[e]===""&&(r=wr.css+r,r==="-ms-flex"&&(ju.style[e]="-ms-flexbox"),ju.style[e]=r,ju.style[e]===""))return hp[n]=!1,!1;return ju.style[e]="",hp[n]=r,hp[n]}function yge(){function e(i){if(i.type==="keyframes"){var o=i;o.at=qme(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,d=AA(o);d&&d!==o&&(a=!0);var h=!1,g=k5(d,Fd(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[d||o]=g||s)}return i}function r(i,o){return o.type!=="style"?i:t(i)}function n(i,o){return k5(o,Fd(i))||i}return{onProcessRule:e,onProcessStyle:r,onChangeValue:n}}function vge(){var e=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var i={},o=Object.keys(r).sort(e),s=0;s<o.length;s++)i[o[s]]=r[o[s]];return i}}}function _ge(){return{plugins:[xme(),Tme(),Ame(),Rme(),Lme(),typeof window>"u"?null:yge(),vge()]}}const xge=_W(_ge()),bge=vme(),wge=new Map,Sge={disableGeneration:!1,generateClassName:bge,jss:xge,sheetsCache:null,sheetsManager:wge,sheetsRegistry:null},Ege=W.createContext(Sge);let P5=-1e9;function Cge(){return P5+=1,P5}const Tge=["variant"];function A5(e){return e.length===0}function kge(e){const{variant:t}=e,r=hW(e,Tge);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=A5(n)?e[i]:wt(e[i]):n+=`${A5(n)?i:wt(i)}${wt(e[i].toString())}`}),n}const Pge={},Age=Pge;function Mge(e){const t=typeof e=="function";return{create:(r,n)=>{let i;try{i=t?e(r):e}catch(d){throw d}if(!n||!r.components||!r.components[n]||!r.components[n].styleOverrides&&!r.components[n].variants)return i;const o=r.components[n].styleOverrides||{},s=r.components[n].variants||[],a=gf({},i);return Object.keys(o).forEach(d=>{a[d]=wa(a[d]||{},o[d])}),s.forEach(d=>{const h=kge(d.props);a[h]=wa(a[h]||{},d.style)}),a},options:{}}}const Oge=["name","classNamePrefix","Component","defaultTheme"];function Ige({state:e,stylesOptions:t},r,n){if(t.disableGeneration)return r||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),r!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=r,i=!0),i&&(e.cacheClasses.value=bW({baseClasses:e.cacheClasses.lastJSS,newClasses:r,Component:n})),e.cacheClasses.value}function Rge({state:e,theme:t,stylesOptions:r,stylesCreator:n,name:i},o){if(r.disableGeneration)return;let s=Bp.get(r.sheetsManager,n,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Bp.set(r.sheetsManager,n,t,s));const a=gf({},n.options,r,{theme:t,flip:typeof r.flip=="boolean"?r.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const d=r.sheetsRegistry;if(s.refs===0){let h;r.sheetsCache&&(h=Bp.get(r.sheetsCache,n,t));const g=n.create(t,i);h||(h=r.jss.createStyleSheet(g,gf({link:!1},a)),h.attach(),r.sheetsCache&&Bp.set(r.sheetsCache,n,t,h)),d&&d.add(h),s.staticSheet=h,s.dynamicStyles=xW(g)}if(s.dynamicStyles){const h=r.jss.createStyleSheet(s.dynamicStyles,gf({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=bW({baseClasses:s.staticSheet.classes,newClasses:h.classes}),d&&d.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function $ge({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function Dge({state:e,theme:t,stylesOptions:r,stylesCreator:n}){if(r.disableGeneration)return;const i=Bp.get(r.sheetsManager,n,t);i.refs-=1;const o=r.sheetsRegistry;i.refs===0&&(Bp.delete(r.sheetsManager,n,t),r.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function Lge(e,t){const r=W.useRef([]);let n;const i=W.useMemo(()=>({}),t);r.current!==i&&(r.current=i,n=e()),W.useEffect(()=>()=>{n&&n()},[i])}function ho(e,t={}){const{name:r,classNamePrefix:n,Component:i,defaultTheme:o=Age}=t,s=hW(t,Oge),a=Mge(e),d=r||n||"makeStyles";return a.options={index:Cge(),name:r,meta:d,classNamePrefix:d},(g={})=>{const v=gme()||o,b=gf({},W.useContext(Ege),s),M=W.useRef(),P=W.useRef();return Lge(()=>{const A={name:r,state:{},stylesCreator:a,stylesOptions:b,theme:v};return Rge(A,g),P.current=!1,M.current=A,()=>{Dge(A)}},[v,a]),W.useEffect(()=>{P.current&&$ge(M.current,g),P.current=!0}),Ige(M.current,g.classes,i)}}const M5=4e3,zge=()=>{const e=rc(),t=W.useRef(),[r,n]=W.useState(!0),i=()=>{const o=window.location.protocol==="https:"?"wss:":"ws:",s=new WebSocket(`${o}//${window.location.host}/api/socket`);t.current=s,console.log("funcion web socket"),s.onopen=()=>{e(fb.updateSocket(!0)),console.log("funcion web socket open")},s.onclose=async a=>{if(console.log("funcion web socket close"),e(fb.updateSocket(!1)),a.code!==M5){try{const d=await fetch("/api/devices");d.ok&&e(Dc.update(await d.json()));const h=await fetch("/api/positions");h.ok&&e(TT.updatePositions(await h.json())),d.status===401||h.status}catch{}setTimeout(()=>i(),6e4)}},s.onmessage=a=>{const d=JSON.parse(a.data);d.devices&&(d.devices.length>0?e(Dc.update(d.devices)):e(Dc.clear())),d.positions&&e(TT.updatePositions(d.positions)),d.camera&&e(TT.updateCamera(d.camera)),d.server&&(d.server.rosState==="connect"?e(fb.updateServer(!0)):e(fb.updateServer(!1)))}};return P2(async()=>r?(n(!1),(await fetch("/api/devices",{method:"GET"})).ok,console.log("primera conexion --s"),i(),()=>{const s=t.current;s&&s.close(M5)}):null,[]),U.jsx(U.Fragment,{})},Nge=Cee()(zge),jge=ho(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),Bge=()=>{const e=jge();return Df(),U.jsxs(U.Fragment,{children:[U.jsx(Nge,{}),U.jsx("div",{className:e.page,children:U.jsx(mQ,{})})]})},Fge=()=>{const{search:e}=ES();return W.useMemo(()=>new URLSearchParams(e),[e])};var MW={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(sv,function(){var r,n,i;function o(a,d){if(!r)r=d;else if(!n)n=d;else{var h="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",g={};r(g),i=d(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function d(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var h=g;function g(u,l){this.x=u,this.y=l}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,f=u.y-this.y;return l*l+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),f=Math.sin(u),m=f*this.x+l*this.y;return this.x=l*this.x-f*this.y,this.y=m,this},_rotateAround:function(u,l){var f=Math.cos(u),m=Math.sin(u),_=l.y+m*(this.x-l.x)+f*(this.y-l.y);return this.x=l.x+f*(this.x-l.x)-m*(this.y-l.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(u){return u instanceof g?u:Array.isArray(u)?new g(u[0],u[1]):u};var v=d(h),b=M;function M(u,l,f,m){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=f,this.p2y=m}M.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,m=0;m<8;m++){var _=this.sampleCurveX(f)-u;if(Math.abs(_)<l)return f;var E=this.sampleCurveDerivativeX(f);if(Math.abs(E)<1e-6)break;f-=_/E}var k=0,$=1;for(f=u,m=0;m<20&&(_=this.sampleCurveX(f),!(Math.abs(_-u)<l));m++)u>_?k=f:$=f,f=.5*($-k)+k;return f},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var P=d(b);function w(u,l,f,m){const _=new P(u,l,f,m);return function(E){return _.solve(E)}}const A=w(.25,.1,.25,1);function O(u,l,f){return Math.min(f,Math.max(l,u))}function I(u,l,f){const m=f-l,_=((u-l)%m+m)%m+l;return _===l?f:_}function C(u,...l){for(const f of l)for(const m in f)u[m]=f[m];return u}let R=1;function z(u,l,f){const m={};for(const _ in u)m[_]=l.call(f||this,u[_],_,u);return m}function L(u,l,f){const m={};for(const _ in u)l.call(f||this,u[_],_,u)&&(m[_]=u[_]);return m}function F(u){return Array.isArray(u)?u.map(F):typeof u=="object"&&u?z(u,F):u}const H={};function re(u){H[u]||(typeof console<"u"&&console.warn(u),H[u]=!0)}function te(u,l,f){return(f.y-u.y)*(l.x-u.x)>(l.y-u.y)*(f.x-u.x)}function ae(u){let l=0;for(let f,m,_=0,E=u.length,k=E-1;_<E;k=_++)f=u[_],m=u[k],l+=(m.x-f.x)*(f.y+m.y);return l}function de(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let pe=null;function Se(u){if(pe==null){const l=u.navigator?u.navigator.userAgent:null;pe=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return pe}function _e(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ae,Ee;const Ie={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),f=l.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,f.drawImage(u,0,0,u.width,u.height),f},resolveURL:u=>(Ae||(Ae=document.createElement("a")),Ae.href=u,Ae.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Ee==null&&(Ee=matchMedia("(prefers-reduced-motion: reduce)")),Ee.matches)}},He={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class tt extends Error{constructor(l,f,m,_){super(`AJAXError: ${f} (${l}): ${m}`),this.status=l,this.statusText=f,this.url=m,this.body=_}}const Te=de()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,Ne=u=>He.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function De(u,l){const f=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:Te(),signal:f.signal});let _=!1,E=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),E||fetch(m).then(k=>k.ok?($=>{(u.type==="arrayBuffer"||u.type==="image"?$.arrayBuffer():u.type==="json"?$.json():$.text()).then(j=>{E||(_=!0,l(null,j,$.headers.get("Cache-Control"),$.headers.get("Expires")))}).catch(j=>{E||l(new Error(j.message))})})(k):k.blob().then($=>l(new tt(k.status,k.statusText,u.url,$)))).catch(k=>{k.code!==20&&l(new Error(k.message))}),{cancel:()=>{E=!0,_||f.abort()}}}const Ye=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(de()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!de())return(Ne(u.url)||De)(u,l)}if(!(/^file:/.test(f=u.url)||/^file:/.test(Te())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return De(u,l);if(de()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var f;return function(m,_){const E=new XMLHttpRequest;E.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(E.responseType="arraybuffer");for(const k in m.headers)E.setRequestHeader(k,m.headers[k]);return m.type==="json"&&(E.responseType="text",E.setRequestHeader("Accept","application/json")),E.withCredentials=m.credentials==="include",E.onerror=()=>{_(new Error(E.statusText))},E.onload=()=>{if((E.status>=200&&E.status<300||E.status===0)&&E.response!==null){let k=E.response;if(m.type==="json")try{k=JSON.parse(E.response)}catch($){return _($)}_(null,k,E.getResponseHeader("Cache-Control"),E.getResponseHeader("Expires"))}else{const k=new Blob([E.response],{type:E.getResponseHeader("Content-Type")});_(new tt(E.status,E.statusText,m.url,k))}},E.send(m.body),{cancel:()=>E.abort()}}(u,l)},je=function(u,l){return Ye(C(u,{type:"arrayBuffer"}),l)};function st(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),f=window.location;return l.protocol===f.protocol&&l.host===f.host}function nt(u,l,f){f[u]&&f[u].indexOf(l)!==-1||(f[u]=f[u]||[],f[u].push(l))}function Ue(u,l,f){if(f&&f[u]){const m=f[u].indexOf(l);m!==-1&&f[u].splice(m,1)}}class Xe{constructor(l,f={}){C(this,f),this.type=l}}class ct extends Xe{constructor(l,f={}){super("error",C({error:l},f))}}class Be{on(l,f){return this._listeners=this._listeners||{},nt(l,f,this._listeners),this}off(l,f){return Ue(l,f,this._listeners),Ue(l,f,this._oneTimeListeners),this}once(l,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},nt(l,f,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,f){typeof l=="string"&&(l=new Xe(l,f||{}));const m=l.type;if(this.listens(m)){l.target=this;const _=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const $ of _)$.call(this,l);const E=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const $ of E)Ue(m,$,this._oneTimeListeners),$.call(this,l);const k=this._eventedParent;k&&(C(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),k.fire(l))}else l instanceof ct&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,f){return this._eventedParent=l,this._eventedParentData=f,this}}var Pe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const St=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Zt(u,l){const f={};for(const m in u)m!=="ref"&&(f[m]=u[m]);return St.forEach(m=>{m in l&&(f[m]=l[m])}),f}function Ot(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let f=0;f<u.length;f++)if(!Ot(u[f],l[f]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const f in u)if(!Ot(u[f],l[f]))return!1;return!0}return u===l}const Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Mr(u,l,f){f.push({command:Nt.addSource,args:[u,l[u]]})}function Vr(u,l,f){l.push({command:Nt.removeSource,args:[u]}),f[u]=!0}function pr(u,l,f,m){Vr(u,f,m),Mr(u,l,f)}function Sr(u,l,f){let m;for(m in u[f])if(Object.prototype.hasOwnProperty.call(u[f],m)&&m!=="data"&&!Ot(u[f][m],l[f][m]))return!1;for(m in l[f])if(Object.prototype.hasOwnProperty.call(l[f],m)&&m!=="data"&&!Ot(u[f][m],l[f][m]))return!1;return!0}function cr(u,l,f,m,_,E){let k;for(k in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,k)&&(Ot(u[k],l[k])||f.push({command:E,args:[m,k,l[k],_]}));for(k in l)Object.prototype.hasOwnProperty.call(l,k)&&!Object.prototype.hasOwnProperty.call(u,k)&&(Ot(u[k],l[k])||f.push({command:E,args:[m,k,l[k],_]}))}function Er(u){return u.id}function an(u,l){return u[l.id]=l,u}class ut{constructor(l,f,m,_){this.message=(l?`${l}: `:"")+m,_&&(this.identifier=_),f!=null&&f.__line__&&(this.line=f.__line__)}}function Or(u,...l){for(const f of l)for(const m in f)u[m]=f[m];return u}class Xr extends Error{constructor(l,f){super(f),this.message=f,this.key=l}}class mr{constructor(l,f=[]){this.parent=l,this.bindings={};for(const[m,_]of f)this.bindings[m]=_}concat(l){return new mr(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Jt={kind:"null"},Ke={kind:"number"},At={kind:"string"},$t={kind:"boolean"},Jr={kind:"color"},eo={kind:"object"},Xt={kind:"value"},po={kind:"collator"},No={kind:"formatted"},Ta={kind:"padding"},mo={kind:"resolvedImage"},ts={kind:"variableAnchorOffsetCollection"};function mi(u,l){return{kind:"array",itemType:u,N:l}}function Wr(u){if(u.kind==="array"){const l=Wr(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const _l=[Jt,Ke,At,$t,Jr,No,eo,mi(Xt),Ta,mo,ts];function jo(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!jo(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const f of _l)if(!jo(f,l))return null}}return`Expected ${Wr(u)} but found ${Wr(l)} instead.`}function he(u,l){return l.some(f=>f.kind===u.kind)}function X(u,l){return l.some(f=>f==="null"?u===null:f==="array"?Array.isArray(u):f==="object"?u&&!Array.isArray(u)&&typeof u=="object":f===typeof u)}function Q(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const se=.96422,ge=.82521,be=4/29,Re=6/29,Ce=3*Re*Re,we=Re*Re*Re,ze=Math.PI/180,Je=180/Math.PI;function Qe(u){return(u%=360)<0&&(u+=360),u}function it([u,l,f,m]){let _,E;const k=nr((.2225045*(u=Vt(u))+.7168786*(l=Vt(l))+.0606169*(f=Vt(f)))/1);u===l&&l===f?_=E=k:(_=nr((.4360747*u+.3850649*l+.1430804*f)/se),E=nr((.0139322*u+.0971045*l+.7141733*f)/ge));const $=116*k-16;return[$<0?0:$,500*(_-k),200*(k-E),m]}function Vt(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function nr(u){return u>we?Math.pow(u,1/3):u/Ce+be}function Lt([u,l,f,m]){let _=(u+16)/116,E=isNaN(l)?_:_+l/500,k=isNaN(f)?_:_-f/200;return _=1*rr(_),E=se*rr(E),k=ge*rr(k),[Wt(3.1338561*E-1.6168667*_-.4906146*k),Wt(-.9787684*E+1.9161415*_+.033454*k),Wt(.0719453*E-.2289914*_+1.4052427*k),m]}function Wt(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function rr(u){return u>Re?u*u*u:Ce*(u-be)}function Pr(u){return parseInt(u.padEnd(2,u),16)/255}function Br(u,l){return gr(l?u/100:u,0,1)}function gr(u,l,f){return Math.min(Math.max(l,u),f)}function Ar(u){return!u.some(Number.isNaN)}const Bi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class mt{constructor(l,f,m,_=1,E=!0){this.r=l,this.g=f,this.b=m,this.a=_,E||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[l,f,m,_]))}static parse(l){if(l instanceof mt)return l;if(typeof l!="string")return;const f=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const _=Bi[m];if(_){const[k,$,j]=_;return[k/255,$/255,j/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const k=m.length<6?1:2;let $=1;return[Pr(m.slice($,$+=k)),Pr(m.slice($,$+=k)),Pr(m.slice($,$+=k)),Pr(m.slice($,$+k)||"ff")]}if(m.startsWith("rgb")){const k=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(k){const[$,j,V,Y,Z,J,ne,ie,fe,ye,xe,Le]=k,ke=[Y||" ",ne||" ",ye].join("");if(ke==="  "||ke==="  /"||ke===",,"||ke===",,,"){const Fe=[V,J,fe].join(""),qe=Fe==="%%%"?100:Fe===""?255:0;if(qe){const rt=[gr(+j/qe,0,1),gr(+Z/qe,0,1),gr(+ie/qe,0,1),xe?Br(+xe,Le):1];if(Ar(rt))return rt}}return}}const E=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[k,$,j,V,Y,Z,J,ne,ie]=E,fe=[j||" ",Y||" ",J].join("");if(fe==="  "||fe==="  /"||fe===",,"||fe===",,,"){const ye=[+$,gr(+V,0,100),gr(+Z,0,100),ne?Br(+ne,ie):1];if(Ar(ye))return function([xe,Le,ke,Fe]){function qe(rt){const kt=(rt+xe/30)%12,Ft=Le*Math.min(ke,1-ke);return ke-Ft*Math.max(-1,Math.min(kt-3,9-kt,1))}return xe=Qe(xe),Le/=100,ke/=100,[qe(0),qe(8),qe(4),Fe]}(ye)}}}(l);return f?new mt(...f,!1):void 0}get rgb(){const{r:l,g:f,b:m,a:_}=this,E=_||1/0;return this.overwriteGetter("rgb",[l/E,f/E,m/E,_])}get hcl(){return this.overwriteGetter("hcl",function(l){const[f,m,_,E]=it(l),k=Math.sqrt(m*m+_*_);return[Math.round(1e4*k)?Qe(Math.atan2(_,m)*Je):NaN,k,f,E]}(this.rgb))}get lab(){return this.overwriteGetter("lab",it(this.rgb))}overwriteGetter(l,f){return Object.defineProperty(this,l,{value:f}),f}toString(){const[l,f,m,_]=this.rgb;return`rgba(${[l,f,m].map(E=>Math.round(255*E)).join(",")},${_})`}}mt.black=new mt(0,0,0,1),mt.white=new mt(1,1,1,1),mt.transparent=new mt(0,0,0,0),mt.red=new mt(1,0,0,1);class $r{constructor(l,f,m){this.sensitivity=l?f?"variant":"case":f?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,f){return this.collator.compare(l,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ii{constructor(l,f,m,_,E){this.text=l,this.image=f,this.scale=m,this.fontStack=_,this.textColor=E}}class Kn{constructor(l){this.sections=l}static fromString(l){return new Kn([new Ii(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Kn?l:Kn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Bo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Bo)return l;if(typeof l=="number")return new Bo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const f of l)if(typeof f!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Bo(l)}}toString(){return JSON.stringify(this.values)}}const DE=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Fi{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Fi)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let f=0;f<l.length;f+=2){const m=l[f],_=l[f+1];if(typeof m!="string"||!DE.has(m)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new Fi(l)}}toString(){return JSON.stringify(this.values)}}class oa{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new oa({name:l,available:!1}):null}}function q_(u,l,f,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof f=="number"&&f>=0&&f<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,f,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,f,m]:[u,l,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function mh(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof mt||u instanceof $r||u instanceof Kn||u instanceof Bo||u instanceof Fi||u instanceof oa)return!0;if(Array.isArray(u)){for(const l of u)if(!mh(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!mh(u[l]))return!1;return!0}return!1}function Zn(u){if(u===null)return Jt;if(typeof u=="string")return At;if(typeof u=="boolean")return $t;if(typeof u=="number")return Ke;if(u instanceof mt)return Jr;if(u instanceof $r)return po;if(u instanceof Kn)return No;if(u instanceof Bo)return Ta;if(u instanceof Fi)return ts;if(u instanceof oa)return mo;if(Array.isArray(u)){const l=u.length;let f;for(const m of u){const _=Zn(m);if(f){if(f===_)continue;f=Xt;break}f=_}return mi(f||Xt,l)}return eo}function xl(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof mt||u instanceof Kn||u instanceof Bo||u instanceof Fi||u instanceof oa?u.toString():JSON.stringify(u)}class lc{constructor(l,f){this.type=l,this.value=f}static parse(l,f){if(l.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!mh(l[1]))return f.error("invalid value");const m=l[1];let _=Zn(m);const E=f.expectedType;return _.kind!=="array"||_.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(_=E),new lc(_,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Xn{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const gh={string:At,number:Ke,boolean:$t,object:eo};class Ui{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let m,_=1;const E=l[0];if(E==="array"){let $,j;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in gh)||V==="object")return f.error('The item type argument of "array" must be one of string, number, boolean',1);$=gh[V],_++}else $=Xt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return f.error('The length argument to "array" must be a positive integer literal',2);j=l[2],_++}m=mi($,j)}else{if(!gh[E])throw new Error(`Types doesn't contain name = ${E}`);m=gh[E]}const k=[];for(;_<l.length;_++){const $=f.parse(l[_],_,Xt);if(!$)return null;k.push($)}return new Ui(m,k)}evaluate(l){for(let f=0;f<this.args.length;f++){const m=this.args[f].evaluate(l);if(!jo(this.type,Zn(m)))return m;if(f===this.args.length-1)throw new Xn(`Expected value to be of type ${Wr(this.type)}, but found ${Wr(Zn(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const yh={"to-boolean":$t,"to-color":Jr,"to-number":Ke,"to-string":At};class rs{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");const m=l[0];if(!yh[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return f.error("Expected one argument.");const _=yh[m],E=[];for(let k=1;k<l.length;k++){const $=f.parse(l[k],k,Xt);if(!$)return null;E.push($)}return new rs(_,E)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let f,m;for(const _ of this.args){if(f=_.evaluate(l),m=null,f instanceof mt)return f;if(typeof f=="string"){const E=l.parseColor(f);if(E)return E}else if(Array.isArray(f)&&(m=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:q_(f[0],f[1],f[2],f[3]),!m))return new mt(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new Xn(m||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"padding":{let f;for(const m of this.args){f=m.evaluate(l);const _=Bo.parse(f);if(_)return _}throw new Xn(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(const m of this.args){f=m.evaluate(l);const _=Fi.parse(f);if(_)return _}throw new Xn(`Could not parse variableAnchorOffsetCollection from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(const m of this.args){if(f=m.evaluate(l),f===null)return 0;const _=Number(f);if(!isNaN(_))return _}throw new Xn(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return Kn.fromString(xl(this.args[0].evaluate(l)));case"resolvedImage":return oa.fromString(xl(this.args[0].evaluate(l)));default:return xl(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const qf=["Unknown","Point","LineString","Polygon"];class qr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?qf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let f=this._parseColorCache[l];return f||(f=this._parseColorCache[l]=mt.parse(l)),f}}class vh{constructor(l,f,m=[],_,E=new mr,k=[]){this.registry=l,this.path=m,this.key=m.map($=>`[${$}]`).join(""),this.scope=E,this.errors=k,this.expectedType=_,this._isConstant=f}parse(l,f,m,_,E={}){return f?this.concat(f,m,_)._parse(l,E):this._parse(l,E)}_parse(l,f){function m(_,E,k){return k==="assert"?new Ui(E,[_]):k==="coerce"?new rs(E,[_]):_}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=l[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[_];if(E){let k=E.parse(l,this);if(!k)return null;if(this.expectedType){const $=this.expectedType,j=k.type;if($.kind!=="string"&&$.kind!=="number"&&$.kind!=="boolean"&&$.kind!=="object"&&$.kind!=="array"||j.kind!=="value")if($.kind!=="color"&&$.kind!=="formatted"&&$.kind!=="resolvedImage"||j.kind!=="value"&&j.kind!=="string")if($.kind!=="padding"||j.kind!=="value"&&j.kind!=="number"&&j.kind!=="array")if($.kind!=="variableAnchorOffsetCollection"||j.kind!=="value"&&j.kind!=="array"){if(this.checkSubtype($,j))return null}else k=m(k,$,f.typeAnnotation||"coerce");else k=m(k,$,f.typeAnnotation||"coerce");else k=m(k,$,f.typeAnnotation||"coerce");else k=m(k,$,f.typeAnnotation||"assert")}if(!(k instanceof lc)&&k.type.kind!=="resolvedImage"&&this._isConstant(k)){const $=new qr;try{k=new lc(k.type,k.evaluate($))}catch(j){return this.error(j.message),null}}return k}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,f,m){const _=typeof l=="number"?this.path.concat(l):this.path,E=m?this.scope.concat(m):this.scope;return new vh(this.registry,this._isConstant,_,f||null,E,this.errors)}error(l,...f){const m=`${this.key}${f.map(_=>`[${_}]`).join("")}`;this.errors.push(new Xr(m,l))}checkSubtype(l,f){const m=jo(l,f);return m&&this.error(m),m}}class hu{constructor(l,f,m){this.type=po,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=f}static parse(l,f){if(l.length!==2)return f.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return f.error("Collator options argument must be an object.");const _=f.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,$t);if(!_)return null;const E=f.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,$t);if(!E)return null;let k=null;return m.locale&&(k=f.parse(m.locale,1,At),!k)?null:new hu(_,E,k)}evaluate(l){return new $r(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const bl=8192;function _h(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function Hf(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function LE(u,l){const f=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,_=Math.pow(2,l.z);return[Math.round(f*_*bl),Math.round(m*_*bl)]}function H_(u,l,f){const m=u[0]-l[0],_=u[1]-l[1],E=u[0]-f[0],k=u[1]-f[1];return m*k-E*_==0&&m*E<=0&&_*k<=0}function xh(u,l){let f=!1;for(let k=0,$=l.length;k<$;k++){const j=l[k];for(let V=0,Y=j.length;V<Y-1;V++){if(H_(u,j[V],j[V+1]))return!1;(_=j[V])[1]>(m=u)[1]!=(E=j[V+1])[1]>m[1]&&m[0]<(E[0]-_[0])*(m[1]-_[1])/(E[1]-_[1])+_[0]&&(f=!f)}}var m,_,E;return f}function zE(u,l){for(let f=0;f<l.length;f++)if(xh(u,l[f]))return!0;return!1}function G_(u,l,f,m){const _=m[0]-f[0],E=m[1]-f[1],k=(u[0]-f[0])*E-_*(u[1]-f[1]),$=(l[0]-f[0])*E-_*(l[1]-f[1]);return k>0&&$<0||k<0&&$>0}function NE(u,l,f){for(const V of f)for(let Y=0;Y<V.length-1;++Y)if(($=[(k=V[Y+1])[0]-(E=V[Y])[0],k[1]-E[1]])[0]*(j=[(_=l)[0]-(m=u)[0],_[1]-m[1]])[1]-$[1]*j[0]!=0&&G_(m,_,E,k)&&G_(E,k,m,_))return!0;var m,_,E,k,$,j;return!1}function Y_(u,l){for(let f=0;f<u.length;++f)if(!xh(u[f],l))return!1;for(let f=0;f<u.length-1;++f)if(NE(u[f],u[f+1],l))return!1;return!0}function K_(u,l){for(let f=0;f<l.length;f++)if(Y_(u,l[f]))return!0;return!1}function bh(u,l,f){const m=[];for(let _=0;_<u.length;_++){const E=[];for(let k=0;k<u[_].length;k++){const $=LE(u[_][k],f);_h(l,$),E.push($)}m.push(E)}return m}function Z_(u,l,f){const m=[];for(let _=0;_<u.length;_++){const E=bh(u[_],l,f);m.push(E)}return m}function X_(u,l,f,m){if(u[0]<f[0]||u[0]>f[2]){const _=.5*m;let E=u[0]-f[0]>_?-m:f[0]-u[0]>_?m:0;E===0&&(E=u[0]-f[2]>_?-m:f[2]-u[0]>_?m:0),u[0]+=E}_h(l,u)}function wh(u,l,f,m){const _=Math.pow(2,m.z)*bl,E=[m.x*bl,m.y*bl],k=[];for(const $ of u)for(const j of $){const V=[j.x+E[0],j.y+E[1]];X_(V,l,f,_),k.push(V)}return k}function J_(u,l,f,m){const _=Math.pow(2,m.z)*bl,E=[m.x*bl,m.y*bl],k=[];for(const j of u){const V=[];for(const Y of j){const Z=[Y.x+E[0],Y.y+E[1]];_h(l,Z),V.push(Z)}k.push(V)}if(l[2]-l[0]<=_/2){($=l)[0]=$[1]=1/0,$[2]=$[3]=-1/0;for(const j of k)for(const V of j)X_(V,l,f,_)}var $;return k}class cc{constructor(l,f){this.type=$t,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(mh(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let _=0;_<m.features.length;++_){const E=m.features[_].geometry.type;if(E==="Polygon"||E==="MultiPolygon")return new cc(m,m.features[_].geometry)}else if(m.type==="Feature"){const _=m.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new cc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new cc(m,m)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,m){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],k=f.canonicalID();if(m.type==="Polygon"){const $=bh(m.coordinates,E,k),j=wh(f.geometry(),_,E,k);if(!Hf(_,E))return!1;for(const V of j)if(!xh(V,$))return!1}if(m.type==="MultiPolygon"){const $=Z_(m.coordinates,E,k),j=wh(f.geometry(),_,E,k);if(!Hf(_,E))return!1;for(const V of j)if(!zE(V,$))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,m){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],k=f.canonicalID();if(m.type==="Polygon"){const $=bh(m.coordinates,E,k),j=J_(f.geometry(),_,E,k);if(!Hf(_,E))return!1;for(const V of j)if(!Y_(V,$))return!1}if(m.type==="MultiPolygon"){const $=Z_(m.coordinates,E,k),j=J_(f.geometry(),_,E,k);if(!Hf(_,E))return!1;for(const V of j)if(!K_(V,$))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Sh{constructor(l,f){this.type=f.type,this.name=l,this.boundExpression=f}static parse(l,f){if(l.length!==2||typeof l[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");const m=l[1];return f.scope.has(m)?new Sh(m,f.scope.get(m)):f.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Fo{constructor(l,f,m,_){this.name=l,this.type=f,this._evaluate=m,this.args=_}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,f){const m=l[0],_=Fo.definitions[m];if(!_)return f.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(_)?_[0]:_.type,k=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,$=k.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let j=null;for(const[V,Y]of $){j=new vh(f.registry,Gf,f.path,null,f.scope);const Z=[];let J=!1;for(let ne=1;ne<l.length;ne++){const ie=l[ne],fe=Array.isArray(V)?V[ne-1]:V.type,ye=j.parse(ie,1+Z.length,fe);if(!ye){J=!0;break}Z.push(ye)}if(!J)if(Array.isArray(V)&&V.length!==Z.length)j.error(`Expected ${V.length} arguments, but found ${Z.length} instead.`);else{for(let ne=0;ne<Z.length;ne++){const ie=Array.isArray(V)?V[ne]:V.type,fe=Z[ne];j.concat(ne+1).checkSubtype(ie,fe.type)}if(j.errors.length===0)return new Fo(m,E,Y,Z)}}if($.length===1)f.errors.push(...j.errors);else{const V=($.length?$:k).map(([Z])=>{return J=Z,Array.isArray(J)?`(${J.map(Wr).join(", ")})`:`(${Wr(J.type)}...)`;var J}).join(" | "),Y=[];for(let Z=1;Z<l.length;Z++){const J=f.parse(l[Z],1+Y.length);if(!J)return null;Y.push(Wr(J.type))}f.error(`Expected arguments of type ${V}, but found (${Y.join(", ")}) instead.`)}return null}static register(l,f){Fo.definitions=f;for(const m in f)l[m]=Fo}}function Gf(u){if(u instanceof Sh)return Gf(u.boundExpression);if(u instanceof Fo&&u.name==="error"||u instanceof hu||u instanceof cc)return!1;const l=u instanceof rs||u instanceof Ui;let f=!0;return u.eachChild(m=>{f=l?f&&Gf(m):f&&m instanceof lc}),!!f&&Eh(u)&&Kf(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Eh(u){if(u instanceof Fo&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof cc)return!1;let l=!0;return u.eachChild(f=>{l&&!Eh(f)&&(l=!1)}),l}function Yf(u){if(u instanceof Fo&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(f=>{l&&!Yf(f)&&(l=!1)}),l}function Kf(u,l){if(u instanceof Fo&&l.indexOf(u.name)>=0)return!1;let f=!0;return u.eachChild(m=>{f&&!Kf(m,l)&&(f=!1)}),f}function Zf(u,l){const f=u.length-1;let m,_,E=0,k=f,$=0;for(;E<=k;)if($=Math.floor((E+k)/2),m=u[$],_=u[$+1],m<=l){if($===f||l<_)return $;E=$+1}else{if(!(m>l))throw new Xn("Input is not a number.");k=$-1}return 0}class Xf{constructor(l,f,m){this.type=l,this.input=f,this.labels=[],this.outputs=[];for(const[_,E]of m)this.labels.push(_),this.outputs.push(E)}static parse(l,f){if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");const m=f.parse(l[1],1,Ke);if(!m)return null;const _=[];let E=null;f.expectedType&&f.expectedType.kind!=="value"&&(E=f.expectedType);for(let k=1;k<l.length;k+=2){const $=k===1?-1/0:l[k],j=l[k+1],V=k,Y=k+1;if(typeof $!="number")return f.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(_.length&&_[_.length-1][0]>=$)return f.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const Z=f.parse(j,Y,E);if(!Z)return null;E=E||Z.type,_.push([$,Z])}return new Xf(E,m,_)}evaluate(l){const f=this.labels,m=this.outputs;if(f.length===1)return m[0].evaluate(l);const _=this.input.evaluate(l);if(_<=f[0])return m[0].evaluate(l);const E=f.length;return _>=f[E-1]?m[E-1].evaluate(l):m[Zf(f,_)].evaluate(l)}eachChild(l){l(this.input);for(const f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function uc(u,l,f){return u+f*(l-u)}function Ch(u,l,f){return u.map((m,_)=>uc(m,l[_],f))}const Uo={number:uc,color:function(u,l,f,m="rgb"){switch(m){case"rgb":{const[_,E,k,$]=Ch(u.rgb,l.rgb,f);return new mt(_,E,k,$,!1)}case"hcl":{const[_,E,k,$]=u.hcl,[j,V,Y,Z]=l.hcl;let J,ne;if(isNaN(_)||isNaN(j))isNaN(_)?isNaN(j)?J=NaN:(J=j,k!==1&&k!==0||(ne=V)):(J=_,Y!==1&&Y!==0||(ne=E));else{let Le=j-_;j>_&&Le>180?Le-=360:j<_&&_-j>180&&(Le+=360),J=_+f*Le}const[ie,fe,ye,xe]=function([Le,ke,Fe,qe]){return Le=isNaN(Le)?0:Le*ze,Lt([Fe,Math.cos(Le)*ke,Math.sin(Le)*ke,qe])}([J,ne??uc(E,V,f),uc(k,Y,f),uc($,Z,f)]);return new mt(ie,fe,ye,xe,!1)}case"lab":{const[_,E,k,$]=Lt(Ch(u.lab,l.lab,f));return new mt(_,E,k,$,!1)}}},array:Ch,padding:function(u,l,f){return new Bo(Ch(u.values,l.values,f))},variableAnchorOffsetCollection:function(u,l,f){const m=u.values,_=l.values;if(m.length!==_.length)throw new Xn(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const E=[];for(let k=0;k<m.length;k+=2){if(m[k]!==_[k])throw new Xn(`Cannot interpolate values containing mismatched anchors. from[${k}]: ${m[k]}, to[${k}]: ${_[k]}`);E.push(m[k]);const[$,j]=m[k+1],[V,Y]=_[k+1];E.push([uc($,V,f),uc(j,Y,f)])}return new Fi(E)}};class Vo{constructor(l,f,m,_,E){this.type=l,this.operator=f,this.interpolation=m,this.input=_,this.labels=[],this.outputs=[];for(const[k,$]of E)this.labels.push(k),this.outputs.push($)}static interpolationFactor(l,f,m,_){let E=0;if(l.name==="exponential")E=Og(f,l.base,m,_);else if(l.name==="linear")E=Og(f,1,m,_);else if(l.name==="cubic-bezier"){const k=l.controlPoints;E=new P(k[0],k[1],k[2],k[3]).solve(Og(f,1,m,_))}return E}static parse(l,f){let[m,_,E,...k]=l;if(!Array.isArray(_)||_.length===0)return f.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){const V=_[1];if(typeof V!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:V}}else{if(_[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const V=_.slice(1);if(V.length!==4||V.some(Y=>typeof Y!="number"||Y<0||Y>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(E=f.parse(E,2,Ke),!E)return null;const $=[];let j=null;m==="interpolate-hcl"||m==="interpolate-lab"?j=Jr:f.expectedType&&f.expectedType.kind!=="value"&&(j=f.expectedType);for(let V=0;V<k.length;V+=2){const Y=k[V],Z=k[V+1],J=V+3,ne=V+4;if(typeof Y!="number")return f.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',J);if($.length&&$[$.length-1][0]>=Y)return f.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',J);const ie=f.parse(Z,ne,j);if(!ie)return null;j=j||ie.type,$.push([Y,ie])}return Q(j,Ke)||Q(j,Jr)||Q(j,Ta)||Q(j,ts)||Q(j,mi(Ke))?new Vo(j,m,_,E,$):f.error(`Type ${Wr(j)} is not interpolatable.`)}evaluate(l){const f=this.labels,m=this.outputs;if(f.length===1)return m[0].evaluate(l);const _=this.input.evaluate(l);if(_<=f[0])return m[0].evaluate(l);const E=f.length;if(_>=f[E-1])return m[E-1].evaluate(l);const k=Zf(f,_),$=Vo.interpolationFactor(this.interpolation,_,f[k],f[k+1]),j=m[k].evaluate(l),V=m[k+1].evaluate(l);switch(this.operator){case"interpolate":return Uo[this.type.kind](j,V,$);case"interpolate-hcl":return Uo.color(j,V,$,"hcl");case"interpolate-lab":return Uo.color(j,V,$,"lab")}}eachChild(l){l(this.input);for(const f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Og(u,l,f,m){const _=m-f,E=u-f;return _===0?0:l===1?E/_:(Math.pow(l,E)-1)/(Math.pow(l,_)-1)}class Th{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expectected at least one argument.");let m=null;const _=f.expectedType;_&&_.kind!=="value"&&(m=_);const E=[];for(const $ of l.slice(1)){const j=f.parse($,1+E.length,m,void 0,{typeAnnotation:"omit"});if(!j)return null;m=m||j.type,E.push(j)}if(!m)throw new Error("No output type");const k=_&&E.some($=>jo(_,$.type));return new Th(k?Xt:m,E)}evaluate(l){let f,m=null,_=0;for(const E of this.args)if(_++,m=E.evaluate(l),m&&m instanceof oa&&!m.available&&(f||(f=m.name),m=null,_===this.args.length&&(m=f)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class pu{constructor(l,f){this.type=f.type,this.bindings=[].concat(l),this.result=f}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const f of this.bindings)l(f[1]);l(this.result)}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let E=1;E<l.length-1;E+=2){const k=l[E];if(typeof k!="string")return f.error(`Expected string, but found ${typeof k} instead.`,E);if(/[^a-zA-Z0-9_]/.test(k))return f.error("Variable names must contain only alphanumeric characters or '_'.",E);const $=f.parse(l[E+1],E+1);if(!$)return null;m.push([k,$])}const _=f.parse(l[l.length-1],l.length-1,f.expectedType,m);return _?new pu(m,_):null}outputDefined(){return this.result.outputDefined()}}class mu{constructor(l,f,m){this.type=l,this.index=f,this.input=m}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Ke),_=f.parse(l[2],2,mi(f.expectedType||Xt));return m&&_?new mu(_.type.itemType,m,_):null}evaluate(l){const f=this.index.evaluate(l),m=this.input.evaluate(l);if(f<0)throw new Xn(`Array index out of bounds: ${f} < 0.`);if(f>=m.length)throw new Xn(`Array index out of bounds: ${f} > ${m.length-1}.`);if(f!==Math.floor(f))throw new Xn(`Array index must be an integer, but found ${f} instead.`);return m[f]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Dr{constructor(l,f){this.type=$t,this.needle=l,this.haystack=f}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Xt),_=f.parse(l[2],2,Xt);return m&&_?he(m.type,[$t,At,Ke,Jt,Xt])?new Dr(m,_):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(m.type)} instead`):null}evaluate(l){const f=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!X(f,["boolean","string","number","null"]))throw new Xn(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(Zn(f))} instead.`);if(!X(m,["string","array"]))throw new Xn(`Expected second argument to be of type array or string, but found ${Wr(Zn(m))} instead.`);return m.indexOf(f)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class kh{constructor(l,f,m){this.type=Ke,this.needle=l,this.haystack=f,this.fromIndex=m}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Xt),_=f.parse(l[2],2,Xt);if(!m||!_)return null;if(!he(m.type,[$t,At,Ke,Jt,Xt]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(m.type)} instead`);if(l.length===4){const E=f.parse(l[3],3,Ke);return E?new kh(m,_,E):null}return new kh(m,_)}evaluate(l){const f=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!X(f,["boolean","string","number","null"]))throw new Xn(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(Zn(f))} instead.`);if(!X(m,["string","array"]))throw new Xn(`Expected second argument to be of type array or string, but found ${Wr(Zn(m))} instead.`);if(this.fromIndex){const _=this.fromIndex.evaluate(l);return m.indexOf(f,_)}return m.indexOf(f)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Ig{constructor(l,f,m,_,E,k){this.inputType=l,this.type=f,this.input=m,this.cases=_,this.outputs=E,this.otherwise=k}static parse(l,f){if(l.length<5)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return f.error("Expected an even number of arguments.");let m,_;f.expectedType&&f.expectedType.kind!=="value"&&(_=f.expectedType);const E={},k=[];for(let V=2;V<l.length-1;V+=2){let Y=l[V];const Z=l[V+1];Array.isArray(Y)||(Y=[Y]);const J=f.concat(V);if(Y.length===0)return J.error("Expected at least one branch label.");for(const ie of Y){if(typeof ie!="number"&&typeof ie!="string")return J.error("Branch labels must be numbers or strings.");if(typeof ie=="number"&&Math.abs(ie)>Number.MAX_SAFE_INTEGER)return J.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ie=="number"&&Math.floor(ie)!==ie)return J.error("Numeric branch labels must be integer values.");if(m){if(J.checkSubtype(m,Zn(ie)))return null}else m=Zn(ie);if(E[String(ie)]!==void 0)return J.error("Branch labels must be unique.");E[String(ie)]=k.length}const ne=f.parse(Z,V,_);if(!ne)return null;_=_||ne.type,k.push(ne)}const $=f.parse(l[1],1,Xt);if(!$)return null;const j=f.parse(l[l.length-1],l.length-1,_);return j?$.type.kind!=="value"&&f.concat(1).checkSubtype(m,$.type)?null:new Ig(m,_,$,E,k,j):null}evaluate(l){const f=this.input.evaluate(l);return(Zn(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class Rg{constructor(l,f,m){this.type=l,this.branches=f,this.otherwise=m}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return f.error("Expected an odd number of arguments.");let m;f.expectedType&&f.expectedType.kind!=="value"&&(m=f.expectedType);const _=[];for(let k=1;k<l.length-1;k+=2){const $=f.parse(l[k],k,$t);if(!$)return null;const j=f.parse(l[k+1],k+1,m);if(!j)return null;_.push([$,j]),m=m||j.type}const E=f.parse(l[l.length-1],l.length-1,m);if(!E)return null;if(!m)throw new Error("Can't infer output type");return new Rg(m,_,E)}evaluate(l){for(const[f,m]of this.branches)if(f.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[f,m]of this.branches)l(f),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class Ph{constructor(l,f,m,_){this.type=l,this.input=f,this.beginIndex=m,this.endIndex=_}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=f.parse(l[1],1,Xt),_=f.parse(l[2],2,Ke);if(!m||!_)return null;if(!he(m.type,[mi(Xt),At,Xt]))return f.error(`Expected first argument to be of type array or string, but found ${Wr(m.type)} instead`);if(l.length===4){const E=f.parse(l[3],3,Ke);return E?new Ph(m.type,m,_,E):null}return new Ph(m.type,m,_)}evaluate(l){const f=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!X(f,["string","array"]))throw new Xn(`Expected first argument to be of type array or string, but found ${Wr(Zn(f))} instead.`);if(this.endIndex){const _=this.endIndex.evaluate(l);return f.slice(m,_)}return f.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Q_(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function ex(u,l,f,m){return m.compare(l,f)===0}function gu(u,l,f){const m=u!=="=="&&u!=="!=";return class OW{constructor(E,k,$){this.type=$t,this.lhs=E,this.rhs=k,this.collator=$,this.hasUntypedArgument=E.type.kind==="value"||k.type.kind==="value"}static parse(E,k){if(E.length!==3&&E.length!==4)return k.error("Expected two or three arguments.");const $=E[0];let j=k.parse(E[1],1,Xt);if(!j)return null;if(!Q_($,j.type))return k.concat(1).error(`"${$}" comparisons are not supported for type '${Wr(j.type)}'.`);let V=k.parse(E[2],2,Xt);if(!V)return null;if(!Q_($,V.type))return k.concat(2).error(`"${$}" comparisons are not supported for type '${Wr(V.type)}'.`);if(j.type.kind!==V.type.kind&&j.type.kind!=="value"&&V.type.kind!=="value")return k.error(`Cannot compare types '${Wr(j.type)}' and '${Wr(V.type)}'.`);m&&(j.type.kind==="value"&&V.type.kind!=="value"?j=new Ui(V.type,[j]):j.type.kind!=="value"&&V.type.kind==="value"&&(V=new Ui(j.type,[V])));let Y=null;if(E.length===4){if(j.type.kind!=="string"&&V.type.kind!=="string"&&j.type.kind!=="value"&&V.type.kind!=="value")return k.error("Cannot use collator to compare non-string types.");if(Y=k.parse(E[3],3,po),!Y)return null}return new OW(j,V,Y)}evaluate(E){const k=this.lhs.evaluate(E),$=this.rhs.evaluate(E);if(m&&this.hasUntypedArgument){const j=Zn(k),V=Zn($);if(j.kind!==V.kind||j.kind!=="string"&&j.kind!=="number")throw new Xn(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${j.kind}, ${V.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const j=Zn(k),V=Zn($);if(j.kind!=="string"||V.kind!=="string")return l(E,k,$)}return this.collator?f(E,k,$,this.collator.evaluate(E)):l(E,k,$)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const jE=gu("==",function(u,l,f){return l===f},ex),BE=gu("!=",function(u,l,f){return l!==f},function(u,l,f,m){return!ex(0,l,f,m)}),FE=gu("<",function(u,l,f){return l<f},function(u,l,f,m){return m.compare(l,f)<0}),UE=gu(">",function(u,l,f){return l>f},function(u,l,f,m){return m.compare(l,f)>0}),VE=gu("<=",function(u,l,f){return l<=f},function(u,l,f,m){return m.compare(l,f)<=0}),WE=gu(">=",function(u,l,f){return l>=f},function(u,l,f,m){return m.compare(l,f)>=0});class $g{constructor(l,f,m,_,E){this.type=At,this.number=l,this.locale=f,this.currency=m,this.minFractionDigits=_,this.maxFractionDigits=E}static parse(l,f){if(l.length!==3)return f.error("Expected two arguments.");const m=f.parse(l[1],1,Ke);if(!m)return null;const _=l[2];if(typeof _!="object"||Array.isArray(_))return f.error("NumberFormat options argument must be an object.");let E=null;if(_.locale&&(E=f.parse(_.locale,1,At),!E))return null;let k=null;if(_.currency&&(k=f.parse(_.currency,1,At),!k))return null;let $=null;if(_["min-fraction-digits"]&&($=f.parse(_["min-fraction-digits"],1,Ke),!$))return null;let j=null;return _["max-fraction-digits"]&&(j=f.parse(_["max-fraction-digits"],1,Ke),!j)?null:new $g(m,E,k,$,j)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Ah{constructor(l){this.type=No,this.sections=l}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return f.error("First argument must be an image or text section.");const _=[];let E=!1;for(let k=1;k<=l.length-1;++k){const $=l[k];if(E&&typeof $=="object"&&!Array.isArray($)){E=!1;let j=null;if($["font-scale"]&&(j=f.parse($["font-scale"],1,Ke),!j))return null;let V=null;if($["text-font"]&&(V=f.parse($["text-font"],1,mi(At)),!V))return null;let Y=null;if($["text-color"]&&(Y=f.parse($["text-color"],1,Jr),!Y))return null;const Z=_[_.length-1];Z.scale=j,Z.font=V,Z.textColor=Y}else{const j=f.parse(l[k],1,Xt);if(!j)return null;const V=j.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,_.push({content:j,scale:null,font:null,textColor:null})}}return new Ah(_)}evaluate(l){return new Kn(this.sections.map(f=>{const m=f.content.evaluate(l);return Zn(m)===mo?new Ii("",m,null,null,null):new Ii(xl(m),null,f.scale?f.scale.evaluate(l):null,f.font?f.font.evaluate(l).join(","):null,f.textColor?f.textColor.evaluate(l):null)}))}eachChild(l){for(const f of this.sections)l(f.content),f.scale&&l(f.scale),f.font&&l(f.font),f.textColor&&l(f.textColor)}outputDefined(){return!1}}class Dg{constructor(l){this.type=mo,this.input=l}static parse(l,f){if(l.length!==2)return f.error("Expected two arguments.");const m=f.parse(l[1],1,At);return m?new Dg(m):f.error("No image name provided.")}evaluate(l){const f=this.input.evaluate(l),m=oa.fromString(f);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(f)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class Lg{constructor(l){this.type=Ke,this.input=l}static parse(l,f){if(l.length!==2)return f.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=f.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${Wr(m.type)} instead.`):new Lg(m):null}evaluate(l){const f=this.input.evaluate(l);if(typeof f=="string"||Array.isArray(f))return f.length;throw new Xn(`Expected value to be of type string or array, but found ${Wr(Zn(f))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const yu={"==":jE,"!=":BE,">":UE,"<":FE,">=":WE,"<=":VE,array:Ui,at:mu,boolean:Ui,case:Rg,coalesce:Th,collator:hu,format:Ah,image:Dg,in:Dr,"index-of":kh,interpolate:Vo,"interpolate-hcl":Vo,"interpolate-lab":Vo,length:Lg,let:pu,literal:lc,match:Ig,number:Ui,"number-format":$g,object:Ui,slice:Ph,step:Xf,string:Ui,"to-boolean":rs,"to-color":rs,"to-number":rs,"to-string":rs,var:Sh,within:cc};function tx(u,[l,f,m,_]){l=l.evaluate(u),f=f.evaluate(u),m=m.evaluate(u);const E=_?_.evaluate(u):1,k=q_(l,f,m,E);if(k)throw new Xn(k);return new mt(l/255,f/255,m/255,E,!1)}function rx(u,l){return u in l}function zg(u,l){const f=l[u];return f===void 0?null:f}function fc(u){return{type:u}}function nx(u){return{result:"success",value:u}}function vu(u){return{result:"error",value:u}}function _u(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function ix(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function Ng(u){return!!u.expression&&u.expression.interpolated}function Nr(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Mh(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function qE(u){return u}function ox(u,l){const f=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",_=m||!(m||u.property!==void 0),E=u.type||(Ng(l)?"exponential":"interval");if(f||l.type==="padding"){const Y=f?mt.parse:Bo.parse;(u=Or({},u)).stops&&(u.stops=u.stops.map(Z=>[Z[0],Y(Z[1])])),u.default=Y(u.default?u.default:l.default)}if(u.colorSpace&&(k=u.colorSpace)!=="rgb"&&k!=="hcl"&&k!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var k;let $,j,V;if(E==="exponential")$=ax;else if(E==="interval")$=GE;else if(E==="categorical"){$=HE,j=Object.create(null);for(const Y of u.stops)j[Y[0]]=Y[1];V=typeof u.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);$=YE}if(m){const Y={},Z=[];for(let ie=0;ie<u.stops.length;ie++){const fe=u.stops[ie],ye=fe[0].zoom;Y[ye]===void 0&&(Y[ye]={zoom:ye,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(ye)),Y[ye].stops.push([fe[0].value,fe[1]])}const J=[];for(const ie of Z)J.push([Y[ie].zoom,ox(Y[ie],l)]);const ne={name:"linear"};return{kind:"composite",interpolationType:ne,interpolationFactor:Vo.interpolationFactor.bind(void 0,ne),zoomStops:J.map(ie=>ie[0]),evaluate:({zoom:ie},fe)=>ax({stops:J,base:u.base},l,ie).evaluate(ie,fe)}}if(_){const Y=E==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:Y,interpolationFactor:Vo.interpolationFactor.bind(void 0,Y),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>$(u,l,Z,j,V)}}return{kind:"source",evaluate(Y,Z){const J=Z&&Z.properties?Z.properties[u.property]:void 0;return J===void 0?dc(u.default,l.default):$(u,l,J,j,V)}}}function dc(u,l,f){return u!==void 0?u:l!==void 0?l:f!==void 0?f:void 0}function HE(u,l,f,m,_){return dc(typeof f===_?m[f]:void 0,u.default,l.default)}function GE(u,l,f){if(Nr(f)!=="number")return dc(u.default,l.default);const m=u.stops.length;if(m===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[m-1][0])return u.stops[m-1][1];const _=Zf(u.stops.map(E=>E[0]),f);return u.stops[_][1]}function ax(u,l,f){const m=u.base!==void 0?u.base:1;if(Nr(f)!=="number")return dc(u.default,l.default);const _=u.stops.length;if(_===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[_-1][0])return u.stops[_-1][1];const E=Zf(u.stops.map(Y=>Y[0]),f),k=function(Y,Z,J,ne){const ie=ne-J,fe=Y-J;return ie===0?0:Z===1?fe/ie:(Math.pow(Z,fe)-1)/(Math.pow(Z,ie)-1)}(f,m,u.stops[E][0],u.stops[E+1][0]),$=u.stops[E][1],j=u.stops[E+1][1],V=Uo[l.type]||qE;return typeof $.evaluate=="function"?{evaluate(...Y){const Z=$.evaluate.apply(void 0,Y),J=j.evaluate.apply(void 0,Y);if(Z!==void 0&&J!==void 0)return V(Z,J,k,u.colorSpace)}}:V($,j,k,u.colorSpace)}function YE(u,l,f){switch(l.type){case"color":f=mt.parse(f);break;case"formatted":f=Kn.fromString(f.toString());break;case"resolvedImage":f=oa.fromString(f.toString());break;case"padding":f=Bo.parse(f);break;default:Nr(f)===l.type||l.type==="enum"&&l.values[f]||(f=void 0)}return dc(f,u.default,l.default)}Fo.register(yu,{error:[{kind:"error"},[At],(u,[l])=>{throw new Xn(l.evaluate(u))}],typeof:[At,[Xt],(u,[l])=>Wr(Zn(l.evaluate(u)))],"to-rgba":[mi(Ke,4),[Jr],(u,[l])=>{const[f,m,_,E]=l.evaluate(u).rgb;return[255*f,255*m,255*_,E]}],rgb:[Jr,[Ke,Ke,Ke],tx],rgba:[Jr,[Ke,Ke,Ke,Ke],tx],has:{type:$t,overloads:[[[At],(u,[l])=>rx(l.evaluate(u),u.properties())],[[At,eo],(u,[l,f])=>rx(l.evaluate(u),f.evaluate(u))]]},get:{type:Xt,overloads:[[[At],(u,[l])=>zg(l.evaluate(u),u.properties())],[[At,eo],(u,[l,f])=>zg(l.evaluate(u),f.evaluate(u))]]},"feature-state":[Xt,[At],(u,[l])=>zg(l.evaluate(u),u.featureState||{})],properties:[eo,[],u=>u.properties()],"geometry-type":[At,[],u=>u.geometryType()],id:[Xt,[],u=>u.id()],zoom:[Ke,[],u=>u.globals.zoom],"heatmap-density":[Ke,[],u=>u.globals.heatmapDensity||0],"line-progress":[Ke,[],u=>u.globals.lineProgress||0],accumulated:[Xt,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Ke,fc(Ke),(u,l)=>{let f=0;for(const m of l)f+=m.evaluate(u);return f}],"*":[Ke,fc(Ke),(u,l)=>{let f=1;for(const m of l)f*=m.evaluate(u);return f}],"-":{type:Ke,overloads:[[[Ke,Ke],(u,[l,f])=>l.evaluate(u)-f.evaluate(u)],[[Ke],(u,[l])=>-l.evaluate(u)]]},"/":[Ke,[Ke,Ke],(u,[l,f])=>l.evaluate(u)/f.evaluate(u)],"%":[Ke,[Ke,Ke],(u,[l,f])=>l.evaluate(u)%f.evaluate(u)],ln2:[Ke,[],()=>Math.LN2],pi:[Ke,[],()=>Math.PI],e:[Ke,[],()=>Math.E],"^":[Ke,[Ke,Ke],(u,[l,f])=>Math.pow(l.evaluate(u),f.evaluate(u))],sqrt:[Ke,[Ke],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))],log2:[Ke,[Ke],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[Ke,[Ke],(u,[l])=>Math.sin(l.evaluate(u))],cos:[Ke,[Ke],(u,[l])=>Math.cos(l.evaluate(u))],tan:[Ke,[Ke],(u,[l])=>Math.tan(l.evaluate(u))],asin:[Ke,[Ke],(u,[l])=>Math.asin(l.evaluate(u))],acos:[Ke,[Ke],(u,[l])=>Math.acos(l.evaluate(u))],atan:[Ke,[Ke],(u,[l])=>Math.atan(l.evaluate(u))],min:[Ke,fc(Ke),(u,l)=>Math.min(...l.map(f=>f.evaluate(u)))],max:[Ke,fc(Ke),(u,l)=>Math.max(...l.map(f=>f.evaluate(u)))],abs:[Ke,[Ke],(u,[l])=>Math.abs(l.evaluate(u))],round:[Ke,[Ke],(u,[l])=>{const f=l.evaluate(u);return f<0?-Math.round(-f):Math.round(f)}],floor:[Ke,[Ke],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[Ke,[Ke],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[$t,[At,Xt],(u,[l,f])=>u.properties()[l.value]===f.value],"filter-id-==":[$t,[Xt],(u,[l])=>u.id()===l.value],"filter-type-==":[$t,[At],(u,[l])=>u.geometryType()===l.value],"filter-<":[$t,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m<_}],"filter-id-<":[$t,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f<m}],"filter->":[$t,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m>_}],"filter-id->":[$t,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f>m}],"filter-<=":[$t,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m<=_}],"filter-id-<=":[$t,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f<=m}],"filter->=":[$t,[At,Xt],(u,[l,f])=>{const m=u.properties()[l.value],_=f.value;return typeof m==typeof _&&m>=_}],"filter-id->=":[$t,[Xt],(u,[l])=>{const f=u.id(),m=l.value;return typeof f==typeof m&&f>=m}],"filter-has":[$t,[Xt],(u,[l])=>l.value in u.properties()],"filter-has-id":[$t,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[$t,[mi(At)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[$t,[mi(Xt)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[$t,[At,mi(Xt)],(u,[l,f])=>f.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[$t,[At,mi(Xt)],(u,[l,f])=>function(m,_,E,k){for(;E<=k;){const $=E+k>>1;if(_[$]===m)return!0;_[$]>m?k=$-1:E=$+1}return!1}(u.properties()[l.value],f.value,0,f.value.length-1)],all:{type:$t,overloads:[[[$t,$t],(u,[l,f])=>l.evaluate(u)&&f.evaluate(u)],[fc($t),(u,l)=>{for(const f of l)if(!f.evaluate(u))return!1;return!0}]]},any:{type:$t,overloads:[[[$t,$t],(u,[l,f])=>l.evaluate(u)||f.evaluate(u)],[fc($t),(u,l)=>{for(const f of l)if(f.evaluate(u))return!0;return!1}]]},"!":[$t,[$t],(u,[l])=>!l.evaluate(u)],"is-supported-script":[$t,[At],(u,[l])=>{const f=u.globals&&u.globals.isSupportedScript;return!f||f(l.evaluate(u))}],upcase:[At,[At],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[At,[At],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[At,fc(Xt),(u,l)=>l.map(f=>xl(f.evaluate(u))).join("")],"resolved-locale":[At,[po],(u,[l])=>l.evaluate(u).resolvedLocale()]});class kn{constructor(l,f){var m;this.expression=l,this._warningHistory={},this._evaluator=new qr,this._defaultValue=f?(m=f).type==="color"&&Mh(m.default)?new mt(0,0,0,0):m.type==="color"?mt.parse(m.default)||null:m.type==="padding"?Bo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?Fi.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(l,f,m,_,E,k){return this._evaluator.globals=l,this._evaluator.feature=f,this._evaluator.featureState=m,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=k,this.expression.evaluate(this._evaluator)}evaluate(l,f,m,_,E,k){this._evaluator.globals=l,this._evaluator.feature=f||null,this._evaluator.featureState=m||null,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=k||null;try{const $=this.expression.evaluate(this._evaluator);if($==null||typeof $=="number"&&$!=$)return this._defaultValue;if(this._enumValues&&!($ in this._enumValues))throw new Xn(`Expected value to be one of ${Object.keys(this._enumValues).map(j=>JSON.stringify(j)).join(", ")}, but found ${JSON.stringify($)} instead.`);return $}catch($){return this._warningHistory[$.message]||(this._warningHistory[$.message]=!0,typeof console<"u"&&console.warn($.message)),this._defaultValue}}}function Oh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in yu}function _r(u,l){const f=new vh(yu,Gf,[],l?function(_){const E={color:Jr,string:At,number:Ke,enum:At,boolean:$t,formatted:No,padding:Ta,resolvedImage:mo,variableAnchorOffsetCollection:ts};return _.type==="array"?mi(E[_.value]||Xt,_.length):E[_.type]}(l):void 0),m=f.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?nx(new kn(m,l)):vu(f.errors)}class Jf{constructor(l,f){this.kind=l,this._styleExpression=f,this.isStateDependent=l!=="constant"&&!Yf(f.expression)}evaluateWithoutErrorHandling(l,f,m,_,E,k){return this._styleExpression.evaluateWithoutErrorHandling(l,f,m,_,E,k)}evaluate(l,f,m,_,E,k){return this._styleExpression.evaluate(l,f,m,_,E,k)}}class hn{constructor(l,f,m,_){this.kind=l,this.zoomStops=m,this._styleExpression=f,this.isStateDependent=l!=="camera"&&!Yf(f.expression),this.interpolationType=_}evaluateWithoutErrorHandling(l,f,m,_,E,k){return this._styleExpression.evaluateWithoutErrorHandling(l,f,m,_,E,k)}evaluate(l,f,m,_,E,k){return this._styleExpression.evaluate(l,f,m,_,E,k)}interpolationFactor(l,f,m){return this.interpolationType?Vo.interpolationFactor(this.interpolationType,l,f,m):0}}function pn(u,l){const f=_r(u,l);if(f.result==="error")return f;const m=f.value.expression,_=Eh(m);if(!_&&!_u(l))return vu([new Xr("","data expressions not supported")]);const E=Kf(m,["zoom"]);if(!E&&!ix(l))return vu([new Xr("","zoom expressions not supported")]);const k=Qf(m);return k||E?k instanceof Xr?vu([k]):k instanceof Vo&&!Ng(l)?vu([new Xr("",'"interpolate" expressions cannot be used with this property')]):nx(k?new hn(_?"camera":"composite",f.value,k.labels,k instanceof Vo?k.interpolation:void 0):new Jf(_?"constant":"source",f.value)):vu([new Xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class hc{constructor(l,f){this._parameters=l,this._specification=f,Or(this,ox(this._parameters,this._specification))}static deserialize(l){return new hc(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Qf(u){let l=null;if(u instanceof pu)l=Qf(u.result);else if(u instanceof Th){for(const f of u.args)if(l=Qf(f),l)break}else(u instanceof Xf||u instanceof Vo)&&u.input instanceof Fo&&u.input.name==="zoom"&&(l=u);return l instanceof Xr||u.eachChild(f=>{const m=Qf(f);m instanceof Xr?l=m:!l&&m?l=new Xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new Xr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function jg(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!jg(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const KE={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Bg(u){if(u==null)return{filter:()=>!0,needGeometry:!1};jg(u)||(u=ed(u));const l=_r(u,KE);if(l.result==="error")throw new Error(l.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,m,_)=>l.value.evaluate(f,m,{},_),needGeometry:Fg(u)}}function ZE(u,l){return u<l?-1:u>l?1:0}function Fg(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Fg(u[l]))return!0;return!1}function ed(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?Ih(u[1],u[2],"=="):l==="!="?$h(Ih(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Ih(u[1],u[2],l):l==="any"?(f=u.slice(1),["any"].concat(f.map(ed))):l==="all"?["all"].concat(u.slice(1).map(ed)):l==="none"?["all"].concat(u.slice(1).map(ed).map($h)):l==="in"?Ug(u[1],u.slice(2)):l==="!in"?$h(Ug(u[1],u.slice(2))):l==="has"?Rh(u[1]):l==="!has"?$h(Rh(u[1])):l!=="within"||u;var f}function Ih(u,l,f){switch(u){case"$type":return[`filter-type-${f}`,l];case"$id":return[`filter-id-${f}`,l];default:return[`filter-${f}`,u,l]}}function Ug(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(f=>typeof f!=typeof l[0])?["filter-in-large",u,["literal",l.sort(ZE)]]:["filter-in-small",u,["literal",l]]}}function Rh(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function $h(u){return["!",u]}function Vg(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let _="[";for(const E of u)_+=`${Vg(E)},`;return`${_}]`}const f=Object.keys(u).sort();let m="{";for(let _=0;_<f.length;_++)m+=`${JSON.stringify(f[_])}:${Vg(u[f[_]])},`;return`${m}}`}function XE(u){let l="";for(const f of St)l+=`/${Vg(u[f])}`;return l}function sx(u){const l=u.value;return l?[new ut(u.key,l,"constants have been deprecated as of v8")]:[]}function Jn(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function pc(u){if(Array.isArray(u))return u.map(pc);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const f in u)l[f]=pc(u[f]);return l}return Jn(u)}function aa(u){const l=u.key,f=u.value,m=u.valueSpec||{},_=u.objectElementValidators||{},E=u.style,k=u.styleSpec,$=u.validateSpec;let j=[];const V=Nr(f);if(V!=="object")return[new ut(l,f,`object expected, ${V} found`)];for(const Y in f){const Z=Y.split(".")[0],J=m[Z]||m["*"];let ne;if(_[Z])ne=_[Z];else if(m[Z])ne=$;else if(_["*"])ne=_["*"];else{if(!m["*"]){j.push(new ut(l,f[Y],`unknown property "${Y}"`));continue}ne=$}j=j.concat(ne({key:(l&&`${l}.`)+Y,value:f[Y],valueSpec:J,style:E,styleSpec:k,object:f,objectKey:Y,validateSpec:$},f))}for(const Y in m)_[Y]||m[Y].required&&m[Y].default===void 0&&f[Y]===void 0&&j.push(new ut(l,f,`missing required property "${Y}"`));return j}function Wg(u){const l=u.value,f=u.valueSpec,m=u.style,_=u.styleSpec,E=u.key,k=u.arrayElementValidator||u.validateSpec;if(Nr(l)!=="array")return[new ut(E,l,`array expected, ${Nr(l)} found`)];if(f.length&&l.length!==f.length)return[new ut(E,l,`array length ${f.length} expected, length ${l.length} found`)];if(f["min-length"]&&l.length<f["min-length"])return[new ut(E,l,`array length at least ${f["min-length"]} expected, length ${l.length} found`)];let $={type:f.value,values:f.values};_.$version<7&&($.function=f.function),Nr(f.value)==="object"&&($=f.value);let j=[];for(let V=0;V<l.length;V++)j=j.concat(k({array:l,arrayIndex:V,value:l[V],valueSpec:$,validateSpec:u.validateSpec,style:m,styleSpec:_,key:`${E}[${V}]`}));return j}function Dh(u){const l=u.key,f=u.value,m=u.valueSpec;let _=Nr(f);return _==="number"&&f!=f&&(_="NaN"),_!=="number"?[new ut(l,f,`number expected, ${_} found`)]:"minimum"in m&&f<m.minimum?[new ut(l,f,`${f} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&f>m.maximum?[new ut(l,f,`${f} is greater than the maximum value ${m.maximum}`)]:[]}function qg(u){const l=u.valueSpec,f=Jn(u.value.type);let m,_,E,k={};const $=f!=="categorical"&&u.value.property===void 0,j=!$,V=Nr(u.value.stops)==="array"&&Nr(u.value.stops[0])==="array"&&Nr(u.value.stops[0][0])==="object",Y=aa({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(ne){if(f==="identity")return[new ut(ne.key,ne.value,'identity function may not have a "stops" property')];let ie=[];const fe=ne.value;return ie=ie.concat(Wg({key:ne.key,value:fe,valueSpec:ne.valueSpec,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec,arrayElementValidator:Z})),Nr(fe)==="array"&&fe.length===0&&ie.push(new ut(ne.key,fe,"array must have at least one stop")),ie},default:function(ne){return ne.validateSpec({key:ne.key,value:ne.value,valueSpec:l,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec})}}});return f==="identity"&&$&&Y.push(new ut(u.key,u.value,'missing required property "property"')),f==="identity"||u.value.stops||Y.push(new ut(u.key,u.value,'missing required property "stops"')),f==="exponential"&&u.valueSpec.expression&&!Ng(u.valueSpec)&&Y.push(new ut(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(j&&!_u(u.valueSpec)?Y.push(new ut(u.key,u.value,"property functions not supported")):$&&!ix(u.valueSpec)&&Y.push(new ut(u.key,u.value,"zoom functions not supported"))),f!=="categorical"&&!V||u.value.property!==void 0||Y.push(new ut(u.key,u.value,'"property" property is required')),Y;function Z(ne){let ie=[];const fe=ne.value,ye=ne.key;if(Nr(fe)!=="array")return[new ut(ye,fe,`array expected, ${Nr(fe)} found`)];if(fe.length!==2)return[new ut(ye,fe,`array length 2 expected, length ${fe.length} found`)];if(V){if(Nr(fe[0])!=="object")return[new ut(ye,fe,`object expected, ${Nr(fe[0])} found`)];if(fe[0].zoom===void 0)return[new ut(ye,fe,"object stop key must have zoom")];if(fe[0].value===void 0)return[new ut(ye,fe,"object stop key must have value")];if(E&&E>Jn(fe[0].zoom))return[new ut(ye,fe[0].zoom,"stop zoom values must appear in ascending order")];Jn(fe[0].zoom)!==E&&(E=Jn(fe[0].zoom),_=void 0,k={}),ie=ie.concat(aa({key:`${ye}[0]`,value:fe[0],valueSpec:{zoom:{}},validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{zoom:Dh,value:J}}))}else ie=ie.concat(J({key:`${ye}[0]`,value:fe[0],valueSpec:{},validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec},fe));return Oh(pc(fe[1]))?ie.concat([new ut(`${ye}[1]`,fe[1],"expressions are not allowed in function stops.")]):ie.concat(ne.validateSpec({key:`${ye}[1]`,value:fe[1],valueSpec:l,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec}))}function J(ne,ie){const fe=Nr(ne.value),ye=Jn(ne.value),xe=ne.value!==null?ne.value:ie;if(m){if(fe!==m)return[new ut(ne.key,xe,`${fe} stop domain type must match previous stop domain type ${m}`)]}else m=fe;if(fe!=="number"&&fe!=="string"&&fe!=="boolean")return[new ut(ne.key,xe,"stop domain value must be a number, string, or boolean")];if(fe!=="number"&&f!=="categorical"){let Le=`number expected, ${fe} found`;return _u(l)&&f===void 0&&(Le+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ut(ne.key,xe,Le)]}return f!=="categorical"||fe!=="number"||isFinite(ye)&&Math.floor(ye)===ye?f!=="categorical"&&fe==="number"&&_!==void 0&&ye<_?[new ut(ne.key,xe,"stop domain values must appear in ascending order")]:(_=ye,f==="categorical"&&ye in k?[new ut(ne.key,xe,"stop domain values must be unique")]:(k[ye]=!0,[])):[new ut(ne.key,xe,`integer expected, found ${ye}`)]}}function Ls(u){const l=(u.expressionContext==="property"?pn:_r)(pc(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new ut(`${u.key}${m.key}`,u.value,m.message));const f=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!f.outputDefined())return[new ut(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Yf(f))return[new ut(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!Yf(f))return[new ut(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Kf(f,["zoom","feature-state"]))return[new ut(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Eh(f))return[new ut(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function td(u){const l=u.key,f=u.value,m=u.valueSpec,_=[];return Array.isArray(m.values)?m.values.indexOf(Jn(f))===-1&&_.push(new ut(l,f,`expected one of [${m.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(m.values).indexOf(Jn(f))===-1&&_.push(new ut(l,f,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(f)} found`)),_}function Lh(u){return jg(pc(u.value))?Ls(Or({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):lx(u)}function lx(u){const l=u.value,f=u.key;if(Nr(l)!=="array")return[new ut(f,l,`array expected, ${Nr(l)} found`)];const m=u.styleSpec;let _,E=[];if(l.length<1)return[new ut(f,l,"filter array must have at least 1 element")];switch(E=E.concat(td({key:`${f}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Jn(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Jn(l[1])==="$type"&&E.push(new ut(f,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&E.push(new ut(f,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(_=Nr(l[1]),_!=="string"&&E.push(new ut(`${f}[1]`,l[1],`string expected, ${_} found`)));for(let k=2;k<l.length;k++)_=Nr(l[k]),Jn(l[1])==="$type"?E=E.concat(td({key:`${f}[${k}]`,value:l[k],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&E.push(new ut(`${f}[${k}]`,l[k],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let k=1;k<l.length;k++)E=E.concat(lx({key:`${f}[${k}]`,value:l[k],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":_=Nr(l[1]),l.length!==2?E.push(new ut(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="string"&&E.push(new ut(`${f}[1]`,l[1],`string expected, ${_} found`));break;case"within":_=Nr(l[1]),l.length!==2?E.push(new ut(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="object"&&E.push(new ut(`${f}[1]`,l[1],`object expected, ${_} found`))}return E}function zh(u,l){const f=u.key,m=u.validateSpec,_=u.style,E=u.styleSpec,k=u.value,$=u.objectKey,j=E[`${l}_${u.layerType}`];if(!j)return[];const V=$.match(/^(.*)-transition$/);if(l==="paint"&&V&&j[V[1]]&&j[V[1]].transition)return m({key:f,value:k,valueSpec:E.transition,style:_,styleSpec:E});const Y=u.valueSpec||j[$];if(!Y)return[new ut(f,k,`unknown property "${$}"`)];let Z;if(Nr(k)==="string"&&_u(Y)&&!Y.tokens&&(Z=/^{([^}]+)}$/.exec(k)))return[new ut(f,k,`"${$}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const J=[];return u.layerType==="symbol"&&($==="text-field"&&_&&!_.glyphs&&J.push(new ut(f,k,'use of "text-field" requires a style "glyphs" property')),$==="text-font"&&Mh(pc(k))&&Jn(k.type)==="identity"&&J.push(new ut(f,k,'"text-font" does not support identity functions'))),J.concat(m({key:u.key,value:k,valueSpec:Y,style:_,styleSpec:E,expressionContext:"property",propertyType:l,propertyKey:$}))}function rd(u){return zh(u,"paint")}function Nh(u){return zh(u,"layout")}function jh(u){let l=[];const f=u.value,m=u.key,_=u.style,E=u.styleSpec;f.type||f.ref||l.push(new ut(m,f,'either "type" or "ref" is required'));let k=Jn(f.type);const $=Jn(f.ref);if(f.id){const j=Jn(f.id);for(let V=0;V<u.arrayIndex;V++){const Y=_.layers[V];Jn(Y.id)===j&&l.push(new ut(m,f.id,`duplicate layer id "${f.id}", previously used at line ${Y.id.__line__}`))}}if("ref"in f){let j;["type","source","source-layer","filter","layout"].forEach(V=>{V in f&&l.push(new ut(m,f[V],`"${V}" is prohibited for ref layers`))}),_.layers.forEach(V=>{Jn(V.id)===$&&(j=V)}),j?j.ref?l.push(new ut(m,f.ref,"ref cannot reference another ref layer")):k=Jn(j.type):l.push(new ut(m,f.ref,`ref layer "${$}" not found`))}else if(k!=="background")if(f.source){const j=_.sources&&_.sources[f.source],V=j&&Jn(j.type);j?V==="vector"&&k==="raster"?l.push(new ut(m,f.source,`layer "${f.id}" requires a raster source`)):V==="raster"&&k!=="raster"?l.push(new ut(m,f.source,`layer "${f.id}" requires a vector source`)):V!=="vector"||f["source-layer"]?V==="raster-dem"&&k!=="hillshade"?l.push(new ut(m,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):k!=="line"||!f.paint||!f.paint["line-gradient"]||V==="geojson"&&j.lineMetrics||l.push(new ut(m,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new ut(m,f,`layer "${f.id}" must specify a "source-layer"`)):l.push(new ut(m,f.source,`source "${f.source}" not found`))}else l.push(new ut(m,f,'missing required property "source"'));return l=l.concat(aa({key:m,value:f,valueSpec:E.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:f.type,valueSpec:E.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:f,objectKey:"type"}),filter:Lh,layout:j=>aa({layer:f,key:j.key,value:j.value,style:j.style,styleSpec:j.styleSpec,validateSpec:j.validateSpec,objectElementValidators:{"*":V=>Nh(Or({layerType:k},V))}}),paint:j=>aa({layer:f,key:j.key,value:j.value,style:j.style,styleSpec:j.styleSpec,validateSpec:j.validateSpec,objectElementValidators:{"*":V=>rd(Or({layerType:k},V))}})}})),l}function mc(u){const l=u.value,f=u.key,m=Nr(l);return m!=="string"?[new ut(f,l,`string expected, ${m} found`)]:[]}const nd={promoteId:function({key:u,value:l}){if(Nr(l)==="string")return mc({key:u,value:l});{const f=[];for(const m in l)f.push(...mc({key:`${u}.${m}`,value:l[m]}));return f}}};function cx(u){const l=u.value,f=u.key,m=u.styleSpec,_=u.style,E=u.validateSpec;if(!l.type)return[new ut(f,l,'"type" is required')];const k=Jn(l.type);let $;switch(k){case"vector":case"raster":case"raster-dem":return $=aa({key:f,value:l,valueSpec:m[`source_${k.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:nd,validateSpec:E}),$;case"geojson":if($=aa({key:f,value:l,valueSpec:m.source_geojson,style:_,styleSpec:m,validateSpec:E,objectElementValidators:nd}),l.cluster)for(const j in l.clusterProperties){const[V,Y]=l.clusterProperties[j],Z=typeof V=="string"?[V,["accumulated"],["get",j]]:V;$.push(...Ls({key:`${f}.${j}.map`,value:Y,validateSpec:E,expressionContext:"cluster-map"})),$.push(...Ls({key:`${f}.${j}.reduce`,value:Z,validateSpec:E,expressionContext:"cluster-reduce"}))}return $;case"video":return aa({key:f,value:l,valueSpec:m.source_video,style:_,validateSpec:E,styleSpec:m});case"image":return aa({key:f,value:l,valueSpec:m.source_image,style:_,validateSpec:E,styleSpec:m});case"canvas":return[new ut(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return td({key:`${f}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:E,styleSpec:m})}}function ux(u){const l=u.value,f=u.styleSpec,m=f.light,_=u.style;let E=[];const k=Nr(l);if(l===void 0)return E;if(k!=="object")return E=E.concat([new ut("light",l,`object expected, ${k} found`)]),E;for(const $ in l){const j=$.match(/^(.*)-transition$/);E=E.concat(j&&m[j[1]]&&m[j[1]].transition?u.validateSpec({key:$,value:l[$],valueSpec:f.transition,validateSpec:u.validateSpec,style:_,styleSpec:f}):m[$]?u.validateSpec({key:$,value:l[$],valueSpec:m[$],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new ut($,l[$],`unknown property "${$}"`)])}return E}function fx(u){const l=u.value,f=u.styleSpec,m=f.terrain,_=u.style;let E=[];const k=Nr(l);if(l===void 0)return E;if(k!=="object")return E=E.concat([new ut("terrain",l,`object expected, ${k} found`)]),E;for(const $ in l)E=E.concat(m[$]?u.validateSpec({key:$,value:l[$],valueSpec:m[$],validateSpec:u.validateSpec,style:_,styleSpec:f}):[new ut($,l[$],`unknown property "${$}"`)]);return E}function dx(u){let l=[];const f=u.value,m=u.key;if(Array.isArray(f)){const _=[],E=[];for(const k in f)f[k].id&&_.includes(f[k].id)&&l.push(new ut(m,f,`all the sprites' ids must be unique, but ${f[k].id} is duplicated`)),_.push(f[k].id),f[k].url&&E.includes(f[k].url)&&l.push(new ut(m,f,`all the sprites' URLs must be unique, but ${f[k].url} is duplicated`)),E.push(f[k].url),l=l.concat(aa({key:`${m}[${k}]`,value:f[k],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return mc({key:m,value:f})}const hx={"*":()=>[],array:Wg,boolean:function(u){const l=u.value,f=u.key,m=Nr(l);return m!=="boolean"?[new ut(f,l,`boolean expected, ${m} found`)]:[]},number:Dh,color:function(u){const l=u.key,f=u.value,m=Nr(f);return m!=="string"?[new ut(l,f,`color expected, ${m} found`)]:mt.parse(String(f))?[]:[new ut(l,f,`color expected, "${f}" found`)]},constants:sx,enum:td,filter:Lh,function:qg,layer:jh,object:aa,source:cx,light:ux,terrain:fx,string:mc,formatted:function(u){return mc(u).length===0?[]:Ls(u)},resolvedImage:function(u){return mc(u).length===0?[]:Ls(u)},padding:function(u){const l=u.key,f=u.value;if(Nr(f)==="array"){if(f.length<1||f.length>4)return[new ut(l,f,`padding requires 1 to 4 values; ${f.length} values found`)];const m={type:"number"};let _=[];for(let E=0;E<f.length;E++)_=_.concat(u.validateSpec({key:`${l}[${E}]`,value:f[E],validateSpec:u.validateSpec,valueSpec:m}));return _}return Dh({key:l,value:f,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,f=u.value,m=Nr(f),_=u.styleSpec;if(m!=="array"||f.length<1||f.length%2!=0)return[new ut(l,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let k=0;k<f.length;k+=2)E=E.concat(td({key:`${l}[${k}]`,value:f[k],valueSpec:_.layout_symbol["text-anchor"]})),E=E.concat(Wg({key:`${l}[${k+1}]`,value:f[k+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:_}));return E},sprite:dx};function wl(u){const l=u.value,f=u.valueSpec,m=u.styleSpec;return u.validateSpec=wl,f.expression&&Mh(Jn(l))?qg(u):f.expression&&Oh(pc(l))?Ls(u):f.type&&hx[f.type]?hx[f.type](u):aa(Or({},u,{valueSpec:f.type?m[f.type]:f}))}function id(u){const l=u.value,f=u.key,m=mc(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new ut(f,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new ut(f,l,'"glyphs" url must include a "{range}" token'))),m}function Qn(u,l=Pe){let f=[];return f=f.concat(wl({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:wl,objectElementValidators:{glyphs:id,"*":()=>[]}})),u.constants&&(f=f.concat(sx({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:wl}))),px(f)}function sa(u){return function(l){return u({...l,validateSpec:wl})}}function px(u){return[].concat(u).sort((l,f)=>l.line-f.line)}function zs(u){return function(...l){return px(u.apply(this,l))}}Qn.source=zs(sa(cx)),Qn.sprite=zs(sa(dx)),Qn.glyphs=zs(sa(id)),Qn.light=zs(sa(ux)),Qn.terrain=zs(sa(fx)),Qn.layer=zs(sa(jh)),Qn.filter=zs(sa(Lh)),Qn.paintProperty=zs(sa(rd)),Qn.layoutProperty=zs(sa(Nh));const od=Qn,ad=od.light,JE=od.paintProperty,Hg=od.layoutProperty;function mx(u,l){let f=!1;if(l&&l.length)for(const m of l)u.fire(new ct(new Error(m.message))),f=!0;return f}class gc{constructor(l,f,m){const _=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const k=new Int32Array(this.arrayBuffer);l=k[0],this.d=(f=k[1])+2*(m=k[2]);for(let j=0;j<this.d*this.d;j++){const V=k[3+j],Y=k[3+j+1];_.push(V===Y?null:k.subarray(V,Y))}const $=k[3+_.length+1];this.keys=k.subarray(k[3+_.length],$),this.bboxes=k.subarray($),this.insert=this._insertReadonly}else{this.d=f+2*m;for(let k=0;k<this.d*this.d;k++)_.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=l,this.padding=m,this.scale=f/l,this.uid=0;const E=m/f*l;this.min=-E,this.max=l+E}insert(l,f,m,_,E){this._forEachCell(f,m,_,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,f,m,_,E,k){this.cells[E].push(k)}query(l,f,m,_,E){const k=this.min,$=this.max;if(l<=k&&f<=k&&$<=m&&$<=_&&!E)return Array.prototype.slice.call(this.keys);{const j=[];return this._forEachCell(l,f,m,_,this._queryCell,j,{},E),j}}_queryCell(l,f,m,_,E,k,$,j){const V=this.cells[E];if(V!==null){const Y=this.keys,Z=this.bboxes;for(let J=0;J<V.length;J++){const ne=V[J];if($[ne]===void 0){const ie=4*ne;(j?j(Z[ie+0],Z[ie+1],Z[ie+2],Z[ie+3]):l<=Z[ie+2]&&f<=Z[ie+3]&&m>=Z[ie+0]&&_>=Z[ie+1])?($[ne]=!0,k.push(Y[ne])):$[ne]=!1}}}}_forEachCell(l,f,m,_,E,k,$,j){const V=this._convertToCellCoord(l),Y=this._convertToCellCoord(f),Z=this._convertToCellCoord(m),J=this._convertToCellCoord(_);for(let ne=V;ne<=Z;ne++)for(let ie=Y;ie<=J;ie++){const fe=this.d*ie+ne;if((!j||j(this._convertFromCellCoord(ne),this._convertFromCellCoord(ie),this._convertFromCellCoord(ne+1),this._convertFromCellCoord(ie+1)))&&E.call(this,l,f,m,_,fe,k,$,j))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,f=3+this.cells.length+1+1;let m=0;for(let k=0;k<this.cells.length;k++)m+=this.cells[k].length;const _=new Int32Array(f+m+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let E=f;for(let k=0;k<l.length;k++){const $=l[k];_[3+k]=E,_.set($,E),E+=$.length}return _[3+l.length]=E,_.set(this.keys,E),E+=this.keys.length,_[3+l.length+1]=E,_.set(this.bboxes,E),E+=this.bboxes.length,_.buffer}static serialize(l,f){const m=l.toArrayBuffer();return f&&f.push(m),{buffer:m}}static deserialize(l){return new gc(l.buffer)}}const Sl={};function Pt(u,l,f={}){if(Sl[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Sl[u]={klass:l,omit:f.omit||[],shallow:f.shallow||[]}}Pt("Object",Object),Pt("TransferableGridIndex",gc),Pt("Color",mt),Pt("Error",Error),Pt("AJAXError",tt),Pt("ResolvedImage",oa),Pt("StylePropertyFunction",hc),Pt("StyleExpression",kn,{omit:["_evaluator"]}),Pt("ZoomDependentExpression",hn),Pt("ZoomConstantExpression",Jf),Pt("CompoundExpression",Fo,{omit:["_evaluate"]});for(const u in yu)yu[u]._classRegistryKey||Pt(`Expression_${u}`,yu[u]);function gx(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function yc(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(gx(u)||_e(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const f=u;return l&&l.push(f.buffer),f}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const f=[];for(const m of u)f.push(yc(m,l));return f}if(typeof u=="object"){const f=u.constructor,m=f._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!Sl[m])throw new Error(`${m} is not registered.`);const _=f.serialize?f.serialize(u,l):{};if(f.serialize){if(l&&_===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in u){if(!u.hasOwnProperty(E)||Sl[m].omit.indexOf(E)>=0)continue;const k=u[E];_[E]=Sl[m].shallow.indexOf(E)>=0?k:yc(k,l)}u instanceof Error&&(_.message=u.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(_.$name=m),_}throw new Error("can't serialize object of type "+typeof u)}function xu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||gx(u)||_e(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(xu);if(typeof u=="object"){const l=u.$name||"Object";if(!Sl[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:f}=Sl[l];if(!f)throw new Error(`can't deserialize unregistered class ${l}`);if(f.deserialize)return f.deserialize(u);const m=Object.create(f.prototype);for(const _ of Object.keys(u)){if(_==="$name")continue;const E=u[_];m[_]=Sl[l].shallow.indexOf(_)>=0?E:xu(E)}return m}throw new Error("can't deserialize object of type "+typeof u)}class Bh{constructor(){this.first=!0}update(l,f){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=f),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const Tt={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Fh(u){for(const l of u)if(bu(l.charCodeAt(0)))return!0;return!1}function QE(u){for(const l of u)if(!Gg(l.charCodeAt(0)))return!1;return!0}function Gg(u){return!(Tt.Arabic(u)||Tt["Arabic Supplement"](u)||Tt["Arabic Extended-A"](u)||Tt["Arabic Presentation Forms-A"](u)||Tt["Arabic Presentation Forms-B"](u))}function bu(u){return!(u!==746&&u!==747&&(u<4352||!(Tt["Bopomofo Extended"](u)||Tt.Bopomofo(u)||Tt["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Tt["CJK Compatibility Ideographs"](u)||Tt["CJK Compatibility"](u)||Tt["CJK Radicals Supplement"](u)||Tt["CJK Strokes"](u)||!(!Tt["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Tt["CJK Unified Ideographs Extension A"](u)||Tt["CJK Unified Ideographs"](u)||Tt["Enclosed CJK Letters and Months"](u)||Tt["Hangul Compatibility Jamo"](u)||Tt["Hangul Jamo Extended-A"](u)||Tt["Hangul Jamo Extended-B"](u)||Tt["Hangul Jamo"](u)||Tt["Hangul Syllables"](u)||Tt.Hiragana(u)||Tt["Ideographic Description Characters"](u)||Tt.Kanbun(u)||Tt["Kangxi Radicals"](u)||Tt["Katakana Phonetic Extensions"](u)||Tt.Katakana(u)&&u!==12540||!(!Tt["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Tt["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Tt["Unified Canadian Aboriginal Syllabics"](u)||Tt["Unified Canadian Aboriginal Syllabics Extended"](u)||Tt["Vertical Forms"](u)||Tt["Yijing Hexagram Symbols"](u)||Tt["Yi Syllables"](u)||Tt["Yi Radicals"](u))))}function Yg(u){return!(bu(u)||function(l){return!!(Tt["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Tt["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Tt["Letterlike Symbols"](l)||Tt["Number Forms"](l)||Tt["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Tt["Control Pictures"](l)&&l!==9251||Tt["Optical Character Recognition"](l)||Tt["Enclosed Alphanumerics"](l)||Tt["Geometric Shapes"](l)||Tt["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Tt["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Tt["CJK Symbols and Punctuation"](l)||Tt.Katakana(l)||Tt["Private Use Area"](l)||Tt["CJK Compatibility Forms"](l)||Tt["Small Form Variants"](l)||Tt["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function yx(u){return u>=1424&&u<=2303||Tt["Arabic Presentation Forms-A"](u)||Tt["Arabic Presentation Forms-B"](u)}function vx(u,l){return!(!l&&yx(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Tt.Khmer(u))}function eC(u){for(const l of u)if(yx(l.charCodeAt(0)))return!0;return!1}const sd="deferred",Kg="loading",Zg="loaded";let Xg=null,go="unavailable",Ns=null;const _x=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(go="error"),Xg&&Xg(u)};function Jg(){Qg.fire(new Xe("pluginStateChange",{pluginStatus:go,pluginURL:Ns}))}const Qg=new Be,ey=function(){return go},xx=function(){if(go!==sd||!Ns)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");go=Kg,Jg(),Ns&&je({url:Ns},u=>{u?_x(u):(go=Zg,Jg())})},la={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>go===Zg||la.applyArabicShaping!=null,isLoading:()=>go===Kg,setState(u){if(!de())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");go=u.pluginStatus,Ns=u.pluginURL},isParsed(){if(!de())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return la.applyArabicShaping!=null&&la.processBidirectionalText!=null&&la.processStyledBidirectionalText!=null},getPluginURL(){if(!de())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Ns}};class bn{constructor(l,f){this.zoom=l,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Bh,this.transition={})}isSupportedScript(l){return function(f,m){for(const _ of f)if(!vx(_.charCodeAt(0),m))return!1;return!0}(l,la.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,f=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*f}}}class vc{constructor(l,f){this.property=l,this.value=f,this.expression=function(m,_){if(Mh(m))return new hc(m,_);if(Oh(m)){const E=pn(m,_);if(E.result==="error")throw new Error(E.value.map(k=>`${k.key}: ${k.message}`).join(", "));return E.value}{let E=m;return _.type==="color"&&typeof m=="string"?E=mt.parse(m):_.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(E=Fi.parse(m)):E=Bo.parse(m),{kind:"constant",evaluate:()=>E}}}(f===void 0?l.specification.default:f,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,f,m){return this.property.possiblyEvaluate(this,l,f,m)}}class ty{constructor(l){this.property=l,this.value=new vc(l,void 0)}transitioned(l,f){return new bx(this.property,this.value,f,C({},l.transition,this.transition),l.now)}untransitioned(){return new bx(this.property,this.value,null,{},0)}}class Uh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return F(this._values[l].value.value)}setValue(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ty(this._values[l].property)),this._values[l].value=new vc(this._values[l].property,f===null?void 0:F(f))}getTransition(l){return F(this._values[l].transition)}setTransition(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ty(this._values[l].property)),this._values[l].transition=F(f)||void 0}serialize(){const l={};for(const f of Object.keys(this._values)){const m=this.getValue(f);m!==void 0&&(l[f]=m);const _=this.getTransition(f);_!==void 0&&(l[`${f}-transition`]=_)}return l}transitioned(l,f){const m=new wx(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].transitioned(l,f._values[_]);return m}untransitioned(){const l=new wx(this._properties);for(const f of Object.keys(this._values))l._values[f]=this._values[f].untransitioned();return l}}class bx{constructor(l,f,m,_,E){this.property=l,this.value=f,this.begin=E+_.delay||0,this.end=this.begin+_.duration||0,l.specification.transition&&(_.delay||_.duration)&&(this.prior=m)}possiblyEvaluate(l,f,m){const _=l.now||0,E=this.value.possiblyEvaluate(l,f,m),k=this.prior;if(k){if(_>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(_<this.begin)return k.possiblyEvaluate(l,f,m);{const $=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(k.possiblyEvaluate(l,f,m),E,function(j){if(j<=0)return 0;if(j>=1)return 1;const V=j*j,Y=V*j;return 4*(j<.5?Y:3*(j-V)+Y-.75)}($))}}return E}}class wx{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,f,m){const _=new Vh(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(l,f,m);return _}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Sx{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return F(this._values[l].value)}setValue(l,f){this._values[l]=new vc(this._values[l].property,f===null?void 0:F(f))}serialize(){const l={};for(const f of Object.keys(this._values)){const m=this.getValue(f);m!==void 0&&(l[f]=m)}return l}possiblyEvaluate(l,f,m){const _=new Vh(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(l,f,m);return _}}class ka{constructor(l,f,m){this.property=l,this.value=f,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,f,m,_){return this.property.evaluate(this.value,this.parameters,l,f,m,_)}}class Vh{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class qt{constructor(l){this.specification=l}possiblyEvaluate(l,f){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(f)}interpolate(l,f,m){const _=Uo[this.specification.type];return _?_(l,f,m):l}}class Qt{constructor(l,f){this.specification=l,this.overrides=f}possiblyEvaluate(l,f,m,_){return new ka(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(f,null,{},m,_)}:l.expression,f)}interpolate(l,f,m){if(l.value.kind!=="constant"||f.value.kind!=="constant")return l;if(l.value.value===void 0||f.value.value===void 0)return new ka(this,{kind:"constant",value:void 0},l.parameters);const _=Uo[this.specification.type];if(_){const E=_(l.value.value,f.value.value,m);return new ka(this,{kind:"constant",value:E},l.parameters)}return l}evaluate(l,f,m,_,E,k){return l.kind==="constant"?l.value:l.evaluate(f,m,_,E,k)}}class Wh extends Qt{possiblyEvaluate(l,f,m,_){if(l.value===void 0)return new ka(this,{kind:"constant",value:void 0},f);if(l.expression.kind==="constant"){const E=l.expression.evaluate(f,null,{},m,_),k=l.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,$=this._calculate(k,k,k,f);return new ka(this,{kind:"constant",value:$},f)}if(l.expression.kind==="camera"){const E=this._calculate(l.expression.evaluate({zoom:f.zoom-1}),l.expression.evaluate({zoom:f.zoom}),l.expression.evaluate({zoom:f.zoom+1}),f);return new ka(this,{kind:"constant",value:E},f)}return new ka(this,l.expression,f)}evaluate(l,f,m,_,E,k){if(l.kind==="source"){const $=l.evaluate(f,m,_,E,k);return this._calculate($,$,$,f)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(f.zoom)-1},m,_),l.evaluate({zoom:Math.floor(f.zoom)},m,_),l.evaluate({zoom:Math.floor(f.zoom)+1},m,_),f):l.value}_calculate(l,f,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:m,to:f}}interpolate(l){return l}}class ry{constructor(l){this.specification=l}possiblyEvaluate(l,f,m,_){if(l.value!==void 0){if(l.expression.kind==="constant"){const E=l.expression.evaluate(f,null,{},m,_);return this._calculate(E,E,E,f)}return this._calculate(l.expression.evaluate(new bn(Math.floor(f.zoom-1),f)),l.expression.evaluate(new bn(Math.floor(f.zoom),f)),l.expression.evaluate(new bn(Math.floor(f.zoom+1),f)),f)}}_calculate(l,f,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:m,to:f}}interpolate(l){return l}}class ny{constructor(l){this.specification=l}possiblyEvaluate(l,f,m,_){return!!l.expression.evaluate(f,null,{},m,_)}interpolate(){return!1}}class gi{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const f in l){const m=l[f];m.specification.overridable&&this.overridableProperties.push(f);const _=this.defaultPropertyValues[f]=new vc(m,void 0),E=this.defaultTransitionablePropertyValues[f]=new ty(m);this.defaultTransitioningPropertyValues[f]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=_.possiblyEvaluate({})}}}Pt("DataDrivenProperty",Qt),Pt("DataConstantProperty",qt),Pt("CrossFadedDataDrivenProperty",Wh),Pt("CrossFadedProperty",ry),Pt("ColorRampProperty",ny);const Ex="-transition";class ns extends Be{constructor(l,f){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),f.layout&&(this._unevaluatedLayout=new Sx(f.layout)),f.paint)){this._transitionablePaint=new Uh(f.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vh(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,f,m={}){f!=null&&this._validate(Hg,`layers.${this.id}.layout.${l}`,l,f,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,f):this.visibility=f)}getPaintProperty(l){return l.endsWith(Ex)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,f,m={}){if(f!=null&&this._validate(JE,`layers.${this.id}.paint.${l}`,l,f,m))return!1;if(l.endsWith(Ex))return this._transitionablePaint.setTransition(l.slice(0,-11),f||void 0),!1;{const _=this._transitionablePaint._values[l],E=_.property.specification["property-type"]==="cross-faded-data-driven",k=_.value.isDataDriven(),$=_.value;this._transitionablePaint.setValue(l,f),this._handleSpecialPaintPropertyUpdate(l);const j=this._transitionablePaint._values[l].value;return j.isDataDriven()||k||E||this._handleOverridablePaintPropertyUpdate(l,$,j)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,f,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,f){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,f)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),L(l,(f,m)=>!(f===void 0||m==="layout"&&!Object.keys(f).length||m==="paint"&&!Object.keys(f).length))}_validate(l,f,m,_,E={}){return(!E||E.validate!==!1)&&mx(this,l.call(od,{key:f,layerType:this.type,objectKey:m,value:_,styleSpec:Pe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const f=this.paint.get(l);if(f instanceof ka&&_u(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}const tC={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class wu{constructor(l,f){this._structArray=l,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Pn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,f){return l._trim(),f&&(l.isTransferred=!0,f.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const f=Object.create(this.prototype);return f.arrayBuffer=l.arrayBuffer,f.length=l.length,f.capacity=l.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ei(u,l=1){let f=0,m=0;return{members:u.map(_=>{const E=tC[_.type].BYTES_PER_ELEMENT,k=f=js(f,Math.max(l,E)),$=_.components||1;return m=Math.max(m,E),f+=E*$,{name:_.name,type:_.type,components:$,offset:k}}),size:js(f,Math.max(m,l)),alignment:l}}function js(u,l){return Math.ceil(u/l)*l}class Su extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f){const m=this.length;return this.resize(m+1),this.emplace(m,l,f)}emplace(l,f,m){const _=2*l;return this.int16[_+0]=f,this.int16[_+1]=m,l}}Su.prototype.bytesPerElement=4,Pt("StructArrayLayout2i4",Su);class Eu extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.int16[E+0]=f,this.int16[E+1]=m,this.int16[E+2]=_,l}}Eu.prototype.bytesPerElement=6,Pt("StructArrayLayout3i6",Eu);class qh extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,f,m,_)}emplace(l,f,m,_,E){const k=4*l;return this.int16[k+0]=f,this.int16[k+1]=m,this.int16[k+2]=_,this.int16[k+3]=E,l}}qh.prototype.bytesPerElement=8,Pt("StructArrayLayout4i8",qh);class ld extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k){const $=this.length;return this.resize($+1),this.emplace($,l,f,m,_,E,k)}emplace(l,f,m,_,E,k,$){const j=6*l;return this.int16[j+0]=f,this.int16[j+1]=m,this.int16[j+2]=_,this.int16[j+3]=E,this.int16[j+4]=k,this.int16[j+5]=$,l}}ld.prototype.bytesPerElement=12,Pt("StructArrayLayout2i4i12",ld);class iy extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k){const $=this.length;return this.resize($+1),this.emplace($,l,f,m,_,E,k)}emplace(l,f,m,_,E,k,$){const j=4*l,V=8*l;return this.int16[j+0]=f,this.int16[j+1]=m,this.uint8[V+4]=_,this.uint8[V+5]=E,this.uint8[V+6]=k,this.uint8[V+7]=$,l}}iy.prototype.bytesPerElement=8,Pt("StructArrayLayout2i4ub8",iy);class El extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f){const m=this.length;return this.resize(m+1),this.emplace(m,l,f)}emplace(l,f,m){const _=2*l;return this.float32[_+0]=f,this.float32[_+1]=m,l}}El.prototype.bytesPerElement=8,Pt("StructArrayLayout2f8",El);class _c extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,j,V,Y){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,f,m,_,E,k,$,j,V,Y)}emplace(l,f,m,_,E,k,$,j,V,Y,Z){const J=10*l;return this.uint16[J+0]=f,this.uint16[J+1]=m,this.uint16[J+2]=_,this.uint16[J+3]=E,this.uint16[J+4]=k,this.uint16[J+5]=$,this.uint16[J+6]=j,this.uint16[J+7]=V,this.uint16[J+8]=Y,this.uint16[J+9]=Z,l}}_c.prototype.bytesPerElement=20,Pt("StructArrayLayout10ui20",_c);class oy extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,j,V,Y,Z,J){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,f,m,_,E,k,$,j,V,Y,Z,J)}emplace(l,f,m,_,E,k,$,j,V,Y,Z,J,ne){const ie=12*l;return this.int16[ie+0]=f,this.int16[ie+1]=m,this.int16[ie+2]=_,this.int16[ie+3]=E,this.uint16[ie+4]=k,this.uint16[ie+5]=$,this.uint16[ie+6]=j,this.uint16[ie+7]=V,this.int16[ie+8]=Y,this.int16[ie+9]=Z,this.int16[ie+10]=J,this.int16[ie+11]=ne,l}}oy.prototype.bytesPerElement=24,Pt("StructArrayLayout4i4ui4i24",oy);class Hh extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.float32[E+0]=f,this.float32[E+1]=m,this.float32[E+2]=_,l}}Hh.prototype.bytesPerElement=12,Pt("StructArrayLayout3f12",Hh);class xc extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint32[1*l+0]=f,l}}xc.prototype.bytesPerElement=4,Pt("StructArrayLayout1ul4",xc);class ay extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,j,V){const Y=this.length;return this.resize(Y+1),this.emplace(Y,l,f,m,_,E,k,$,j,V)}emplace(l,f,m,_,E,k,$,j,V,Y){const Z=10*l,J=5*l;return this.int16[Z+0]=f,this.int16[Z+1]=m,this.int16[Z+2]=_,this.int16[Z+3]=E,this.int16[Z+4]=k,this.int16[Z+5]=$,this.uint32[J+3]=j,this.uint16[Z+8]=V,this.uint16[Z+9]=Y,l}}ay.prototype.bytesPerElement=20,Pt("StructArrayLayout6i1ul2ui20",ay);class sy extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k){const $=this.length;return this.resize($+1),this.emplace($,l,f,m,_,E,k)}emplace(l,f,m,_,E,k,$){const j=6*l;return this.int16[j+0]=f,this.int16[j+1]=m,this.int16[j+2]=_,this.int16[j+3]=E,this.int16[j+4]=k,this.int16[j+5]=$,l}}sy.prototype.bytesPerElement=12,Pt("StructArrayLayout2i2i2i12",sy);class Gh extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E){const k=this.length;return this.resize(k+1),this.emplace(k,l,f,m,_,E)}emplace(l,f,m,_,E,k){const $=4*l,j=8*l;return this.float32[$+0]=f,this.float32[$+1]=m,this.float32[$+2]=_,this.int16[j+6]=E,this.int16[j+7]=k,l}}Gh.prototype.bytesPerElement=16,Pt("StructArrayLayout2f1f2i16",Gh);class ly extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,f,m,_)}emplace(l,f,m,_,E){const k=12*l,$=3*l;return this.uint8[k+0]=f,this.uint8[k+1]=m,this.float32[$+1]=_,this.float32[$+2]=E,l}}ly.prototype.bytesPerElement=12,Pt("StructArrayLayout2ub2f12",ly);class Yh extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.uint16[E+0]=f,this.uint16[E+1]=m,this.uint16[E+2]=_,l}}Yh.prototype.bytesPerElement=6,Pt("StructArrayLayout3ui6",Yh);class zr extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe,ye,xe){const Le=this.length;return this.resize(Le+1),this.emplace(Le,l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe,ye,xe)}emplace(l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe,ye,xe,Le){const ke=24*l,Fe=12*l,qe=48*l;return this.int16[ke+0]=f,this.int16[ke+1]=m,this.uint16[ke+2]=_,this.uint16[ke+3]=E,this.uint32[Fe+2]=k,this.uint32[Fe+3]=$,this.uint32[Fe+4]=j,this.uint16[ke+10]=V,this.uint16[ke+11]=Y,this.uint16[ke+12]=Z,this.float32[Fe+7]=J,this.float32[Fe+8]=ne,this.uint8[qe+36]=ie,this.uint8[qe+37]=fe,this.uint8[qe+38]=ye,this.uint32[Fe+10]=xe,this.int16[ke+22]=Le,l}}zr.prototype.bytesPerElement=48,Pt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",zr);class S extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe,ye,xe,Le,ke,Fe,qe,rt,kt,Ft,Ct,bt,gt,Rt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe,ye,xe,Le,ke,Fe,qe,rt,kt,Ft,Ct,bt,gt,Rt)}emplace(l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe,ye,xe,Le,ke,Fe,qe,rt,kt,Ft,Ct,bt,gt,Rt,_t){const ht=32*l,Kt=16*l;return this.int16[ht+0]=f,this.int16[ht+1]=m,this.int16[ht+2]=_,this.int16[ht+3]=E,this.int16[ht+4]=k,this.int16[ht+5]=$,this.int16[ht+6]=j,this.int16[ht+7]=V,this.uint16[ht+8]=Y,this.uint16[ht+9]=Z,this.uint16[ht+10]=J,this.uint16[ht+11]=ne,this.uint16[ht+12]=ie,this.uint16[ht+13]=fe,this.uint16[ht+14]=ye,this.uint16[ht+15]=xe,this.uint16[ht+16]=Le,this.uint16[ht+17]=ke,this.uint16[ht+18]=Fe,this.uint16[ht+19]=qe,this.uint16[ht+20]=rt,this.uint16[ht+21]=kt,this.uint16[ht+22]=Ft,this.uint32[Kt+12]=Ct,this.float32[Kt+13]=bt,this.float32[Kt+14]=gt,this.uint16[ht+30]=Rt,this.uint16[ht+31]=_t,l}}S.prototype.bytesPerElement=64,Pt("StructArrayLayout8i15ui1ul2f2ui64",S);class c extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.float32[1*l+0]=f,l}}c.prototype.bytesPerElement=4,Pt("StructArrayLayout1f4",c);class p extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=3*l;return this.uint16[6*l+0]=f,this.float32[E+1]=m,this.float32[E+2]=_,l}}p.prototype.bytesPerElement=12,Pt("StructArrayLayout1ui2f12",p);class y extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,l,f,m)}emplace(l,f,m,_){const E=4*l;return this.uint32[2*l+0]=f,this.uint16[E+2]=m,this.uint16[E+3]=_,l}}y.prototype.bytesPerElement=8,Pt("StructArrayLayout1ul2ui8",y);class x extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f){const m=this.length;return this.resize(m+1),this.emplace(m,l,f)}emplace(l,f,m){const _=2*l;return this.uint16[_+0]=f,this.uint16[_+1]=m,l}}x.prototype.bytesPerElement=4,Pt("StructArrayLayout2ui4",x);class T extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint16[1*l+0]=f,l}}T.prototype.bytesPerElement=2,Pt("StructArrayLayout1ui2",T);class D extends Pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,f,m,_)}emplace(l,f,m,_,E){const k=4*l;return this.float32[k+0]=f,this.float32[k+1]=m,this.float32[k+2]=_,this.float32[k+3]=E,l}}D.prototype.bytesPerElement=16,Pt("StructArrayLayout4f16",D);class N extends wu{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new v(this.anchorPointX,this.anchorPointY)}}N.prototype.size=20;class B extends ay{get(l){return new N(this,l)}}Pt("CollisionBoxArray",B);class q extends wu{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}q.prototype.size=48;class G extends zr{get(l){return new q(this,l)}}Pt("PlacedSymbolArray",G);class K extends wu{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}K.prototype.size=64;class ee extends S{get(l){return new K(this,l)}}Pt("SymbolInstanceArray",ee);class ue extends c{getoffsetX(l){return this.float32[1*l+0]}}Pt("GlyphOffsetArray",ue);class ce extends Eu{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Pt("SymbolLineVertexArray",ce);class me extends wu{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}me.prototype.size=12;class le extends p{get(l){return new me(this,l)}}Pt("TextAnchorOffsetArray",le);class Oe extends wu{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Oe.prototype.size=8;class Ve extends y{get(l){return new Oe(this,l)}}Pt("FeatureIndexArray",Ve);class ve extends Su{}class $e extends Su{}class Ge extends Su{}class Ze extends ld{}class et extends iy{}class dt extends El{}class ot extends _c{}class pt extends oy{}class Bt extends Hh{}class xr extends xc{}class xt extends sy{}class er extends ly{}class Dt extends Yh{}class sn extends x{}const vr=ei([{name:"a_pos",components:2,type:"Int16"}],4),{members:dr}=vr;class tr{constructor(l=[]){this.segments=l}prepareSegment(l,f,m,_){let E=this.segments[this.segments.length-1];return l>tr.MAX_VERTEX_ARRAY_LENGTH&&re(`Max vertices per segment is ${tr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!E||E.vertexLength+l>tr.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==_)&&(E={vertexOffset:f.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},_!==void 0&&(E.sortKey=_),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const l of this.segments)for(const f in l.vaos)l.vaos[f].destroy()}static simpleSegment(l,f,m,_){return new tr([{vertexOffset:l,primitiveOffset:f,vertexLength:m,primitiveLength:_,vaos:{},sortKey:0}])}}function jn(u,l){return 256*(u=O(Math.floor(u),0,255))+O(Math.floor(l),0,255)}tr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Pt("SegmentVector",tr);const Hr=ei([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var to={exports:{}},Si={exports:{}};Si.exports=function(u,l){var f,m,_,E,k,$,j,V;for(m=u.length-(f=3&u.length),_=l,k=3432918353,$=461845907,V=0;V<m;)j=255&u.charCodeAt(V)|(255&u.charCodeAt(++V))<<8|(255&u.charCodeAt(++V))<<16|(255&u.charCodeAt(++V))<<24,++V,_=27492+(65535&(E=5*(65535&(_=(_^=j=(65535&(j=(j=(65535&j)*k+(((j>>>16)*k&65535)<<16)&4294967295)<<15|j>>>17))*$+(((j>>>16)*$&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(j=0,f){case 3:j^=(255&u.charCodeAt(V+2))<<16;case 2:j^=(255&u.charCodeAt(V+1))<<8;case 1:_^=j=(65535&(j=(j=(65535&(j^=255&u.charCodeAt(V)))*k+(((j>>>16)*k&65535)<<16)&4294967295)<<15|j>>>17))*$+(((j>>>16)*$&65535)<<16)&4294967295}return _^=u.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var ti=Si.exports,yo={exports:{}};yo.exports=function(u,l){for(var f,m=u.length,_=l^m,E=0;m>=4;)f=1540483477*(65535&(f=255&u.charCodeAt(E)|(255&u.charCodeAt(++E))<<8|(255&u.charCodeAt(++E))<<16|(255&u.charCodeAt(++E))<<24))+((1540483477*(f>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),m-=4,++E;switch(m){case 3:_^=(255&u.charCodeAt(E+2))<<16;case 2:_^=(255&u.charCodeAt(E+1))<<8;case 1:_=1540483477*(65535&(_^=255&u.charCodeAt(E)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var Pa=ti,Bs=yo.exports;to.exports=Pa,to.exports.murmur3=Pa,to.exports.murmur2=Bs;var Fs=d(to.exports);class Cl{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,f,m,_){this.ids.push(bc(l)),this.positions.push(f,m,_)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const f=bc(l);let m=0,_=this.ids.length-1;for(;m<_;){const k=m+_>>1;this.ids[k]>=f?_=k:m=k+1}const E=[];for(;this.ids[m]===f;)E.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return E}static serialize(l,f){const m=new Float64Array(l.ids),_=new Uint32Array(l.positions);return Tl(m,_,0,m.length-1),f&&f.push(m.buffer,_.buffer),{ids:m,positions:_}}static deserialize(l){const f=new Cl;return f.ids=l.ids,f.positions=l.positions,f.indexed=!0,f}}function bc(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Fs(String(u))}function Tl(u,l,f,m){for(;f<m;){const _=u[f+m>>1];let E=f-1,k=m+1;for(;;){do E++;while(u[E]<_);do k--;while(u[k]>_);if(E>=k)break;Ei(u,E,k),Ei(l,3*E,3*k),Ei(l,3*E+1,3*k+1),Ei(l,3*E+2,3*k+2)}k-f<m-k?(Tl(u,l,f,k),f=k+1):(Tl(u,l,k+1,m),m=k)}}function Ei(u,l,f){const m=u[l];u[l]=u[f],u[f]=m}Pt("FeaturePositionMap",Cl);class Bn{constructor(l,f){this.gl=l.gl,this.location=f}}class Ci extends Bn{constructor(l,f){super(l,f),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Cu extends Bn{constructor(l,f){super(l,f),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class li extends Bn{constructor(l,f){super(l,f),this.current=mt.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Ti=new Float32Array(16);function vo(u){return[jn(255*u.r,255*u.g),jn(255*u.b,255*u.a)]}class An{constructor(l,f,m){this.value=l,this.uniformNames=f.map(_=>`u_${_}`),this.type=m}setUniform(l,f,m){l.set(m.constantOr(this.value))}getBinding(l,f,m){return this.type==="color"?new li(l,f):new Ci(l,f)}}class Tu{constructor(l,f){this.uniformNames=f.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=l.tlbr}setUniform(l,f,m,_){const E=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&l.set(E)}getBinding(l,f,m){return m.substr(0,9)==="u_pattern"?new Cu(l,f):new Ci(l,f)}}class Us{constructor(l,f,m,_){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=f.map(E=>({name:`a_${E}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(l,f,m,_,E){const k=this.paintVertexArray.length,$=this.expression.evaluate(new bn(0),f,{},_,[],E);this.paintVertexArray.resize(l),this._setPaintValue(k,l,$)}updatePaintArray(l,f,m,_){const E=this.expression.evaluate({zoom:0},m,_);this._setPaintValue(l,f,E)}_setPaintValue(l,f,m){if(this.type==="color"){const _=vo(m);for(let E=l;E<f;E++)this.paintVertexArray.emplace(E,_[0],_[1])}else{for(let _=l;_<f;_++)this.paintVertexArray.emplace(_,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Aa{constructor(l,f,m,_,E,k){this.expression=l,this.uniformNames=f.map($=>`u_${$}_t`),this.type=m,this.useIntegerZoom=_,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=f.map($=>({name:`a_${$}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new k}populatePaintArray(l,f,m,_,E){const k=this.expression.evaluate(new bn(this.zoom),f,{},_,[],E),$=this.expression.evaluate(new bn(this.zoom+1),f,{},_,[],E),j=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(j,l,k,$)}updatePaintArray(l,f,m,_){const E=this.expression.evaluate({zoom:this.zoom},m,_),k=this.expression.evaluate({zoom:this.zoom+1},m,_);this._setPaintValue(l,f,E,k)}_setPaintValue(l,f,m,_){if(this.type==="color"){const E=vo(m),k=vo(_);for(let $=l;$<f;$++)this.paintVertexArray.emplace($,E[0],E[1],k[0],k[1])}else{for(let E=l;E<f;E++)this.paintVertexArray.emplace(E,m,_);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,f){const m=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,_=O(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(_)}getBinding(l,f,m){return new Ci(l,f)}}class kl{constructor(l,f,m,_,E,k){this.expression=l,this.type=f,this.useIntegerZoom=m,this.zoom=_,this.layerId=k,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(l,f,m){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(_,l,f.patterns&&f.patterns[this.layerId],m)}updatePaintArray(l,f,m,_,E){this._setPaintValues(l,f,m.patterns&&m.patterns[this.layerId],E)}_setPaintValues(l,f,m,_){if(!_||!m)return;const{min:E,mid:k,max:$}=m,j=_[E],V=_[k],Y=_[$];if(j&&V&&Y)for(let Z=l;Z<f;Z++)this.zoomInPaintVertexArray.emplace(Z,V.tl[0],V.tl[1],V.br[0],V.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1],V.pixelRatio,j.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,V.tl[0],V.tl[1],V.br[0],V.br[1],Y.tl[0],Y.tl[1],Y.br[0],Y.br[1],V.pixelRatio,Y.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Hr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Hr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Cx{constructor(l,f,m){this.binders={},this._buffers=[];const _=[];for(const E in l.paint._values){if(!m(E))continue;const k=l.paint.get(E);if(!(k instanceof ka&&_u(k.property.specification)))continue;const $=ku(E,l.type),j=k.value,V=k.property.specification.type,Y=k.property.useIntegerZoom,Z=k.property.specification["property-type"],J=Z==="cross-faded"||Z==="cross-faded-data-driven";if(j.kind==="constant")this.binders[E]=J?new Tu(j.value,$):new An(j.value,$,V),_.push(`/u_${E}`);else if(j.kind==="source"||J){const ne=cy(E,V,"source");this.binders[E]=J?new kl(j,V,Y,f,ne,l.id):new Us(j,$,V,ne),_.push(`/a_${E}`)}else{const ne=cy(E,V,"composite");this.binders[E]=new Aa(j,$,V,Y,f,ne),_.push(`/z_${E}`)}}this.cacheKey=_.sort().join("")}getMaxValue(l){const f=this.binders[l];return f instanceof Us||f instanceof Aa?f.maxValue:0}populatePaintArrays(l,f,m,_,E){for(const k in this.binders){const $=this.binders[k];($ instanceof Us||$ instanceof Aa||$ instanceof kl)&&$.populatePaintArray(l,f,m,_,E)}}setConstantPatternPositions(l,f){for(const m in this.binders){const _=this.binders[m];_ instanceof Tu&&_.setConstantPatternPositions(l,f)}}updatePaintArrays(l,f,m,_,E){let k=!1;for(const $ in l){const j=f.getPositions($);for(const V of j){const Y=m.feature(V.index);for(const Z in this.binders){const J=this.binders[Z];if((J instanceof Us||J instanceof Aa||J instanceof kl)&&J.expression.isStateDependent===!0){const ne=_.paint.get(Z);J.expression=ne.value,J.updatePaintArray(V.start,V.end,Y,l[$],E),k=!0}}}}return k}defines(){const l=[];for(const f in this.binders){const m=this.binders[f];(m instanceof An||m instanceof Tu)&&l.push(...m.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return l}getBinderAttributes(){const l=[];for(const f in this.binders){const m=this.binders[f];if(m instanceof Us||m instanceof Aa)for(let _=0;_<m.paintVertexAttributes.length;_++)l.push(m.paintVertexAttributes[_].name);else if(m instanceof kl)for(let _=0;_<Hr.members.length;_++)l.push(Hr.members[_].name)}return l}getBinderUniforms(){const l=[];for(const f in this.binders){const m=this.binders[f];if(m instanceof An||m instanceof Tu||m instanceof Aa)for(const _ of m.uniformNames)l.push(_)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,f){const m=[];for(const _ in this.binders){const E=this.binders[_];if(E instanceof An||E instanceof Tu||E instanceof Aa){for(const k of E.uniformNames)if(f[k]){const $=E.getBinding(l,f[k],k);m.push({name:k,property:_,binding:$})}}}return m}setUniforms(l,f,m,_){for(const{name:E,property:k,binding:$}of f)this.binders[k].setUniform($,_,m.get(k),E)}updatePaintBuffers(l){this._buffers=[];for(const f in this.binders){const m=this.binders[f];if(l&&m instanceof kl){const _=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(m instanceof Us||m instanceof Aa)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const f in this.binders){const m=this.binders[f];(m instanceof Us||m instanceof Aa||m instanceof kl)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const f=this.binders[l];(f instanceof Us||f instanceof Aa||f instanceof kl)&&f.destroy()}}}class wc{constructor(l,f,m=()=>!0){this.programConfigurations={};for(const _ of l)this.programConfigurations[_.id]=new Cx(_,f,m);this.needsUpload=!1,this._featureMap=new Cl,this._bufferOffset=0}populatePaintArrays(l,f,m,_,E,k){for(const $ in this.programConfigurations)this.programConfigurations[$].populatePaintArrays(l,f,_,E,k);f.id!==void 0&&this._featureMap.add(f.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,f,m,_){for(const E of m)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(l,this._featureMap,f,E,_)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const f in this.programConfigurations)this.programConfigurations[f].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function ku(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function cy(u,l,f){const m={color:{source:El,composite:D},number:{source:c,composite:El}},_=function(E){return{"line-pattern":{source:ot,composite:ot},"fill-pattern":{source:ot,composite:ot},"fill-extrusion-pattern":{source:ot,composite:ot}}[E]}(u);return _&&_[f]||m[l][f]}Pt("ConstantBinder",An),Pt("CrossFadedConstantBinder",Tu),Pt("SourceExpressionBinder",Us),Pt("CrossFadedCompositeBinder",kl),Pt("CompositeExpressionBinder",Aa),Pt("ProgramConfiguration",Cx,{omit:["_buffers"]}),Pt("ProgramConfigurationSet",wc);const Mn=8192,Kh=Math.pow(2,14)-1,Zh=-Kh-1;function Pl(u){const l=Mn/u.extent,f=u.loadGeometry();for(let m=0;m<f.length;m++){const _=f[m];for(let E=0;E<_.length;E++){const k=_[E],$=Math.round(k.x*l),j=Math.round(k.y*l);k.x=O($,Zh,Kh),k.y=O(j,Zh,Kh),($<k.x||$>k.x+1||j<k.y||j>k.y+1)&&re("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function Vs(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?Pl(u):[]}}function Tx(u,l,f,m,_){u.emplaceBack(2*l+(m+1)/2,2*f+(_+1)/2)}class rC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new $e,this.indexArray=new Dt,this.segments=new tr,this.programConfigurations=new wc(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){const _=this.layers[0],E=[];let k=null,$=!1;_.type==="circle"&&(k=_.layout.get("circle-sort-key"),$=!k.isConstant());for(const{feature:j,id:V,index:Y,sourceLayerIndex:Z}of l){const J=this.layers[0]._featureFilter.needGeometry,ne=Vs(j,J);if(!this.layers[0]._featureFilter.filter(new bn(this.zoom),ne,m))continue;const ie=$?k.evaluate(ne,{},m):void 0,fe={id:V,properties:j.properties,type:j.type,sourceLayerIndex:Z,index:Y,geometry:J?ne.geometry:Pl(j),patterns:{},sortKey:ie};E.push(fe)}$&&E.sort((j,V)=>j.sortKey-V.sortKey);for(const j of E){const{geometry:V,index:Y,sourceLayerIndex:Z}=j,J=l[Y].feature;this.addFeature(j,V,Y,m),f.featureIndex.insert(J,V,Y,Z,this.index)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,dr),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,f,m,_){for(const E of f)for(const k of E){const $=k.x,j=k.y;if($<0||$>=Mn||j<0||j>=Mn)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),Y=V.vertexLength;Tx(this.layoutVertexArray,$,j,-1,-1),Tx(this.layoutVertexArray,$,j,1,-1),Tx(this.layoutVertexArray,$,j,1,1),Tx(this.layoutVertexArray,$,j,-1,1),this.indexArray.emplaceBack(Y,Y+1,Y+2),this.indexArray.emplaceBack(Y,Y+3,Y+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},_)}}function DD(u,l){for(let f=0;f<u.length;f++)if(Xh(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(Xh(u,l[f]))return!0;return!!nC(u,l)}function aY(u,l,f){return!!Xh(u,l)||!!iC(l,u,f)}function LD(u,l){if(u.length===1)return ND(l,u[0]);for(let f=0;f<l.length;f++){const m=l[f];for(let _=0;_<m.length;_++)if(Xh(u,m[_]))return!0}for(let f=0;f<u.length;f++)if(ND(l,u[f]))return!0;for(let f=0;f<l.length;f++)if(nC(u,l[f]))return!0;return!1}function sY(u,l,f){if(u.length>1){if(nC(u,l))return!0;for(let m=0;m<l.length;m++)if(iC(l[m],u,f))return!0}for(let m=0;m<u.length;m++)if(iC(u[m],l,f))return!0;return!1}function nC(u,l){if(u.length===0||l.length===0)return!1;for(let f=0;f<u.length-1;f++){const m=u[f],_=u[f+1];for(let E=0;E<l.length-1;E++)if(lY(m,_,l[E],l[E+1]))return!0}return!1}function lY(u,l,f,m){return te(u,f,m)!==te(l,f,m)&&te(u,l,f)!==te(u,l,m)}function iC(u,l,f){const m=f*f;if(l.length===1)return u.distSqr(l[0])<m;for(let _=1;_<l.length;_++)if(zD(u,l[_-1],l[_])<m)return!0;return!1}function zD(u,l,f){const m=l.distSqr(f);if(m===0)return u.distSqr(l);const _=((u.x-l.x)*(f.x-l.x)+(u.y-l.y)*(f.y-l.y))/m;return u.distSqr(_<0?l:_>1?f:f.sub(l)._mult(_)._add(l))}function ND(u,l){let f,m,_,E=!1;for(let k=0;k<u.length;k++){f=u[k];for(let $=0,j=f.length-1;$<f.length;j=$++)m=f[$],_=f[j],m.y>l.y!=_.y>l.y&&l.x<(_.x-m.x)*(l.y-m.y)/(_.y-m.y)+m.x&&(E=!E)}return E}function Xh(u,l){let f=!1;for(let m=0,_=u.length-1;m<u.length;_=m++){const E=u[m],k=u[_];E.y>l.y!=k.y>l.y&&l.x<(k.x-E.x)*(l.y-E.y)/(k.y-E.y)+E.x&&(f=!f)}return f}function cY(u,l,f){const m=f[0],_=f[2];if(u.x<m.x&&l.x<m.x||u.x>_.x&&l.x>_.x||u.y<m.y&&l.y<m.y||u.y>_.y&&l.y>_.y)return!1;const E=te(u,l,f[0]);return E!==te(u,l,f[1])||E!==te(u,l,f[2])||E!==te(u,l,f[3])}function uy(u,l,f){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:f.programConfigurations.get(l.id).getMaxValue(u)}function kx(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Px(u,l,f,m,_){if(!l[0]&&!l[1])return u;const E=v.convert(l)._mult(_);f==="viewport"&&E._rotate(-m);const k=[];for(let $=0;$<u.length;$++)k.push(u[$].sub(E));return k}let jD,BD;Pt("CircleBucket",rC,{omit:["layers"]});var uY={get paint(){return BD=BD||new gi({"circle-radius":new Qt(Pe.paint_circle["circle-radius"]),"circle-color":new Qt(Pe.paint_circle["circle-color"]),"circle-blur":new Qt(Pe.paint_circle["circle-blur"]),"circle-opacity":new Qt(Pe.paint_circle["circle-opacity"]),"circle-translate":new qt(Pe.paint_circle["circle-translate"]),"circle-translate-anchor":new qt(Pe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qt(Pe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qt(Pe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qt(Pe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qt(Pe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qt(Pe.paint_circle["circle-stroke-opacity"])})},get layout(){return jD=jD||new gi({"circle-sort-key":new Qt(Pe.layout_circle["circle-sort-key"])})}},_o=1e-6,Jh=typeof Float32Array<"u"?Float32Array:Array;function oC(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function FD(u,l,f){var m=l[0],_=l[1],E=l[2],k=l[3],$=l[4],j=l[5],V=l[6],Y=l[7],Z=l[8],J=l[9],ne=l[10],ie=l[11],fe=l[12],ye=l[13],xe=l[14],Le=l[15],ke=f[0],Fe=f[1],qe=f[2],rt=f[3];return u[0]=ke*m+Fe*$+qe*Z+rt*fe,u[1]=ke*_+Fe*j+qe*J+rt*ye,u[2]=ke*E+Fe*V+qe*ne+rt*xe,u[3]=ke*k+Fe*Y+qe*ie+rt*Le,u[4]=(ke=f[4])*m+(Fe=f[5])*$+(qe=f[6])*Z+(rt=f[7])*fe,u[5]=ke*_+Fe*j+qe*J+rt*ye,u[6]=ke*E+Fe*V+qe*ne+rt*xe,u[7]=ke*k+Fe*Y+qe*ie+rt*Le,u[8]=(ke=f[8])*m+(Fe=f[9])*$+(qe=f[10])*Z+(rt=f[11])*fe,u[9]=ke*_+Fe*j+qe*J+rt*ye,u[10]=ke*E+Fe*V+qe*ne+rt*xe,u[11]=ke*k+Fe*Y+qe*ie+rt*Le,u[12]=(ke=f[12])*m+(Fe=f[13])*$+(qe=f[14])*Z+(rt=f[15])*fe,u[13]=ke*_+Fe*j+qe*J+rt*ye,u[14]=ke*E+Fe*V+qe*ne+rt*xe,u[15]=ke*k+Fe*Y+qe*ie+rt*Le,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var fy,fY=FD;function Ax(u,l,f){var m=l[0],_=l[1],E=l[2],k=l[3];return u[0]=f[0]*m+f[4]*_+f[8]*E+f[12]*k,u[1]=f[1]*m+f[5]*_+f[9]*E+f[13]*k,u[2]=f[2]*m+f[6]*_+f[10]*E+f[14]*k,u[3]=f[3]*m+f[7]*_+f[11]*E+f[15]*k,u}fy=new Jh(4),Jh!=Float32Array&&(fy[0]=0,fy[1]=0,fy[2]=0,fy[3]=0);class dY extends ns{constructor(l){super(l,uY)}createBucket(l){return new rC(l)}queryRadius(l){const f=l;return uy("circle-radius",this,f)+uy("circle-stroke-width",this,f)+kx(this.paint.get("circle-translate"))}queryIntersectsFeature(l,f,m,_,E,k,$,j){const V=Px(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),k.angle,$),Y=this.paint.get("circle-radius").evaluate(f,m)+this.paint.get("circle-stroke-width").evaluate(f,m),Z=this.paint.get("circle-pitch-alignment")==="map",J=Z?V:function(ie,fe){return ie.map(ye=>UD(ye,fe))}(V,j),ne=Z?Y*$:Y;for(const ie of _)for(const fe of ie){const ye=Z?fe:UD(fe,j);let xe=ne;const Le=Ax([],[fe.x,fe.y,0,1],j);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?xe*=Le[3]/k.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(xe*=k.cameraToCenterDistance/Le[3]),aY(J,ye,xe))return!0}return!1}}function UD(u,l){const f=Ax([],[u.x,u.y,0,1],l);return new v(f[0]/f[3],f[1]/f[3])}class VD extends rC{}let WD;Pt("HeatmapBucket",VD,{omit:["layers"]});var hY={get paint(){return WD=WD||new gi({"heatmap-radius":new Qt(Pe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qt(Pe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qt(Pe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ny(Pe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qt(Pe.paint_heatmap["heatmap-opacity"])})}};function aC(u,{width:l,height:f},m,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==l*f*m)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${l*f*m}`)}else _=new Uint8Array(l*f*m);return u.width=l,u.height=f,u.data=_,u}function qD(u,{width:l,height:f},m){if(l===u.width&&f===u.height)return;const _=aC({},{width:l,height:f},m);sC(u,_,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,f)},m),u.width=l,u.height=f,u.data=_.data}function sC(u,l,f,m,_,E){if(_.width===0||_.height===0)return l;if(_.width>u.width||_.height>u.height||f.x>u.width-_.width||f.y>u.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>l.width||_.height>l.height||m.x>l.width-_.width||m.y>l.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const k=u.data,$=l.data;if(k===$)throw new Error("srcData equals dstData, so image is already copied");for(let j=0;j<_.height;j++){const V=((f.y+j)*u.width+f.x)*E,Y=((m.y+j)*l.width+m.x)*E;for(let Z=0;Z<_.width*E;Z++)$[Y+Z]=k[V+Z]}return l}class dy{constructor(l,f){aC(this,l,1,f)}resize(l){qD(this,l,1)}clone(){return new dy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,m,_,E){sC(l,f,m,_,E,1)}}class Ma{constructor(l,f){aC(this,l,4,f)}resize(l){qD(this,l,4)}replace(l,f){f?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Ma({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,m,_,E){sC(l,f,m,_,E,4)}}function HD(u){const l={},f=u.resolution||256,m=u.clips?u.clips.length:1,_=u.image||new Ma({width:f,height:m});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);const E=(k,$,j)=>{l[u.evaluationKey]=j;const V=u.expression.evaluate(l);_.data[k+$+0]=Math.floor(255*V.r/V.a),_.data[k+$+1]=Math.floor(255*V.g/V.a),_.data[k+$+2]=Math.floor(255*V.b/V.a),_.data[k+$+3]=Math.floor(255*V.a)};if(u.clips)for(let k=0,$=0;k<m;++k,$+=4*f)for(let j=0,V=0;j<f;j++,V+=4){const Y=j/(f-1),{start:Z,end:J}=u.clips[k];E($,V,Z*(1-Y)+J*Y)}else for(let k=0,$=0;k<f;k++,$+=4)E(0,$,k/(f-1));return _}Pt("AlphaImage",dy),Pt("RGBAImage",Ma);class pY extends ns{createBucket(l){return new VD(l)}constructor(l){super(l,hY),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=HD({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let GD;var mY={get paint(){return GD=GD||new gi({"hillshade-illumination-direction":new qt(Pe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new qt(Pe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qt(Pe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qt(Pe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qt(Pe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qt(Pe.paint_hillshade["hillshade-accent-color"])})}};class gY extends ns{constructor(l){super(l,mY)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const yY=ei([{name:"a_pos",components:2,type:"Int16"}],4),{members:vY}=yY;var lC={exports:{}};function Mx(u,l,f){f=f||2;var m,_,E,k,$,j,V,Y=l&&l.length,Z=Y?l[0]*f:u.length,J=YD(u,0,Z,f,!0),ne=[];if(!J||J.next===J.prev)return ne;if(Y&&(J=function(fe,ye,xe,Le){var ke,Fe,qe,rt=[];for(ke=0,Fe=ye.length;ke<Fe;ke++)(qe=YD(fe,ye[ke]*Le,ke<Fe-1?ye[ke+1]*Le:fe.length,Le,!1))===qe.next&&(qe.steiner=!0),rt.push(TY(qe));for(rt.sort(SY),ke=0;ke<rt.length;ke++)xe=EY(rt[ke],xe);return xe}(u,l,J,f)),u.length>80*f){m=E=u[0],_=k=u[1];for(var ie=f;ie<Z;ie+=f)($=u[ie])<m&&(m=$),(j=u[ie+1])<_&&(_=j),$>E&&(E=$),j>k&&(k=j);V=(V=Math.max(E-m,k-_))!==0?32767/V:0}return hy(J,ne,f,m,_,V,0),ne}function YD(u,l,f,m,_){var E,k;if(_===fC(u,l,f,m)>0)for(E=l;E<f;E+=m)k=XD(E,u[E],u[E+1],k);else for(E=f-m;E>=l;E-=m)k=XD(E,u[E],u[E+1],k);return k&&Ox(k,k.next)&&(my(k),k=k.next),k}function cd(u,l){if(!u)return u;l||(l=u);var f,m=u;do if(f=!1,m.steiner||!Ox(m,m.next)&&ri(m.prev,m,m.next)!==0)m=m.next;else{if(my(m),(m=l=m.prev)===m.next)break;f=!0}while(f||m!==l);return l}function hy(u,l,f,m,_,E,k){if(u){!k&&E&&function(Y,Z,J,ne){var ie=Y;do ie.z===0&&(ie.z=cC(ie.x,ie.y,Z,J,ne)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==Y);ie.prevZ.nextZ=null,ie.prevZ=null,function(fe){var ye,xe,Le,ke,Fe,qe,rt,kt,Ft=1;do{for(xe=fe,fe=null,Fe=null,qe=0;xe;){for(qe++,Le=xe,rt=0,ye=0;ye<Ft&&(rt++,Le=Le.nextZ);ye++);for(kt=Ft;rt>0||kt>0&&Le;)rt!==0&&(kt===0||!Le||xe.z<=Le.z)?(ke=xe,xe=xe.nextZ,rt--):(ke=Le,Le=Le.nextZ,kt--),Fe?Fe.nextZ=ke:fe=ke,ke.prevZ=Fe,Fe=ke;xe=Le}Fe.nextZ=null,Ft*=2}while(qe>1)}(ie)}(u,m,_,E);for(var $,j,V=u;u.prev!==u.next;)if($=u.prev,j=u.next,E?xY(u,m,_,E):_Y(u))l.push($.i/f|0),l.push(u.i/f|0),l.push(j.i/f|0),my(u),u=j.next,V=j.next;else if((u=j)===V){k?k===1?hy(u=bY(cd(u),l,f),l,f,m,_,E,2):k===2&&wY(u,l,f,m,_,E):hy(cd(u),l,f,m,_,E,1);break}}}function _Y(u){var l=u.prev,f=u,m=u.next;if(ri(l,f,m)>=0)return!1;for(var _=l.x,E=f.x,k=m.x,$=l.y,j=f.y,V=m.y,Y=_<E?_<k?_:k:E<k?E:k,Z=$<j?$<V?$:V:j<V?j:V,J=_>E?_>k?_:k:E>k?E:k,ne=$>j?$>V?$:V:j>V?j:V,ie=m.next;ie!==l;){if(ie.x>=Y&&ie.x<=J&&ie.y>=Z&&ie.y<=ne&&Qh(_,$,E,j,k,V,ie.x,ie.y)&&ri(ie.prev,ie,ie.next)>=0)return!1;ie=ie.next}return!0}function xY(u,l,f,m){var _=u.prev,E=u,k=u.next;if(ri(_,E,k)>=0)return!1;for(var $=_.x,j=E.x,V=k.x,Y=_.y,Z=E.y,J=k.y,ne=$<j?$<V?$:V:j<V?j:V,ie=Y<Z?Y<J?Y:J:Z<J?Z:J,fe=$>j?$>V?$:V:j>V?j:V,ye=Y>Z?Y>J?Y:J:Z>J?Z:J,xe=cC(ne,ie,l,f,m),Le=cC(fe,ye,l,f,m),ke=u.prevZ,Fe=u.nextZ;ke&&ke.z>=xe&&Fe&&Fe.z<=Le;){if(ke.x>=ne&&ke.x<=fe&&ke.y>=ie&&ke.y<=ye&&ke!==_&&ke!==k&&Qh($,Y,j,Z,V,J,ke.x,ke.y)&&ri(ke.prev,ke,ke.next)>=0||(ke=ke.prevZ,Fe.x>=ne&&Fe.x<=fe&&Fe.y>=ie&&Fe.y<=ye&&Fe!==_&&Fe!==k&&Qh($,Y,j,Z,V,J,Fe.x,Fe.y)&&ri(Fe.prev,Fe,Fe.next)>=0))return!1;Fe=Fe.nextZ}for(;ke&&ke.z>=xe;){if(ke.x>=ne&&ke.x<=fe&&ke.y>=ie&&ke.y<=ye&&ke!==_&&ke!==k&&Qh($,Y,j,Z,V,J,ke.x,ke.y)&&ri(ke.prev,ke,ke.next)>=0)return!1;ke=ke.prevZ}for(;Fe&&Fe.z<=Le;){if(Fe.x>=ne&&Fe.x<=fe&&Fe.y>=ie&&Fe.y<=ye&&Fe!==_&&Fe!==k&&Qh($,Y,j,Z,V,J,Fe.x,Fe.y)&&ri(Fe.prev,Fe,Fe.next)>=0)return!1;Fe=Fe.nextZ}return!0}function bY(u,l,f){var m=u;do{var _=m.prev,E=m.next.next;!Ox(_,E)&&KD(_,m,m.next,E)&&py(_,E)&&py(E,_)&&(l.push(_.i/f|0),l.push(m.i/f|0),l.push(E.i/f|0),my(m),my(m.next),m=u=E),m=m.next}while(m!==u);return cd(m)}function wY(u,l,f,m,_,E){var k=u;do{for(var $=k.next.next;$!==k.prev;){if(k.i!==$.i&&kY(k,$)){var j=ZD(k,$);return k=cd(k,k.next),j=cd(j,j.next),hy(k,l,f,m,_,E,0),void hy(j,l,f,m,_,E,0)}$=$.next}k=k.next}while(k!==u)}function SY(u,l){return u.x-l.x}function EY(u,l){var f=function(_,E){var k,$=E,j=_.x,V=_.y,Y=-1/0;do{if(V<=$.y&&V>=$.next.y&&$.next.y!==$.y){var Z=$.x+(V-$.y)*($.next.x-$.x)/($.next.y-$.y);if(Z<=j&&Z>Y&&(Y=Z,k=$.x<$.next.x?$:$.next,Z===j))return k}$=$.next}while($!==E);if(!k)return null;var J,ne=k,ie=k.x,fe=k.y,ye=1/0;$=k;do j>=$.x&&$.x>=ie&&j!==$.x&&Qh(V<fe?j:Y,V,ie,fe,V<fe?Y:j,V,$.x,$.y)&&(J=Math.abs(V-$.y)/(j-$.x),py($,_)&&(J<ye||J===ye&&($.x>k.x||$.x===k.x&&CY(k,$)))&&(k=$,ye=J)),$=$.next;while($!==ne);return k}(u,l);if(!f)return l;var m=ZD(f,u);return cd(m,m.next),cd(f,f.next)}function CY(u,l){return ri(u.prev,u,l.prev)<0&&ri(l.next,u,u.next)<0}function cC(u,l,f,m,_){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-f)*_|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*_|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function TY(u){var l=u,f=u;do(l.x<f.x||l.x===f.x&&l.y<f.y)&&(f=l),l=l.next;while(l!==u);return f}function Qh(u,l,f,m,_,E,k,$){return(_-k)*(l-$)>=(u-k)*(E-$)&&(u-k)*(m-$)>=(f-k)*(l-$)&&(f-k)*(E-$)>=(_-k)*(m-$)}function kY(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(f,m){var _=f;do{if(_.i!==f.i&&_.next.i!==f.i&&_.i!==m.i&&_.next.i!==m.i&&KD(_,_.next,f,m))return!0;_=_.next}while(_!==f);return!1}(u,l)&&(py(u,l)&&py(l,u)&&function(f,m){var _=f,E=!1,k=(f.x+m.x)/2,$=(f.y+m.y)/2;do _.y>$!=_.next.y>$&&_.next.y!==_.y&&k<(_.next.x-_.x)*($-_.y)/(_.next.y-_.y)+_.x&&(E=!E),_=_.next;while(_!==f);return E}(u,l)&&(ri(u.prev,u,l.prev)||ri(u,l.prev,l))||Ox(u,l)&&ri(u.prev,u,u.next)>0&&ri(l.prev,l,l.next)>0)}function ri(u,l,f){return(l.y-u.y)*(f.x-l.x)-(l.x-u.x)*(f.y-l.y)}function Ox(u,l){return u.x===l.x&&u.y===l.y}function KD(u,l,f,m){var _=Rx(ri(u,l,f)),E=Rx(ri(u,l,m)),k=Rx(ri(f,m,u)),$=Rx(ri(f,m,l));return _!==E&&k!==$||!(_!==0||!Ix(u,f,l))||!(E!==0||!Ix(u,m,l))||!(k!==0||!Ix(f,u,m))||!($!==0||!Ix(f,l,m))}function Ix(u,l,f){return l.x<=Math.max(u.x,f.x)&&l.x>=Math.min(u.x,f.x)&&l.y<=Math.max(u.y,f.y)&&l.y>=Math.min(u.y,f.y)}function Rx(u){return u>0?1:u<0?-1:0}function py(u,l){return ri(u.prev,u,u.next)<0?ri(u,l,u.next)>=0&&ri(u,u.prev,l)>=0:ri(u,l,u.prev)<0||ri(u,u.next,l)<0}function ZD(u,l){var f=new uC(u.i,u.x,u.y),m=new uC(l.i,l.x,l.y),_=u.next,E=l.prev;return u.next=l,l.prev=u,f.next=_,_.prev=f,m.next=f,f.prev=m,E.next=m,m.prev=E,m}function XD(u,l,f,m){var _=new uC(u,l,f);return m?(_.next=m.next,_.prev=m,m.next.prev=_,m.next=_):(_.prev=_,_.next=_),_}function my(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function uC(u,l,f){this.i=u,this.x=l,this.y=f,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fC(u,l,f,m){for(var _=0,E=l,k=f-m;E<f;E+=m)_+=(u[k]-u[E])*(u[E+1]+u[k+1]),k=E;return _}lC.exports=Mx,lC.exports.default=Mx,Mx.deviation=function(u,l,f,m){var _=l&&l.length,E=Math.abs(fC(u,0,_?l[0]*f:u.length,f));if(_)for(var k=0,$=l.length;k<$;k++)E-=Math.abs(fC(u,l[k]*f,k<$-1?l[k+1]*f:u.length,f));var j=0;for(k=0;k<m.length;k+=3){var V=m[k]*f,Y=m[k+1]*f,Z=m[k+2]*f;j+=Math.abs((u[V]-u[Z])*(u[Y+1]-u[V+1])-(u[V]-u[Y])*(u[Z+1]-u[V+1]))}return E===0&&j===0?0:Math.abs((j-E)/E)},Mx.flatten=function(u){for(var l=u[0][0].length,f={vertices:[],holes:[],dimensions:l},m=0,_=0;_<u.length;_++){for(var E=0;E<u[_].length;E++)for(var k=0;k<l;k++)f.vertices.push(u[_][E][k]);_>0&&f.holes.push(m+=u[_-1].length)}return f};var JD=d(lC.exports);function PY(u,l,f,m,_){QD(u,l,f||0,m||u.length-1,_||AY)}function QD(u,l,f,m,_){for(;m>f;){if(m-f>600){var E=m-f+1,k=l-f+1,$=Math.log(E),j=.5*Math.exp(2*$/3),V=.5*Math.sqrt($*j*(E-j)/E)*(k-E/2<0?-1:1);QD(u,l,Math.max(f,Math.floor(l-k*j/E+V)),Math.min(m,Math.floor(l+(E-k)*j/E+V)),_)}var Y=u[l],Z=f,J=m;for(gy(u,f,l),_(u[m],Y)>0&&gy(u,f,m);Z<J;){for(gy(u,Z,J),Z++,J--;_(u[Z],Y)<0;)Z++;for(;_(u[J],Y)>0;)J--}_(u[f],Y)===0?gy(u,f,J):gy(u,++J,m),J<=l&&(f=J+1),l<=J&&(m=J-1)}}function gy(u,l,f){var m=u[l];u[l]=u[f],u[f]=m}function AY(u,l){return u<l?-1:u>l?1:0}function dC(u,l){const f=u.length;if(f<=1)return[u];const m=[];let _,E;for(let k=0;k<f;k++){const $=ae(u[k]);$!==0&&(u[k].area=Math.abs($),E===void 0&&(E=$<0),E===$<0?(_&&m.push(_),_=[u[k]]):_.push(u[k]))}if(_&&m.push(_),l>1)for(let k=0;k<m.length;k++)m[k].length<=l||(PY(m[k],l,1,m[k].length-1,MY),m[k]=m[k].slice(0,l));return m}function MY(u,l){return l.area-u.area}function hC(u,l,f){const m=f.patternDependencies;let _=!1;for(const E of l){const k=E.paint.get(`${u}-pattern`);k.isConstant()||(_=!0);const $=k.constantOr(null);$&&(_=!0,m[$.to]=!0,m[$.from]=!0)}return _}function pC(u,l,f,m,_){const E=_.patternDependencies;for(const k of l){const $=k.paint.get(`${u}-pattern`).value;if($.kind!=="constant"){let j=$.evaluate({zoom:m-1},f,{},_.availableImages),V=$.evaluate({zoom:m},f,{},_.availableImages),Y=$.evaluate({zoom:m+1},f,{},_.availableImages);j=j&&j.name?j.name:j,V=V&&V.name?V.name:V,Y=Y&&Y.name?Y.name:Y,E[j]=!0,E[V]=!0,E[Y]=!0,f.patterns[k.id]={min:j,mid:V,max:Y}}}return f}class mC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ge,this.indexArray=new Dt,this.indexArray2=new sn,this.programConfigurations=new wc(l.layers,l.zoom),this.segments=new tr,this.segments2=new tr,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){this.hasPattern=hC("fill",this.layers,f);const _=this.layers[0].layout.get("fill-sort-key"),E=!_.isConstant(),k=[];for(const{feature:$,id:j,index:V,sourceLayerIndex:Y}of l){const Z=this.layers[0]._featureFilter.needGeometry,J=Vs($,Z);if(!this.layers[0]._featureFilter.filter(new bn(this.zoom),J,m))continue;const ne=E?_.evaluate(J,{},m,f.availableImages):void 0,ie={id:j,properties:$.properties,type:$.type,sourceLayerIndex:Y,index:V,geometry:Z?J.geometry:Pl($),patterns:{},sortKey:ne};k.push(ie)}E&&k.sort(($,j)=>$.sortKey-j.sortKey);for(const $ of k){const{geometry:j,index:V,sourceLayerIndex:Y}=$;if(this.hasPattern){const Z=pC("fill",this.layers,$,this.zoom,f);this.patternFeatures.push(Z)}else this.addFeature($,j,V,m,{});f.featureIndex.insert(l[V].feature,j,V,Y,this.index)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}addFeatures(l,f,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,vY),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,f,m,_,E){for(const k of dC(f,500)){let $=0;for(const ne of k)$+=ne.length;const j=this.segments.prepareSegment($,this.layoutVertexArray,this.indexArray),V=j.vertexLength,Y=[],Z=[];for(const ne of k){if(ne.length===0)continue;ne!==k[0]&&Z.push(Y.length/2);const ie=this.segments2.prepareSegment(ne.length,this.layoutVertexArray,this.indexArray2),fe=ie.vertexLength;this.layoutVertexArray.emplaceBack(ne[0].x,ne[0].y),this.indexArray2.emplaceBack(fe+ne.length-1,fe),Y.push(ne[0].x),Y.push(ne[0].y);for(let ye=1;ye<ne.length;ye++)this.layoutVertexArray.emplaceBack(ne[ye].x,ne[ye].y),this.indexArray2.emplaceBack(fe+ye-1,fe+ye),Y.push(ne[ye].x),Y.push(ne[ye].y);ie.vertexLength+=ne.length,ie.primitiveLength+=ne.length}const J=JD(Y,Z);for(let ne=0;ne<J.length;ne+=3)this.indexArray.emplaceBack(V+J[ne],V+J[ne+1],V+J[ne+2]);j.vertexLength+=$,j.primitiveLength+=J.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,E,_)}}let eL,tL;Pt("FillBucket",mC,{omit:["layers","patternFeatures"]});var OY={get paint(){return tL=tL||new gi({"fill-antialias":new qt(Pe.paint_fill["fill-antialias"]),"fill-opacity":new Qt(Pe.paint_fill["fill-opacity"]),"fill-color":new Qt(Pe.paint_fill["fill-color"]),"fill-outline-color":new Qt(Pe.paint_fill["fill-outline-color"]),"fill-translate":new qt(Pe.paint_fill["fill-translate"]),"fill-translate-anchor":new qt(Pe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Wh(Pe.paint_fill["fill-pattern"])})},get layout(){return eL=eL||new gi({"fill-sort-key":new Qt(Pe.layout_fill["fill-sort-key"])})}};class IY extends ns{constructor(l){super(l,OY)}recalculate(l,f){super.recalculate(l,f);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new mC(l)}queryRadius(){return kx(this.paint.get("fill-translate"))}queryIntersectsFeature(l,f,m,_,E,k,$){return LD(Px(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),k.angle,$),_)}isTileClipped(){return!0}}const RY=ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),$Y=ei([{name:"a_centroid",components:2,type:"Int16"}],4),{members:DY}=RY;var Pu={},LY=h,rL=ep;function ep(u,l,f,m,_){this.properties={},this.extent=f,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=_,u.readFields(zY,this,l)}function zY(u,l,f){u==1?l.id=f.readVarint():u==2?function(m,_){for(var E=m.readVarint()+m.pos;m.pos<E;){var k=_._keys[m.readVarint()],$=_._values[m.readVarint()];_.properties[k]=$}}(f,l):u==3?l.type=f.readVarint():u==4&&(l._geometry=f.pos)}function NY(u){for(var l,f,m=0,_=0,E=u.length,k=E-1;_<E;k=_++)m+=((f=u[k]).x-(l=u[_]).x)*(l.y+f.y);return m}ep.types=["Unknown","Point","LineString","Polygon"],ep.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,f=u.readVarint()+u.pos,m=1,_=0,E=0,k=0,$=[];u.pos<f;){if(_<=0){var j=u.readVarint();m=7&j,_=j>>3}if(_--,m===1||m===2)E+=u.readSVarint(),k+=u.readSVarint(),m===1&&(l&&$.push(l),l=[]),l.push(new LY(E,k));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&$.push(l),$},ep.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,f=1,m=0,_=0,E=0,k=1/0,$=-1/0,j=1/0,V=-1/0;u.pos<l;){if(m<=0){var Y=u.readVarint();f=7&Y,m=Y>>3}if(m--,f===1||f===2)(_+=u.readSVarint())<k&&(k=_),_>$&&($=_),(E+=u.readSVarint())<j&&(j=E),E>V&&(V=E);else if(f!==7)throw new Error("unknown command "+f)}return[k,j,$,V]},ep.prototype.toGeoJSON=function(u,l,f){var m,_,E=this.extent*Math.pow(2,f),k=this.extent*u,$=this.extent*l,j=this.loadGeometry(),V=ep.types[this.type];function Y(ne){for(var ie=0;ie<ne.length;ie++){var fe=ne[ie];ne[ie]=[360*(fe.x+k)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(fe.y+$)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(m=0;m<j.length;m++)Z[m]=j[m][0];Y(j=Z);break;case 2:for(m=0;m<j.length;m++)Y(j[m]);break;case 3:for(j=function(ne){var ie=ne.length;if(ie<=1)return[ne];for(var fe,ye,xe=[],Le=0;Le<ie;Le++){var ke=NY(ne[Le]);ke!==0&&(ye===void 0&&(ye=ke<0),ye===ke<0?(fe&&xe.push(fe),fe=[ne[Le]]):fe.push(ne[Le]))}return fe&&xe.push(fe),xe}(j),m=0;m<j.length;m++)for(_=0;_<j[m].length;_++)Y(j[m][_])}j.length===1?j=j[0]:V="Multi"+V;var J={type:"Feature",geometry:{type:V,coordinates:j},properties:this.properties};return"id"in this&&(J.id=this.id),J};var jY=rL,nL=iL;function iL(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(BY,this,l),this.length=this._features.length}function BY(u,l,f){u===15?l.version=f.readVarint():u===1?l.name=f.readString():u===5?l.extent=f.readVarint():u===2?l._features.push(f.pos):u===3?l._keys.push(f.readString()):u===4&&l._values.push(function(m){for(var _=null,E=m.readVarint()+m.pos;m.pos<E;){var k=m.readVarint()>>3;_=k===1?m.readString():k===2?m.readFloat():k===3?m.readDouble():k===4?m.readVarint64():k===5?m.readVarint():k===6?m.readSVarint():k===7?m.readBoolean():null}return _}(f))}iL.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new jY(this._pbf,l,this.extent,this._keys,this._values)};var FY=nL;function UY(u,l,f){if(u===3){var m=new FY(f,f.readVarint()+f.pos);m.length&&(l[m.name]=m)}}Pu.VectorTile=function(u,l){this.layers=u.readFields(UY,{},l)},Pu.VectorTileFeature=rL,Pu.VectorTileLayer=nL;const VY=Pu.VectorTileFeature.types,gC=Math.pow(2,13);function yy(u,l,f,m,_,E,k,$){u.emplaceBack(l,f,2*Math.floor(m*gC)+k,_*gC*2,E*gC*2,Math.round($))}class yC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ze,this.centroidVertexArray=new ve,this.indexArray=new Dt,this.programConfigurations=new wc(l.layers,l.zoom),this.segments=new tr,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){this.features=[],this.hasPattern=hC("fill-extrusion",this.layers,f);for(const{feature:_,id:E,index:k,sourceLayerIndex:$}of l){const j=this.layers[0]._featureFilter.needGeometry,V=Vs(_,j);if(!this.layers[0]._featureFilter.filter(new bn(this.zoom),V,m))continue;const Y={id:E,sourceLayerIndex:$,index:k,geometry:j?V.geometry:Pl(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(pC("fill-extrusion",this.layers,Y,this.zoom,f)):this.addFeature(Y,Y.geometry,k,m,{}),f.featureIndex.insert(_,Y.geometry,k,$,this.index,!0)}}addFeatures(l,f,m){for(const _ of this.features){const{geometry:E}=_;this.addFeature(_,E,_.index,f,m)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,DY),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,$Y.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,f,m,_,E){const k={x:0,y:0,vertexCount:0};for(const $ of dC(f,500)){let j=0;for(const ie of $)j+=ie.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ie of $){if(ie.length===0||qY(ie))continue;let fe=0;for(let ye=0;ye<ie.length;ye++){const xe=ie[ye];if(ye>=1){const Le=ie[ye-1];if(!WY(xe,Le)){V.vertexLength+4>tr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ke=xe.sub(Le)._perp()._unit(),Fe=Le.dist(xe);fe+Fe>32768&&(fe=0),yy(this.layoutVertexArray,xe.x,xe.y,ke.x,ke.y,0,0,fe),yy(this.layoutVertexArray,xe.x,xe.y,ke.x,ke.y,0,1,fe),k.x+=2*xe.x,k.y+=2*xe.y,k.vertexCount+=2,fe+=Fe,yy(this.layoutVertexArray,Le.x,Le.y,ke.x,ke.y,0,0,fe),yy(this.layoutVertexArray,Le.x,Le.y,ke.x,ke.y,0,1,fe),k.x+=2*Le.x,k.y+=2*Le.y,k.vertexCount+=2;const qe=V.vertexLength;this.indexArray.emplaceBack(qe,qe+2,qe+1),this.indexArray.emplaceBack(qe+1,qe+2,qe+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+j>tr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),VY[l.type]!=="Polygon")continue;const Y=[],Z=[],J=V.vertexLength;for(const ie of $)if(ie.length!==0){ie!==$[0]&&Z.push(Y.length/2);for(let fe=0;fe<ie.length;fe++){const ye=ie[fe];yy(this.layoutVertexArray,ye.x,ye.y,0,0,1,1,0),k.x+=ye.x,k.y+=ye.y,k.vertexCount+=1,Y.push(ye.x),Y.push(ye.y)}}const ne=JD(Y,Z);for(let ie=0;ie<ne.length;ie+=3)this.indexArray.emplaceBack(J+ne[ie],J+ne[ie+2],J+ne[ie+1]);V.primitiveLength+=ne.length/3,V.vertexLength+=j}for(let $=0;$<k.vertexCount;$++)this.centroidVertexArray.emplaceBack(Math.floor(k.x/k.vertexCount),Math.floor(k.y/k.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,E,_)}}function WY(u,l){return u.x===l.x&&(u.x<0||u.x>Mn)||u.y===l.y&&(u.y<0||u.y>Mn)}function qY(u){return u.every(l=>l.x<0)||u.every(l=>l.x>Mn)||u.every(l=>l.y<0)||u.every(l=>l.y>Mn)}let oL;Pt("FillExtrusionBucket",yC,{omit:["layers","features"]});var HY={get paint(){return oL=oL||new gi({"fill-extrusion-opacity":new qt(Pe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qt(Pe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qt(Pe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qt(Pe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Wh(Pe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qt(Pe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qt(Pe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qt(Pe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class GY extends ns{constructor(l){super(l,HY)}createBucket(l){return new yC(l)}queryRadius(){return kx(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,f,m,_,E,k,$,j){const V=Px(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),k.angle,$),Y=this.paint.get("fill-extrusion-height").evaluate(f,m),Z=this.paint.get("fill-extrusion-base").evaluate(f,m),J=function(ie,fe,ye,xe){const Le=[];for(const ke of ie){const Fe=[ke.x,ke.y,0,1];Ax(Fe,Fe,fe),Le.push(new v(Fe[0]/Fe[3],Fe[1]/Fe[3]))}return Le}(V,j),ne=function(ie,fe,ye,xe){const Le=[],ke=[],Fe=xe[8]*fe,qe=xe[9]*fe,rt=xe[10]*fe,kt=xe[11]*fe,Ft=xe[8]*ye,Ct=xe[9]*ye,bt=xe[10]*ye,gt=xe[11]*ye;for(const Rt of ie){const _t=[],ht=[];for(const Kt of Rt){const Ut=Kt.x,yr=Kt.y,mn=xe[0]*Ut+xe[4]*yr+xe[12],wn=xe[1]*Ut+xe[5]*yr+xe[13],vi=xe[2]*Ut+xe[6]*yr+xe[14],ca=xe[3]*Ut+xe[7]*yr+xe[15],xo=vi+rt,ci=ca+kt,ki=mn+Ft,Wi=wn+Ct,qo=vi+bt,bo=ca+gt,ui=new v((mn+Fe)/ci,(wn+qe)/ci);ui.z=xo/ci,_t.push(ui);const _i=new v(ki/bo,Wi/bo);_i.z=qo/bo,ht.push(_i)}Le.push(_t),ke.push(ht)}return[Le,ke]}(_,Z,Y,j);return function(ie,fe,ye){let xe=1/0;LD(ye,fe)&&(xe=aL(ye,fe[0]));for(let Le=0;Le<fe.length;Le++){const ke=fe[Le],Fe=ie[Le];for(let qe=0;qe<ke.length-1;qe++){const rt=ke[qe],kt=[rt,ke[qe+1],Fe[qe+1],Fe[qe],rt];DD(ye,kt)&&(xe=Math.min(xe,aL(ye,kt)))}}return xe!==1/0&&xe}(ne[0],ne[1],J)}}function vy(u,l){return u.x*l.x+u.y*l.y}function aL(u,l){if(u.length===1){let f=0;const m=l[f++];let _;for(;!_||m.equals(_);)if(_=l[f++],!_)return 1/0;for(;f<l.length;f++){const E=l[f],k=u[0],$=_.sub(m),j=E.sub(m),V=k.sub(m),Y=vy($,$),Z=vy($,j),J=vy(j,j),ne=vy(V,$),ie=vy(V,j),fe=Y*J-Z*Z,ye=(J*ne-Z*ie)/fe,xe=(Y*ie-Z*ne)/fe,Le=m.z*(1-ye-xe)+_.z*ye+E.z*xe;if(isFinite(Le))return Le}return 1/0}{let f=1/0;for(const m of l)f=Math.min(f,m.z);return f}}const YY=ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:KY}=YY,ZY=ei([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:XY}=ZY,JY=Pu.VectorTileFeature.types,QY=Math.cos(Math.PI/180*37.5),sL=Math.pow(2,14)/.5;class vC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new et,this.layoutVertexArray2=new dt,this.indexArray=new Dt,this.programConfigurations=new wc(l.layers,l.zoom),this.segments=new tr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,m){this.hasPattern=hC("line",this.layers,f);const _=this.layers[0].layout.get("line-sort-key"),E=!_.isConstant(),k=[];for(const{feature:$,id:j,index:V,sourceLayerIndex:Y}of l){const Z=this.layers[0]._featureFilter.needGeometry,J=Vs($,Z);if(!this.layers[0]._featureFilter.filter(new bn(this.zoom),J,m))continue;const ne=E?_.evaluate(J,{},m):void 0,ie={id:j,properties:$.properties,type:$.type,sourceLayerIndex:Y,index:V,geometry:Z?J.geometry:Pl($),patterns:{},sortKey:ne};k.push(ie)}E&&k.sort(($,j)=>$.sortKey-j.sortKey);for(const $ of k){const{geometry:j,index:V,sourceLayerIndex:Y}=$;if(this.hasPattern){const Z=pC("line",this.layers,$,this.zoom,f);this.patternFeatures.push(Z)}else this.addFeature($,j,V,m,{});f.featureIndex.insert(l[V].feature,j,V,Y,this.index)}}update(l,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,m)}addFeatures(l,f,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,f,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,XY)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,KY),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,f,m,_,E){const k=this.layers[0].layout,$=k.get("line-join").evaluate(l,{}),j=k.get("line-cap"),V=k.get("line-miter-limit"),Y=k.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Z of f)this.addLine(Z,l,$,j,V,Y);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,E,_)}addLine(l,f,m,_,E,k){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<l.length-1;xe++)this.totalDistance+=l[xe].dist(l[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const $=JY[f.type]==="Polygon";let j=l.length;for(;j>=2&&l[j-1].equals(l[j-2]);)j--;let V=0;for(;V<j-1&&l[V].equals(l[V+1]);)V++;if(j<($?3:2))return;m==="bevel"&&(E=1.05);const Y=this.overscaling<=16?15*Mn/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);let J,ne,ie,fe,ye;this.e1=this.e2=-1,$&&(J=l[j-2],ye=l[V].sub(J)._unit()._perp());for(let xe=V;xe<j;xe++){if(ie=xe===j-1?$?l[V+1]:void 0:l[xe+1],ie&&l[xe].equals(ie))continue;ye&&(fe=ye),J&&(ne=J),J=l[xe],ye=ie?ie.sub(J)._unit()._perp():fe,fe=fe||ye;let Le=fe.add(ye);Le.x===0&&Le.y===0||Le._unit();const ke=fe.x*ye.x+fe.y*ye.y,Fe=Le.x*ye.x+Le.y*ye.y,qe=Fe!==0?1/Fe:1/0,rt=2*Math.sqrt(2-2*Fe),kt=Fe<QY&&ne&&ie,Ft=fe.x*ye.y-fe.y*ye.x>0;if(kt&&xe>V){const gt=J.dist(ne);if(gt>2*Y){const Rt=J.sub(J.sub(ne)._mult(Y/gt)._round());this.updateDistance(ne,Rt),this.addCurrentVertex(Rt,fe,0,0,Z),ne=Rt}}const Ct=ne&&ie;let bt=Ct?m:$?"butt":_;if(Ct&&bt==="round"&&(qe<k?bt="miter":qe<=2&&(bt="fakeround")),bt==="miter"&&qe>E&&(bt="bevel"),bt==="bevel"&&(qe>2&&(bt="flipbevel"),qe<E&&(bt="miter")),ne&&this.updateDistance(ne,J),bt==="miter")Le._mult(qe),this.addCurrentVertex(J,Le,0,0,Z);else if(bt==="flipbevel"){if(qe>100)Le=ye.mult(-1);else{const gt=qe*fe.add(ye).mag()/fe.sub(ye).mag();Le._perp()._mult(gt*(Ft?-1:1))}this.addCurrentVertex(J,Le,0,0,Z),this.addCurrentVertex(J,Le.mult(-1),0,0,Z)}else if(bt==="bevel"||bt==="fakeround"){const gt=-Math.sqrt(qe*qe-1),Rt=Ft?gt:0,_t=Ft?0:gt;if(ne&&this.addCurrentVertex(J,fe,Rt,_t,Z),bt==="fakeround"){const ht=Math.round(180*rt/Math.PI/20);for(let Kt=1;Kt<ht;Kt++){let Ut=Kt/ht;if(Ut!==.5){const mn=Ut-.5;Ut+=Ut*mn*(Ut-1)*((1.0904+ke*(ke*(3.55645-1.43519*ke)-3.2452))*mn*mn+(.848013+ke*(.215638*ke-1.06021)))}const yr=ye.sub(fe)._mult(Ut)._add(fe)._unit()._mult(Ft?-1:1);this.addHalfVertex(J,yr.x,yr.y,!1,Ft,0,Z)}}ie&&this.addCurrentVertex(J,ye,-Rt,-_t,Z)}else if(bt==="butt")this.addCurrentVertex(J,Le,0,0,Z);else if(bt==="square"){const gt=ne?1:-1;this.addCurrentVertex(J,Le,gt,gt,Z)}else bt==="round"&&(ne&&(this.addCurrentVertex(J,fe,0,0,Z),this.addCurrentVertex(J,fe,1,1,Z,!0)),ie&&(this.addCurrentVertex(J,ye,-1,-1,Z,!0),this.addCurrentVertex(J,ye,0,0,Z)));if(kt&&xe<j-1){const gt=J.dist(ie);if(gt>2*Y){const Rt=J.add(ie.sub(J)._mult(Y/gt)._round());this.updateDistance(J,Rt),this.addCurrentVertex(Rt,ye,0,0,Z),J=Rt}}}}addCurrentVertex(l,f,m,_,E,k=!1){const $=f.y*_-f.x,j=-f.y-f.x*_;this.addHalfVertex(l,f.x+f.y*m,f.y-f.x*m,k,!1,m,E),this.addHalfVertex(l,$,j,k,!0,-_,E),this.distance>sL/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,f,m,_,E,k))}addHalfVertex({x:l,y:f},m,_,E,k,$,j){const V=.5*(this.lineClips?this.scaledDistance*(sL-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(E?1:0),(f<<1)+(k?1:0),Math.round(63*m)+128,Math.round(63*_)+128,1+($===0?0:$<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Y=j.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Y),j.primitiveLength++),k?this.e2=Y:this.e1=Y}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,f){this.distance+=l.dist(f),this.updateScaledDistance()}}let lL,cL;Pt("LineBucket",vC,{omit:["layers","patternFeatures"]});var uL={get paint(){return cL=cL||new gi({"line-opacity":new Qt(Pe.paint_line["line-opacity"]),"line-color":new Qt(Pe.paint_line["line-color"]),"line-translate":new qt(Pe.paint_line["line-translate"]),"line-translate-anchor":new qt(Pe.paint_line["line-translate-anchor"]),"line-width":new Qt(Pe.paint_line["line-width"]),"line-gap-width":new Qt(Pe.paint_line["line-gap-width"]),"line-offset":new Qt(Pe.paint_line["line-offset"]),"line-blur":new Qt(Pe.paint_line["line-blur"]),"line-dasharray":new ry(Pe.paint_line["line-dasharray"]),"line-pattern":new Wh(Pe.paint_line["line-pattern"]),"line-gradient":new ny(Pe.paint_line["line-gradient"])})},get layout(){return lL=lL||new gi({"line-cap":new qt(Pe.layout_line["line-cap"]),"line-join":new Qt(Pe.layout_line["line-join"]),"line-miter-limit":new qt(Pe.layout_line["line-miter-limit"]),"line-round-limit":new qt(Pe.layout_line["line-round-limit"]),"line-sort-key":new Qt(Pe.layout_line["line-sort-key"])})}};class eK extends Qt{possiblyEvaluate(l,f){return f=new bn(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(l,f)}evaluate(l,f,m,_){return f=C({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(l,f,m,_)}}let $x;class tK extends ns{constructor(l){super(l,uL),this.gradientVersion=0,$x||($x=new eK(uL.paint.properties["line-width"].specification),$x.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){l==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Xf,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,f){super.recalculate(l,f),this.paint._values["line-floorwidth"]=$x.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new vC(l)}queryRadius(l){const f=l,m=fL(uy("line-width",this,f),uy("line-gap-width",this,f)),_=uy("line-offset",this,f);return m/2+Math.abs(_)+kx(this.paint.get("line-translate"))}queryIntersectsFeature(l,f,m,_,E,k,$){const j=Px(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),k.angle,$),V=$/2*fL(this.paint.get("line-width").evaluate(f,m),this.paint.get("line-gap-width").evaluate(f,m)),Y=this.paint.get("line-offset").evaluate(f,m);return Y&&(_=function(Z,J){const ne=[];for(let ie=0;ie<Z.length;ie++){const fe=Z[ie],ye=[];for(let xe=0;xe<fe.length;xe++){const Le=fe[xe-1],ke=fe[xe],Fe=fe[xe+1],qe=xe===0?new v(0,0):ke.sub(Le)._unit()._perp(),rt=xe===fe.length-1?new v(0,0):Fe.sub(ke)._unit()._perp(),kt=qe._add(rt)._unit(),Ft=kt.x*rt.x+kt.y*rt.y;Ft!==0&&kt._mult(1/Ft),ye.push(kt._mult(J)._add(ke))}ne.push(ye)}return ne}(_,Y*$)),function(Z,J,ne){for(let ie=0;ie<J.length;ie++){const fe=J[ie];if(Z.length>=3){for(let ye=0;ye<fe.length;ye++)if(Xh(Z,fe[ye]))return!0}if(sY(Z,fe,ne))return!0}return!1}(j,_,V)}isTileClipped(){return!0}}function fL(u,l){return l>0?l+2*u:u}const rK=ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nK=ei([{name:"a_projected_pos",components:3,type:"Float32"}],4);ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const iK=ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const dL=ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),oK=ei([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function aK(u,l,f){return u.sections.forEach(m=>{m.text=function(_,E,k){const $=E.layout.get("text-transform").evaluate(k,{});return $==="uppercase"?_=_.toLocaleUpperCase():$==="lowercase"&&(_=_.toLocaleLowerCase()),la.applyArabicShaping&&(_=la.applyArabicShaping(_)),_}(m.text,l,f)}),u}ei([{name:"triangle",components:3,type:"Uint16"}]),ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ei([{type:"Float32",name:"offsetX"}]),ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ei([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const _y={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var yi=24,hL=Qr,pL=function(u,l,f,m,_){var E,k,$=8*_-m-1,j=(1<<$)-1,V=j>>1,Y=-7,Z=f?_-1:0,J=f?-1:1,ne=u[l+Z];for(Z+=J,E=ne&(1<<-Y)-1,ne>>=-Y,Y+=$;Y>0;E=256*E+u[l+Z],Z+=J,Y-=8);for(k=E&(1<<-Y)-1,E>>=-Y,Y+=m;Y>0;k=256*k+u[l+Z],Z+=J,Y-=8);if(E===0)E=1-V;else{if(E===j)return k?NaN:1/0*(ne?-1:1);k+=Math.pow(2,m),E-=V}return(ne?-1:1)*k*Math.pow(2,E-m)},mL=function(u,l,f,m,_,E){var k,$,j,V=8*E-_-1,Y=(1<<V)-1,Z=Y>>1,J=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,ne=m?0:E-1,ie=m?1:-1,fe=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?($=isNaN(l)?1:0,k=Y):(k=Math.floor(Math.log(l)/Math.LN2),l*(j=Math.pow(2,-k))<1&&(k--,j*=2),(l+=k+Z>=1?J/j:J*Math.pow(2,1-Z))*j>=2&&(k++,j/=2),k+Z>=Y?($=0,k=Y):k+Z>=1?($=(l*j-1)*Math.pow(2,_),k+=Z):($=l*Math.pow(2,Z-1)*Math.pow(2,_),k=0));_>=8;u[f+ne]=255&$,ne+=ie,$/=256,_-=8);for(k=k<<_|$,V+=_;V>0;u[f+ne]=255&k,ne+=ie,k/=256,V-=8);u[f+ne-ie]|=128*fe};function Qr(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}Qr.Varint=0,Qr.Fixed64=1,Qr.Bytes=2,Qr.Fixed32=5;var _C=4294967296,gL=1/_C,yL=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Sc(u){return u.type===Qr.Bytes?u.readVarint()+u.pos:u.pos+1}function tp(u,l,f){return f?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function vL(u,l,f){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));f.realloc(m);for(var _=f.pos-1;_>=u;_--)f.buf[_+m]=f.buf[_]}function sK(u,l){for(var f=0;f<u.length;f++)l.writeVarint(u[f])}function lK(u,l){for(var f=0;f<u.length;f++)l.writeSVarint(u[f])}function cK(u,l){for(var f=0;f<u.length;f++)l.writeFloat(u[f])}function uK(u,l){for(var f=0;f<u.length;f++)l.writeDouble(u[f])}function fK(u,l){for(var f=0;f<u.length;f++)l.writeBoolean(u[f])}function dK(u,l){for(var f=0;f<u.length;f++)l.writeFixed32(u[f])}function hK(u,l){for(var f=0;f<u.length;f++)l.writeSFixed32(u[f])}function pK(u,l){for(var f=0;f<u.length;f++)l.writeFixed64(u[f])}function mK(u,l){for(var f=0;f<u.length;f++)l.writeSFixed64(u[f])}function Dx(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function rp(u,l,f){u[f]=l,u[f+1]=l>>>8,u[f+2]=l>>>16,u[f+3]=l>>>24}function _L(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}Qr.prototype={destroy:function(){this.buf=null},readFields:function(u,l,f){for(f=f||this.length;this.pos<f;){var m=this.readVarint(),_=m>>3,E=this.pos;this.type=7&m,u(_,l,this),this.pos===E&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=Dx(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=_L(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=Dx(this.buf,this.pos)+Dx(this.buf,this.pos+4)*_C;return this.pos+=8,u},readSFixed64:function(){var u=Dx(this.buf,this.pos)+_L(this.buf,this.pos+4)*_C;return this.pos+=8,u},readFloat:function(){var u=pL(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=pL(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,f,m=this.buf;return l=127&(f=m[this.pos++]),f<128?l:(l|=(127&(f=m[this.pos++]))<<7,f<128?l:(l|=(127&(f=m[this.pos++]))<<14,f<128?l:(l|=(127&(f=m[this.pos++]))<<21,f<128?l:function(_,E,k){var $,j,V=k.buf;if($=(112&(j=V[k.pos++]))>>4,j<128||($|=(127&(j=V[k.pos++]))<<3,j<128)||($|=(127&(j=V[k.pos++]))<<10,j<128)||($|=(127&(j=V[k.pos++]))<<17,j<128)||($|=(127&(j=V[k.pos++]))<<24,j<128)||($|=(1&(j=V[k.pos++]))<<31,j<128))return tp(_,$,E);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(f=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&yL?function(f,m,_){return yL.decode(f.subarray(m,_))}(this.buf,l,u):function(f,m,_){for(var E="",k=m;k<_;){var $,j,V,Y=f[k],Z=null,J=Y>239?4:Y>223?3:Y>191?2:1;if(k+J>_)break;J===1?Y<128&&(Z=Y):J===2?(192&($=f[k+1]))==128&&(Z=(31&Y)<<6|63&$)<=127&&(Z=null):J===3?(j=f[k+2],(192&($=f[k+1]))==128&&(192&j)==128&&((Z=(15&Y)<<12|(63&$)<<6|63&j)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):J===4&&(j=f[k+2],V=f[k+3],(192&($=f[k+1]))==128&&(192&j)==128&&(192&V)==128&&((Z=(15&Y)<<18|(63&$)<<12|(63&j)<<6|63&V)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,J=1):Z>65535&&(Z-=65536,E+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),E+=String.fromCharCode(Z),k+=J}return E}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==Qr.Bytes)return u.push(this.readVarint(l));var f=Sc(this);for(u=u||[];this.pos<f;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==Qr.Bytes)return u.push(this.readSVarint());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==Qr.Bytes)return u.push(this.readBoolean());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==Qr.Bytes)return u.push(this.readFloat());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==Qr.Bytes)return u.push(this.readDouble());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==Qr.Bytes)return u.push(this.readFixed32());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==Qr.Bytes)return u.push(this.readSFixed32());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==Qr.Bytes)return u.push(this.readFixed64());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==Qr.Bytes)return u.push(this.readSFixed64());var l=Sc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===Qr.Varint)for(;this.buf[this.pos++]>127;);else if(l===Qr.Bytes)this.pos=this.readVarint()+this.pos;else if(l===Qr.Fixed32)this.pos+=4;else{if(l!==Qr.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var f=new Uint8Array(l);f.set(this.buf),this.buf=f,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),rp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),rp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),rp(this.buf,-1&u,this.pos),rp(this.buf,Math.floor(u*gL),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),rp(this.buf,-1&u,this.pos),rp(this.buf,Math.floor(u*gL),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,f){var m,_;if(l>=0?(m=l%4294967296|0,_=l/4294967296|0):(_=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,_=_+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),function(E,k,$){$.buf[$.pos++]=127&E|128,E>>>=7,$.buf[$.pos++]=127&E|128,E>>>=7,$.buf[$.pos++]=127&E|128,E>>>=7,$.buf[$.pos++]=127&E|128,$.buf[$.pos]=127&(E>>>=7)}(m,0,f),function(E,k){var $=(7&E)<<4;k.buf[k.pos++]|=$|((E>>>=3)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E|((E>>>=7)?128:0),E&&(k.buf[k.pos++]=127&E)))))}(_,f)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,_,E){for(var k,$,j=0;j<_.length;j++){if((k=_.charCodeAt(j))>55295&&k<57344){if(!$){k>56319||j+1===_.length?(m[E++]=239,m[E++]=191,m[E++]=189):$=k;continue}if(k<56320){m[E++]=239,m[E++]=191,m[E++]=189,$=k;continue}k=$-55296<<10|k-56320|65536,$=null}else $&&(m[E++]=239,m[E++]=191,m[E++]=189,$=null);k<128?m[E++]=k:(k<2048?m[E++]=k>>6|192:(k<65536?m[E++]=k>>12|224:(m[E++]=k>>18|240,m[E++]=k>>12&63|128),m[E++]=k>>6&63|128),m[E++]=63&k|128)}return E}(this.buf,u,this.pos);var f=this.pos-l;f>=128&&vL(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeFloat:function(u){this.realloc(4),mL(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),mL(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var f=0;f<l;f++)this.buf[this.pos++]=u[f]},writeRawMessage:function(u,l){this.pos++;var f=this.pos;u(l,this);var m=this.pos-f;m>=128&&vL(f,m,this),this.pos=f-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,f){this.writeTag(u,Qr.Bytes),this.writeRawMessage(l,f)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,sK,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,lK,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,fK,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,cK,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,uK,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,dK,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,hK,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,pK,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,mK,l)},writeBytesField:function(u,l){this.writeTag(u,Qr.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,Qr.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,Qr.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,Qr.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,Qr.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,Qr.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,Qr.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,Qr.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,Qr.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,Qr.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var xC=d(hL);const bC=3;function gK(u,l,f){u===1&&f.readMessage(yK,l)}function yK(u,l,f){if(u===3){const{id:m,bitmap:_,width:E,height:k,left:$,top:j,advance:V}=f.readMessage(vK,{});l.push({id:m,bitmap:new dy({width:E+2*bC,height:k+2*bC},_),metrics:{width:E,height:k,left:$,top:j,advance:V}})}}function vK(u,l,f){u===1?l.id=f.readVarint():u===2?l.bitmap=f.readBytes():u===3?l.width=f.readVarint():u===4?l.height=f.readVarint():u===5?l.left=f.readSVarint():u===6?l.top=f.readSVarint():u===7&&(l.advance=f.readVarint())}const xL=bC;function bL(u){let l=0,f=0;for(const k of u)l+=k.w*k.h,f=Math.max(f,k.w);u.sort((k,$)=>$.h-k.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),f),h:1/0}];let _=0,E=0;for(const k of u)for(let $=m.length-1;$>=0;$--){const j=m[$];if(!(k.w>j.w||k.h>j.h)){if(k.x=j.x,k.y=j.y,E=Math.max(E,k.y+k.h),_=Math.max(_,k.x+k.w),k.w===j.w&&k.h===j.h){const V=m.pop();$<m.length&&(m[$]=V)}else k.h===j.h?(j.x+=k.w,j.w-=k.w):k.w===j.w?(j.y+=k.h,j.h-=k.h):(m.push({x:j.x+k.w,y:j.y,w:j.w-k.w,h:k.h}),j.y+=k.h,j.h-=k.h);break}}return{w:_,h:E,fill:l/(_*E)||0}}const Wo=1;class wC{constructor(l,{pixelRatio:f,version:m,stretchX:_,stretchY:E,content:k}){this.paddedRect=l,this.pixelRatio=f,this.stretchX=_,this.stretchY=E,this.content=k,this.version=m}get tl(){return[this.paddedRect.x+Wo,this.paddedRect.y+Wo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Wo,this.paddedRect.y+this.paddedRect.h-Wo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Wo)/this.pixelRatio,(this.paddedRect.h-2*Wo)/this.pixelRatio]}}class wL{constructor(l,f){const m={},_={};this.haveRenderCallbacks=[];const E=[];this.addImages(l,m,E),this.addImages(f,_,E);const{w:k,h:$}=bL(E),j=new Ma({width:k||1,height:$||1});for(const V in l){const Y=l[V],Z=m[V].paddedRect;Ma.copy(Y.data,j,{x:0,y:0},{x:Z.x+Wo,y:Z.y+Wo},Y.data)}for(const V in f){const Y=f[V],Z=_[V].paddedRect,J=Z.x+Wo,ne=Z.y+Wo,ie=Y.data.width,fe=Y.data.height;Ma.copy(Y.data,j,{x:0,y:0},{x:J,y:ne},Y.data),Ma.copy(Y.data,j,{x:0,y:fe-1},{x:J,y:ne-1},{width:ie,height:1}),Ma.copy(Y.data,j,{x:0,y:0},{x:J,y:ne+fe},{width:ie,height:1}),Ma.copy(Y.data,j,{x:ie-1,y:0},{x:J-1,y:ne},{width:1,height:fe}),Ma.copy(Y.data,j,{x:0,y:0},{x:J+ie,y:ne},{width:1,height:fe})}this.image=j,this.iconPositions=m,this.patternPositions=_}addImages(l,f,m){for(const _ in l){const E=l[_],k={x:0,y:0,w:E.data.width+2*Wo,h:E.data.height+2*Wo};m.push(k),f[_]=new wC(k,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(l,f){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),f),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),f)}patchUpdatedImage(l,f,m){if(!l||!f||l.version===f.version)return;l.version=f.version;const[_,E]=l.tl;m.update(f.data,void 0,{x:_,y:E})}}var Au;Pt("ImagePosition",wC),Pt("ImageAtlas",wL),a.WritingMode=void 0,(Au=a.WritingMode||(a.WritingMode={}))[Au.none=0]="none",Au[Au.horizontal=1]="horizontal",Au[Au.vertical=2]="vertical",Au[Au.horizontalOnly=3]="horizontalOnly";const xy=-17;class by{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,f){const m=new by;return m.scale=l||1,m.fontStack=f,m}static forImage(l){const f=new by;return f.imageName=l,f}}class np{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,f){const m=new np;for(let _=0;_<l.sections.length;_++){const E=l.sections[_];E.image?m.addImageSection(E):m.addTextSection(E,f)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let f="";for(let m=0;m<l.length;m++){const _=l.charCodeAt(m+1)||null,E=l.charCodeAt(m-1)||null;f+=_&&Yg(_)&&!_y[l[m+1]]||E&&Yg(E)&&!_y[l[m-1]]||!_y[l[m]]?l[m]:_y[l[m]]}return f}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&zx[this.text.charCodeAt(m)];m++)l++;let f=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&zx[this.text.charCodeAt(m)];m--)f--;this.text=this.text.substring(l,f),this.sectionIndex=this.sectionIndex.slice(l,f)}substring(l,f){const m=new np;return m.text=this.text.substring(l,f),m.sectionIndex=this.sectionIndex.slice(l,f),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,f)=>Math.max(l,this.sections[f].scale),0)}addTextSection(l,f){this.text+=l.text,this.sections.push(by.forText(l.scale,l.fontStack||f));const m=this.sections.length-1;for(let _=0;_<l.text.length;++_)this.sectionIndex.push(m)}addImageSection(l){const f=l.image?l.image.name:"";if(f.length===0)return void re("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(by.forImage(f)),this.sectionIndex.push(this.sections.length-1)):re("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Lx(u,l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe){const ye=np.fromFeature(u,_);let xe;Z===a.WritingMode.vertical&&ye.verticalizePunctuation();const{processBidirectionalText:Le,processStyledBidirectionalText:ke}=la;if(Le&&ye.sections.length===1){xe=[];const rt=Le(ye.toString(),SC(ye,V,E,l,m,ne,ie));for(const kt of rt){const Ft=new np;Ft.text=kt,Ft.sections=ye.sections;for(let Ct=0;Ct<kt.length;Ct++)Ft.sectionIndex.push(0);xe.push(Ft)}}else if(ke){xe=[];const rt=ke(ye.text,ye.sectionIndex,SC(ye,V,E,l,m,ne,ie));for(const kt of rt){const Ft=new np;Ft.text=kt[0],Ft.sectionIndex=kt[1],Ft.sections=ye.sections,xe.push(Ft)}}else xe=function(rt,kt){const Ft=[],Ct=rt.text;let bt=0;for(const gt of kt)Ft.push(rt.substring(bt,gt)),bt=gt;return bt<Ct.length&&Ft.push(rt.substring(bt,Ct.length)),Ft}(ye,SC(ye,V,E,l,m,ne,ie));const Fe=[],qe={positionedLines:Fe,text:ye.toString(),top:Y[1],bottom:Y[1],left:Y[0],right:Y[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(rt,kt,Ft,Ct,bt,gt,Rt,_t,ht,Kt,Ut,yr){let mn=0,wn=xy,vi=0,ca=0;const xo=_t==="right"?1:_t==="left"?0:.5;let ci=0;for(const ui of bt){ui.trim();const _i=ui.getMaxScale(),ro=(_i-1)*yi,wo={positionedGlyphs:[],lineOffset:0};rt.positionedLines[ci]=wo;const Ho=wo.positionedGlyphs;let Go=0;if(!ui.length()){wn+=gt,++ci;continue}for(let qi=0;qi<ui.length();qi++){const Cr=ui.getSection(qi),ua=ui.getSectionIndex(qi),Hi=ui.getCharCode(qi);let So=0,is=null,Ws=null,qs=null,Ec=yi;const os=!(ht===a.WritingMode.horizontal||!Ut&&!bu(Hi)||Ut&&(zx[Hi]||(ki=Hi,Tt.Arabic(ki)||Tt["Arabic Supplement"](ki)||Tt["Arabic Extended-A"](ki)||Tt["Arabic Presentation Forms-A"](ki)||Tt["Arabic Presentation Forms-B"](ki))));if(Cr.imageName){const Ia=Ct[Cr.imageName];if(!Ia)continue;qs=Cr.imageName,rt.iconsInText=rt.iconsInText||!0,Ws=Ia.paddedRect;const Yo=Ia.displaySize;Cr.scale=Cr.scale*yi/yr,is={width:Yo[0],height:Yo[1],left:Wo,top:-xL,advance:os?Yo[1]:Yo[0]},So=ro+(yi-Yo[1]*Cr.scale),Ec=is.advance;const Cc=os?Yo[0]*Cr.scale-yi*_i:Yo[1]*Cr.scale-yi*_i;Cc>0&&Cc>Go&&(Go=Cc)}else{const Ia=Ft[Cr.fontStack],Yo=Ia&&Ia[Hi];if(Yo&&Yo.rect)Ws=Yo.rect,is=Yo.metrics;else{const Cc=kt[Cr.fontStack],Ty=Cc&&Cc[Hi];if(!Ty)continue;is=Ty.metrics}So=(_i-Cr.scale)*yi}os?(rt.verticalizable=!0,Ho.push({glyph:Hi,imageName:qs,x:mn,y:wn+So,vertical:os,scale:Cr.scale,fontStack:Cr.fontStack,sectionIndex:ua,metrics:is,rect:Ws}),mn+=Ec*Cr.scale+Kt):(Ho.push({glyph:Hi,imageName:qs,x:mn,y:wn+So,vertical:os,scale:Cr.scale,fontStack:Cr.fontStack,sectionIndex:ua,metrics:is,rect:Ws}),mn+=is.advance*Cr.scale+Kt)}Ho.length!==0&&(vi=Math.max(mn-Kt,vi),bK(Ho,0,Ho.length-1,xo,Go)),mn=0;const Fn=gt*_i+Go;wo.lineOffset=Math.max(Go,ro),wn+=Fn,ca=Math.max(Fn,ca),++ci}var ki;const Wi=wn-xy,{horizontalAlign:qo,verticalAlign:bo}=EC(Rt);(function(ui,_i,ro,wo,Ho,Go,Fn,qi,Cr){const ua=(_i-ro)*Ho;let Hi=0;Hi=Go!==Fn?-qi*wo-xy:(-wo*Cr+.5)*Fn;for(const So of ui)for(const is of So.positionedGlyphs)is.x+=ua,is.y+=Hi})(rt.positionedLines,xo,qo,bo,vi,ca,gt,Wi,bt.length),rt.top+=-bo*Wi,rt.bottom=rt.top+Wi,rt.left+=-qo*vi,rt.right=rt.left+vi}(qe,l,f,m,xe,k,$,j,Z,V,J,fe),!function(rt){for(const kt of rt)if(kt.positionedGlyphs.length!==0)return!1;return!0}(Fe)&&qe}const zx={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_K={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function SL(u,l,f,m,_,E){if(l.imageName){const k=m[l.imageName];return k?k.displaySize[0]*l.scale*yi/E+_:0}{const k=f[l.fontStack],$=k&&k[u];return $?$.metrics.advance*l.scale+_:0}}function EL(u,l,f,m){const _=Math.pow(u-l,2);return m?u<l?_/2:2*_:_+Math.abs(f)*f}function xK(u,l,f){let m=0;return u===10&&(m-=1e4),f&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function CL(u,l,f,m,_,E){let k=null,$=EL(l,f,_,E);for(const j of m){const V=EL(l-j.x,f,_,E)+j.badness;V<=$&&(k=j,$=V)}return{index:u,x:l,priorBreak:k,badness:$}}function TL(u){return u?TL(u.priorBreak).concat(u.index):[]}function SC(u,l,f,m,_,E,k){if(E!=="point")return[];if(!u)return[];const $=[],j=function(J,ne,ie,fe,ye,xe){let Le=0;for(let ke=0;ke<J.length();ke++){const Fe=J.getSection(ke);Le+=SL(J.getCharCode(ke),Fe,fe,ye,ne,xe)}return Le/Math.max(1,Math.ceil(Le/ie))}(u,l,f,m,_,k),V=u.text.indexOf("")>=0;let Y=0;for(let J=0;J<u.length();J++){const ne=u.getSection(J),ie=u.getCharCode(J);if(zx[ie]||(Y+=SL(ie,ne,m,_,l,k)),J<u.length()-1){const fe=!((Z=ie)<11904||!(Tt["Bopomofo Extended"](Z)||Tt.Bopomofo(Z)||Tt["CJK Compatibility Forms"](Z)||Tt["CJK Compatibility Ideographs"](Z)||Tt["CJK Compatibility"](Z)||Tt["CJK Radicals Supplement"](Z)||Tt["CJK Strokes"](Z)||Tt["CJK Symbols and Punctuation"](Z)||Tt["CJK Unified Ideographs Extension A"](Z)||Tt["CJK Unified Ideographs"](Z)||Tt["Enclosed CJK Letters and Months"](Z)||Tt["Halfwidth and Fullwidth Forms"](Z)||Tt.Hiragana(Z)||Tt["Ideographic Description Characters"](Z)||Tt["Kangxi Radicals"](Z)||Tt["Katakana Phonetic Extensions"](Z)||Tt.Katakana(Z)||Tt["Vertical Forms"](Z)||Tt["Yi Radicals"](Z)||Tt["Yi Syllables"](Z)));(_K[ie]||fe||ne.imageName)&&$.push(CL(J+1,Y,j,$,xK(ie,u.getCharCode(J+1),fe&&V),!1))}}var Z;return TL(CL(u.length(),Y,j,$,0,!0))}function EC(u){let l=.5,f=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0}return{horizontalAlign:l,verticalAlign:f}}function bK(u,l,f,m,_){if(!m&&!_)return;const E=u[f],k=(u[f].x+E.metrics.advance*E.scale)*m;for(let $=l;$<=f;$++)u[$].x-=k,u[$].y+=_}function wK(u,l,f){const{horizontalAlign:m,verticalAlign:_}=EC(f),E=l[0]-u.displaySize[0]*m,k=l[1]-u.displaySize[1]*_;return{image:u,top:k,bottom:k+u.displaySize[1],left:E,right:E+u.displaySize[0]}}function kL(u,l,f,m,_,E){const k=u.image;let $;if(k.content){const ye=k.content,xe=k.pixelRatio||1;$=[ye[0]/xe,ye[1]/xe,k.displaySize[0]-ye[2]/xe,k.displaySize[1]-ye[3]/xe]}const j=l.left*E,V=l.right*E;let Y,Z,J,ne;f==="width"||f==="both"?(ne=_[0]+j-m[3],Z=_[0]+V+m[1]):(ne=_[0]+(j+V-k.displaySize[0])/2,Z=ne+k.displaySize[0]);const ie=l.top*E,fe=l.bottom*E;return f==="height"||f==="both"?(Y=_[1]+ie-m[0],J=_[1]+fe+m[2]):(Y=_[1]+(ie+fe-k.displaySize[1])/2,J=Y+k.displaySize[1]),{image:k,top:Y,right:Z,bottom:J,left:ne,collisionPadding:$}}const wy=255,Al=128,Mu=wy*Al;function PL(u,l){const{expression:f}=l;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new bn(u+1))};if(f.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:_}=f;let E=0;for(;E<m.length&&m[E]<=u;)E++;E=Math.max(0,E-1);let k=E;for(;k<m.length&&m[k]<u+1;)k++;k=Math.min(m.length-1,k);const $=m[E],j=m[k];return f.kind==="composite"?{kind:"composite",minZoom:$,maxZoom:j,interpolationType:_}:{kind:"camera",minZoom:$,maxZoom:j,minSize:f.evaluate(new bn($)),maxSize:f.evaluate(new bn(j)),interpolationType:_}}}function CC(u,l,f){let m="never";const _=u.get(l);return _?m=_:u.get(f)&&(m="always"),m}const SK=Pu.VectorTileFeature.types,EK=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Nx(u,l,f,m,_,E,k,$,j,V,Y,Z,J){const ne=$?Math.min(Mu,Math.round($[0])):0,ie=$?Math.min(Mu,Math.round($[1])):0;u.emplaceBack(l,f,Math.round(32*m),Math.round(32*_),E,k,(ne<<1)+(j?1:0),ie,16*V,16*Y,256*Z,256*J)}function TC(u,l,f){u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f),u.emplaceBack(l.x,l.y,f)}function CK(u){for(const l of u.sections)if(eC(l.text))return!0;return!1}class kC{constructor(l){this.layoutVertexArray=new pt,this.indexArray=new Dt,this.programConfigurations=l,this.segments=new tr,this.dynamicLayoutVertexArray=new Bt,this.opacityVertexArray=new xr,this.hasVisibleVertices=!1,this.placedSymbolArray=new G}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,f,m,_){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,rK.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,nK.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,EK,!0),this.opacityVertexBuffer.itemSize=1),(m||_)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Pt("SymbolBuffers",kC);class PC{constructor(l,f,m){this.layoutVertexArray=new l,this.layoutAttributes=f,this.indexArray=new m,this.segments=new tr,this.collisionVertexArray=new er}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,iK.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Pt("CollisionBuffers",PC);class ip{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(k=>k.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=oC([]),this.placementViewportMatrix=oC([]);const f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=PL(this.zoom,f["text-size"]),this.iconSizeData=PL(this.zoom,f["icon-size"]);const m=this.layers[0].layout,_=m.get("symbol-sort-key"),E=m.get("symbol-z-order");this.canOverlap=CC(m,"text-overlap","text-allow-overlap")!=="never"||CC(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(k=>a.WritingMode[k])),this.stateDependentLayerIds=this.layers.filter(k=>k.isStateDependent()).map(k=>k.id),this.sourceID=l.sourceID}createArrays(){this.text=new kC(new wc(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new kC(new wc(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new ue,this.lineVertexArray=new ce,this.symbolInstances=new ee,this.textAnchorOffsets=new le}calculateGlyphDependencies(l,f,m,_,E){for(let k=0;k<l.length;k++)if(f[l.charCodeAt(k)]=!0,(m||_)&&E){const $=_y[l.charAt(k)];$&&(f[$.charCodeAt(0)]=!0)}}populate(l,f,m){const _=this.layers[0],E=_.layout,k=E.get("text-font"),$=E.get("text-field"),j=E.get("icon-image"),V=($.value.kind!=="constant"||$.value.value instanceof Kn&&!$.value.value.isEmpty()||$.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),Y=j.value.kind!=="constant"||!!j.value.value||Object.keys(j.parameters).length>0,Z=E.get("symbol-sort-key");if(this.features=[],!V&&!Y)return;const J=f.iconDependencies,ne=f.glyphDependencies,ie=f.availableImages,fe=new bn(this.zoom);for(const{feature:ye,id:xe,index:Le,sourceLayerIndex:ke}of l){const Fe=_._featureFilter.needGeometry,qe=Vs(ye,Fe);if(!_._featureFilter.filter(fe,qe,m))continue;let rt,kt;if(Fe||(qe.geometry=Pl(ye)),V){const Ct=_.getValueAndResolveTokens("text-field",qe,m,ie),bt=Kn.factory(Ct);CK(bt)&&(this.hasRTLText=!0),(!this.hasRTLText||ey()==="unavailable"||this.hasRTLText&&la.isParsed())&&(rt=aK(bt,_,qe))}if(Y){const Ct=_.getValueAndResolveTokens("icon-image",qe,m,ie);kt=Ct instanceof oa?Ct:oa.fromString(Ct)}if(!rt&&!kt)continue;const Ft=this.sortFeaturesByKey?Z.evaluate(qe,{},m):void 0;if(this.features.push({id:xe,text:rt,icon:kt,index:Le,sourceLayerIndex:ke,geometry:qe.geometry,properties:ye.properties,type:SK[ye.type],sortKey:Ft}),kt&&(J[kt.name]=!0),rt){const Ct=k.evaluate(qe,{},m).join(","),bt=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const gt of rt.sections)if(gt.image)J[gt.image.name]=!0;else{const Rt=Fh(rt.toString()),_t=gt.fontStack||Ct,ht=ne[_t]=ne[_t]||{};this.calculateGlyphDependencies(gt.text,ht,bt,this.allowVerticalPlacement,Rt)}}}E.get("symbol-placement")==="line"&&(this.features=function(ye){const xe={},Le={},ke=[];let Fe=0;function qe(Ct){ke.push(ye[Ct]),Fe++}function rt(Ct,bt,gt){const Rt=Le[Ct];return delete Le[Ct],Le[bt]=Rt,ke[Rt].geometry[0].pop(),ke[Rt].geometry[0]=ke[Rt].geometry[0].concat(gt[0]),Rt}function kt(Ct,bt,gt){const Rt=xe[bt];return delete xe[bt],xe[Ct]=Rt,ke[Rt].geometry[0].shift(),ke[Rt].geometry[0]=gt[0].concat(ke[Rt].geometry[0]),Rt}function Ft(Ct,bt,gt){const Rt=gt?bt[0][bt[0].length-1]:bt[0][0];return`${Ct}:${Rt.x}:${Rt.y}`}for(let Ct=0;Ct<ye.length;Ct++){const bt=ye[Ct],gt=bt.geometry,Rt=bt.text?bt.text.toString():null;if(!Rt){qe(Ct);continue}const _t=Ft(Rt,gt),ht=Ft(Rt,gt,!0);if(_t in Le&&ht in xe&&Le[_t]!==xe[ht]){const Kt=kt(_t,ht,gt),Ut=rt(_t,ht,ke[Kt].geometry);delete xe[_t],delete Le[ht],Le[Ft(Rt,ke[Ut].geometry,!0)]=Ut,ke[Kt].geometry=null}else _t in Le?rt(_t,ht,gt):ht in xe?kt(_t,ht,gt):(qe(Ct),xe[_t]=Fe-1,Le[ht]=Fe-1)}return ke.filter(Ct=>Ct.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ye,xe)=>ye.sortKey-xe.sortKey)}update(l,f,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,f,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,f,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,f){const m=this.lineVertexArray.length;if(l.segment!==void 0){let _=l.dist(f[l.segment+1]),E=l.dist(f[l.segment]);const k={};for(let $=l.segment+1;$<f.length;$++)k[$]={x:f[$].x,y:f[$].y,tileUnitDistanceFromAnchor:_},$<f.length-1&&(_+=f[$+1].dist(f[$]));for(let $=l.segment||0;$>=0;$--)k[$]={x:f[$].x,y:f[$].y,tileUnitDistanceFromAnchor:E},$>0&&(E+=f[$-1].dist(f[$]));for(let $=0;$<f.length;$++){const j=k[$];this.lineVertexArray.emplaceBack(j.x,j.y,j.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,f,m,_,E,k,$,j,V,Y,Z,J){const ne=l.indexArray,ie=l.layoutVertexArray,fe=l.segments.prepareSegment(4*f.length,ie,ne,this.canOverlap?k.sortKey:void 0),ye=this.glyphOffsetArray.length,xe=fe.vertexLength,Le=this.allowVerticalPlacement&&$===a.WritingMode.vertical?Math.PI/2:0,ke=k.text&&k.text.sections;for(let Fe=0;Fe<f.length;Fe++){const{tl:qe,tr:rt,bl:kt,br:Ft,tex:Ct,pixelOffsetTL:bt,pixelOffsetBR:gt,minFontScaleX:Rt,minFontScaleY:_t,glyphOffset:ht,isSDF:Kt,sectionIndex:Ut}=f[Fe],yr=fe.vertexLength,mn=ht[1];Nx(ie,j.x,j.y,qe.x,mn+qe.y,Ct.x,Ct.y,m,Kt,bt.x,bt.y,Rt,_t),Nx(ie,j.x,j.y,rt.x,mn+rt.y,Ct.x+Ct.w,Ct.y,m,Kt,gt.x,bt.y,Rt,_t),Nx(ie,j.x,j.y,kt.x,mn+kt.y,Ct.x,Ct.y+Ct.h,m,Kt,bt.x,gt.y,Rt,_t),Nx(ie,j.x,j.y,Ft.x,mn+Ft.y,Ct.x+Ct.w,Ct.y+Ct.h,m,Kt,gt.x,gt.y,Rt,_t),TC(l.dynamicLayoutVertexArray,j,Le),ne.emplaceBack(yr,yr+1,yr+2),ne.emplaceBack(yr+1,yr+2,yr+3),fe.vertexLength+=4,fe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ht[0]),Fe!==f.length-1&&Ut===f[Fe+1].sectionIndex||l.programConfigurations.populatePaintArrays(ie.length,k,k.index,{},J,ke&&ke[Ut])}l.placedSymbolArray.emplaceBack(j.x,j.y,ye,this.glyphOffsetArray.length-ye,xe,V,Y,j.segment,m?m[0]:0,m?m[1]:0,_[0],_[1],$,0,!1,0,Z)}_addCollisionDebugVertex(l,f,m,_,E,k){return f.emplaceBack(0,0),l.emplaceBack(m.x,m.y,_,E,Math.round(k.x),Math.round(k.y))}addCollisionDebugVertices(l,f,m,_,E,k,$){const j=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),V=j.vertexLength,Y=E.layoutVertexArray,Z=E.collisionVertexArray,J=$.anchorX,ne=$.anchorY;this._addCollisionDebugVertex(Y,Z,k,J,ne,new v(l,f)),this._addCollisionDebugVertex(Y,Z,k,J,ne,new v(m,f)),this._addCollisionDebugVertex(Y,Z,k,J,ne,new v(m,_)),this._addCollisionDebugVertex(Y,Z,k,J,ne,new v(l,_)),j.vertexLength+=4;const ie=E.indexArray;ie.emplaceBack(V,V+1),ie.emplaceBack(V+1,V+2),ie.emplaceBack(V+2,V+3),ie.emplaceBack(V+3,V),j.primitiveLength+=4}addDebugCollisionBoxes(l,f,m,_){for(let E=l;E<f;E++){const k=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(k.x1,k.y1,k.x2,k.y2,_?this.textCollisionBox:this.iconCollisionBox,k.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new PC(xt,dL.members,sn),this.iconCollisionBox=new PC(xt,dL.members,sn);for(let l=0;l<this.symbolInstances.length;l++){const f=this.symbolInstances.get(l);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(l,f,m,_,E,k,$,j,V){const Y={};for(let Z=f;Z<m;Z++){const J=l.get(Z);Y.textBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},Y.textFeatureIndex=J.featureIndex;break}for(let Z=_;Z<E;Z++){const J=l.get(Z);Y.verticalTextBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},Y.verticalTextFeatureIndex=J.featureIndex;break}for(let Z=k;Z<$;Z++){const J=l.get(Z);Y.iconBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},Y.iconFeatureIndex=J.featureIndex;break}for(let Z=j;Z<V;Z++){const J=l.get(Z);Y.verticalIconBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},Y.verticalIconFeatureIndex=J.featureIndex;break}return Y}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){const m=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,f){const m=l.placedSymbolArray.get(f),_=m.vertexStartIndex+4*m.numGlyphs;for(let E=m.vertexStartIndex;E<_;E+=4)l.indexArray.emplaceBack(E,E+1,E+2),l.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const f=Math.sin(l),m=Math.cos(l),_=[],E=[],k=[];for(let $=0;$<this.symbolInstances.length;++$){k.push($);const j=this.symbolInstances.get($);_.push(0|Math.round(f*j.anchorX+m*j.anchorY)),E.push(j.featureIndex)}return k.sort(($,j)=>_[$]-_[j]||E[j]-E[$]),k}addToSortKeyRanges(l,f){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===f?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const f of this.symbolInstanceIndexes){const m=this.symbolInstances.get(f);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((_,E,k)=>{_>=0&&k.indexOf(_)===E&&this.addIndicesForPlacedSymbol(this.text,_)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let AL,ML;Pt("SymbolBucket",ip,{omit:["layers","collisionBoxArray","features","compareText"]}),ip.MAX_GLYPHS=65535,ip.addDynamicAttributes=TC;var AC={get paint(){return ML=ML||new gi({"icon-opacity":new Qt(Pe.paint_symbol["icon-opacity"]),"icon-color":new Qt(Pe.paint_symbol["icon-color"]),"icon-halo-color":new Qt(Pe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qt(Pe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qt(Pe.paint_symbol["icon-halo-blur"]),"icon-translate":new qt(Pe.paint_symbol["icon-translate"]),"icon-translate-anchor":new qt(Pe.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qt(Pe.paint_symbol["text-opacity"]),"text-color":new Qt(Pe.paint_symbol["text-color"],{runtimeType:Jr,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Qt(Pe.paint_symbol["text-halo-color"]),"text-halo-width":new Qt(Pe.paint_symbol["text-halo-width"]),"text-halo-blur":new Qt(Pe.paint_symbol["text-halo-blur"]),"text-translate":new qt(Pe.paint_symbol["text-translate"]),"text-translate-anchor":new qt(Pe.paint_symbol["text-translate-anchor"])})},get layout(){return AL=AL||new gi({"symbol-placement":new qt(Pe.layout_symbol["symbol-placement"]),"symbol-spacing":new qt(Pe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qt(Pe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qt(Pe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qt(Pe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qt(Pe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new qt(Pe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new qt(Pe.layout_symbol["icon-ignore-placement"]),"icon-optional":new qt(Pe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qt(Pe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qt(Pe.layout_symbol["icon-size"]),"icon-text-fit":new qt(Pe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qt(Pe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qt(Pe.layout_symbol["icon-image"]),"icon-rotate":new Qt(Pe.layout_symbol["icon-rotate"]),"icon-padding":new Qt(Pe.layout_symbol["icon-padding"]),"icon-keep-upright":new qt(Pe.layout_symbol["icon-keep-upright"]),"icon-offset":new Qt(Pe.layout_symbol["icon-offset"]),"icon-anchor":new Qt(Pe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qt(Pe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qt(Pe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qt(Pe.layout_symbol["text-rotation-alignment"]),"text-field":new Qt(Pe.layout_symbol["text-field"]),"text-font":new Qt(Pe.layout_symbol["text-font"]),"text-size":new Qt(Pe.layout_symbol["text-size"]),"text-max-width":new Qt(Pe.layout_symbol["text-max-width"]),"text-line-height":new qt(Pe.layout_symbol["text-line-height"]),"text-letter-spacing":new Qt(Pe.layout_symbol["text-letter-spacing"]),"text-justify":new Qt(Pe.layout_symbol["text-justify"]),"text-radial-offset":new Qt(Pe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qt(Pe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Qt(Pe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Qt(Pe.layout_symbol["text-anchor"]),"text-max-angle":new qt(Pe.layout_symbol["text-max-angle"]),"text-writing-mode":new qt(Pe.layout_symbol["text-writing-mode"]),"text-rotate":new Qt(Pe.layout_symbol["text-rotate"]),"text-padding":new qt(Pe.layout_symbol["text-padding"]),"text-keep-upright":new qt(Pe.layout_symbol["text-keep-upright"]),"text-transform":new Qt(Pe.layout_symbol["text-transform"]),"text-offset":new Qt(Pe.layout_symbol["text-offset"]),"text-allow-overlap":new qt(Pe.layout_symbol["text-allow-overlap"]),"text-overlap":new qt(Pe.layout_symbol["text-overlap"]),"text-ignore-placement":new qt(Pe.layout_symbol["text-ignore-placement"]),"text-optional":new qt(Pe.layout_symbol["text-optional"])})}};class OL{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Jt,this.defaultValue=l}evaluate(l){if(l.formattedSection){const f=this.defaultValue.property.overrides;if(f&&f.hasOverride(l.formattedSection))return f.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Pt("FormatSectionOverride",OL,{omit:["defaultValue"]});class jx extends ns{constructor(l){super(l,AC)}recalculate(l,f){if(super.recalculate(l,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const _=[];for(const E of m)_.indexOf(E)<0&&_.push(E);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,f,m,_){const E=this.layout.get(l).evaluate(f,{},m,_),k=this._unevaluatedLayout._values[l];return k.isDataDriven()||Oh(k.value)||!E?E:function($,j){return j.replace(/{([^{}]+)}/g,(V,Y)=>Y in $?String($[Y]):"")}(f.properties,E)}createBucket(l){return new ip(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of AC.paint.overridableProperties){if(!jx.hasPaintOverride(this.layout,l))continue;const f=this.paint.get(l),m=new OL(f),_=new kn(m,f.property.specification);let E=null;E=f.value.kind==="constant"||f.value.kind==="source"?new Jf("source",_):new hn("composite",_,f.value.zoomStops),this.paint._values[l]=new ka(f.property,E,f.parameters)}}_handleOverridablePaintPropertyUpdate(l,f,m){return!(!this.layout||f.isDataDriven()||m.isDataDriven())&&jx.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,f){const m=l.get("text-field"),_=AC.paint.properties[f];let E=!1;const k=$=>{for(const j of $)if(_.overrides&&_.overrides.hasOverride(j))return void(E=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Kn)k(m.value.value.sections);else if(m.value.kind==="source"){const $=V=>{E||(V instanceof lc&&Zn(V.value)===No?k(V.value.sections):V instanceof Ah?k(V.sections):V.eachChild($))},j=m.value;j._styleExpression&&$(j._styleExpression.expression)}return E}}let IL;var TK={get paint(){return IL=IL||new gi({"background-color":new qt(Pe.paint_background["background-color"]),"background-pattern":new ry(Pe.paint_background["background-pattern"]),"background-opacity":new qt(Pe.paint_background["background-opacity"])})}};class kK extends ns{constructor(l){super(l,TK)}}let RL;var PK={get paint(){return RL=RL||new gi({"raster-opacity":new qt(Pe.paint_raster["raster-opacity"]),"raster-hue-rotate":new qt(Pe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qt(Pe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qt(Pe.paint_raster["raster-brightness-max"]),"raster-saturation":new qt(Pe.paint_raster["raster-saturation"]),"raster-contrast":new qt(Pe.paint_raster["raster-contrast"]),"raster-resampling":new qt(Pe.paint_raster["raster-resampling"]),"raster-fade-duration":new qt(Pe.paint_raster["raster-fade-duration"])})}};class AK extends ns{constructor(l){super(l,PK)}}class MK extends ns{constructor(l){super(l,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class OK{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const MC=63710088e-1;class Ou{constructor(l,f){if(isNaN(l)||isNaN(f))throw new Error(`Invalid LngLat object: (${l}, ${f})`);if(this.lng=+l,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ou(I(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const f=Math.PI/180,m=this.lat*f,_=l.lat*f,E=Math.sin(m)*Math.sin(_)+Math.cos(m)*Math.cos(_)*Math.cos((l.lng-this.lng)*f);return MC*Math.acos(Math.min(E,1))}static convert(l){if(l instanceof Ou)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Ou(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Ou(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const $L=2*Math.PI*MC;function DL(u){return $L*Math.cos(u*Math.PI/180)}function LL(u){return(180+u)/360}function zL(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function NL(u,l){return u/DL(l)}function OC(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Bx{constructor(l,f,m=0){this.x=+l,this.y=+f,this.z=+m}static fromLngLat(l,f=0){const m=Ou.convert(l);return new Bx(LL(m.lng),zL(m.lat),NL(f,m.lat))}toLngLat(){return new Ou(360*this.x-180,OC(this.y))}toAltitude(){return this.z*DL(OC(this.y))}meterInMercatorCoordinateUnits(){return 1/$L*(l=OC(this.y),1/Math.cos(l*Math.PI/180));var l}}function jL(u,l,f){var m=2*Math.PI*6378137/256/Math.pow(2,f);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class IC{constructor(l,f,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||f<0||f>=Math.pow(2,l))throw new Error(`x=${f}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=f,this.y=m,this.key=Sy(0,l,l,f,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,f,m){const _=(k=this.y,$=this.z,j=jL(256*(E=this.x),256*(k=Math.pow(2,$)-k-1),$),V=jL(256*(E+1),256*(k+1),$),j[0]+","+j[1]+","+V[0]+","+V[1]);var E,k,$,j,V;const Y=function(Z,J,ne){let ie,fe="";for(let ye=Z;ye>0;ye--)ie=1<<ye-1,fe+=(J&ie?1:0)+(ne&ie?2:0);return fe}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,Y).replace(/{bbox-epsg-3857}/g,_)}isChildOf(l){const f=this.z-l.z;return f>0&&l.x===this.x>>f&&l.y===this.y>>f}getTilePoint(l){const f=Math.pow(2,this.z);return new v((l.x*f-this.x)*Mn,(l.y*f-this.y)*Mn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class BL{constructor(l,f){this.wrap=l,this.canonical=f,this.key=Sy(l,f.z,f.z,f.x,f.y)}}class Oa{constructor(l,f,m,_,E){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=f,this.canonical=new IC(m,+_,+E),this.key=Sy(f,l,m,_,E)}clone(){return new Oa(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-l;return l>this.canonical.z?new Oa(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Oa(l,this.wrap,l,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(l,f){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Sy(this.wrap*+f,l,this.canonical.z,this.canonical.x,this.canonical.y):Sy(this.wrap*+f,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const f=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>f&&l.canonical.y===this.canonical.y>>f}children(l){if(this.overscaledZ>=l)return[new Oa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const f=this.canonical.z+1,m=2*this.canonical.x,_=2*this.canonical.y;return[new Oa(f,this.wrap,f,m,_),new Oa(f,this.wrap,f,m+1,_),new Oa(f,this.wrap,f,m,_+1),new Oa(f,this.wrap,f,m+1,_+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Oa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Oa(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new BL(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Bx(l.x-this.wrap,l.y))}}function Sy(u,l,f,m,_){(u*=2)<0&&(u=-1*u-1);const E=1<<f;return(E*E*u+E*_+m).toString(36)+f.toString(36)+l.toString(36)}Pt("CanonicalTileID",IC),Pt("OverscaledTileID",Oa,{omit:["posMatrix"]});class FL{constructor(l,f,m){if(this.uid=l,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(m&&m!=="mapbox"&&m!=="terrarium")return void re(`"${m}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=f.height;const _=this.dim=f.height-2;this.data=new Uint32Array(f.data.buffer),this.encoding=m||"mapbox";for(let E=0;E<_;E++)this.data[this._idx(-1,E)]=this.data[this._idx(0,E)],this.data[this._idx(_,E)]=this.data[this._idx(_-1,E)],this.data[this._idx(E,-1)]=this.data[this._idx(E,0)],this.data[this._idx(E,_)]=this.data[this._idx(E,_-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(_,-1)]=this.data[this._idx(_-1,0)],this.data[this._idx(-1,_)]=this.data[this._idx(0,_-1)],this.data[this._idx(_,_)]=this.data[this._idx(_-1,_-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let E=0;E<_;E++)for(let k=0;k<_;k++){const $=this.get(E,k);$>this.max&&(this.max=$),$<this.min&&(this.min=$)}}get(l,f){const m=new Uint8Array(this.data.buffer),_=4*this._idx(l,f);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(m[_],m[_+1],m[_+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,f){if(l<-1||l>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(l+1)}_unpackMapbox(l,f,m){return(256*l*256+256*f+m)/10-1e4}_unpackTerrarium(l,f,m){return 256*l+f+m/256-32768}getPixels(){return new Ma({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,f,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let _=f*this.dim,E=f*this.dim+this.dim,k=m*this.dim,$=m*this.dim+this.dim;switch(f){case-1:_=E-1;break;case 1:E=_+1}switch(m){case-1:k=$-1;break;case 1:$=k+1}const j=-f*this.dim,V=-m*this.dim;for(let Y=k;Y<$;Y++)for(let Z=_;Z<E;Z++)this.data[this._idx(Z,Y)]=l.data[this._idx(Z+j,Y+V)]}}Pt("DEMData",FL);class UL{constructor(l){this._stringToNumber={},this._numberToString=[];for(let f=0;f<l.length;f++){const m=l[f];this._stringToNumber[m]=f,this._numberToString[f]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class VL{constructor(l,f,m,_,E){this.type="Feature",this._vectorTileFeature=l,l._z=f,l._x=m,l._y=_,this.properties=l.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(l[f]=this[f]);return l}}class WL{constructor(l,f){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new gc(Mn,16,0),this.grid3D=new gc(Mn,16,0),this.featureIndexArray=new Ve,this.promoteId=f}insert(l,f,m,_,E,k){const $=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,_,E);const j=k?this.grid3D:this.grid;for(let V=0;V<f.length;V++){const Y=f[V],Z=[1/0,1/0,-1/0,-1/0];for(let J=0;J<Y.length;J++){const ne=Y[J];Z[0]=Math.min(Z[0],ne.x),Z[1]=Math.min(Z[1],ne.y),Z[2]=Math.max(Z[2],ne.x),Z[3]=Math.max(Z[3],ne.y)}Z[0]<Mn&&Z[1]<Mn&&Z[2]>=0&&Z[3]>=0&&j.insert($,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Pu.VectorTile(new xC(this.rawTileData)).layers,this.sourceLayerCoder=new UL(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,f,m,_){this.loadVTLayers();const E=l.params||{},k=Mn/l.tileSize/l.scale,$=Bg(E.filter),j=l.queryGeometry,V=l.queryPadding*k,Y=HL(j),Z=this.grid.query(Y.minX-V,Y.minY-V,Y.maxX+V,Y.maxY+V),J=HL(l.cameraQueryGeometry),ne=this.grid3D.query(J.minX-V,J.minY-V,J.maxX+V,J.maxY+V,(ye,xe,Le,ke)=>function(Fe,qe,rt,kt,Ft){for(const bt of Fe)if(qe<=bt.x&&rt<=bt.y&&kt>=bt.x&&Ft>=bt.y)return!0;const Ct=[new v(qe,rt),new v(qe,Ft),new v(kt,Ft),new v(kt,rt)];if(Fe.length>2){for(const bt of Ct)if(Xh(Fe,bt))return!0}for(let bt=0;bt<Fe.length-1;bt++)if(cY(Fe[bt],Fe[bt+1],Ct))return!0;return!1}(l.cameraQueryGeometry,ye-V,xe-V,Le+V,ke+V));for(const ye of ne)Z.push(ye);Z.sort(IK);const ie={};let fe;for(let ye=0;ye<Z.length;ye++){const xe=Z[ye];if(xe===fe)continue;fe=xe;const Le=this.featureIndexArray.get(xe);let ke=null;this.loadMatchingFeature(ie,Le.bucketIndex,Le.sourceLayerIndex,Le.featureIndex,$,E.layers,E.availableImages,f,m,_,(Fe,qe,rt)=>(ke||(ke=Pl(Fe)),qe.queryIntersectsFeature(j,Fe,rt,ke,this.z,l.transform,k,l.pixelPosMatrix)))}return ie}loadMatchingFeature(l,f,m,_,E,k,$,j,V,Y,Z){const J=this.bucketLayerIDs[f];if(k&&!function(ye,xe){for(let Le=0;Le<ye.length;Le++)if(xe.indexOf(ye[Le])>=0)return!0;return!1}(k,J))return;const ne=this.sourceLayerCoder.decode(m),ie=this.vtLayers[ne].feature(_);if(E.needGeometry){const ye=Vs(ie,!0);if(!E.filter(new bn(this.tileID.overscaledZ),ye,this.tileID.canonical))return}else if(!E.filter(new bn(this.tileID.overscaledZ),ie))return;const fe=this.getId(ie,ne);for(let ye=0;ye<J.length;ye++){const xe=J[ye];if(k&&k.indexOf(xe)<0)continue;const Le=j[xe];if(!Le)continue;let ke={};fe&&Y&&(ke=Y.getState(Le.sourceLayer||"_geojsonTileLayer",fe));const Fe=C({},V[xe]);Fe.paint=qL(Fe.paint,Le.paint,ie,ke,$),Fe.layout=qL(Fe.layout,Le.layout,ie,ke,$);const qe=!Z||Z(ie,Le,ke);if(!qe)continue;const rt=new VL(ie,this.z,this.x,this.y,fe);rt.layer=Fe;let kt=l[xe];kt===void 0&&(kt=l[xe]=[]),kt.push({featureIndex:_,feature:rt,intersectionZ:qe})}}lookupSymbolFeatures(l,f,m,_,E,k,$,j){const V={};this.loadVTLayers();const Y=Bg(E);for(const Z of l)this.loadMatchingFeature(V,m,_,Z,Y,k,$,j,f);return V}hasLayer(l){for(const f of this.bucketLayerIDs)for(const m of f)if(l===m)return!0;return!1}getId(l,f){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof m=="boolean"&&(m=Number(m))),m}}function qL(u,l,f,m,_){return z(u,(E,k)=>{const $=l instanceof Vh?l.get(k):null;return $&&$.evaluate?$.evaluate(f,m,_):$})}function HL(u){let l=1/0,f=1/0,m=-1/0,_=-1/0;for(const E of u)l=Math.min(l,E.x),f=Math.min(f,E.y),m=Math.max(m,E.x),_=Math.max(_,E.y);return{minX:l,minY:f,maxX:m,maxY:_}}function IK(u,l){return l-u}function GL(u,l,f,m,_){const E=[];for(let k=0;k<u.length;k++){const $=u[k];let j;for(let V=0;V<$.length-1;V++){let Y=$[V],Z=$[V+1];Y.x<l&&Z.x<l||(Y.x<l?Y=new v(l,Y.y+(l-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round():Z.x<l&&(Z=new v(l,Y.y+(l-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round()),Y.y<f&&Z.y<f||(Y.y<f?Y=new v(Y.x+(f-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),f)._round():Z.y<f&&(Z=new v(Y.x+(f-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),f)._round()),Y.x>=m&&Z.x>=m||(Y.x>=m?Y=new v(m,Y.y+(m-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round():Z.x>=m&&(Z=new v(m,Y.y+(m-Y.x)/(Z.x-Y.x)*(Z.y-Y.y))._round()),Y.y>=_&&Z.y>=_||(Y.y>=_?Y=new v(Y.x+(_-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),_)._round():Z.y>=_&&(Z=new v(Y.x+(_-Y.y)/(Z.y-Y.y)*(Z.x-Y.x),_)._round()),j&&Y.equals(j[j.length-1])||(j=[Y],E.push(j)),j.push(Z)))))}}return E}Pt("FeatureIndex",WL,{omit:["rawTileData","sourceLayerCoder"]});class Iu extends v{constructor(l,f,m,_){super(l,f),this.angle=m,_!==void 0&&(this.segment=_)}clone(){return new Iu(this.x,this.y,this.angle,this.segment)}}function YL(u,l,f,m,_){if(l.segment===void 0||f===0)return!0;let E=l,k=l.segment+1,$=0;for(;$>-f/2;){if(k--,k<0)return!1;$-=u[k].dist(E),E=u[k]}$+=u[k].dist(u[k+1]),k++;const j=[];let V=0;for(;$<f/2;){const Y=u[k],Z=u[k+1];if(!Z)return!1;let J=u[k-1].angleTo(Y)-Y.angleTo(Z);for(J=Math.abs((J+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:$,angleDelta:J}),V+=J;$-j[0].distance>m;)V-=j.shift().angleDelta;if(V>_)return!1;k++,$+=Y.dist(Z)}return!0}function KL(u){let l=0;for(let f=0;f<u.length-1;f++)l+=u[f].dist(u[f+1]);return l}function ZL(u,l,f){return u?.6*l*f:0}function XL(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function RK(u,l,f,m,_,E){const k=ZL(f,_,E),$=XL(f,m)*E;let j=0;const V=KL(u)/2;for(let Y=0;Y<u.length-1;Y++){const Z=u[Y],J=u[Y+1],ne=Z.dist(J);if(j+ne>V){const ie=(V-j)/ne,fe=Uo.number(Z.x,J.x,ie),ye=Uo.number(Z.y,J.y,ie),xe=new Iu(fe,ye,J.angleTo(Z),Y);return xe._round(),!k||YL(u,xe,$,k,l)?xe:void 0}j+=ne}}function $K(u,l,f,m,_,E,k,$,j){const V=ZL(m,E,k),Y=XL(m,_),Z=Y*k,J=u[0].x===0||u[0].x===j||u[0].y===0||u[0].y===j;return l-Z<l/4&&(l=Z+l/4),JL(u,J?l/2*$%l:(Y/2+2*E)*k*$%l,l,V,f,Z,J,!1,j)}function JL(u,l,f,m,_,E,k,$,j){const V=E/2,Y=KL(u);let Z=0,J=l-f,ne=[];for(let ie=0;ie<u.length-1;ie++){const fe=u[ie],ye=u[ie+1],xe=fe.dist(ye),Le=ye.angleTo(fe);for(;J+f<Z+xe;){J+=f;const ke=(J-Z)/xe,Fe=Uo.number(fe.x,ye.x,ke),qe=Uo.number(fe.y,ye.y,ke);if(Fe>=0&&Fe<j&&qe>=0&&qe<j&&J-V>=0&&J+V<=Y){const rt=new Iu(Fe,qe,Le,ie);rt._round(),m&&!YL(u,rt,E,m,_)||ne.push(rt)}}Z+=xe}return $||ne.length||k||(ne=JL(u,Z/2,f,m,_,E,k,!0,j)),ne}Pt("Anchor",Iu);const op=Wo;function QL(u,l,f,m){const _=[],E=u.image,k=E.pixelRatio,$=E.paddedRect.w-2*op,j=E.paddedRect.h-2*op,V=u.right-u.left,Y=u.bottom-u.top,Z=E.stretchX||[[0,$]],J=E.stretchY||[[0,j]],ne=(gt,Rt)=>gt+Rt[1]-Rt[0],ie=Z.reduce(ne,0),fe=J.reduce(ne,0),ye=$-ie,xe=j-fe;let Le=0,ke=ie,Fe=0,qe=fe,rt=0,kt=ye,Ft=0,Ct=xe;if(E.content&&m){const gt=E.content;Le=Fx(Z,0,gt[0]),Fe=Fx(J,0,gt[1]),ke=Fx(Z,gt[0],gt[2]),qe=Fx(J,gt[1],gt[3]),rt=gt[0]-Le,Ft=gt[1]-Fe,kt=gt[2]-gt[0]-ke,Ct=gt[3]-gt[1]-qe}const bt=(gt,Rt,_t,ht)=>{const Kt=Ux(gt.stretch-Le,ke,V,u.left),Ut=Vx(gt.fixed-rt,kt,gt.stretch,ie),yr=Ux(Rt.stretch-Fe,qe,Y,u.top),mn=Vx(Rt.fixed-Ft,Ct,Rt.stretch,fe),wn=Ux(_t.stretch-Le,ke,V,u.left),vi=Vx(_t.fixed-rt,kt,_t.stretch,ie),ca=Ux(ht.stretch-Fe,qe,Y,u.top),xo=Vx(ht.fixed-Ft,Ct,ht.stretch,fe),ci=new v(Kt,yr),ki=new v(wn,yr),Wi=new v(wn,ca),qo=new v(Kt,ca),bo=new v(Ut/k,mn/k),ui=new v(vi/k,xo/k),_i=l*Math.PI/180;if(_i){const Ho=Math.sin(_i),Go=Math.cos(_i),Fn=[Go,-Ho,Ho,Go];ci._matMult(Fn),ki._matMult(Fn),qo._matMult(Fn),Wi._matMult(Fn)}const ro=gt.stretch+gt.fixed,wo=Rt.stretch+Rt.fixed;return{tl:ci,tr:ki,bl:qo,br:Wi,tex:{x:E.paddedRect.x+op+ro,y:E.paddedRect.y+op+wo,w:_t.stretch+_t.fixed-ro,h:ht.stretch+ht.fixed-wo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:bo,pixelOffsetBR:ui,minFontScaleX:kt/k/V,minFontScaleY:Ct/k/Y,isSDF:f}};if(m&&(E.stretchX||E.stretchY)){const gt=ez(Z,ye,ie),Rt=ez(J,xe,fe);for(let _t=0;_t<gt.length-1;_t++){const ht=gt[_t],Kt=gt[_t+1];for(let Ut=0;Ut<Rt.length-1;Ut++)_.push(bt(ht,Rt[Ut],Kt,Rt[Ut+1]))}}else _.push(bt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$+1},{fixed:0,stretch:j+1}));return _}function Fx(u,l,f){let m=0;for(const _ of u)m+=Math.max(l,Math.min(f,_[1]))-Math.max(l,Math.min(f,_[0]));return m}function ez(u,l,f){const m=[{fixed:-op,stretch:0}];for(const[_,E]of u){const k=m[m.length-1];m.push({fixed:_-k.stretch,stretch:k.stretch}),m.push({fixed:_-k.stretch,stretch:k.stretch+(E-_)})}return m.push({fixed:l+op,stretch:f}),m}function Ux(u,l,f,m){return u/l*f+m}function Vx(u,l,f,m){return u-l*f/m}class Wx{constructor(l,f,m,_,E,k,$,j,V,Y){if(this.boxStartIndex=l.length,V){let Z=k.top,J=k.bottom;const ne=k.collisionPadding;ne&&(Z-=ne[1],J+=ne[3]);let ie=J-Z;ie>0&&(ie=Math.max(10,ie),this.circleDiameter=ie)}else{let Z=k.top*$-j[0],J=k.bottom*$+j[2],ne=k.left*$-j[3],ie=k.right*$+j[1];const fe=k.collisionPadding;if(fe&&(ne-=fe[0]*$,Z-=fe[1]*$,ie+=fe[2]*$,J+=fe[3]*$),Y){const ye=new v(ne,Z),xe=new v(ie,Z),Le=new v(ne,J),ke=new v(ie,J),Fe=Y*Math.PI/180;ye._rotate(Fe),xe._rotate(Fe),Le._rotate(Fe),ke._rotate(Fe),ne=Math.min(ye.x,xe.x,Le.x,ke.x),ie=Math.max(ye.x,xe.x,Le.x,ke.x),Z=Math.min(ye.y,xe.y,Le.y,ke.y),J=Math.max(ye.y,xe.y,Le.y,ke.y)}l.emplaceBack(f.x,f.y,ne,Z,ie,J,m,_,E)}this.boxEndIndex=l.length}}class DK{constructor(l=[],f=LK){if(this.data=l,this.length=this.data.length,this.compare=f,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],f=this.data.pop();return this.length--,this.length>0&&(this.data[0]=f,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:f,compare:m}=this,_=f[l];for(;l>0;){const E=l-1>>1,k=f[E];if(m(_,k)>=0)break;f[l]=k,l=E}f[l]=_}_down(l){const{data:f,compare:m}=this,_=this.length>>1,E=f[l];for(;l<_;){let k=1+(l<<1),$=f[k];const j=k+1;if(j<this.length&&m(f[j],$)<0&&(k=j,$=f[j]),m($,E)>=0)break;f[l]=$,l=k}f[l]=E}}function LK(u,l){return u<l?-1:u>l?1:0}function zK(u,l=1,f=!1){let m=1/0,_=1/0,E=-1/0,k=-1/0;const $=u[0];for(let ne=0;ne<$.length;ne++){const ie=$[ne];(!ne||ie.x<m)&&(m=ie.x),(!ne||ie.y<_)&&(_=ie.y),(!ne||ie.x>E)&&(E=ie.x),(!ne||ie.y>k)&&(k=ie.y)}const j=Math.min(E-m,k-_);let V=j/2;const Y=new DK([],NK);if(j===0)return new v(m,_);for(let ne=m;ne<E;ne+=j)for(let ie=_;ie<k;ie+=j)Y.push(new ap(ne+V,ie+V,V,u));let Z=function(ne){let ie=0,fe=0,ye=0;const xe=ne[0];for(let Le=0,ke=xe.length,Fe=ke-1;Le<ke;Fe=Le++){const qe=xe[Le],rt=xe[Fe],kt=qe.x*rt.y-rt.x*qe.y;fe+=(qe.x+rt.x)*kt,ye+=(qe.y+rt.y)*kt,ie+=3*kt}return new ap(fe/ie,ye/ie,0,ne)}(u),J=Y.length;for(;Y.length;){const ne=Y.pop();(ne.d>Z.d||!Z.d)&&(Z=ne,f&&console.log("found best %d after %d probes",Math.round(1e4*ne.d)/1e4,J)),ne.max-Z.d<=l||(V=ne.h/2,Y.push(new ap(ne.p.x-V,ne.p.y-V,V,u)),Y.push(new ap(ne.p.x+V,ne.p.y-V,V,u)),Y.push(new ap(ne.p.x-V,ne.p.y+V,V,u)),Y.push(new ap(ne.p.x+V,ne.p.y+V,V,u)),J+=4)}return f&&(console.log(`num probes: ${J}`),console.log(`best distance: ${Z.d}`)),Z.p}function NK(u,l){return l.max-u.max}function ap(u,l,f,m){this.p=new v(u,l),this.h=f,this.d=function(_,E){let k=!1,$=1/0;for(let j=0;j<E.length;j++){const V=E[j];for(let Y=0,Z=V.length,J=Z-1;Y<Z;J=Y++){const ne=V[Y],ie=V[J];ne.y>_.y!=ie.y>_.y&&_.x<(ie.x-ne.x)*(_.y-ne.y)/(ie.y-ne.y)+ne.x&&(k=!k),$=Math.min($,zD(_,ne,ie))}}return(k?1:-1)*Math.sqrt($)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Vi;a.TextAnchorEnum=void 0,(Vi=a.TextAnchorEnum||(a.TextAnchorEnum={}))[Vi.center=1]="center",Vi[Vi.left=2]="left",Vi[Vi.right=3]="right",Vi[Vi.top=4]="top",Vi[Vi.bottom=5]="bottom",Vi[Vi["top-left"]=6]="top-left",Vi[Vi["top-right"]=7]="top-right",Vi[Vi["bottom-left"]=8]="bottom-left",Vi[Vi["bottom-right"]=9]="bottom-right";const Ru=7,RC=Number.POSITIVE_INFINITY;function tz(u,l){return l[1]!==RC?function(f,m,_){let E=0,k=0;switch(m=Math.abs(m),_=Math.abs(_),f){case"top-right":case"top-left":case"top":k=_-Ru;break;case"bottom-right":case"bottom-left":case"bottom":k=-_+Ru}switch(f){case"top-right":case"bottom-right":case"right":E=-m;break;case"top-left":case"bottom-left":case"left":E=m}return[E,k]}(u,l[0],l[1]):function(f,m){let _=0,E=0;m<0&&(m=0);const k=m/Math.sqrt(2);switch(f){case"top-right":case"top-left":E=k-Ru;break;case"bottom-right":case"bottom-left":E=-k+Ru;break;case"bottom":E=-m+Ru;break;case"top":E=m-Ru}switch(f){case"top-right":case"bottom-right":_=-k;break;case"top-left":case"bottom-left":_=k;break;case"left":_=m;break;case"right":_=-m}return[_,E]}(u,l[0])}function rz(u,l,f){var m;const _=u.layout,E=(m=_.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},f);if(E){const $=E.values,j=[];for(let V=0;V<$.length;V+=2){const Y=j[V]=$[V],Z=$[V+1].map(J=>J*yi);Y.startsWith("top")?Z[1]-=Ru:Y.startsWith("bottom")&&(Z[1]+=Ru),j[V+1]=Z}return new Fi(j)}const k=_.get("text-variable-anchor");if(k){let $;$=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(l,{},f)*yi,RC]:_.get("text-offset").evaluate(l,{},f).map(V=>V*yi);const j=[];for(const V of k)j.push(V,tz(V,$));return new Fi(j)}return null}function $C(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function jK(u,l,f,m,_,E,k,$,j,V,Y){let Z=E.textMaxSize.evaluate(l,{});Z===void 0&&(Z=k);const J=u.layers[0].layout,ne=J.get("icon-offset").evaluate(l,{},Y),ie=iz(f.horizontal),fe=k/24,ye=u.tilePixelRatio*fe,xe=u.tilePixelRatio*Z/24,Le=u.tilePixelRatio*$,ke=u.tilePixelRatio*J.get("symbol-spacing"),Fe=J.get("text-padding")*u.tilePixelRatio,qe=function(ht,Kt,Ut,yr=1){const mn=ht.get("icon-padding").evaluate(Kt,{},Ut),wn=mn&&mn.values;return[wn[0]*yr,wn[1]*yr,wn[2]*yr,wn[3]*yr]}(J,l,Y,u.tilePixelRatio),rt=J.get("text-max-angle")/180*Math.PI,kt=J.get("text-rotation-alignment")!=="viewport"&&J.get("symbol-placement")!=="point",Ft=J.get("icon-rotation-alignment")==="map"&&J.get("symbol-placement")!=="point",Ct=J.get("symbol-placement"),bt=ke/2,gt=J.get("icon-text-fit");let Rt;m&&gt!=="none"&&(u.allowVerticalPlacement&&f.vertical&&(Rt=kL(m,f.vertical,gt,J.get("icon-text-fit-padding"),ne,fe)),ie&&(m=kL(m,ie,gt,J.get("icon-text-fit-padding"),ne,fe)));const _t=(ht,Kt)=>{Kt.x<0||Kt.x>=Mn||Kt.y<0||Kt.y>=Mn||function(Ut,yr,mn,wn,vi,ca,xo,ci,ki,Wi,qo,bo,ui,_i,ro,wo,Ho,Go,Fn,qi,Cr,ua,Hi,So,is){const Ws=Ut.addToLineVertexArray(yr,mn);let qs,Ec,os,Ia,Yo=0,Cc=0,Ty=0,lz=0,UC=-1,VC=-1;const Tc={};let cz=Fs("");if(Ut.allowVerticalPlacement&&wn.vertical){const no=ci.layout.get("text-rotate").evaluate(Cr,{},So)+90;os=new Wx(ki,yr,Wi,qo,bo,wn.vertical,ui,_i,ro,no),xo&&(Ia=new Wx(ki,yr,Wi,qo,bo,xo,Ho,Go,ro,no))}if(vi){const no=ci.layout.get("icon-rotate").evaluate(Cr,{}),Ra=ci.layout.get("icon-text-fit")!=="none",ud=QL(vi,no,Hi,Ra),Gs=xo?QL(xo,no,Hi,Ra):void 0;Ec=new Wx(ki,yr,Wi,qo,bo,vi,Ho,Go,!1,no),Yo=4*ud.length;const fd=Ut.iconSizeData;let Ml=null;fd.kind==="source"?(Ml=[Al*ci.layout.get("icon-size").evaluate(Cr,{})],Ml[0]>Mu&&re(`${Ut.layerIds[0]}: Value for "icon-size" is >= ${wy}. Reduce your "icon-size".`)):fd.kind==="composite"&&(Ml=[Al*ua.compositeIconSizes[0].evaluate(Cr,{},So),Al*ua.compositeIconSizes[1].evaluate(Cr,{},So)],(Ml[0]>Mu||Ml[1]>Mu)&&re(`${Ut.layerIds[0]}: Value for "icon-size" is >= ${wy}. Reduce your "icon-size".`)),Ut.addSymbols(Ut.icon,ud,Ml,qi,Fn,Cr,a.WritingMode.none,yr,Ws.lineStartIndex,Ws.lineLength,-1,So),UC=Ut.icon.placedSymbolArray.length-1,Gs&&(Cc=4*Gs.length,Ut.addSymbols(Ut.icon,Gs,Ml,qi,Fn,Cr,a.WritingMode.vertical,yr,Ws.lineStartIndex,Ws.lineLength,-1,So),VC=Ut.icon.placedSymbolArray.length-1)}const uz=Object.keys(wn.horizontal);for(const no of uz){const Ra=wn.horizontal[no];if(!qs){cz=Fs(Ra.text);const Gs=ci.layout.get("text-rotate").evaluate(Cr,{},So);qs=new Wx(ki,yr,Wi,qo,bo,Ra,ui,_i,ro,Gs)}const ud=Ra.positionedLines.length===1;if(Ty+=nz(Ut,yr,Ra,ca,ci,ro,Cr,wo,Ws,wn.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,ud?uz:[no],Tc,UC,ua,So),ud)break}wn.vertical&&(lz+=nz(Ut,yr,wn.vertical,ca,ci,ro,Cr,wo,Ws,a.WritingMode.vertical,["vertical"],Tc,VC,ua,So));const UK=qs?qs.boxStartIndex:Ut.collisionBoxArray.length,VK=qs?qs.boxEndIndex:Ut.collisionBoxArray.length,WK=os?os.boxStartIndex:Ut.collisionBoxArray.length,qK=os?os.boxEndIndex:Ut.collisionBoxArray.length,HK=Ec?Ec.boxStartIndex:Ut.collisionBoxArray.length,GK=Ec?Ec.boxEndIndex:Ut.collisionBoxArray.length,YK=Ia?Ia.boxStartIndex:Ut.collisionBoxArray.length,KK=Ia?Ia.boxEndIndex:Ut.collisionBoxArray.length;let Hs=-1;const Hx=(no,Ra)=>no&&no.circleDiameter?Math.max(no.circleDiameter,Ra):Ra;Hs=Hx(qs,Hs),Hs=Hx(os,Hs),Hs=Hx(Ec,Hs),Hs=Hx(Ia,Hs);const fz=Hs>-1?1:0;fz&&(Hs*=is/yi),Ut.glyphOffsetArray.length>=ip.MAX_GLYPHS&&re("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cr.sortKey!==void 0&&Ut.addToSortKeyRanges(Ut.symbolInstances.length,Cr.sortKey);const ZK=rz(ci,Cr,So),[XK,JK]=function(no,Ra){const ud=no.length,Gs=Ra==null?void 0:Ra.values;if((Gs==null?void 0:Gs.length)>0)for(let fd=0;fd<Gs.length;fd+=2){const Ml=Gs[fd+1];no.emplaceBack(a.TextAnchorEnum[Gs[fd]],Ml[0],Ml[1])}return[ud,no.length]}(Ut.textAnchorOffsets,ZK);Ut.symbolInstances.emplaceBack(yr.x,yr.y,Tc.right>=0?Tc.right:-1,Tc.center>=0?Tc.center:-1,Tc.left>=0?Tc.left:-1,Tc.vertical||-1,UC,VC,cz,UK,VK,WK,qK,HK,GK,YK,KK,Wi,Ty,lz,Yo,Cc,fz,0,ui,Hs,XK,JK)}(u,Kt,ht,f,m,_,Rt,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ye,[Fe,Fe,Fe,Fe],kt,j,Le,qe,Ft,ne,l,E,V,Y,k)};if(Ct==="line")for(const ht of GL(l.geometry,0,0,Mn,Mn)){const Kt=$K(ht,ke,rt,f.vertical||ie,m,24,xe,u.overscaling,Mn);for(const Ut of Kt)ie&&BK(u,ie.text,bt,Ut)||_t(ht,Ut)}else if(Ct==="line-center"){for(const ht of l.geometry)if(ht.length>1){const Kt=RK(ht,rt,f.vertical||ie,m,24,xe);Kt&&_t(ht,Kt)}}else if(l.type==="Polygon")for(const ht of dC(l.geometry,0)){const Kt=zK(ht,16);_t(ht[0],new Iu(Kt.x,Kt.y,0))}else if(l.type==="LineString")for(const ht of l.geometry)_t(ht,new Iu(ht[0].x,ht[0].y,0));else if(l.type==="Point")for(const ht of l.geometry)for(const Kt of ht)_t([Kt],new Iu(Kt.x,Kt.y,0))}function nz(u,l,f,m,_,E,k,$,j,V,Y,Z,J,ne,ie){const fe=function(Le,ke,Fe,qe,rt,kt,Ft,Ct){const bt=qe.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,gt=[];for(const Rt of ke.positionedLines)for(const _t of Rt.positionedGlyphs){if(!_t.rect)continue;const ht=_t.rect||{};let Kt=xL+1,Ut=!0,yr=1,mn=0;const wn=(rt||Ct)&&_t.vertical,vi=_t.metrics.advance*_t.scale/2;if(Ct&&ke.verticalizable&&(mn=Rt.lineOffset/2-(_t.imageName?-(yi-_t.metrics.width*_t.scale)/2:(_t.scale-1)*yi)),_t.imageName){const Fn=Ft[_t.imageName];Ut=Fn.sdf,yr=Fn.pixelRatio,Kt=Wo/yr}const ca=rt?[_t.x+vi,_t.y]:[0,0];let xo=rt?[0,0]:[_t.x+vi+Fe[0],_t.y+Fe[1]-mn],ci=[0,0];wn&&(ci=xo,xo=[0,0]);const ki=(_t.metrics.left-Kt)*_t.scale-vi+xo[0],Wi=(-_t.metrics.top-Kt)*_t.scale+xo[1],qo=ki+ht.w*_t.scale/yr,bo=Wi+ht.h*_t.scale/yr,ui=new v(ki,Wi),_i=new v(qo,Wi),ro=new v(ki,bo),wo=new v(qo,bo);if(wn){const Fn=new v(-vi,vi-xy),qi=-Math.PI/2,Cr=yi/2-vi,ua=new v(5-xy-Cr,-(_t.imageName?Cr:0)),Hi=new v(...ci);ui._rotateAround(qi,Fn)._add(ua)._add(Hi),_i._rotateAround(qi,Fn)._add(ua)._add(Hi),ro._rotateAround(qi,Fn)._add(ua)._add(Hi),wo._rotateAround(qi,Fn)._add(ua)._add(Hi)}if(bt){const Fn=Math.sin(bt),qi=Math.cos(bt),Cr=[qi,-Fn,Fn,qi];ui._matMult(Cr),_i._matMult(Cr),ro._matMult(Cr),wo._matMult(Cr)}const Ho=new v(0,0),Go=new v(0,0);gt.push({tl:ui,tr:_i,bl:ro,br:wo,tex:ht,writingMode:ke.writingMode,glyphOffset:ca,sectionIndex:_t.sectionIndex,isSDF:Ut,pixelOffsetTL:Ho,pixelOffsetBR:Go,minFontScaleX:0,minFontScaleY:0})}return gt}(0,f,$,_,E,k,m,u.allowVerticalPlacement),ye=u.textSizeData;let xe=null;ye.kind==="source"?(xe=[Al*_.layout.get("text-size").evaluate(k,{})],xe[0]>Mu&&re(`${u.layerIds[0]}: Value for "text-size" is >= ${wy}. Reduce your "text-size".`)):ye.kind==="composite"&&(xe=[Al*ne.compositeTextSizes[0].evaluate(k,{},ie),Al*ne.compositeTextSizes[1].evaluate(k,{},ie)],(xe[0]>Mu||xe[1]>Mu)&&re(`${u.layerIds[0]}: Value for "text-size" is >= ${wy}. Reduce your "text-size".`)),u.addSymbols(u.text,fe,xe,$,E,k,V,l,j.lineStartIndex,j.lineLength,J,ie);for(const Le of Y)Z[Le]=u.text.placedSymbolArray.length-1;return 4*fe.length}function iz(u){for(const l in u)return u[l];return null}function BK(u,l,f,m){const _=u.compareText;if(l in _){const E=_[l];for(let k=E.length-1;k>=0;k--)if(m.dist(E[k])<f)return!0}else _[l]=[];return _[l].push(m),!1}const oz=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class DC{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[f,m]=new Uint8Array(l,0,2);if(f!==219)throw new Error("Data does not appear to be in a KDBush format.");const _=m>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);const E=oz[15&m];if(!E)throw new Error("Unrecognized array type.");const[k]=new Uint16Array(l,2,1),[$]=new Uint32Array(l,4,1);return new DC($,k,E,l)}constructor(l,f=64,m=Float64Array,_){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const E=oz.indexOf(this.ArrayType),k=2*l*this.ArrayType.BYTES_PER_ELEMENT,$=l*this.IndexArrayType.BYTES_PER_ELEMENT,j=(8-$%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${m}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+$+j,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+k+$+j),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+$+j,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=l)}add(l,f){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=f,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return LC(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,f,m,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:k,nodeSize:$}=this,j=[0,E.length-1,0],V=[];for(;j.length;){const Y=j.pop()||0,Z=j.pop()||0,J=j.pop()||0;if(Z-J<=$){for(let ye=J;ye<=Z;ye++){const xe=k[2*ye],Le=k[2*ye+1];xe>=l&&xe<=m&&Le>=f&&Le<=_&&V.push(E[ye])}continue}const ne=J+Z>>1,ie=k[2*ne],fe=k[2*ne+1];ie>=l&&ie<=m&&fe>=f&&fe<=_&&V.push(E[ne]),(Y===0?l<=ie:f<=fe)&&(j.push(J),j.push(ne-1),j.push(1-Y)),(Y===0?m>=ie:_>=fe)&&(j.push(ne+1),j.push(Z),j.push(1-Y))}return V}within(l,f,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:E,nodeSize:k}=this,$=[0,_.length-1,0],j=[],V=m*m;for(;$.length;){const Y=$.pop()||0,Z=$.pop()||0,J=$.pop()||0;if(Z-J<=k){for(let ye=J;ye<=Z;ye++)sz(E[2*ye],E[2*ye+1],l,f)<=V&&j.push(_[ye]);continue}const ne=J+Z>>1,ie=E[2*ne],fe=E[2*ne+1];sz(ie,fe,l,f)<=V&&j.push(_[ne]),(Y===0?l-m<=ie:f-m<=fe)&&($.push(J),$.push(ne-1),$.push(1-Y)),(Y===0?l+m>=ie:f+m>=fe)&&($.push(ne+1),$.push(Z),$.push(1-Y))}return j}}function LC(u,l,f,m,_,E){if(_-m<=f)return;const k=m+_>>1;az(u,l,k,m,_,E),LC(u,l,f,m,k-1,1-E),LC(u,l,f,k+1,_,1-E)}function az(u,l,f,m,_,E){for(;_>m;){if(_-m>600){const V=_-m+1,Y=f-m+1,Z=Math.log(V),J=.5*Math.exp(2*Z/3),ne=.5*Math.sqrt(Z*J*(V-J)/V)*(Y-V/2<0?-1:1);az(u,l,f,Math.max(m,Math.floor(f-Y*J/V+ne)),Math.min(_,Math.floor(f+(V-Y)*J/V+ne)),E)}const k=l[2*f+E];let $=m,j=_;for(Ey(u,l,m,f),l[2*_+E]>k&&Ey(u,l,m,_);$<j;){for(Ey(u,l,$,j),$++,j--;l[2*$+E]<k;)$++;for(;l[2*j+E]>k;)j--}l[2*m+E]===k?Ey(u,l,m,j):(j++,Ey(u,l,j,_)),j<=f&&(m=j+1),f<=j&&(_=j-1)}}function Ey(u,l,f,m){zC(u,f,m),zC(l,2*f,2*m),zC(l,2*f+1,2*m+1)}function zC(u,l,f){const m=u[l];u[l]=u[f],u[f]=m}function sz(u,l,f,m){const _=u-f,E=l-m;return _*_+E*E}var NC;a.PerformanceMarkers=void 0,(NC=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",NC.load="load",NC.fullLoad="fullLoad";let qx=null,Cy=[];const jC=1e3/60,BC="loadTime",FC="fullLoadTime",FK={mark(u){performance.mark(u)},frame(u){const l=u;qx!=null&&Cy.push(l-qx),qx=l},clearMetrics(){qx=null,Cy=[],performance.clearMeasures(BC),performance.clearMeasures(FC);for(const u in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure(BC,a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure(FC,a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName(BC)[0].duration,l=performance.getEntriesByName(FC)[0].duration,f=Cy.length,m=1/(Cy.reduce((E,k)=>E+k,0)/f/1e3),_=Cy.filter(E=>E>jC).reduce((E,k)=>E+(k-jC)/jC,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:_/(f+_)*100,totalFrames:f}}};a.AJAXError=tt,a.ARRAY_TYPE=Jh,a.Actor=class{constructor(u,l,f){this.receive=m=>{const _=m.data,E=_.id;if(E&&(!_.targetMapId||this.mapId===_.targetMapId))if(_.type==="<cancel>"){delete this.tasks[E];const k=this.cancelCallbacks[E];delete this.cancelCallbacks[E],k&&k()}else de()||_.mustQueue?(this.tasks[E]=_,this.taskQueue.push(E),this.invoker.trigger()):this.processTask(E,_)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),_=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),_&&this.processTask(m,_)},this.target=u,this.parent=l,this.mapId=f,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new OK(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=de()?u:window}send(u,l,f,m,_=!1){const E=Math.round(1e18*Math.random()).toString(36).substring(0,10);f&&(this.callbacks[E]=f);const k=Se(this.globalScope)?void 0:[];return this.target.postMessage({id:E,type:u,hasCallback:!!f,targetMapId:m,mustQueue:_,sourceMapId:this.mapId,data:yc(l,k)},k),{cancel:()=>{f&&delete this.callbacks[E],this.target.postMessage({id:E,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const f=this.callbacks[u];delete this.callbacks[u],f&&(l.error?f(xu(l.error)):f(null,xu(l.data)))}else{let f=!1;const m=Se(this.globalScope)?void 0:[],_=l.hasCallback?($,j)=>{f=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:$?yc($):null,data:yc(j,m)},m)}:$=>{f=!0};let E=null;const k=xu(l.data);if(this.parent[l.type])E=this.parent[l.type](l.sourceMapId,k,_);else if(this.parent.getWorkerSource){const $=l.type.split(".");E=this.parent.getWorkerSource(l.sourceMapId,$[0],k.source)[$[1]](k,_)}else _(new Error(`Could not find function ${l.type}`));!f&&E&&E.cancel&&(this.cancelCallbacks[u]=E.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=dy,a.CanonicalTileID=IC,a.CollisionBoxArray=B,a.CollisionCircleLayoutArray=class extends Gh{},a.Color=mt,a.DEMData=FL,a.DataConstantProperty=qt,a.DictionaryCoder=UL,a.EXTENT=Mn,a.ErrorEvent=ct,a.EvaluationParameters=bn,a.Event=Xe,a.Evented=Be,a.FeatureIndex=WL,a.FillBucket=mC,a.FillExtrusionBucket=yC,a.GeoJSONFeature=VL,a.ImageAtlas=wL,a.ImagePosition=wC,a.KDBush=DC,a.LineBucket=vC,a.LineStripIndexArray=class extends T{},a.LngLat=Ou,a.MercatorCoordinate=Bx,a.ONE_EM=yi,a.OverscaledTileID=Oa,a.PerformanceUtils=FK,a.Point=v,a.Pos3dArray=class extends Eu{},a.PosArray=ve,a.Properties=gi,a.Protobuf=xC,a.QuadTriangleArray=class extends Yh{},a.RGBAImage=Ma,a.RasterBoundsArray=class extends qh{},a.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.SegmentVector=tr,a.SymbolBucket=ip,a.Transitionable=Uh,a.TriangleIndexArray=Dt,a.Uniform1f=Ci,a.Uniform1i=class extends Bn{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.Uniform2f=class extends Bn{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.Uniform3f=class extends Bn{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.Uniform4f=Cu,a.UniformColor=li,a.UniformMatrix4f=class extends Bn{constructor(u,l){super(u,l),this.current=Ti}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.UnwrappedTileID=BL,a.ValidationError=ut,a.ZoomHistory=Bh,a.addDynamicAttributes=TC,a.arrayBufferToImage=function(u,l){const f=new Image;f.onload=()=>{l(null,f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=Me})},f.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});f.src=u.byteLength?URL.createObjectURL(m):Me},a.arrayBufferToImageBitmap=function(u,l){const f=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(f).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.asyncAll=function(u,l,f){if(!u.length)return f(null,[]);let m=u.length;const _=new Array(u.length);let E=null;u.forEach((k,$)=>{l(k,(j,V)=>{j&&(E=j),_[$]=V,--m==0&&f(E,_)})})},a.bezier=w,a.browser=Ie,a.clamp=O,a.clipLine=GL,a.clone=function(u){var l=new Jh(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.clone$1=F,a.collisionCircleLayout=oK,a.config=He,a.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.create=function(){var u=new Jh(16);return Jh!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a.createExpression=_r,a.createFilter=Bg,a.createLayout=ei,a.createStyleLayer=function(u){if(u.type==="custom")return new MK(u);switch(u.type){case"background":return new kK(u);case"circle":return new dY(u);case"fill":return new IY(u);case"fill-extrusion":return new GY(u);case"heatmap":return new pY(u);case"hillshade":return new gY(u);case"line":return new tK(u);case"raster":return new AK(u);case"symbol":return new jx(u)}},a.deepEqual=function u(l,f){if(Array.isArray(l)){if(!Array.isArray(f)||l.length!==f.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],f[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&f!==null){if(typeof f!="object"||Object.keys(l).length!==Object.keys(f).length)return!1;for(const m in l)if(!u(l[m],f[m]))return!1;return!0}return l===f},a.defaultEasing=A,a.derefLayers=function(u){u=u.slice();const l=Object.create(null);for(let f=0;f<u.length;f++)l[u[f].id]=u[f];for(let f=0;f<u.length;f++)"ref"in u[f]&&(u[f]=Zt(u[f],l[u[f].ref]));return u},a.diffStyles=function(u,l){if(!u)return[{command:Nt.setStyle,args:[l]}];let f=[];try{if(!Ot(u.version,l.version))return[{command:Nt.setStyle,args:[l]}];Ot(u.center,l.center)||f.push({command:Nt.setCenter,args:[l.center]}),Ot(u.zoom,l.zoom)||f.push({command:Nt.setZoom,args:[l.zoom]}),Ot(u.bearing,l.bearing)||f.push({command:Nt.setBearing,args:[l.bearing]}),Ot(u.pitch,l.pitch)||f.push({command:Nt.setPitch,args:[l.pitch]}),Ot(u.sprite,l.sprite)||f.push({command:Nt.setSprite,args:[l.sprite]}),Ot(u.glyphs,l.glyphs)||f.push({command:Nt.setGlyphs,args:[l.glyphs]}),Ot(u.transition,l.transition)||f.push({command:Nt.setTransition,args:[l.transition]}),Ot(u.light,l.light)||f.push({command:Nt.setLight,args:[l.light]});const m={},_=[];(function(k,$,j,V){let Y;for(Y in $=$||{},k=k||{})Object.prototype.hasOwnProperty.call(k,Y)&&(Object.prototype.hasOwnProperty.call($,Y)||Vr(Y,j,V));for(Y in $)Object.prototype.hasOwnProperty.call($,Y)&&(Object.prototype.hasOwnProperty.call(k,Y)?Ot(k[Y],$[Y])||(k[Y].type==="geojson"&&$[Y].type==="geojson"&&Sr(k,$,Y)?j.push({command:Nt.setGeoJSONSourceData,args:[Y,$[Y].data]}):pr(Y,$,j,V)):Mr(Y,$,j))})(u.sources,l.sources,_,m);const E=[];u.layers&&u.layers.forEach(k=>{m[k.source]?f.push({command:Nt.removeLayer,args:[k.id]}):E.push(k)}),f=f.concat(_),function(k,$,j){$=$||[];const V=(k=k||[]).map(Er),Y=$.map(Er),Z=k.reduce(an,{}),J=$.reduce(an,{}),ne=V.slice(),ie=Object.create(null);let fe,ye,xe,Le,ke,Fe,qe;for(fe=0,ye=0;fe<V.length;fe++)xe=V[fe],Object.prototype.hasOwnProperty.call(J,xe)?ye++:(j.push({command:Nt.removeLayer,args:[xe]}),ne.splice(ne.indexOf(xe,ye),1));for(fe=0,ye=0;fe<Y.length;fe++)xe=Y[Y.length-1-fe],ne[ne.length-1-fe]!==xe&&(Object.prototype.hasOwnProperty.call(Z,xe)?(j.push({command:Nt.removeLayer,args:[xe]}),ne.splice(ne.lastIndexOf(xe,ne.length-ye),1)):ye++,Fe=ne[ne.length-fe],j.push({command:Nt.addLayer,args:[J[xe],Fe]}),ne.splice(ne.length-fe,0,xe),ie[xe]=!0);for(fe=0;fe<Y.length;fe++)if(xe=Y[fe],Le=Z[xe],ke=J[xe],!ie[xe]&&!Ot(Le,ke))if(Ot(Le.source,ke.source)&&Ot(Le["source-layer"],ke["source-layer"])&&Ot(Le.type,ke.type)){for(qe in cr(Le.layout,ke.layout,j,xe,null,Nt.setLayoutProperty),cr(Le.paint,ke.paint,j,xe,null,Nt.setPaintProperty),Ot(Le.filter,ke.filter)||j.push({command:Nt.setFilter,args:[xe,ke.filter]}),Ot(Le.minzoom,ke.minzoom)&&Ot(Le.maxzoom,ke.maxzoom)||j.push({command:Nt.setLayerZoomRange,args:[xe,ke.minzoom,ke.maxzoom]}),Le)Object.prototype.hasOwnProperty.call(Le,qe)&&qe!=="layout"&&qe!=="paint"&&qe!=="filter"&&qe!=="metadata"&&qe!=="minzoom"&&qe!=="maxzoom"&&(qe.indexOf("paint.")===0?cr(Le[qe],ke[qe],j,xe,qe.slice(6),Nt.setPaintProperty):Ot(Le[qe],ke[qe])||j.push({command:Nt.setLayerProperty,args:[xe,qe,ke[qe]]}));for(qe in ke)Object.prototype.hasOwnProperty.call(ke,qe)&&!Object.prototype.hasOwnProperty.call(Le,qe)&&qe!=="layout"&&qe!=="paint"&&qe!=="filter"&&qe!=="metadata"&&qe!=="minzoom"&&qe!=="maxzoom"&&(qe.indexOf("paint.")===0?cr(Le[qe],ke[qe],j,xe,qe.slice(6),Nt.setPaintProperty):Ot(Le[qe],ke[qe])||j.push({command:Nt.setLayerProperty,args:[xe,qe,ke[qe]]}))}else j.push({command:Nt.removeLayer,args:[xe]}),Fe=ne[ne.lastIndexOf(xe)+1],j.push({command:Nt.addLayer,args:[ke,Fe]})}(E,l.layers,f)}catch(m){console.warn("Unable to compute style diff:",m),f=[{command:Nt.setStyle,args:[l]}]}return f},a.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.earthRadius=MC,a.emitValidationErrors=mx,a.emptyStyle=function(){const u={},l=Pe.$version;for(const f in Pe.$root){const m=Pe.$root[f];if(m.required){let _=null;_=f==="version"?l:m.type==="array"?[]:{},_!=null&&(u[f]=_)}}return u},a.equals=function(u,l){var f=u[0],m=u[1],_=u[2],E=u[3],k=u[4],$=u[5],j=u[6],V=u[7],Y=u[8],Z=u[9],J=u[10],ne=u[11],ie=u[12],fe=u[13],ye=u[14],xe=u[15],Le=l[0],ke=l[1],Fe=l[2],qe=l[3],rt=l[4],kt=l[5],Ft=l[6],Ct=l[7],bt=l[8],gt=l[9],Rt=l[10],_t=l[11],ht=l[12],Kt=l[13],Ut=l[14],yr=l[15];return Math.abs(f-Le)<=_o*Math.max(1,Math.abs(f),Math.abs(Le))&&Math.abs(m-ke)<=_o*Math.max(1,Math.abs(m),Math.abs(ke))&&Math.abs(_-Fe)<=_o*Math.max(1,Math.abs(_),Math.abs(Fe))&&Math.abs(E-qe)<=_o*Math.max(1,Math.abs(E),Math.abs(qe))&&Math.abs(k-rt)<=_o*Math.max(1,Math.abs(k),Math.abs(rt))&&Math.abs($-kt)<=_o*Math.max(1,Math.abs($),Math.abs(kt))&&Math.abs(j-Ft)<=_o*Math.max(1,Math.abs(j),Math.abs(Ft))&&Math.abs(V-Ct)<=_o*Math.max(1,Math.abs(V),Math.abs(Ct))&&Math.abs(Y-bt)<=_o*Math.max(1,Math.abs(Y),Math.abs(bt))&&Math.abs(Z-gt)<=_o*Math.max(1,Math.abs(Z),Math.abs(gt))&&Math.abs(J-Rt)<=_o*Math.max(1,Math.abs(J),Math.abs(Rt))&&Math.abs(ne-_t)<=_o*Math.max(1,Math.abs(ne),Math.abs(_t))&&Math.abs(ie-ht)<=_o*Math.max(1,Math.abs(ie),Math.abs(ht))&&Math.abs(fe-Kt)<=_o*Math.max(1,Math.abs(fe),Math.abs(Kt))&&Math.abs(ye-Ut)<=_o*Math.max(1,Math.abs(ye),Math.abs(Ut))&&Math.abs(xe-yr)<=_o*Math.max(1,Math.abs(xe),Math.abs(yr))},a.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:f},{lowerSize:m,upperSize:_}){return u.kind==="source"?m/Al:u.kind==="composite"?Uo.number(m/Al,_/Al,f):l},a.evaluateSizeForZoom=function(u,l){let f=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:_,minZoom:E,maxZoom:k}=u,$=_?O(Vo.interpolationFactor(_,l,E,k),0,1):0;u.kind==="camera"?m=Uo.number(u.minSize,u.maxSize,$):f=$}return{uSizeT:f,uSize:m}},a.evented=Qg,a.extend=C,a.filterObject=L,a.findLineIntersection=function(u,l,f,m){const _=l.y-u.y,E=l.x-u.x,k=m.y-f.y,$=m.x-f.x,j=k*E-$*_;if(j===0)return null;const V=($*(u.y-f.y)-k*(u.x-f.x))/j;return new v(u.x+V*E,u.y+V*_)},a.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.getAnchorAlignment=EC,a.getAnchorJustification=$C,a.getArrayBuffer=je,a.getDefaultExportFromCjs=d,a.getJSON=function(u,l){return Ye(C(u,{type:"json"}),l)},a.getOverlapMode=CC,a.getProtocolAction=Ne,a.getRTLTextPluginStatus=ey,a.getReferrer=Te,a.getVideo=function(u,l){const f=window.document.createElement("video");f.muted=!0,f.onloadstart=function(){l(null,f)};for(let m=0;m<u.length;m++){const _=window.document.createElement("source");st(u[m])||(f.crossOrigin="Anonymous"),_.src=u[m],f.appendChild(_)}return{cancel:()=>{}}},a.groupByLayout=function(u,l){const f={};for(let _=0;_<u.length;_++){const E=l&&l[u[_].id]||XE(u[_]);l&&(l[u[_].id]=E);let k=f[E];k||(k=f[E]=[]),k.push(u[_])}const m=[];for(const _ in f)m.push(f[_]);return m},a.identity=oC,a.interpolate=Uo,a.invert=function(u,l){var f=l[0],m=l[1],_=l[2],E=l[3],k=l[4],$=l[5],j=l[6],V=l[7],Y=l[8],Z=l[9],J=l[10],ne=l[11],ie=l[12],fe=l[13],ye=l[14],xe=l[15],Le=f*$-m*k,ke=f*j-_*k,Fe=f*V-E*k,qe=m*j-_*$,rt=m*V-E*$,kt=_*V-E*j,Ft=Y*fe-Z*ie,Ct=Y*ye-J*ie,bt=Y*xe-ne*ie,gt=Z*ye-J*fe,Rt=Z*xe-ne*fe,_t=J*xe-ne*ye,ht=Le*_t-ke*Rt+Fe*gt+qe*bt-rt*Ct+kt*Ft;return ht?(u[0]=($*_t-j*Rt+V*gt)*(ht=1/ht),u[1]=(_*Rt-m*_t-E*gt)*ht,u[2]=(fe*kt-ye*rt+xe*qe)*ht,u[3]=(J*rt-Z*kt-ne*qe)*ht,u[4]=(j*bt-k*_t-V*Ct)*ht,u[5]=(f*_t-_*bt+E*Ct)*ht,u[6]=(ye*Fe-ie*kt-xe*ke)*ht,u[7]=(Y*kt-J*Fe+ne*ke)*ht,u[8]=(k*Rt-$*bt+V*Ft)*ht,u[9]=(m*bt-f*Rt-E*Ft)*ht,u[10]=(ie*rt-fe*Fe+xe*Le)*ht,u[11]=(Z*Fe-Y*rt-ne*Le)*ht,u[12]=($*Ct-k*gt-j*Ft)*ht,u[13]=(f*gt-m*Ct+_*Ft)*ht,u[14]=(fe*ke-ie*qe-ye*Le)*ht,u[15]=(Y*qe-Z*ke+J*Le)*ht,u):null},a.isImageBitmap=_e,a.isSafari=Se,a.isWorker=de,a.keysDifference=function(u,l){const f=[];for(const m in u)m in l||f.push(m);return f},a.lazyLoadRTLTextPlugin=function(){la.isLoading()||la.isLoaded()||ey()!=="deferred"||xx()},a.makeRequest=Ye,a.mapObject=z,a.mercatorXfromLng=LL,a.mercatorYfromLat=zL,a.mercatorZfromAltitude=NL,a.mul=fY,a.mul$1=function(u,l,f){return u[0]=l[0]*f[0],u[1]=l[1]*f[1],u[2]=l[2]*f[2],u[3]=l[3]*f[3],u},a.multiply=FD,a.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.operations=Nt,a.ortho=function(u,l,f,m,_,E,k){var $=1/(l-f),j=1/(m-_),V=1/(E-k);return u[0]=-2*$,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*j,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*V,u[11]=0,u[12]=(l+f)*$,u[13]=(_+m)*j,u[14]=(k+E)*V,u[15]=1,u},a.parseCacheControl=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,m,_,E)=>{const k=_||E;return l[m]=!k||k.toLowerCase(),""}),l["max-age"]){const f=parseInt(l["max-age"],10);isNaN(f)?delete l["max-age"]:l["max-age"]=f}return l},a.parseGlyphPbf=function(u){return new xC(u).readFields(gK,[])},a.pbf=hL,a.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=Mn/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],f=l.layout,m=l._unevaluatedLayout._values,_={layoutIconSize:m["icon-size"].possiblyEvaluate(new bn(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new bn(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new bn(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:Y}=u.bucket.textSizeData;_.compositeTextSizes=[m["text-size"].possiblyEvaluate(new bn(V),u.canonical),m["text-size"].possiblyEvaluate(new bn(Y),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:Y}=u.bucket.iconSizeData;_.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new bn(V),u.canonical),m["icon-size"].possiblyEvaluate(new bn(Y),u.canonical)]}const E=f.get("text-line-height")*yi,k=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point",$=f.get("text-keep-upright"),j=f.get("text-size");for(const V of u.bucket.features){const Y=f.get("text-font").evaluate(V,{},u.canonical).join(","),Z=j.evaluate(V,{},u.canonical),J=_.layoutTextSize.evaluate(V,{},u.canonical),ne=_.layoutIconSize.evaluate(V,{},u.canonical),ie={horizontal:{},vertical:void 0},fe=V.text;let ye,xe=[0,0];if(fe){const Fe=fe.toString(),qe=f.get("text-letter-spacing").evaluate(V,{},u.canonical)*yi,rt=QE(Fe)?qe:0,kt=f.get("text-anchor").evaluate(V,{},u.canonical),Ft=rz(l,V,u.canonical);if(!Ft){const _t=f.get("text-radial-offset").evaluate(V,{},u.canonical);xe=_t?tz(kt,[_t*yi,RC]):f.get("text-offset").evaluate(V,{},u.canonical).map(ht=>ht*yi)}let Ct=k?"center":f.get("text-justify").evaluate(V,{},u.canonical);const bt=f.get("symbol-placement"),gt=bt==="point"?f.get("text-max-width").evaluate(V,{},u.canonical)*yi:0,Rt=()=>{u.bucket.allowVerticalPlacement&&Fh(Fe)&&(ie.vertical=Lx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,Y,gt,E,kt,"left",rt,xe,a.WritingMode.vertical,!0,bt,J,Z))};if(!k&&Ft){const _t=new Set;if(Ct==="auto")for(let Kt=0;Kt<Ft.values.length;Kt+=2)_t.add($C(Ft.values[Kt]));else _t.add(Ct);let ht=!1;for(const Kt of _t)if(!ie.horizontal[Kt])if(ht)ie.horizontal[Kt]=ie.horizontal[0];else{const Ut=Lx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,Y,gt,E,"center",Kt,rt,xe,a.WritingMode.horizontal,!1,bt,J,Z);Ut&&(ie.horizontal[Kt]=Ut,ht=Ut.positionedLines.length===1)}Rt()}else{Ct==="auto"&&(Ct=$C(kt));const _t=Lx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,Y,gt,E,kt,Ct,rt,xe,a.WritingMode.horizontal,!1,bt,J,Z);_t&&(ie.horizontal[Ct]=_t),Rt(),Fh(Fe)&&k&&$&&(ie.vertical=Lx(fe,u.glyphMap,u.glyphPositions,u.imagePositions,Y,gt,E,kt,Ct,rt,xe,a.WritingMode.vertical,!1,bt,J,Z))}}let Le=!1;if(V.icon&&V.icon.name){const Fe=u.imageMap[V.icon.name];Fe&&(ye=wK(u.imagePositions[V.icon.name],f.get("icon-offset").evaluate(V,{},u.canonical),f.get("icon-anchor").evaluate(V,{},u.canonical)),Le=!!Fe.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Le:u.bucket.sdfIcons!==Le&&re("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Fe.pixelRatio!==u.bucket.pixelRatio||f.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const ke=iz(ie.horizontal)||ie.vertical;u.bucket.iconsInText=!!ke&&ke.iconsInText,(ke||ye)&&jK(u.bucket,V,ie,ye,u.imageMap,_,J,ne,xe,Le,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.perspective=function(u,l,f,m,_){var E,k=1/Math.tan(l/2);return u[0]=k/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=k,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=(_+m)*(E=1/(m-_)),u[14]=2*_*m*E):(u[10]=-1,u[14]=-2*m),u},a.pick=function(u,l){const f={};for(let m=0;m<l.length;m++){const _=l[m];_ in u&&(f[_]=u[_])}return f},a.plugin=la,a.pointGeometry=h,a.polygonIntersectsPolygon=DD,a.potpack=bL,a.register=Pt,a.registerForPluginStateChange=function(u){return u({pluginStatus:go,pluginURL:Ns}),Qg.on("pluginStateChange",u),u},a.renderColorRamp=HD,a.rotateX=function(u,l,f){var m=Math.sin(f),_=Math.cos(f),E=l[4],k=l[5],$=l[6],j=l[7],V=l[8],Y=l[9],Z=l[10],J=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=E*_+V*m,u[5]=k*_+Y*m,u[6]=$*_+Z*m,u[7]=j*_+J*m,u[8]=V*_-E*m,u[9]=Y*_-k*m,u[10]=Z*_-$*m,u[11]=J*_-j*m,u},a.rotateZ=function(u,l,f){var m=Math.sin(f),_=Math.cos(f),E=l[0],k=l[1],$=l[2],j=l[3],V=l[4],Y=l[5],Z=l[6],J=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=E*_+V*m,u[1]=k*_+Y*m,u[2]=$*_+Z*m,u[3]=j*_+J*m,u[4]=V*_-E*m,u[5]=Y*_-k*m,u[6]=Z*_-$*m,u[7]=J*_-j*m,u},a.sameOrigin=st,a.scale=function(u,l,f){var m=f[0],_=f[1],E=f[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*_,u[5]=l[5]*_,u[6]=l[6]*_,u[7]=l[7]*_,u[8]=l[8]*E,u[9]=l[9]*E,u[10]=l[10]*E,u[11]=l[11]*E,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.setRTLTextPlugin=function(u,l,f=!1){if(go===sd||go===Kg||go===Zg)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ns=Ie.resolveURL(u),go=sd,Xg=l,Jg(),f||xx()},a.sphericalToCartesian=function([u,l,f]){return l+=90,l*=Math.PI/180,f*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(f),y:u*Math.sin(l)*Math.sin(f),z:u*Math.cos(f)}},a.toEvaluationFeature=Vs,a.transformMat4=Ax,a.translate=function(u,l,f){var m,_,E,k,$,j,V,Y,Z,J,ne,ie,fe=f[0],ye=f[1],xe=f[2];return l===u?(u[12]=l[0]*fe+l[4]*ye+l[8]*xe+l[12],u[13]=l[1]*fe+l[5]*ye+l[9]*xe+l[13],u[14]=l[2]*fe+l[6]*ye+l[10]*xe+l[14],u[15]=l[3]*fe+l[7]*ye+l[11]*xe+l[15]):(_=l[1],E=l[2],k=l[3],$=l[4],j=l[5],V=l[6],Y=l[7],Z=l[8],J=l[9],ne=l[10],ie=l[11],u[0]=m=l[0],u[1]=_,u[2]=E,u[3]=k,u[4]=$,u[5]=j,u[6]=V,u[7]=Y,u[8]=Z,u[9]=J,u[10]=ne,u[11]=ie,u[12]=m*fe+$*ye+Z*xe+l[12],u[13]=_*fe+j*ye+J*xe+l[13],u[14]=E*fe+V*ye+ne*xe+l[14],u[15]=k*fe+Y*ye+ie*xe+l[15]),u},a.triggerPluginCompletionEvent=_x,a.unicodeBlockLookup=Tt,a.uniqueId=function(){return R++},a.v8Spec=Pe,a.validateCustomStyleLayer=function(u){const l=[],f=u.id;return f===void 0&&l.push({message:`layers.${f}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${f}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=ad,a.validateStyle=od,a.vectorTile=Pu,a.warnOnce=re,a.wrap=I}),o(["./shared"],function(a){class d{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,Q){for(const ge of X){this._layerConfigs[ge.id]=ge;const be=this._layers[ge.id]=a.createStyleLayer(ge);be._featureFilter=a.createFilter(be.filter),this.keyCache[ge.id]&&delete this.keyCache[ge.id]}for(const ge of Q)delete this.keyCache[ge],delete this._layerConfigs[ge],delete this._layers[ge];this.familiesBySource={};const se=a.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const ge of se){const be=ge.map(Qe=>this._layers[Qe.id]),Re=be[0];if(Re.visibility==="none")continue;const Ce=Re.source||"";let we=this.familiesBySource[Ce];we||(we=this.familiesBySource[Ce]={});const ze=Re.sourceLayer||"_geojsonTileLayer";let Je=we[ze];Je||(Je=we[ze]=[]),Je.push(be)}}}class h{constructor(X){const Q={},se=[];for(const Ce in X){const we=X[Ce],ze=Q[Ce]={};for(const Je in we){const Qe=we[+Je];if(!Qe||Qe.bitmap.width===0||Qe.bitmap.height===0)continue;const it={x:0,y:0,w:Qe.bitmap.width+2,h:Qe.bitmap.height+2};se.push(it),ze[Je]={rect:it,metrics:Qe.metrics}}}const{w:ge,h:be}=a.potpack(se),Re=new a.AlphaImage({width:ge||1,height:be||1});for(const Ce in X){const we=X[Ce];for(const ze in we){const Je=we[+ze];if(!Je||Je.bitmap.width===0||Je.bitmap.height===0)continue;const Qe=Q[Ce][ze].rect;a.AlphaImage.copy(Je.bitmap,Re,{x:0,y:0},{x:Qe.x+1,y:Qe.y+1},Je.bitmap)}}this.image=Re,this.positions=Q}}a.register("GlyphAtlas",h);class g{constructor(X){this.tileID=new a.OverscaledTileID(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.uid=X.uid,this.zoom=X.zoom,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.collectResourceTiming,this.returnDependencies=!!X.returnDependencies,this.promoteId=X.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(X,Q,se,ge,be){this.status="parsing",this.data=X,this.collisionBoxArray=new a.CollisionBoxArray;const Re=new a.DictionaryCoder(Object.keys(X.layers).sort()),Ce=new a.FeatureIndex(this.tileID,this.promoteId);Ce.bucketLayerIDs=[];const we={},ze={featureIndex:Ce,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},Je=Q.familiesBySource[this.source];for(const gr in Je){const Ar=X.layers[gr];if(!Ar)continue;Ar.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${gr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Bi=Re.encode(gr),mt=[];for(let $r=0;$r<Ar.length;$r++){const Ii=Ar.feature($r),Kn=Ce.getId(Ii,gr);mt.push({feature:Ii,id:Kn,index:$r,sourceLayerIndex:Bi})}for(const $r of Je[gr]){const Ii=$r[0];Ii.source!==this.source&&a.warnOnce(`layer.source = ${Ii.source} does not equal this.source = ${this.source}`),Ii.minzoom&&this.zoom<Math.floor(Ii.minzoom)||Ii.maxzoom&&this.zoom>=Ii.maxzoom||Ii.visibility!=="none"&&(v($r,this.zoom,se),(we[Ii.id]=Ii.createBucket({index:Ce.bucketLayerIDs.length,layers:$r,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bi,sourceID:this.source})).populate(mt,ze,this.tileID.canonical),Ce.bucketLayerIDs.push($r.map(Kn=>Kn.id)))}}let Qe,it,Vt,nr;const Lt=a.mapObject(ze.glyphDependencies,gr=>Object.keys(gr).map(Number));this.inFlightDependencies.forEach(gr=>gr==null?void 0:gr.cancel()),this.inFlightDependencies=[];const Wt=++this.dependencySentinel;Object.keys(Lt).length?this.inFlightDependencies.push(ge.send("getGlyphs",{uid:this.uid,stacks:Lt,source:this.source,tileID:this.tileID,type:"glyphs"},(gr,Ar)=>{Wt===this.dependencySentinel&&(Qe||(Qe=gr,it=Ar,Br.call(this)))})):it={};const rr=Object.keys(ze.iconDependencies);rr.length?this.inFlightDependencies.push(ge.send("getImages",{icons:rr,source:this.source,tileID:this.tileID,type:"icons"},(gr,Ar)=>{Wt===this.dependencySentinel&&(Qe||(Qe=gr,Vt=Ar,Br.call(this)))})):Vt={};const Pr=Object.keys(ze.patternDependencies);function Br(){if(Qe)return be(Qe);if(it&&Vt&&nr){const gr=new h(it),Ar=new a.ImageAtlas(Vt,nr);for(const Bi in we){const mt=we[Bi];mt instanceof a.SymbolBucket?(v(mt.layers,this.zoom,se),a.performSymbolLayout({bucket:mt,glyphMap:it,glyphPositions:gr.positions,imageMap:Vt,imagePositions:Ar.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):mt.hasPattern&&(mt instanceof a.LineBucket||mt instanceof a.FillBucket||mt instanceof a.FillExtrusionBucket)&&(v(mt.layers,this.zoom,se),mt.addFeatures(ze,this.tileID.canonical,Ar.patternPositions))}this.status="done",be(null,{buckets:Object.values(we).filter(Bi=>!Bi.isEmpty()),featureIndex:Ce,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Ar,glyphMap:this.returnDependencies?it:null,iconMap:this.returnDependencies?Vt:null,glyphPositions:this.returnDependencies?gr.positions:null})}}Pr.length?this.inFlightDependencies.push(ge.send("getImages",{icons:Pr,source:this.source,tileID:this.tileID,type:"patterns"},(gr,Ar)=>{Wt===this.dependencySentinel&&(Qe||(Qe=gr,nr=Ar,Br.call(this)))})):nr={},Br.call(this)}}function v(he,X,Q){const se=new a.EvaluationParameters(X);for(const ge of he)ge.recalculate(se,Q)}function b(he,X){const Q=a.getArrayBuffer(he.request,(se,ge,be,Re)=>{se?X(se):ge&&X(null,{vectorTile:new a.vectorTile.VectorTile(new a.Protobuf(ge)),rawData:ge,cacheControl:be,expires:Re})});return()=>{Q.cancel(),X()}}class M{constructor(X,Q,se,ge){this.actor=X,this.layerIndex=Q,this.availableImages=se,this.loadVectorData=ge||b,this.fetching={},this.loading={},this.loaded={}}loadTile(X,Q){const se=X.uid;this.loading||(this.loading={});const ge=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request),be=this.loading[se]=new g(X);be.abort=this.loadVectorData(X,(Re,Ce)=>{if(delete this.loading[se],Re||!Ce)return be.status="done",this.loaded[se]=be,Q(Re);const we=Ce.rawData,ze={};Ce.expires&&(ze.expires=Ce.expires),Ce.cacheControl&&(ze.cacheControl=Ce.cacheControl);const Je={};if(ge){const Qe=ge.finish();Qe&&(Je.resourceTiming=JSON.parse(JSON.stringify(Qe)))}be.vectorTile=Ce.vectorTile,be.parse(Ce.vectorTile,this.layerIndex,this.availableImages,this.actor,(Qe,it)=>{if(delete this.fetching[se],Qe||!it)return Q(Qe);Q(null,a.extend({rawTileData:we.slice(0)},it,ze,Je))}),this.loaded=this.loaded||{},this.loaded[se]=be,this.fetching[se]={rawTileData:we,cacheControl:ze,resourceTiming:Je}})}reloadTile(X,Q){const se=this.loaded,ge=X.uid;if(se&&se[ge]){const be=se[ge];be.showCollisionBoxes=X.showCollisionBoxes,be.status==="parsing"?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,(Re,Ce)=>{if(Re||!Ce)return Q(Re,Ce);let we;if(this.fetching[ge]){const{rawTileData:ze,cacheControl:Je,resourceTiming:Qe}=this.fetching[ge];delete this.fetching[ge],we=a.extend({rawTileData:ze.slice(0)},Ce,Je,Qe)}else we=Ce;Q(null,we)}):be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,Q):Q())}}abortTile(X,Q){const se=this.loading,ge=X.uid;se&&se[ge]&&se[ge].abort&&(se[ge].abort(),delete se[ge]),Q()}removeTile(X,Q){const se=this.loaded,ge=X.uid;se&&se[ge]&&delete se[ge],Q()}}class P{constructor(){this.loaded={}}loadTile(X,Q){const{uid:se,encoding:ge,rawImageData:be}=X,Re=a.isImageBitmap(be)?this.getImageData(be):be,Ce=new a.DEMData(se,Re,ge);this.loaded=this.loaded||{},this.loaded[se]=Ce,Q(null,Ce)}getImageData(X){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(X.width,X.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=X.width,this.offscreenCanvas.height=X.height,this.offscreenCanvasContext.drawImage(X,0,0,X.width,X.height);const Q=this.offscreenCanvasContext.getImageData(-1,-1,X.width+2,X.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Q.width,height:Q.height},Q.data)}removeTile(X){const Q=this.loaded,se=X.uid;Q&&Q[se]&&delete Q[se]}}function w(he,X){if(he.length!==0){A(he[0],X);for(var Q=1;Q<he.length;Q++)A(he[Q],!X)}}function A(he,X){for(var Q=0,se=0,ge=0,be=he.length,Re=be-1;ge<be;Re=ge++){var Ce=(he[ge][0]-he[Re][0])*(he[Re][1]+he[ge][1]),we=Q+Ce;se+=Math.abs(Q)>=Math.abs(Ce)?Q-we+Ce:Ce-we+Q,Q=we}Q+se>=0!=!!X&&he.reverse()}var O=a.getDefaultExportFromCjs(function he(X,Q){var se,ge=X&&X.type;if(ge==="FeatureCollection")for(se=0;se<X.features.length;se++)he(X.features[se],Q);else if(ge==="GeometryCollection")for(se=0;se<X.geometries.length;se++)he(X.geometries[se],Q);else if(ge==="Feature")he(X.geometry,Q);else if(ge==="Polygon")w(X.coordinates,Q);else if(ge==="MultiPolygon")for(se=0;se<X.coordinates.length;se++)w(X.coordinates[se],Q);return X});const I=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;var C={exports:{}},R=a.pointGeometry,z=a.vectorTile.VectorTileFeature,L=F;function F(he,X){this.options=X||{},this.features=he,this.length=he.length}function H(he,X){this.id=typeof he.id=="number"?he.id:void 0,this.type=he.type,this.rawGeometry=he.type===1?[he.geometry]:he.geometry,this.properties=he.tags,this.extent=X||4096}F.prototype.feature=function(he){return new H(this.features[he],this.options.extent)},H.prototype.loadGeometry=function(){var he=this.rawGeometry;this.geometry=[];for(var X=0;X<he.length;X++){for(var Q=he[X],se=[],ge=0;ge<Q.length;ge++)se.push(new R(Q[ge][0],Q[ge][1]));this.geometry.push(se)}return this.geometry},H.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var he=this.geometry,X=1/0,Q=-1/0,se=1/0,ge=-1/0,be=0;be<he.length;be++)for(var Re=he[be],Ce=0;Ce<Re.length;Ce++){var we=Re[Ce];X=Math.min(X,we.x),Q=Math.max(Q,we.x),se=Math.min(se,we.y),ge=Math.max(ge,we.y)}return[X,se,Q,ge]},H.prototype.toGeoJSON=z.prototype.toGeoJSON;var re=a.pbf,te=L;function ae(he){var X=new re;return function(Q,se){for(var ge in Q.layers)se.writeMessage(3,de,Q.layers[ge])}(he,X),X.finish()}function de(he,X){var Q;X.writeVarintField(15,he.version||1),X.writeStringField(1,he.name||""),X.writeVarintField(5,he.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(Q=0;Q<he.length;Q++)se.feature=he.feature(Q),X.writeMessage(2,pe,se);var ge=se.keys;for(Q=0;Q<ge.length;Q++)X.writeStringField(3,ge[Q]);var be=se.values;for(Q=0;Q<be.length;Q++)X.writeMessage(4,Ee,be[Q])}function pe(he,X){var Q=he.feature;Q.id!==void 0&&X.writeVarintField(1,Q.id),X.writeMessage(2,Se,he),X.writeVarintField(3,Q.type),X.writeMessage(4,Ae,Q)}function Se(he,X){var Q=he.feature,se=he.keys,ge=he.values,be=he.keycache,Re=he.valuecache;for(var Ce in Q.properties){var we=Q.properties[Ce],ze=be[Ce];if(we!==null){ze===void 0&&(se.push(Ce),be[Ce]=ze=se.length-1),X.writeVarint(ze);var Je=typeof we;Je!=="string"&&Je!=="boolean"&&Je!=="number"&&(we=JSON.stringify(we));var Qe=Je+":"+we,it=Re[Qe];it===void 0&&(ge.push(we),Re[Qe]=it=ge.length-1),X.writeVarint(it)}}}function _e(he,X){return(X<<3)+(7&he)}function Me(he){return he<<1^he>>31}function Ae(he,X){for(var Q=he.loadGeometry(),se=he.type,ge=0,be=0,Re=Q.length,Ce=0;Ce<Re;Ce++){var we=Q[Ce],ze=1;se===1&&(ze=we.length),X.writeVarint(_e(1,ze));for(var Je=se===3?we.length-1:we.length,Qe=0;Qe<Je;Qe++){Qe===1&&se!==1&&X.writeVarint(_e(2,Je-1));var it=we[Qe].x-ge,Vt=we[Qe].y-be;X.writeVarint(Me(it)),X.writeVarint(Me(Vt)),ge+=it,be+=Vt}se===3&&X.writeVarint(_e(7,1))}}function Ee(he,X){var Q=typeof he;Q==="string"?X.writeStringField(1,he):Q==="boolean"?X.writeBooleanField(7,he):Q==="number"&&(he%1!=0?X.writeDoubleField(3,he):he<0?X.writeSVarintField(6,he):X.writeVarintField(5,he))}C.exports=ae,C.exports.fromVectorTileJs=ae,C.exports.fromGeojsonVt=function(he,X){X=X||{};var Q={};for(var se in he)Q[se]=new te(he[se].features,X),Q[se].name=se,Q[se].version=X.version,Q[se].extent=X.extent;return ae({layers:Q})},C.exports.GeoJSONWrapper=te;var Ie=a.getDefaultExportFromCjs(C.exports);const He={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:he=>he},tt=Math.fround||(Te=new Float32Array(1),he=>(Te[0]=+he,Te[0]));var Te;const Ne=3,De=5,Ye=6;class je{constructor(X){this.options=Object.assign(Object.create(He),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:Q,minZoom:se,maxZoom:ge}=this.options;Q&&console.time("total time");const be=`prepare ${X.length} points`;Q&&console.time(be),this.points=X;const Re=[];for(let we=0;we<X.length;we++){const ze=X[we];if(!ze.geometry)continue;const[Je,Qe]=ze.geometry.coordinates,it=tt(Ue(Je)),Vt=tt(Xe(Qe));Re.push(it,Vt,1/0,we,-1,1),this.options.reduce&&Re.push(0)}let Ce=this.trees[ge+1]=this._createTree(Re);Q&&console.timeEnd(be);for(let we=ge;we>=se;we--){const ze=+Date.now();Ce=this.trees[we]=this._createTree(this._cluster(Ce,we)),Q&&console.log("z%d: %d clusters in %dms",we,Ce.numItems,+Date.now()-ze)}return Q&&console.timeEnd("total time"),this}getClusters(X,Q){let se=((X[0]+180)%360+360)%360-180;const ge=Math.max(-90,Math.min(90,X[1]));let be=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)se=-180,be=180;else if(se>be){const Qe=this.getClusters([se,ge,180,Re],Q),it=this.getClusters([-180,ge,be,Re],Q);return Qe.concat(it)}const Ce=this.trees[this._limitZoom(Q)],we=Ce.range(Ue(se),Xe(Re),Ue(be),Xe(ge)),ze=Ce.data,Je=[];for(const Qe of we){const it=this.stride*Qe;Je.push(ze[it+De]>1?st(ze,it,this.clusterProps):this.points[ze[it+Ne]])}return Je}getChildren(X){const Q=this._getOriginId(X),se=this._getOriginZoom(X),ge="No cluster with the specified id.",be=this.trees[se];if(!be)throw new Error(ge);const Re=be.data;if(Q*this.stride>=Re.length)throw new Error(ge);const Ce=this.options.radius/(this.options.extent*Math.pow(2,se-1)),we=be.within(Re[Q*this.stride],Re[Q*this.stride+1],Ce),ze=[];for(const Je of we){const Qe=Je*this.stride;Re[Qe+4]===X&&ze.push(Re[Qe+De]>1?st(Re,Qe,this.clusterProps):this.points[Re[Qe+Ne]])}if(ze.length===0)throw new Error(ge);return ze}getLeaves(X,Q,se){const ge=[];return this._appendLeaves(ge,X,Q=Q||10,se=se||0,0),ge}getTile(X,Q,se){const ge=this.trees[this._limitZoom(X)],be=Math.pow(2,X),{extent:Re,radius:Ce}=this.options,we=Ce/Re,ze=(se-we)/be,Je=(se+1+we)/be,Qe={features:[]};return this._addTileFeatures(ge.range((Q-we)/be,ze,(Q+1+we)/be,Je),ge.data,Q,se,be,Qe),Q===0&&this._addTileFeatures(ge.range(1-we/be,ze,1,Je),ge.data,be,se,be,Qe),Q===be-1&&this._addTileFeatures(ge.range(0,ze,we/be,Je),ge.data,-1,se,be,Qe),Qe.features.length?Qe:null}getClusterExpansionZoom(X){let Q=this._getOriginZoom(X)-1;for(;Q<=this.options.maxZoom;){const se=this.getChildren(X);if(Q++,se.length!==1)break;X=se[0].properties.cluster_id}return Q}_appendLeaves(X,Q,se,ge,be){const Re=this.getChildren(Q);for(const Ce of Re){const we=Ce.properties;if(we&&we.cluster?be+we.point_count<=ge?be+=we.point_count:be=this._appendLeaves(X,we.cluster_id,se,ge,be):be<ge?be++:X.push(Ce),X.length===se)break}return be}_createTree(X){const Q=new a.KDBush(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<X.length;se+=this.stride)Q.add(X[se],X[se+1]);return Q.finish(),Q.data=X,Q}_addTileFeatures(X,Q,se,ge,be,Re){for(const Ce of X){const we=Ce*this.stride,ze=Q[we+De]>1;let Je,Qe,it;if(ze)Je=nt(Q,we,this.clusterProps),Qe=Q[we],it=Q[we+1];else{const Lt=this.points[Q[we+Ne]];Je=Lt.properties;const[Wt,rr]=Lt.geometry.coordinates;Qe=Ue(Wt),it=Xe(rr)}const Vt={type:1,geometry:[[Math.round(this.options.extent*(Qe*be-se)),Math.round(this.options.extent*(it*be-ge))]],tags:Je};let nr;nr=ze||this.options.generateId?Q[we+Ne]:this.points[Q[we+Ne]].id,nr!==void 0&&(Vt.id=nr),Re.features.push(Vt)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,Q){const{radius:se,extent:ge,reduce:be,minPoints:Re}=this.options,Ce=se/(ge*Math.pow(2,Q)),we=X.data,ze=[],Je=this.stride;for(let Qe=0;Qe<we.length;Qe+=Je){if(we[Qe+2]<=Q)continue;we[Qe+2]=Q;const it=we[Qe],Vt=we[Qe+1],nr=X.within(we[Qe],we[Qe+1],Ce),Lt=we[Qe+De];let Wt=Lt;for(const rr of nr){const Pr=rr*Je;we[Pr+2]>Q&&(Wt+=we[Pr+De])}if(Wt>Lt&&Wt>=Re){let rr,Pr=it*Lt,Br=Vt*Lt,gr=-1;const Ar=((Qe/Je|0)<<5)+(Q+1)+this.points.length;for(const Bi of nr){const mt=Bi*Je;if(we[mt+2]<=Q)continue;we[mt+2]=Q;const $r=we[mt+De];Pr+=we[mt]*$r,Br+=we[mt+1]*$r,we[mt+4]=Ar,be&&(rr||(rr=this._map(we,Qe,!0),gr=this.clusterProps.length,this.clusterProps.push(rr)),be(rr,this._map(we,mt)))}we[Qe+4]=Ar,ze.push(Pr/Wt,Br/Wt,1/0,Ar,-1,Wt),be&&ze.push(gr)}else{for(let rr=0;rr<Je;rr++)ze.push(we[Qe+rr]);if(Wt>1)for(const rr of nr){const Pr=rr*Je;if(!(we[Pr+2]<=Q)){we[Pr+2]=Q;for(let Br=0;Br<Je;Br++)ze.push(we[Pr+Br])}}}}return ze}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,Q,se){if(X[Q+De]>1){const Re=this.clusterProps[X[Q+Ye]];return se?Object.assign({},Re):Re}const ge=this.points[X[Q+Ne]].properties,be=this.options.map(ge);return se&&be===ge?Object.assign({},be):be}}function st(he,X,Q){return{type:"Feature",id:he[X+Ne],properties:nt(he,X,Q),geometry:{type:"Point",coordinates:[(se=he[X],360*(se-.5)),ct(he[X+1])]}};var se}function nt(he,X,Q){const se=he[X+De],ge=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,be=he[X+Ye],Re=be===-1?{}:Object.assign({},Q[be]);return Object.assign(Re,{cluster:!0,cluster_id:he[X+Ne],point_count:se,point_count_abbreviated:ge})}function Ue(he){return he/360+.5}function Xe(he){const X=Math.sin(he*Math.PI/180),Q=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return Q<0?0:Q>1?1:Q}function ct(he){const X=(180-360*he)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function Be(he,X,Q,se){for(var ge,be=se,Re=Q-X>>1,Ce=Q-X,we=he[X],ze=he[X+1],Je=he[Q],Qe=he[Q+1],it=X+3;it<Q;it+=3){var Vt=Pe(he[it],he[it+1],we,ze,Je,Qe);if(Vt>be)ge=it,be=Vt;else if(Vt===be){var nr=Math.abs(it-Re);nr<Ce&&(ge=it,Ce=nr)}}be>se&&(ge-X>3&&Be(he,X,ge,se),he[ge+2]=be,Q-ge>3&&Be(he,ge,Q,se))}function Pe(he,X,Q,se,ge,be){var Re=ge-Q,Ce=be-se;if(Re!==0||Ce!==0){var we=((he-Q)*Re+(X-se)*Ce)/(Re*Re+Ce*Ce);we>1?(Q=ge,se=be):we>0&&(Q+=Re*we,se+=Ce*we)}return(Re=he-Q)*Re+(Ce=X-se)*Ce}function St(he,X,Q,se){var ge={id:he===void 0?null:he,type:X,geometry:Q,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var Re=be.geometry,Ce=be.type;if(Ce==="Point"||Ce==="MultiPoint"||Ce==="LineString")Zt(be,Re);else if(Ce==="Polygon"||Ce==="MultiLineString")for(var we=0;we<Re.length;we++)Zt(be,Re[we]);else if(Ce==="MultiPolygon")for(we=0;we<Re.length;we++)for(var ze=0;ze<Re[we].length;ze++)Zt(be,Re[we][ze])}(ge),ge}function Zt(he,X){for(var Q=0;Q<X.length;Q+=3)he.minX=Math.min(he.minX,X[Q]),he.minY=Math.min(he.minY,X[Q+1]),he.maxX=Math.max(he.maxX,X[Q]),he.maxY=Math.max(he.maxY,X[Q+1])}function Ot(he,X,Q,se){if(X.geometry){var ge=X.geometry.coordinates,be=X.geometry.type,Re=Math.pow(Q.tolerance/((1<<Q.maxZoom)*Q.extent),2),Ce=[],we=X.id;if(Q.promoteId?we=X.properties[Q.promoteId]:Q.generateId&&(we=se||0),be==="Point")Nt(ge,Ce);else if(be==="MultiPoint")for(var ze=0;ze<ge.length;ze++)Nt(ge[ze],Ce);else if(be==="LineString")Mr(ge,Ce,Re,!1);else if(be==="MultiLineString"){if(Q.lineMetrics){for(ze=0;ze<ge.length;ze++)Mr(ge[ze],Ce=[],Re,!1),he.push(St(we,"LineString",Ce,X.properties));return}Vr(ge,Ce,Re,!1)}else if(be==="Polygon")Vr(ge,Ce,Re,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for(ze=0;ze<X.geometry.geometries.length;ze++)Ot(he,{id:we,geometry:X.geometry.geometries[ze],properties:X.properties},Q,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ze=0;ze<ge.length;ze++){var Je=[];Vr(ge[ze],Je,Re,!0),Ce.push(Je)}}he.push(St(we,be,Ce,X.properties))}}function Nt(he,X){X.push(pr(he[0])),X.push(Sr(he[1])),X.push(0)}function Mr(he,X,Q,se){for(var ge,be,Re=0,Ce=0;Ce<he.length;Ce++){var we=pr(he[Ce][0]),ze=Sr(he[Ce][1]);X.push(we),X.push(ze),X.push(0),Ce>0&&(Re+=se?(ge*ze-we*be)/2:Math.sqrt(Math.pow(we-ge,2)+Math.pow(ze-be,2))),ge=we,be=ze}var Je=X.length-3;X[2]=1,Be(X,0,Je,Q),X[Je+2]=1,X.size=Math.abs(Re),X.start=0,X.end=X.size}function Vr(he,X,Q,se){for(var ge=0;ge<he.length;ge++){var be=[];Mr(he[ge],be,Q,se),X.push(be)}}function pr(he){return he/360+.5}function Sr(he){var X=Math.sin(he*Math.PI/180),Q=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return Q<0?0:Q>1?1:Q}function cr(he,X,Q,se,ge,be,Re,Ce){if(se/=X,be>=(Q/=X)&&Re<se)return he;if(Re<Q||be>=se)return null;for(var we=[],ze=0;ze<he.length;ze++){var Je=he[ze],Qe=Je.geometry,it=Je.type,Vt=ge===0?Je.minX:Je.minY,nr=ge===0?Je.maxX:Je.maxY;if(Vt>=Q&&nr<se)we.push(Je);else if(!(nr<Q||Vt>=se)){var Lt=[];if(it==="Point"||it==="MultiPoint")Er(Qe,Lt,Q,se,ge);else if(it==="LineString")an(Qe,Lt,Q,se,ge,!1,Ce.lineMetrics);else if(it==="MultiLineString")Or(Qe,Lt,Q,se,ge,!1);else if(it==="Polygon")Or(Qe,Lt,Q,se,ge,!0);else if(it==="MultiPolygon")for(var Wt=0;Wt<Qe.length;Wt++){var rr=[];Or(Qe[Wt],rr,Q,se,ge,!0),rr.length&&Lt.push(rr)}if(Lt.length){if(Ce.lineMetrics&&it==="LineString"){for(Wt=0;Wt<Lt.length;Wt++)we.push(St(Je.id,it,Lt[Wt],Je.tags));continue}it!=="LineString"&&it!=="MultiLineString"||(Lt.length===1?(it="LineString",Lt=Lt[0]):it="MultiLineString"),it!=="Point"&&it!=="MultiPoint"||(it=Lt.length===3?"Point":"MultiPoint"),we.push(St(Je.id,it,Lt,Je.tags))}}}return we.length?we:null}function Er(he,X,Q,se,ge){for(var be=0;be<he.length;be+=3){var Re=he[be+ge];Re>=Q&&Re<=se&&(X.push(he[be]),X.push(he[be+1]),X.push(he[be+2]))}}function an(he,X,Q,se,ge,be,Re){for(var Ce,we,ze=ut(he),Je=ge===0?mr:Jt,Qe=he.start,it=0;it<he.length-3;it+=3){var Vt=he[it],nr=he[it+1],Lt=he[it+2],Wt=he[it+3],rr=he[it+4],Pr=ge===0?Vt:nr,Br=ge===0?Wt:rr,gr=!1;Re&&(Ce=Math.sqrt(Math.pow(Vt-Wt,2)+Math.pow(nr-rr,2))),Pr<Q?Br>Q&&(we=Je(ze,Vt,nr,Wt,rr,Q),Re&&(ze.start=Qe+Ce*we)):Pr>se?Br<se&&(we=Je(ze,Vt,nr,Wt,rr,se),Re&&(ze.start=Qe+Ce*we)):Xr(ze,Vt,nr,Lt),Br<Q&&Pr>=Q&&(we=Je(ze,Vt,nr,Wt,rr,Q),gr=!0),Br>se&&Pr<=se&&(we=Je(ze,Vt,nr,Wt,rr,se),gr=!0),!be&&gr&&(Re&&(ze.end=Qe+Ce*we),X.push(ze),ze=ut(he)),Re&&(Qe+=Ce)}var Ar=he.length-3;Vt=he[Ar],nr=he[Ar+1],Lt=he[Ar+2],(Pr=ge===0?Vt:nr)>=Q&&Pr<=se&&Xr(ze,Vt,nr,Lt),Ar=ze.length-3,be&&Ar>=3&&(ze[Ar]!==ze[0]||ze[Ar+1]!==ze[1])&&Xr(ze,ze[0],ze[1],ze[2]),ze.length&&X.push(ze)}function ut(he){var X=[];return X.size=he.size,X.start=he.start,X.end=he.end,X}function Or(he,X,Q,se,ge,be){for(var Re=0;Re<he.length;Re++)an(he[Re],X,Q,se,ge,be,!1)}function Xr(he,X,Q,se){he.push(X),he.push(Q),he.push(se)}function mr(he,X,Q,se,ge,be){var Re=(be-X)/(se-X);return he.push(be),he.push(Q+(ge-Q)*Re),he.push(1),Re}function Jt(he,X,Q,se,ge,be){var Re=(be-Q)/(ge-Q);return he.push(X+(se-X)*Re),he.push(be),he.push(1),Re}function Ke(he,X){for(var Q=[],se=0;se<he.length;se++){var ge,be=he[se],Re=be.type;if(Re==="Point"||Re==="MultiPoint"||Re==="LineString")ge=At(be.geometry,X);else if(Re==="MultiLineString"||Re==="Polygon"){ge=[];for(var Ce=0;Ce<be.geometry.length;Ce++)ge.push(At(be.geometry[Ce],X))}else if(Re==="MultiPolygon")for(ge=[],Ce=0;Ce<be.geometry.length;Ce++){for(var we=[],ze=0;ze<be.geometry[Ce].length;ze++)we.push(At(be.geometry[Ce][ze],X));ge.push(we)}Q.push(St(be.id,Re,ge,be.tags))}return Q}function At(he,X){var Q=[];Q.size=he.size,he.start!==void 0&&(Q.start=he.start,Q.end=he.end);for(var se=0;se<he.length;se+=3)Q.push(he[se]+X,he[se+1],he[se+2]);return Q}function $t(he,X){if(he.transformed)return he;var Q,se,ge,be=1<<he.z,Re=he.x,Ce=he.y;for(Q=0;Q<he.features.length;Q++){var we=he.features[Q],ze=we.geometry,Je=we.type;if(we.geometry=[],Je===1)for(se=0;se<ze.length;se+=2)we.geometry.push(Jr(ze[se],ze[se+1],X,be,Re,Ce));else for(se=0;se<ze.length;se++){var Qe=[];for(ge=0;ge<ze[se].length;ge+=2)Qe.push(Jr(ze[se][ge],ze[se][ge+1],X,be,Re,Ce));we.geometry.push(Qe)}}return he.transformed=!0,he}function Jr(he,X,Q,se,ge,be){return[Math.round(Q*(he*se-ge)),Math.round(Q*(X*se-be))]}function eo(he,X,Q,se,ge){for(var be=X===ge.maxZoom?0:ge.tolerance/((1<<X)*ge.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Q,y:se,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ce=0;Ce<he.length;Ce++){Re.numFeatures++,Xt(Re,he[Ce],be,ge);var we=he[Ce].minX,ze=he[Ce].minY,Je=he[Ce].maxX,Qe=he[Ce].maxY;we<Re.minX&&(Re.minX=we),ze<Re.minY&&(Re.minY=ze),Je>Re.maxX&&(Re.maxX=Je),Qe>Re.maxY&&(Re.maxY=Qe)}return Re}function Xt(he,X,Q,se){var ge=X.geometry,be=X.type,Re=[];if(be==="Point"||be==="MultiPoint")for(var Ce=0;Ce<ge.length;Ce+=3)Re.push(ge[Ce]),Re.push(ge[Ce+1]),he.numPoints++,he.numSimplified++;else if(be==="LineString")po(Re,ge,he,Q,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(Ce=0;Ce<ge.length;Ce++)po(Re,ge[Ce],he,Q,be==="Polygon",Ce===0);else if(be==="MultiPolygon")for(var we=0;we<ge.length;we++){var ze=ge[we];for(Ce=0;Ce<ze.length;Ce++)po(Re,ze[Ce],he,Q,!0,Ce===0)}if(Re.length){var Je=X.tags||null;if(be==="LineString"&&se.lineMetrics){for(var Qe in Je={},X.tags)Je[Qe]=X.tags[Qe];Je.mapbox_clip_start=ge.start/ge.size,Je.mapbox_clip_end=ge.end/ge.size}var it={geometry:Re,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:Je};X.id!==null&&(it.id=X.id),he.features.push(it)}}function po(he,X,Q,se,ge,be){var Re=se*se;if(se>0&&X.size<(ge?Re:se))Q.numPoints+=X.length/3;else{for(var Ce=[],we=0;we<X.length;we+=3)(se===0||X[we+2]>Re)&&(Q.numSimplified++,Ce.push(X[we]),Ce.push(X[we+1])),Q.numPoints++;ge&&function(ze,Je){for(var Qe=0,it=0,Vt=ze.length,nr=Vt-2;it<Vt;nr=it,it+=2)Qe+=(ze[it]-ze[nr])*(ze[it+1]+ze[nr+1]);if(Qe>0===Je)for(it=0,Vt=ze.length;it<Vt/2;it+=2){var Lt=ze[it],Wt=ze[it+1];ze[it]=ze[Vt-2-it],ze[it+1]=ze[Vt-1-it],ze[Vt-2-it]=Lt,ze[Vt-1-it]=Wt}}(Ce,be),he.push(Ce)}}function No(he,X){var Q=(X=this.options=function(ge,be){for(var Re in be)ge[Re]=be[Re];return ge}(Object.create(this.options),X)).debug;if(Q&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(ge,be){var Re=[];if(ge.type==="FeatureCollection")for(var Ce=0;Ce<ge.features.length;Ce++)Ot(Re,ge.features[Ce],be,Ce);else Ot(Re,ge.type==="Feature"?ge:{geometry:ge},be);return Re}(he,X);this.tiles={},this.tileCoords=[],Q&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(ge,be){var Re=be.buffer/be.extent,Ce=ge,we=cr(ge,1,-1-Re,Re,0,-1,2,be),ze=cr(ge,1,1-Re,2+Re,0,-1,2,be);return(we||ze)&&(Ce=cr(ge,1,-Re,1+Re,0,-1,2,be)||[],we&&(Ce=Ke(we,1).concat(Ce)),ze&&(Ce=Ce.concat(Ke(ze,-1)))),Ce}(se,X),se.length&&this.splitTile(se,0,0,0),Q&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ta(he,X,Q){return 32*((1<<he)*Q+X)+he}function mo(he,X){return X?he.properties[X]:he.id}function ts(he,X){if(he==null)return!0;if(he.type==="Feature")return mo(he,X)!=null;if(he.type==="FeatureCollection"){const Q=new Set;for(const se of he.features){const ge=mo(se,X);if(ge==null||Q.has(ge))return!1;Q.add(ge)}return!0}return!1}function mi(he,X){const Q=new Map;if(he!=null)if(he.type==="Feature")Q.set(mo(he,X),he);else for(const se of he.features)Q.set(mo(se,X),se);return Q}function Wr(he,X){const Q=he.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const se=this._geoJSONIndex.getTile(Q.z,Q.x,Q.y);if(!se)return X(null,null);const ge=new class{constructor(Re){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Re.length,this._features=Re}feature(Re){return new class{constructor(Ce){this._feature=Ce,this.extent=a.EXTENT,this.type=Ce.type,this.properties=Ce.tags,"id"in Ce&&!isNaN(Ce.id)&&(this.id=parseInt(Ce.id,10))}loadGeometry(){if(this._feature.type===1){const Ce=[];for(const we of this._feature.geometry)Ce.push([new a.Point(we[0],we[1])]);return Ce}{const Ce=[];for(const we of this._feature.geometry){const ze=[];for(const Je of we)ze.push(new a.Point(Je[0],Je[1]));Ce.push(ze)}return Ce}}toGeoJSON(Ce,we,ze){return I.call(this,Ce,we,ze)}}(this._features[Re])}}(se.features);let be=Ie(ge);be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),X(null,{vectorTile:ge,rawData:be.buffer})}No.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},No.prototype.splitTile=function(he,X,Q,se,ge,be,Re){for(var Ce=[he,X,Q,se],we=this.options,ze=we.debug;Ce.length;){se=Ce.pop(),Q=Ce.pop(),X=Ce.pop(),he=Ce.pop();var Je=1<<X,Qe=Ta(X,Q,se),it=this.tiles[Qe];if(!it&&(ze>1&&console.time("creation"),it=this.tiles[Qe]=eo(he,X,Q,se,we),this.tileCoords.push({z:X,x:Q,y:se}),ze)){ze>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,Q,se,it.numFeatures,it.numPoints,it.numSimplified),console.timeEnd("creation"));var Vt="z"+X;this.stats[Vt]=(this.stats[Vt]||0)+1,this.total++}if(it.source=he,ge){if(X===we.maxZoom||X===ge)continue;var nr=1<<ge-X;if(Q!==Math.floor(be/nr)||se!==Math.floor(Re/nr))continue}else if(X===we.indexMaxZoom||it.numPoints<=we.indexMaxPoints)continue;if(it.source=null,he.length!==0){ze>1&&console.time("clipping");var Lt,Wt,rr,Pr,Br,gr,Ar=.5*we.buffer/we.extent,Bi=.5-Ar,mt=.5+Ar,$r=1+Ar;Lt=Wt=rr=Pr=null,Br=cr(he,Je,Q-Ar,Q+mt,0,it.minX,it.maxX,we),gr=cr(he,Je,Q+Bi,Q+$r,0,it.minX,it.maxX,we),he=null,Br&&(Lt=cr(Br,Je,se-Ar,se+mt,1,it.minY,it.maxY,we),Wt=cr(Br,Je,se+Bi,se+$r,1,it.minY,it.maxY,we),Br=null),gr&&(rr=cr(gr,Je,se-Ar,se+mt,1,it.minY,it.maxY,we),Pr=cr(gr,Je,se+Bi,se+$r,1,it.minY,it.maxY,we),gr=null),ze>1&&console.timeEnd("clipping"),Ce.push(Lt||[],X+1,2*Q,2*se),Ce.push(Wt||[],X+1,2*Q,2*se+1),Ce.push(rr||[],X+1,2*Q+1,2*se),Ce.push(Pr||[],X+1,2*Q+1,2*se+1)}}},No.prototype.getTile=function(he,X,Q){var se=this.options,ge=se.extent,be=se.debug;if(he<0||he>24)return null;var Re=1<<he,Ce=Ta(he,X=(X%Re+Re)%Re,Q);if(this.tiles[Ce])return $t(this.tiles[Ce],ge);be>1&&console.log("drilling down to z%d-%d-%d",he,X,Q);for(var we,ze=he,Je=X,Qe=Q;!we&&ze>0;)ze--,Je=Math.floor(Je/2),Qe=Math.floor(Qe/2),we=this.tiles[Ta(ze,Je,Qe)];return we&&we.source?(be>1&&console.log("found parent tile z%d-%d-%d",ze,Je,Qe),be>1&&console.time("drilling down"),this.splitTile(we.source,ze,Je,Qe,he,X,Q),be>1&&console.timeEnd("drilling down"),this.tiles[Ce]?$t(this.tiles[Ce],ge):null):null};class _l extends M{constructor(X,Q,se,ge){super(X,Q,se,Wr),this._dataUpdateable=new Map,this.loadGeoJSON=(be,Re)=>{const{promoteId:Ce}=be;if(be.request)return a.getJSON(be.request,(we,ze,Je,Qe)=>{this._dataUpdateable=ts(ze,Ce)?mi(ze,Ce):void 0,Re(we,ze,Je,Qe)});if(typeof be.data=="string")try{const we=JSON.parse(be.data);this._dataUpdateable=ts(we,Ce)?mi(we,Ce):void 0,Re(null,we)}catch{Re(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}else be.dataDiff?this._dataUpdateable?(function(we,ze,Je){var Qe,it,Vt,nr;if(ze.removeAll&&we.clear(),ze.remove)for(const Lt of ze.remove)we.delete(Lt);if(ze.add)for(const Lt of ze.add){const Wt=mo(Lt,Je);Wt!=null&&we.set(Wt,Lt)}if(ze.update)for(const Lt of ze.update){let Wt=we.get(Lt.id);if(Wt==null)continue;const rr=!Lt.removeAllProperties&&(((Qe=Lt.removeProperties)===null||Qe===void 0?void 0:Qe.length)>0||((it=Lt.addOrUpdateProperties)===null||it===void 0?void 0:it.length)>0);if((Lt.newGeometry||Lt.removeAllProperties||rr)&&(Wt={...Wt},we.set(Lt.id,Wt),rr&&(Wt.properties={...Wt.properties})),Lt.newGeometry&&(Wt.geometry=Lt.newGeometry),Lt.removeAllProperties)Wt.properties={};else if(((Vt=Lt.removeProperties)===null||Vt===void 0?void 0:Vt.length)>0)for(const Pr of Lt.removeProperties)Object.prototype.hasOwnProperty.call(Wt.properties,Pr)&&delete Wt.properties[Pr];if(((nr=Lt.addOrUpdateProperties)===null||nr===void 0?void 0:nr.length)>0)for(const{key:Pr,value:Br}of Lt.addOrUpdateProperties)Wt.properties[Pr]=Br}}(this._dataUpdateable,be.dataDiff,Ce),Re(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Re(new Error(`Cannot update existing geojson data in ${be.source}`)):Re(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},ge&&(this.loadGeoJSON=ge)}loadData(X,Q){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ge=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request);this._pendingCallback=Q,this._pendingRequest=this.loadGeoJSON(X,(be,Re)=>{if(delete this._pendingCallback,delete this._pendingRequest,be||!Re)return Q(be);if(typeof Re!="object")return Q(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{O(Re,!0);try{if(X.filter){const we=a.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(we.result==="error")throw new Error(we.value.map(Je=>`${Je.key}: ${Je.message}`).join(", "));Re={type:"FeatureCollection",features:Re.features.filter(Je=>we.value.evaluate({zoom:0},Je))}}this._geoJSONIndex=X.cluster?new je(function({superclusterOptions:we,clusterProperties:ze}){if(!ze||!we)return we;const Je={},Qe={},it={accumulated:null,zoom:0},Vt={properties:null},nr=Object.keys(ze);for(const Lt of nr){const[Wt,rr]=ze[Lt],Pr=a.createExpression(rr),Br=a.createExpression(typeof Wt=="string"?[Wt,["accumulated"],["get",Lt]]:Wt);Je[Lt]=Pr.value,Qe[Lt]=Br.value}return we.map=Lt=>{Vt.properties=Lt;const Wt={};for(const rr of nr)Wt[rr]=Je[rr].evaluate(it,Vt);return Wt},we.reduce=(Lt,Wt)=>{Vt.properties=Wt;for(const rr of nr)it.accumulated=Lt[rr],Lt[rr]=Qe[rr].evaluate(it,Vt)},we}(X)).load(Re.features):function(we,ze){return new No(we,ze)}(Re,X.geojsonVtOptions)}catch(we){return Q(we)}this.loaded={};const Ce={};if(ge){const we=ge.finish();we&&(Ce.resourceTiming={},Ce.resourceTiming[X.source]=JSON.parse(JSON.stringify(we)))}Q(null,Ce)}})}reloadTile(X,Q){const se=this.loaded;return se&&se[X.uid]?super.reloadTile(X,Q):this.loadTile(X,Q)}removeSource(X,Q){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Q()}getClusterExpansionZoom(X,Q){try{Q(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(se){Q(se)}}getClusterChildren(X,Q){try{Q(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(se){Q(se)}}getClusterLeaves(X,Q){try{Q(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(se){Q(se)}}}class jo{constructor(X){this.self=X,this.actor=new a.Actor(X,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:M,geojson:_l},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Q,se)=>{if(this.workerSourceTypes[Q])throw new Error(`Worker source with name "${Q}" already registered.`);this.workerSourceTypes[Q]=se},this.self.registerRTLTextPlugin=Q=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Q.applyArabicShaping,a.plugin.processBidirectionalText=Q.processBidirectionalText,a.plugin.processStyledBidirectionalText=Q.processStyledBidirectionalText}}setReferrer(X,Q){this.referrer=Q}setImages(X,Q,se){this.availableImages[X]=Q;for(const ge in this.workerSources[X]){const be=this.workerSources[X][ge];for(const Re in be)be[Re].availableImages=Q}se()}setLayers(X,Q,se){this.getLayerIndex(X).replace(Q),se()}updateLayers(X,Q,se){this.getLayerIndex(X).update(Q.layers,Q.removedIds),se()}loadTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).loadTile(Q,se)}loadDEMTile(X,Q,se){this.getDEMWorkerSource(X,Q.source).loadTile(Q,se)}reloadTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).reloadTile(Q,se)}abortTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).abortTile(Q,se)}removeTile(X,Q,se){this.getWorkerSource(X,Q.type,Q.source).removeTile(Q,se)}removeDEMTile(X,Q){this.getDEMWorkerSource(X,Q.source).removeTile(Q)}removeSource(X,Q,se){if(!this.workerSources[X]||!this.workerSources[X][Q.type]||!this.workerSources[X][Q.type][Q.source])return;const ge=this.workerSources[X][Q.type][Q.source];delete this.workerSources[X][Q.type][Q.source],ge.removeSource!==void 0?ge.removeSource(Q,se):se()}loadWorkerSource(X,Q,se){try{this.self.importScripts(Q.url),se()}catch(ge){se(ge.toString())}}syncRTLPluginState(X,Q,se){try{a.plugin.setState(Q);const ge=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&ge!=null){this.self.importScripts(ge);const be=a.plugin.isParsed();se(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ge}`),be)}}catch(ge){se(ge.toString())}}getAvailableImages(X){let Q=this.availableImages[X];return Q||(Q=[]),Q}getLayerIndex(X){let Q=this.layerIndexes[X];return Q||(Q=this.layerIndexes[X]=new d),Q}getWorkerSource(X,Q,se){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][Q]||(this.workerSources[X][Q]={}),!this.workerSources[X][Q][se]){const ge={send:(be,Re,Ce)=>{this.actor.send(be,Re,Ce,X)}};this.workerSources[X][Q][se]=new this.workerSourceTypes[Q](ge,this.getLayerIndex(X),this.getAvailableImages(X))}return this.workerSources[X][Q][se]}getDEMWorkerSource(X,Q){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][Q]||(this.demWorkerSources[X][Q]=new P),this.demWorkerSources[X][Q]}}return a.isWorker()&&(self.worker=new jo(self)),jo}),o(["./shared"],function(a){var d="3.3.0";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,y){const x=window.document.createElement(c);return p!==void 0&&(x.className=p),y&&y.appendChild(x),x}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,y,x={}){c.addEventListener(p,y,"passive"in x?x:x.capture)}static removeEventListener(c,p,y,x={}){c.removeEventListener(p,y,"passive"in x?x:x.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const y=c.getBoundingClientRect();return new a.Point(p.clientX-y.left-c.clientLeft,p.clientY-y.top-c.clientTop)}static touchPos(c,p){const y=c.getBoundingClientRect(),x=[];for(let T=0;T<p.length;T++)x.push(new a.Point(p[T].clientX-y.left-c.clientLeft,p[T].clientY-y.top-c.clientTop));return x}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(S){!M&&b&&(P?w(S):v=S)}};let v,b,M=!1,P=!1;function w(S){const c=S.createTexture();S.bindTexture(S.TEXTURE_2D,c);try{if(S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,b),S.isContextLost())return;g.supported=!0}catch{}S.deleteTexture(c),M=!0}var A,O;typeof document<"u"&&(b=document.createElement("img"),b.onload=function(){v&&w(v),v=null,P=!0},b.onerror=function(){M=!0,v=null},b.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(S){let c,p,y,x;S.resetRequestQueue=()=>{c=[],p=0,y=0,x={}},S.addThrottleControl=q=>{const G=y++;return x[G]=q,G},S.removeThrottleControl=q=>{delete x[q],N()},S.getImage=(q,G,K=!0)=>{g.supported&&(q.headers||(q.headers={}),q.headers.accept="image/webp,*/*");const ee={requestParameters:q,supportImageRefresh:K,callback:G,cancelled:!1,completed:!1,cancel:()=>{ee.completed||ee.cancelled||(ee.cancelled=!0,ee.innerRequest&&(ee.innerRequest.cancel(),p--),N())}};return c.push(ee),N(),ee};const T=q=>{const{requestParameters:G,supportImageRefresh:K,callback:ee}=q;return a.extend(G,{type:"image"}),(K!==!1||a.isWorker()||a.getProtocolAction(G.url)||G.headers&&!Object.keys(G.headers).reduce((ue,ce)=>ue&&ce==="accept",!0)?a.makeRequest:B)(G,(ue,ce,me,le)=>{D(q,ee,ue,ce,me,le)})},D=(q,G,K,ee,ue,ce)=>{K?G(K):ee instanceof HTMLImageElement||a.isImageBitmap(ee)?G(null,ee):ee&&((me,le)=>{typeof createImageBitmap=="function"?a.arrayBufferToImageBitmap(me,le):a.arrayBufferToImage(me,le)})(ee,(me,le)=>{me!=null?G(me):le!=null&&G(null,le,{cacheControl:ue,expires:ce})}),q.cancelled||(q.completed=!0,p--,N())},N=()=>{const q=(()=>{const G=Object.keys(x);let K=!1;if(G.length>0){for(const ee of G)if(K=x[ee](),K)break}return K})()?a.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let G=p;G<q&&c.length>0;G++){const K=c.shift();if(K.cancelled){G--;continue}const ee=T(K);p++,K.innerRequest=ee}},B=(q,G)=>{const K=new Image,ee=q.url;let ue=!1;const ce=q.credentials;return ce&&ce==="include"?K.crossOrigin="use-credentials":(ce&&ce==="same-origin"||!a.sameOrigin(ee))&&(K.crossOrigin="anonymous"),K.fetchPriority="high",K.onload=()=>{G(null,K),K.onerror=K.onload=null},K.onerror=()=>{ue||G(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),K.onerror=K.onload=null},K.src=ee,{cancel:()=>{ue=!0,K.src=""}}}}(A||(A={})),A.resetRequestQueue(),function(S){S.Glyphs="Glyphs",S.Image="Image",S.Source="Source",S.SpriteImage="SpriteImage",S.SpriteJSON="SpriteJSON",S.Style="Style",S.Tile="Tile",S.Unknown="Unknown"}(O||(O={}));class I{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,y){const x=function(T){const D=T.match(C);if(!D)throw new Error(`Unable to parse URL "${T}"`);return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}(c);return x.path+=`${p}${y}`,function(T){const D=T.params.length?`?${T.params.join("&")}`:"";return`${T.protocol}://${T.authority}${T.path}${D}`}(x)}setTransformRequest(c){this._transformRequestFn=c}}const C=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function R(S){var c=new a.ARRAY_TYPE(3);return c[0]=S[0],c[1]=S[1],c[2]=S[2],c}var z,L=function(S,c,p){return S[0]=c[0]-p[0],S[1]=c[1]-p[1],S[2]=c[2]-p[2],S};z=new a.ARRAY_TYPE(3),a.ARRAY_TYPE!=Float32Array&&(z[0]=0,z[1]=0,z[2]=0);var F=function(S){var c=S[0],p=S[1];return c*c+p*p};function H(S){const c=[];if(typeof S=="string")c.push({id:"default",url:S});else if(S&&S.length>0){const p=[];for(const{id:y,url:x}of S){const T=`${y}${x}`;p.indexOf(T)===-1&&(p.push(T),c.push({id:y,url:x}))}}return c}function re(S,c,p,y,x){if(y)return void S(y);if(x!==Object.values(c).length||x!==Object.values(p).length)return;const T={};for(const D in c){T[D]={};const N=a.browser.getImageCanvasContext(p[D]),B=c[D];for(const q in B){const{width:G,height:K,x:ee,y:ue,sdf:ce,pixelRatio:me,stretchX:le,stretchY:Oe,content:Ve}=B[q];T[D][q]={data:null,pixelRatio:me,sdf:ce,stretchX:le,stretchY:Oe,content:Ve,spriteData:{width:G,height:K,x:ee,y:ue,context:N}}}}S(null,T)}(function(){var S=new a.ARRAY_TYPE(2);a.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0)})();class te{constructor(c,p,y,x){this.context=c,this.format=y,this.texture=c.gl.createTexture(),this.update(p,x)}update(c,p,y){const{width:x,height:T}=c,D=!(this.size&&this.size[0]===x&&this.size[1]===T||y),{context:N}=this,{gl:B}=N;if(this.useMipmap=!!(p&&p.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),N.pixelStoreUnpackFlipY.set(!1),N.pixelStoreUnpack.set(1),N.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!p||p.premultiply!==!1)),D)this.size=[x,T],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,c):B.texImage2D(B.TEXTURE_2D,0,this.format,x,T,0,this.format,B.UNSIGNED_BYTE,c.data);else{const{x:q,y:G}=y||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?B.texSubImage2D(B.TEXTURE_2D,0,q,G,B.RGBA,B.UNSIGNED_BYTE,c):B.texSubImage2D(B.TEXTURE_2D,0,q,G,x,T,B.RGBA,B.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)}bind(c,p,y){const{context:x}=this,{gl:T}=x;T.bindTexture(T.TEXTURE_2D,this.texture),y!==T.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(y=T.LINEAR),c!==this.filter&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,c),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,y||c),this.filter=c),p!==this.wrap&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,p),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ae(S){const{userImage:c}=S;return!!(c&&c.render&&c.render())&&(S.data.replace(new Uint8Array(c.data.buffer)),!0)}class de extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:y}of this.requestors)this._notify(p,y);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const y=p.spriteData;p.data=new a.RGBAImage({width:y.width,height:y.height},y.context.getImageData(y.x,y.y,y.width,y.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let y=!0;const x=p.data||p.spriteData;return this._validateStretch(p.stretchX,x&&x.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),y=!1),this._validateStretch(p.stretchY,x&&x.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),y=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),y=!1),y}_validateStretch(c,p){if(!c)return!0;let y=0;for(const x of c){if(x[0]<y||x[1]<x[0]||p<x[1])return!1;y=x[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const y=p.spriteData,x=y&&y.width||p.data.width,T=y&&y.height||p.data.height;return!(c[0]<0||x<c[0]||c[1]<0||T<c[1]||c[2]<0||x<c[2]||c[3]<0||T<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,y=!0){const x=this.getImage(c);if(y&&(x.data.width!==p.data.width||x.data.height!==p.data.height))throw new Error(`size mismatch between old image (${x.data.width}x${x.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=x.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let y=!0;if(!this.isLoaded())for(const x of c)this.images[x]||(y=!1);this.isLoaded()||y?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const y={};for(const x of c){let T=this.getImage(x);T||(this.fire(new a.Event("styleimagemissing",{id:x})),T=this.getImage(x)),T?y[x]={data:T.data.clone(),pixelRatio:T.pixelRatio,sdf:T.sdf,version:T.version,stretchX:T.stretchX,stretchY:T.stretchY,content:T.content,hasRenderCallback:!!(T.userImage&&T.userImage.render)}:a.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,y)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],y=this.getImage(c);if(!y)return null;if(p&&p.position.version===y.version)return p.position;if(p)p.position.version=y.version;else{const x={w:y.data.width+2,h:y.data.height+2,x:0,y:0},T=new a.ImagePosition(x,y);this.patterns[c]={bin:x,position:T}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new te(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const T in this.patterns)c.push(this.patterns[T].bin);const{w:p,h:y}=a.potpack(c),x=this.atlasImage;x.resize({width:p||1,height:y||1});for(const T in this.patterns){const{bin:D}=this.patterns[T],N=D.x+1,B=D.y+1,q=this.getImage(T).data,G=q.width,K=q.height;a.RGBAImage.copy(q,x,{x:0,y:0},{x:N,y:B},{width:G,height:K}),a.RGBAImage.copy(q,x,{x:0,y:K-1},{x:N,y:B-1},{width:G,height:1}),a.RGBAImage.copy(q,x,{x:0,y:0},{x:N,y:B+K},{width:G,height:1}),a.RGBAImage.copy(q,x,{x:G-1,y:0},{x:N-1,y:B},{width:1,height:K}),a.RGBAImage.copy(q,x,{x:0,y:0},{x:N+G,y:B},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const y=this.getImage(p);y||a.warnOnce(`Image with ID: "${p}" was not found`),ae(y)&&this.updateImage(p,y)}}}const pe=1e20;function Se(S,c,p,y,x,T,D,N,B){for(let q=c;q<c+y;q++)_e(S,p*T+q,T,x,D,N,B);for(let q=p;q<p+x;q++)_e(S,q*T+c,1,y,D,N,B)}function _e(S,c,p,y,x,T,D){T[0]=0,D[0]=-pe,D[1]=pe,x[0]=S[c];for(let N=1,B=0,q=0;N<y;N++){x[N]=S[c+N*p];const G=N*N;do{const K=T[B];q=(x[N]-x[K]+G-K*K)/(N-K)/2}while(q<=D[B]&&--B>-1);B++,T[B]=N,D[B]=q,D[B+1]=pe}for(let N=0,B=0;N<y;N++){for(;D[B+1]<N;)B++;const q=T[B],G=N-q;S[c+N*p]=x[q]+G*G}}class Me{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const y=[];for(const x in c)for(const T of c[x])y.push({stack:x,id:T});a.asyncAll(y,({stack:x,id:T},D)=>{let N=this.entries[x];N||(N=this.entries[x]={glyphs:{},requests:{},ranges:{}});let B=N.glyphs[T];if(B!==void 0)return void D(null,{stack:x,id:T,glyph:B});if(B=this._tinySDF(N,x,T),B)return N.glyphs[T]=B,void D(null,{stack:x,id:T,glyph:B});const q=Math.floor(T/256);if(256*q>65535)return void D(new Error("glyphs > 65535 not supported"));if(N.ranges[q])return void D(null,{stack:x,id:T,glyph:B});if(!this.url)return void D(new Error("glyphsUrl is not set"));let G=N.requests[q];G||(G=N.requests[q]=[],Me.loadGlyphRange(x,q,this.url,this.requestManager,(K,ee)=>{if(ee){for(const ue in ee)this._doesCharSupportLocalGlyph(+ue)||(N.glyphs[+ue]=ee[+ue]);N.ranges[q]=!0}for(const ue of G)ue(K,ee);delete N.requests[q]})),G.push((K,ee)=>{K?D(K):ee&&D(null,{stack:x,id:T,glyph:ee[T]||null})})},(x,T)=>{if(x)p(x);else if(T){const D={};for(const{stack:N,id:B,glyph:q}of T)(D[N]||(D[N]={}))[B]=q&&{id:q.id,bitmap:q.bitmap.clone(),metrics:q.metrics};p(null,D)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](c)||a.unicodeBlockLookup["Hangul Syllables"](c)||a.unicodeBlockLookup.Hiragana(c)||a.unicodeBlockLookup.Katakana(c))}_tinySDF(c,p,y){const x=this.localIdeographFontFamily;if(!x||!this._doesCharSupportLocalGlyph(y))return;let T=c.tinySDF;if(!T){let N="400";/bold/i.test(p)?N="900":/medium/i.test(p)?N="500":/light/i.test(p)&&(N="200"),T=c.tinySDF=new Me.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:x,fontWeight:N})}const D=T.draw(String.fromCharCode(y));return{id:y,bitmap:new a.AlphaImage({width:D.width||30,height:D.height||30},D.data),metrics:{width:D.glyphWidth||24,height:D.glyphHeight||24,left:D.glyphLeft||0,top:D.glyphTop-27||-8,advance:D.glyphAdvance||24}}}}Me.loadGlyphRange=function(S,c,p,y,x){const T=256*c,D=T+255,N=y.transformRequest(p.replace("{fontstack}",S).replace("{range}",`${T}-${D}`),O.Glyphs);a.getArrayBuffer(N,(B,q)=>{if(B)x(B);else if(q){const G={};for(const K of a.parseGlyphPbf(q))G[K.id]=K;x(null,G)}})},Me.TinySDF=class{constructor({fontSize:S=24,buffer:c=3,radius:p=8,cutoff:y=.25,fontFamily:x="sans-serif",fontWeight:T="normal",fontStyle:D="normal"}={}){this.buffer=c,this.cutoff=y,this.radius=p;const N=this.size=S+4*c,B=this._createCanvas(N),q=this.ctx=B.getContext("2d",{willReadFrequently:!0});q.font=`${D} ${T} ${S}px ${x}`,q.textBaseline="alphabetic",q.textAlign="left",q.fillStyle="black",this.gridOuter=new Float64Array(N*N),this.gridInner=new Float64Array(N*N),this.f=new Float64Array(N),this.z=new Float64Array(N+1),this.v=new Uint16Array(N)}_createCanvas(S){const c=document.createElement("canvas");return c.width=c.height=S,c}draw(S){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:y,actualBoundingBoxLeft:x,actualBoundingBoxRight:T}=this.ctx.measureText(S),D=Math.ceil(p),N=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(T-x))),B=Math.min(this.size-this.buffer,D+Math.ceil(y)),q=N+2*this.buffer,G=B+2*this.buffer,K=Math.max(q*G,0),ee=new Uint8ClampedArray(K),ue={data:ee,width:q,height:G,glyphWidth:N,glyphHeight:B,glyphTop:D,glyphLeft:0,glyphAdvance:c};if(N===0||B===0)return ue;const{ctx:ce,buffer:me,gridInner:le,gridOuter:Oe}=this;ce.clearRect(me,me,N,B),ce.fillText(S,me,me+D);const Ve=ce.getImageData(me,me,N,B);Oe.fill(pe,0,K),le.fill(0,0,K);for(let ve=0;ve<B;ve++)for(let $e=0;$e<N;$e++){const Ge=Ve.data[4*(ve*N+$e)+3]/255;if(Ge===0)continue;const Ze=(ve+me)*q+$e+me;if(Ge===1)Oe[Ze]=0,le[Ze]=pe;else{const et=.5-Ge;Oe[Ze]=et>0?et*et:0,le[Ze]=et<0?et*et:0}}Se(Oe,0,0,q,G,q,this.f,this.v,this.z),Se(le,me,me,N,B,q,this.f,this.v,this.z);for(let ve=0;ve<K;ve++){const $e=Math.sqrt(Oe[ve])-Math.sqrt(le[ve]);ee[ve]=Math.round(255-255*($e/this.radius+this.cutoff))}return ue}};class Ae{constructor(){this.specification=a.v8Spec.light.position}possiblyEvaluate(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))}interpolate(c,p,y){return{x:a.interpolate.number(c.x,p.x,y),y:a.interpolate.number(c.y,p.y,y),z:a.interpolate.number(c.z,p.z,y)}}}let Ee,Ie;class He extends a.Evented{constructor(c){super(),Ee=Ee||new a.Properties({anchor:new a.DataConstantProperty(a.v8Spec.light.anchor),position:new Ae,color:new a.DataConstantProperty(a.v8Spec.light.color),intensity:new a.DataConstantProperty(a.v8Spec.light.intensity)}),this._transitionable=new a.Transitionable(Ee),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.validateLight,c,p))for(const y in c){const x=c[y];y.endsWith("-transition")?this._transitionable.setTransition(y.slice(0,-11),x):this._transitionable.setValue(y,x)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,y){return(!y||y.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v8Spec})))}}class tt{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const y=c.join(",")+String(p);return this.dashEntry[y]||(this.dashEntry[y]=this.addDash(c,p)),this.dashEntry[y]}getDashRanges(c,p,y){const x=[];let T=c.length%2==1?-c[c.length-1]*y:0,D=c[0]*y,N=!0;x.push({left:T,right:D,isDash:N,zeroLength:c[0]===0});let B=c[0];for(let q=1;q<c.length;q++){N=!N;const G=c[q];T=B*y,B+=G,D=B*y,x.push({left:T,right:D,isDash:N,zeroLength:G===0})}return x}addRoundDash(c,p,y){const x=p/2;for(let T=-y;T<=y;T++){const D=this.width*(this.nextRow+y+T);let N=0,B=c[N];for(let q=0;q<this.width;q++){q/B.right>1&&(B=c[++N]);const G=Math.abs(q-B.left),K=Math.abs(q-B.right),ee=Math.min(G,K);let ue;const ce=T/y*(x+1);if(B.isDash){const me=x-Math.abs(ce);ue=Math.sqrt(ee*ee+me*me)}else ue=x-Math.sqrt(ee*ee+ce*ce);this.data[D+q]=Math.max(0,Math.min(255,ue+128))}}}addRegularDash(c){for(let N=c.length-1;N>=0;--N){const B=c[N],q=c[N+1];B.zeroLength?c.splice(N,1):q&&q.isDash===B.isDash&&(q.left=B.left,c.splice(N,1))}const p=c[0],y=c[c.length-1];p.isDash===y.isDash&&(p.left=y.left-this.width,y.right=p.right+this.width);const x=this.width*this.nextRow;let T=0,D=c[T];for(let N=0;N<this.width;N++){N/D.right>1&&(D=c[++T]);const B=Math.abs(N-D.left),q=Math.abs(N-D.right),G=Math.min(B,q);this.data[x+N]=Math.max(0,Math.min(255,(D.isDash?G:-G)+128))}}addDash(c,p){const y=p?7:0,x=2*y+1;if(this.nextRow+x>this.height)return a.warnOnce("LineAtlas out of space"),null;let T=0;for(let N=0;N<c.length;N++)T+=c[N];if(T!==0){const N=this.width/T,B=this.getDashRanges(c,this.width,N);p?this.addRoundDash(B,N,y):this.addRegularDash(B)}const D={y:(this.nextRow+y+.5)/this.height,height:2*y/this.height,width:T};return this.nextRow+=x,this.dirty=!0,D}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class Te{constructor(c,p,y){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=y;const x=this.workerPool.acquire(y);for(let T=0;T<x.length;T++){const D=new Te.Actor(x[T],p,y);D.name=`Worker ${T}`,this.actors.push(D)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,y){a.asyncAll(this.actors,(x,T)=>{x.send(c,p,T)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function Ne(S,c,p){const y=function(x,T){if(x)return p(x);if(T){const D=a.pick(a.extend(T,S),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);T.vector_layers&&(D.vectorLayers=T.vector_layers,D.vectorLayerIds=D.vectorLayers.map(N=>N.id)),p(null,D)}};return S.url?a.getJSON(c.transformRequest(S.url,O.Source),y):a.browser.frame(()=>y(null,S))}Te.Actor=a.Actor;class De{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}extend(c){const p=this._sw,y=this._ne;let x,T;if(c instanceof a.LngLat)x=c,T=c;else{if(!(c instanceof De))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(De.convert(c)):this.extend(a.LngLat.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.LngLat.convert(c)):this;if(x=c._sw,T=c._ne,!x||!T)return this}return p||y?(p.lng=Math.min(x.lng,p.lng),p.lat=Math.min(x.lat,p.lat),y.lng=Math.max(T.lng,y.lng),y.lat=Math.max(T.lat,y.lat)):(this._sw=new a.LngLat(x.lng,x.lat),this._ne=new a.LngLat(T.lng,T.lat)),this}getCenter(){return new a.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new a.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:y}=a.LngLat.convert(c);let x=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(x=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=y&&y<=this._ne.lat&&x}static convert(c){return c instanceof De?c:c&&new De(c)}static fromLngLat(c,p=0){const y=360*p/40075017,x=y/Math.cos(Math.PI/180*c.lat);return new De(new a.LngLat(c.lng-x,c.lat-y),new a.LngLat(c.lng+x,c.lat+y))}}class Ye{constructor(c,p,y){this.bounds=De.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=y||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),y=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),x=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),T=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),D=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=y&&c.x<T&&c.y>=x&&c.y<D}}class je extends a.Evented{constructor(c,p,y,x){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ne(this._options,this.map._requestManager,(T,D)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),T?this.fire(new a.ErrorEvent(T)):D&&(a.extend(this,D),D.bounds&&(this.tileBounds=new Ye(D.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.extend({},this._options),this.id=c,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),x={request:this.map._requestManager.transformRequest(y,O.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function T(D,N){return delete c.request,c.aborted?p(null):D&&D.status!==404?p(D):(N&&N.resourceTiming&&(c.resourceTiming=N.resourceTiming),this.map._refreshExpiredTiles&&N&&c.setExpiryData(N),c.loadVectorData(N,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}x.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",x,T.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",x,T.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class st extends a.Evented{constructor(c,p,y,x){super(),this.id=c,this.dispatcher=y,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ne(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.ErrorEvent(c)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new Ye(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=A.getImage(this.map._requestManager.transformRequest(y,O.Tile),(x,T,D)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(x)c.state="errored",p(x);else if(T){this.map._refreshExpiredTiles&&D&&c.setExpiryData(D);const N=this.map.painter.context,B=N.gl;c.texture=this.map.painter.getTileTexture(T.width),c.texture?c.texture.update(T,{useMipmap:!0}):(c.texture=new te(N,T,B.RGBA,{useMipmap:!0}),c.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),N.extTextureFilterAnisotropic&&B.texParameterf(B.TEXTURE_2D,N.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,N.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class nt extends st{constructor(c,p,y,x){super(c,p,y,x),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox"}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function x(T,D){T&&(c.state="errored",p(T)),D&&(c.dem=D,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.request=A.getImage(this.map._requestManager.transformRequest(y,O.Tile),(function(T,D){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(T)c.state="errored",p(T);else if(D){this.map._refreshExpiredTiles&&c.setExpiryData(D),delete D.cacheControl,delete D.expires;const N=a.isImageBitmap(D)&&(Ie==null&&(Ie=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Ie)?D:a.browser.getImageData(D,1),B={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:N,encoding:this.encoding};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",B,x.bind(this)))}}).bind(this),this.map._refreshExpiredTiles),c.neighboringTiles=this._getNeighboringTiles(c.tileID)}_getNeighboringTiles(c){const p=c.canonical,y=Math.pow(2,p.z),x=(p.x-1+y)%y,T=p.x===0?c.wrap-1:c.wrap,D=(p.x+1+y)%y,N=p.x+1===y?c.wrap+1:c.wrap,B={};return B[new a.OverscaledTileID(c.overscaledZ,T,p.z,x,p.y).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,N,p.z,D,p.y).key]={backfilled:!1},p.y>0&&(B[new a.OverscaledTileID(c.overscaledZ,T,p.z,x,p.y-1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,N,p.z,D,p.y-1).key]={backfilled:!1}),p.y+1<y&&(B[new a.OverscaledTileID(c.overscaledZ,T,p.z,x,p.y+1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},B[new a.OverscaledTileID(c.overscaledZ,N,p.z,D,p.y+1).key]={backfilled:!1}),B}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Ue extends a.Evented{constructor(c,p,y,x){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.extend({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=y.getActor(),this.setEventedParent(x),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const T=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*T,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*T,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*T,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,y,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:y},x),this}_updateWorkerData(c){const p=a.extend({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.browser.resolveURL(this._data),O.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(y,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source"}));let T=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(T=x.resourceTiming[this.id].slice(0)),y)return void this.fire(new a.ErrorEvent(y));const D={dataType:"source"};this._collectResourceTiming&&T&&T.length>0&&a.extend(D,{resourceTiming:T}),this.fire(new a.Event("data",{...D,sourceDataType:"metadata"})),this.fire(new a.Event("data",{...D,sourceDataType:"content"}))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const y=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const x={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(y,x,(T,D)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):T?p(T):(c.loadVectorData(D,this.map.painter,y==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Xe=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ct extends a.Evented{constructor(c,p,y,x){super(),this.load=(T,D)=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=A.getImage(this.map._requestManager.transformRequest(this.url,O.Image),(N,B)=>{this._request=null,this._loaded=!0,N?this.fire(new a.ErrorEvent(N)):B&&(this.image=B,T&&(this.coordinates=T),D&&D(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const T=this.map.painter.context,D=T.gl;this.boundsBuffer||(this.boundsBuffer=T.createVertexBuffer(this._boundsArray,Xe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new te(T,this.image,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let N=!1;for(const B in this.tiles){const q=this.tiles[B];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,N=!0)}N&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=y,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(x){let T=1/0,D=1/0,N=-1/0,B=-1/0;for(const ee of x)T=Math.min(T,ee.x),D=Math.min(D,ee.y),N=Math.max(N,ee.x),B=Math.max(B,ee.y);const q=Math.max(N-T,B-D),G=Math.max(0,Math.floor(-Math.log(q)/Math.LN2)),K=Math.pow(2,G);return new a.CanonicalTileID(G,Math.floor((T+N)/2*K),Math.floor((D+B)/2*K))}(p),this.minzoom=this.maxzoom=this.tileID.z;const y=p.map(x=>this.tileID.getTilePoint(x)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(y[0].x,y[0].y,0,0),this._boundsArray.emplaceBack(y[1].x,y[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(y[3].x,y[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(y[2].x,y[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class Be extends ct{constructor(c,p,y,x){super(c,p,y,x),this.load=()=>{this._loaded=!1;const T=this.options;this.urls=[];for(const D of T.urls)this.urls.push(this.map._requestManager.transformRequest(D,O.Source).url);a.getVideo(this.urls,(D,N)=>{this._loaded=!0,D?this.fire(new a.ErrorEvent(D)):N&&(this.video=N,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const T=this.map.painter.context,D=T.gl;this.boundsBuffer||(this.boundsBuffer=T.createVertexBuffer(this._boundsArray,Xe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.texSubImage2D(D.TEXTURE_2D,0,0,0,D.RGBA,D.UNSIGNED_BYTE,this.video)):(this.texture=new te(T,this.video,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let N=!1;for(const B in this.tiles){const q=this.tiles[B];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,N=!0)}N&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Pe extends ct{constructor(c,p,y,x){super(c,p,y,x),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let T=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,T=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,T=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const D=this.map.painter.context,N=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Xe.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(T||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new te(D,this.canvas,N.RGBA,{premultiply:!0});let B=!1;for(const q in this.tiles){const G=this.tiles[q];G.state!=="loaded"&&(G.state="loaded",G.texture=this.texture,B=!0)}B&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(T=>!Array.isArray(T)||T.length!==2||T.some(D=>typeof D!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const St={},Zt=S=>{switch(S){case"geojson":return Ue;case"image":return ct;case"raster":return st;case"raster-dem":return nt;case"vector":return je;case"video":return Be;case"canvas":return Pe}return St[S]};function Ot(S,c){const p=a.create();return a.translate(p,p,[1,1,0]),a.scale(p,p,[.5*S.width,.5*S.height,1]),a.multiply(p,p,S.calculatePosMatrix(c.toUnwrapped()))}function Nt(S,c,p,y,x,T){const D=function(K,ee,ue){if(K)for(const ce of K){const me=ee[ce];if(me&&me.source===ue&&me.type==="fill-extrusion")return!0}else for(const ce in ee){const me=ee[ce];if(me.source===ue&&me.type==="fill-extrusion")return!0}return!1}(x&&x.layers,c,S.id),N=T.maxPitchScaleFactor(),B=S.tilesIn(y,N,D);B.sort(Mr);const q=[];for(const K of B)q.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(c,p,S._state,K.queryGeometry,K.cameraQueryGeometry,K.scale,x,T,N,Ot(S.transform,K.tileID))});const G=function(K){const ee={},ue={};for(const ce of K){const me=ce.queryResults,le=ce.wrappedTileID,Oe=ue[le]=ue[le]||{};for(const Ve in me){const ve=me[Ve],$e=Oe[Ve]=Oe[Ve]||{},Ge=ee[Ve]=ee[Ve]||[];for(const Ze of ve)$e[Ze.featureIndex]||($e[Ze.featureIndex]=!0,Ge.push(Ze))}}return ee}(q);for(const K in G)G[K].forEach(ee=>{const ue=ee.feature,ce=S.getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=ce});return G}function Mr(S,c){const p=S.tileID,y=c.tileID;return p.overscaledZ-y.overscaledZ||p.canonical.y-y.canonical.y||p.wrap-y.wrap||p.canonical.x-y.canonical.x}class Vr{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,y){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(x,T){const D={};if(!T)return D;for(const N of x){const B=N.layerIds.map(q=>T.getLayer(q)).filter(Boolean);if(B.length!==0){N.layers=B,N.stateDependentLayerIds&&(N.stateDependentLayers=N.stateDependentLayerIds.map(q=>B.filter(G=>G.id===q)[0]));for(const q of B)D[q.id]=N}}return D}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const x in this.buckets){const T=this.buckets[x];if(T instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!y)break;T.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const x in this.buckets){const T=this.buckets[x];if(T instanceof a.SymbolBucket&&T.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const x in this.buckets){const T=this.buckets[x];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(x).queryRadius(T))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const y in this.buckets){const x=this.buckets[y];x.uploadPending()&&x.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new te(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new te(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,y,x,T,D,N,B,q,G){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:x,cameraQueryGeometry:T,scale:D,tileSize:this.tileSize,pixelPosMatrix:G,transform:B,params:N,queryPadding:this.queryPadding*q},c,p,y):{}}querySourceFeatures(c,p){const y=this.latestFeatureIndex;if(!y||!y.rawTileData)return;const x=y.loadVTLayers(),T=p&&p.sourceLayer?p.sourceLayer:"",D=x._geojsonTileLayer||x[T];if(!D)return;const N=a.createFilter(p&&p.filter),{z:B,x:q,y:G}=this.tileID.canonical,K={z:B,x:q,y:G};for(let ee=0;ee<D.length;ee++){const ue=D.feature(ee);if(N.needGeometry){const le=a.toEvaluationFeature(ue,!0);if(!N.filter(new a.EvaluationParameters(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!N.filter(new a.EvaluationParameters(this.tileID.overscaledZ),ue))continue;const ce=y.getId(ue,T),me=new a.GeoJSONFeature(ue,B,q,G,ce);me.tile=K,c.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const y=a.parseCacheControl(c.cacheControl);y["max-age"]&&(this.expirationTime=Date.now()+1e3*y["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const y=Date.now();let x=!1;if(this.expirationTime>y)x=!1;else if(p)if(this.expirationTime<p)x=!0;else{const T=this.expirationTime-p;T?this.expirationTime=y+Math.max(T,3e4):x=!0}else x=!0;x?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const y=this.latestFeatureIndex.loadVTLayers();for(const x in this.buckets){if(!p.style.hasLayer(x))continue;const T=this.buckets[x],D=T.layers[0].sourceLayer||"_geojsonTileLayer",N=y[D],B=c[D];if(!N||!B||Object.keys(B).length===0)continue;T.update(B,N,this.imageAtlas&&this.imageAtlas.patternPositions||{});const q=p&&p.style&&p.style.getLayer(x);q&&(this.queryPadding=Math.max(this.queryPadding,q.queryRadius(T)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.browser.now()+c}setDependencies(c,p){const y={};for(const x of p)y[x]=!0;this.dependencies[c]=y}hasDependency(c,p){for(const y of c){const x=this.dependencies[y];if(x){for(const T of p)if(x[T])return!0}}return!1}}class pr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,y){const x=c.wrapped().key;this.data[x]===void 0&&(this.data[x]=[]);const T={value:p,timeout:void 0};if(y!==void 0&&(T.timeout=setTimeout(()=>{this.remove(c,T)},y)),this.data[x].push(T),this.order.push(x),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const y=c.wrapped().key,x=p===void 0?0:this.data[y].indexOf(p),T=this.data[y][x];return this.data[y].splice(x,1),T.timeout&&clearTimeout(T.timeout),this.data[y].length===0&&delete this.data[y],this.onRemove(T.value),this.order.splice(this.order.indexOf(y),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const y in this.data)for(const x of this.data[y])c(x.value)||p.push(x);for(const y of p)this.remove(y.value.tileID,y)}}class Sr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,y){const x=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][x]=this.stateChanges[c][x]||{},a.extend(this.stateChanges[c][x],y),this.deletedStates[c]===null){this.deletedStates[c]={};for(const T in this.state[c])T!==x&&(this.deletedStates[c][T]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][x]===null){this.deletedStates[c][x]={};for(const T in this.state[c][x])y[T]||(this.deletedStates[c][x][T]=null)}else for(const T in y)this.deletedStates[c]&&this.deletedStates[c][x]&&this.deletedStates[c][x][T]===null&&delete this.deletedStates[c][x][T]}removeFeatureState(c,p,y){if(this.deletedStates[c]===null)return;const x=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},y&&p!==void 0)this.deletedStates[c][x]!==null&&(this.deletedStates[c][x]=this.deletedStates[c][x]||{},this.deletedStates[c][x][y]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][x])for(y in this.deletedStates[c][x]={},this.stateChanges[c][x])this.deletedStates[c][x][y]=null;else this.deletedStates[c][x]=null;else this.deletedStates[c]=null}getState(c,p){const y=String(p),x=a.extend({},(this.state[c]||{})[y],(this.stateChanges[c]||{})[y]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const T=this.deletedStates[c][p];if(T===null)return{};for(const D in T)delete x[D]}return x}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const y={};for(const x in this.stateChanges){this.state[x]=this.state[x]||{};const T={};for(const D in this.stateChanges[x])this.state[x][D]||(this.state[x][D]={}),a.extend(this.state[x][D],this.stateChanges[x][D]),T[D]=this.state[x][D];y[x]=T}for(const x in this.deletedStates){this.state[x]=this.state[x]||{};const T={};if(this.deletedStates[x]===null)for(const D in this.state[x])T[D]={},this.state[x][D]={};else for(const D in this.deletedStates[x]){if(this.deletedStates[x][D]===null)this.state[x][D]={};else for(const N of Object.keys(this.deletedStates[x][D]))delete this.state[x][D][N];T[D]=this.state[x][D]}y[x]=y[x]||{},a.extend(y[x],T)}if(this.stateChanges={},this.deletedStates={},Object.keys(y).length!==0)for(const x in c)c[x].setFeatureState(y,p)}}class cr extends a.Evented{constructor(c,p,y){super(),this.id=c,this.dispatcher=y,this.on("data",x=>{x.dataType==="source"&&x.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&x.dataType==="source"&&x.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((x,T,D,N)=>{const B=new(Zt(T.type))(x,T,D,N);if(B.id!==x)throw new Error(`Expected Source id to be ${x} instead of ${B.id}`);return B})(c,p,y,this),this._tiles={},this._cache=new pr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Sr,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const y=this._tiles[p];y.upload(c),y.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(Er).map(c=>c.key)}getRenderableIds(c){const p=[];for(const y in this._tiles)this._isIdRenderable(y,c)&&p.push(this._tiles[y]);return c?p.sort((y,x)=>{const T=y.tileID,D=x.tileID,N=new a.Point(T.canonical.x,T.canonical.y)._rotate(this.transform.angle),B=new a.Point(D.canonical.x,D.canonical.y)._rotate(this.transform.angle);return T.overscaledZ-D.overscaledZ||B.y-N.y||B.x-N.x}).map(y=>y.tileID.key):p.map(y=>y.tileID).sort(Er).map(y=>y.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const y=this._tiles[c];y&&(y.state!=="loading"&&(y.state=p),this._loadTile(y,this._tileLoaded.bind(this,y,c,p)))}_tileLoaded(c,p,y,x){if(x)return c.state="errored",void(x.status!==404?this._source.fire(new a.ErrorEvent(x,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.browser.now(),y==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let x=0;x<p.length;x++){const T=p[x];if(c.neighboringTiles&&c.neighboringTiles[T]){const D=this.getTileByID(T);y(c,D),y(D,c)}}function y(x,T){x.needsHillshadePrepare=!0,x.needsTerrainPrepare=!0;let D=T.tileID.canonical.x-x.tileID.canonical.x;const N=T.tileID.canonical.y-x.tileID.canonical.y,B=Math.pow(2,x.tileID.canonical.z),q=T.tileID.key;D===0&&N===0||Math.abs(N)>1||(Math.abs(D)>1&&(Math.abs(D+B)===1?D+=B:Math.abs(D-B)===1&&(D-=B)),T.dem&&x.dem&&(x.dem.backfillBorder(T.dem,D,N),x.neighboringTiles&&x.neighboringTiles[q]&&(x.neighboringTiles[q].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,y,x){for(const T in this._tiles){let D=this._tiles[T];if(x[T]||!D.hasData()||D.tileID.overscaledZ<=p||D.tileID.overscaledZ>y)continue;let N=D.tileID;for(;D&&D.tileID.overscaledZ>p+1;){const q=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[q.key],D&&D.hasData()&&(N=q)}let B=N;for(;B.overscaledZ>p;)if(B=B.scaledTo(B.overscaledZ-1),c[B.key]){x[N.key]=N;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const y=this._loadedParentTiles[c.key];return y&&y.tileID.overscaledZ>=p?y:null}for(let y=c.overscaledZ-1;y>=p;y--){const x=c.scaledTo(y),T=this._getLoadedTile(x);if(T)return T}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,y=Math.ceil(c.height/this._source.tileSize)+1,x=Math.floor(p*y*(this._maxTileCacheZoomLevels===null?a.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),T=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(T)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const y={};for(const x in this._tiles){const T=this._tiles[x];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+p),y[T.tileID.key]=T}this._tiles=y;for(const x in this._timers)clearTimeout(this._timers[x]),delete this._timers[x];for(const x in this._tiles)this._setTileReloadTimer(x,this._tiles[x])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let y;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(G=>new a.OverscaledTileID(G.canonical.z,G.wrap,G.canonical.z,G.canonical.x,G.canonical.y)):(y=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(y=y.filter(G=>this._source.hasTile(G)))):y=[];const x=c.coveringZoomLevel(this._source),T=Math.max(x-cr.maxOverzooming,this._source.minzoom),D=Math.max(x+cr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const G={};for(const K of y)if(K.canonical.z>this._source.minzoom){const ee=K.scaledTo(K.canonical.z-1);G[ee.key]=ee;const ue=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));G[ue.key]=ue}y=y.concat(Object.values(G))}const N=y.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,N&&this.fire(new a.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const B=this._updateRetainedTiles(y,x);if(an(this._source.type)){const G={},K={},ee=Object.keys(B),ue=a.browser.now();for(const ce of ee){const me=B[ce],le=this._tiles[ce];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=ue)continue;const Oe=this.findLoadedParent(me,T);Oe&&(this._addTile(Oe.tileID),G[Oe.tileID.key]=Oe.tileID),K[ce]=me}this._retainLoadedChildren(K,x,D,B);for(const ce in G)B[ce]||(this._coveredTiles[ce]=!0,B[ce]=G[ce]);if(p){const ce={},me={};for(const le of y)this._tiles[le.key].hasData()?ce[le.key]=le:me[le.key]=le;for(const le in me){const Oe=me[le].children(this._source.maxzoom);this._tiles[Oe[0].key]&&this._tiles[Oe[1].key]&&this._tiles[Oe[2].key]&&this._tiles[Oe[3].key]&&(ce[Oe[0].key]=B[Oe[0].key]=Oe[0],ce[Oe[1].key]=B[Oe[1].key]=Oe[1],ce[Oe[2].key]=B[Oe[2].key]=Oe[2],ce[Oe[3].key]=B[Oe[3].key]=Oe[3],delete me[le])}for(const le in me){const Oe=this.findLoadedParent(me[le],this._source.minzoom);if(Oe){ce[Oe.tileID.key]=B[Oe.tileID.key]=Oe.tileID;for(const Ve in ce)ce[Ve].isChildOf(Oe.tileID)&&delete ce[Ve]}}for(const le in this._tiles)ce[le]||(this._coveredTiles[le]=!0)}}for(const G in B)this._tiles[G].clearFadeHold();const q=a.keysDifference(this._tiles,B);for(const G of q){const K=this._tiles[G];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(G)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const y={},x={},T=Math.max(p-cr.maxOverzooming,this._source.minzoom),D=Math.max(p+cr.maxUnderzooming,this._source.minzoom),N={};for(const B of c){const q=this._addTile(B);y[B.key]=B,q.hasData()||p<this._source.maxzoom&&(N[B.key]=B)}this._retainLoadedChildren(N,p,D,y);for(const B of c){let q=this._tiles[B.key];if(q.hasData())continue;if(p+1>this._source.maxzoom){const K=B.children(this._source.maxzoom)[0],ee=this.getTile(K);if(ee&&ee.hasData()){y[K.key]=K;continue}}else{const K=B.children(this._source.maxzoom);if(y[K[0].key]&&y[K[1].key]&&y[K[2].key]&&y[K[3].key])continue}let G=q.wasRequested();for(let K=B.overscaledZ-1;K>=T;--K){const ee=B.scaledTo(K);if(x[ee.key])break;if(x[ee.key]=!0,q=this.getTile(ee),!q&&G&&(q=this._addTile(ee)),q){const ue=q.hasData();if((G||ue)&&(y[ee.key]=ee),G=q.wasRequested(),ue)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let y,x=this._tiles[c].tileID;for(;x.overscaledZ>0;){if(x.key in this._loadedParentTiles){y=this._loadedParentTiles[x.key];break}p.push(x.key);const T=x.scaledTo(x.overscaledZ-1);if(y=this._getLoadedTile(T),y)break;x=T}for(const T of p)this._loadedParentTiles[T]=y}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const y=p;return p||(p=new Vr(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,y||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const y=p.getExpiryTimeout();y&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},y))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,y){const x=[],T=this.transform;if(!T)return x;const D=y?T.getCameraQueryGeometry(c):c,N=c.map(ce=>T.pointCoordinate(ce,this.terrain)),B=D.map(ce=>T.pointCoordinate(ce,this.terrain)),q=this.getIds();let G=1/0,K=1/0,ee=-1/0,ue=-1/0;for(const ce of B)G=Math.min(G,ce.x),K=Math.min(K,ce.y),ee=Math.max(ee,ce.x),ue=Math.max(ue,ce.y);for(let ce=0;ce<q.length;ce++){const me=this._tiles[q[ce]];if(me.holdingForFade())continue;const le=me.tileID,Oe=Math.pow(2,T.zoom-me.tileID.overscaledZ),Ve=p*me.queryPadding*a.EXTENT/me.tileSize/Oe,ve=[le.getTilePoint(new a.MercatorCoordinate(G,K)),le.getTilePoint(new a.MercatorCoordinate(ee,ue))];if(ve[0].x-Ve<a.EXTENT&&ve[0].y-Ve<a.EXTENT&&ve[1].x+Ve>=0&&ve[1].y+Ve>=0){const $e=N.map(Ze=>le.getTilePoint(Ze)),Ge=B.map(Ze=>le.getTilePoint(Ze));x.push({tile:me,tileID:le,queryGeometry:$e,cameraQueryGeometry:Ge,scale:Oe})}}return x}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(y=>this._tiles[y].tileID);for(const y of p)y.posMatrix=this.transform.calculatePosMatrix(y.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(an(this._source.type)){const c=a.browser.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,y){this._state.updateState(c=c||"_geojsonTileLayer",p,y)}removeFeatureState(c,p,y){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,y)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,y){const x=this._tiles[c];x&&x.setDependencies(p,y)}reloadTilesForDependencies(c,p){for(const y in this._tiles)this._tiles[y].hasDependency(c,p)&&this._reloadTile(y,"reloading");this._cache.filter(y=>!y.hasDependency(c,p))}}function Er(S,c){const p=Math.abs(2*S.wrap)-+(S.wrap<0),y=Math.abs(2*c.wrap)-+(c.wrap<0);return S.overscaledZ-c.overscaledZ||y-p||c.canonical.y-S.canonical.y||c.canonical.x-S.canonical.x}function an(S){return S==="raster"||S==="image"||S==="video"}cr.maxOverzooming=10,cr.maxUnderzooming=3;const ut="mapboxgl_preloaded_worker_pool";class Or{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Or.workerCount;)this.workers.push(new Worker(a.config.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ut]}numActive(){return Object.keys(this.active).length}}const Xr=Math.floor(a.browser.hardwareConcurrency/2);let mr;function Jt(){return mr||(mr=new Or),mr}Or.workerCount=a.isSafari(globalThis)?Math.max(Math.min(Xr,3),1):1;class Ke{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);let p=1,y=this._distances[p];const x=c*this.paddedLength+this.padding;for(;y<x&&p<this._distances.length;)y=this._distances[++p];const T=p-1,D=this._distances[T],N=y-D,B=N>0?(x-D)/N:0;return this.points[T].mult(1-B).add(this.points[p].mult(B))}}function At(S,c){let p=!0;return S==="always"||S!=="never"&&c!=="never"||(p=!1),p}class $t{constructor(c,p,y){const x=this.boxCells=[],T=this.circleCells=[];this.xCellCount=Math.ceil(c/y),this.yCellCount=Math.ceil(p/y);for(let D=0;D<this.xCellCount*this.yCellCount;D++)x.push([]),T.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,y,x,T){this._forEachCell(p,y,x,T,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(y),this.bboxes.push(x),this.bboxes.push(T)}insertCircle(c,p,y,x){this._forEachCell(p-x,y-x,p+x,y+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(y),this.circles.push(x)}_insertBoxCell(c,p,y,x,T,D){this.boxCells[T].push(D)}_insertCircleCell(c,p,y,x,T,D){this.circleCells[T].push(D)}_query(c,p,y,x,T,D,N){if(y<0||c>this.width||x<0||p>this.height)return[];const B=[];if(c<=0&&p<=0&&this.width<=y&&this.height<=x){if(T)return[{key:null,x1:c,y1:p,x2:y,y2:x}];for(let q=0;q<this.boxKeys.length;q++)B.push({key:this.boxKeys[q],x1:this.bboxes[4*q],y1:this.bboxes[4*q+1],x2:this.bboxes[4*q+2],y2:this.bboxes[4*q+3]});for(let q=0;q<this.circleKeys.length;q++){const G=this.circles[3*q],K=this.circles[3*q+1],ee=this.circles[3*q+2];B.push({key:this.circleKeys[q],x1:G-ee,y1:K-ee,x2:G+ee,y2:K+ee})}}else this._forEachCell(c,p,y,x,this._queryCell,B,{hitTest:T,overlapMode:D,seenUids:{box:{},circle:{}}},N);return B}query(c,p,y,x){return this._query(c,p,y,x,!1,null)}hitTest(c,p,y,x,T,D){return this._query(c,p,y,x,!0,T,D).length>0}hitTestCircle(c,p,y,x,T){const D=c-y,N=c+y,B=p-y,q=p+y;if(N<0||D>this.width||q<0||B>this.height)return!1;const G=[];return this._forEachCell(D,B,N,q,this._queryCellCircle,G,{hitTest:!0,overlapMode:x,circle:{x:c,y:p,radius:y},seenUids:{box:{},circle:{}}},T),G.length>0}_queryCell(c,p,y,x,T,D,N,B){const{seenUids:q,hitTest:G,overlapMode:K}=N,ee=this.boxCells[T];if(ee!==null){const ce=this.bboxes;for(const me of ee)if(!q.box[me]){q.box[me]=!0;const le=4*me,Oe=this.boxKeys[me];if(c<=ce[le+2]&&p<=ce[le+3]&&y>=ce[le+0]&&x>=ce[le+1]&&(!B||B(Oe))&&(!G||!At(K,Oe.overlapMode))&&(D.push({key:Oe,x1:ce[le],y1:ce[le+1],x2:ce[le+2],y2:ce[le+3]}),G))return!0}}const ue=this.circleCells[T];if(ue!==null){const ce=this.circles;for(const me of ue)if(!q.circle[me]){q.circle[me]=!0;const le=3*me,Oe=this.circleKeys[me];if(this._circleAndRectCollide(ce[le],ce[le+1],ce[le+2],c,p,y,x)&&(!B||B(Oe))&&(!G||!At(K,Oe.overlapMode))){const Ve=ce[le],ve=ce[le+1],$e=ce[le+2];if(D.push({key:Oe,x1:Ve-$e,y1:ve-$e,x2:Ve+$e,y2:ve+$e}),G)return!0}}}return!1}_queryCellCircle(c,p,y,x,T,D,N,B){const{circle:q,seenUids:G,overlapMode:K}=N,ee=this.boxCells[T];if(ee!==null){const ce=this.bboxes;for(const me of ee)if(!G.box[me]){G.box[me]=!0;const le=4*me,Oe=this.boxKeys[me];if(this._circleAndRectCollide(q.x,q.y,q.radius,ce[le+0],ce[le+1],ce[le+2],ce[le+3])&&(!B||B(Oe))&&!At(K,Oe.overlapMode))return D.push(!0),!0}}const ue=this.circleCells[T];if(ue!==null){const ce=this.circles;for(const me of ue)if(!G.circle[me]){G.circle[me]=!0;const le=3*me,Oe=this.circleKeys[me];if(this._circlesCollide(ce[le],ce[le+1],ce[le+2],q.x,q.y,q.radius)&&(!B||B(Oe))&&!At(K,Oe.overlapMode))return D.push(!0),!0}}}_forEachCell(c,p,y,x,T,D,N,B){const q=this._convertToXCellCoord(c),G=this._convertToYCellCoord(p),K=this._convertToXCellCoord(y),ee=this._convertToYCellCoord(x);for(let ue=q;ue<=K;ue++)for(let ce=G;ce<=ee;ce++)if(T.call(this,c,p,y,x,this.xCellCount*ce+ue,D,N,B))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,y,x,T,D){const N=x-c,B=T-p,q=y+D;return q*q>N*N+B*B}_circleAndRectCollide(c,p,y,x,T,D,N){const B=(D-x)/2,q=Math.abs(c-(x+B));if(q>B+y)return!1;const G=(N-T)/2,K=Math.abs(p-(T+G));if(K>G+y)return!1;if(q<=B||K<=G)return!0;const ee=q-B,ue=K-G;return ee*ee+ue*ue<=y*y}}function Jr(S,c,p,y,x){const T=a.create();return c?(a.scale(T,T,[1/x,1/x,1]),p||a.rotateZ(T,T,y.angle)):a.multiply(T,y.labelPlaneMatrix,S),T}function eo(S,c,p,y,x){if(c){const T=a.clone(S);return a.scale(T,T,[x,x,1]),p||a.rotateZ(T,T,-y.angle),T}return y.glCoordMatrix}function Xt(S,c,p){let y;p?(y=[S.x,S.y,p(S.x,S.y),1],a.transformMat4(y,y,c)):(y=[S.x,S.y,0,1],ge(y,y,c));const x=y[3];return{point:new a.Point(y[0]/x,y[1]/x),signedDistanceFromCamera:x}}function po(S,c){return .5+S/c*.5}function No(S,c){const p=S[0]/S[3],y=S[1]/S[3];return p>=-c[0]&&p<=c[0]&&y>=-c[1]&&y<=c[1]}function Ta(S,c,p,y,x,T,D,N,B,q){const G=y?S.textSizeData:S.iconSizeData,K=a.evaluateSizeForZoom(G,p.transform.zoom),ee=[256/p.width*2+1,256/p.height*2+1],ue=y?S.text.dynamicLayoutVertexArray:S.icon.dynamicLayoutVertexArray;ue.clear();const ce=S.lineVertexArray,me=y?S.text.placedSymbolArray:S.icon.placedSymbolArray,le=p.transform.width/p.transform.height;let Oe=!1;for(let Ve=0;Ve<me.length;Ve++){const ve=me.get(Ve);if(ve.hidden||ve.writingMode===a.WritingMode.vertical&&!Oe){se(ve.numGlyphs,ue);continue}let $e;if(Oe=!1,q?($e=[ve.anchorX,ve.anchorY,q(ve.anchorX,ve.anchorY),1],a.transformMat4($e,$e,c)):($e=[ve.anchorX,ve.anchorY,0,1],ge($e,$e,c)),!No($e,ee)){se(ve.numGlyphs,ue);continue}const Ge=po(p.transform.cameraToCenterDistance,$e[3]),Ze=a.evaluateSizeForFeature(G,K,ve),et=D?Ze/Ge:Ze*Ge,dt=new a.Point(ve.anchorX,ve.anchorY),ot=Xt(dt,x,q).point,pt={projections:{},offsets:{}},Bt=mi(ve,et,!1,N,c,x,T,S.glyphOffsetArray,ce,ue,ot,dt,pt,le,B,q);Oe=Bt.useVertical,(Bt.notEnoughRoom||Oe||Bt.needsFlipping&&mi(ve,et,!0,N,c,x,T,S.glyphOffsetArray,ce,ue,ot,dt,pt,le,B,q).notEnoughRoom)&&se(ve.numGlyphs,ue)}y?S.text.dynamicLayoutVertexBuffer.updateData(ue):S.icon.dynamicLayoutVertexBuffer.updateData(ue)}function mo(S,c,p,y,x,T,D,N,B,q,G,K,ee){const ue=N.glyphStartIndex+N.numGlyphs,ce=N.lineStartIndex,me=N.lineStartIndex+N.lineLength,le=c.getoffsetX(N.glyphStartIndex),Oe=c.getoffsetX(ue-1),Ve=X(S*le,p,y,x,T,D,N.segment,ce,me,B,q,G,K,ee);if(!Ve)return null;const ve=X(S*Oe,p,y,x,T,D,N.segment,ce,me,B,q,G,K,ee);return ve?{first:Ve,last:ve}:null}function ts(S,c,p,y){return S===a.WritingMode.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*y?{useVertical:!0}:(S===a.WritingMode.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function mi(S,c,p,y,x,T,D,N,B,q,G,K,ee,ue,ce,me){const le=c/24,Oe=S.lineOffsetX*le,Ve=S.lineOffsetY*le;let ve;if(S.numGlyphs>1){const $e=S.glyphStartIndex+S.numGlyphs,Ge=S.lineStartIndex,Ze=S.lineStartIndex+S.lineLength,et=mo(le,N,Oe,Ve,p,G,K,S,B,T,ee,ce,me);if(!et)return{notEnoughRoom:!0};const dt=Xt(et.first.point,D,me).point,ot=Xt(et.last.point,D,me).point;if(y&&!p){const pt=ts(S.writingMode,dt,ot,ue);if(pt)return pt}ve=[et.first];for(let pt=S.glyphStartIndex+1;pt<$e-1;pt++)ve.push(X(le*N.getoffsetX(pt),Oe,Ve,p,G,K,S.segment,Ge,Ze,B,T,ee,ce,me));ve.push(et.last)}else{if(y&&!p){const Ge=Xt(K,x,me).point,Ze=S.lineStartIndex+S.segment+1,et=new a.Point(B.getx(Ze),B.gety(Ze)),dt=Xt(et,x,me),ot=dt.signedDistanceFromCamera>0?dt.point:Wr(K,et,Ge,1,x,me),pt=ts(S.writingMode,Ge,ot,ue);if(pt)return pt}const $e=X(le*N.getoffsetX(S.glyphStartIndex),Oe,Ve,p,G,K,S.segment,S.lineStartIndex,S.lineStartIndex+S.lineLength,B,T,ee,ce,me);if(!$e)return{notEnoughRoom:!0};ve=[$e]}for(const $e of ve)a.addDynamicAttributes(q,$e.point,$e.angle);return{}}function Wr(S,c,p,y,x,T){const D=Xt(S.add(S.sub(c)._unit()),x,T).point,N=p.sub(D);return p.add(N._mult(y/N.mag()))}function _l(S,c){const{projectionCache:p,lineVertexArray:y,labelPlaneMatrix:x,tileAnchorPoint:T,distanceFromAnchor:D,getElevation:N,previousVertex:B,direction:q,absOffsetX:G}=c;if(p.projections[S])return p.projections[S];const K=new a.Point(y.getx(S),y.gety(S)),ee=Xt(K,x,N);if(ee.signedDistanceFromCamera>0)return p.projections[S]=ee.point,ee.point;const ue=S-q;return Wr(D===0?T:new a.Point(y.getx(ue),y.gety(ue)),K,B,G-D+1,x,N)}function jo(S,c,p){return S._unit()._perp()._mult(c*p)}function he(S,c,p,y,x,T,D,N){const{projectionCache:B,direction:q}=N;if(B.offsets[S])return B.offsets[S];const G=p.add(c);if(S+q<y||S+q>=x)return B.offsets[S]=G,G;const K=_l(S+q,N),ee=jo(K.sub(p),D,q),ue=p.add(ee),ce=K.add(ee);return B.offsets[S]=a.findLineIntersection(T,G,ue,ce)||G,B.offsets[S]}function X(S,c,p,y,x,T,D,N,B,q,G,K,ee,ue){const ce=y?S-c:S+c;let me=ce>0?1:-1,le=0;y&&(me*=-1,le=Math.PI),me<0&&(le+=Math.PI);let Oe,Ve,ve=me>0?N+D:N+D+1,$e=x,Ge=x,Ze=0,et=0;const dt=Math.abs(ce),ot=[];let pt;for(;Ze+et<=dt;){if(ve+=me,ve<N||ve>=B)return null;Ze+=et,Ge=$e,Ve=Oe;const xt={projectionCache:K,lineVertexArray:q,labelPlaneMatrix:G,tileAnchorPoint:T,distanceFromAnchor:Ze,getElevation:ue,previousVertex:Ge,direction:me,absOffsetX:dt};if($e=_l(ve,xt),p===0)ot.push(Ge),pt=$e.sub(Ge);else{let er;const Dt=$e.sub(Ge);er=Dt.mag()===0?jo(_l(ve+me,xt).sub($e),p,me):jo(Dt,p,me),Ve||(Ve=Ge.add(er)),Oe=he(ve,er,$e,N,B,Ve,p,xt),ot.push(Ve),pt=Oe.sub(Ve)}et=pt.mag()}const Bt=pt._mult((dt-Ze)/et)._add(Ve||Ge),xr=le+Math.atan2($e.y-Ge.y,$e.x-Ge.x);return ot.push(Bt),{point:Bt,angle:ee?xr:0,path:ot}}const Q=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(S,c){for(let p=0;p<S;p++){const y=c.length;c.resize(y+4),c.float32.set(Q,3*y)}}function ge(S,c,p){const y=c[0],x=c[1];return S[0]=p[0]*y+p[4]*x+p[12],S[1]=p[1]*y+p[5]*x+p[13],S[3]=p[3]*y+p[7]*x+p[15],S}const be=100;class Re{constructor(c,p=new $t(c.width+200,c.height+200,25),y=new $t(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=y,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+be,this.screenBottomBoundary=c.height+be,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,y,x,T,D){const N=this.projectAndGetPerspectiveRatio(x,c.anchorPointX,c.anchorPointY,D),B=y*N.perspectiveRatio,q=c.x1*B+N.point.x,G=c.y1*B+N.point.y,K=c.x2*B+N.point.x,ee=c.y2*B+N.point.y;return!this.isInsideGrid(q,G,K,ee)||p!=="always"&&this.grid.hitTest(q,G,K,ee,p,T)||N.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[q,G,K,ee],offscreen:this.isOffscreen(q,G,K,ee)}}placeCollisionCircles(c,p,y,x,T,D,N,B,q,G,K,ee,ue,ce){const me=[],le=new a.Point(p.anchorX,p.anchorY),Oe=Xt(le,D,ce),Ve=po(this.transform.cameraToCenterDistance,Oe.signedDistanceFromCamera),ve=(G?T/Ve:T*Ve)/a.ONE_EM,$e=Xt(le,N,ce).point,Ge=mo(ve,x,p.lineOffsetX*ve,p.lineOffsetY*ve,!1,$e,le,p,y,N,{projections:{},offsets:{}},!1,ce);let Ze=!1,et=!1,dt=!0;if(Ge){const ot=.5*ee*Ve+ue,pt=new a.Point(-100,-100),Bt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),xr=new Ke,xt=Ge.first,er=Ge.last;let Dt=[];for(let dr=xt.path.length-1;dr>=1;dr--)Dt.push(xt.path[dr]);for(let dr=1;dr<er.path.length;dr++)Dt.push(er.path[dr]);const sn=2.5*ot;if(B){const dr=Dt.map(tr=>Xt(tr,B,ce));Dt=dr.some(tr=>tr.signedDistanceFromCamera<=0)?[]:dr.map(tr=>tr.point)}let vr=[];if(Dt.length>0){const dr=Dt[0].clone(),tr=Dt[0].clone();for(let jn=1;jn<Dt.length;jn++)dr.x=Math.min(dr.x,Dt[jn].x),dr.y=Math.min(dr.y,Dt[jn].y),tr.x=Math.max(tr.x,Dt[jn].x),tr.y=Math.max(tr.y,Dt[jn].y);vr=dr.x>=pt.x&&tr.x<=Bt.x&&dr.y>=pt.y&&tr.y<=Bt.y?[Dt]:tr.x<pt.x||dr.x>Bt.x||tr.y<pt.y||dr.y>Bt.y?[]:a.clipLine([Dt],pt.x,pt.y,Bt.x,Bt.y)}for(const dr of vr){xr.reset(dr,.25*ot);let tr=0;tr=xr.length<=.5*ot?1:Math.ceil(xr.paddedLength/sn)+1;for(let jn=0;jn<tr;jn++){const Hr=jn/Math.max(tr-1,1),to=xr.lerp(Hr),Si=to.x+be,ti=to.y+be;me.push(Si,ti,ot,0);const yo=Si-ot,Pa=ti-ot,Bs=Si+ot,Fs=ti+ot;if(dt=dt&&this.isOffscreen(yo,Pa,Bs,Fs),et=et||this.isInsideGrid(yo,Pa,Bs,Fs),c!=="always"&&this.grid.hitTestCircle(Si,ti,ot,c,K)&&(Ze=!0,!q))return{circles:[],offscreen:!1,collisionDetected:Ze}}}}return{circles:!q&&Ze||!et||Ve<this.perspectiveRatioCutoff?[]:me,offscreen:dt,collisionDetected:Ze}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let y=1/0,x=1/0,T=-1/0,D=-1/0;for(const G of c){const K=new a.Point(G.x+be,G.y+be);y=Math.min(y,K.x),x=Math.min(x,K.y),T=Math.max(T,K.x),D=Math.max(D,K.y),p.push(K)}const N=this.grid.query(y,x,T,D).concat(this.ignoredGrid.query(y,x,T,D)),B={},q={};for(const G of N){const K=G.key;if(B[K.bucketInstanceId]===void 0&&(B[K.bucketInstanceId]={}),B[K.bucketInstanceId][K.featureIndex])continue;const ee=[new a.Point(G.x1,G.y1),new a.Point(G.x2,G.y1),new a.Point(G.x2,G.y2),new a.Point(G.x1,G.y2)];a.polygonIntersectsPolygon(p,ee)&&(B[K.bucketInstanceId][K.featureIndex]=!0,q[K.bucketInstanceId]===void 0&&(q[K.bucketInstanceId]=[]),q[K.bucketInstanceId].push(K.featureIndex))}return q}insertCollisionBox(c,p,y,x,T,D){(y?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:T,collisionGroupID:D,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,y,x,T,D){const N=y?this.ignoredGrid:this.grid,B={bucketInstanceId:x,featureIndex:T,collisionGroupID:D,overlapMode:p};for(let q=0;q<c.length;q+=4)N.insertCircle(B,c[q],c[q+1],c[q+2])}projectAndGetPerspectiveRatio(c,p,y,x){let T;return x?(T=[p,y,x(p,y),1],a.transformMat4(T,T,c)):(T=[p,y,0,1],ge(T,T,c)),{point:new a.Point((T[0]/T[3]+1)/2*this.transform.width+be,(-T[1]/T[3]+1)/2*this.transform.height+be),perspectiveRatio:.5+this.transform.cameraToCenterDistance/T[3]*.5}}isOffscreen(c,p,y,x){return y<be||c>=this.screenRightBoundary||x<be||p>this.screenBottomBoundary}isInsideGrid(c,p,y,x){return y>=0&&c<this.gridRightBoundary&&x>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c}}function Ce(S,c,p){return c*(a.EXTENT/(S.tileSize*Math.pow(2,p-S.tileID.overscaledZ)))}class we{constructor(c,p,y,x){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):x&&y?1:0,this.placed=y}isHidden(){return this.opacity===0&&!this.placed}}class ze{constructor(c,p,y,x,T){this.text=new we(c?c.text:null,p,y,T),this.icon=new we(c?c.icon:null,p,x,T)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Je{constructor(c,p,y){this.text=c,this.icon=p,this.skipFade=y}}class Qe{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class it{constructor(c,p,y,x,T){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=y,this.bucketIndex=x,this.tileID=T}}class Vt{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:y=>y.collisionGroupID===p}}return this.collisionGroups[c]}}function nr(S,c,p,y,x){const{horizontalAlign:T,verticalAlign:D}=a.getAnchorAlignment(S);return new a.Point(-(T-.5)*c+y[0]*x,-(D-.5)*p+y[1]*x)}function Lt(S,c,p,y,x,T){const{x1:D,x2:N,y1:B,y2:q,anchorPointX:G,anchorPointY:K}=S,ee=new a.Point(c,p);return y&&ee._rotate(x?T:-T),{x1:D+ee.x,y1:B+ee.y,x2:N+ee.x,y2:q+ee.y,anchorPointX:G,anchorPointY:K}}class Wt{constructor(c,p,y,x,T){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new Re(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new Vt(x),this.collisionCircleArrays={},this.prevPlacement=T,T&&(T.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,y,x){const T=y.getBucket(p),D=y.latestFeatureIndex;if(!T||!D||p.id!==T.layerIds[0])return;const N=y.collisionBoxArray,B=T.layers[0].layout,q=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),G=y.tileSize/a.EXTENT,K=this.transform.calculatePosMatrix(y.tileID.toUnwrapped()),ee=B.get("text-pitch-alignment")==="map",ue=B.get("text-rotation-alignment")==="map",ce=Ce(y,1,this.transform.zoom),me=Jr(K,ee,ue,this.transform,ce);let le=null;if(ee){const Ve=eo(K,ee,ue,this.transform,ce);le=a.multiply([],this.transform.labelPlaneMatrix,Ve)}this.retainedQueryData[T.bucketInstanceId]=new it(T.bucketInstanceId,D,T.sourceLayerIndex,T.index,y.tileID);const Oe={bucket:T,layout:B,posMatrix:K,textLabelPlaneMatrix:me,labelToScreenMatrix:le,scale:q,textPixelRatio:G,holdingForFade:y.holdingForFade(),collisionBoxArray:N,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(T.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(T.sourceID)};if(x)for(const Ve of T.sortKeyRanges){const{sortKey:ve,symbolInstanceStart:$e,symbolInstanceEnd:Ge}=Ve;c.push({sortKey:ve,symbolInstanceStart:$e,symbolInstanceEnd:Ge,parameters:Oe})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:T.symbolInstances.length,parameters:Oe})}attemptAnchorPlacement(c,p,y,x,T,D,N,B,q,G,K,ee,ue,ce,me,le){const Oe=a.TextAnchorEnum[c.textAnchor],Ve=[c.textOffset0,c.textOffset1],ve=nr(Oe,y,x,Ve,T),$e=this.collisionIndex.placeCollisionBox(Lt(p,ve.x,ve.y,D,N,this.transform.angle),K,B,q,G.predicate,le);if((!me||this.collisionIndex.placeCollisionBox(Lt(me,ve.x,ve.y,D,N,this.transform.angle),K,B,q,G.predicate,le).box.length!==0)&&$e.box.length>0){let Ge;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(Ge=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ee.crossTileID]={textOffset:Ve,width:y,height:x,anchor:Oe,textBoxScale:T,prevAnchor:Ge},this.markUsedJustification(ue,Oe,ee,ce),ue.allowVerticalPlacement&&(this.markUsedOrientation(ue,ce,ee),this.placedOrientations[ee.crossTileID]=ce),{shift:ve,placedGlyphBoxes:$e}}}placeLayerBucketPart(c,p,y){const{bucket:x,layout:T,posMatrix:D,textLabelPlaneMatrix:N,labelToScreenMatrix:B,textPixelRatio:q,holdingForFade:G,collisionBoxArray:K,partiallyEvaluatedTextSize:ee,collisionGroup:ue}=c.parameters,ce=T.get("text-optional"),me=T.get("icon-optional"),le=a.getOverlapMode(T,"text-overlap","text-allow-overlap"),Oe=le==="always",Ve=a.getOverlapMode(T,"icon-overlap","icon-allow-overlap"),ve=Ve==="always",$e=T.get("text-rotation-alignment")==="map",Ge=T.get("text-pitch-alignment")==="map",Ze=T.get("icon-text-fit")!=="none",et=T.get("symbol-z-order")==="viewport-y",dt=Oe&&(ve||!x.hasIconData()||me),ot=ve&&(Oe||!x.hasTextData()||ce);!x.collisionArrays&&K&&x.deserializeCollisionBoxes(K);const pt=this.retainedQueryData[x.bucketInstanceId].tileID,Bt=this.terrain?(xt,er)=>this.terrain.getElevation(pt,xt,er):null,xr=(xt,er)=>{var Dt,sn;if(p[xt.crossTileID])return;if(G)return void(this.placements[xt.crossTileID]=new Je(!1,!1,!1));let vr=!1,dr=!1,tr=!0,jn=null,Hr={box:null,offscreen:null},to={box:null,offscreen:null},Si=null,ti=null,yo=null,Pa=0,Bs=0,Fs=0;er.textFeatureIndex?Pa=er.textFeatureIndex:xt.useRuntimeCollisionCircles&&(Pa=xt.featureIndex),er.verticalTextFeatureIndex&&(Bs=er.verticalTextFeatureIndex);const Cl=er.textBox;if(Cl){const Ei=li=>{let Ti=a.WritingMode.horizontal;if(x.allowVerticalPlacement&&!li&&this.prevPlacement){const vo=this.prevPlacement.placedOrientations[xt.crossTileID];vo&&(this.placedOrientations[xt.crossTileID]=vo,Ti=vo,this.markUsedOrientation(x,Ti,xt))}return Ti},Bn=(li,Ti)=>{if(x.allowVerticalPlacement&&xt.numVerticalGlyphVertices>0&&er.verticalTextBox){for(const vo of x.writingModes)if(vo===a.WritingMode.vertical?(Hr=Ti(),to=Hr):Hr=li(),Hr&&Hr.box&&Hr.box.length)break}else Hr=li()},Ci=xt.textAnchorOffsetStartIndex,Cu=xt.textAnchorOffsetEndIndex;if(Cu===Ci){const li=(Ti,vo)=>{const An=this.collisionIndex.placeCollisionBox(Ti,le,q,D,ue.predicate,Bt);return An&&An.box&&An.box.length&&(this.markUsedOrientation(x,vo,xt),this.placedOrientations[xt.crossTileID]=vo),An};Bn(()=>li(Cl,a.WritingMode.horizontal),()=>{const Ti=er.verticalTextBox;return x.allowVerticalPlacement&&xt.numVerticalGlyphVertices>0&&Ti?li(Ti,a.WritingMode.vertical):{box:null,offscreen:null}}),Ei(Hr&&Hr.box&&Hr.box.length)}else{let li=a.TextAnchorEnum[(sn=(Dt=this.prevPlacement)===null||Dt===void 0?void 0:Dt.variableOffsets[xt.crossTileID])===null||sn===void 0?void 0:sn.anchor];const Ti=(An,Tu,Us)=>{const Aa=An.x2-An.x1,kl=An.y2-An.y1,Cx=xt.textBoxScale,wc=Ze&&Ve==="never"?Tu:null;let ku={box:[],offscreen:!1},cy=le==="never"?1:2,Mn="never";li&&cy++;for(let Kh=0;Kh<cy;Kh++){for(let Zh=Ci;Zh<Cu;Zh++){const Pl=x.textAnchorOffsets.get(Zh);if(li&&Pl.textAnchor!==li)continue;const Vs=this.attemptAnchorPlacement(Pl,An,Aa,kl,Cx,$e,Ge,q,D,ue,Mn,xt,x,Us,wc,Bt);if(Vs&&(ku=Vs.placedGlyphBoxes,ku&&ku.box&&ku.box.length))return vr=!0,jn=Vs.shift,ku}li?li=null:Mn=le}return ku};Bn(()=>Ti(Cl,er.iconBox,a.WritingMode.horizontal),()=>{const An=er.verticalTextBox;return x.allowVerticalPlacement&&!(Hr&&Hr.box&&Hr.box.length)&&xt.numVerticalGlyphVertices>0&&An?Ti(An,er.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Hr&&(vr=Hr.box,tr=Hr.offscreen);const vo=Ei(Hr&&Hr.box);if(!vr&&this.prevPlacement){const An=this.prevPlacement.variableOffsets[xt.crossTileID];An&&(this.variableOffsets[xt.crossTileID]=An,this.markUsedJustification(x,An.anchor,xt,vo))}}}if(Si=Hr,vr=Si&&Si.box&&Si.box.length>0,tr=Si&&Si.offscreen,xt.useRuntimeCollisionCircles){const Ei=x.text.placedSymbolArray.get(xt.centerJustifiedTextSymbolIndex),Bn=a.evaluateSizeForFeature(x.textSizeData,ee,Ei),Ci=T.get("text-padding");ti=this.collisionIndex.placeCollisionCircles(le,Ei,x.lineVertexArray,x.glyphOffsetArray,Bn,D,N,B,y,Ge,ue.predicate,xt.collisionCircleDiameter,Ci,Bt),ti.circles.length&&ti.collisionDetected&&!y&&a.warnOnce("Collisions detected, but collision boxes are not shown"),vr=Oe||ti.circles.length>0&&!ti.collisionDetected,tr=tr&&ti.offscreen}if(er.iconFeatureIndex&&(Fs=er.iconFeatureIndex),er.iconBox){const Ei=Bn=>{const Ci=Ze&&jn?Lt(Bn,jn.x,jn.y,$e,Ge,this.transform.angle):Bn;return this.collisionIndex.placeCollisionBox(Ci,Ve,q,D,ue.predicate,Bt)};to&&to.box&&to.box.length&&er.verticalIconBox?(yo=Ei(er.verticalIconBox),dr=yo.box.length>0):(yo=Ei(er.iconBox),dr=yo.box.length>0),tr=tr&&yo.offscreen}const bc=ce||xt.numHorizontalGlyphVertices===0&&xt.numVerticalGlyphVertices===0,Tl=me||xt.numIconVertices===0;if(bc||Tl?Tl?bc||(dr=dr&&vr):vr=dr&&vr:dr=vr=dr&&vr,vr&&Si&&Si.box&&this.collisionIndex.insertCollisionBox(Si.box,le,T.get("text-ignore-placement"),x.bucketInstanceId,to&&to.box&&Bs?Bs:Pa,ue.ID),dr&&yo&&this.collisionIndex.insertCollisionBox(yo.box,Ve,T.get("icon-ignore-placement"),x.bucketInstanceId,Fs,ue.ID),ti&&(vr&&this.collisionIndex.insertCollisionCircles(ti.circles,le,T.get("text-ignore-placement"),x.bucketInstanceId,Pa,ue.ID),y)){const Ei=x.bucketInstanceId;let Bn=this.collisionCircleArrays[Ei];Bn===void 0&&(Bn=this.collisionCircleArrays[Ei]=new Qe);for(let Ci=0;Ci<ti.circles.length;Ci+=4)Bn.circles.push(ti.circles[Ci+0]),Bn.circles.push(ti.circles[Ci+1]),Bn.circles.push(ti.circles[Ci+2]),Bn.circles.push(ti.collisionDetected?1:0)}if(xt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(x.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[xt.crossTileID]=new Je(vr||dt,dr||ot,tr||x.justReloaded),p[xt.crossTileID]=!0};if(et){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const xt=x.getSortedSymbolIndexes(this.transform.angle);for(let er=xt.length-1;er>=0;--er){const Dt=xt[er];xr(x.symbolInstances.get(Dt),x.collisionArrays[Dt])}}else for(let xt=c.symbolInstanceStart;xt<c.symbolInstanceEnd;xt++)xr(x.symbolInstances.get(xt),x.collisionArrays[xt]);if(y&&x.bucketInstanceId in this.collisionCircleArrays){const xt=this.collisionCircleArrays[x.bucketInstanceId];a.invert(xt.invProjMatrix,D),xt.viewportMatrix=this.collisionIndex.getViewportMatrix()}x.justReloaded=!1}markUsedJustification(c,p,y,x){let T;T=x===a.WritingMode.vertical?y.verticalPlacedTextSymbolIndex:{left:y.leftJustifiedTextSymbolIndex,center:y.centerJustifiedTextSymbolIndex,right:y.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];const D=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex,y.verticalPlacedTextSymbolIndex];for(const N of D)N>=0&&(c.text.placedSymbolArray.get(N).crossTileID=T>=0&&N!==T?0:y.crossTileID)}markUsedOrientation(c,p,y){const x=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,T=p===a.WritingMode.vertical?p:0,D=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex];for(const N of D)c.text.placedSymbolArray.get(N).placedOrientation=x;y.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(y.verticalPlacedTextSymbolIndex).placedOrientation=T)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let y=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const x=p?p.symbolFadeChange(c):1,T=p?p.opacities:{},D=p?p.variableOffsets:{},N=p?p.placedOrientations:{};for(const B in this.placements){const q=this.placements[B],G=T[B];G?(this.opacities[B]=new ze(G,x,q.text,q.icon),y=y||q.text!==G.text.placed||q.icon!==G.icon.placed):(this.opacities[B]=new ze(null,x,q.text,q.icon,q.skipFade),y=y||q.text||q.icon)}for(const B in T){const q=T[B];if(!this.opacities[B]){const G=new ze(q,x,!1,!1);G.isHidden()||(this.opacities[B]=G,y=y||q.text.placed||q.icon.placed)}}for(const B in D)this.variableOffsets[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.variableOffsets[B]=D[B]);for(const B in N)this.placedOrientations[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.placedOrientations[B]=N[B]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");y?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const y={};for(const x of p){const T=x.getBucket(c);T&&x.latestFeatureIndex&&c.id===T.layerIds[0]&&this.updateBucketOpacities(T,y,x.collisionBoxArray)}}updateBucketOpacities(c,p,y){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const x=c.layers[0],T=x.layout,D=new ze(null,0,!1,!1,!0),N=T.get("text-allow-overlap"),B=T.get("icon-allow-overlap"),q=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),G=T.get("text-rotation-alignment")==="map",K=T.get("text-pitch-alignment")==="map",ee=T.get("icon-text-fit")!=="none",ue=new ze(null,0,N&&(B||!c.hasIconData()||T.get("icon-optional")),B&&(N||!c.hasTextData()||T.get("text-optional")),!0);!c.collisionArrays&&y&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(y);const ce=(me,le,Oe)=>{for(let Ve=0;Ve<le/4;Ve++)me.opacityVertexArray.emplaceBack(Oe);me.hasVisibleVertices=me.hasVisibleVertices||Oe!==Kn};for(let me=0;me<c.symbolInstances.length;me++){const le=c.symbolInstances.get(me),{numHorizontalGlyphVertices:Oe,numVerticalGlyphVertices:Ve,crossTileID:ve}=le;let $e=this.opacities[ve];p[ve]?$e=D:$e||($e=ue,this.opacities[ve]=$e),p[ve]=!0;const Ge=le.numIconVertices>0,Ze=this.placedOrientations[le.crossTileID],et=Ze===a.WritingMode.vertical,dt=Ze===a.WritingMode.horizontal||Ze===a.WritingMode.horizontalOnly;if(Oe>0||Ve>0){const ot=Ii($e.text);ce(c.text,Oe,et?Kn:ot),ce(c.text,Ve,dt?Kn:ot);const pt=$e.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(xt=>{xt>=0&&(c.text.placedSymbolArray.get(xt).hidden=pt||et?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=pt||dt?1:0);const Bt=this.variableOffsets[le.crossTileID];Bt&&this.markUsedJustification(c,Bt.anchor,le,Ze);const xr=this.placedOrientations[le.crossTileID];xr&&(this.markUsedJustification(c,"left",le,xr),this.markUsedOrientation(c,xr,le))}if(Ge){const ot=Ii($e.icon),pt=!(ee&&le.verticalPlacedIconSymbolIndex&&et);le.placedIconSymbolIndex>=0&&(ce(c.icon,le.numIconVertices,pt?ot:Kn),c.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=$e.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ce(c.icon,le.numVerticalIconVertices,pt?Kn:ot),c.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=$e.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const ot=c.collisionArrays[me];if(ot){let pt=new a.Point(0,0);if(ot.textBox||ot.verticalTextBox){let xr=!0;if(q){const xt=this.variableOffsets[ve];xt?(pt=nr(xt.anchor,xt.width,xt.height,xt.textOffset,xt.textBoxScale),G&&pt._rotate(K?this.transform.angle:-this.transform.angle)):xr=!1}ot.textBox&&rr(c.textCollisionBox.collisionVertexArray,$e.text.placed,!xr||et,pt.x,pt.y),ot.verticalTextBox&&rr(c.textCollisionBox.collisionVertexArray,$e.text.placed,!xr||dt,pt.x,pt.y)}const Bt=!!(!dt&&ot.verticalIconBox);ot.iconBox&&rr(c.iconCollisionBox.collisionVertexArray,$e.icon.placed,Bt,ee?pt.x:0,ee?pt.y:0),ot.verticalIconBox&&rr(c.iconCollisionBox.collisionVertexArray,$e.icon.placed,!Bt,ee?pt.x:0,ee?pt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const me=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=me.invProjMatrix,c.placementViewportMatrix=me.viewportMatrix,c.collisionCircleArray=me.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const y=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*y>c}setStale(){this.stale=!0}}function rr(S,c,p,y,x){S.emplaceBack(c?1:0,p?1:0,y||0,x||0),S.emplaceBack(c?1:0,p?1:0,y||0,x||0),S.emplaceBack(c?1:0,p?1:0,y||0,x||0),S.emplaceBack(c?1:0,p?1:0,y||0,x||0)}const Pr=Math.pow(2,25),Br=Math.pow(2,24),gr=Math.pow(2,17),Ar=Math.pow(2,16),Bi=Math.pow(2,9),mt=Math.pow(2,8),$r=Math.pow(2,1);function Ii(S){if(S.opacity===0&&!S.placed)return 0;if(S.opacity===1&&S.placed)return 4294967295;const c=S.placed?1:0,p=Math.floor(127*S.opacity);return p*Pr+c*Br+p*gr+c*Ar+p*Bi+c*mt+p*$r+c}const Kn=0;class Bo{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,y,x,T){const D=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(D,x,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,T())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((N,B)=>N.sortKey-B.sortKey));this._currentPartIndex<D.length;)if(p.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,y),this._currentPartIndex++,T())return!0;return!1}}class DE{constructor(c,p,y,x,T,D,N,B){this.placement=new Wt(c,p,D,N,B),this._currentPlacementIndex=y.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=T,this._done=!1}isDone(){return this._done}continuePlacement(c,p,y){const x=a.browser.now(),T=()=>!this._forceFullPlacement&&a.browser.now()-x>2;for(;this._currentPlacementIndex>=0;){const D=p[c[this._currentPlacementIndex]],N=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=N)&&(!D.maxzoom||D.maxzoom>N)){if(this._inProgressLayer||(this._inProgressLayer=new Bo(D)),this._inProgressLayer.continuePlacement(y[D.source],this.placement,this._showCollisionBoxes,D,T))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Fi=512/a.EXTENT/2;class oa{constructor(c,p,y){this.tileID=c,this.bucketInstanceId=y,this._symbolsByKey={};const x=new Map;for(let T=0;T<p.length;T++){const D=p.get(T),N=D.key,B=x.get(N);B?B.push(D):x.set(N,[D])}for(const[T,D]of x){const N={positions:D.map(B=>({x:Math.floor(B.anchorX*Fi),y:Math.floor(B.anchorY*Fi)})),crossTileIDs:D.map(B=>B.crossTileID)};if(N.positions.length>128){const B=new a.KDBush(N.positions.length,16,Uint16Array);for(const{x:q,y:G}of N.positions)B.add(q,G);B.finish(),delete N.positions,N.index=B}this._symbolsByKey[T]=N}}getScaledCoordinates(c,p){const{x:y,y:x,z:T}=this.tileID.canonical,{x:D,y:N,z:B}=p.canonical,q=Fi/Math.pow(2,B-T),G=(N*a.EXTENT+c.anchorY)*q,K=x*a.EXTENT*Fi;return{x:Math.floor((D*a.EXTENT+c.anchorX)*q-y*a.EXTENT*Fi),y:Math.floor(G-K)}}findMatches(c,p,y){const x=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let T=0;T<c.length;T++){const D=c.get(T);if(D.crossTileID)continue;const N=this._symbolsByKey[D.key];if(!N)continue;const B=this.getScaledCoordinates(D,p);if(N.index){const q=N.index.range(B.x-x,B.y-x,B.x+x,B.y+x).sort();for(const G of q){const K=N.crossTileIDs[G];if(!y[K]){y[K]=!0,D.crossTileID=K;break}}}else if(N.positions)for(let q=0;q<N.positions.length;q++){const G=N.positions[q],K=N.crossTileIDs[q];if(Math.abs(G.x-B.x)<=x&&Math.abs(G.y-B.y)<=x&&!y[K]){y[K]=!0,D.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class q_{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class mh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const y in this.indexes){const x=this.indexes[y],T={};for(const D in x){const N=x[D];N.tileID=N.tileID.unwrapTo(N.tileID.wrap+p),T[N.tileID.key]=N}this.indexes[y]=T}this.lng=c}addBucket(c,p,y){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let T=0;T<p.symbolInstances.length;T++)p.symbolInstances.get(T).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const x=this.usedCrossTileIDs[c.overscaledZ];for(const T in this.indexes){const D=this.indexes[T];if(Number(T)>c.overscaledZ)for(const N in D){const B=D[N];B.tileID.isChildOf(c)&&B.findMatches(p.symbolInstances,c,x)}else{const N=D[c.scaledTo(Number(T)).key];N&&N.findMatches(p.symbolInstances,c,x)}}for(let T=0;T<p.symbolInstances.length;T++){const D=p.symbolInstances.get(T);D.crossTileID||(D.crossTileID=y.generate(),x[D.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new oa(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const y of p.getCrossTileIDsLists())for(const x of y)delete this.usedCrossTileIDs[c][x]}removeStaleBuckets(c){let p=!1;for(const y in this.indexes){const x=this.indexes[y];for(const T in x)c[x[T].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,x[T]),delete x[T],p=!0)}return p}}class Zn{constructor(){this.layerIndexes={},this.crossTileIDs=new q_,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,y){let x=this.layerIndexes[c.id];x===void 0&&(x=this.layerIndexes[c.id]=new mh);let T=!1;const D={};x.handleWrapJump(y);for(const N of p){const B=N.getBucket(c);B&&c.id===B.layerIds[0]&&(B.bucketInstanceId||(B.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(N.tileID,B,this.crossTileIDs)&&(T=!0),D[B.bucketInstanceId]=!0)}return x.removeStaleBuckets(D)&&(T=!0),T}pruneUnusedLayers(c){const p={};c.forEach(y=>{p[y]=!0});for(const y in this.layerIndexes)p[y]||delete this.layerIndexes[y]}}const xl=(S,c)=>a.emitValidationErrors(S,c&&c.filter(p=>p.identifier!=="source.canvas")),lc=a.pick(a.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Xn=a.pick(a.operations,["setCenter","setZoom","setBearing","setPitch"]),gh=a.emptyStyle();class Ui extends a.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new Te(Jt(),this,c._getMapId()),this.imageManager=new de,this.imageManager.setEventedParent(this),this.glyphManager=new Me(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new tt(256,512),this.crossTileSymbolIndex=new Zn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const y=this;this._rtlTextPluginCallback=Ui.registerForPluginStateChange(x=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(T,D)=>{if(a.triggerPluginCompletionEvent(T),D&&D.every(N=>N))for(const N in y.sourceCaches){const B=y.sourceCaches[N].getSource().type;B!=="vector"&&B!=="geojson"||y.sourceCaches[N].reload()}})}),this.on("data",x=>{if(x.dataType!=="source"||x.sourceDataType!=="metadata")return;const T=this.sourceCaches[x.sourceId];if(!T)return;const D=T.getSource();if(D&&D.vectorLayerIds)for(const N in this._layers){const B=this._layers[N];B.source===D.id&&this._validateLayer(B)}})}loadURL(c,p={},y){this.fire(new a.Event("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const x=this.map._requestManager.transformRequest(c,O.Style);this._request=a.getJSON(x,(T,D)=>{this._request=null,T?this.fire(new a.ErrorEvent(T)):D&&this._load(D,p,y)})}loadJSON(c,p={},y){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,y)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(gh,{validate:!1})}_load(c,p,y){const x=p.transformStyle?p.transformStyle(y,c):c;if(!p.validate||!xl(this,a.validateStyle(x))){this._loaded=!0,this.stylesheet=x;for(const T in x.sources)this.addSource(T,x.sources[T],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new He(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}}_createLayers(){const c=a.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const y=a.createStyleLayer(p);y.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=y}}_loadSprite(c,p=!1,y=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(x,T,D,N){const B=H(x),q=B.length,G=D>1?"@2x":"",K={},ee={},ue={};for(const{id:ce,url:me}of B){const le=T.transformRequest(T.normalizeSpriteURL(me,G,".json"),O.SpriteJSON),Oe=`${ce}_${le.url}`;K[Oe]=a.getJSON(le,($e,Ge)=>{delete K[Oe],ee[ce]=Ge,re(N,ee,ue,$e,q)});const Ve=T.transformRequest(T.normalizeSpriteURL(me,G,".png"),O.SpriteImage),ve=`${ce}_${Ve.url}`;K[ve]=A.getImage(Ve,($e,Ge)=>{delete K[ve],ue[ce]=Ge,re(N,ee,ue,$e,q)})}return{cancel(){for(const ce of Object.values(K))ce.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(x,T)=>{if(this._spriteRequest=null,x)this.fire(new a.ErrorEvent(x));else if(T)for(const D in T){this._spritesImagesIds[D]=[];const N=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(B=>!(B in T)):[];for(const B of N)this.imageManager.removeImage(B),this._changedImages[B]=!0;for(const B in T[D]){const q=D==="default"?B:`${D}:${B}`;this._spritesImagesIds[D].push(q),q in this.imageManager.images?this.imageManager.updateImage(q,T[D][B],!1):this.imageManager.addImage(q,T[D][B]),p&&(this._changedImages[q]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"})),y&&y(x)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const y=c.sourceLayer;if(!y)return;const x=p.getSource();(x.type==="geojson"||x.vectorLayerIds&&x.vectorLayerIds.indexOf(y)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${x.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const y=[];for(const x of c)p[x]&&y.push(p[x]);return y}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const y of p){const x=this._layers[y];x.type!=="custom"&&(c[y]=x.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),T=Object.keys(this._removedLayers);(x.length||T.length)&&this._updateWorkerLayers(x,T);for(const D in this._updatedSources){const N=this._updatedSources[D];if(N==="reload")this._reloadSource(D);else{if(N!=="clear")throw new Error(`Invalid action ${N}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const y={};for(const x in this.sourceCaches){const T=this.sourceCaches[x];y[x]=T.used,T.used=!1}for(const x of this._order){const T=this._layers[x];T.recalculate(c,this._availableImages),!T.isHidden(c.zoom)&&T.source&&(this.sourceCaches[T.source].used=!0)}for(const x in y){const T=this.sourceCaches[x];y[x]!==T.used&&T.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:x}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const y=this.serialize();if(c=p.transformStyle?p.transformStyle(y,c):c,xl(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=a.derefLayers(c.layers);const x=a.diffStyles(y,c).filter(D=>!(D.command in Xn));if(x.length===0)return!1;const T=x.filter(D=>!(D.command in lc));if(T.length>0)throw new Error(`Unimplemented: ${T.map(D=>D.command).join(", ")}.`);for(const D of x)D.command!=="setTransition"&&this[D.command].apply(this,D.args);return this.stylesheet=c,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,y={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.validateStyle.source,`sources.${c}`,p,null,y))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const x=this.sourceCaches[c]=new cr(c,p,this.dispatcher);x.style=this,x.setEventedParent(this,()=>({isSourceLoaded:x.loaded(),source:x.serialize(),sourceId:c})),x.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const y in this._layers)if(this._layers[y].source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${y}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const y=this.sourceCaches[c].getSource();if(y.type!=="geojson")throw new Error(`geojsonSource.type is ${y.type}, which is !== 'geojson`);y.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,y={}){this._checkLoaded();const x=c.id;if(this.getLayer(x))return void this.fire(new a.ErrorEvent(new Error(`Layer "${x}" already exists on this map.`)));let T;if(c.type==="custom"){if(xl(this,a.validateCustomStyleLayer(c)))return;T=a.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(x,c.source),c=a.clone$1(c),c=a.extend(c,{source:x})),this._validate(a.validateStyle.layer,`layers.${x}`,c,{arrayIndex:-1},y))return;T=a.createStyleLayer(c),this._validateLayer(T),T.setEventedParent(this,{layer:{id:x}})}const D=p?this._order.indexOf(p):this._order.length;if(p&&D===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${x}" before non-existing layer "${p}".`)));else{if(this._order.splice(D,0,x),this._layerOrderChanged=!0,this._layers[x]=T,this._removedLayers[x]&&T.source&&T.type!=="custom"){const N=this._removedLayers[x];delete this._removedLayers[x],N.type!==T.type?this._updatedSources[T.source]="clear":(this._updatedSources[T.source]="reload",this.sourceCaches[T.source].pause())}this._updateLayer(T),T.onAdd&&T.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const y=this._order.indexOf(c);this._order.splice(y,1);const x=p?this._order.indexOf(p):this._order.length;p&&x===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(x,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const y=this._order.indexOf(c);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,y){this._checkLoaded();const x=this.getLayer(c);x?x.minzoom===p&&x.maxzoom===y||(p!=null&&(x.minzoom=p),y!=null&&(x.maxzoom=y),this._updateLayer(x)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,y={}){this._checkLoaded();const x=this.getLayer(c);if(x){if(!a.deepEqual(x.filter,p))return p==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(a.validateStyle.filter,`layers.${x.id}.filter`,p,null,y)||(x.filter=a.clone$1(p),this._updateLayer(x)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,p,y,x={}){this._checkLoaded();const T=this.getLayer(c);T?a.deepEqual(T.getLayoutProperty(p),y)||(T.setLayoutProperty(p,y,x),this._updateLayer(T)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const y=this.getLayer(c);if(y)return y.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,y,x={}){this._checkLoaded();const T=this.getLayer(c);T?a.deepEqual(T.getPaintProperty(p),y)||(T.setPaintProperty(p,y,x)&&this._updateLayer(T),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const y=c.source,x=c.sourceLayer,T=this.sourceCaches[y];if(T===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const D=T.getSource().type;D==="geojson"&&x?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||x?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),T.setFeatureState(x,c.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const y=c.source,x=this.sourceCaches[y];if(x===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const T=x.getSource().type,D=T==="vector"?c.sourceLayer:void 0;T!=="vector"||D?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):x.removeFeatureState(D,c.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,y=c.sourceLayer,x=this.sourceCaches[p];if(x!==void 0)return x.getSource().type!=="vector"||y?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),x.getFeatureState(y,c.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.mapObject(this.sourceCaches,x=>x.serialize()),p=this._serializeByIds(this._order),y=this.stylesheet;return a.filterObject({version:y.version,name:y.name,metadata:y.metadata,light:y.light,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:c,layers:p},x=>x!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=D=>this._layers[D].type==="fill-extrusion",y={},x=[];for(let D=this._order.length-1;D>=0;D--){const N=this._order[D];if(p(N)){y[N]=D;for(const B of c){const q=B[N];if(q)for(const G of q)x.push(G)}}}x.sort((D,N)=>N.intersectionZ-D.intersectionZ);const T=[];for(let D=this._order.length-1;D>=0;D--){const N=this._order[D];if(p(N))for(let B=x.length-1;B>=0;B--){const q=x[B].feature;if(y[q.layer.id]<D)break;T.push(q),x.pop()}else for(const B of c){const q=B[N];if(q)for(const G of q)T.push(G.feature)}}return T}queryRenderedFeatures(c,p,y){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);const x={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const N of p.layers){const B=this._layers[N];if(!B)return this.fire(new a.ErrorEvent(new Error(`The layer '${N}' does not exist in the map's style and cannot be queried for features.`))),[];x[B.source]=!0}}const T=[];p.availableImages=this._availableImages;const D=this._serializedAllLayers();for(const N in this.sourceCaches)p.layers&&!x[N]||T.push(Nt(this.sourceCaches[N],this._layers,D,c,p,y));return this.placement&&T.push(function(N,B,q,G,K,ee,ue){const ce={},me=ee.queryRenderedSymbols(G),le=[];for(const Oe of Object.keys(me).map(Number))le.push(ue[Oe]);le.sort(Mr);for(const Oe of le){const Ve=Oe.featureIndex.lookupSymbolFeatures(me[Oe.bucketInstanceId],B,Oe.bucketIndex,Oe.sourceLayerIndex,K.filter,K.layers,K.availableImages,N);for(const ve in Ve){const $e=ce[ve]=ce[ve]||[],Ge=Ve[ve];Ge.sort((Ze,et)=>{const dt=Oe.featureSortOrder;if(dt){const ot=dt.indexOf(Ze.featureIndex);return dt.indexOf(et.featureIndex)-ot}return et.featureIndex-Ze.featureIndex});for(const Ze of Ge)$e.push(Ze)}}for(const Oe in ce)ce[Oe].forEach(Ve=>{const ve=Ve.feature,$e=q[N[Oe].source].getFeatureState(ve.layer["source-layer"],ve.id);ve.source=ve.layer.source,ve.layer["source-layer"]&&(ve.sourceLayer=ve.layer["source-layer"]),ve.state=$e});return ce}(this._layers,D,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(T)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p);const y=this.sourceCaches[c];return y?function(x,T){const D=x.getRenderableIds().map(q=>x.getTileByID(q)),N=[],B={};for(let q=0;q<D.length;q++){const G=D[q],K=G.tileID.canonical.key;B[K]||(B[K]=!0,G.querySourceFeatures(N,T))}return N}(y,p):[]}addSourceType(c,p,y){return Zt(c)?y(new Error(`A source type called "${c}" already exists.`)):(((x,T)=>{St[x]=T})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const y=this.light.getLight();let x=!1;for(const D in c)if(!a.deepEqual(c[D],y[D])){x=!0;break}if(!x)return;const T={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(T)}_validate(c,p,y,x,T={}){return(!T||T.validate!==!1)&&xl(this,c.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:y,styleSpec:a.v8Spec},x)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const y=this.sourceCaches[p];y.setEventedParent(null),y.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,y,x,T=!1){let D=!1,N=!1;const B={};for(const q of this._order){const G=this._layers[q];if(G.type!=="symbol")continue;if(!B[G.source]){const ee=this.sourceCaches[G.source];B[G.source]=ee.getRenderableIds(!0).map(ue=>ee.getTileByID(ue)).sort((ue,ce)=>ce.tileID.overscaledZ-ue.tileID.overscaledZ||(ue.tileID.isLessThan(ce.tileID)?-1:1))}const K=this.crossTileSymbolIndex.addLayer(G,B[G.source],c.center.lng);D=D||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((T=T||this._layerOrderChanged||y===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),c.zoom))&&(this.pauseablePlacement=new DE(c,this.map.terrain,this._order,T,p,y,x,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,B),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),N=!0),D&&this.pauseablePlacement.placement.setStale()),N||D)for(const q of this._order){const G=this._layers[q];G.type==="symbol"&&this.placement.updateLayerOpacities(G,B[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,y){this.imageManager.getImages(p.icons,y),this._updateTilesForChangedImages();const x=this.sourceCaches[p.source];x&&x.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,y){this.glyphManager.getGlyphs(p.stacks,y);const x=this.sourceCaches[p.source];x&&x.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,y){return a.makeRequest(p,y)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.validateStyle.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,y={},x){this._checkLoaded();const T=[{id:c,url:p}],D=[...H(this.stylesheet.sprite),...T];this._validate(a.validateStyle.sprite,"sprite",D,null,y)||(this.stylesheet.sprite=D,this._loadSprite(T,!0,x))}removeSprite(c){this._checkLoaded();const p=H(this.stylesheet.sprite);if(p.find(y=>y.id===c)){if(this._spritesImagesIds[c])for(const y of this._spritesImagesIds[c])this.imageManager.removeImage(y),this._changedImages[y]=!0;p.splice(p.findIndex(y=>y.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}else this.fire(new a.ErrorEvent(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return H(this.stylesheet.sprite)}setSprite(c,p={},y){this._checkLoaded(),c&&this._validate(a.validateStyle.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,y):(this._unloadSprite(),y&&y(null)))}}Ui.registerForPluginStateChange=a.registerForPluginStateChange;var yh=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),rs="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const qf={prelude:qr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:qr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:qr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:qr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:qr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:qr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:qr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:qr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:qr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:qr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:qr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:qr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:qr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:qr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:qr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:qr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:qr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:qr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:qr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:qr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:qr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:qr("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",rs),terrainDepth:qr("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",rs),terrainCoords:qr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",rs)};function qr(S,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=c.match(/attribute ([\w]+) ([\w]+)/g),x=S.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=T?T.concat(x):x,N={};return{fragmentSource:S=S.replace(p,(B,q,G,K,ee)=>(N[ee]=!0,q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
varying ${G} ${K} ${ee};
#else
uniform ${G} ${K} u_${ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ee}
    ${G} ${K} ${ee} = u_${ee};
#endif
`)),vertexSource:c=c.replace(p,(B,q,G,K,ee)=>{const ue=K==="float"?"vec2":"vec4",ce=ee.match(/color/)?"color":ue;return N[ee]?q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${G} ${ue} a_${ee};
varying ${G} ${K} ${ee};
#else
uniform ${G} ${K} u_${ee};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${G} ${K} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${ce}(a_${ee}, u_${ee}_t);
#else
    ${G} ${K} ${ee} = u_${ee};
#endif
`:q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${G} ${ue} a_${ee};
#else
uniform ${G} ${K} u_${ee};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${G} ${K} ${ee} = a_${ee};
#else
    ${G} ${K} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${G} ${K} ${ee} = unpack_mix_${ce}(a_${ee}, u_${ee}_t);
#else
    ${G} ${K} ${ee} = u_${ee};
#endif
`}),staticAttributes:y,staticUniforms:D}}class vh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,y,x,T,D,N,B,q){this.context=c;let G=this.boundPaintVertexBuffers.length!==x.length;for(let K=0;!G&&K<x.length;K++)this.boundPaintVertexBuffers[K]!==x[K]&&(G=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==y||G||this.boundIndexBuffer!==T||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==N||this.boundDynamicVertexBuffer2!==B||this.boundDynamicVertexBuffer3!==q?this.freshBind(p,y,x,T,D,N,B,q):(c.bindVertexArray.set(this.vao),N&&N.bind(),T&&T.dynamicDraw&&T.bind(),B&&B.bind(),q&&q.bind())}freshBind(c,p,y,x,T,D,N,B){const q=c.numAttributes,G=this.context,K=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=x,this.boundVertexOffset=T,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=N,this.boundDynamicVertexBuffer3=B,p.enableAttributes(K,c);for(const ee of y)ee.enableAttributes(K,c);D&&D.enableAttributes(K,c),N&&N.enableAttributes(K,c),B&&B.enableAttributes(K,c),p.bind(),p.setVertexAttribPointers(K,c,T);for(const ee of y)ee.bind(),ee.setVertexAttribPointers(K,c,T);D&&(D.bind(),D.setVertexAttribPointers(K,c,T)),x&&x.bind(),N&&(N.bind(),N.setVertexAttribPointers(K,c,T)),B&&(B.bind(),B.setVertexAttribPointers(K,c,T)),G.currentNumAttributes=q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function hu(S){const c=[];for(let p=0;p<S.length;p++){if(S[p]===null)continue;const y=S[p].split(" ");c.push(y.pop())}return c}class bl{constructor(c,p,y,x,T,D){const N=c.gl;this.program=N.createProgram();const B=hu(p.staticAttributes),q=y?y.getBinderAttributes():[],G=B.concat(q),K=qf.prelude.staticUniforms?hu(qf.prelude.staticUniforms):[],ee=p.staticUniforms?hu(p.staticUniforms):[],ue=y?y.getBinderUniforms():[],ce=K.concat(ee).concat(ue),me=[];for(const Ze of ce)me.indexOf(Ze)<0&&me.push(Ze);const le=y?y.defines():[];T&&le.push("#define OVERDRAW_INSPECTOR;"),D&&le.push("#define TERRAIN3D;");const Oe=le.concat(qf.prelude.fragmentSource,p.fragmentSource).join(`
`),Ve=le.concat(qf.prelude.vertexSource,p.vertexSource).join(`
`),ve=N.createShader(N.FRAGMENT_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);N.shaderSource(ve,Oe),N.compileShader(ve),N.attachShader(this.program,ve);const $e=N.createShader(N.VERTEX_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);N.shaderSource($e,Ve),N.compileShader($e),N.attachShader(this.program,$e),this.attributes={};const Ge={};this.numAttributes=G.length;for(let Ze=0;Ze<this.numAttributes;Ze++)G[Ze]&&(N.bindAttribLocation(this.program,Ze,G[Ze]),this.attributes[G[Ze]]=Ze);N.linkProgram(this.program),N.deleteShader($e),N.deleteShader(ve);for(let Ze=0;Ze<me.length;Ze++){const et=me[Ze];if(et&&!Ge[et]){const dt=N.getUniformLocation(this.program,et);dt&&(Ge[et]=dt)}}this.fixedUniforms=x(c,Ge),this.terrainUniforms=((Ze,et)=>({u_depth:new a.Uniform1i(Ze,et.u_depth),u_terrain:new a.Uniform1i(Ze,et.u_terrain),u_terrain_dim:new a.Uniform1f(Ze,et.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Ze,et.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Ze,et.u_terrain_unpack),u_terrain_exaggeration:new a.Uniform1f(Ze,et.u_terrain_exaggeration)}))(c,Ge),this.binderUniforms=y?y.getUniforms(c,Ge):[]}draw(c,p,y,x,T,D,N,B,q,G,K,ee,ue,ce,me,le,Oe,Ve){const ve=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(y),c.setStencilMode(x),c.setColorMode(T),c.setCullFace(D),B){c.activeTexture.set(ve.TEXTURE2),ve.bindTexture(ve.TEXTURE_2D,B.depthTexture),c.activeTexture.set(ve.TEXTURE3),ve.bindTexture(ve.TEXTURE_2D,B.texture);for(const Ge in this.terrainUniforms)this.terrainUniforms[Ge].set(B[Ge])}for(const Ge in this.fixedUniforms)this.fixedUniforms[Ge].set(N[Ge]);me&&me.setUniforms(c,this.binderUniforms,ue,{zoom:ce});let $e=0;switch(p){case ve.LINES:$e=2;break;case ve.TRIANGLES:$e=3;break;case ve.LINE_STRIP:$e=1}for(const Ge of ee.get()){const Ze=Ge.vaos||(Ge.vaos={});(Ze[q]||(Ze[q]=new vh)).bind(c,this,G,me?me.getPaintVertexBuffers():[],K,Ge.vertexOffset,le,Oe,Ve),ve.drawElements(p,Ge.primitiveLength*$e,ve.UNSIGNED_SHORT,Ge.primitiveOffset*$e*2)}}}function _h(S,c,p){const y=1/Ce(p,1,c.transform.tileZoom),x=Math.pow(2,p.tileID.overscaledZ),T=p.tileSize*Math.pow(2,c.transform.tileZoom)/x,D=T*(p.tileID.canonical.x+p.tileID.wrap*x),N=T*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[y,S.fromScale,S.toScale],u_fade:S.t,u_pixel_coord_upper:[D>>16,N>>16],u_pixel_coord_lower:[65535&D,65535&N]}}const Hf=(S,c,p,y)=>{const x=c.style.light,T=x.properties.get("position"),D=[T.x,T.y,T.z],N=function(){var q=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(q[1]=0,q[2]=0,q[3]=0,q[5]=0,q[6]=0,q[7]=0),q[0]=1,q[4]=1,q[8]=1,q}();x.properties.get("anchor")==="viewport"&&function(q,G){var K=Math.sin(G),ee=Math.cos(G);q[0]=ee,q[1]=K,q[2]=0,q[3]=-K,q[4]=ee,q[5]=0,q[6]=0,q[7]=0,q[8]=1}(N,-c.transform.angle),function(q,G,K){var ee=G[0],ue=G[1],ce=G[2];q[0]=ee*K[0]+ue*K[3]+ce*K[6],q[1]=ee*K[1]+ue*K[4]+ce*K[7],q[2]=ee*K[2]+ue*K[5]+ce*K[8]}(D,D,N);const B=x.properties.get("color");return{u_matrix:S,u_lightpos:D,u_lightintensity:x.properties.get("intensity"),u_lightcolor:[B.r,B.g,B.b],u_vertical_gradient:+p,u_opacity:y}},LE=(S,c,p,y,x,T,D)=>a.extend(Hf(S,c,p,y),_h(T,c,D),{u_height_factor:-Math.pow(2,x.overscaledZ)/D.tileSize/8}),H_=S=>({u_matrix:S}),xh=(S,c,p,y)=>a.extend(H_(S),_h(p,c,y)),zE=(S,c)=>({u_matrix:S,u_world:c}),G_=(S,c,p,y,x)=>a.extend(xh(S,c,p,y),{u_world:x}),NE=(S,c,p,y)=>{const x=S.transform;let T,D;if(y.paint.get("circle-pitch-alignment")==="map"){const N=Ce(p,1,x.zoom);T=!0,D=[N,N]}else T=!1,D=x.pixelsToGLUnits;return{u_camera_to_center_distance:x.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:S.translatePosMatrix(c.posMatrix,p,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+T,u_device_pixel_ratio:S.pixelRatio,u_extrude_scale:D}},Y_=(S,c,p)=>{const y=Ce(p,1,c.zoom),x=Math.pow(2,c.zoom-p.tileID.overscaledZ),T=p.tileID.overscaleFactor();return{u_matrix:S,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[c.pixelsToGLUnits[0]/(y*x),c.pixelsToGLUnits[1]/(y*x)],u_overscale_factor:T}},K_=(S,c,p=1)=>({u_matrix:S,u_color:c,u_overlay:0,u_overlay_scale:p}),bh=S=>({u_matrix:S}),Z_=(S,c,p,y)=>({u_matrix:S,u_extrude_scale:Ce(c,1,p),u_intensity:y});function X_(S,c){const p=Math.pow(2,c.canonical.z),y=c.canonical.y;return[new a.MercatorCoordinate(0,y/p).toLngLat().lat,new a.MercatorCoordinate(0,(y+1)/p).toLngLat().lat]}const wh=(S,c,p,y)=>{const x=S.transform;return{u_matrix:Gf(S,c,p,y),u_ratio:1/Ce(c,1,x.zoom),u_device_pixel_ratio:S.pixelRatio,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},J_=(S,c,p,y,x)=>a.extend(wh(S,c,p,x),{u_image:0,u_image_height:y}),cc=(S,c,p,y,x)=>{const T=S.transform,D=Fo(c,T);return{u_matrix:Gf(S,c,p,x),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Ce(c,1,T.zoom),u_device_pixel_ratio:S.pixelRatio,u_image:0,u_scale:[D,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/T.pixelsToGLUnits[0],1/T.pixelsToGLUnits[1]]}},Sh=(S,c,p,y,x,T)=>{const D=S.lineAtlas,N=Fo(c,S.transform),B=p.layout.get("line-cap")==="round",q=D.getDash(y.from,B),G=D.getDash(y.to,B),K=q.width*x.fromScale,ee=G.width*x.toScale;return a.extend(wh(S,c,p,T),{u_patternscale_a:[N/K,-q.height/2],u_patternscale_b:[N/ee,-G.height/2],u_sdfgamma:D.width/(256*Math.min(K,ee)*S.pixelRatio)/2,u_image:0,u_tex_y_a:q.y,u_tex_y_b:G.y,u_mix:x.t})};function Fo(S,c){return 1/Ce(S,1,c.tileZoom)}function Gf(S,c,p,y){return S.translatePosMatrix(y?y.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Eh=(S,c,p,y,x)=>{return{u_matrix:S,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(D=x.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(T=x.paint.get("raster-contrast"),T>0?1/(1-T):1+T),u_spin_weights:Yf(x.paint.get("raster-hue-rotate"))};var T,D};function Yf(S){S*=Math.PI/180;const c=Math.sin(S),p=Math.cos(S);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const Kf=(S,c,p,y,x,T,D,N,B,q)=>{const G=x.transform;return{u_is_size_zoom_constant:+(S==="constant"||S==="source"),u_is_size_feature_constant:+(S==="constant"||S==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:G.cameraToCenterDistance,u_pitch:G.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:G.width/G.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:T,u_label_plane_matrix:D,u_coord_matrix:N,u_is_text:+B,u_pitch_with_map:+y,u_texsize:q,u_texture:0}},Zf=(S,c,p,y,x,T,D,N,B,q,G)=>{const K=x.transform;return a.extend(Kf(S,c,p,y,x,T,D,N,B,q),{u_gamma_scale:y?Math.cos(K._pitch)*K.cameraToCenterDistance:1,u_device_pixel_ratio:x.pixelRatio,u_is_halo:+G})},Xf=(S,c,p,y,x,T,D,N,B,q)=>a.extend(Zf(S,c,p,y,x,T,D,N,!0,B,!0),{u_texsize_icon:q,u_texture_icon:1}),uc=(S,c,p)=>({u_matrix:S,u_opacity:c,u_color:p}),Ch=(S,c,p,y,x,T)=>a.extend(function(D,N,B,q){const G=B.imageManager.getPattern(D.from.toString()),K=B.imageManager.getPattern(D.to.toString()),{width:ee,height:ue}=B.imageManager.getPixelSize(),ce=Math.pow(2,q.tileID.overscaledZ),me=q.tileSize*Math.pow(2,B.transform.tileZoom)/ce,le=me*(q.tileID.canonical.x+q.tileID.wrap*ce),Oe=me*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[ee,ue],u_mix:N.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:N.fromScale,u_scale_b:N.toScale,u_tile_units_to_pixels:1/Ce(q,1,B.transform.tileZoom),u_pixel_coord_upper:[le>>16,Oe>>16],u_pixel_coord_lower:[65535&le,65535&Oe]}}(y,T,p,x),{u_matrix:S,u_opacity:c}),Uo={fillExtrusion:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_lightpos:new a.Uniform3f(S,c.u_lightpos),u_lightintensity:new a.Uniform1f(S,c.u_lightintensity),u_lightcolor:new a.Uniform3f(S,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(S,c.u_vertical_gradient),u_opacity:new a.Uniform1f(S,c.u_opacity)}),fillExtrusionPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_lightpos:new a.Uniform3f(S,c.u_lightpos),u_lightintensity:new a.Uniform1f(S,c.u_lightintensity),u_lightcolor:new a.Uniform3f(S,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(S,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(S,c.u_height_factor),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade),u_opacity:new a.Uniform1f(S,c.u_opacity)}),fill:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),fillPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),fillOutline:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world)}),fillOutlinePattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world),u_image:new a.Uniform1i(S,c.u_image),u_texsize:new a.Uniform2f(S,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),circle:(S,c)=>({u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(S,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(S,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),collisionBox:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(S,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(S,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(S,c.u_overscale_factor)}),collisionCircle:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_inv_matrix:new a.UniformMatrix4f(S,c.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(S,c.u_viewport_size)}),debug:(S,c)=>({u_color:new a.UniformColor(S,c.u_color),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_overlay:new a.Uniform1i(S,c.u_overlay),u_overlay_scale:new a.Uniform1f(S,c.u_overlay_scale)}),clippingMask:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),heatmap:(S,c)=>({u_extrude_scale:new a.Uniform1f(S,c.u_extrude_scale),u_intensity:new a.Uniform1f(S,c.u_intensity),u_matrix:new a.UniformMatrix4f(S,c.u_matrix)}),heatmapTexture:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_world:new a.Uniform2f(S,c.u_world),u_image:new a.Uniform1i(S,c.u_image),u_color_ramp:new a.Uniform1i(S,c.u_color_ramp),u_opacity:new a.Uniform1f(S,c.u_opacity)}),hillshade:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_latrange:new a.Uniform2f(S,c.u_latrange),u_light:new a.Uniform2f(S,c.u_light),u_shadow:new a.UniformColor(S,c.u_shadow),u_highlight:new a.UniformColor(S,c.u_highlight),u_accent:new a.UniformColor(S,c.u_accent)}),hillshadePrepare:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_image:new a.Uniform1i(S,c.u_image),u_dimension:new a.Uniform2f(S,c.u_dimension),u_zoom:new a.Uniform1f(S,c.u_zoom),u_unpack:new a.Uniform4f(S,c.u_unpack)}),line:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels)}),lineGradient:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_image:new a.Uniform1i(S,c.u_image),u_image_height:new a.Uniform1f(S,c.u_image_height)}),linePattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texsize:new a.Uniform2f(S,c.u_texsize),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_image:new a.Uniform1i(S,c.u_image),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_scale:new a.Uniform3f(S,c.u_scale),u_fade:new a.Uniform1f(S,c.u_fade)}),lineSDF:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ratio:new a.Uniform1f(S,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(S,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(S,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(S,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(S,c.u_sdfgamma),u_image:new a.Uniform1i(S,c.u_image),u_tex_y_a:new a.Uniform1f(S,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(S,c.u_tex_y_b),u_mix:new a.Uniform1f(S,c.u_mix)}),raster:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_tl_parent:new a.Uniform2f(S,c.u_tl_parent),u_scale_parent:new a.Uniform1f(S,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(S,c.u_buffer_scale),u_fade_t:new a.Uniform1f(S,c.u_fade_t),u_opacity:new a.Uniform1f(S,c.u_opacity),u_image0:new a.Uniform1i(S,c.u_image0),u_image1:new a.Uniform1i(S,c.u_image1),u_brightness_low:new a.Uniform1f(S,c.u_brightness_low),u_brightness_high:new a.Uniform1f(S,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(S,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(S,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(S,c.u_spin_weights)}),symbolIcon:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texture:new a.Uniform1i(S,c.u_texture)}),symbolSDF:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texture:new a.Uniform1i(S,c.u_texture),u_gamma_scale:new a.Uniform1f(S,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(S,c.u_is_halo)}),symbolTextAndIcon:(S,c)=>({u_is_size_zoom_constant:new a.Uniform1i(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(S,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(S,c.u_size_t),u_size:new a.Uniform1f(S,c.u_size),u_camera_to_center_distance:new a.Uniform1f(S,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(S,c.u_pitch),u_rotate_symbol:new a.Uniform1i(S,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(S,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(S,c.u_fade_change),u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(S,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(S,c.u_coord_matrix),u_is_text:new a.Uniform1i(S,c.u_is_text),u_pitch_with_map:new a.Uniform1i(S,c.u_pitch_with_map),u_texsize:new a.Uniform2f(S,c.u_texsize),u_texsize_icon:new a.Uniform2f(S,c.u_texsize_icon),u_texture:new a.Uniform1i(S,c.u_texture),u_texture_icon:new a.Uniform1i(S,c.u_texture_icon),u_gamma_scale:new a.Uniform1f(S,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(S,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(S,c.u_is_halo)}),background:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_opacity:new a.Uniform1f(S,c.u_opacity),u_color:new a.UniformColor(S,c.u_color)}),backgroundPattern:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_opacity:new a.Uniform1f(S,c.u_opacity),u_image:new a.Uniform1i(S,c.u_image),u_pattern_tl_a:new a.Uniform2f(S,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(S,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(S,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(S,c.u_pattern_br_b),u_texsize:new a.Uniform2f(S,c.u_texsize),u_mix:new a.Uniform1f(S,c.u_mix),u_pattern_size_a:new a.Uniform2f(S,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(S,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(S,c.u_scale_a),u_scale_b:new a.Uniform1f(S,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(S,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(S,c.u_tile_units_to_pixels)}),terrain:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texture:new a.Uniform1i(S,c.u_texture),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)}),terrainDepth:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)}),terrainCoords:(S,c)=>({u_matrix:new a.UniformMatrix4f(S,c.u_matrix),u_texture:new a.Uniform1i(S,c.u_texture),u_terrain_coords_id:new a.Uniform1f(S,c.u_terrain_coords_id),u_ele_delta:new a.Uniform1f(S,c.u_ele_delta)})};class Vo{constructor(c,p,y){this.context=c;const x=c.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Og={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Th{constructor(c,p,y,x){this.length=p.length,this.attributes=y,this.itemSize=p.bytesPerElement,this.dynamicDraw=x,this.context=c;const T=c.gl;this.buffer=T.createBuffer(),c.bindVertexBuffer.set(this.buffer),T.bufferData(T.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?T.DYNAMIC_DRAW:T.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let y=0;y<this.attributes.length;y++){const x=p.attributes[this.attributes[y].name];x!==void 0&&c.enableVertexAttribArray(x)}}setVertexAttribPointers(c,p,y){for(let x=0;x<this.attributes.length;x++){const T=this.attributes[x],D=p.attributes[T.name];D!==void 0&&c.vertexAttribPointer(D,T.components,c[Og[T.type]],!1,this.itemSize,T.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const pu=new WeakMap;function mu(S){if(pu.has(S))return pu.get(S);{const c=S.getParameter(S.VERSION).startsWith("WebGL 2.0");return pu.set(S,c),c}}class Dr{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class kh extends Dr{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Ig extends Dr{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Rg extends Dr{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Ph extends Dr{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Q_ extends Dr{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class ex extends Dr{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class gu extends Dr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class jE extends Dr{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class BE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class FE extends Dr{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class UE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class VE extends Dr{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class WE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class $g extends Dr{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ah extends Dr{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Dg extends Dr{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Lg extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class yu extends Dr{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class tx extends Dr{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class rx extends Dr{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class zg extends Dr{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class fc extends Dr{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class nx extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class vu extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class _u extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class ix extends Dr{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Ng extends Dr{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Nr extends Dr{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const y=this.gl;mu(y)?y.bindVertexArray(c):(p=y.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class Mh extends Dr{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class qE extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class ox extends Dr{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class dc extends Dr{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class HE extends dc{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class GE extends dc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class ax extends dc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class YE{constructor(c,p,y,x,T){this.context=c,this.width=p,this.height=y;const D=c.gl,N=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new HE(c,N),x)this.depthAttachment=T?new ax(c,N):new GE(c,N);else if(T)throw new Error("Stencil cannot be setted without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const y=this.depthAttachment.get();y&&c.deleteRenderbuffer(y)}c.deleteFramebuffer(this.framebuffer)}}class kn{constructor(c,p,y){this.blendFunction=c,this.blendColor=p,this.mask=y}}kn.Replace=[1,0],kn.disabled=new kn(kn.Replace,a.Color.transparent,[!1,!1,!1,!1]),kn.unblended=new kn(kn.Replace,a.Color.transparent,[!0,!0,!0,!0]),kn.alphaBlended=new kn([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Oh{constructor(c){var p,y;if(this.gl=c,this.clearColor=new kh(this),this.clearDepth=new Ig(this),this.clearStencil=new Rg(this),this.colorMask=new Ph(this),this.depthMask=new Q_(this),this.stencilMask=new ex(this),this.stencilFunc=new gu(this),this.stencilOp=new jE(this),this.stencilTest=new BE(this),this.depthRange=new FE(this),this.depthTest=new UE(this),this.depthFunc=new VE(this),this.blend=new WE(this),this.blendFunc=new $g(this),this.blendColor=new Ah(this),this.blendEquation=new Dg(this),this.cullFace=new Lg(this),this.cullFaceSide=new yu(this),this.frontFace=new tx(this),this.program=new rx(this),this.activeTexture=new zg(this),this.viewport=new fc(this),this.bindFramebuffer=new nx(this),this.bindRenderbuffer=new vu(this),this.bindTexture=new _u(this),this.bindVertexBuffer=new ix(this),this.bindElementBuffer=new Ng(this),this.bindVertexArray=new Nr(this),this.pixelStoreUnpack=new Mh(this),this.pixelStoreUnpackPremultiplyAlpha=new qE(this),this.pixelStoreUnpackFlipY=new ox(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),mu(c)){this.HALF_FLOAT=c.HALF_FLOAT;const x=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:x==null?void 0:x.RGBA16F_EXT,this.RGB16F=(y=c.RGB16F)!==null&&y!==void 0?y:x==null?void 0:x.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const x=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=x==null?void 0:x.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Vo(this,c,p)}createVertexBuffer(c,p,y){return new Th(this,c,p,y)}createRenderbuffer(c,p,y){const x=this.gl,T=x.createRenderbuffer();return this.bindRenderbuffer.set(T),x.renderbufferStorage(x.RENDERBUFFER,c,p,y),this.bindRenderbuffer.set(null),T}createFramebuffer(c,p,y,x){return new YE(this,c,p,y,x)}clear({color:c,depth:p,stencil:y}){const x=this.gl;let T=0;c&&(T|=x.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(T|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),y!==void 0&&(T|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),x.clear(T)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.deepEqual(c.blendFunction,kn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return mu(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return mu(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class _r{constructor(c,p,y){this.func=c,this.mask=p,this.range=y}}_r.ReadOnly=!1,_r.ReadWrite=!0,_r.disabled=new _r(519,_r.ReadOnly,[0,1]);const Jf=7680;class hn{constructor(c,p,y,x,T,D){this.test=c,this.ref=p,this.mask=y,this.fail=x,this.depthFail=T,this.pass=D}}hn.disabled=new hn({func:519,mask:0},0,0,Jf,Jf,Jf);class pn{constructor(c,p,y){this.enable=c,this.mode=p,this.frontFace=y}}let hc;function Qf(S,c,p,y,x,T,D){const N=S.context,B=N.gl,q=S.useProgram("collisionBox"),G=[];let K=0,ee=0;for(let ve=0;ve<y.length;ve++){const $e=y[ve],Ge=c.getTile($e),Ze=Ge.getBucket(p);if(!Ze)continue;let et=$e.posMatrix;x[0]===0&&x[1]===0||(et=S.translatePosMatrix($e.posMatrix,Ge,x,T));const dt=D?Ze.textCollisionBox:Ze.iconCollisionBox,ot=Ze.collisionCircleArray;if(ot.length>0){const pt=a.create(),Bt=et;a.mul(pt,Ze.placementInvProjMatrix,S.transform.glCoordMatrix),a.mul(pt,pt,Ze.placementViewportMatrix),G.push({circleArray:ot,circleOffset:ee,transform:Bt,invTransform:pt,coord:$e}),K+=ot.length/4,ee=K}dt&&q.draw(N,B.LINES,_r.disabled,hn.disabled,S.colorModeForRenderPass(),pn.disabled,Y_(et,S.transform,Ge),S.style.map.terrain&&S.style.map.terrain.getTerrainData($e),p.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,null,S.transform.zoom,null,null,dt.collisionVertexBuffer)}if(!D||!G.length)return;const ue=S.useProgram("collisionCircle"),ce=new a.CollisionCircleLayoutArray;ce.resize(4*K),ce._trim();let me=0;for(const ve of G)for(let $e=0;$e<ve.circleArray.length/4;$e++){const Ge=4*$e,Ze=ve.circleArray[Ge+0],et=ve.circleArray[Ge+1],dt=ve.circleArray[Ge+2],ot=ve.circleArray[Ge+3];ce.emplace(me++,Ze,et,dt,ot,0),ce.emplace(me++,Ze,et,dt,ot,1),ce.emplace(me++,Ze,et,dt,ot,2),ce.emplace(me++,Ze,et,dt,ot,3)}(!hc||hc.length<2*K)&&(hc=function(ve){const $e=2*ve,Ge=new a.QuadTriangleArray;Ge.resize($e),Ge._trim();for(let Ze=0;Ze<$e;Ze++){const et=6*Ze;Ge.uint16[et+0]=4*Ze+0,Ge.uint16[et+1]=4*Ze+1,Ge.uint16[et+2]=4*Ze+2,Ge.uint16[et+3]=4*Ze+2,Ge.uint16[et+4]=4*Ze+3,Ge.uint16[et+5]=4*Ze+0}return Ge}(K));const le=N.createIndexBuffer(hc,!0),Oe=N.createVertexBuffer(ce,a.collisionCircleLayout.members,!0);for(const ve of G){const $e={u_matrix:ve.transform,u_inv_matrix:ve.invTransform,u_camera_to_center_distance:(Ve=S.transform).cameraToCenterDistance,u_viewport_size:[Ve.width,Ve.height]};ue.draw(N,B.TRIANGLES,_r.disabled,hn.disabled,S.colorModeForRenderPass(),pn.disabled,$e,S.style.map.terrain&&S.style.map.terrain.getTerrainData(ve.coord),p.id,Oe,le,a.SegmentVector.simpleSegment(0,2*ve.circleOffset,ve.circleArray.length,ve.circleArray.length/2),null,S.transform.zoom,null,null,null)}var Ve;Oe.destroy(),le.destroy()}pn.disabled=new pn(!1,1029,2305),pn.backCCW=new pn(!0,1029,2305);const jg=a.identity(new Float32Array(16));function KE(S,c,p,y,x,T){const{horizontalAlign:D,verticalAlign:N}=a.getAnchorAlignment(S);return new a.Point((-(D-.5)*c/x+y[0])*T,(-(N-.5)*p/x+y[1])*T)}function Bg(S,c,p,y,x,T,D,N,B,q,G){const K=S.text.placedSymbolArray,ee=S.text.dynamicLayoutVertexArray,ue=S.icon.dynamicLayoutVertexArray,ce={};ee.clear();for(let me=0;me<K.length;me++){const le=K.get(me),Oe=le.hidden||!le.crossTileID||S.allowVerticalPlacement&&!le.placedOrientation?null:y[le.crossTileID];if(Oe){const Ve=new a.Point(le.anchorX,le.anchorY),ve=Xt(Ve,p?D:T,G),$e=po(x.cameraToCenterDistance,ve.signedDistanceFromCamera);let Ge=a.evaluateSizeForFeature(S.textSizeData,B,le)*$e/a.ONE_EM;p&&(Ge*=S.tilePixelRatio/N);const{width:Ze,height:et,anchor:dt,textOffset:ot,textBoxScale:pt}=Oe,Bt=KE(dt,Ze,et,ot,pt,Ge),xr=p?Xt(Ve.add(Bt),T,G).point:ve.point.add(c?Bt.rotate(-x.angle):Bt),xt=S.allowVerticalPlacement&&le.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let er=0;er<le.numGlyphs;er++)a.addDynamicAttributes(ee,xr,xt);q&&le.associatedIconIndex>=0&&(ce[le.associatedIconIndex]={shiftedAnchor:xr,angle:xt})}else se(le.numGlyphs,ee)}if(q){ue.clear();const me=S.icon.placedSymbolArray;for(let le=0;le<me.length;le++){const Oe=me.get(le);if(Oe.hidden)se(Oe.numGlyphs,ue);else{const Ve=ce[le];if(Ve)for(let ve=0;ve<Oe.numGlyphs;ve++)a.addDynamicAttributes(ue,Ve.shiftedAnchor,Ve.angle);else se(Oe.numGlyphs,ue)}}S.icon.dynamicLayoutVertexBuffer.updateData(ue)}S.text.dynamicLayoutVertexBuffer.updateData(ee)}function ZE(S,c,p){return p.iconsInText&&c?"symbolTextAndIcon":S?"symbolSDF":"symbolIcon"}function Fg(S,c,p,y,x,T,D,N,B,q,G,K){const ee=S.context,ue=ee.gl,ce=S.transform,me=N==="map",le=B==="map",Oe=N!=="viewport"&&p.layout.get("symbol-placement")!=="point",Ve=me&&!le&&!Oe,ve=!p.layout.get("symbol-sort-key").isConstant();let $e=!1;const Ge=S.depthModeForSublayer(0,_r.ReadOnly),Ze=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),et=[];for(const dt of y){const ot=c.getTile(dt),pt=ot.getBucket(p);if(!pt)continue;const Bt=x?pt.text:pt.icon;if(!Bt||!Bt.segments.get().length||!Bt.hasVisibleVertices)continue;const xr=Bt.programConfigurations.get(p.id),xt=x||pt.sdfIcons,er=x?pt.textSizeData:pt.iconSizeData,Dt=le||ce.pitch!==0,sn=S.useProgram(ZE(xt,x,pt),xr),vr=a.evaluateSizeForZoom(er,ce.zoom),dr=S.style.map.terrain&&S.style.map.terrain.getTerrainData(dt);let tr,jn,Hr,to,Si=[0,0],ti=null;if(x)jn=ot.glyphAtlasTexture,Hr=ue.LINEAR,tr=ot.glyphAtlasTexture.size,pt.iconsInText&&(Si=ot.imageAtlasTexture.size,ti=ot.imageAtlasTexture,to=Dt||S.options.rotating||S.options.zooming||er.kind==="composite"||er.kind==="camera"?ue.LINEAR:ue.NEAREST);else{const li=p.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;jn=ot.imageAtlasTexture,Hr=xt||S.options.rotating||S.options.zooming||li||Dt?ue.LINEAR:ue.NEAREST,tr=ot.imageAtlasTexture.size}const yo=Ce(ot,1,S.transform.zoom),Pa=Jr(dt.posMatrix,le,me,S.transform,yo),Bs=eo(dt.posMatrix,le,me,S.transform,yo),Fs=Ze&&pt.hasTextData(),Cl=p.layout.get("icon-text-fit")!=="none"&&Fs&&pt.hasIconData();if(Oe){const li=S.style.map.terrain?(vo,An)=>S.style.map.terrain.getElevation(dt,vo,An):null,Ti=p.layout.get("text-rotation-alignment")==="map";Ta(pt,dt.posMatrix,S,x,Pa,Bs,le,q,Ti,li)}const bc=S.translatePosMatrix(dt.posMatrix,ot,T,D),Tl=Oe||x&&Ze||Cl?jg:Pa,Ei=S.translatePosMatrix(Bs,ot,T,D,!0),Bn=xt&&p.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ci;Ci=xt?pt.iconsInText?Xf(er.kind,vr,Ve,le,S,bc,Tl,Ei,tr,Si):Zf(er.kind,vr,Ve,le,S,bc,Tl,Ei,x,tr,!0):Kf(er.kind,vr,Ve,le,S,bc,Tl,Ei,x,tr);const Cu={program:sn,buffers:Bt,uniformValues:Ci,atlasTexture:jn,atlasTextureIcon:ti,atlasInterpolation:Hr,atlasInterpolationIcon:to,isSDF:xt,hasHalo:Bn};if(ve&&pt.canOverlap){$e=!0;const li=Bt.segments.get();for(const Ti of li)et.push({segments:new a.SegmentVector([Ti]),sortKey:Ti.sortKey,state:Cu,terrainData:dr})}else et.push({segments:Bt.segments,sortKey:0,state:Cu,terrainData:dr})}$e&&et.sort((dt,ot)=>dt.sortKey-ot.sortKey);for(const dt of et){const ot=dt.state;if(ee.activeTexture.set(ue.TEXTURE0),ot.atlasTexture.bind(ot.atlasInterpolation,ue.CLAMP_TO_EDGE),ot.atlasTextureIcon&&(ee.activeTexture.set(ue.TEXTURE1),ot.atlasTextureIcon&&ot.atlasTextureIcon.bind(ot.atlasInterpolationIcon,ue.CLAMP_TO_EDGE)),ot.isSDF){const pt=ot.uniformValues;ot.hasHalo&&(pt.u_is_halo=1,ed(ot.buffers,dt.segments,p,S,ot.program,Ge,G,K,pt,dt.terrainData)),pt.u_is_halo=0}ed(ot.buffers,dt.segments,p,S,ot.program,Ge,G,K,ot.uniformValues,dt.terrainData)}}function ed(S,c,p,y,x,T,D,N,B,q){const G=y.context;x.draw(G,G.gl.TRIANGLES,T,D,N,pn.disabled,B,q,p.id,S.layoutVertexBuffer,S.indexBuffer,c,p.paint,y.transform.zoom,S.programConfigurations.get(p.id),S.dynamicLayoutVertexBuffer,S.opacityVertexBuffer)}function Ih(S,c,p,y,x){if(!p||!y||!y.imageAtlas)return;const T=y.imageAtlas.patternPositions;let D=T[p.to.toString()],N=T[p.from.toString()];if(!D||!N){const B=x.getPaintProperty(c);D=T[B],N=T[B]}D&&N&&S.setConstantPatternPositions(D,N)}function Ug(S,c,p,y,x,T,D){const N=S.context.gl,B="fill-pattern",q=p.paint.get(B),G=q&&q.constantOr(1),K=p.getCrossfadeParameters();let ee,ue,ce,me,le;D?(ue=G&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=N.LINES):(ue=G?"fillPattern":"fill",ee=N.TRIANGLES);const Oe=q.constantOr(null);for(const Ve of y){const ve=c.getTile(Ve);if(G&&!ve.patternsLoaded())continue;const $e=ve.getBucket(p);if(!$e)continue;const Ge=$e.programConfigurations.get(p.id),Ze=S.useProgram(ue,Ge),et=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ve);G&&(S.context.activeTexture.set(N.TEXTURE0),ve.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Ge.updatePaintBuffers(K)),Ih(Ge,B,Oe,ve,p);const dt=et?Ve:null,ot=S.translatePosMatrix(dt?dt.posMatrix:Ve.posMatrix,ve,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(D){me=$e.indexBuffer2,le=$e.segments2;const pt=[N.drawingBufferWidth,N.drawingBufferHeight];ce=ue==="fillOutlinePattern"&&G?G_(ot,S,K,ve,pt):zE(ot,pt)}else me=$e.indexBuffer,le=$e.segments,ce=G?xh(ot,S,K,ve):H_(ot);Ze.draw(S.context,ee,x,S.stencilModeForClipping(Ve),T,pn.disabled,ce,et,p.id,$e.layoutVertexBuffer,me,le,p.paint,S.transform.zoom,Ge)}}function Rh(S,c,p,y,x,T,D){const N=S.context,B=N.gl,q="fill-extrusion-pattern",G=p.paint.get(q),K=G.constantOr(1),ee=p.getCrossfadeParameters(),ue=p.paint.get("fill-extrusion-opacity"),ce=G.constantOr(null);for(const me of y){const le=c.getTile(me),Oe=le.getBucket(p);if(!Oe)continue;const Ve=S.style.map.terrain&&S.style.map.terrain.getTerrainData(me),ve=Oe.programConfigurations.get(p.id),$e=S.useProgram(K?"fillExtrusionPattern":"fillExtrusion",ve);K&&(S.context.activeTexture.set(B.TEXTURE0),le.imageAtlasTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE),ve.updatePaintBuffers(ee)),Ih(ve,q,ce,le,p);const Ge=S.translatePosMatrix(me.posMatrix,le,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ze=p.paint.get("fill-extrusion-vertical-gradient"),et=K?LE(Ge,S,Ze,ue,me,ee,le):Hf(Ge,S,Ze,ue);$e.draw(N,N.gl.TRIANGLES,x,T,D,pn.backCCW,et,Ve,p.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,p.paint,S.transform.zoom,ve,S.style.map.terrain&&Oe.centroidVertexBuffer)}}function $h(S,c,p,y,x,T,D){const N=S.context,B=N.gl,q=p.fbo;if(!q)return;const G=S.useProgram("hillshade"),K=S.style.map.terrain&&S.style.map.terrain.getTerrainData(c);N.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,q.colorAttachment.get()),G.draw(N,B.TRIANGLES,x,T,D,pn.disabled,((ee,ue,ce,me)=>{const le=ce.paint.get("hillshade-shadow-color"),Oe=ce.paint.get("hillshade-highlight-color"),Ve=ce.paint.get("hillshade-accent-color");let ve=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(ve-=ee.transform.angle);const $e=!ee.options.moving;return{u_matrix:me?me.posMatrix:ee.transform.calculatePosMatrix(ue.tileID.toUnwrapped(),$e),u_image:0,u_latrange:X_(0,ue.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),ve],u_shadow:le,u_highlight:Oe,u_accent:Ve}})(S,p,y,K?c:null),K,y.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments)}function Vg(S,c,p,y,x,T){const D=S.context,N=D.gl,B=c.dem;if(B&&B.data){const q=B.dim,G=B.stride,K=B.getPixels();if(D.activeTexture.set(N.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||S.getTileTexture(G),c.demTexture){const ue=c.demTexture;ue.update(K,{premultiply:!1}),ue.bind(N.NEAREST,N.CLAMP_TO_EDGE)}else c.demTexture=new te(D,K,N.RGBA,{premultiply:!1}),c.demTexture.bind(N.NEAREST,N.CLAMP_TO_EDGE);D.activeTexture.set(N.TEXTURE0);let ee=c.fbo;if(!ee){const ue=new te(D,{width:q,height:q,data:null},N.RGBA);ue.bind(N.LINEAR,N.CLAMP_TO_EDGE),ee=c.fbo=D.createFramebuffer(q,q,!0,!1),ee.colorAttachment.set(ue.texture)}D.bindFramebuffer.set(ee.framebuffer),D.viewport.set([0,0,q,q]),S.useProgram("hillshadePrepare").draw(D,N.TRIANGLES,y,x,T,pn.disabled,((ue,ce)=>{const me=ce.stride,le=a.create();return a.ortho(le,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(le,le,[0,-a.EXTENT,0]),{u_matrix:le,u_image:1,u_dimension:[me,me],u_zoom:ue.overscaledZ,u_unpack:ce.getUnpackVector()}})(c.tileID,B),null,p.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function XE(S,c,p,y,x,T){const D=y.paint.get("raster-fade-duration");if(!T&&D>0){const N=a.browser.now(),B=(N-S.timeAdded)/D,q=c?(N-c.timeAdded)/D:-1,G=p.getSource(),K=x.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),ee=!c||Math.abs(c.tileID.overscaledZ-K)>Math.abs(S.tileID.overscaledZ-K),ue=ee&&S.refreshedUponExpiration?1:a.clamp(ee?B:1-q,0,1);return S.refreshedUponExpiration&&B>=1&&(S.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ue}:{opacity:ue,mix:0}}return{opacity:1,mix:0}}const sx=new a.Color(1,0,0,1),Jn=new a.Color(0,1,0,1),pc=new a.Color(0,0,1,1),aa=new a.Color(1,0,1,1),Wg=new a.Color(0,1,1,1);function Dh(S,c,p,y){Ls(S,0,c+p/2,S.transform.width,p,y)}function qg(S,c,p,y){Ls(S,c-p/2,0,p,S.transform.height,y)}function Ls(S,c,p,y,x,T){const D=S.context,N=D.gl;N.enable(N.SCISSOR_TEST),N.scissor(c*S.pixelRatio,p*S.pixelRatio,y*S.pixelRatio,x*S.pixelRatio),D.clear({color:T}),N.disable(N.SCISSOR_TEST)}function td(S,c,p){const y=S.context,x=y.gl,T=p.posMatrix,D=S.useProgram("debug"),N=_r.disabled,B=hn.disabled,q=S.colorModeForRenderPass(),G="$debug",K=S.style.map.terrain&&S.style.map.terrain.getTerrainData(p);y.activeTexture.set(x.TEXTURE0);const ee=c.getTileByID(p.key).latestRawTileData,ue=Math.floor((ee&&ee.byteLength||0)/1024),ce=c.getTile(p).tileSize,me=512/Math.min(ce,512)*(p.overscaledZ/S.transform.zoom)*.5;let le=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(le+=` => ${p.overscaledZ}`),function(Oe,Ve){Oe.initDebugOverlayCanvas();const ve=Oe.debugOverlayCanvas,$e=Oe.context.gl,Ge=Oe.debugOverlayCanvas.getContext("2d");Ge.clearRect(0,0,ve.width,ve.height),Ge.shadowColor="white",Ge.shadowBlur=2,Ge.lineWidth=1.5,Ge.strokeStyle="white",Ge.textBaseline="top",Ge.font="bold 36px Open Sans, sans-serif",Ge.fillText(Ve,5,5),Ge.strokeText(Ve,5,5),Oe.debugOverlayTexture.update(ve),Oe.debugOverlayTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE)}(S,`${le} ${ue}kB`),D.draw(y,x.TRIANGLES,N,B,kn.alphaBlended,pn.disabled,K_(T,a.Color.transparent,me),null,G,S.debugBuffer,S.quadTriangleIndexBuffer,S.debugSegments),D.draw(y,x.LINE_STRIP,N,B,q,pn.disabled,K_(T,a.Color.red),K,G,S.debugBuffer,S.tileBorderIndexBuffer,S.debugSegments)}function Lh(S,c,p){const y=S.context,x=y.gl,T=S.colorModeForRenderPass(),D=new _r(x.LEQUAL,_r.ReadWrite,S.depthRangeFor3D),N=S.useProgram("terrain"),B=c.getTerrainMesh();y.bindFramebuffer.set(null),y.viewport.set([0,0,S.width,S.height]);for(const q of p){const G=S.renderToTexture.getTexture(q),K=c.getTerrainData(q.tileID);y.activeTexture.set(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,G.texture);const ee={u_matrix:S.transform.calculatePosMatrix(q.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(S.transform.zoom)};N.draw(y,x.TRIANGLES,D,hn.disabled,T,pn.backCCW,ee,K,"terrain",B.vertexBuffer,B.indexBuffer,B.segments)}}class lx{constructor(c,p){this.context=new Oh(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=cr.maxUnderzooming+cr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Zn}resize(c,p,y){if(this.width=Math.floor(c*y),this.height=Math.floor(p*y),this.pixelRatio=y,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style._order)this.style._layers[x].resize()}setup(){const c=this.context,p=new a.PosArray;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,yh.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const y=new a.PosArray;y.emplaceBack(0,0),y.emplaceBack(a.EXTENT,0),y.emplaceBack(0,a.EXTENT),y.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(y,yh.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const x=new a.RasterBoundsArray;x.emplaceBack(0,0,0,0),x.emplaceBack(a.EXTENT,0,a.EXTENT,0),x.emplaceBack(0,a.EXTENT,0,a.EXTENT),x.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(x,Xe.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const T=new a.PosArray;T.emplaceBack(0,0),T.emplaceBack(1,0),T.emplaceBack(0,1),T.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(T,yh.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const D=new a.LineStripIndexArray;D.emplaceBack(0),D.emplaceBack(1),D.emplaceBack(3),D.emplaceBack(2),D.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(D);const N=new a.TriangleIndexArray;N.emplaceBack(0,1,2),N.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(N);const B=this.context.gl;this.stencilClearMode=new hn({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const y=a.create();a.ortho(y,0,this.width,this.height,0,0,1),a.scale(y,y,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,_r.disabled,this.stencilClearMode,kn.disabled,pn.disabled,bh(y),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const y=this.context,x=y.gl;this.nextStencilID+p.length>256&&this.clearStencil(),y.setColorMode(kn.disabled),y.setDepthMode(_r.disabled);const T=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of p){const N=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,B=this.style.map.terrain&&this.style.map.terrain.getTerrainData(D);T.draw(y,x.TRIANGLES,_r.disabled,new hn({func:x.ALWAYS,mask:0},N,255,x.KEEP,x.KEEP,x.REPLACE),kn.disabled,pn.disabled,bh(D.posMatrix),B,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new hn({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new hn({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,y=c.sort((D,N)=>N.overscaledZ-D.overscaledZ),x=y[y.length-1].overscaledZ,T=y[0].overscaledZ-x+1;if(T>1){this.currentStencilSource=void 0,this.nextStencilID+T>256&&this.clearStencil();const D={};for(let N=0;N<T;N++)D[N+x]=new hn({func:p.GEQUAL,mask:255},N+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=T,[D,y]}return[{[x]:hn.disabled},y]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new kn([c.CONSTANT_COLOR,c.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?kn.unblended:kn.alphaBlended}depthModeForSublayer(c,p,y){if(!this.opaquePassEnabledForLayer())return _r.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new _r(y||this.context.gl.LEQUAL,p,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();const y=this.style._order,x=this.style.sourceCaches,T={},D={},N={};for(const B in x){const q=x[B];q.used&&q.prepare(this.context),T[B]=q.getVisibleCoordinates(),D[B]=T[B].slice().reverse(),N[B]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let B=0;B<y.length;B++)if(this.style._layers[y[B]].is3D()){this.opaquePassCutoff=B;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const B=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||B.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(q,G){const K=q.context,ee=K.gl,ue=kn.unblended,ce=new _r(ee.LEQUAL,_r.ReadWrite,[0,1]),me=G.getTerrainMesh(),le=G.sourceCache.getRenderableTiles(),Oe=q.useProgram("terrainDepth");K.bindFramebuffer.set(G.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1});for(const Ve of le){const ve=G.getTerrainData(Ve.tileID),$e={u_matrix:q.transform.calculatePosMatrix(Ve.tileID.toUnwrapped()),u_ele_delta:G.getMeshFrameDelta(q.transform.zoom)};Oe.draw(K,ee.TRIANGLES,ce,hn.disabled,ue,pn.backCCW,$e,ve,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain),function(q,G){const K=q.context,ee=K.gl,ue=kn.unblended,ce=new _r(ee.LEQUAL,_r.ReadWrite,[0,1]),me=G.getTerrainMesh(),le=G.getCoordsTexture(),Oe=G.sourceCache.getRenderableTiles(),Ve=q.useProgram("terrainCoords");K.bindFramebuffer.set(G.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1}),G.coordsIndex=[];for(const ve of Oe){const $e=G.getTerrainData(ve.tileID);K.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,le.texture);const Ge={u_matrix:q.transform.calculatePosMatrix(ve.tileID.toUnwrapped()),u_terrain_coords_id:(255-G.coordsIndex.length)/255,u_texture:0,u_ele_delta:G.getMeshFrameDelta(q.transform.zoom)};Ve.draw(K,ee.TRIANGLES,ce,hn.disabled,ue,pn.backCCW,Ge,$e,"terrain",me.vertexBuffer,me.indexBuffer,me.segments),G.coordsIndex.push(ve.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const B of y){const q=this.style._layers[B];if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const G=D[q.source];(q.type==="custom"||G.length)&&this.renderLayer(this,x[q.source],q,G)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const B=this.style._layers[y[this.currentLayer]],q=x[B.source],G=T[B.source];this._renderTileClippingMasks(B,G),this.renderLayer(this,q,B,G)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const B=this.style._layers[y[this.currentLayer]],q=x[B.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(B))continue;const G=(B.type==="symbol"?N:D)[B.source];this._renderTileClippingMasks(B,T[B.source]),this.renderLayer(this,q,B,G)}if(this.options.showTileBoundaries){const B=function(q,G){let K=null;const ee=Object.values(q._layers).flatMap(le=>le.source&&!le.isHidden(G)?[q.sourceCaches[le.source]]:[]),ue=ee.filter(le=>le.getSource().type==="vector"),ce=ee.filter(le=>le.getSource().type!=="vector"),me=le=>{(!K||K.getSource().maxzoom<le.getSource().maxzoom)&&(K=le)};return ue.forEach(le=>me(le)),K||ce.forEach(le=>me(le)),K}(this.style,this.transform.zoom);B&&function(q,G,K){for(let ee=0;ee<K.length;ee++)td(q,G,K[ee])}(this,B,B.getVisibleCoordinates())}this.options.showPadding&&function(B){const q=B.transform.padding;Dh(B,B.transform.height-(q.top||0),3,sx),Dh(B,q.bottom||0,3,Jn),qg(B,q.left||0,3,pc),qg(B,B.transform.width-(q.right||0),3,aa);const G=B.transform.centerPoint;(function(K,ee,ue,ce){Ls(K,ee-1,ue-10,2,20,ce),Ls(K,ee-10,ue-1,20,2,ce)})(B,G.x,B.transform.height-G.y,Wg)}(this),this.context.setDefault()}renderLayer(c,p,y,x){if(!y.isHidden(this.transform.zoom)&&(y.type==="background"||y.type==="custom"||(x||[]).length))switch(this.id=y.id,y.type){case"symbol":(function(T,D,N,B,q){if(T.renderPass!=="translucent")return;const G=hn.disabled,K=T.colorModeForRenderPass();(N._unevaluatedLayout.hasValue("text-variable-anchor")||N._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(ee,ue,ce,me,le,Oe,Ve){const ve=ue.transform,$e=le==="map",Ge=Oe==="map";for(const Ze of ee){const et=me.getTile(Ze),dt=et.getBucket(ce);if(!dt||!dt.text||!dt.text.segments.get().length)continue;const ot=a.evaluateSizeForZoom(dt.textSizeData,ve.zoom),pt=Ce(et,1,ue.transform.zoom),Bt=Jr(Ze.posMatrix,Ge,$e,ue.transform,pt),xr=ce.layout.get("icon-text-fit")!=="none"&&dt.hasIconData();if(ot){const xt=Math.pow(2,ve.zoom-et.tileID.overscaledZ);Bg(dt,$e,Ge,Ve,ve,Bt,Ze.posMatrix,xt,ot,xr,ue.style.map.terrain?(er,Dt)=>ue.style.map.terrain.getElevation(Ze,er,Dt):null)}}}(B,T,N,D,N.layout.get("text-rotation-alignment"),N.layout.get("text-pitch-alignment"),q),N.paint.get("icon-opacity").constantOr(1)!==0&&Fg(T,D,N,B,!1,N.paint.get("icon-translate"),N.paint.get("icon-translate-anchor"),N.layout.get("icon-rotation-alignment"),N.layout.get("icon-pitch-alignment"),N.layout.get("icon-keep-upright"),G,K),N.paint.get("text-opacity").constantOr(1)!==0&&Fg(T,D,N,B,!0,N.paint.get("text-translate"),N.paint.get("text-translate-anchor"),N.layout.get("text-rotation-alignment"),N.layout.get("text-pitch-alignment"),N.layout.get("text-keep-upright"),G,K),D.map.showCollisionBoxes&&(Qf(T,D,N,B,N.paint.get("text-translate"),N.paint.get("text-translate-anchor"),!0),Qf(T,D,N,B,N.paint.get("icon-translate"),N.paint.get("icon-translate-anchor"),!1))})(c,p,y,x,this.style.placement.variableOffsets);break;case"circle":(function(T,D,N,B){if(T.renderPass!=="translucent")return;const q=N.paint.get("circle-opacity"),G=N.paint.get("circle-stroke-width"),K=N.paint.get("circle-stroke-opacity"),ee=!N.layout.get("circle-sort-key").isConstant();if(q.constantOr(1)===0&&(G.constantOr(1)===0||K.constantOr(1)===0))return;const ue=T.context,ce=ue.gl,me=T.depthModeForSublayer(0,_r.ReadOnly),le=hn.disabled,Oe=T.colorModeForRenderPass(),Ve=[];for(let ve=0;ve<B.length;ve++){const $e=B[ve],Ge=D.getTile($e),Ze=Ge.getBucket(N);if(!Ze)continue;const et=Ze.programConfigurations.get(N.id),dt=T.useProgram("circle",et),ot=Ze.layoutVertexBuffer,pt=Ze.indexBuffer,Bt=T.style.map.terrain&&T.style.map.terrain.getTerrainData($e),xr={programConfiguration:et,program:dt,layoutVertexBuffer:ot,indexBuffer:pt,uniformValues:NE(T,$e,Ge,N),terrainData:Bt};if(ee){const xt=Ze.segments.get();for(const er of xt)Ve.push({segments:new a.SegmentVector([er]),sortKey:er.sortKey,state:xr})}else Ve.push({segments:Ze.segments,sortKey:0,state:xr})}ee&&Ve.sort((ve,$e)=>ve.sortKey-$e.sortKey);for(const ve of Ve){const{programConfiguration:$e,program:Ge,layoutVertexBuffer:Ze,indexBuffer:et,uniformValues:dt,terrainData:ot}=ve.state;Ge.draw(ue,ce.TRIANGLES,me,le,Oe,pn.disabled,dt,ot,N.id,Ze,et,ve.segments,N.paint,T.transform.zoom,$e)}})(c,p,y,x);break;case"heatmap":(function(T,D,N,B){if(N.paint.get("heatmap-opacity")!==0)if(T.renderPass==="offscreen"){const q=T.context,G=q.gl,K=hn.disabled,ee=new kn([G.ONE,G.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ue,ce,me){const le=ue.gl;ue.activeTexture.set(le.TEXTURE1),ue.viewport.set([0,0,ce.width/4,ce.height/4]);let Oe=me.heatmapFbo;if(Oe)le.bindTexture(le.TEXTURE_2D,Oe.colorAttachment.get()),ue.bindFramebuffer.set(Oe.framebuffer);else{const Ve=le.createTexture();le.bindTexture(le.TEXTURE_2D,Ve),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),Oe=me.heatmapFbo=ue.createFramebuffer(ce.width/4,ce.height/4,!1,!1),function(ve,$e,Ge,Ze){var et,dt;const ot=ve.gl,pt=(et=ve.HALF_FLOAT)!==null&&et!==void 0?et:ot.UNSIGNED_BYTE,Bt=(dt=ve.RGBA16F)!==null&&dt!==void 0?dt:ot.RGBA;ot.texImage2D(ot.TEXTURE_2D,0,Bt,$e.width/4,$e.height/4,0,ot.RGBA,pt,null),Ze.colorAttachment.set(Ge)}(ue,ce,Ve,Oe)}})(q,T,N),q.clear({color:a.Color.transparent});for(let ue=0;ue<B.length;ue++){const ce=B[ue];if(D.hasRenderableParent(ce))continue;const me=D.getTile(ce),le=me.getBucket(N);if(!le)continue;const Oe=le.programConfigurations.get(N.id),Ve=T.useProgram("heatmap",Oe),{zoom:ve}=T.transform;Ve.draw(q,G.TRIANGLES,_r.disabled,K,ee,pn.disabled,Z_(ce.posMatrix,me,ve,N.paint.get("heatmap-intensity")),null,N.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,N.paint,T.transform.zoom,Oe)}q.viewport.set([0,0,T.width,T.height])}else T.renderPass==="translucent"&&(T.context.setColorMode(T.colorModeForRenderPass()),function(q,G){const K=q.context,ee=K.gl,ue=G.heatmapFbo;if(!ue)return;K.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,ue.colorAttachment.get()),K.activeTexture.set(ee.TEXTURE1);let ce=G.colorRampTexture;ce||(ce=G.colorRampTexture=new te(K,G.colorRamp,ee.RGBA)),ce.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),q.useProgram("heatmapTexture").draw(K,ee.TRIANGLES,_r.disabled,hn.disabled,q.colorModeForRenderPass(),pn.disabled,((me,le,Oe,Ve)=>{const ve=a.create();a.ortho(ve,0,me.width,me.height,0,0,1);const $e=me.context.gl;return{u_matrix:ve,u_world:[$e.drawingBufferWidth,$e.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:le.paint.get("heatmap-opacity")}})(q,G),null,G.id,q.viewportBuffer,q.quadTriangleIndexBuffer,q.viewportSegments,G.paint,q.transform.zoom)}(T,N))})(c,p,y,x);break;case"line":(function(T,D,N,B){if(T.renderPass!=="translucent")return;const q=N.paint.get("line-opacity"),G=N.paint.get("line-width");if(q.constantOr(1)===0||G.constantOr(1)===0)return;const K=T.depthModeForSublayer(0,_r.ReadOnly),ee=T.colorModeForRenderPass(),ue=N.paint.get("line-dasharray"),ce=N.paint.get("line-pattern"),me=ce.constantOr(1),le=N.paint.get("line-gradient"),Oe=N.getCrossfadeParameters(),Ve=me?"linePattern":ue?"lineSDF":le?"lineGradient":"line",ve=T.context,$e=ve.gl;let Ge=!0;for(const Ze of B){const et=D.getTile(Ze);if(me&&!et.patternsLoaded())continue;const dt=et.getBucket(N);if(!dt)continue;const ot=dt.programConfigurations.get(N.id),pt=T.context.program.get(),Bt=T.useProgram(Ve,ot),xr=Ge||Bt.program!==pt,xt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Ze),er=ce.constantOr(null);if(er&&et.imageAtlas){const vr=et.imageAtlas,dr=vr.patternPositions[er.to.toString()],tr=vr.patternPositions[er.from.toString()];dr&&tr&&ot.setConstantPatternPositions(dr,tr)}const Dt=xt?Ze:null,sn=me?cc(T,et,N,Oe,Dt):ue?Sh(T,et,N,ue,Oe,Dt):le?J_(T,et,N,dt.lineClipsArray.length,Dt):wh(T,et,N,Dt);if(me)ve.activeTexture.set($e.TEXTURE0),et.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),ot.updatePaintBuffers(Oe);else if(ue&&(xr||T.lineAtlas.dirty))ve.activeTexture.set($e.TEXTURE0),T.lineAtlas.bind(ve);else if(le){const vr=dt.gradients[N.id];let dr=vr.texture;if(N.gradientVersion!==vr.version){let tr=256;if(N.stepInterpolant){const jn=D.getSource().maxzoom,Hr=Ze.canonical.z===jn?Math.ceil(1<<T.transform.maxZoom-Ze.canonical.z):1;tr=a.clamp(a.nextPowerOfTwo(dt.maxLineLength/a.EXTENT*1024*Hr),256,ve.maxTextureSize)}vr.gradient=a.renderColorRamp({expression:N.gradientExpression(),evaluationKey:"lineProgress",resolution:tr,image:vr.gradient||void 0,clips:dt.lineClipsArray}),vr.texture?vr.texture.update(vr.gradient):vr.texture=new te(ve,vr.gradient,$e.RGBA),vr.version=N.gradientVersion,dr=vr.texture}ve.activeTexture.set($e.TEXTURE0),dr.bind(N.stepInterpolant?$e.NEAREST:$e.LINEAR,$e.CLAMP_TO_EDGE)}Bt.draw(ve,$e.TRIANGLES,K,T.stencilModeForClipping(Ze),ee,pn.disabled,sn,xt,N.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,N.paint,T.transform.zoom,ot,dt.layoutVertexBuffer2),Ge=!1}})(c,p,y,x);break;case"fill":(function(T,D,N,B){const q=N.paint.get("fill-color"),G=N.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const K=T.colorModeForRenderPass(),ee=N.paint.get("fill-pattern"),ue=T.opaquePassEnabledForLayer()&&!ee.constantOr(1)&&q.constantOr(a.Color.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(T.renderPass===ue){const ce=T.depthModeForSublayer(1,T.renderPass==="opaque"?_r.ReadWrite:_r.ReadOnly);Ug(T,D,N,B,ce,K,!1)}if(T.renderPass==="translucent"&&N.paint.get("fill-antialias")){const ce=T.depthModeForSublayer(N.getPaintProperty("fill-outline-color")?2:0,_r.ReadOnly);Ug(T,D,N,B,ce,K,!0)}})(c,p,y,x);break;case"fill-extrusion":(function(T,D,N,B){const q=N.paint.get("fill-extrusion-opacity");if(q!==0&&T.renderPass==="translucent"){const G=new _r(T.context.gl.LEQUAL,_r.ReadWrite,T.depthRangeFor3D);if(q!==1||N.paint.get("fill-extrusion-pattern").constantOr(1))Rh(T,D,N,B,G,hn.disabled,kn.disabled),Rh(T,D,N,B,G,T.stencilModeFor3D(),T.colorModeForRenderPass());else{const K=T.colorModeForRenderPass();Rh(T,D,N,B,G,hn.disabled,K)}}})(c,p,y,x);break;case"hillshade":(function(T,D,N,B){if(T.renderPass!=="offscreen"&&T.renderPass!=="translucent")return;const q=T.context,G=T.depthModeForSublayer(0,_r.ReadOnly),K=T.colorModeForRenderPass(),[ee,ue]=T.renderPass==="translucent"?T.stencilConfigForOverlap(B):[{},B];for(const ce of ue){const me=D.getTile(ce);me.needsHillshadePrepare!==void 0&&me.needsHillshadePrepare&&T.renderPass==="offscreen"?Vg(T,me,N,G,hn.disabled,K):T.renderPass==="translucent"&&$h(T,ce,me,N,G,ee[ce.overscaledZ],K)}q.viewport.set([0,0,T.width,T.height])})(c,p,y,x);break;case"raster":(function(T,D,N,B){if(T.renderPass!=="translucent"||N.paint.get("raster-opacity")===0||!B.length)return;const q=T.context,G=q.gl,K=D.getSource(),ee=T.useProgram("raster"),ue=T.colorModeForRenderPass(),[ce,me]=K instanceof ct?[{},B]:T.stencilConfigForOverlap(B),le=me[me.length-1].overscaledZ,Oe=!T.options.moving;for(const Ve of me){const ve=T.depthModeForSublayer(Ve.overscaledZ-le,N.paint.get("raster-opacity")===1?_r.ReadWrite:_r.ReadOnly,G.LESS),$e=D.getTile(Ve);$e.registerFadeDuration(N.paint.get("raster-fade-duration"));const Ge=D.findLoadedParent(Ve,0),Ze=XE($e,Ge,D,N,T.transform,T.style.map.terrain);let et,dt;const ot=N.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;q.activeTexture.set(G.TEXTURE0),$e.texture.bind(ot,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),q.activeTexture.set(G.TEXTURE1),Ge?(Ge.texture.bind(ot,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),et=Math.pow(2,Ge.tileID.overscaledZ-$e.tileID.overscaledZ),dt=[$e.tileID.canonical.x*et%1,$e.tileID.canonical.y*et%1]):$e.texture.bind(ot,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST);const pt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Ve),Bt=pt?Ve:null,xr=Bt?Bt.posMatrix:T.transform.calculatePosMatrix(Ve.toUnwrapped(),Oe),xt=Eh(xr,dt||[0,0],et||1,Ze,N);K instanceof ct?ee.draw(q,G.TRIANGLES,ve,hn.disabled,ue,pn.disabled,xt,pt,N.id,K.boundsBuffer,T.quadTriangleIndexBuffer,K.boundsSegments):ee.draw(q,G.TRIANGLES,ve,ce[Ve.overscaledZ],ue,pn.disabled,xt,pt,N.id,T.rasterBoundsBuffer,T.quadTriangleIndexBuffer,T.rasterBoundsSegments)}})(c,p,y,x);break;case"background":(function(T,D,N,B){const q=N.paint.get("background-color"),G=N.paint.get("background-opacity");if(G===0)return;const K=T.context,ee=K.gl,ue=T.transform,ce=ue.tileSize,me=N.paint.get("background-pattern");if(T.isPatternMissing(me))return;const le=!me&&q.a===1&&G===1&&T.opaquePassEnabledForLayer()?"opaque":"translucent";if(T.renderPass!==le)return;const Oe=hn.disabled,Ve=T.depthModeForSublayer(0,le==="opaque"?_r.ReadWrite:_r.ReadOnly),ve=T.colorModeForRenderPass(),$e=T.useProgram(me?"backgroundPattern":"background"),Ge=B||ue.coveringTiles({tileSize:ce,terrain:T.style.map.terrain});me&&(K.activeTexture.set(ee.TEXTURE0),T.imageManager.bind(T.context));const Ze=N.getCrossfadeParameters();for(const et of Ge){const dt=B?et.posMatrix:T.transform.calculatePosMatrix(et.toUnwrapped()),ot=me?Ch(dt,G,T,me,{tileID:et,tileSize:ce},Ze):uc(dt,G,q),pt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(et);$e.draw(K,ee.TRIANGLES,Ve,Oe,ve,pn.disabled,ot,pt,N.id,T.tileExtentBuffer,T.quadTriangleIndexBuffer,T.tileExtentSegments)}})(c,0,y,x);break;case"custom":(function(T,D,N){const B=T.context,q=N.implementation;if(T.renderPass==="offscreen"){const G=q.prerender;G&&(T.setCustomLayerDefaults(),B.setColorMode(T.colorModeForRenderPass()),G.call(q,B.gl,T.transform.customLayerMatrix()),B.setDirty(),T.setBaseState())}else if(T.renderPass==="translucent"){T.setCustomLayerDefaults(),B.setColorMode(T.colorModeForRenderPass()),B.setStencilMode(hn.disabled);const G=q.renderingMode==="3d"?new _r(T.context.gl.LEQUAL,_r.ReadWrite,T.depthRangeFor3D):T.depthModeForSublayer(0,_r.ReadOnly);B.setDepthMode(G),q.render(B.gl,T.transform.customLayerMatrix()),B.setDirty(),T.setBaseState(),B.bindFramebuffer.set(null)}})(c,0,y)}}translatePosMatrix(c,p,y,x,T){if(!y[0]&&!y[1])return c;const D=T?x==="map"?this.transform.angle:0:x==="viewport"?-this.transform.angle:0;if(D){const q=Math.sin(D),G=Math.cos(D);y=[y[0]*G-y[1]*q,y[0]*q+y[1]*G]}const N=[T?y[0]:Ce(p,y[0],this.transform.zoom),T?y[1]:Ce(p,y[1],this.transform.zoom),0],B=new Float32Array(16);return a.translate(B,c,N),B}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),y=this.imageManager.getPattern(c.to.toString());return!p||!y}useProgram(c,p){this.cache=this.cache||{};const y=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[y]||(this.cache[y]=new bl(this.context,qf[c],p,Uo[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[y]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new te(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class zh{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,y){const x=Math.pow(2,y),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(N=>{const B=1/(N=a.transformMat4([],N,c))[3]/p*x;return a.mul$1(N,N,[B,B,1/N[3],B])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(N=>{const B=function(ee,ue){var ce=ue[0],me=ue[1],le=ue[2],Oe=ce*ce+me*me+le*le;return Oe>0&&(Oe=1/Math.sqrt(Oe)),ee[0]=ue[0]*Oe,ee[1]=ue[1]*Oe,ee[2]=ue[2]*Oe,ee}([],function(ee,ue,ce){var me=ue[0],le=ue[1],Oe=ue[2],Ve=ce[0],ve=ce[1],$e=ce[2];return ee[0]=le*$e-Oe*ve,ee[1]=Oe*Ve-me*$e,ee[2]=me*ve-le*Ve,ee}([],L([],T[N[0]],T[N[1]]),L([],T[N[2]],T[N[1]]))),q=-((G=B)[0]*(K=T[N[1]])[0]+G[1]*K[1]+G[2]*K[2]);var G,K;return B.concat(q)});return new zh(T,D)}}class rd{constructor(c,p){this.min=c,this.max=p,this.center=function(y,x,T){return y[0]=.5*x[0],y[1]=.5*x[1],y[2]=.5*x[2],y}([],function(y,x,T){return y[0]=x[0]+T[0],y[1]=x[1]+T[1],y[2]=x[2]+T[2],y}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],y=R(this.min),x=R(this.max);for(let T=0;T<p.length;T++)y[T]=p[T]?this.min[T]:this.center[T],x[T]=p[T]?this.center[T]:this.max[T];return x[2]=this.max[2],new rd(y,x)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let y=!0;for(let x=0;x<c.planes.length;x++){const T=c.planes[x];let D=0;for(let N=0;N<p.length;N++)a.dot(T,p[N])>=0&&D++;if(D===0)return 0;D!==p.length&&(y=!1)}if(y)return 2;for(let x=0;x<3;x++){let T=Number.MAX_VALUE,D=-Number.MAX_VALUE;for(let N=0;N<c.points.length;N++){const B=c.points[N][x]-this.min[x];T=Math.min(T,B),D=Math.max(D,B)}if(D<0||T>this.max[x]-this.min[x])return 0}return 1}}class Nh{constructor(c=0,p=0,y=0,x=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(y)||y<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=y,this.right=x}interpolate(c,p,y){return p.top!=null&&c.top!=null&&(this.top=a.interpolate.number(c.top,p.top,y)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.interpolate.number(c.bottom,p.bottom,y)),p.left!=null&&c.left!=null&&(this.left=a.interpolate.number(c.left,p.left,y)),p.right!=null&&c.right!=null&&(this.right=a.interpolate.number(c.right,p.right,y)),this}getCenter(c,p){const y=a.clamp((this.left+c-this.right)/2,0,c),x=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(y,x)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Nh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class jh{constructor(c,p,y,x,T){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=T===void 0||!!T,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=y??0,this._maxPitch=x??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Nh,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new jh(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var y=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}(),function(y,x,T){var D=x[0],N=x[1],B=x[2],q=x[3],G=Math.sin(T),K=Math.cos(T);y[0]=D*K+B*G,y[1]=N*K+q*G,y[2]=D*-G+B*K,y[3]=N*-G+q*K}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,y){this._unmodified=!1,this._edgeInsets.interpolate(c,p,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const y=this.pointCoordinate(new a.Point(0,0)),x=this.pointCoordinate(new a.Point(this.width,0)),T=this.pointCoordinate(new a.Point(this.width,this.height)),D=this.pointCoordinate(new a.Point(0,this.height)),N=Math.floor(Math.min(y.x,x.x,T.x,D.x)),B=Math.floor(Math.max(y.x,x.x,T.x,D.x)),q=1;for(let G=N-q;G<=B+q;G++)G!==0&&p.push(new a.UnwrappedTileID(G,c))}return p}coveringTiles(c){var p,y;let x=this.coveringZoomLevel(c);const T=x;if(c.minzoom!==void 0&&x<c.minzoom)return[];c.maxzoom!==void 0&&x>c.maxzoom&&(x=c.maxzoom);const D=this.pointCoordinate(this.getCameraPoint()),N=a.MercatorCoordinate.fromLngLat(this.center),B=Math.pow(2,x),q=[B*D.x,B*D.y,0],G=[B*N.x,B*N.y,0],K=zh.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,x);let ee=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ee=x);const ue=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,ce=ve=>({aabb:new rd([ve*B,0,0],[(ve+1)*B,B,0]),zoom:0,x:0,y:0,wrap:ve,fullyVisible:!1}),me=[],le=[],Oe=x,Ve=c.reparseOverscaled?T:x;if(this._renderWorldCopies)for(let ve=1;ve<=3;ve++)me.push(ce(-ve)),me.push(ce(ve));for(me.push(ce(0));me.length>0;){const ve=me.pop(),$e=ve.x,Ge=ve.y;let Ze=ve.fullyVisible;if(!Ze){const Bt=ve.aabb.intersects(K);if(Bt===0)continue;Ze=Bt===2}const et=c.terrain?q:G,dt=ve.aabb.distanceX(et),ot=ve.aabb.distanceY(et),pt=Math.max(Math.abs(dt),Math.abs(ot));if(ve.zoom===Oe||pt>ue+(1<<Oe-ve.zoom)-2&&ve.zoom>=ee){const Bt=Oe-ve.zoom,xr=q[0]-.5-($e<<Bt),xt=q[1]-.5-(Ge<<Bt);le.push({tileID:new a.OverscaledTileID(ve.zoom===Oe?Ve:ve.zoom,ve.wrap,ve.zoom,$e,Ge),distanceSq:F([G[0]-.5-$e,G[1]-.5-Ge]),tileDistanceToCamera:Math.sqrt(xr*xr+xt*xt)})}else for(let Bt=0;Bt<4;Bt++){const xr=($e<<1)+Bt%2,xt=(Ge<<1)+(Bt>>1),er=ve.zoom+1;let Dt=ve.aabb.quadrant(Bt);if(c.terrain){const sn=new a.OverscaledTileID(er,ve.wrap,er,xr,xt),vr=c.terrain.getMinMaxElevation(sn),dr=(p=vr.minElevation)!==null&&p!==void 0?p:this.elevation,tr=(y=vr.maxElevation)!==null&&y!==void 0?y:this.elevation;Dt=new rd([Dt.min[0],Dt.min[1],dr],[Dt.max[0],Dt.max[1],tr])}me.push({aabb:Dt,zoom:er,x:xr,y:xt,wrap:ve.wrap,fullyVisible:Ze})}}return le.sort((ve,$e)=>ve.distanceSq-$e.distanceSq).map(ve=>ve.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),y=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-y))return;const x=this.getCameraPosition(),T=a.MercatorCoordinate.fromLngLat(x.lngLat,x.altitude),D=a.MercatorCoordinate.fromLngLat(p,y),N=T.x-D.x,B=T.y-D.y,q=T.z-D.z,G=Math.sqrt(N*N+B*B+q*q),K=this.scaleZoom(this.cameraToCenterDistance/G/this.tileSize);this._elevation=y,this._center=p,this.zoom=K}setLocationAtPoint(c,p){const y=this.pointCoordinate(p),x=this.pointCoordinate(this.centerPoint),T=this.locationCoordinate(c),D=new a.MercatorCoordinate(T.x-(y.x-x.x),T.y-(y.y-x.y));this.center=this.coordinateLocation(D),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const ee=p.pointCoordinate(c);if(ee!=null)return ee}const y=[c.x,c.y,0,1],x=[c.x,c.y,1,1];a.transformMat4(y,y,this.pixelMatrixInverse),a.transformMat4(x,x,this.pixelMatrixInverse);const T=y[3],D=x[3],N=y[1]/T,B=x[1]/D,q=y[2]/T,G=x[2]/D,K=q===G?0:(0-q)/(G-q);return new a.MercatorCoordinate(a.interpolate.number(y[0]/T,x[0]/D,K)/this.worldSize,a.interpolate.number(N,B,K)/this.worldSize)}coordinatePoint(c,p=0,y=this.pixelMatrix){const x=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.transformMat4(x,x,y),new a.Point(x[0]/x[3],x[1]/x[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new De().extend(this.pointLocation(new a.Point(0,c))).extend(this.pointLocation(new a.Point(this.width,c))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new De([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const y=c.key,x=p?this._alignedPosMatrixCache:this._posMatrixCache;if(x[y])return x[y];const T=c.canonical,D=this.worldSize/this.zoomScale(T.z),N=T.x+Math.pow(2,T.z)*c.wrap,B=a.identity(new Float64Array(16));return a.translate(B,B,[N*D,T.y*D,0]),a.scale(B,B,[D/a.EXTENT,D/a.EXTENT,1]),a.multiply(B,p?this.alignedProjMatrix:this.projMatrix,B),x[y]=new Float32Array(B),x[y]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,y,x,T=-90,D=90,N=-180,B=180;const q=this.size,G=this._unmodified;if(this.latRange){const ue=this.latRange;T=a.mercatorYfromLat(ue[1])*this.worldSize,D=a.mercatorYfromLat(ue[0])*this.worldSize,c=D-T<q.y?q.y/(D-T):0}if(this.lngRange){const ue=this.lngRange;N=a.wrap(a.mercatorXfromLng(ue[0])*this.worldSize,0,this.worldSize),B=a.wrap(a.mercatorXfromLng(ue[1])*this.worldSize,0,this.worldSize),B<N&&(B+=this.worldSize),p=B-N<q.x?q.x/(B-N):0}const K=this.point,ee=Math.max(p||0,c||0);if(ee)return this.center=this.unproject(new a.Point(p?(B+N)/2:K.x,c?(D+T)/2:K.y)),this.zoom+=this.scaleZoom(ee),this._unmodified=G,void(this._constraining=!1);if(this.latRange){const ue=K.y,ce=q.y/2;ue-ce<T&&(x=T+ce),ue+ce>D&&(x=D-ce)}if(this.lngRange){const ue=(N+B)/2,ce=a.wrap(K.x,ue-this.worldSize/2,ue+this.worldSize/2),me=q.x/2;ce-me<N&&(y=N+me),ce+me>B&&(y=B-me)}y===void 0&&x===void 0||(this.center=this.unproject(new a.Point(y!==void 0?y:K.x,x!==void 0?x:K.y)).wrap()),this._unmodified=G,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,y=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let x=a.identity(new Float64Array(16));a.scale(x,x,[this.width/2,-this.height/2,1]),a.translate(x,x,[1,-1,0]),this.labelPlaneMatrix=x,x=a.identity(new Float64Array(16)),a.scale(x,x,[1,-1,1]),a.translate(x,x,[-1,-1,0]),a.scale(x,x,[2/this.width,2/this.height,1]),this.glCoordMatrix=x;const T=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),D=Math.min(this.elevation,this._minEleveationForCurrentTile),N=T-D*this._pixelPerMeter/Math.cos(this._pitch),B=D<0?N:T,q=Math.PI/2+this._pitch,G=this._fov*(.5+c.y/this.height),K=Math.sin(G)*B/Math.sin(a.clamp(Math.PI-q-G,.01,Math.PI-.01)),ee=this.getHorizon(),ue=2*Math.atan(ee/this.cameraToCenterDistance)*(.5+c.y/(2*ee)),ce=Math.sin(ue)*B/Math.sin(a.clamp(Math.PI-q-ue,.01,Math.PI-.01)),me=Math.min(K,ce),le=1.01*(Math.cos(Math.PI/2-this._pitch)*me+B),Oe=this.height/50;x=new Float64Array(16),a.perspective(x,this._fov,this.width/this.height,Oe,le),x[8]=2*-c.x/this.width,x[9]=2*c.y/this.height,a.scale(x,x,[1,-1,1]),a.translate(x,x,[0,0,-this.cameraToCenterDistance]),a.rotateX(x,x,this._pitch),a.rotateZ(x,x,this.angle),a.translate(x,x,[-p,-y,0]),this.mercatorMatrix=a.scale([],x,[this.worldSize,this.worldSize,this.worldSize]),a.scale(x,x,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,x),a.translate(x,x,[0,0,-this.elevation]),this.projMatrix=x,this.invProjMatrix=a.invert([],x),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,x);const Ve=this.width%2/2,ve=this.height%2/2,$e=Math.cos(this.angle),Ge=Math.sin(this.angle),Ze=p-Math.round(p)+$e*Ve+Ge*ve,et=y-Math.round(y)+$e*ve+Ge*Ve,dt=new Float64Array(x);if(a.translate(dt,dt,[Ze>.5?Ze-1:Ze,et>.5?et-1:et,0]),this.alignedProjMatrix=dt,x=a.invert(new Float64Array(16),this.pixelMatrix),!x)throw new Error("failed to invert matrix");this.pixelMatrixInverse=x,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let y=p.x,x=p.y,T=p.x,D=p.y;for(const N of c)y=Math.min(y,N.x),x=Math.min(x,N.y),T=Math.max(T,N.x),D=Math.max(D,N.y);return[new a.Point(y,x),new a.Point(T,x),new a.Point(T,D),new a.Point(y,D),new a.Point(y,x)]}}}class mc{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let y;return p.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(y=x)}),(y&&y[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(y=>isNaN(y))){const y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:y,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=function(p,y){let x=!1,T=null;const D=()=>{T=null,x&&(p(),T=setTimeout(D,300),x=!1)};return()=>(x=!0,T||D(),T)}(this._updateHashUnthrottled),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),y=Math.round(100*this._map.getZoom())/100,x=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),T=Math.pow(10,x),D=Math.round(p.lng*T)/T,N=Math.round(p.lat*T)/T,B=this._map.getBearing(),q=this._map.getPitch();let G="";if(G+=c?`/${D}/${N}/${y}`:`${y}/${N}/${D}`,(B||q)&&(G+="/"+Math.round(10*B)/10),q&&(G+=`/${Math.round(q)}`),this._hashName){const K=this._hashName;let ee=!1;const ue=window.location.hash.slice(1).split("&").map(ce=>{const me=ce.split("=")[0];return me===K?(ee=!0,`${me}=${G}`):ce}).filter(ce=>ce);return ee||ue.push(`${K}=${G}`),`#${ue.join("&")}`}return`#${G}`}}const nd={linearity:.3,easing:a.bezier(0,0,.3,1)},cx=a.extend({deceleration:2500,maxSpeed:1400},nd),ux=a.extend({deceleration:20,maxSpeed:1400},nd),fx=a.extend({deceleration:1e3,maxSpeed:360},nd),dx=a.extend({deceleration:1e3,maxSpeed:90},nd);class hx{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.browser.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:T}of this._inertiaBuffer)p.zoom+=T.zoomDelta||0,p.bearing+=T.bearingDelta||0,p.pitch+=T.pitchDelta||0,T.panDelta&&p.pan._add(T.panDelta),T.around&&(p.around=T.around),T.pinchAround&&(p.pinchAround=T.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(p.pan.mag()){const T=id(p.pan.mag(),y,a.extend({},cx,c||{}));x.offset=p.pan.mult(T.amount/p.pan.mag()),x.center=this._map.transform.center,wl(x,T)}if(p.zoom){const T=id(p.zoom,y,ux);x.zoom=this._map.transform.zoom+T.amount,wl(x,T)}if(p.bearing){const T=id(p.bearing,y,fx);x.bearing=this._map.transform.bearing+a.clamp(T.amount,-179,179),wl(x,T)}if(p.pitch){const T=id(p.pitch,y,dx);x.pitch=this._map.transform.pitch+T.amount,wl(x,T)}if(x.zoom||x.bearing){const T=p.pinchAround===void 0?p.around:p.pinchAround;x.around=T?this._map.unproject(T):this._map.getCenter()}return this.clear(),a.extend(x,{noMoveStart:!0})}}function wl(S,c){(!S.duration||S.duration<c.duration)&&(S.duration=c.duration,S.easing=c.easing)}function id(S,c,p){const{maxSpeed:y,linearity:x,deceleration:T}=p,D=a.clamp(S*x/(c/1e3),-y,y),N=Math.abs(D)/(T*x);return{easing:p.easing,duration:1e3*N,amount:D*(N/2)}}class Qn extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y,x={}){const T=h.mousePos(p.getCanvasContainer(),y),D=p.unproject(T);super(c,a.extend({point:T,lngLat:D,originalEvent:y},x)),this._defaultPrevented=!1,this.target=p}}class sa extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y){const x=c==="touchend"?y.changedTouches:y.touches,T=h.touchPos(p.getCanvasContainer(),x),D=T.map(B=>p.unproject(B)),N=T.reduce((B,q,G,K)=>B.add(q.div(K.length)),new a.Point(0,0));super(c,{points:T,point:N,lngLats:D,lngLat:p.unproject(N),originalEvent:y}),this._defaultPrevented=!1}}class px extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y){super(c,{originalEvent:y}),this._defaultPrevented=!1}}class zs{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new px(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new Qn(c.type,this._map,c))}mouseup(c){this._map.fire(new Qn(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Qn(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Qn(c.type,this._map,c))}mouseover(c){this._map.fire(new Qn(c.type,this._map,c))}mouseout(c){this._map.fire(new Qn(c.type,this._map,c))}touchstart(c){return this._firePreventable(new sa(c.type,this._map,c))}touchmove(c){this._map.fire(new sa(c.type,this._map,c))}touchend(c){this._map.fire(new sa(c.type,this._map,c))}touchcancel(c){this._map.fire(new sa(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class od{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Qn(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Qn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Qn(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ad{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.Point.convert(c),this._map.terrain)}}class JE{constructor(c,p){this._map=c,this._tr=new ad(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const y=p;if(this._lastPos.equals(y)||!this._box&&y.dist(this._startPos)<this._clickTolerance)return;const x=this._startPos;this._lastPos=y,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const T=Math.min(x.x,y.x),D=Math.max(x.x,y.x),N=Math.min(x.y,y.y),B=Math.max(x.y,y.y);h.setTransform(this._box,`translate(${T}px,${N}px)`),this._box.style.width=D-T+"px",this._box.style.height=B-N+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const y=this._startPos,x=p;if(this.reset(),h.suppressClick(),y.x!==x.x||y.y!==x.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:T=>T.fitScreenCoordinates(y,x,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))}}function Hg(S,c){if(S.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${S.length}, points ${c.length}`);const p={};for(let y=0;y<S.length;y++)p[S[y].identifier]=c[y];return p}class mx{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),y.length===this.numTouches&&(this.centroid=function(x){const T=new a.Point(0,0);for(const D of x)T._add(D);return T.div(x.length)}(p),this.touches=Hg(y,p)))}touchmove(c,p,y){if(this.aborted||!this.centroid)return;const x=Hg(y,p);for(const T in this.touches){const D=x[T];(!D||D.dist(this.touches[T])>30)&&(this.aborted=!0)}}touchend(c,p,y){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),y.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class gc{constructor(c){this.singleTap=new mx(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,y){this.singleTap.touchstart(c,p,y)}touchmove(c,p,y){this.singleTap.touchmove(c,p,y)}touchend(c,p,y){const x=this.singleTap.touchend(c,p,y);if(x){const T=c.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(x)<30;if(T&&D||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class Sl{constructor(c){this._tr=new ad(c),this._zoomIn=new gc({numTouches:1,numTaps:2}),this._zoomOut=new gc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,y){this._zoomIn.touchstart(c,p,y),this._zoomOut.touchstart(c,p,y)}touchmove(c,p,y){this._zoomIn.touchmove(c,p,y),this._zoomOut.touchmove(c,p,y)}touchend(c,p,y){const x=this._zoomIn.touchend(c,p,y),T=this._zoomOut.touchend(c,p,y),D=this._tr;return x?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:N=>N.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(x)},{originalEvent:c})}):T?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:N=>N.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(T)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pt{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const y=this._lastPoint;if(!y)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const x=p.length?p[0]:p;return!this._moved&&x.dist(y)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=x,this._move(y,x))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const gx={0:1,2:2};class yc{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,y){const x=gx[y];return p.buttons===void 0||(p.buttons&x)!==x}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class xu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const Bh=S=>{S.mousedown=S.dragStart,S.mousemoveWindow=S.dragMove,S.mouseup=S.dragEnd,S.contextmenu=function(c){c.preventDefault()}},Tt=({enable:S,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const y=new yc({checkCorrectEvent:x=>h.mouseButton(x)===0&&x.ctrlKey||h.mouseButton(x)===2});return new Pt({clickTolerance:c,move:(x,T)=>({bearingDelta:(T.x-x.x)*p}),moveStateManager:y,enable:S,assignEvents:Bh})},Fh=({enable:S,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const y=new yc({checkCorrectEvent:x=>h.mouseButton(x)===0&&x.ctrlKey||h.mouseButton(x)===2});return new Pt({clickTolerance:c,move:(x,T)=>({pitchDelta:(T.y-x.y)*p}),moveStateManager:y,enable:S,assignEvents:Bh})};class QE{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,y){return this._calculateTransform(c,p,y)}touchmove(c,p,y){if(this._map._cooperativeGestures&&(this._minTouches===2&&y.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,y.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(y.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,y)}touchend(c,p,y){this._calculateTransform(c,p,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,y){y.length>0&&(this._active=!0);const x=Hg(y,p),T=new a.Point(0,0),D=new a.Point(0,0);let N=0;for(const q in x){const G=x[q],K=this._touches[q];K&&(T._add(G),D._add(G.sub(K)),N++,x[q]=G)}if(this._touches=x,N<this._minTouches||!D.mag())return;const B=D.div(N);return this._sum._add(B),this._sum.mag()<this._clickTolerance?void 0:{around:T.div(N),panDelta:B}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gg{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,y){if(!this._firstTwoTouches)return;c.preventDefault();const[x,T]=this._firstTwoTouches,D=bu(y,p,x),N=bu(y,p,T);if(!D||!N)return;const B=this._aroundCenter?null:D.add(N).div(2);return this._move([D,N],B,c)}touchend(c,p,y){if(!this._firstTwoTouches)return;const[x,T]=this._firstTwoTouches,D=bu(y,p,x),N=bu(y,p,T);D&&N||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function bu(S,c,p){for(let y=0;y<S.length;y++)if(S[y].identifier===p)return c[y]}function Yg(S,c){return Math.log(S/c)/Math.LN2}class yx extends Gg{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const y=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Yg(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Yg(this._distance,y),pinchAround:p}}}function vx(S,c){return 180*S.angleWith(c)/Math.PI}class eC extends Gg{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const y=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:vx(this._vector,y),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,y=vx(c,this._startVector);return Math.abs(y)<p}}function sd(S){return Math.abs(S.y)>Math.abs(S.x)}class Kg extends Gg{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,y){super.touchstart(c,p,y),this._currentTouchCount=y.length}_start(c){this._lastPoints=c,sd(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,y){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const x=c[0].sub(this._lastPoints[0]),T=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(x,T,y.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(x.y+T.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,y){if(this._valid!==void 0)return this._valid;const x=c.mag()>=2,T=p.mag()>=2;if(!x&&!T)return;if(!x||!T)return this._firstMove===void 0&&(this._firstMove=y),y-this._firstMove<100&&void 0;const D=c.y>0==p.y>0;return sd(c)&&sd(p)&&D}}const Zg={panStep:100,bearingStep:15,pitchStep:10};class Xg{constructor(c){this._tr=new ad(c);const p=Zg;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,y=0,x=0,T=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),T=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),T=1);break;case 38:c.shiftKey?x=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?x=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,x=0),{cameraAnimation:N=>{const B=this._tr;N.easeTo({duration:300,easeId:"keyboardHandler",easing:go,zoom:p?Math.round(B.zoom)+p*(c.shiftKey?2:1):B.zoom,bearing:B.bearing+y*this._bearingStep,pitch:B.pitch+x*this._pitchStep,offset:[-T*this._panStep,-D*this._panStep],center:B.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function go(S){return S*(2-S)}const Ns=4.000244140625;class _x{constructor(c,p){this._onTimeout=y=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(y)},this._map=c,this._tr=new ad(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const y=a.browser.now(),x=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,p!==0&&p%Ns==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(x*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),y=this._tr;this._around=a.LngLat.convert(this._aroundCenter?y.center:y.unproject(p)),this._aroundPoint=y.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const N=this._type==="wheel"&&Math.abs(this._delta)>Ns?this._wheelZoomRate:this._defaultZoomRate;let B=2/(1+Math.exp(-Math.abs(this._delta*N)));this._delta<0&&B!==0&&(B=1/B);const q=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(q*B))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,y=this._startZoom,x=this._easing;let T,D=!1;if(this._type==="wheel"&&y&&x){const N=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),B=x(N);T=a.interpolate.number(y,p,B),N<1?this._frameId||(this._frameId=!0):D=!0}else T=p,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:T-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.defaultEasing;if(this._prevEase){const y=this._prevEase,x=(a.browser.now()-y.start)/y.duration,T=y.easing(x+.01)-y.easing(x),D=.27/Math.sqrt(T*T+1e-4)*.01,N=Math.sqrt(.0729-D*D);p=a.bezier(D,N,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p}reset(){this._active=!1}}class Jg{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Qg{constructor(c){this._tr=new ad(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ey{constructor(){this._tap=new gc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,y){if(!this._swipePoint)if(this._tapTime){const x=p[0],T=c.timeStamp-this._tapTime<500,D=this._tapPoint.dist(x)<30;T&&D?y.length>0&&(this._swipePoint=x,this._swipeTouch=y[0].identifier):this.reset()}else this._tap.touchstart(c,p,y)}touchmove(c,p,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const x=p[0],T=x.y-this._swipePoint.y;return this._swipePoint=x,c.preventDefault(),this._active=!0,{zoomDelta:T/128}}}else this._tap.touchmove(c,p,y)}touchend(c,p,y){if(this._tapTime)this._swipePoint&&y.length===0&&this.reset();else{const x=this._tap.touchend(c,p,y);x&&(this._tapTime=c.timeStamp,this._tapPoint=x)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class xx{constructor(c,p,y){this._el=c,this._mousePan=p,this._touchPan=y}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class la{constructor(c,p,y){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class bn{constructor(c,p,y,x){this._el=c,this._touchZoom=p,this._touchRotate=y,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const vc=S=>S.zoom||S.drag||S.pitch||S.rotate;class ty extends a.Event{}function Uh(S){return S.panDelta&&S.panDelta.mag()||S.zoomDelta||S.bearingDelta||S.pitchDelta}class bx{constructor(c,p){this.handleWindowEvent=x=>{this.handleEvent(x,`${x.type}Window`)},this.handleEvent=(x,T)=>{if(x.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=x.type==="renderFrame"?void 0:x,N={needsRenderFrame:!1},B={},q={},G=x.touches,K=G?this._getMapTouches(G):void 0,ee=K?h.touchPos(this._el,K):h.mousePos(this._el,x);for(const{handlerName:me,handler:le,allowed:Oe}of this._handlers){if(!le.isEnabled())continue;let Ve;this._blockedByActive(q,Oe,me)?le.reset():le[T||x.type]&&(Ve=le[T||x.type](x,ee,K),this.mergeHandlerResult(N,B,Ve,me,D),Ve&&Ve.needsRenderFrame&&this._triggerRenderFrame()),(Ve||le.isActive())&&(q[me]=le)}const ue={};for(const me in this._previousActiveHandlers)q[me]||(ue[me]=D);this._previousActiveHandlers=q,(Object.keys(ue).length||Uh(N))&&(this._changes.push([N,B,ue]),this._triggerRenderFrame()),(Object.keys(q).length||Uh(N))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=N;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new hx(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[window,"blur",void 0]];for(const[x,T,D]of this._listeners)h.addEventListener(x,T,x===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[c,p,y]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(c){const p=this._map,y=p.getCanvasContainer();this._add("mapEvent",new zs(p,c));const x=p.boxZoom=new JE(p,c);this._add("boxZoom",x),c.interactive&&c.boxZoom&&x.enable();const T=new Sl(p),D=new Qg(p);p.doubleClickZoom=new Jg(D,T),this._add("tapZoom",T),this._add("clickZoom",D),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const N=new ey;this._add("tapDragZoom",N);const B=p.touchPitch=new Kg(p);this._add("touchPitch",B),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const q=Tt(c),G=Fh(c);p.dragRotate=new la(c,q,G),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",G,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const K=(({enable:Oe,clickTolerance:Ve})=>{const ve=new yc({checkCorrectEvent:$e=>h.mouseButton($e)===0&&!$e.ctrlKey});return new Pt({clickTolerance:Ve,move:($e,Ge)=>({around:Ge,panDelta:Ge.sub($e)}),activateOnStart:!0,moveStateManager:ve,enable:Oe,assignEvents:Bh})})(c),ee=new QE(c,p);p.dragPan=new xx(y,K,ee),this._add("mousePan",K),this._add("touchPan",ee,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const ue=new eC,ce=new yx;p.touchZoomRotate=new bn(y,ce,ue,N),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const me=p.scrollZoom=new _x(p,()=>this._triggerRenderFrame());this._add("scrollZoom",me,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const le=p.keyboard=new Xg(p);this._add("keyboard",le),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new od(p))}_add(c,p,y){this._handlers.push({handlerName:c,handler:p,allowed:y}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vc(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,y){for(const x in c)if(x!==y&&(!p||p.indexOf(x)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const y of c)this._el.contains(y.target)&&p.push(y);return p}mergeHandlerResult(c,p,y,x,T){if(!y)return;a.extend(c,y);const D={handlerName:x,originalEvent:y.originalEvent||T};y.zoomDelta!==void 0&&(p.zoom=D),y.panDelta!==void 0&&(p.drag=D),y.pitchDelta!==void 0&&(p.pitch=D),y.bearingDelta!==void 0&&(p.rotate=D)}_applyChanges(){const c={},p={},y={};for(const[x,T,D]of this._changes)x.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(x.panDelta)),x.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+x.pitchDelta),x.around!==void 0&&(c.around=x.around),x.pinchAround!==void 0&&(c.pinchAround=x.pinchAround),x.noInertia&&(c.noInertia=x.noInertia),a.extend(p,T),a.extend(y,D);this._updateMapTransform(c,p,y),this._changes=[]}_updateMapTransform(c,p,y){const x=this._map,T=x._getTransformForUpdate(),D=x.terrain;if(!(Uh(c)||D&&this._terrainMovement))return this._fireEvents(p,y,!0);let{panDelta:N,zoomDelta:B,bearingDelta:q,pitchDelta:G,around:K,pinchAround:ee}=c;ee!==void 0&&(K=ee),x._stop(!0),K=K||x.transform.centerPoint;const ue=T.pointLocation(N?K.sub(N):K);q&&(T.bearing+=q),G&&(T.pitch+=G),B&&(T.zoom+=B),D?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?T.center=T.pointLocation(T.centerPoint.sub(N)):T.setLocationAtPoint(ue,K):(this._terrainMovement=!0,this._map._elevationFreeze=!0,T.setLocationAtPoint(ue,K),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,T.recalculateZoom(x.terrain)})):T.setLocationAtPoint(ue,K),x._applyUpdatedTransform(T),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,y,!0)}_fireEvents(c,p,y){const x=vc(this._eventsInProgress),T=vc(c),D={};for(const G in c){const{originalEvent:K}=c[G];this._eventsInProgress[G]||(D[`${G}start`]=K),this._eventsInProgress[G]=c[G]}!x&&T&&this._fireEvent("movestart",T.originalEvent);for(const G in D)this._fireEvent(G,D[G]);T&&this._fireEvent("move",T.originalEvent);for(const G in c){const{originalEvent:K}=c[G];this._fireEvent(G,K)}const N={};let B;for(const G in this._eventsInProgress){const{handlerName:K,originalEvent:ee}=this._eventsInProgress[G];this._handlersById[K].isActive()||(delete this._eventsInProgress[G],B=p[K]||ee,N[`${G}end`]=B)}for(const G in N)this._fireEvent(G,N[G]);const q=vc(this._eventsInProgress);if(y&&(x||T)&&!q){this._updatingCamera=!0;const G=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;G?(K(G.bearing||this._map.getBearing())&&(G.bearing=0),G.freezeElevation=!0,this._map.easeTo(G,{originalEvent:B})):(this._map.fire(new a.Event("moveend",{originalEvent:B})),K(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new ty("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class wx extends a.Evented{constructor(c,p){super(),this._renderFrameCallback=()=>{const y=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,y){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},p),y)}panTo(c,p,y){return this.easeTo(a.extend({center:c},p),y)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,y){return this.easeTo(a.extend({zoom:c},p),y)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,y){return this.easeTo(a.extend({bearing:c},p),y)}resetNorth(c,p){return this.rotateTo(0,a.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=De.convert(c);const y=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),y,p)}_cameraForBoxAndBearing(c,p,y,x){const T={top:0,bottom:0,right:0,left:0};if(typeof(x=a.extend({padding:T,offset:[0,0],maxZoom:this.transform.maxZoom},x)).padding=="number"){const Ge=x.padding;x.padding={top:Ge,bottom:Ge,right:Ge,left:Ge}}x.padding=a.extend(T,x.padding);const D=this.transform,N=D.padding,B=D.project(a.LngLat.convert(c)),q=D.project(a.LngLat.convert(p)),G=B.rotate(-y*Math.PI/180),K=q.rotate(-y*Math.PI/180),ee=new a.Point(Math.max(G.x,K.x),Math.max(G.y,K.y)),ue=new a.Point(Math.min(G.x,K.x),Math.min(G.y,K.y)),ce=ee.sub(ue),me=(D.width-(N.left+N.right+x.padding.left+x.padding.right))/ce.x,le=(D.height-(N.top+N.bottom+x.padding.top+x.padding.bottom))/ce.y;if(le<0||me<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Oe=Math.min(D.scaleZoom(D.scale*Math.min(me,le)),x.maxZoom),Ve=a.Point.convert(x.offset),ve=new a.Point((x.padding.left-x.padding.right)/2,(x.padding.top-x.padding.bottom)/2).rotate(y*Math.PI/180),$e=Ve.add(ve).mult(D.scale/D.zoomScale(Oe));return{center:D.unproject(B.add(q).div(2).sub($e)),zoom:Oe,bearing:y}}fitBounds(c,p,y){return this._fitInternal(this.cameraForBounds(c,p),p,y)}fitScreenCoordinates(c,p,y,x,T){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(c)),this.transform.pointLocation(a.Point.convert(p)),y,x),x,T)}_fitInternal(c,p,y){return c?(delete(p=a.extend(c,p)).padding,p.linear?this.easeTo(p,y):this.flyTo(p,y)):this}jumpTo(c,p){this.stop();const y=this._getTransformForUpdate();let x=!1,T=!1,D=!1;return"zoom"in c&&y.zoom!==+c.zoom&&(x=!0,y.zoom=+c.zoom),c.center!==void 0&&(y.center=a.LngLat.convert(c.center)),"bearing"in c&&y.bearing!==+c.bearing&&(T=!0,y.bearing=+c.bearing),"pitch"in c&&y.pitch!==+c.pitch&&(D=!0,y.pitch=+c.pitch),c.padding==null||y.isPaddingEqual(c.padding)||(y.padding=c.padding),this._applyUpdatedTransform(y),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),x&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),T&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),D&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(c,p,y,x=0){const T=a.MercatorCoordinate.fromLngLat(c,p),D=a.MercatorCoordinate.fromLngLat(y,x),N=D.x-T.x,B=D.y-T.y,q=D.z-T.z,G=Math.hypot(N,B,q);if(G===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(N,B),ee=this.transform.scaleZoom(this.transform.cameraToCenterDistance/G/this.transform.tileSize),ue=180*Math.atan2(N,-B)/Math.PI;let ce=180*Math.acos(K/G)/Math.PI;return ce=q<0?90-ce:90+ce,{center:D.toLngLat(),zoom:ee,pitch:ce,bearing:ue}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.defaultEasing},c)).animate===!1||!c.essential&&a.browser.prefersReducedMotion)&&(c.duration=0);const y=this._getTransformForUpdate(),x=this.getZoom(),T=this.getBearing(),D=this.getPitch(),N=this.getPadding(),B="zoom"in c?+c.zoom:x,q="bearing"in c?this._normalizeBearing(c.bearing,T):T,G="pitch"in c?+c.pitch:D,K="padding"in c?c.padding:y.padding,ee=a.Point.convert(c.offset);let ue=y.centerPoint.add(ee);const ce=y.pointLocation(ue),me=a.LngLat.convert(c.center||ce);this._normalizeCenter(me);const le=y.project(ce),Oe=y.project(me).sub(le),Ve=y.zoomScale(B-x);let ve,$e;c.around&&(ve=a.LngLat.convert(c.around),$e=y.locationPoint(ve));const Ge={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||B!==x,this._rotating=this._rotating||T!==q,this._pitching=this._pitching||G!==D,this._padding=!y.isPaddingEqual(K),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Ge),this.terrain&&this._prepareElevation(me),this._ease(Ze=>{if(this._zooming&&(y.zoom=a.interpolate.number(x,B,Ze)),this._rotating&&(y.bearing=a.interpolate.number(T,q,Ze)),this._pitching&&(y.pitch=a.interpolate.number(D,G,Ze)),this._padding&&(y.interpolatePadding(N,K,Ze),ue=y.centerPoint.add(ee)),this.terrain&&!c.freezeElevation&&this._updateElevation(Ze),ve)y.setLocationAtPoint(ve,$e);else{const et=y.zoomScale(y.zoom-x),dt=B>x?Math.min(2,Ve):Math.max(.5,Ve),ot=Math.pow(dt,1-Ze),pt=y.unproject(le.add(Oe.mult(Ze*ot)).mult(et));y.setLocationAtPoint(y.renderWorldCopies?pt.wrap():pt,ue)}this._applyUpdatedTransform(y),this._fireMoveEvents(p)},Ze=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Ze)},c),this}_prepareEase(c,p,y={}){this._moving=!0,p||y.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!y.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!y.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!y.pitching&&this.fire(new a.Event("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const y=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(y-(p-(y*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.interpolate.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:y,zoom:x,pitch:T,bearing:D,elevation:N}=this.transformCameraUpdate(p);y&&(p.center=y),x!==void 0&&(p.zoom=x),T!==void 0&&(p.pitch=T),D!==void 0&&(p.bearing=D),N!==void 0&&(p.elevation=N),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const y=this._zooming,x=this._rotating,T=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new a.Event("zoomend",c)),x&&this.fire(new a.Event("rotateend",c)),T&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}flyTo(c,p){if(!c.essential&&a.browser.prefersReducedMotion){const Dt=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Dt,p)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.defaultEasing},c);const y=this._getTransformForUpdate(),x=this.getZoom(),T=this.getBearing(),D=this.getPitch(),N=this.getPadding(),B="zoom"in c?a.clamp(+c.zoom,y.minZoom,y.maxZoom):x,q="bearing"in c?this._normalizeBearing(c.bearing,T):T,G="pitch"in c?+c.pitch:D,K="padding"in c?c.padding:y.padding,ee=y.zoomScale(B-x),ue=a.Point.convert(c.offset);let ce=y.centerPoint.add(ue);const me=y.pointLocation(ce),le=a.LngLat.convert(c.center||me);this._normalizeCenter(le);const Oe=y.project(me),Ve=y.project(le).sub(Oe);let ve=c.curve;const $e=Math.max(y.width,y.height),Ge=$e/ee,Ze=Ve.mag();if("minZoom"in c){const Dt=a.clamp(Math.min(c.minZoom,x,B),y.minZoom,y.maxZoom),sn=$e/y.zoomScale(Dt-x);ve=Math.sqrt(sn/Ze*2)}const et=ve*ve;function dt(Dt){const sn=(Ge*Ge-$e*$e+(Dt?-1:1)*et*et*Ze*Ze)/(2*(Dt?Ge:$e)*et*Ze);return Math.log(Math.sqrt(sn*sn+1)-sn)}function ot(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function pt(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}const Bt=dt(!1);let xr=function(Dt){return pt(Bt)/pt(Bt+ve*Dt)},xt=function(Dt){return $e*((pt(Bt)*(ot(sn=Bt+ve*Dt)/pt(sn))-ot(Bt))/et)/Ze;var sn},er=(dt(!0)-Bt)/ve;if(Math.abs(Ze)<1e-6||!isFinite(er)){if(Math.abs($e-Ge)<1e-6)return this.easeTo(c,p);const Dt=Ge<$e?-1:1;er=Math.abs(Math.log(Ge/$e))/ve,xt=function(){return 0},xr=function(sn){return Math.exp(Dt*ve*sn)}}return c.duration="duration"in c?+c.duration:1e3*er/("screenSpeed"in c?+c.screenSpeed/ve:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=T!==q,this._pitching=G!==D,this._padding=!y.isPaddingEqual(K),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease(Dt=>{const sn=Dt*er,vr=1/xr(sn);y.zoom=Dt===1?B:x+y.scaleZoom(vr),this._rotating&&(y.bearing=a.interpolate.number(T,q,Dt)),this._pitching&&(y.pitch=a.interpolate.number(D,G,Dt)),this._padding&&(y.interpolatePadding(N,K,Dt),ce=y.centerPoint.add(ue)),this.terrain&&!c.freezeElevation&&this._updateElevation(Dt);const dr=Dt===1?le:y.unproject(Oe.add(Ve.mult(xt(sn))).mult(vr));y.setLocationAtPoint(y.renderWorldCopies?dr.wrap():dr,ce),this._applyUpdatedTransform(y),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,p)}if(!c){const y=this.handlers;y&&y.stop(!1)}return this}_ease(c,p,y){y.animate===!1||y.duration===0?(c(1),p()):(this._easeStart=a.browser.now(),this._easeOptions=y,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.wrap(c,-180,180);const y=Math.abs(c-p);return Math.abs(c-360-p)<y&&(c-=360),Math.abs(c+360-p)<y&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const y=c.lng-p.center.lng;c.lng+=y>180?-360:y<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.LngLat.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Sx{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const y=this._map._getUIString(`AttributionControl.${p}`);c.title=y,c.setAttribute("aria-label",y)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(x=>typeof x!="string"?"":x)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const p=this._map.style.sourceCaches;for(const x in p){const T=p[x];if(T.used||T.usedForTerrain){const D=T.getSource();D.attribution&&c.indexOf(D.attribution)<0&&c.push(D.attribution)}}c=c.filter(x=>String(x).trim()),c.sort((x,T)=>x.length-T.length),c=c.filter((x,T)=>{for(let D=T+1;D<c.length;D++)if(c[D].indexOf(x)>=0)return!1;return!0});const y=c.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,c.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ka{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const y=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&y.classList.add("maplibregl-compact"):y.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Vh{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,y=p?this._queue.concat(p):this._queue;for(const x of y)if(x.id===c)return void(x.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const y of p)if(!y.cancelled&&(y.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const qt={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Qt=a.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Wh extends a.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const y={};for(const x of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))y[x.key]=!0,this._renderableTilesKeys.push(x.key),this._tiles[x.key]||(x.posMatrix=new Float64Array(16),a.ortho(x.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[x.key]=new Vr(x,this.tileSize));for(const x in this._tiles)y[x]||delete this._tiles[x]}freeRtt(c){for(const p in this._tiles){const y=this._tiles[p];(!c||y.tileID.equals(c)||y.tileID.isChildOf(c)||c.isChildOf(y.tileID))&&(y.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const y of this._renderableTilesKeys){const x=this._tiles[y].tileID;if(x.canonical.equals(c.canonical)){const T=c.clone();T.posMatrix=new Float64Array(16),a.ortho(T.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[y]=T}else if(x.canonical.isChildOf(c.canonical)){const T=c.clone();T.posMatrix=new Float64Array(16);const D=x.canonical.z-c.canonical.z,N=x.canonical.x-(x.canonical.x>>D<<D),B=x.canonical.y-(x.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(T.posMatrix,0,q,0,q,0,1),a.translate(T.posMatrix,T.posMatrix,[-N*q,-B*q,0]),p[y]=T}else if(c.canonical.isChildOf(x.canonical)){const T=c.clone();T.posMatrix=new Float64Array(16);const D=c.canonical.z-x.canonical.z,N=c.canonical.x-(c.canonical.x>>D<<D),B=c.canonical.y-(c.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(T.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(T.posMatrix,T.posMatrix,[N*q,B*q,0]),a.scale(T.posMatrix,T.posMatrix,[1/2**D,1/2**D,0]),p[y]=T}}return p}getSourceTile(c,p){const y=this.sourceCache._source;let x=c.overscaledZ-this.deltaZoom;if(x>y.maxzoom&&(x=y.maxzoom),x<y.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(x).key);let T=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!T||!T.dem)&&p)for(;x>=y.minzoom&&(!T||!T.dem);)T=this.sourceCache.getTileByID(c.scaledTo(x--).key);return T}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class ry{constructor(c,p,y){this.painter=c,this.sourceCache=new Wh(p),this.options=y,this.exaggeration=typeof y.exaggeration=="number"?y.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,y,x=a.EXTENT){var T;if(!(p>=0&&p<x&&y>=0&&y<x))return 0;const D=this.getTerrainData(c),N=(T=D.tile)===null||T===void 0?void 0:T.dem;if(!N)return 0;const B=function(ce,me,le){var Oe=me[0],Ve=me[1];return ce[0]=le[0]*Oe+le[4]*Ve+le[12],ce[1]=le[1]*Oe+le[5]*Ve+le[13],ce}([],[p/x*a.EXTENT,y/x*a.EXTENT],D.u_terrain_matrix),q=[B[0]*N.dim,B[1]*N.dim],G=Math.floor(q[0]),K=Math.floor(q[1]),ee=q[0]-G,ue=q[1]-K;return N.get(G,K)*(1-ee)*(1-ue)+N.get(G+1,K)*ee*(1-ue)+N.get(G,K+1)*(1-ee)*ue+N.get(G+1,K+1)*ee*ue}getElevationForLngLatZoom(c,p){const{tileID:y,mercatorX:x,mercatorY:T}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(y,x%a.EXTENT,T%a.EXTENT,a.EXTENT)}getElevation(c,p,y,x=a.EXTENT){return this.getDEMElevation(c,p,y,x)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const x=this.painter.context,T=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new te(x,T,x.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new te(x,new a.RGBAImage({width:1,height:1}),x.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const x=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new te(x,p.dem.getPixels(),x.gl.RGBA,{premultiply:!1}),p.demTexture.bind(x.gl.NEAREST,x.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const y=p&&p+p.tileID.key+c.key;if(y&&!this._demMatrixCache[y]){const x=this.sourceCache.sourceCache._source.maxzoom;let T=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=x?T=c.canonical.z-x:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=c.canonical.x-(c.canonical.x>>T<<T),N=c.canonical.y-(c.canonical.y>>T<<T),B=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<T),1/(a.EXTENT<<T),0]);a.translate(B,B,[D*a.EXTENT,N*a.EXTENT,0]),this._demMatrixCache[c.key]={matrix:B,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:y?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,y=p.width/devicePixelRatio,x=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===y&&this._fbo.height===x||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new te(p.context,{width:y,height:x,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new te(p.context,{width:y,height:x,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(y,x,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,y,x))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let T=0,D=0;T<this._coordsTextureSize;T++)for(let N=0;N<this._coordsTextureSize;N++,D+=4)p[D+0]=255&N,p[D+1]=255&T,p[D+2]=N>>8<<4|T>>8,p[D+3]=0;const y=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),x=new te(c,y,c.gl.RGBA,{premultiply:!1});return x.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=x,x}pointCoordinate(c){const p=new Uint8Array(4),y=this.painter.context,x=y.gl;y.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,p),y.bindFramebuffer.set(null);const T=p[0]+(p[2]>>4<<8),D=p[1]+((15&p[2])<<8),N=this.coordsIndex[255-p[3]],B=N&&this.sourceCache.getTileByID(N);if(!B)return null;const q=this._coordsTextureSize,G=(1<<B.tileID.canonical.z)*q;return new a.MercatorCoordinate((B.tileID.canonical.x*q+T)/G,(B.tileID.canonical.y*q+D)/G,this.getElevation(B.tileID,T,D,q))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.Pos3dArray,y=new a.TriangleIndexArray,x=this.meshSize,T=a.EXTENT/x,D=x*x;for(let K=0;K<=x;K++)for(let ee=0;ee<=x;ee++)p.emplaceBack(ee*T,K*T,0);for(let K=0;K<D;K+=x+1)for(let ee=0;ee<x;ee++)y.emplaceBack(ee+K,x+ee+K+1,x+ee+K+2),y.emplaceBack(ee+K,x+ee+K+2,ee+K+1);const N=p.length,B=N+2*(x+1);for(const K of[0,1])for(let ee=0;ee<=x;ee++)for(const ue of[0,1])p.emplaceBack(ee*T,K*a.EXTENT,ue);for(let K=0;K<2*x;K+=2)y.emplaceBack(B+K,B+K+1,B+K+3),y.emplaceBack(B+K,B+K+3,B+K+2),y.emplaceBack(N+K,N+K+3,N+K+1),y.emplaceBack(N+K,N+K+2,N+K+3);const q=p.length,G=q+2*(x+1);for(const K of[0,1])for(let ee=0;ee<=x;ee++)for(const ue of[0,1])p.emplaceBack(K*a.EXTENT,ee*T,ue);for(let K=0;K<2*x;K+=2)y.emplaceBack(q+K,q+K+1,q+K+3),y.emplaceBack(q+K,q+K+3,q+K+2),y.emplaceBack(G+K,G+K+3,G+K+1),y.emplaceBack(G+K,G+K+2,G+K+3);return this._mesh={indexBuffer:c.createIndexBuffer(y),vertexBuffer:c.createVertexBuffer(p,Qt.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,y.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.earthRadius/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var y;const{tileID:x}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(y=this.getMinMaxElevation(x).minElevation)!==null&&y!==void 0?y:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,y={minElevation:null,maxElevation:null};return p&&p.dem&&(y.minElevation=p.dem.min*this.exaggeration,y.maxElevation=p.dem.max*this.exaggeration),y}_getOverscaledTileIDFromLngLatZoom(c,p){const y=a.MercatorCoordinate.fromLngLat(c.wrap()),x=(1<<p)*a.EXTENT,T=y.x*x,D=y.y*x,N=Math.floor(T/a.EXTENT),B=Math.floor(D/a.EXTENT);return{tileID:new a.OverscaledTileID(p,0,p,N,B),mercatorX:T,mercatorY:D}}}class ny{constructor(c,p,y){this._context=c,this._size=p,this._tileSize=y,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),y=new te(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return y.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(y.texture),{id:c,fbo:p,texture:y,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const gi={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Ex{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new ny(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(y=>!c._layers[y].isHidden(p)),this._coordsDescendingInv={};for(const y in c.sourceCaches){this._coordsDescendingInv[y]={};const x=c.sourceCaches[y].getVisibleCoordinates();for(const T of x){const D=this.terrain.sourceCache.getTerrainCoords(T);for(const N in D)this._coordsDescendingInv[y][N]||(this._coordsDescendingInv[y][N]=[]),this._coordsDescendingInv[y][N].push(D[N])}}this._coordsDescendingInvStr={};for(const y of c._order){const x=c._layers[y],T=x.source;if(gi[x.type]&&!this._coordsDescendingInvStr[T]){this._coordsDescendingInvStr[T]={};for(const D in this._coordsDescendingInv[T])this._coordsDescendingInvStr[T][D]=this._coordsDescendingInv[T][D].map(N=>N.key).sort().join()}}for(const y of this._renderableTiles)for(const x in this._coordsDescendingInvStr){const T=this._coordsDescendingInvStr[x][y.tileID.key];T&&T!==y.rttCoords[x]&&(y.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,y=this.painter,x=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(gi[p]&&(this._prevType&&gi[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!x))return!0;if(gi[this._prevType]||gi[p]&&x){this._prevType=p;const T=this._stacks.length-1,D=this._stacks[T]||[];for(const N of this._renderableTiles){if(this.pool.isFull()&&(Lh(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(N),N.rtt[T]){const q=this.pool.getObjectForId(N.rtt[T].id);if(q.stamp===N.rtt[T].stamp){this.pool.useObject(q);continue}}const B=this.pool.getOrCreateFreeObject();this.pool.useObject(B),this.pool.stampObject(B),N.rtt[T]={id:B.id,stamp:B.stamp},y.context.bindFramebuffer.set(B.fbo.framebuffer),y.context.clear({color:a.Color.transparent,stencil:0}),y.currentStencilSource=void 0;for(let q=0;q<D.length;q++){const G=y.style._layers[D[q]],K=G.source?this._coordsDescendingInv[G.source][N.tileID.key]:[N.tileID];y.context.viewport.set([0,0,B.fbo.width,B.fbo.height]),y._renderTileClippingMasks(G,K),y.renderLayer(y,y.style.sourceCaches[G.source],G,K),G.source&&(N.rttCoords[G.source]=this._coordsDescendingInvStr[G.source][N.tileID.key])}}return Lh(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),gi[p]}return!1}}const ns=d,tC={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},wu=S=>{S.touchstart=S.dragStart,S.touchmoveWindow=S.dragMove,S.touchend=S.dragEnd},Pn={showCompass:!0,showZoom:!0,visualizePitch:!1};class ei{constructor(c,p,y=!1){this.mousedown=D=>{this.startMouse(a.extend({},D,{ctrlKey:!0,preventDefault:()=>D.preventDefault()}),h.mousePos(this.element,D)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=D=>{this.moveMouse(D,h.mousePos(this.element,D))},this.mouseup=D=>{this.mouseRotate.dragEnd(D),this.mousePitch&&this.mousePitch.dragEnd(D),this.offTemp()},this.touchstart=D=>{D.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.startTouch(D,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=D=>{D.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.moveTouch(D,this._lastPos))},this.touchend=D=>{D.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const x=c.dragRotate._mouseRotate.getClickTolerance(),T=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Tt({clickTolerance:x,enable:!0}),this.touchRotate=(({enable:D,clickTolerance:N,bearingDegreesPerPixelMoved:B=.8})=>{const q=new xu;return new Pt({clickTolerance:N,move:(G,K)=>({bearingDelta:(K.x-G.x)*B}),moveStateManager:q,enable:D,assignEvents:wu})})({clickTolerance:x,enable:!0}),this.map=c,y&&(this.mousePitch=Fh({clickTolerance:T,enable:!0}),this.touchPitch=(({enable:D,clickTolerance:N,pitchDegreesPerPixelMoved:B=-.5})=>{const q=new xu;return new Pt({clickTolerance:N,move:(G,K)=>({pitchDelta:(K.y-G.y)*B}),moveStateManager:q,enable:D,assignEvents:wu})})({clickTolerance:T,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const y=this.map,{bearingDelta:x}=this.mouseRotate.dragMove(c,p)||{};if(x&&y.setBearing(y.getBearing()+x),this.mousePitch){const{pitchDelta:T}=this.mousePitch.dragMove(c,p)||{};T&&y.setPitch(y.getPitch()+T)}}moveTouch(c,p){const y=this.map,{bearingDelta:x}=this.touchRotate.dragMove(c,p)||{};if(x&&y.setBearing(y.getBearing()+x),this.touchPitch){const{pitchDelta:T}=this.touchPitch.dragMove(c,p)||{};T&&y.setPitch(y.getPitch()+T)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let js;function Su(S,c,p){if(S=new a.LngLat(S.lng,S.lat),c){const y=new a.LngLat(S.lng-360,S.lat),x=new a.LngLat(S.lng+360,S.lat),T=p.locationPoint(S).distSqr(c);p.locationPoint(y).distSqr(c)<T?S=y:p.locationPoint(x).distSqr(c)<T&&(S=x)}for(;Math.abs(S.lng-p.center.lng)>180;){const y=p.locationPoint(S);if(y.x>=0&&y.y>=0&&y.x<=p.width&&y.y<=p.height)break;S.lng>p.center.lng?S.lng-=360:S.lng+=360}return S}const Eu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function qh(S,c,p){const y=S.classList;for(const x in Eu)y.remove(`maplibregl-${p}-anchor-${x}`);y.add(`maplibregl-${p}-anchor-${c}`)}class ld extends a.Evented{constructor(c){if(super(),this._onKeyPress=p=>{const y=p.code,x=p.charCode||p.keyCode;y!=="Space"&&y!=="Enter"&&x!==32&&x!==13||this.togglePopup()},this._onMapClick=p=>{const y=p.originalEvent.target,x=this._element;this._popup&&(y===x||x.contains(y))&&this.togglePopup()},this._update=p=>{if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Su(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let y="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?y=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(y=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let x="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?x="rotateX(0deg)":this._pitchAlignment==="map"&&(x=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${Eu[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${x} ${y}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const T=this._map.unproject(this._pos),D=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=T.distanceTo(this._lngLat)>20*D?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const y=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),y=41,x=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${y}px`),p.setAttributeNS(null,"width",`${x}px`),p.setAttributeNS(null,"viewBox",`0 0 ${x} ${y}`);const T=h.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"stroke","none"),T.setAttributeNS(null,"stroke-width","1"),T.setAttributeNS(null,"fill","none"),T.setAttributeNS(null,"fill-rule","evenodd");const D=h.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const N=h.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"transform","translate(3.0, 29.0)"),N.setAttributeNS(null,"fill","#000000");const B=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Oe of B){const Ve=h.createNS("http://www.w3.org/2000/svg","ellipse");Ve.setAttributeNS(null,"opacity","0.04"),Ve.setAttributeNS(null,"cx","10.5"),Ve.setAttributeNS(null,"cy","5.80029008"),Ve.setAttributeNS(null,"rx",Oe.rx),Ve.setAttributeNS(null,"ry",Oe.ry),N.appendChild(Ve)}const q=h.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"fill",this._color);const G=h.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),q.appendChild(G);const K=h.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const ee=h.createNS("http://www.w3.org/2000/svg","path");ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(ee);const ue=h.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ue.setAttributeNS(null,"fill","#FFFFFF");const ce=h.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=h.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const le=h.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#FFFFFF"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962"),ce.appendChild(me),ce.appendChild(le),D.appendChild(N),D.appendChild(q),D.appendChild(K),D.appendChild(ue),D.appendChild(ce),p.appendChild(D),p.setAttributeNS(null,"height",y*this._scale+"px"),p.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(p),this._offset=a.Point.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),qh(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.Point.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const iy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let El=0,_c=!1;const oy={maxWidth:100,unit:"metric"};function Hh(S,c,p){const y=p&&p.maxWidth||100,x=S._container.clientHeight/2,T=S.unproject([0,x]),D=S.unproject([y,x]),N=T.distanceTo(D);if(p&&p.unit==="imperial"){const B=3.2808*N;B>5280?xc(c,y,B/5280,S._getUIString("ScaleControl.Miles")):xc(c,y,B,S._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?xc(c,y,N/1852,S._getUIString("ScaleControl.NauticalMiles")):N>=1e3?xc(c,y,N/1e3,S._getUIString("ScaleControl.Kilometers")):xc(c,y,N,S._getUIString("ScaleControl.Meters"))}function xc(S,c,p,y){const x=function(T){const D=Math.pow(10,`${Math.floor(T)}`.length-1);let N=T/D;return N=N>=10?10:N>=5?5:N>=3?3:N>=2?2:N>=1?1:function(B){const q=Math.pow(10,Math.ceil(-Math.log(B)/Math.LN10));return Math.round(B*q)/q}(N),D*N}(p);S.style.width=c*(x/p)+"px",S.innerHTML=`${x}&nbsp;${y}`}const ay={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},sy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Gh(S){if(S){if(typeof S=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(S,2)));return{center:new a.Point(0,0),top:new a.Point(0,S),"top-left":new a.Point(c,c),"top-right":new a.Point(-c,c),bottom:new a.Point(0,-S),"bottom-left":new a.Point(c,-c),"bottom-right":new a.Point(-c,-c),left:new a.Point(S,0),right:new a.Point(-S,0)}}if(S instanceof a.Point||Array.isArray(S)){const c=a.Point.convert(S);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.Point.convert(S.center||[0,0]),top:a.Point.convert(S.top||[0,0]),"top-left":a.Point.convert(S["top-left"]||[0,0]),"top-right":a.Point.convert(S["top-right"]||[0,0]),bottom:a.Point.convert(S.bottom||[0,0]),"bottom-left":a.Point.convert(S["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(S["bottom-right"]||[0,0]),left:a.Point.convert(S.left||[0,0]),right:a.Point.convert(S.right||[0,0])}}return Gh(new a.Point(0,0))}const ly={extend:(S,...c)=>a.extend(S,...c),run(S){S()},logToElement(S,c=!1,p="log"){const y=window.document.getElementById(p);y&&(c&&(y.innerHTML=""),y.innerHTML+=`<br>${S}`)}},Yh=d;class zr{static get version(){return Yh}static get workerCount(){return Or.workerCount}static set workerCount(c){Or.workerCount=c}static get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.config.WORKER_URL}static set workerUrl(c){a.config.WORKER_URL=c}static addProtocol(c,p){a.config.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.config.REGISTERED_PROTOCOLS[c]}}return zr.Map=class extends wx{constructor(S){if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(S=a.extend({},tC,S)).minZoom!=null&&S.maxZoom!=null&&S.minZoom>S.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(S.minPitch!=null&&S.maxPitch!=null&&S.minPitch>S.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(S.minPitch!=null&&S.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(S.maxPitch!=null&&S.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new jh(S.minZoom,S.maxZoom,S.minPitch,S.maxPitch,S.renderWorldCopies),{bearingSnap:S.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=S.interactive,this._cooperativeGestures=S.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=S.maxTileCacheSize,this._maxTileCacheZoomLevels=S.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=S.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=S.preserveDrawingBuffer,this._antialias=S.antialias,this._trackResize=S.trackResize,this._bearingSnap=S.bearingSnap,this._refreshExpiredTiles=S.refreshExpiredTiles,this._fadeDuration=S.fadeDuration,this._crossSourceCollisions=S.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=S.collectResourceTiming,this._renderTaskQueue=new Vh,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},qt,S.locale),this._clickTolerance=S.clickTolerance,this._overridePixelRatio=S.pixelRatio,this._maxCanvasSize=S.maxCanvasSize,this.transformCameraUpdate=S.transformCameraUpdate,this._imageQueueHandle=A.addThrottleControl(()=>this.isMoving()),this._requestManager=new I(S.transformRequest),typeof S.container=="string"){if(this._container=document.getElementById(S.container),!this._container)throw new Error(`Container '${S.container}' not found.`)}else{if(!(S.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=S.container}if(S.maxBounds&&this.setMaxBounds(S.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;this._resizeObserver=new ResizeObserver(p=>{c?this._trackResize&&this.resize(p)._update():c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new bx(this,S),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=S.hash&&new mc(typeof S.hash=="string"&&S.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch}),S.bounds&&(this.resize(),this.fitBounds(S.bounds,a.extend({},S.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=S.localIdeographFontFamily,this._validateStyle=S.validateStyle,S.style&&this.setStyle(S.style,{localIdeographFontFamily:S.localIdeographFontFamily}),S.attributionControl&&this.addControl(new Sx({customAttribution:S.customAttribution})),S.maplibreLogo&&this.addControl(new ka,S.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.Event(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.Event("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(S,c){if(c===void 0&&(c=S.getDefaultPosition?S.getDefaultPosition():"top-right"),!S||!S.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=S.onAdd(this);this._controls.push(S);const y=this._controlPositions[c];return c.indexOf("bottom")!==-1?y.insertBefore(p,y.firstChild):y.appendChild(p),this}removeControl(S){if(!S||!S.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(S);return c>-1&&this._controls.splice(c,1),S.onRemove(this),this}hasControl(S){return this._controls.indexOf(S)>-1}calculateCameraOptionsFromTo(S,c,p,y){return y==null&&this.terrain&&(y=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(S,c,p,y)}resize(S){var c;const p=this._containerDimensions(),y=p[0],x=p[1],T=this._getClampedPixelRatio(y,x);if(this._resizeCanvas(y,x,T),this.painter.resize(y,x,T),this.painter.overLimit()){const N=this.painter.context.gl;this._maxCanvasSize=[N.drawingBufferWidth,N.drawingBufferHeight];const B=this._getClampedPixelRatio(y,x);this._resizeCanvas(y,x,B),this.painter.resize(y,x,B)}this.transform.resize(y,x),(c=this._requestedCameraState)===null||c===void 0||c.resize(y,x);const D=!this._moving;return D&&(this.stop(),this.fire(new a.Event("movestart",S)).fire(new a.Event("move",S))),this.fire(new a.Event("resize",S)),D&&this.fire(new a.Event("moveend",S)),this}_getClampedPixelRatio(S,c){const{0:p,1:y}=this._maxCanvasSize,x=this.getPixelRatio(),T=S*x,D=c*x;return Math.min(T>p?p/T:1,D>y?y/D:1)*x}getPixelRatio(){var S;return(S=this._overridePixelRatio)!==null&&S!==void 0?S:devicePixelRatio}setPixelRatio(S){this._overridePixelRatio=S,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(S){return this.transform.setMaxBounds(De.convert(S)),this._update()}setMinZoom(S){if((S=S??-2)>=-2&&S<=this.transform.maxZoom)return this.transform.minZoom=S,this._update(),this.getZoom()<S&&this.setZoom(S),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(S){if((S=S??22)>=this.transform.minZoom)return this.transform.maxZoom=S,this._update(),this.getZoom()>S&&this.setZoom(S),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(S){if((S=S??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(S>=0&&S<=this.transform.maxPitch)return this.transform.minPitch=S,this._update(),this.getPitch()<S&&this.setPitch(S),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(S){if((S=S??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(S>=this.transform.minPitch)return this.transform.maxPitch=S,this._update(),this.getPitch()>S&&this.setPitch(S),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(S){return this.transform.renderWorldCopies=S,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(S){return this._cooperativeGestures=S,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(S){return this.transform.locationPoint(a.LngLat.convert(S),this.style&&this.terrain)}unproject(S){return this.transform.pointLocation(a.Point.convert(S),this.terrain)}isMoving(){var S;return this._moving||((S=this.handlers)===null||S===void 0?void 0:S.isMoving())}isZooming(){var S;return this._zooming||((S=this.handlers)===null||S===void 0?void 0:S.isZooming())}isRotating(){var S;return this._rotating||((S=this.handlers)===null||S===void 0?void 0:S.isRotating())}_createDelegatedListener(S,c,p){if(S==="mouseenter"||S==="mouseover"){let y=!1;return{layer:c,listener:p,delegates:{mousemove:T=>{const D=this.getLayer(c)?this.queryRenderedFeatures(T.point,{layers:[c]}):[];D.length?y||(y=!0,p.call(this,new Qn(S,this,T.originalEvent,{features:D}))):y=!1},mouseout:()=>{y=!1}}}}if(S==="mouseleave"||S==="mouseout"){let y=!1;return{layer:c,listener:p,delegates:{mousemove:D=>{(this.getLayer(c)?this.queryRenderedFeatures(D.point,{layers:[c]}):[]).length?y=!0:y&&(y=!1,p.call(this,new Qn(S,this,D.originalEvent)))},mouseout:D=>{y&&(y=!1,p.call(this,new Qn(S,this,D.originalEvent)))}}}}{const y=x=>{const T=this.getLayer(c)?this.queryRenderedFeatures(x.point,{layers:[c]}):[];T.length&&(x.features=T,p.call(this,x),delete x.features)};return{layer:c,listener:p,delegates:{[S]:y}}}}on(S,c,p){if(p===void 0)return super.on(S,c);const y=this._createDelegatedListener(S,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[S]=this._delegatedListeners[S]||[],this._delegatedListeners[S].push(y);for(const x in y.delegates)this.on(x,y.delegates[x]);return this}once(S,c,p){if(p===void 0)return super.once(S,c);const y=this._createDelegatedListener(S,c,p);for(const x in y.delegates)this.once(x,y.delegates[x]);return this}off(S,c,p){return p===void 0?super.off(S,c):(this._delegatedListeners&&this._delegatedListeners[S]&&(y=>{const x=this._delegatedListeners[S];for(let T=0;T<x.length;T++){const D=x[T];if(D.layer===c&&D.listener===p){for(const N in D.delegates)this.off(N,D.delegates[N]);return x.splice(T,1),this}}})(),this)}queryRenderedFeatures(S,c){if(!this.style)return[];let p;const y=S instanceof a.Point||Array.isArray(S),x=y?S:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(y?{}:S)||{},x instanceof a.Point||typeof x[0]=="number")p=[a.Point.convert(x)];else{const T=a.Point.convert(x[0]),D=a.Point.convert(x[1]);p=[T,new a.Point(D.x,T.y),D,new a.Point(T.x,D.y),T]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(S,c){return this.style.querySourceFeatures(S,c)}setStyle(S,c){return(c=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&S?(this._diffStyle(S,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(S,c))}setTransformRequest(S){return this._requestManager.setTransformRequest(S),this}_getUIString(S){const c=this._locale[S];if(c==null)throw new Error(`Missing UI string '${S}'`);return c}_updateStyle(S,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(S,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!S)),S?(this.style=new Ui(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof S=="string"?this.style.loadURL(S,c,p):this.style.loadJSON(S,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ui(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(S,c){if(typeof S=="string"){const p=this._requestManager.transformRequest(S,O.Style);a.getJSON(p,(y,x)=>{y?this.fire(new a.ErrorEvent(y)):x&&this._updateDiff(x,c)})}else typeof S=="object"&&this._updateDiff(S,c)}_updateDiff(S,c){try{this.style.setState(S,c)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(S,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(S,c){return this._lazyInitEmptyStyle(),this.style.addSource(S,c),this._update(!0)}isSourceLoaded(S){const c=this.style&&this.style.sourceCaches[S];if(c!==void 0)return c.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${S}'`)))}setTerrain(S){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),S){const c=this.style.sourceCaches[S.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${S.source}`);for(const p in this.style._layers){const y=this.style._layers[p];y.type==="hillshade"&&y.source===S.source&&a.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ry(this.painter,c,S),this.painter.renderToTexture=new Ex(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==S.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.Event("terrain",{terrain:S})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const S=this.style&&this.style.sourceCaches;for(const c in S){const p=S[c]._tiles;for(const y in p){const x=p[y];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}addSourceType(S,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(S,c,p)}removeSource(S){return this.style.removeSource(S),this._update(!0)}getSource(S){return this.style.getSource(S)}addImage(S,c,p={}){const{pixelRatio:y=1,sdf:x=!1,stretchX:T,stretchY:D,content:N}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.isImageBitmap(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:B,height:q,data:G}=c,K=c;return this.style.addImage(S,{data:new a.RGBAImage({width:B,height:q},new Uint8Array(G)),pixelRatio:y,stretchX:T,stretchY:D,content:N,sdf:x,version:0,userImage:K}),K.onAdd&&K.onAdd(this,S),this}}{const{width:B,height:q,data:G}=a.browser.getImageData(c);this.style.addImage(S,{data:new a.RGBAImage({width:B,height:q},G),pixelRatio:y,stretchX:T,stretchY:D,content:N,sdf:x,version:0})}}updateImage(S,c){const p=this.style.getImage(S);if(!p)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=c instanceof HTMLImageElement||a.isImageBitmap(c)?a.browser.getImageData(c):c,{width:x,height:T,data:D}=y;if(x===void 0||T===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(x!==p.data.width||T!==p.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const N=!(c instanceof HTMLImageElement||a.isImageBitmap(c));return p.data.replace(D,N),this.style.updateImage(S,p),this}getImage(S){return this.style.getImage(S)}hasImage(S){return S?!!this.style.getImage(S):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(S){this.style.removeImage(S)}loadImage(S,c){A.getImage(this._requestManager.transformRequest(S,O.Image),c)}listImages(){return this.style.listImages()}addLayer(S,c){return this._lazyInitEmptyStyle(),this.style.addLayer(S,c),this._update(!0)}moveLayer(S,c){return this.style.moveLayer(S,c),this._update(!0)}removeLayer(S){return this.style.removeLayer(S),this._update(!0)}getLayer(S){return this.style.getLayer(S)}setLayerZoomRange(S,c,p){return this.style.setLayerZoomRange(S,c,p),this._update(!0)}setFilter(S,c,p={}){return this.style.setFilter(S,c,p),this._update(!0)}getFilter(S){return this.style.getFilter(S)}setPaintProperty(S,c,p,y={}){return this.style.setPaintProperty(S,c,p,y),this._update(!0)}getPaintProperty(S,c){return this.style.getPaintProperty(S,c)}setLayoutProperty(S,c,p,y={}){return this.style.setLayoutProperty(S,c,p,y),this._update(!0)}getLayoutProperty(S,c){return this.style.getLayoutProperty(S,c)}setGlyphs(S,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(S,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(S,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(S,c,p,y=>{y||this._update(!0)}),this}removeSprite(S){return this._lazyInitEmptyStyle(),this.style.removeSprite(S),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(S,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(S,c,p=>{p||this._update(!0)}),this}setLight(S,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(S,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(S,c){return this.style.setFeatureState(S,c),this._update()}removeFeatureState(S,c){return this.style.removeFeatureState(S,c),this._update()}getFeatureState(S){return this.style.getFeatureState(S)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let S=0,c=0;return this._container&&(S=this._container.clientWidth||400,c=this._container.clientHeight||300),[S,c]}_setupContainer(){const S=this._container;S.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",S);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),y=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],y);const x=this._controlContainer=h.create("div","maplibregl-control-container",S),T=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{T[D]=h.create("div",`maplibregl-ctrl-${D} `,x)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${S}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(S,c,p){this._canvas.width=Math.floor(p*S),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${S}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const S={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",y=>{c={requestedAttributes:S},y&&(c.statusMessage=y.statusMessage,c.type=y.type)},{once:!0});const p=this._canvas.getContext("webgl2",S)||this._canvas.getContext("webgl",S);if(!p){const y="Failed to initialize WebGL";throw c?(c.message=y,new Error(JSON.stringify(c))):new Error(y)}this.painter=new lx(p,this.transform),g.testSupport(p)}_onCooperativeGesture(S,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(S){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||S,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(S){return this._update(),this._renderTaskQueue.add(S)}_cancelRenderFrame(S){this._renderTaskQueue.remove(S)}_render(S){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(S),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const x=this.transform.zoom,T=a.browser.now();this.style.zoomHistory.update(x,T);const D=new a.EvaluationParameters(x,{now:T,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),N=D.crossFadingFactor();N===1&&N===this._crossFadingFactor||(p=!0,this._crossFadingFactor=N),this.style.update(D)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const y=this._sourcesDirty||this._styleDirty||this._placementDirty;return y||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var S;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),A.removeThrottleControl(this._imageQueueHandle),(S=this._resizeObserver)===null||S===void 0||S.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.browser.frame(S=>{a.PerformanceUtils.frame(S),this._frame=null,this._render(S)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(S){this._showTileBoundaries!==S&&(this._showTileBoundaries=S,this._update())}get showPadding(){return!!this._showPadding}set showPadding(S){this._showPadding!==S&&(this._showPadding=S,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(S){this._showCollisionBoxes!==S&&(this._showCollisionBoxes=S,S?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(S){this._showOverdrawInspector!==S&&(this._showOverdrawInspector=S,this._update())}get repaint(){return!!this._repaint}set repaint(S){this._repaint!==S&&(this._repaint=S,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(S){this._vertices=S,this._update()}get version(){return ns}getCameraTargetElevation(){return this.transform.elevation}},zr.NavigationControl=class{constructor(S){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),y=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const y=this._map._getUIString(`NavigationControl.${p}`);c.title=y,c.setAttribute("aria-label",y)},this.options=a.extend({},Pn,S),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(S){return this._map=S,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ei(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(S,c){const p=h.create("button",S,this._container);return p.type="button",p.addEventListener("click",c),p}},zr.GeolocateControl=class extends a.Evented{constructor(S){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.Event("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.LngLat(c.coords.longitude,c.coords.latitude),y=c.coords.accuracy,x=this._map.getBearing(),T=a.extend({bearing:x},this.options.fitBoundsOptions),D=De.fromLngLat(p,y);this._map.fitBounds(D,T,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&_c)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.Event("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new ld({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ld({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}},this.options=a.extend({},iy,S)}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){js===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(y=>{js=y.state!=="denied",c(js)}).catch(()=>{js=!!window.navigator.geolocation,c(js)}):(js=!!window.navigator.geolocation,c(js)):c(js)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,El=0,_c=!1}_isOutOfMapMaxBounds(S){const c=this._map.getMaxBounds(),p=S.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const S=this._map.getBounds(),c=S.getSouthEast(),p=S.getNorthEast(),y=c.distanceTo(p),x=Math.ceil(this._accuracy/(y/this._map._container.clientHeight)*2);this._circleElement.style.width=`${x}px`,this._circleElement.style.height=`${x}px`}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":El--,_c=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let S;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),El++,El>1?(S={maximumAge:6e5,timeout:0},_c=!0):(S=this.options.positionOptions,_c=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,S)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},zr.AttributionControl=Sx,zr.LogoControl=ka,zr.ScaleControl=class{constructor(S){this._onMove=()=>{Hh(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Hh(this._map,this._container,this.options)},this.options=a.extend({},oy,S)}getDefaultPosition(){return"bottom-left"}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",S.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},zr.FullscreenControl=class extends a.Evented{constructor(S={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,S&&S.container&&(S.container instanceof HTMLElement?this._container=S.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(S){return this._map=S,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const S=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",S).setAttribute("aria-hidden","true"),S.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const S=this._getTitle();this._fullscreenButton.setAttribute("aria-label",S),this._fullscreenButton.title=S}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},zr.TerrainControl=class{constructor(S){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=S}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},zr.Popup=class extends a.Evented{constructor(S){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Su(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let y=this.options.anchor;const x=Gh(this.options.offset);if(!y){const D=this._container.offsetWidth,N=this._container.offsetHeight;let B;B=p.y+x.bottom.y<N?["top"]:p.y>this._map.transform.height-N?["bottom"]:[],p.x<D/2?B.push("left"):p.x>this._map.transform.width-D/2&&B.push("right"),y=B.length===0?"bottom":B.join("-")}const T=p.add(x[y]).round();h.setTransform(this._container,`${Eu[y]} translate(${T.x}px,${T.y}px)`),qh(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=a.extend(Object.create(ay),S)}addTo(S){return this._map&&this.remove(),this._map=S,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(S){return this._lngLat=a.LngLat.convert(S),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(S){return this.setDOMContent(document.createTextNode(S))}setHTML(S){const c=document.createDocumentFragment(),p=document.createElement("body");let y;for(p.innerHTML=S;y=p.firstChild,y;)c.appendChild(y);return this.setDOMContent(c)}getMaxWidth(){var S;return(S=this._container)===null||S===void 0?void 0:S.style.maxWidth}setMaxWidth(S){return this.options.maxWidth=S,this._update(),this}setDOMContent(S){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(S),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(S){this._container&&this._container.classList.add(S)}removeClassName(S){this._container&&this._container.classList.remove(S)}setOffset(S){return this.options.offset=S,this._update(),this}toggleClassName(S){if(this._container)return this._container.classList.toggle(S)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const S=this._container.querySelector(sy);S&&S.focus()}},zr.Marker=ld,zr.Style=Ui,zr.LngLat=a.LngLat,zr.LngLatBounds=De,zr.Point=a.Point,zr.MercatorCoordinate=a.MercatorCoordinate,zr.Evented=a.Evented,zr.AJAXError=a.AJAXError,zr.config=a.config,zr.CanvasSource=Pe,zr.GeoJSONSource=Ue,zr.ImageSource=ct,zr.RasterDEMTileSource=nt,zr.RasterTileSource=st,zr.VectorTileSource=je,zr.VideoSource=Be,zr.setRTLTextPlugin=a.setRTLTextPlugin,zr.getRTLTextPluginStatus=a.getRTLTextPluginStatus,zr.prewarm=function(){Jt().acquire(ut)},zr.clearPrewarmedResources=function(){const S=mr;S&&(S.isPreloaded()&&S.numActive()===1?(S.release(ut),mr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},ly.extend(zr,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),zr});var s=i;return s})})(MW);var Uge=MW.exports;const M2=Kr(Uge);class Vge{constructor(t,r,n){this.onBeforeSwitch=t,this.onSwitch=r,this.onAfterSwitch=n,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,r){this.styles=t;let n=null;for(const o of this.styles)if(o.id===(this.currentStyle||r)){n=o.id;break}for(n||(n=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:d}=a;d.classList.contains("active")||this.onSelectStyle(d)}),o.id===n&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==n&&(this.onSelectStyle(i),this.currentStyle=n)}onSelectStyle(t){this.onBeforeSwitch();const r=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(r.style,{diff:!1}),this.map.setTransformRequest(r.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const n=this.mapStyleContainer.getElementsByClassName("active");for(;n[0];)n[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const Wge=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},Ko=({tiles:e,minZoom:t,maxZoom:r,attribution:n})=>{const i={type:"raster",tiles:e,attribution:n,tileSize:256,minzoom:t,maxzoom:r};return Object.keys(i).forEach(o=>i[o]===void 0&&delete i[o]),{version:8,sources:{custom:i},glyphs:"https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf",layers:[{id:"custom",type:"raster",source:"custom"}]}},qge=()=>{const e="mykey",t="mykey",r="mykey",n="mykey",i="mykey",o="mykey";return[{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"osm",title:"mapOsm",style:Ko({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Ko({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Ko({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Ko({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Ko({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Ko({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Ko({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!r,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Ko({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!r,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Ko({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!r,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${n}`,available:!!n,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Ko({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Ko({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Ko({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Ko({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Ko({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Ko({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"}]},Rm=document.createElement("div");Rm.style.width="100%";Rm.style.height="100%";Rm.style.boxSizing="initial";const lt=new M2.Map({container:Rm,attributionControl:!1,center:[-6.0025,37.412],zoom:8});let yR=!1;const vR=new Set,Hge=e=>{vR.add(e),e(yR)},Gge=e=>{vR.delete(e)},IW=e=>{yR=e,vR.forEach(t=>t(e))},Yge=async()=>{yR||(lt.hasImage("background")||Object.entries(wp).forEach(([e,t])=>{lt.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),IW(!0))};lt.addControl(new M2.NavigationControl);const RW=new Vge(()=>IW(!1),e=>Wge("selectedMapStyle",e),()=>{lt.once("styledata",()=>{const e=()=>{lt.loaded()?Yge():setTimeout(e,33)};e()})});lt.addControl(RW);const $W=({children:e})=>{const t=W.useRef(null),[r,n]=W.useState(!1),i=qge(),o="osm",[s]="osm",a="my tocken",d=21;return W.useEffect(()=>{lt.setMaxZoom(d)},[d]),W.useEffect(()=>{M2.accessToken=a},[a]),W.useEffect(()=>{const h=i.filter(v=>v.available&&o.includes(v.id)),g=h.length?h:i.filter(v=>v.id==="osm");RW.updateStyles(g,s)},[i,s]),W.useEffect(()=>{const h=g=>n(g);return Hge(h),()=>{Gge(h)}},[]),W.useLayoutEffect(()=>{const h=t.current;return h.appendChild(Rm),lt.resize(),()=>{h.removeChild(Rm)}},[t]),U.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:r&&e})},_R=Symbol.for("yaml.alias"),MA=Symbol.for("yaml.document"),vf=Symbol.for("yaml.map"),DW=Symbol.for("yaml.pair"),ru=Symbol.for("yaml.scalar"),ug=Symbol.for("yaml.seq"),As=Symbol.for("yaml.node.type"),ch=e=>!!e&&typeof e=="object"&&e[As]===_R,fg=e=>!!e&&typeof e=="object"&&e[As]===MA,dg=e=>!!e&&typeof e=="object"&&e[As]===vf,Yn=e=>!!e&&typeof e=="object"&&e[As]===DW,Tn=e=>!!e&&typeof e=="object"&&e[As]===ru,hg=e=>!!e&&typeof e=="object"&&e[As]===ug;function ii(e){if(e&&typeof e=="object")switch(e[As]){case vf:case ug:return!0}return!1}function wi(e){if(e&&typeof e=="object")switch(e[As]){case _R:case vf:case ru:case ug:return!0}return!1}const Kge=e=>(Tn(e)||ii(e))&&!!e.anchor,ma=Symbol("break visit"),LW=Symbol("skip children"),Kl=Symbol("remove node");function Pf(e,t){const r=zW(t);fg(e)?Fp(null,e.contents,r,Object.freeze([e]))===Kl&&(e.contents=null):Fp(null,e,r,Object.freeze([]))}Pf.BREAK=ma;Pf.SKIP=LW;Pf.REMOVE=Kl;function Fp(e,t,r,n){const i=NW(e,t,r,n);if(wi(i)||Yn(i))return jW(e,n,i),Fp(e,i,r,n);if(typeof i!="symbol"){if(ii(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const s=Fp(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===ma)return ma;s===Kl&&(t.items.splice(o,1),o-=1)}}}else if(Yn(t)){n=Object.freeze(n.concat(t));const o=Fp("key",t.key,r,n);if(o===ma)return ma;o===Kl&&(t.key=null);const s=Fp("value",t.value,r,n);if(s===ma)return ma;s===Kl&&(t.value=null)}}return i}async function O2(e,t){const r=zW(t);fg(e)?await Up(null,e.contents,r,Object.freeze([e]))===Kl&&(e.contents=null):await Up(null,e,r,Object.freeze([]))}O2.BREAK=ma;O2.SKIP=LW;O2.REMOVE=Kl;async function Up(e,t,r,n){const i=await NW(e,t,r,n);if(wi(i)||Yn(i))return jW(e,n,i),Up(e,i,r,n);if(typeof i!="symbol"){if(ii(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const s=await Up(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===ma)return ma;s===Kl&&(t.items.splice(o,1),o-=1)}}}else if(Yn(t)){n=Object.freeze(n.concat(t));const o=await Up("key",t.key,r,n);if(o===ma)return ma;o===Kl&&(t.key=null);const s=await Up("value",t.value,r,n);if(s===ma)return ma;s===Kl&&(t.value=null)}}return i}function zW(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function NW(e,t,r,n){var i,o,s,a,d;if(typeof r=="function")return r(e,t,n);if(dg(t))return(i=r.Map)==null?void 0:i.call(r,e,t,n);if(hg(t))return(o=r.Seq)==null?void 0:o.call(r,e,t,n);if(Yn(t))return(s=r.Pair)==null?void 0:s.call(r,e,t,n);if(Tn(t))return(a=r.Scalar)==null?void 0:a.call(r,e,t,n);if(ch(t))return(d=r.Alias)==null?void 0:d.call(r,e,t,n)}function jW(e,t,r){const n=t[t.length-1];if(ii(n))n.items[e]=r;else if(Yn(n))e==="key"?n.key=r:n.value=r;else if(fg(n))n.contents=r;else{const i=ch(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Zge={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Xge=e=>e.replace(/[!,[\]{}]/g,t=>Zge[t]);class Jo{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Jo.defaultYaml,t),this.tags=Object.assign({},Jo.defaultTags,r)}clone(){const t=new Jo(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Jo(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Jo.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Jo.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Jo.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Jo.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[o]=n;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return r(6,`Unsupported YAML version ${o}`,s),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}const[,n,i]=t.match(/^(.*!)([^!]*)$/);i||r(`The ${t} tag has no suffix`);const o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+Xge(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(t&&n.length>0&&wi(t.contents)){const o={};Pf(t.contents,(s,a)=>{wi(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}}Jo.defaultYaml={explicit:!1,version:"1.2"};Jo.defaultTags={"!!":"tag:yaml.org,2002:"};function BW(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function FW(e){const t=new Set;return Pf(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function UW(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function Jge(e,t){const r=[],n=new Map;let i=null;return{onAnchor:o=>{r.push(o),i||(i=FW(e));const s=UW(t,i);return i.add(s),s},setAnchors:()=>{for(const o of r){const s=n.get(o);if(typeof s=="object"&&s.anchor&&(Tn(s.node)||ii(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}function Vp(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){const s=n[i],a=Vp(e,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const o=n.get(i),s=Vp(e,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(const i of Array.from(n)){const o=Vp(e,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(const[i,o]of Object.entries(n)){const s=Vp(e,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return e.call(t,r,n)}function bs(e,t,r){if(Array.isArray(e))return e.map((n,i)=>bs(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!Kge(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};const i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!(r!=null&&r.keep)?Number(e):e}class xR{constructor(t){Object.defineProperty(this,As,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:o}={}){if(!fg(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=bs(this,"",s);if(typeof i=="function")for(const{count:d,res:h}of s.anchors.values())i(h,d);return typeof o=="function"?Vp(o,{"":a},"",a):a}}class I2 extends xR{constructor(t){super(_R),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return Pf(t,{Node:(n,i)=>{if(i===this)return Pf.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){const d=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(d)}let a=n.get(s);if(a||(bs(s,null,r),a=n.get(s)),!a||a.res===void 0){const d="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(d)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=a1(i,s,n)),a.count*a.aliasCount>o)){const d="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(d)}return a.res}toString(t,r,n){const i=`*${this.source}`;if(t){if(BW(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function a1(e,t,r){if(ch(t)){const n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(ii(t)){let n=0;for(const i of t.items){const o=a1(e,i,r);o>n&&(n=o)}return n}else if(Yn(t)){const n=a1(e,t.key,r),i=a1(e,t.value,r);return Math.max(n,i)}return 1}const VW=e=>!e||typeof e!="function"&&typeof e!="object";class br extends xR{constructor(t){super(ru),this.value=t}toJSON(t,r){return r!=null&&r.keep?this.value:bs(this.value,t,r)}toString(){return String(this.value)}}br.BLOCK_FOLDED="BLOCK_FOLDED";br.BLOCK_LITERAL="BLOCK_LITERAL";br.PLAIN="PLAIN";br.QUOTE_DOUBLE="QUOTE_DOUBLE";br.QUOTE_SINGLE="QUOTE_SINGLE";const Qge="tag:yaml.org,2002:";function eye(e,t,r){if(t){const n=r.filter(o=>o.tag===t),i=n.find(o=>!o.format)??n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>{var i;return((i=n.identify)==null?void 0:i.call(n,e))&&!n.format})}function P0(e,t,r){var v,b,M;if(fg(e)&&(e=e.contents),wi(e))return e;if(Yn(e)){const P=(b=(v=r.schema[vf]).createNode)==null?void 0:b.call(v,r.schema,null,r);return P.items.push(e),P}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=r;let d;if(n&&e&&typeof e=="object"){if(d=a.get(e),d)return d.anchor||(d.anchor=i(e)),new I2(d.anchor);d={anchor:null,node:null},a.set(e,d)}t!=null&&t.startsWith("!!")&&(t=Qge+t.slice(2));let h=eye(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const P=new br(e);return d&&(d.node=P),P}h=e instanceof Map?s[vf]:Symbol.iterator in Object(e)?s[ug]:s[vf]}o&&(o(h),delete r.onTagObj);const g=h!=null&&h.createNode?h.createNode(r.schema,e,r):typeof((M=h==null?void 0:h.nodeClass)==null?void 0:M.from)=="function"?h.nodeClass.from(r.schema,e,r):new br(e);return t?g.tag=t:h.default||(g.tag=h.tag),d&&(d.node=g),g}function iw(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return P0(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const yv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class R2 extends xR{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>wi(n)||Yn(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(yv(t))this.add(r);else{const[n,...i]=t,o=this.get(n,!0);if(ii(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,iw(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const i=this.get(r,!0);if(ii(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...i]=t,o=this.get(n,!0);return i.length===0?!r&&Tn(o)?o.value:o:ii(o)?o.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!Yn(r))return!1;const n=r.value;return n==null||t&&Tn(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const i=this.get(r,!0);return ii(i)?i.hasIn(n):!1}setIn(t,r){const[n,...i]=t;if(i.length===0)this.set(n,r);else{const o=this.get(n,!0);if(ii(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,iw(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}R2.maxFlowStringSingleLineLength=60;const tye=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Lc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const ef=(e,t,r)=>e.endsWith(`
`)?Lc(r,t):r.includes(`
`)?`
`+Lc(r,t):(e.endsWith(" ")?"":" ")+r,WW="flow",OA="block",s1="quoted";function $2(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const d=Math.max(1+o,1+i-t.length);if(e.length<=d)return e;const h=[],g={};let v=i-t.length;typeof n=="number"&&(n>i-Math.max(2,o)?h.push(0):v=i-n);let b,M,P=!1,w=-1,A=-1,O=-1;r===OA&&(w=O5(e,w),w!==-1&&(v=w+d));for(let C;C=e[w+=1];){if(r===s1&&C==="\\"){switch(A=w,e[w+1]){case"x":w+=3;break;case"u":w+=5;break;case"U":w+=9;break;default:w+=1}O=w}if(C===`
`)r===OA&&(w=O5(e,w)),v=w+d,b=void 0;else{if(C===" "&&M&&M!==" "&&M!==`
`&&M!=="	"){const R=e[w+1];R&&R!==" "&&R!==`
`&&R!=="	"&&(b=w)}if(w>=v)if(b)h.push(b),v=b+d,b=void 0;else if(r===s1){for(;M===" "||M==="	";)M=C,C=e[w+=1],P=!0;const R=w>O+1?w-2:A-1;if(g[R])return e;h.push(R),g[R]=!0,v=R+d,b=void 0}else P=!0}M=C}if(P&&a&&a(),h.length===0)return e;s&&s();let I=e.slice(0,h[0]);for(let C=0;C<h.length;++C){const R=h[C],z=h[C+1]||e.length;R===0?I=`
${t}${e.slice(0,z)}`:(r===s1&&g[R]&&(I+=`${e[R]}\\`),I+=`
${t}${e.slice(R+1,z)}`)}return I}function O5(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}const D2=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),L2=e=>/^(%|---|\.\.\.)/m.test(e);function rye(e,t,r){if(!t||t<0)return!1;const n=t-r,i=e.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function Nv(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(L2(e)?"  ":"");let s="",a=0;for(let d=0,h=r[d];h;h=r[++d])if(h===" "&&r[d+1]==="\\"&&r[d+2]==="n"&&(s+=r.slice(a,d)+"\\ ",d+=1,a=d,h="\\"),h==="\\")switch(r[d+1]){case"u":{s+=r.slice(a,d);const g=r.substr(d+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=r.substr(d,6)}d+=5,a=d+1}break;case"n":if(n||r[d+2]==='"'||r.length<i)d+=1;else{for(s+=r.slice(a,d)+`

`;r[d+2]==="\\"&&r[d+3]==="n"&&r[d+4]!=='"';)s+=`
`,d+=2;s+=o,r[d+2]===" "&&(s+="\\"),d+=1,a=d+1}break;default:d+=1}return s=a?s+r.slice(a):r,n?s:$2(s,o,s1,D2(t,!1))}function IA(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Nv(e,t);const r=t.indent||(L2(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:$2(n,r,WW,D2(t,!1))}function Wp(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=Nv;else{const i=e.includes('"'),o=e.includes("'");i&&!o?n=IA:o&&!i?n=Nv:n=r?IA:Nv}return n(e,t)}let RA;try{RA=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{RA=/\n+(?!\n|$)/g}function l1({comment:e,type:t,value:r},n,i,o){const{blockQuote:s,commentString:a,lineWidth:d}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return Wp(r,n);const h=n.indent||(n.forceBlockIndent||L2(r)?"  ":""),g=s==="literal"?!0:s==="folded"||t===br.BLOCK_FOLDED?!1:t===br.BLOCK_LITERAL?!0:!rye(r,d,h.length);if(!r)return g?`|
`:`>
`;let v,b;for(b=r.length;b>0;--b){const L=r[b-1];if(L!==`
`&&L!=="	"&&L!==" ")break}let M=r.substring(b);const P=M.indexOf(`
`);P===-1?v="-":r===M||P!==M.length-1?(v="+",o&&o()):v="",M&&(r=r.slice(0,-M.length),M[M.length-1]===`
`&&(M=M.slice(0,-1)),M=M.replace(RA,`$&${h}`));let w=!1,A,O=-1;for(A=0;A<r.length;++A){const L=r[A];if(L===" ")w=!0;else if(L===`
`)O=A;else break}let I=r.substring(0,O<A?O+1:A);I&&(r=r.substring(I.length),I=I.replace(/\n+/g,`$&${h}`));let R=(g?"|":">")+(w?h?"2":"1":"")+v;if(e&&(R+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return r=r.replace(/\n+/g,`$&${h}`),`${R}
${h}${I}${r}${M}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const z=$2(`${I}${r}${M}`,h,OA,D2(n,!0));return`${R}
${h}${z}`}function nye(e,t,r,n){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:d,indentStep:h,inFlow:g}=t;if(a&&/[\n[\]{},]/.test(o)||g&&/[[\]{},]/.test(o))return Wp(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?Wp(o,t):l1(e,t,r,n);if(!a&&!g&&i!==br.PLAIN&&o.includes(`
`))return l1(e,t,r,n);if(L2(o)){if(d==="")return t.forceBlockIndent=!0,l1(e,t,r,n);if(a&&d===h)return Wp(o,t)}const v=o.replace(/\n+/g,`$&
${d}`);if(s){const b=w=>{var A;return w.default&&w.tag!=="tag:yaml.org,2002:str"&&((A=w.test)==null?void 0:A.test(v))},{compat:M,tags:P}=t.doc.schema;if(P.some(b)||M!=null&&M.some(b))return Wp(o,t)}return a?v:$2(v,d,WW,D2(t,!1))}function C_(e,t,r,n){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==br.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=br.QUOTE_DOUBLE);const d=g=>{switch(g){case br.BLOCK_FOLDED:case br.BLOCK_LITERAL:return i||o?Wp(s.value,t):l1(s,t,r,n);case br.QUOTE_DOUBLE:return Nv(s.value,t);case br.QUOTE_SINGLE:return IA(s.value,t);case br.PLAIN:return nye(s,t,r,n);default:return null}};let h=d(a);if(h===null){const{defaultKeyType:g,defaultStringType:v}=t.options,b=i&&g||v;if(h=d(b),h===null)throw new Error(`Unsupported default string type ${b}`)}return h}function qW(e,t){const r=Object.assign({blockQuote:!0,commentString:tye,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function iye(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let r,n;if(Tn(t)){n=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,n)});r=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else n=t,r=e.find(o=>o.nodeClass&&n instanceof o.nodeClass);if(!r){const o=((i=n==null?void 0:n.constructor)==null?void 0:i.name)??typeof n;throw new Error(`Tag not resolved for ${o} value`)}return r}function oye(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const i=[],o=(Tn(e)||ii(e))&&e.anchor;o&&BW(o)&&(r.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(n.directives.tagString(s)),i.join(" ")}function $m(e,t,r,n){var d;if(Yn(e))return e.toString(t,r,n);if(ch(e)){if(t.doc.directives)return e.toString(t);if((d=t.resolvedAliases)!=null&&d.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=wi(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=iye(t.doc.schema.tags,o));const s=oye(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,r,n):Tn(o)?C_(o,t,r,n):o.toString(t,r,n);return s?Tn(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function aye({key:e,value:t},r,n,i){const{allNullValues:o,doc:s,indent:a,indentStep:d,options:{commentString:h,indentSeq:g,simpleKeys:v}}=r;let b=wi(e)&&e.comment||null;if(v){if(b)throw new Error("With simple keys, key nodes cannot have comments");if(ii(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let M=!v&&(!e||b&&t==null&&!r.inFlow||ii(e)||(Tn(e)?e.type===br.BLOCK_FOLDED||e.type===br.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!M&&(v||!o),indent:a+d});let P=!1,w=!1,A=$m(e,r,()=>P=!0,()=>w=!0);if(!M&&!r.inFlow&&A.length>1024){if(v)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");M=!0}if(r.inFlow){if(o||t==null)return P&&n&&n(),A===""?"?":M?`? ${A}`:A}else if(o&&!v||t==null&&M)return A=`? ${A}`,b&&!P?A+=ef(A,r.indent,h(b)):w&&i&&i(),A;P&&(b=null),M?(b&&(A+=ef(A,r.indent,h(b))),A=`? ${A}
${a}:`):(A=`${A}:`,b&&(A+=ef(A,r.indent,h(b))));let O,I,C;wi(t)?(O=!!t.spaceBefore,I=t.commentBefore,C=t.comment):(O=!1,I=null,C=null,t&&typeof t=="object"&&(t=s.createNode(t))),r.implicitKey=!1,!M&&!b&&Tn(t)&&(r.indentAtStart=A.length+1),w=!1,!g&&d.length>=2&&!r.inFlow&&!M&&hg(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let R=!1;const z=$m(t,r,()=>R=!0,()=>w=!0);let L=" ";if(b||O||I){if(L=O?`
`:"",I){const F=h(I);L+=`
${Lc(F,r.indent)}`}z===""&&!r.inFlow?L===`
`&&(L=`

`):L+=`
${r.indent}`}else if(!M&&ii(t)){const F=z[0],H=z.indexOf(`
`),re=H!==-1,te=r.inFlow??t.flow??t.items.length===0;if(re||!te){let ae=!1;if(re&&(F==="&"||F==="!")){let de=z.indexOf(" ");F==="&"&&de!==-1&&de<H&&z[de+1]==="!"&&(de=z.indexOf(" ",de+1)),(de===-1||H<de)&&(ae=!0)}ae||(L=`
${r.indent}`)}}else(z===""||z[0]===`
`)&&(L="");return A+=L+z,r.inFlow?R&&n&&n():C&&!R?A+=ef(A,r.indent,h(C)):w&&i&&i(),A}function HW(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const I5="<<";function GW(e,t,{key:r,value:n}){if(e!=null&&e.doc.schema.merge&&sye(r))if(n=ch(n)?n.resolve(e.doc):n,hg(n))for(const i of n.items)KT(e,t,i);else if(Array.isArray(n))for(const i of n)KT(e,t,i);else KT(e,t,n);else{const i=bs(r,"",e);if(t instanceof Map)t.set(i,bs(n,i,e));else if(t instanceof Set)t.add(i);else{const o=lye(r,i,e),s=bs(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const sye=e=>e===I5||Tn(e)&&e.value===I5&&(!e.type||e.type===br.PLAIN);function KT(e,t,r){const n=e&&ch(r)?r.resolve(e.doc):r;if(!dg(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function lye(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(wi(e)&&r&&r.doc){const n=qW(r.doc,{});n.anchors=new Set;for(const o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),HW(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}function bR(e,t,r){const n=P0(e,void 0,r),i=P0(t,void 0,r);return new Ro(n,i)}class Ro{constructor(t,r=null){Object.defineProperty(this,As,{value:DW}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return wi(r)&&(r=r.clone(t)),wi(n)&&(n=n.clone(t)),new Ro(r,n)}toJSON(t,r){const n=r!=null&&r.mapAsMap?new Map:{};return GW(r,n,this)}toString(t,r,n){return t!=null&&t.doc?aye(this,t,r,n):JSON.stringify(this)}}function YW(e,t,r){return(t.inFlow??e.flow?uye:cye)(e,t,r)}function cye({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:d,options:{commentString:h}}=r,g=Object.assign({},r,{indent:o,type:null});let v=!1;const b=[];for(let P=0;P<t.length;++P){const w=t[P];let A=null;if(wi(w))!v&&w.spaceBefore&&b.push(""),ow(r,b,w.commentBefore,v),w.comment&&(A=w.comment);else if(Yn(w)){const I=wi(w.key)?w.key:null;I&&(!v&&I.spaceBefore&&b.push(""),ow(r,b,I.commentBefore,v))}v=!1;let O=$m(w,g,()=>A=null,()=>v=!0);A&&(O+=ef(O,o,h(A))),v&&A&&(v=!1),b.push(n+O)}let M;if(b.length===0)M=i.start+i.end;else{M=b[0];for(let P=1;P<b.length;++P){const w=b[P];M+=w?`
${d}${w}`:`
`}}return e?(M+=`
`+Lc(h(e),d),a&&a()):v&&s&&s(),M}function uye({comment:e,items:t},r,{flowChars:n,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:d,options:{commentString:h}}=r;i+=a;const g=Object.assign({},r,{indent:i,inFlow:!0,type:null});let v=!1,b=0;const M=[];for(let O=0;O<t.length;++O){const I=t[O];let C=null;if(wi(I))I.spaceBefore&&M.push(""),ow(r,M,I.commentBefore,!1),I.comment&&(C=I.comment);else if(Yn(I)){const z=wi(I.key)?I.key:null;z&&(z.spaceBefore&&M.push(""),ow(r,M,z.commentBefore,!1),z.comment&&(v=!0));const L=wi(I.value)?I.value:null;L?(L.comment&&(C=L.comment),L.commentBefore&&(v=!0)):I.value==null&&z&&z.comment&&(C=z.comment)}C&&(v=!0);let R=$m(I,g,()=>C=null);O<t.length-1&&(R+=","),C&&(R+=ef(R,i,h(C))),!v&&(M.length>b||R.includes(`
`))&&(v=!0),M.push(R),b=M.length}let P;const{start:w,end:A}=n;if(M.length===0)P=w+A;else if(v||(v=M.reduce((I,C)=>I+C.length+2,2)>R2.maxFlowStringSingleLineLength),v){P=w;for(const O of M)P+=O?`
${a}${s}${O}`:`
`;P+=`
${s}${A}`}else P=`${w}${d}${M.join(" ")}${d}${A}`;return e&&(P+=ef(P,s,h(e)),o&&o()),P}function ow({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const o=Lc(t(n),e);r.push(o.trimStart())}}function Md(e,t){const r=Tn(t)?t.value:t;for(const n of e)if(Yn(n)&&(n.key===t||n.key===r||Tn(n.key)&&n.key.value===r))return n}class Fa extends R2{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(vf,t),this.items=[]}static from(t,r,n){const{keepUndefined:i,replacer:o}=n,s=new this(t),a=(d,h)=>{if(typeof o=="function")h=o.call(r,d,h);else if(Array.isArray(o)&&!o.includes(d))return;(h!==void 0||i)&&s.items.push(bR(d,h,n))};if(r instanceof Map)for(const[d,h]of r)a(d,h);else if(r&&typeof r=="object")for(const d of Object.keys(r))a(d,r[d]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,r){var s;let n;Yn(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new Ro(t,t==null?void 0:t.value):n=new Ro(t.key,t.value);const i=Md(this.items,n.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);Tn(i.value)&&VW(n.value)?i.value.value=n.value:i.value=n.value}else if(o){const a=this.items.findIndex(d=>o(n,d)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(t){const r=Md(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const n=Md(this.items,t),i=n==null?void 0:n.value;return(!r&&Tn(i)?i.value:i)??void 0}has(t){return!!Md(this.items,t)}set(t,r){this.add(new Ro(t,r),!0)}toJSON(t,r,n){const i=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(i);for(const o of this.items)GW(r,i,o);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Yn(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),YW(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}const pg={collection:"map",default:!0,nodeClass:Fa,tag:"tag:yaml.org,2002:map",resolve(e,t){return dg(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>Fa.from(e,t,r)};class Af extends R2{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(ug,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=wb(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=wb(t);if(typeof n!="number")return;const i=this.items[n];return!r&&Tn(i)?i.value:i}has(t){const r=wb(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=wb(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[n];Tn(i)&&VW(r)?i.value=r:this.items[n]=r}toJSON(t,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let i=0;for(const o of this.items)n.push(bs(o,String(i++),r));return n}toString(t,r,n){return t?YW(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){const{replacer:i}=n,o=new this(t);if(r&&Symbol.iterator in Object(r)){let s=0;for(let a of r){if(typeof i=="function"){const d=r instanceof Set?a:String(s++);a=i.call(r,d,a)}o.items.push(P0(a,void 0,n))}}return o}}function wb(e){let t=Tn(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const mg={collection:"seq",default:!0,nodeClass:Af,tag:"tag:yaml.org,2002:seq",resolve(e,t){return hg(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>Af.from(e,t,r)},z2={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),C_(e,t,r,n)}},N2={identify:e=>e==null,createNode:()=>new br(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new br(null),stringify:({source:e},t)=>typeof e=="string"&&N2.test.test(e)?e:t.options.nullStr},wR={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new br(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&wR.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function gl({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const KW={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gl},ZW={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():gl(e)}},XW={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new br(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:gl},j2=e=>typeof e=="bigint"||Number.isInteger(e),SR=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function JW(e,t,r){const{value:n}=e;return j2(n)&&n>=0?r+n.toString(t):gl(e)}const QW={identify:e=>j2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>SR(e,2,8,r),stringify:e=>JW(e,8,"0o")},e9={identify:j2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>SR(e,0,10,r),stringify:gl},t9={identify:e=>j2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>SR(e,2,16,r),stringify:e=>JW(e,16,"0x")},fye=[pg,mg,z2,N2,wR,QW,e9,t9,KW,ZW,XW];function R5(e){return typeof e=="bigint"||Number.isInteger(e)}const Sb=({value:e})=>JSON.stringify(e),dye=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Sb},{identify:e=>e==null,createNode:()=>new br(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Sb},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Sb},{identify:R5,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>R5(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Sb}],hye={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},pye=[pg,mg].concat(dye,hye),ER={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,o){const s=r;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let d="";for(let h=0;h<s.length;++h)d+=String.fromCharCode(s[h]);a=btoa(d)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=br.BLOCK_LITERAL),t!==br.QUOTE_DOUBLE){const d=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),h=Math.ceil(a.length/d),g=new Array(h);for(let v=0,b=0;v<h;++v,b+=d)g[v]=a.substr(b,d);a=g.join(t===br.BLOCK_LITERAL?`
`:" ")}return C_({comment:e,type:t,value:a},n,i,o)}};function r9(e,t){if(hg(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Yn(n)){if(dg(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const i=n.items[0]||new Ro(new br(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){const o=i.value??i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}e.items[r]=Yn(n)?n:new Ro(n)}}else t("Expected a sequence for this tag");return e}function n9(e,t,r){const{replacer:n}=r,i=new Af(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof n=="function"&&(s=n.call(t,String(o++),s));let a,d;if(Array.isArray(s))if(s.length===2)a=s[0],d=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],d=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(bR(a,d,r))}return i}const CR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:r9,createNode:n9};class am extends Af{constructor(){super(),this.add=Fa.prototype.add.bind(this),this.delete=Fa.prototype.delete.bind(this),this.get=Fa.prototype.get.bind(this),this.has=Fa.prototype.has.bind(this),this.set=Fa.prototype.set.bind(this),this.tag=am.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const i of this.items){let o,s;if(Yn(i)?(o=bs(i.key,"",r),s=bs(i.value,o,r)):o=bs(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}static from(t,r,n){const i=n9(t,r,n),o=new this;return o.items=i.items,o}}am.tag="tag:yaml.org,2002:omap";const TR={collection:"seq",identify:e=>e instanceof Map,nodeClass:am,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=r9(e,t),n=[];for(const{key:i}of r.items)Tn(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new am,r)},createNode:(e,t,r)=>am.from(e,t,r)};function i9({value:e,source:t},r){return t&&(e?o9:a9).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const o9={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new br(!0),stringify:i9},a9={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new br(!1),stringify:i9},mye={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gl},gye={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():gl(e)}},yye={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new br(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:gl},T_=e=>typeof e=="bigint"||Number.isInteger(e);function B2(e,t,r,{intAsBigInt:n}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,r);return i==="-"?-1*o:o}function kR(e,t,r){const{value:n}=e;if(T_(n)){const i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return gl(e)}const vye={identify:T_,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>B2(e,2,2,r),stringify:e=>kR(e,2,"0b")},_ye={identify:T_,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>B2(e,1,8,r),stringify:e=>kR(e,8,"0")},xye={identify:T_,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>B2(e,0,10,r),stringify:gl},bye={identify:T_,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>B2(e,2,16,r),stringify:e=>kR(e,16,"0x")};class sm extends Fa{constructor(t){super(t),this.tag=sm.tag}add(t){let r;Yn(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Ro(t.key,null):r=new Ro(t,null),Md(this.items,r.key)||this.items.push(r)}get(t,r){const n=Md(this.items,t);return!r&&Yn(n)?Tn(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=Md(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Ro(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){const{replacer:i}=n,o=new this(t);if(r&&Symbol.iterator in Object(r))for(let s of r)typeof i=="function"&&(s=i.call(r,s,s)),o.items.push(bR(s,null,n));return o}}sm.tag="tag:yaml.org,2002:set";const PR={collection:"map",identify:e=>e instanceof Set,nodeClass:sm,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>sm.from(e,t,r),resolve(e,t){if(dg(e)){if(e.hasAllNullValues(!0))return Object.assign(new sm,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function AR(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function s9(e){let{value:t}=e,r=s=>s;if(typeof t=="bigint")r=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return gl(e);let n="";t<0&&(n="-",t*=r(-1));const i=r(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),n+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const l9={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>AR(e,r),stringify:s9},c9={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>AR(e,!1),stringify:s9},F2={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(F2.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,i,o,s,a]=t.map(Number),d=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(r,n-1,i,o||0,s||0,a||0,d);const g=t[8];if(g&&g!=="Z"){let v=AR(g,!1);Math.abs(v)<30&&(v*=60),h-=6e4*v}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},$5=[pg,mg,z2,N2,o9,a9,vye,_ye,xye,bye,mye,gye,yye,ER,TR,CR,PR,l9,c9,F2],D5=new Map([["core",fye],["failsafe",[pg,mg,z2]],["json",pye],["yaml11",$5],["yaml-1.1",$5]]),L5={binary:ER,bool:wR,float:XW,floatExp:ZW,floatNaN:KW,floatTime:c9,int:e9,intHex:t9,intOct:QW,intTime:l9,map:pg,null:N2,omap:TR,pairs:CR,seq:mg,set:PR,timestamp:F2},wye={"tag:yaml.org,2002:binary":ER,"tag:yaml.org,2002:omap":TR,"tag:yaml.org,2002:pairs":CR,"tag:yaml.org,2002:set":PR,"tag:yaml.org,2002:timestamp":F2};function ZT(e,t){let r=D5.get(t);if(!r)if(Array.isArray(e))r=[];else{const n=Array.from(D5.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(const n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;const i=L5[n];if(i)return i;const o=Object.keys(L5).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}const Sye=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class U2{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?ZT(t,"compat"):t?ZT(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?wye:{},this.tags=ZT(r,this.name),this.toStringOptions=a??null,Object.defineProperty(this,vf,{value:pg}),Object.defineProperty(this,ru,{value:z2}),Object.defineProperty(this,ug,{value:mg}),this.sortMapEntries=typeof s=="function"?s:s===!0?Sye:null}clone(){const t=Object.create(U2.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Eye(e,t){var d;const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(r.push(h),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const i=qW(e,t),{commentString:o}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");const h=o(e.commentBefore);r.unshift(Lc(h,""))}let s=!1,a=null;if(e.contents){if(wi(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const v=o(e.contents.commentBefore);r.push(Lc(v,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=$m(e.contents,i,()=>a=null,h);a&&(g+=ef(g,"",o(a))),(g[0]==="|"||g[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${g}`:r.push(g)}else r.push($m(e.contents,i));if((d=e.directives)!=null&&d.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(r.push("..."),r.push(Lc(h,""))):r.push(`... ${h}`)}else r.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(Lc(o(h),"")))}return r.join(`
`)+`
`}class gg{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,As,{value:MA});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:s}=o;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new Jo({version:s}),this.setSchema(s,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){const t=Object.create(gg.prototype,{[As]:{value:MA}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=wi(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){pp(this.contents)&&this.contents.add(t)}addIn(t,r){pp(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=FW(this);t.anchor=!r||n.has(r)?UW(r||"a",n):r}return new I2(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){const A=I=>typeof I=="number"||I instanceof String||I instanceof Number,O=r.filter(A).map(String);O.length>0&&(r=r.concat(O)),i=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:d,onTagObj:h,tag:g}=n??{},{onAnchor:v,setAnchors:b,sourceObjects:M}=Jge(this,s||"a"),P={aliasDuplicateObjects:o??!0,keepUndefined:d??!1,onAnchor:v,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:M},w=P0(t,g,P);return a&&ii(w)&&(w.flow=!0),b(),w}createPair(t,r,n={}){const i=this.createNode(t,null,n),o=this.createNode(r,null,n);return new Ro(i,o)}delete(t){return pp(this.contents)?this.contents.delete(t):!1}deleteIn(t){return yv(t)?this.contents==null?!1:(this.contents=null,!0):pp(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return ii(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return yv(t)?!r&&Tn(this.contents)?this.contents.value:this.contents:ii(this.contents)?this.contents.getIn(t,r):void 0}has(t){return ii(this.contents)?this.contents.has(t):!1}hasIn(t){return yv(t)?this.contents!==void 0:ii(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=iw(this.schema,[t],r):pp(this.contents)&&this.contents.set(t,r)}setIn(t,r){yv(t)?this.contents=r:this.contents==null?this.contents=iw(this.schema,Array.from(t),r):pp(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Jo({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Jo({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new U2(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},d=bs(this.contents,r??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?Vp(s,{"":d},"",d):d}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Eye(this,t)}}function pp(e){if(ii(e))return!0;throw new Error("Expected a YAML collection as document contents")}class MR extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}}class Od extends MR{constructor(t,r,n){super("YAMLParseError",t,r,n)}}class u9 extends MR{constructor(t,r,n){super("YAMLWarning",t,r,n)}}const aw=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));const{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),n>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const d=r.linePos[1];d&&d.line===n&&d.col>i&&(a=Math.max(1,Math.min(d.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${h}
`}};function Dm(e,{flow:t,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,d=s,h=s,g="",v="",b=!1,M=!1,P=!1,w=null,A=null,O=null,I=null,C=null;for(const L of e)switch(P&&(L.type!=="space"&&L.type!=="newline"&&L.type!=="comma"&&o(L.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),P=!1),L.type){case"space":!t&&d&&r!=="doc-start"&&L.source[0]==="	"&&o(L,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(L,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=L.source.substring(1)||" ";g?g+=v+F:g=F,v="",d=!1;break}case"newline":d?g?g+=L.source:a=!0:v+=L.source,d=!0,b=!0,(w||A)&&(M=!0),h=!0;break;case"anchor":w&&o(L,"MULTIPLE_ANCHORS","A node can have at most one anchor"),L.source.endsWith(":")&&o(L.offset+L.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=L,C===null&&(C=L.offset),d=!1,h=!1,P=!0;break;case"tag":{A&&o(L,"MULTIPLE_TAGS","A node can have at most one tag"),A=L,C===null&&(C=L.offset),d=!1,h=!1,P=!0;break}case r:(w||A)&&o(L,"BAD_PROP_ORDER",`Anchors and tags must be after the ${L.source} indicator`),I&&o(L,"UNEXPECTED_TOKEN",`Unexpected ${L.source} in ${t??"collection"}`),I=L,d=!1,h=!1;break;case"comma":if(t){O&&o(L,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),O=L,d=!1,h=!1;break}default:o(L,"UNEXPECTED_TOKEN",`Unexpected ${L.type} token`),d=!1,h=!1}const R=e[e.length-1],z=R?R.offset+R.source.length:i;return P&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:O,found:I,spaceBefore:a,comment:g,hasNewline:b,hasNewlineAfterProp:M,anchor:w,tag:A,end:z,start:C??z}}function A0(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const r of t.start)if(r.type==="newline")return!0;if(t.sep){for(const r of t.sep)if(r.type==="newline")return!0}if(A0(t.key)||A0(t.value))return!0}return!1;default:return!0}}function $A(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){const n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&A0(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function f9(e,t,r){const{uniqueKeys:n}=e.options;if(n===!1)return!1;const i=typeof n=="function"?n:(o,s)=>o===s||Tn(o)&&Tn(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,r))}const z5="All mapping items must start at the same column";function Cye({composeNode:e,composeEmptyNode:t},r,n,i,o){var g;const s=(o==null?void 0:o.nodeClass)??Fa,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let d=n.offset,h=null;for(const v of n.items){const{start:b,key:M,sep:P,value:w}=v,A=Dm(b,{indicator:"explicit-key-ind",next:M??(P==null?void 0:P[0]),offset:d,onError:i,startOnNewline:!0}),O=!A.found;if(O){if(M&&(M.type==="block-seq"?i(d,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in M&&M.indent!==n.indent&&i(d,"BAD_INDENT",z5)),!A.anchor&&!A.tag&&!P){h=A.end,A.comment&&(a.comment?a.comment+=`
`+A.comment:a.comment=A.comment);continue}(A.hasNewlineAfterProp||A0(M))&&i(M??b[b.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=A.found)==null?void 0:g.indent)!==n.indent&&i(d,"BAD_INDENT",z5);const I=A.end,C=M?e(r,M,A,i):t(r,I,b,null,A,i);r.schema.compat&&$A(n.indent,M,i),f9(r,a.items,C)&&i(I,"DUPLICATE_KEY","Map keys must be unique");const R=Dm(P??[],{indicator:"map-value-ind",next:w,offset:C.range[2],onError:i,startOnNewline:!M||M.type==="block-scalar"});if(d=R.end,R.found){O&&((w==null?void 0:w.type)==="block-map"&&!R.hasNewline&&i(d,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&A.start<R.found.offset-1024&&i(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const z=w?e(r,w,R,i):t(r,d,P,null,R,i);r.schema.compat&&$A(n.indent,w,i),d=z.range[2];const L=new Ro(C,z);r.options.keepSourceTokens&&(L.srcToken=v),a.items.push(L)}else{O&&i(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),R.comment&&(C.comment?C.comment+=`
`+R.comment:C.comment=R.comment);const z=new Ro(C);r.options.keepSourceTokens&&(z.srcToken=v),a.items.push(z)}}return h&&h<d&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,d,h??d],a}function Tye({composeNode:e,composeEmptyNode:t},r,n,i,o){const s=(o==null?void 0:o.nodeClass)??Af,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let d=n.offset,h=null;for(const{start:g,value:v}of n.items){const b=Dm(g,{indicator:"seq-item-ind",next:v,offset:d,onError:i,startOnNewline:!0});if(!b.found)if(b.anchor||b.tag||v)v&&v.type==="block-seq"?i(b.end,"BAD_INDENT","All sequence items must start at the same column"):i(d,"MISSING_CHAR","Sequence item without - indicator");else{h=b.end,b.comment&&(a.comment=b.comment);continue}const M=v?e(r,v,b,i):t(r,b.end,g,null,b,i);r.schema.compat&&$A(n.indent,v,i),d=M.range[2],a.items.push(M)}return a.range=[n.offset,d,h??d],a}function k_(e,t,r,n){let i="";if(e){let o=!1,s="";for(const a of e){const{source:d,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=d.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=d),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=d.length}}return{comment:i,offset:t}}const XT="Block collections are not allowed within flow collections",JT=e=>e&&(e.type==="block-map"||e.type==="block-seq");function kye({composeNode:e,composeEmptyNode:t},r,n,i,o){const s=n.start.source==="{",a=s?"flow map":"flow sequence",d=(o==null?void 0:o.nodeClass)??(s?Fa:Af),h=new d(r.schema);h.flow=!0;const g=r.atRoot;g&&(r.atRoot=!1);let v=n.offset+n.start.source.length;for(let A=0;A<n.items.length;++A){const O=n.items[A],{start:I,key:C,sep:R,value:z}=O,L=Dm(I,{flow:a,indicator:"explicit-key-ind",next:C??(R==null?void 0:R[0]),offset:v,onError:i,startOnNewline:!1});if(!L.found){if(!L.anchor&&!L.tag&&!R&&!z){A===0&&L.comma?i(L.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):A<n.items.length-1&&i(L.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),L.comment&&(h.comment?h.comment+=`
`+L.comment:h.comment=L.comment),v=L.end;continue}!s&&r.options.strict&&A0(C)&&i(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(A===0)L.comma&&i(L.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(L.comma||i(L.start,"MISSING_CHAR",`Missing , between ${a} items`),L.comment){let F="";e:for(const H of I)switch(H.type){case"comma":case"space":break;case"comment":F=H.source.substring(1);break e;default:break e}if(F){let H=h.items[h.items.length-1];Yn(H)&&(H=H.value??H.key),H.comment?H.comment+=`
`+F:H.comment=F,L.comment=L.comment.substring(F.length+1)}}if(!s&&!R&&!L.found){const F=z?e(r,z,L,i):t(r,L.end,R,null,L,i);h.items.push(F),v=F.range[2],JT(z)&&i(F.range,"BLOCK_IN_FLOW",XT)}else{const F=L.end,H=C?e(r,C,L,i):t(r,F,I,null,L,i);JT(C)&&i(H.range,"BLOCK_IN_FLOW",XT);const re=Dm(R??[],{flow:a,indicator:"map-value-ind",next:z,offset:H.range[2],onError:i,startOnNewline:!1});if(re.found){if(!s&&!L.found&&r.options.strict){if(R)for(const de of R){if(de===re.found)break;if(de.type==="newline"){i(de,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}L.start<re.found.offset-1024&&i(re.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?i(z,"MISSING_CHAR",`Missing space after : in ${a}`):i(re.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const te=z?e(r,z,re,i):re.found?t(r,re.end,R,null,re,i):null;te?JT(z)&&i(te.range,"BLOCK_IN_FLOW",XT):re.comment&&(H.comment?H.comment+=`
`+re.comment:H.comment=re.comment);const ae=new Ro(H,te);if(r.options.keepSourceTokens&&(ae.srcToken=O),s){const de=h;f9(r,de.items,H)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),de.items.push(ae)}else{const de=new Fa(r.schema);de.flow=!0,de.items.push(ae),h.items.push(de)}v=te?te.range[2]:re.end}}const b=s?"}":"]",[M,...P]=n.end;let w=v;if(M&&M.source===b)w=M.offset+M.source.length;else{const A=a[0].toUpperCase()+a.substring(1),O=g?`${A} must end with a ${b}`:`${A} in block collection must be sufficiently indented and end with a ${b}`;i(v,g?"MISSING_CHAR":"BAD_INDENT",O),M&&M.source.length!==1&&P.unshift(M)}if(P.length>0){const A=k_(P,w,r.options.strict,i);A.comment&&(h.comment?h.comment+=`
`+A.comment:h.comment=A.comment),h.range=[n.offset,w,A.offset]}else h.range=[n.offset,w,w];return h}function QT(e,t,r,n,i,o){const s=r.type==="block-map"?Cye(e,t,r,n,o):r.type==="block-seq"?Tye(e,t,r,n,o):kye(e,t,r,n,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function Pye(e,t,r,n,i){var v;const o=n?t.directives.tagName(n.source,b=>i(n,"TAG_RESOLVE_FAILED",b)):null,s=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!n||!o||o==="!"||o===Fa.tagName&&s==="map"||o===Af.tagName&&s==="seq"||!s)return QT(e,t,r,i,o);let a=t.schema.tags.find(b=>b.tag===o&&b.collection===s);if(!a){const b=t.schema.knownTags[o];if(b&&b.collection===s)t.schema.tags.push(Object.assign({},b,{default:!1})),a=b;else return b!=null&&b.collection?i(n,"BAD_COLLECTION_TYPE",`${b.tag} used for ${s} collection, but expects ${b.collection}`,!0):i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),QT(e,t,r,i,o)}const d=QT(e,t,r,i,o,a),h=((v=a.resolve)==null?void 0:v.call(a,d,b=>i(n,"TAG_RESOLVE_FAILED",b),t.options))??d,g=wi(h)?h:new br(h);return g.range=d.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function d9(e,t,r){const n=e.offset,i=Aye(e,t,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};const o=i.mode===">"?br.BLOCK_FOLDED:br.BLOCK_LITERAL,s=e.source?Mye(e.source):[];let a=s.length;for(let w=s.length-1;w>=0;--w){const A=s[w][1];if(A===""||A==="\r")a=w;else break}if(a===0){const w=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let A=n+i.length;return e.source&&(A+=e.source.length),{value:w,type:o,comment:i.comment,range:[n,A,A]}}let d=e.indent+i.indent,h=e.offset+i.length,g=0;for(let w=0;w<a;++w){const[A,O]=s[w];if(O===""||O==="\r")i.indent===0&&A.length>d&&(d=A.length);else{if(A.length<d){const I="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(h+A.length,"MISSING_CHAR",I)}i.indent===0&&(d=A.length),g=w;break}h+=A.length+O.length+1}for(let w=s.length-1;w>=a;--w)s[w][0].length>d&&(a=w+1);let v="",b="",M=!1;for(let w=0;w<g;++w)v+=s[w][0].slice(d)+`
`;for(let w=g;w<a;++w){let[A,O]=s[w];h+=A.length+O.length+1;const I=O[O.length-1]==="\r";if(I&&(O=O.slice(0,-1)),O&&A.length<d){const R=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(h-O.length-(I?2:1),"BAD_INDENT",R),A=""}o===br.BLOCK_LITERAL?(v+=b+A.slice(d)+O,b=`
`):A.length>d||O[0]==="	"?(b===" "?b=`
`:!M&&b===`
`&&(b=`

`),v+=b+A.slice(d)+O,b=`
`,M=!0):O===""?b===`
`?v+=`
`:b=`
`:(v+=b+O,b=" ",M=!1)}switch(i.chomp){case"-":break;case"+":for(let w=a;w<s.length;++w)v+=`
`+s[w][0].slice(d);v[v.length-1]!==`
`&&(v+=`
`);break;default:v+=`
`}const P=n+i.length+e.source.length;return{value:v,type:o,comment:i.comment,range:[n,P,P]}}function Aye({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",d=-1;for(let b=1;b<i.length;++b){const M=i[b];if(!a&&(M==="-"||M==="+"))a=M;else{const P=Number(M);!s&&P?s=P:d===-1&&(d=e+b)}}d!==-1&&n(d,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",v=i.length;for(let b=1;b<t.length;++b){const M=t[b];switch(M.type){case"space":h=!0;case"newline":v+=M.source.length;break;case"comment":r&&!h&&n(M,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),v+=M.source.length,g=M.source.substring(1);break;case"error":n(M,"UNEXPECTED_TOKEN",M.message),v+=M.source.length;break;default:{const P=`Unexpected token in block scalar header: ${M.type}`;n(M,"UNEXPECTED_TOKEN",P);const w=M.source;w&&typeof w=="string"&&(v+=w.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:v}}function Mye(e){const t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n!=null&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function h9(e,t,r){const{offset:n,type:i,source:o,end:s}=e;let a,d;const h=(b,M,P)=>r(n+b,M,P);switch(i){case"scalar":a=br.PLAIN,d=Oye(o,h);break;case"single-quoted-scalar":a=br.QUOTE_SINGLE,d=Iye(o,h);break;case"double-quoted-scalar":a=br.QUOTE_DOUBLE,d=Rye(o,h);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}const g=n+o.length,v=k_(s,g,t,r);return{value:d,type:a,comment:v.comment,range:[n,g,v.offset]}}function Oye(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),p9(e)}function Iye(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),p9(e.slice(1,-1)).replace(/''/g,"'")}function p9(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+((n==null?void 0:n[1])??"")}function Rye(e,t){let r="";for(let n=1;n<e.length-1;++n){const i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){const{fold:o,offset:s}=$ye(e,n);r+=o,n=s}else if(i==="\\"){let o=e[++n];const s=Dye[o];if(s)r+=s;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];r+=Lye(e,n+1,a,t),n+=a}else{const a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){const o=n;let s=e[n+1];for(;s===" "||s==="	";)s=e[++n+1];s!==`
`&&!(s==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function $ye(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}const Dye={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Lye(e,t,r,n){const i=e.substr(t,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function m9(e,t,r,n){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?d9(t,e.options.strict,n):h9(t,e.options.strict,n),d=r?e.directives.tagName(r.source,v=>n(r,"TAG_RESOLVE_FAILED",v)):null,h=r&&d?zye(e.schema,i,d,r,n):t.type==="scalar"?Nye(e,i,t,n):e.schema[ru];let g;try{const v=h.resolve(i,b=>n(r??t,"TAG_RESOLVE_FAILED",b),e.options);g=Tn(v)?v:new br(v)}catch(v){const b=v instanceof Error?v.message:String(v);n(r??t,"TAG_RESOLVE_FAILED",b),g=new br(i)}return g.range=a,g.source=i,o&&(g.type=o),d&&(g.tag=d),h.format&&(g.format=h.format),s&&(g.comment=s),g}function zye(e,t,r,n,i){var a;if(r==="!")return e[ru];const o=[];for(const d of e.tags)if(!d.collection&&d.tag===r)if(d.default&&d.test)o.push(d);else return d;for(const d of o)if((a=d.test)!=null&&a.test(t))return d;const s=e.knownTags[r];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[ru])}function Nye({directives:e,schema:t},r,n,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(r))})||t[ru];if(t.compat){const s=t.compat.find(a=>{var d;return a.default&&((d=a.test)==null?void 0:d.test(r))})??t[ru];if(o.tag!==s.tag){const a=e.tagString(o.tag),d=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${d}`;i(n,"TAG_RESOLVE_FAILED",h,!0)}}return o}function jye(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++n];break}}return e}const Bye={composeNode:g9,composeEmptyNode:OR};function g9(e,t,r,n){const{spaceBefore:i,comment:o,anchor:s,tag:a}=r;let d,h=!0;switch(t.type){case"alias":d=Fye(e,t,n),(s||a)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":d=m9(e,t,a,n),s&&(d.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":d=Pye(Bye,e,t,a,n),s&&(d.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",g),d=OR(e,t.offset,void 0,null,r,n),h=!1}}return s&&d.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(d.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?d.comment=o:d.commentBefore=o),e.options.keepSourceTokens&&h&&(d.srcToken=t),d}function OR(e,t,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a,end:d},h){const g={type:"scalar",offset:jye(t,r,n),indent:-1,source:""},v=m9(e,g,a,h);return s&&(v.anchor=s.source.substring(1),v.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(v.spaceBefore=!0),o&&(v.comment=o,v.range[2]=d),v}function Fye({options:e},{offset:t,source:r,end:n},i){const o=new I2(r.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+r.length,a=k_(n,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function Uye(e,t,{offset:r,start:n,value:i,end:o},s){const a=Object.assign({_directives:t},e),d=new gg(void 0,a),h={atRoot:!0,directives:d.directives,options:d.options,schema:d.schema},g=Dm(n,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});g.found&&(d.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),d.contents=i?g9(h,i,g,s):OR(h,g.end,n,null,g,s);const v=d.contents.range[2],b=k_(o,v,!1,s);return b.comment&&(d.comment=b.comment),d.range=[r,v,b.offset],d}function Gy(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function N5(e){var i;let t="",r=!1,n=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(s.substring(1)||" "),r=!0,n=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class IR{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{const s=Gy(r);o?this.warnings.push(new u9(s,n,i)):this.errors.push(new Od(s,n,i))},this.directives=new Jo({version:t.version||"1.2"}),this.options=t}decorate(t,r){const{comment:n,afterEmptyLine:i}=N5(this.prelude);if(n){const o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.docStart||!o)t.commentBefore=n;else if(ii(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Yn(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{const s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:N5(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(const i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{const o=Gy(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const r=Uye(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Od(Gy(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new Od(Gy(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=k_(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new Od(Gy(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const n=Object.assign({_directives:this.directives},this.options),i=new gg(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}}function Vye(e,t=!0,r){if(e){const n=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new Od([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return h9(e,t,n);case"block-scalar":return d9(e,t,n)}}return null}function Wye(e,t){const{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=C_({type:s,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),d=t.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),v=a.substring(h+1)+`
`,b=[{type:"block-scalar-header",offset:o,indent:n,source:g}];return y9(b,d)||b.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:o,indent:n,props:b,source:v}}case'"':return{type:"double-quoted-scalar",offset:o,indent:n,source:a,end:d};case"'":return{type:"single-quoted-scalar",offset:o,indent:n,source:a,end:d};default:return{type:"scalar",offset:o,indent:n,source:a,end:d}}}function qye(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const d=C_({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(d[0]){case"|":case">":Hye(e,d);break;case'"':ek(e,d,"double-quoted-scalar");break;case"'":ek(e,d,"single-quoted-scalar");break;default:ek(e,d,"scalar")}}function Hye(e,t){const r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];y9(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const d of Object.keys(e))d!=="type"&&d!=="offset"&&delete e[d];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function y9(e,t){if(t)for(const r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function ek(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{const n=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of n)o.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{const n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}const Gye=e=>"type"in e?sw(e):c1(e);function sw(e){switch(e.type){case"block-scalar":{let t="";for(const r of e.props)t+=sw(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(const r of e.items)t+=c1(r);return t}case"flow-collection":{let t=e.start.source;for(const r of e.items)t+=c1(r);for(const r of e.end)t+=r.source;return t}case"document":{let t=c1(e);if(e.end)for(const r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const r of e.end)t+=r.source;return t}}}function c1({start:e,key:t,sep:r,value:n}){let i="";for(const o of e)i+=o.source;if(t&&(i+=sw(t)),r)for(const o of r)i+=o.source;return n&&(i+=sw(n)),i}const DA=Symbol("break visit"),Yye=Symbol("skip children"),v9=Symbol("remove item");function rh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),_9(Object.freeze([]),e,t)}rh.BREAK=DA;rh.SKIP=Yye;rh.REMOVE=v9;rh.itemAtPath=(e,t)=>{let r=e;for(const[n,i]of t){const o=r==null?void 0:r[n];if(o&&"items"in o)r=o.items[i];else return}return r};rh.parentCollection=(e,t)=>{const r=rh.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r==null?void 0:r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function _9(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=_9(Object.freeze(e.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===DA)return DA;a===v9&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}const V2="\uFEFF",W2="",q2="",M0="",Kye=e=>!!e&&"items"in e,Zye=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Xye(e){switch(e){case V2:return"<BOM>";case W2:return"<DOC>";case q2:return"<FLOW_END>";case M0:return"<SCALAR>";default:return JSON.stringify(e)}}function x9(e){switch(e){case V2:return"byte-order-mark";case W2:return"doc-mode";case q2:return"flow-error-end";case M0:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Jye=Object.freeze(Object.defineProperty({__proto__:null,BOM:V2,DOCUMENT:W2,FLOW_END:q2,SCALAR:M0,createScalarToken:Wye,isCollection:Kye,isScalar:Zye,prettyToken:Xye,resolveAsScalar:Vye,setScalarValue:qye,stringify:Gye,tokenType:x9,visit:rh},Symbol.toStringTag,{value:"Module"}));function as(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const j5="0123456789ABCDEFabcdef".split(""),Qye="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),tk=",[]{}".split(""),eve=` ,[]{}
\r	`.split(""),rk=e=>!e||eve.includes(e);class b9{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){const i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&as(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===V2&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length;const n=t.indexOf("#");if(n!==-1){const o=t[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){const o=t[r-1];if(o===" "||o==="	")r-=1;else break}const i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield W2,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if(r==="---"&&as(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&as(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!as(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&as(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(rk),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&as(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield q2,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(rk),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||as(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>as(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:t=i,r=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+r>s)t=i;else break}while(!0);return yield M0,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){const o=this.buffer[n+1];if(as(o)||t&&o===",")break;r=n}else if(as(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&tk.includes(o))break;if(i===`
`){const s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(t&&tk.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield M0,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(rk))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,r=this.charAt(1);if(as(r)||t&&tk.includes(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!as(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(Qye.includes(r))r=this.buffer[++t];else if(r==="%"&&j5.includes(this.buffer[t+1])&&j5.includes(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");const i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class w9{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){const o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};const i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}}function Js(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function B5(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function S9(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Eb(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function mp(e){var r;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=e[++t])==null?void 0:r.type)==="space";);return e.splice(t,e.length)}function F5(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Js(t.start,"explicit-key-ind")&&!Js(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,S9(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class RR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new b9,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const r=x9(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const r=t??this.stack.pop();if(r)if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&F5(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!Js(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{const i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&B5(i.start)===-1&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{const n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{B5(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const r=Eb(this.peek(2)),n=mp(r);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const i="end"in r.value?r.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2],o=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&r.sep;let o=[];if(i&&r.sep&&!r.value){const s=[];for(let a=0;a<r.sep.length;++a){const d=r.sep[a];switch(d.type){case"newline":s.push(a);break;case"space":break;case"comment":d.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=r.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!Js(r.start,"explicit-key-ind")?r.start.push(this.sourceToken):i||r.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Js(r.start,"explicit-key-ind"))if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Js(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(S9(r.key)&&!Js(r.sep,"newline")){const s=mp(r.start),a=r.key,d=r.sep;d.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:d}]})}else o.length>0?r.sep=r.sep.concat(o,this.sourceToken):r.sep.push(this.sourceToken);else if(Js(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const s=mp(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):Js(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||r.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(s):(Object.assign(r,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&Js(r.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){const i="end"in r.value?r.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2],o=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||Js(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const i=Eb(n),o=mp(i);F5(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=Eb(t),n=mp(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const r=Eb(t),n=mp(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function E9(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new w9||null,prettyErrors:t}}function tve(e,t={}){const{lineCounter:r,prettyErrors:n}=E9(t),i=new RR(r==null?void 0:r.addNewLine),o=new IR(t),s=Array.from(o.compose(i.parse(e)));if(n&&r)for(const a of s)a.errors.forEach(aw(e,r)),a.warnings.forEach(aw(e,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function C9(e,t={}){const{lineCounter:r,prettyErrors:n}=E9(t),i=new RR(r==null?void 0:r.addNewLine),o=new IR(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Od(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(aw(e,r)),s.warnings.forEach(aw(e,r))),s}function rve(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);const i=C9(e,r);if(!i)return null;if(i.warnings.forEach(o=>HW(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function nve(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){const i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=r??t??{};if(!i)return}return new gg(e,n,r).toString(r)}const ive=Object.freeze(Object.defineProperty({__proto__:null,Alias:I2,CST:Jye,Composer:IR,Document:gg,Lexer:b9,LineCounter:w9,Pair:Ro,Parser:RR,Scalar:br,Schema:U2,YAMLError:MR,YAMLMap:Fa,YAMLParseError:Od,YAMLSeq:Af,YAMLWarning:u9,isAlias:ch,isCollection:ii,isDocument:fg,isMap:dg,isNode:wi,isPair:Yn,isScalar:Tn,isSeq:hg,parse:rve,parseAllDocuments:tve,parseDocument:C9,stringify:nve,visit:Pf,visitAsync:O2},Symbol.toStringTag,{value:"Module"})),Lm=We.createContext();var Cb="";const T9=({children:e,notification:t})=>{Dn(A=>A.devices.items);const r=Dn(A=>A.mission),n=Dn(A=>A.session.server),i=rc(),[o,s]=W.useState(!1);W.useState(""),W.useEffect(()=>{s(n)},[n]);const a=async A=>{try{const O=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(O.ok){let I=await O.json();I.state==="connect"&&(t("success",I.msg),s(!0)),I.state==="error"&&(s(!1),t("danger",I.msg)),I.state==="disconnect"&&(t("danger",I.msg),s(!1)),console.log(I)}else throw Error(await O.text())}catch{s(!1)}},d=async A=>{console.log(A.name+"-"+A.category);try{const O=await fetch("/api/devices",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}});if(O.ok){let I=await O.json();I.state==="connect"&&t("success",I.msg),I.state==="fail"&&t("danger",I.msg),console.log(I)}else throw Error(await O.text())}catch{}},h=async()=>{try{const A=await fetch("/api/loadmission",{method:"POST",body:JSON.stringify({mission:r.route}),headers:{"Content-Type":"application/json"}});if(A.ok){let O=await A.json();O.state==="connect"&&t("success",O.msg),O.state==="fail"&&t("danger",O.msg),console.log(O)}else throw Error(await A.text())}catch{}},g=async(A,O)=>{console.log("command mission "),console.log(O),console.log(A);try{const I=await fetch("/api/commandmission",{method:"POST",body:JSON.stringify({uav_ns:A,uav_type:O}),headers:{"Content-Type":"application/json"}});if(I.ok){let C=await I.json();C.state==="connect"&&t("success",C.msg),C.state==="fail"&&t("danger",C.msg),console.log(C)}else throw Error(await I.text())}catch{}},v=(A,O)=>{if(A.endsWith(".yaml"))Cb=ive.parse(O),Cb.mode_landing,Cb.mode_yaw,i(Xu.updateMission({name:A,mission:Cb}));else if(A.endsWith(".waypoints")){let C=O.split(`
`).map(L=>L.split("	")),R={uav_n:1,uav_1:{}},z=0;C.forEach(L=>{L[3]=="16"&&(R.uav_1["wp_"+z]=[L[8],L[9],L[10]],z=z+1)}),R.uav_1.wp_n=z,i(Xu.updateMission({name:A,mission:R}))}else if(A.endsWith(".kml")){let R=new DOMParser().parseFromString(O,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(F=>F.split(",")),z={uav_n:1,uav_1:{}},L=0;R.forEach(F=>{F.length==3&&(z.uav_1["wp_"+L]=[F[1],F[0],F[2]],L=L+1)}),z.uav_1.wp_n=L,i(Xu.updateMission({name:A,mission:z}))}else if(A.endsWith(".plan")){let I=JSON.parse(O),C={uav_n:1,uav_1:{}},R=0;I.mission.items.forEach(z=>{C.uav_1["wp_"+R]=[z.params[4],z.params[5],z.Altitude],R=R+1}),C.uav_1.wp_n=R,i(Xu.updateMission({name:A,mission:C}))}else t("danger","Formato de mission no compatible")},b=()=>{a()};async function M(A){o?d(A):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function P(){h()}function w(){g("uav_3","px4")}return U.jsx("div",{style:{width:"100%",height:"100%"},children:U.jsx(Lm.Provider,{value:{rosConnect:b,rosState:o,openMision:v,connectAddUav:M,commandMission:w,loadMission:P},children:e})})},k9=({SetAddUAVOpen:e})=>{const[t,r]=W.useState(!1),n=rc(),i=h_(),o=()=>{n(Xu.clearMission({}))},s=()=>{const v=document.getElementsByName("otrotest");console.log(v);for(let b=0;b<v.length;b++)v[b].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let b=0;b<v.length;b++)v[b].setAttribute("class","dropdown-content")},500),r(b=>!b)},a=W.useContext(Lm),d=v=>{const b=v.target.files[0];if(!b)return;const M=new FileReader;M.readAsText(b),M.onload=()=>{console.log(M.result),console.log(b.name),a.openMision(b.name,M.result)},M.onerror=()=>{console.log(M.error)}};function h(){lt.easeTo({center:[-6.0025,37.412],zoom:Math.max(lt.getZoom(),5),offset:[0,-1/2]})}function g(){e(!0)}return U.jsx(IV,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:U.jsx(YV,{maxWidth:"x",children:U.jsxs(k2,{disableGutters:!0,children:[U.jsx(ln,{variant:"h6",noWrap:!0,component:"a",onClick:h,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Management Tool"}),U.jsxs("div",{className:"dropdown",children:[U.jsx("button",{className:"dropbtn",children:"ROS "}),U.jsx("div",{name:"otrotest",className:"dropdown-content",children:U.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Rosbridge Server"})})]}),U.jsxs("div",{className:"dropdown",children:[U.jsxs("button",{className:"dropbtn",children:["UAV",U.jsx("i",{className:"fa fa-caret-down"})]}),U.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[U.jsx("a",{id:"openAddUavNavbar",onClick:()=>{g(),s()},children:"Connect UAV"}),U.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Show/Hide UAV Roster"})]})]}),U.jsxs("div",{className:"dropdown",children:[U.jsxs("button",{className:"dropbtn",children:["File",U.jsx("i",{className:"fa fa-caret-down"})]}),U.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[U.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),U.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:d}),U.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),U.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"})]})]}),U.jsxs("div",{className:"dropdown",children:[U.jsxs("button",{className:"dropbtn",children:["Mission",U.jsx("i",{className:"fa fa-caret-down"})]}),U.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[U.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission"}),U.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.commandMission(),s()},children:"Command Mission"})]})]}),U.jsx("div",{className:"dropdown",children:U.jsxs("button",{className:"dropbtn",children:["Report",U.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var $R={},P9={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(P9);var nn=P9.exports,nk={};const ove=UF(moe);var U5;function on(){return U5||(U5=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=ove}(nk)),nk}var ave=nn;Object.defineProperty($R,"__esModule",{value:!0});var A9=$R.default=void 0,sve=ave(on()),lve=U,cve=(0,sve.default)((0,lve.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");A9=$R.default=cve;var DR={},uve=nn;Object.defineProperty(DR,"__esModule",{value:!0});var M9=DR.default=void 0,fve=uve(on()),dve=U,hve=(0,fve.default)((0,dve.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");M9=DR.default=hve;var LR={},pve=nn;Object.defineProperty(LR,"__esModule",{value:!0});var O9=LR.default=void 0,mve=pve(on()),gve=U,yve=(0,mve.default)((0,gve.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");O9=LR.default=yve;var zR={},vve=nn;Object.defineProperty(zR,"__esModule",{value:!0});var I9=zR.default=void 0,_ve=vve(on()),xve=U,bve=(0,_ve.default)((0,xve.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");I9=zR.default=bve;var NR={},wve=nn;Object.defineProperty(NR,"__esModule",{value:!0});var R9=NR.default=void 0,Sve=wve(on()),Eve=U,Cve=(0,Sve.default)((0,Eve.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");R9=NR.default=Cve;var jR={},Tve=nn;Object.defineProperty(jR,"__esModule",{value:!0});var $9=jR.default=void 0,kve=Tve(on()),Pve=U,Ave=(0,kve.default)((0,Pve.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");$9=jR.default=Ave;var BR={},Mve=nn;Object.defineProperty(BR,"__esModule",{value:!0});var D9=BR.default=void 0,Ove=Mve(on()),Ive=U,Rve=(0,Ove.default)((0,Ive.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");D9=BR.default=Rve;var FR={},$ve=nn;Object.defineProperty(FR,"__esModule",{value:!0});var L9=FR.default=void 0,Dve=$ve(on()),Lve=U,zve=(0,Dve.default)((0,Lve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");L9=FR.default=zve;var UR={},Nve=nn;Object.defineProperty(UR,"__esModule",{value:!0});var z9=UR.default=void 0,jve=Nve(on()),Bve=U,Fve=(0,jve.default)((0,Bve.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");z9=UR.default=Fve;const Uve=ho(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:Hl[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:Hl[300]}},mediaicon:{color:Hl[700],width:"15px"}})),N9=({SetAddUAVOpen:e})=>{const t=Uve(),r=W.useContext(Lm),[n,i]=W.useState("no load mission"),o=Dn(P=>P.mission.name),s=Dn(P=>P.mission.home),[a,d]=W.useState(!0),h=P=>{const w=P.target.files[0];if(!w)return;const A=new FileReader;A.readAsText(w),A.onload=()=>{console.log(A.result),console.log(w.name),r.openMision(w.name,A.result)},A.onerror=()=>{console.log(A.error)}};function g(){lt.easeTo({center:[-6.0025,37.412],zoom:Math.max(lt.getZoom(),5),offset:[0,-1/2]})}function v(){lt.easeTo({center:[s[1],s[0]],zoom:Math.max(lt.getZoom(),15),offset:[0,-1/2]})}function b(){e(!0)}const M=()=>{d(!a)};return W.useEffect(()=>{i(o)},[o]),W.useEffect(()=>{v()},[s]),U.jsx("header",{className:t.toolbar,children:U.jsxs("div",{children:[U.jsxs(Vce,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[U.jsx(Vn,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:U.jsx(A9,{fontSize:"small",className:t.mediaicon})}),U.jsxs(Vn,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[U.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:U.jsx(M9,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),U.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),U.jsx(Vn,{id:"openAddUav",onClick:b,className:t.mediaButton,style:{margin:"0px 0px"},children:U.jsx(O9,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),U.jsx(Lm.Consumer,{children:({rosState:P})=>U.jsxs(Vn,{id:"rosConnect",onClick:r.rosConnect,className:t.mediaButton,children:[P&&"conectado"," ",!P&&"desconectado"," "]})}),U.jsx(Vn,{id:"loadMission",size:"small",onClick:b,className:t.mediaButton,children:U.jsx(I9,{fontSize:"small",className:t.mediaicon})}),U.jsx(Vn,{id:"commandMission",onClick:b,className:t.mediaButton,children:"Fly!"}),U.jsxs(Vn,{id:"openedmission",onClick:v,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",n]}),U.jsx(Vn,{variant:"filledTonal",onClick:P=>M(),className:t.mediaButton,children:"Status"}),U.jsx(Vn,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:U.jsx(R9,{fontSize:"small",className:t.mediaicon})}),U.jsx(Vn,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:U.jsx($9,{fontSize:"small",className:t.mediaicon})}),U.jsx(Vn,{id:"reset",className:t.mediaButton,children:U.jsx(D9,{fontSize:"small",className:t.mediaicon})}),U.jsx(Vn,{id:"showManualMode",className:t.mediaButton,children:U.jsx(L9,{fontSize:"small",className:t.mediaicon})}),U.jsx(Vn,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:U.jsx(z9,{fontSize:"small",className:t.mediaicon})})]})})};var VR={},Vve=nn;Object.defineProperty(VR,"__esModule",{value:!0});var nh=VR.default=void 0,Wve=Vve(on()),qve=U,Hve=(0,Wve.default)((0,qve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");nh=VR.default=Hve;const Gve=ho(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),Yve=({toastlist:e,position:t,setList:r})=>{const n=Gve(),i=W.useCallback(o=>{const s=e.filter(a=>a.id!==o);r(s)},[e,r]);return W.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),U.jsx("div",{className:n.root,children:e.map((o,s)=>U.jsxs(S_,{elevation:3,className:n.card,style:{backgroundColor:o.backgroundColor},children:[U.jsxs("div",{className:n.header,children:[U.jsx(ln,{variant:"body2",children:o.title}),U.jsx(cn,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:U.jsx(nh,{fontSize:"small",className:n.mediaButton})})]}),U.jsx("div",{children:U.jsx("p",{className:n.description,children:o.description})})]}))})};var WR={},Kve=nn;Object.defineProperty(WR,"__esModule",{value:!0});var zm=WR.default=void 0,Zve=Kve(on()),Xve=U,Jve=(0,Zve.default)((0,Xve.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");zm=WR.default=Jve;const Qve=ho(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"}})),e0e=({SetAddUAVOpen:e})=>{const t=Qve(),r=W.useContext(Lm);W.useState("dji"),W.useState("");const[n,i]=W.useState({name:"uav_",category:"dji",ip:"10.42.0.42",cameratype:"Websocket",camera_src:"video0"});function o(){e(!1)}function s(){console.log("add uav-"+n.name+"-"+n.category),console.log(n),r.connectAddUav(n),e(!1)}return U.jsx("div",{className:t.root,children:U.jsxs(S_,{elevation:3,className:t.card,children:[U.jsx("div",{className:t.closeBtn,children:U.jsx(cn,{size:"small",onClick:o,onTouchStart:o,children:U.jsx(nh,{fontSize:"small",className:t.mediaButton})})}),U.jsx("b",{children:U.jsx("div",{className:t.title,children:"Add device "})}),U.jsxs(que,{style:{margin:"20px"},children:[U.jsx(pa,{required:!0,label:"UAV ID",name:"uavid",value:n.name,onChange:a=>i({...n,name:a.target.value}),className:t.inputtext}),U.jsxs(E0,{style:{paddingBottom:"20px"},variant:"outlined",children:[U.jsx(C0,{id:"demo-simple-select-outlined-label",children:"UAV type"}),U.jsxs(T0,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:n.category,onChange:a=>i({...n,category:a.target.value}),label:"uavtipe",children:[U.jsx(ha,{value:"dji",children:"DJI"}),U.jsx(ha,{value:"px4",children:"PX4"}),U.jsx(ha,{value:"fuvex",children:"Fuvex"}),U.jsx(ha,{value:"catec",children:"Catec"})]})]}),U.jsx(pa,{value:n.ip,onChange:a=>i({...n,ip:a.target.value}),label:"ip"})]}),n&&U.jsxs(v0,{children:[U.jsx(x0,{expandIcon:U.jsx(zm,{}),children:U.jsx(ln,{variant:"subtitle1",children:"Camera"})}),U.jsxs(_0,{className:t.details,children:[U.jsxs(E0,{variant:"outlined",children:[U.jsx(C0,{id:"demo-simple-select-outlined-label",children:"CameraSource"}),U.jsxs(T0,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:n.cameratype,onChange:a=>i({...n,cameratype:a.target.value}),label:"uavtipe",children:[U.jsx(ha,{value:"Websocket",children:"Websocket"}),U.jsx(ha,{value:"WebRTC",children:"WebRTC"})]})]}),U.jsx(pa,{value:n.camera_src,onChange:a=>i({...n,camera_src:a.target.value}),label:"Camera route",helperText:"videocompress or video0  "})]})]}),U.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:U.jsx(Vn,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},V5="/assets/placeholder-7d04691d.jpg";var qR={},t0e=nn;Object.defineProperty(qR,"__esModule",{value:!0});var HR=qR.default=void 0,r0e=t0e(on()),n0e=U,i0e=(0,r0e.default)((0,n0e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");HR=qR.default=i0e;const o0e=ho(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),a0e=({deviceId:e,datacamera:t,onClose:r})=>{const n=o0e(),[i,o]=W.useState(V5),s=Dn(b=>b.devices.items[e]),[a,d]=W.useState(!1);let h=a?n.card_max:n.card,g=a?n.root_max:n.root;function v(){d(!a)}return W.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(V5))},[t]),U.jsx("div",{className:g,children:s&&U.jsxs(S_,{elevation:3,className:h,children:[U.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[U.jsx(cn,{size:"small",onClick:v,onTouchStart:v,children:U.jsx(HR,{fontSize:"small",className:n.mediaButton})}),U.jsx(cn,{size:"small",onClick:()=>{r(),d(!1)},onTouchStart:r,children:U.jsx(nh,{fontSize:"small",className:n.mediaButton})})]}),U.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:[" ","Image "+s.name," "]}),U.jsx("img",{src:i,className:n.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var j9;function zt(){return j9.apply(null,arguments)}function s0e(e){j9=e}function hl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ud(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function GR(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Gr(e,t))return!1;return!0}function fa(e){return e===void 0}function nu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function P_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function B9(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function tf(e,t){for(var r in t)Gr(t,r)&&(e[r]=t[r]);return Gr(t,"toString")&&(e.toString=t.toString),Gr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function nc(e,t,r,n){return u7(e,t,r,n,!0).utc()}function l0e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kr(e){return e._pf==null&&(e._pf=l0e()),e._pf}var LA;Array.prototype.some?LA=Array.prototype.some:LA=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function YR(e){if(e._isValid==null){var t=kr(e),r=LA.call(t.parsedDateParts,function(i){return i!=null}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n}return e._isValid}function H2(e){var t=nc(NaN);return e!=null?tf(kr(t),e):kr(t).userInvalidated=!0,t}var W5=zt.momentProperties=[],ik=!1;function KR(e,t){var r,n,i,o=W5.length;if(fa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),fa(t._i)||(e._i=t._i),fa(t._f)||(e._f=t._f),fa(t._l)||(e._l=t._l),fa(t._strict)||(e._strict=t._strict),fa(t._tzm)||(e._tzm=t._tzm),fa(t._isUTC)||(e._isUTC=t._isUTC),fa(t._offset)||(e._offset=t._offset),fa(t._pf)||(e._pf=kr(t)),fa(t._locale)||(e._locale=t._locale),o>0)for(r=0;r<o;r++)n=W5[r],i=t[n],fa(i)||(e[n]=i);return e}function A_(e){KR(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ik===!1&&(ik=!0,zt.updateOffset(this),ik=!1)}function pl(e){return e instanceof A_||e!=null&&e._isAMomentObject!=null}function F9(e){zt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Rs(e,t){var r=!0;return tf(function(){if(zt.deprecationHandler!=null&&zt.deprecationHandler(null,e),r){var n=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Gr(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];n.push(i)}F9(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var q5={};function U9(e,t){zt.deprecationHandler!=null&&zt.deprecationHandler(e,t),q5[e]||(F9(t),q5[e]=!0)}zt.suppressDeprecationWarnings=!1;zt.deprecationHandler=null;function ic(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function c0e(e){var t,r;for(r in e)Gr(e,r)&&(t=e[r],ic(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function zA(e,t){var r=tf({},e),n;for(n in t)Gr(t,n)&&(Ud(e[n])&&Ud(t[n])?(r[n]={},tf(r[n],e[n]),tf(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Gr(e,n)&&!Gr(t,n)&&Ud(e[n])&&(r[n]=tf({},r[n]));return r}function ZR(e){e!=null&&this.set(e)}var NA;Object.keys?NA=Object.keys:NA=function(e){var t,r=[];for(t in e)Gr(e,t)&&r.push(t);return r};var u0e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function f0e(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return ic(n)?n.call(t,r):n}function ec(e,t,r){var n=""+Math.abs(e),i=t-n.length,o=e>=0;return(o?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var XR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ok={},lm={};function ir(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(lm[e]=i),t&&(lm[t[0]]=function(){return ec(i.apply(this,arguments),t[1],t[2])}),r&&(lm[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function d0e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function h0e(e){var t=e.match(XR),r,n;for(r=0,n=t.length;r<n;r++)lm[t[r]]?t[r]=lm[t[r]]:t[r]=d0e(t[r]);return function(i){var o="",s;for(s=0;s<n;s++)o+=ic(t[s])?t[s].call(i,e):t[s];return o}}function u1(e,t){return e.isValid()?(t=V9(t,e.localeData()),ok[t]=ok[t]||h0e(t),ok[t](e)):e.localeData().invalidDate()}function V9(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(Tb.lastIndex=0;r>=0&&Tb.test(e);)e=e.replace(Tb,n),Tb.lastIndex=0,r-=1;return e}var p0e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function m0e(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(XR).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var g0e="Invalid date";function y0e(){return this._invalidDate}var v0e="%d",_0e=/\d{1,2}/;function x0e(e){return this._ordinal.replace("%d",e)}var b0e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function w0e(e,t,r,n){var i=this._relativeTime[r];return ic(i)?i(e,t,r,n):i.replace(/%d/i,e)}function S0e(e,t){var r=this._relativeTime[e>0?"future":"past"];return ic(r)?r(t):r.replace(/%s/i,t)}var jv={};function Lo(e,t){var r=e.toLowerCase();jv[r]=jv[r+"s"]=jv[t]=e}function $s(e){return typeof e=="string"?jv[e]||jv[e.toLowerCase()]:void 0}function JR(e){var t={},r,n;for(n in e)Gr(e,n)&&(r=$s(n),r&&(t[r]=e[n]));return t}var W9={};function zo(e,t){W9[e]=t}function E0e(e){var t=[],r;for(r in e)Gr(e,r)&&t.push({unit:r,priority:W9[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}function G2(e){return e%4===0&&e%100!==0||e%400===0}function ms(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ir(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=ms(t)),r}function yg(e,t){return function(r){return r!=null?(q9(this,e,r),zt.updateOffset(this,t),this):lw(this,e)}}function lw(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q9(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&G2(e.year())&&e.month()===1&&e.date()===29?(r=Ir(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Q2(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function C0e(e){return e=$s(e),ic(this[e])?this[e]():this}function T0e(e,t){if(typeof e=="object"){e=JR(e);var r=E0e(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=$s(e),ic(this[e]))return this[e](t);return this}var H9=/\d/,es=/\d\d/,G9=/\d{3}/,QR=/\d{4}/,Y2=/[+-]?\d{6}/,Nn=/\d\d?/,Y9=/\d\d\d\d?/,K9=/\d\d\d\d\d\d?/,K2=/\d{1,3}/,e$=/\d{1,4}/,Z2=/[+-]?\d{1,6}/,vg=/\d+/,X2=/[+-]?\d+/,k0e=/Z|[+-]\d\d:?\d\d/gi,J2=/Z|[+-]\d\d(?::?\d\d)?/gi,P0e=/[+-]?\d+(\.\d{1,3})?/,M_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,cw;cw={};function Ht(e,t,r){cw[e]=ic(t)?t:function(n,i){return n&&r?r:t}}function A0e(e,t){return Gr(cw,e)?cw[e](t._strict,t._locale):new RegExp(M0e(e))}function M0e(e){return ja(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,o){return r||n||i||o}))}function ja(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var jA={};function xn(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),nu(t)&&(n=function(o,s){s[t]=Ir(o)}),i=e.length,r=0;r<i;r++)jA[e[r]]=n}function O_(e,t){xn(e,function(r,n,i,o){i._w=i._w||{},t(r,i._w,i,o)})}function O0e(e,t,r){t!=null&&Gr(jA,e)&&jA[e](t,r._a,r,e)}var $o=0,zc=1,Bl=2,Di=3,ll=4,Nc=5,Id=6,I0e=7,R0e=8;function $0e(e,t){return(e%t+t)%t}var xi;Array.prototype.indexOf?xi=Array.prototype.indexOf:xi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Q2(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=$0e(t,12);return e+=(t-r)/12,r===1?G2(e)?29:28:31-r%7%2}ir("M",["MM",2],"Mo",function(){return this.month()+1});ir("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ir("MMMM",0,0,function(e){return this.localeData().months(this,e)});Lo("month","M");zo("month",8);Ht("M",Nn);Ht("MM",Nn,es);Ht("MMM",function(e,t){return t.monthsShortRegex(e)});Ht("MMMM",function(e,t){return t.monthsRegex(e)});xn(["M","MM"],function(e,t){t[zc]=Ir(e)-1});xn(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[zc]=i:kr(r).invalidMonth=e});var D0e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Z9="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),X9=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,L0e=M_,z0e=M_;function N0e(e,t){return e?hl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||X9).test(t)?"format":"standalone"][e.month()]:hl(this._months)?this._months:this._months.standalone}function j0e(e,t){return e?hl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[X9.test(t)?"format":"standalone"][e.month()]:hl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function B0e(e,t,r){var n,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=nc([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?t==="MMM"?(i=xi.call(this._shortMonthsParse,s),i!==-1?i:null):(i=xi.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=xi.call(this._shortMonthsParse,s),i!==-1?i:(i=xi.call(this._longMonthsParse,s),i!==-1?i:null)):(i=xi.call(this._longMonthsParse,s),i!==-1?i:(i=xi.call(this._shortMonthsParse,s),i!==-1?i:null))}function F0e(e,t,r){var n,i,o;if(this._monthsParseExact)return B0e.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=nc([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function J9(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ir(t);else if(t=e.localeData().monthsParse(t),!nu(t))return e}return r=Math.min(e.date(),Q2(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Q9(e){return e!=null?(J9(this,e),zt.updateOffset(this,!0),this):lw(this,"Month")}function U0e(){return Q2(this.year(),this.month())}function V0e(e){return this._monthsParseExact?(Gr(this,"_monthsRegex")||e7.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Gr(this,"_monthsShortRegex")||(this._monthsShortRegex=L0e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function W0e(e){return this._monthsParseExact?(Gr(this,"_monthsRegex")||e7.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Gr(this,"_monthsRegex")||(this._monthsRegex=z0e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function e7(){function e(s,a){return a.length-s.length}var t=[],r=[],n=[],i,o;for(i=0;i<12;i++)o=nc([2e3,i]),t.push(this.monthsShort(o,"")),r.push(this.months(o,"")),n.push(this.months(o,"")),n.push(this.monthsShort(o,""));for(t.sort(e),r.sort(e),n.sort(e),i=0;i<12;i++)t[i]=ja(t[i]),r[i]=ja(r[i]);for(i=0;i<24;i++)n[i]=ja(n[i]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}ir("Y",0,0,function(){var e=this.year();return e<=9999?ec(e,4):"+"+e});ir(0,["YY",2],0,function(){return this.year()%100});ir(0,["YYYY",4],0,"year");ir(0,["YYYYY",5],0,"year");ir(0,["YYYYYY",6,!0],0,"year");Lo("year","y");zo("year",1);Ht("Y",X2);Ht("YY",Nn,es);Ht("YYYY",e$,QR);Ht("YYYYY",Z2,Y2);Ht("YYYYYY",Z2,Y2);xn(["YYYYY","YYYYYY"],$o);xn("YYYY",function(e,t){t[$o]=e.length===2?zt.parseTwoDigitYear(e):Ir(e)});xn("YY",function(e,t){t[$o]=zt.parseTwoDigitYear(e)});xn("Y",function(e,t){t[$o]=parseInt(e,10)});function Bv(e){return G2(e)?366:365}zt.parseTwoDigitYear=function(e){return Ir(e)+(Ir(e)>68?1900:2e3)};var t7=yg("FullYear",!0);function q0e(){return G2(this.year())}function H0e(e,t,r,n,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,n,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,n,i,o,s),a}function O0(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function uw(e,t,r){var n=7+t-r,i=(7+O0(e,0,n).getUTCDay()-t)%7;return-i+n-1}function r7(e,t,r,n,i){var o=(7+r-n)%7,s=uw(e,n,i),a=1+7*(t-1)+o+s,d,h;return a<=0?(d=e-1,h=Bv(d)+a):a>Bv(e)?(d=e+1,h=a-Bv(e)):(d=e,h=a),{year:d,dayOfYear:h}}function I0(e,t,r){var n=uw(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+Vc(s,t,r)):i>Vc(e.year(),t,r)?(o=i-Vc(e.year(),t,r),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function Vc(e,t,r){var n=uw(e,t,r),i=uw(e+1,t,r);return(Bv(e)-n+i)/7}ir("w",["ww",2],"wo","week");ir("W",["WW",2],"Wo","isoWeek");Lo("week","w");Lo("isoWeek","W");zo("week",5);zo("isoWeek",5);Ht("w",Nn);Ht("ww",Nn,es);Ht("W",Nn);Ht("WW",Nn,es);O_(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Ir(e)});function G0e(e){return I0(e,this._week.dow,this._week.doy).week}var Y0e={dow:0,doy:6};function K0e(){return this._week.dow}function Z0e(){return this._week.doy}function X0e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function J0e(e){var t=I0(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ir("d",0,"do","day");ir("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ir("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ir("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ir("e",0,0,"weekday");ir("E",0,0,"isoWeekday");Lo("day","d");Lo("weekday","e");Lo("isoWeekday","E");zo("day",11);zo("weekday",11);zo("isoWeekday",11);Ht("d",Nn);Ht("e",Nn);Ht("E",Nn);Ht("dd",function(e,t){return t.weekdaysMinRegex(e)});Ht("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ht("dddd",function(e,t){return t.weekdaysRegex(e)});O_(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:kr(r).invalidWeekday=e});O_(["d","e","E"],function(e,t,r,n){t[n]=Ir(e)});function Q0e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function e_e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function t$(e,t){return e.slice(t,7).concat(e.slice(0,t))}var t_e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),n7="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),r_e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),n_e=M_,i_e=M_,o_e=M_;function a_e(e,t){var r=hl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?t$(r,this._week.dow):e?r[e.day()]:r}function s_e(e){return e===!0?t$(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function l_e(e){return e===!0?t$(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function c_e(e,t,r){var n,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=nc([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?t==="dddd"?(i=xi.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=xi.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=xi.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=xi.call(this._weekdaysParse,s),i!==-1||(i=xi.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=xi.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=xi.call(this._shortWeekdaysParse,s),i!==-1||(i=xi.call(this._weekdaysParse,s),i!==-1)?i:(i=xi.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=xi.call(this._minWeekdaysParse,s),i!==-1||(i=xi.call(this._weekdaysParse,s),i!==-1)?i:(i=xi.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function u_e(e,t,r){var n,i,o;if(this._weekdaysParseExact)return c_e.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=nc([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function f_e(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Q0e(e,this.localeData()),this.add(e-t,"d")):t}function d_e(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function h_e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=e_e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function p_e(e){return this._weekdaysParseExact?(Gr(this,"_weekdaysRegex")||r$.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Gr(this,"_weekdaysRegex")||(this._weekdaysRegex=n_e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function m_e(e){return this._weekdaysParseExact?(Gr(this,"_weekdaysRegex")||r$.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Gr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=i_e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function g_e(e){return this._weekdaysParseExact?(Gr(this,"_weekdaysRegex")||r$.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Gr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=o_e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function r$(){function e(g,v){return v.length-g.length}var t=[],r=[],n=[],i=[],o,s,a,d,h;for(o=0;o<7;o++)s=nc([2e3,1]).day(o),a=ja(this.weekdaysMin(s,"")),d=ja(this.weekdaysShort(s,"")),h=ja(this.weekdays(s,"")),t.push(a),r.push(d),n.push(h),i.push(a),i.push(d),i.push(h);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function n$(){return this.hours()%12||12}function y_e(){return this.hours()||24}ir("H",["HH",2],0,"hour");ir("h",["hh",2],0,n$);ir("k",["kk",2],0,y_e);ir("hmm",0,0,function(){return""+n$.apply(this)+ec(this.minutes(),2)});ir("hmmss",0,0,function(){return""+n$.apply(this)+ec(this.minutes(),2)+ec(this.seconds(),2)});ir("Hmm",0,0,function(){return""+this.hours()+ec(this.minutes(),2)});ir("Hmmss",0,0,function(){return""+this.hours()+ec(this.minutes(),2)+ec(this.seconds(),2)});function i7(e,t){ir(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}i7("a",!0);i7("A",!1);Lo("hour","h");zo("hour",13);function o7(e,t){return t._meridiemParse}Ht("a",o7);Ht("A",o7);Ht("H",Nn);Ht("h",Nn);Ht("k",Nn);Ht("HH",Nn,es);Ht("hh",Nn,es);Ht("kk",Nn,es);Ht("hmm",Y9);Ht("hmmss",K9);Ht("Hmm",Y9);Ht("Hmmss",K9);xn(["H","HH"],Di);xn(["k","kk"],function(e,t,r){var n=Ir(e);t[Di]=n===24?0:n});xn(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});xn(["h","hh"],function(e,t,r){t[Di]=Ir(e),kr(r).bigHour=!0});xn("hmm",function(e,t,r){var n=e.length-2;t[Di]=Ir(e.substr(0,n)),t[ll]=Ir(e.substr(n)),kr(r).bigHour=!0});xn("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Di]=Ir(e.substr(0,n)),t[ll]=Ir(e.substr(n,2)),t[Nc]=Ir(e.substr(i)),kr(r).bigHour=!0});xn("Hmm",function(e,t,r){var n=e.length-2;t[Di]=Ir(e.substr(0,n)),t[ll]=Ir(e.substr(n))});xn("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Di]=Ir(e.substr(0,n)),t[ll]=Ir(e.substr(n,2)),t[Nc]=Ir(e.substr(i))});function v_e(e){return(e+"").toLowerCase().charAt(0)==="p"}var __e=/[ap]\.?m?\.?/i,x_e=yg("Hours",!0);function b_e(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var a7={calendar:u0e,longDateFormat:p0e,invalidDate:g0e,ordinal:v0e,dayOfMonthOrdinalParse:_0e,relativeTime:b0e,months:D0e,monthsShort:Z9,week:Y0e,weekdays:t_e,weekdaysMin:r_e,weekdaysShort:n7,meridiemParse:__e},Wn={},Yy={},R0;function w_e(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function H5(e){return e&&e.toLowerCase().replace("_","-")}function S_e(e){for(var t=0,r,n,i,o;t<e.length;){for(o=H5(e[t]).split("-"),r=o.length,n=H5(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=eE(o.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&w_e(o,n)>=r-1)break;r--}t++}return R0}function E_e(e){return e.match("^[^/\\\\]*$")!=null}function eE(e){var t=null,r;if(Wn[e]===void 0&&typeof p1<"u"&&p1&&p1.exports&&E_e(e))try{t=R0._abbr,r=require,r("./locale/"+e),_f(t)}catch{Wn[e]=null}return Wn[e]}function _f(e,t){var r;return e&&(fa(t)?r=uu(e):r=i$(e,t),r?R0=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),R0._abbr}function i$(e,t){if(t!==null){var r,n=a7;if(t.abbr=e,Wn[e]!=null)U9("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Wn[e]._config;else if(t.parentLocale!=null)if(Wn[t.parentLocale]!=null)n=Wn[t.parentLocale]._config;else if(r=eE(t.parentLocale),r!=null)n=r._config;else return Yy[t.parentLocale]||(Yy[t.parentLocale]=[]),Yy[t.parentLocale].push({name:e,config:t}),null;return Wn[e]=new ZR(zA(n,t)),Yy[e]&&Yy[e].forEach(function(i){i$(i.name,i.config)}),_f(e),Wn[e]}else return delete Wn[e],null}function C_e(e,t){if(t!=null){var r,n,i=a7;Wn[e]!=null&&Wn[e].parentLocale!=null?Wn[e].set(zA(Wn[e]._config,t)):(n=eE(e),n!=null&&(i=n._config),t=zA(i,t),n==null&&(t.abbr=e),r=new ZR(t),r.parentLocale=Wn[e],Wn[e]=r),_f(e)}else Wn[e]!=null&&(Wn[e].parentLocale!=null?(Wn[e]=Wn[e].parentLocale,e===_f()&&_f(e)):Wn[e]!=null&&delete Wn[e]);return Wn[e]}function uu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return R0;if(!hl(e)){if(t=eE(e),t)return t;e=[e]}return S_e(e)}function T_e(){return NA(Wn)}function o$(e){var t,r=e._a;return r&&kr(e).overflow===-2&&(t=r[zc]<0||r[zc]>11?zc:r[Bl]<1||r[Bl]>Q2(r[$o],r[zc])?Bl:r[Di]<0||r[Di]>24||r[Di]===24&&(r[ll]!==0||r[Nc]!==0||r[Id]!==0)?Di:r[ll]<0||r[ll]>59?ll:r[Nc]<0||r[Nc]>59?Nc:r[Id]<0||r[Id]>999?Id:-1,kr(e)._overflowDayOfYear&&(t<$o||t>Bl)&&(t=Bl),kr(e)._overflowWeeks&&t===-1&&(t=I0e),kr(e)._overflowWeekday&&t===-1&&(t=R0e),kr(e).overflow=t),e}var k_e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,P_e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,A_e=/Z|[+-]\d\d(?::?\d\d)?/,kb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ak=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],M_e=/^\/?Date\((-?\d+)/i,O_e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,I_e={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function s7(e){var t,r,n=e._i,i=k_e.exec(n)||P_e.exec(n),o,s,a,d,h=kb.length,g=ak.length;if(i){for(kr(e).iso=!0,t=0,r=h;t<r;t++)if(kb[t][1].exec(i[1])){s=kb[t][0],o=kb[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,r=g;t<r;t++)if(ak[t][1].exec(i[3])){a=(i[2]||" ")+ak[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(A_e.exec(i[4]))d="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(d||""),s$(e)}else e._isValid=!1}function R_e(e,t,r,n,i,o){var s=[$_e(e),Z9.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function $_e(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function D_e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function L_e(e,t,r){if(e){var n=n7.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return kr(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function z_e(e,t,r){if(e)return I_e[e];if(t)return 0;var n=parseInt(r,10),i=n%100,o=(n-i)/100;return o*60+i}function l7(e){var t=O_e.exec(D_e(e._i)),r;if(t){if(r=R_e(t[4],t[3],t[2],t[5],t[6],t[7]),!L_e(t[1],r,e))return;e._a=r,e._tzm=z_e(t[8],t[9],t[10]),e._d=O0.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kr(e).rfc2822=!0}else e._isValid=!1}function N_e(e){var t=M_e.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(s7(e),e._isValid===!1)delete e._isValid;else return;if(l7(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:zt.createFromInputFallback(e)}zt.createFromInputFallback=Rs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Cp(e,t,r){return e??t??r}function j_e(e){var t=new Date(zt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function a$(e){var t,r,n=[],i,o,s;if(!e._d){for(i=j_e(e),e._w&&e._a[Bl]==null&&e._a[zc]==null&&B_e(e),e._dayOfYear!=null&&(s=Cp(e._a[$o],i[$o]),(e._dayOfYear>Bv(s)||e._dayOfYear===0)&&(kr(e)._overflowDayOfYear=!0),r=O0(s,0,e._dayOfYear),e._a[zc]=r.getUTCMonth(),e._a[Bl]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Di]===24&&e._a[ll]===0&&e._a[Nc]===0&&e._a[Id]===0&&(e._nextDay=!0,e._a[Di]=0),e._d=(e._useUTC?O0:H0e).apply(null,n),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Di]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(kr(e).weekdayMismatch=!0)}}function B_e(e){var t,r,n,i,o,s,a,d,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,r=Cp(t.GG,e._a[$o],I0(zn(),1,4).year),n=Cp(t.W,1),i=Cp(t.E,1),(i<1||i>7)&&(d=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=I0(zn(),o,s),r=Cp(t.gg,e._a[$o],h.year),n=Cp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(d=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(d=!0)):i=o),n<1||n>Vc(r,o,s)?kr(e)._overflowWeeks=!0:d!=null?kr(e)._overflowWeekday=!0:(a=r7(r,n,i,o,s),e._a[$o]=a.year,e._dayOfYear=a.dayOfYear)}zt.ISO_8601=function(){};zt.RFC_2822=function(){};function s$(e){if(e._f===zt.ISO_8601){s7(e);return}if(e._f===zt.RFC_2822){l7(e);return}e._a=[],kr(e).empty=!0;var t=""+e._i,r,n,i,o,s,a=t.length,d=0,h,g;for(i=V9(e._f,e._locale).match(XR)||[],g=i.length,r=0;r<g;r++)o=i[r],n=(t.match(A0e(o,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&kr(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),d+=n.length),lm[o]?(n?kr(e).empty=!1:kr(e).unusedTokens.push(o),O0e(o,n,e)):e._strict&&!n&&kr(e).unusedTokens.push(o);kr(e).charsLeftOver=a-d,t.length>0&&kr(e).unusedInput.push(t),e._a[Di]<=12&&kr(e).bigHour===!0&&e._a[Di]>0&&(kr(e).bigHour=void 0),kr(e).parsedDateParts=e._a.slice(0),kr(e).meridiem=e._meridiem,e._a[Di]=F_e(e._locale,e._a[Di],e._meridiem),h=kr(e).era,h!==null&&(e._a[$o]=e._locale.erasConvertYear(h,e._a[$o])),a$(e),o$(e)}function F_e(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function U_e(e){var t,r,n,i,o,s,a=!1,d=e._f.length;if(d===0){kr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<d;i++)o=0,s=!1,t=KR({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],s$(t),YR(t)&&(s=!0),o+=kr(t).charsLeftOver,o+=kr(t).unusedTokens.length*10,kr(t).score=o,a?o<n&&(n=o,r=t):(n==null||o<n||s)&&(n=o,r=t,s&&(a=!0));tf(e,r||t)}function V_e(e){if(!e._d){var t=JR(e._i),r=t.day===void 0?t.date:t.day;e._a=B9([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),a$(e)}}function W_e(e){var t=new A_(o$(c7(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function c7(e){var t=e._i,r=e._f;return e._locale=e._locale||uu(e._l),t===null||r===void 0&&t===""?H2({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),pl(t)?new A_(o$(t)):(P_(t)?e._d=t:hl(r)?U_e(e):r?s$(e):q_e(e),YR(e)||(e._d=null),e))}function q_e(e){var t=e._i;fa(t)?e._d=new Date(zt.now()):P_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?N_e(e):hl(t)?(e._a=B9(t.slice(0),function(r){return parseInt(r,10)}),a$(e)):Ud(t)?V_e(e):nu(t)?e._d=new Date(t):zt.createFromInputFallback(e)}function u7(e,t,r,n,i){var o={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Ud(e)&&GR(e)||hl(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=r,o._i=e,o._f=t,o._strict=n,W_e(o)}function zn(e,t,r,n){return u7(e,t,r,n,!1)}var H_e=Rs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:H2()}),G_e=Rs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:H2()});function f7(e,t){var r,n;if(t.length===1&&hl(t[0])&&(t=t[0]),!t.length)return zn();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Y_e(){var e=[].slice.call(arguments,0);return f7("isBefore",e)}function K_e(){var e=[].slice.call(arguments,0);return f7("isAfter",e)}var Z_e=function(){return Date.now?Date.now():+new Date},Ky=["year","quarter","month","week","day","hour","minute","second","millisecond"];function X_e(e){var t,r=!1,n,i=Ky.length;for(t in e)if(Gr(e,t)&&!(xi.call(Ky,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[Ky[n]]){if(r)return!1;parseFloat(e[Ky[n]])!==Ir(e[Ky[n]])&&(r=!0)}return!0}function J_e(){return this._isValid}function Q_e(){return yl(NaN)}function tE(e){var t=JR(e),r=t.year||0,n=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,d=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=X_e(t),this._milliseconds=+g+h*1e3+d*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+n*3+r*12,this._data={},this._locale=uu(),this._bubble()}function f1(e){return e instanceof tE}function BA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function exe(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<n;s++)(r&&e[s]!==t[s]||!r&&Ir(e[s])!==Ir(t[s]))&&o++;return o+i}function d7(e,t){ir(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ec(~~(r/60),2)+t+ec(~~r%60,2)})}d7("Z",":");d7("ZZ","");Ht("Z",J2);Ht("ZZ",J2);xn(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=l$(J2,e)});var txe=/([\+\-]|\d\d)/gi;function l$(e,t){var r=(t||"").match(e),n,i,o;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(txe)||["-",0,0],o=+(i[1]*60)+Ir(i[2]),o===0?0:i[0]==="+"?o:-o)}function c$(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(pl(e)||P_(e)?e.valueOf():zn(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),zt.updateOffset(r,!1),r):zn(e).local()}function FA(e){return-Math.round(e._d.getTimezoneOffset())}zt.updateOffset=function(){};function rxe(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=l$(J2,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=FA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?m7(this,yl(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,zt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:FA(this)}function nxe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ixe(e){return this.utcOffset(0,e)}function oxe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(FA(this),"m")),this}function axe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=l$(k0e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function sxe(e){return this.isValid()?(e=e?zn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function lxe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function cxe(){if(!fa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return KR(e,this),e=c7(e),e._a?(t=e._isUTC?nc(e._a):zn(e._a),this._isDSTShifted=this.isValid()&&exe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function uxe(){return this.isValid()?!this._isUTC:!1}function fxe(){return this.isValid()?this._isUTC:!1}function h7(){return this.isValid()?this._isUTC&&this._offset===0:!1}var dxe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,hxe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function yl(e,t){var r=e,n=null,i,o,s;return f1(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:nu(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=dxe.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:Ir(n[Bl])*i,h:Ir(n[Di])*i,m:Ir(n[ll])*i,s:Ir(n[Nc])*i,ms:Ir(BA(n[Id]*1e3))*i}):(n=hxe.exec(e))?(i=n[1]==="-"?-1:1,r={y:hd(n[2],i),M:hd(n[3],i),w:hd(n[4],i),d:hd(n[5],i),h:hd(n[6],i),m:hd(n[7],i),s:hd(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=pxe(zn(r.from),zn(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),o=new tE(r),f1(e)&&Gr(e,"_locale")&&(o._locale=e._locale),f1(e)&&Gr(e,"_isValid")&&(o._isValid=e._isValid),o}yl.fn=tE.prototype;yl.invalid=Q_e;function hd(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function G5(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function pxe(e,t){var r;return e.isValid()&&t.isValid()?(t=c$(t,e),e.isBefore(t)?r=G5(e,t):(r=G5(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function p7(e,t){return function(r,n){var i,o;return n!==null&&!isNaN(+n)&&(U9(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),i=yl(r,n),m7(this,i,e),this}}function m7(e,t,r,n){var i=t._milliseconds,o=BA(t._days),s=BA(t._months);e.isValid()&&(n=n??!0,s&&J9(e,lw(e,"Month")+s*r),o&&q9(e,"Date",lw(e,"Date")+o*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&zt.updateOffset(e,o||s))}var mxe=p7(1,"add"),gxe=p7(-1,"subtract");function g7(e){return typeof e=="string"||e instanceof String}function yxe(e){return pl(e)||P_(e)||g7(e)||nu(e)||_xe(e)||vxe(e)||e===null||e===void 0}function vxe(e){var t=Ud(e)&&!GR(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=n.length;for(i=0;i<s;i+=1)o=n[i],r=r||Gr(e,o);return t&&r}function _xe(e){var t=hl(e),r=!1;return t&&(r=e.filter(function(n){return!nu(n)&&g7(e)}).length===0),t&&r}function xxe(e){var t=Ud(e)&&!GR(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<n.length;i+=1)o=n[i],r=r||Gr(e,o);return t&&r}function bxe(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function wxe(e,t){arguments.length===1&&(arguments[0]?yxe(arguments[0])?(e=arguments[0],t=void 0):xxe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||zn(),n=c$(r,this).startOf("day"),i=zt.calendarFormat(this,n)||"sameElse",o=t&&(ic(t[i])?t[i].call(this,r):t[i]);return this.format(o||this.localeData().calendar(i,this,zn(r)))}function Sxe(){return new A_(this)}function Exe(e,t){var r=pl(e)?e:zn(e);return this.isValid()&&r.isValid()?(t=$s(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Cxe(e,t){var r=pl(e)?e:zn(e);return this.isValid()&&r.isValid()?(t=$s(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Txe(e,t,r,n){var i=pl(e)?e:zn(e),o=pl(t)?t:zn(t);return this.isValid()&&i.isValid()&&o.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(o,r):!this.isAfter(o,r))):!1}function kxe(e,t){var r=pl(e)?e:zn(e),n;return this.isValid()&&r.isValid()?(t=$s(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Pxe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Axe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Mxe(e,t,r){var n,i,o;if(!this.isValid())return NaN;if(n=c$(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=$s(t),t){case"year":o=d1(this,n)/12;break;case"month":o=d1(this,n);break;case"quarter":o=d1(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-i)/864e5;break;case"week":o=(this-n-i)/6048e5;break;default:o=this-n}return r?o:ms(o)}function d1(e,t){if(e.date()<t.date())return-d1(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,o;return t-n<0?(i=e.clone().add(r-1,"months"),o=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),o=(t-n)/(i-n)),-(r+o)||0}zt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";zt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Oxe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ixe(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?u1(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ic(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",u1(r,"Z")):u1(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Rxe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(r+n+i+o)}function $xe(e){e||(e=this.isUtc()?zt.defaultFormatUtc:zt.defaultFormat);var t=u1(this,e);return this.localeData().postformat(t)}function Dxe(e,t){return this.isValid()&&(pl(e)&&e.isValid()||zn(e).isValid())?yl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Lxe(e){return this.from(zn(),e)}function zxe(e,t){return this.isValid()&&(pl(e)&&e.isValid()||zn(e).isValid())?yl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Nxe(e){return this.to(zn(),e)}function y7(e){var t;return e===void 0?this._locale._abbr:(t=uu(e),t!=null&&(this._locale=t),this)}var v7=Rs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function _7(){return this._locale}var fw=1e3,cm=60*fw,dw=60*cm,x7=(365*400+97)*24*dw;function um(e,t){return(e%t+t)%t}function b7(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-x7:new Date(e,t,r).valueOf()}function w7(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-x7:Date.UTC(e,t,r)}function jxe(e){var t,r;if(e=$s(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?w7:b7,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=um(t+(this._isUTC?0:this.utcOffset()*cm),dw);break;case"minute":t=this._d.valueOf(),t-=um(t,cm);break;case"second":t=this._d.valueOf(),t-=um(t,fw);break}return this._d.setTime(t),zt.updateOffset(this,!0),this}function Bxe(e){var t,r;if(e=$s(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?w7:b7,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=dw-um(t+(this._isUTC?0:this.utcOffset()*cm),dw)-1;break;case"minute":t=this._d.valueOf(),t+=cm-um(t,cm)-1;break;case"second":t=this._d.valueOf(),t+=fw-um(t,fw)-1;break}return this._d.setTime(t),zt.updateOffset(this,!0),this}function Fxe(){return this._d.valueOf()-(this._offset||0)*6e4}function Uxe(){return Math.floor(this.valueOf()/1e3)}function Vxe(){return new Date(this.valueOf())}function Wxe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function qxe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Hxe(){return this.isValid()?this.toISOString():null}function Gxe(){return YR(this)}function Yxe(){return tf({},kr(this))}function Kxe(){return kr(this).overflow}function Zxe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ir("N",0,0,"eraAbbr");ir("NN",0,0,"eraAbbr");ir("NNN",0,0,"eraAbbr");ir("NNNN",0,0,"eraName");ir("NNNNN",0,0,"eraNarrow");ir("y",["y",1],"yo","eraYear");ir("y",["yy",2],0,"eraYear");ir("y",["yyy",3],0,"eraYear");ir("y",["yyyy",4],0,"eraYear");Ht("N",u$);Ht("NN",u$);Ht("NNN",u$);Ht("NNNN",sbe);Ht("NNNNN",lbe);xn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?kr(r).era=i:kr(r).invalidEra=e});Ht("y",vg);Ht("yy",vg);Ht("yyy",vg);Ht("yyyy",vg);Ht("yo",cbe);xn(["y","yy","yyy","yyyy"],$o);xn(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[$o]=r._locale.eraYearOrdinalParse(e,i):t[$o]=parseInt(e,10)});function Xxe(e,t){var r,n,i,o=this._eras||uu("en")._eras;for(r=0,n=o.length;r<n;++r){switch(typeof o[r].since){case"string":i=zt(o[r].since).startOf("day"),o[r].since=i.valueOf();break}switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":i=zt(o[r].until).startOf("day").valueOf(),o[r].until=i.valueOf();break}}return o}function Jxe(e,t,r){var n,i,o=this.eras(),s,a,d;for(e=e.toUpperCase(),n=0,i=o.length;n<i;++n)if(s=o[n].name.toUpperCase(),a=o[n].abbr.toUpperCase(),d=o[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[n];break;case"NNNN":if(s===e)return o[n];break;case"NNNNN":if(d===e)return o[n];break}else if([s,a,d].indexOf(e)>=0)return o[n]}function Qxe(e,t){var r=e.since<=e.until?1:-1;return t===void 0?zt(e.since).year():zt(e.since).year()+(t-e.offset)*r}function ebe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function tbe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function rbe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function nbe(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-zt(i[e].since).year())*r+i[e].offset;return this.year()}function ibe(e){return Gr(this,"_erasNameRegex")||f$.call(this),e?this._erasNameRegex:this._erasRegex}function obe(e){return Gr(this,"_erasAbbrRegex")||f$.call(this),e?this._erasAbbrRegex:this._erasRegex}function abe(e){return Gr(this,"_erasNarrowRegex")||f$.call(this),e?this._erasNarrowRegex:this._erasRegex}function u$(e,t){return t.erasAbbrRegex(e)}function sbe(e,t){return t.erasNameRegex(e)}function lbe(e,t){return t.erasNarrowRegex(e)}function cbe(e,t){return t._eraYearOrdinalRegex||vg}function f$(){var e=[],t=[],r=[],n=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(ja(s[i].name)),e.push(ja(s[i].abbr)),r.push(ja(s[i].narrow)),n.push(ja(s[i].name)),n.push(ja(s[i].abbr)),n.push(ja(s[i].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ir(0,["gg",2],0,function(){return this.weekYear()%100});ir(0,["GG",2],0,function(){return this.isoWeekYear()%100});function rE(e,t){ir(0,[e,e.length],0,t)}rE("gggg","weekYear");rE("ggggg","weekYear");rE("GGGG","isoWeekYear");rE("GGGGG","isoWeekYear");Lo("weekYear","gg");Lo("isoWeekYear","GG");zo("weekYear",1);zo("isoWeekYear",1);Ht("G",X2);Ht("g",X2);Ht("GG",Nn,es);Ht("gg",Nn,es);Ht("GGGG",e$,QR);Ht("gggg",e$,QR);Ht("GGGGG",Z2,Y2);Ht("ggggg",Z2,Y2);O_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Ir(e)});O_(["gg","GG"],function(e,t,r,n){t[n]=zt.parseTwoDigitYear(e)});function ube(e){return S7.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function fbe(e){return S7.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function dbe(){return Vc(this.year(),1,4)}function hbe(){return Vc(this.isoWeekYear(),1,4)}function pbe(){var e=this.localeData()._week;return Vc(this.year(),e.dow,e.doy)}function mbe(){var e=this.localeData()._week;return Vc(this.weekYear(),e.dow,e.doy)}function S7(e,t,r,n,i){var o;return e==null?I0(this,n,i).year:(o=Vc(e,n,i),t>o&&(t=o),gbe.call(this,e,t,r,n,i))}function gbe(e,t,r,n,i){var o=r7(e,t,r,n,i),s=O0(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ir("Q",0,"Qo","quarter");Lo("quarter","Q");zo("quarter",7);Ht("Q",H9);xn("Q",function(e,t){t[zc]=(Ir(e)-1)*3});function ybe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ir("D",["DD",2],"Do","date");Lo("date","D");zo("date",9);Ht("D",Nn);Ht("DD",Nn,es);Ht("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});xn(["D","DD"],Bl);xn("Do",function(e,t){t[Bl]=Ir(e.match(Nn)[0])});var E7=yg("Date",!0);ir("DDD",["DDDD",3],"DDDo","dayOfYear");Lo("dayOfYear","DDD");zo("dayOfYear",4);Ht("DDD",K2);Ht("DDDD",G9);xn(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Ir(e)});function vbe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ir("m",["mm",2],0,"minute");Lo("minute","m");zo("minute",14);Ht("m",Nn);Ht("mm",Nn,es);xn(["m","mm"],ll);var _be=yg("Minutes",!1);ir("s",["ss",2],0,"second");Lo("second","s");zo("second",15);Ht("s",Nn);Ht("ss",Nn,es);xn(["s","ss"],Nc);var xbe=yg("Seconds",!1);ir("S",0,0,function(){return~~(this.millisecond()/100)});ir(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ir(0,["SSS",3],0,"millisecond");ir(0,["SSSS",4],0,function(){return this.millisecond()*10});ir(0,["SSSSS",5],0,function(){return this.millisecond()*100});ir(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ir(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ir(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ir(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Lo("millisecond","ms");zo("millisecond",16);Ht("S",K2,H9);Ht("SS",K2,es);Ht("SSS",K2,G9);var rf,C7;for(rf="SSSS";rf.length<=9;rf+="S")Ht(rf,vg);function bbe(e,t){t[Id]=Ir(("0."+e)*1e3)}for(rf="S";rf.length<=9;rf+="S")xn(rf,bbe);C7=yg("Milliseconds",!1);ir("z",0,0,"zoneAbbr");ir("zz",0,0,"zoneName");function wbe(){return this._isUTC?"UTC":""}function Sbe(){return this._isUTC?"Coordinated Universal Time":""}var vt=A_.prototype;vt.add=mxe;vt.calendar=wxe;vt.clone=Sxe;vt.diff=Mxe;vt.endOf=Bxe;vt.format=$xe;vt.from=Dxe;vt.fromNow=Lxe;vt.to=zxe;vt.toNow=Nxe;vt.get=C0e;vt.invalidAt=Kxe;vt.isAfter=Exe;vt.isBefore=Cxe;vt.isBetween=Txe;vt.isSame=kxe;vt.isSameOrAfter=Pxe;vt.isSameOrBefore=Axe;vt.isValid=Gxe;vt.lang=v7;vt.locale=y7;vt.localeData=_7;vt.max=G_e;vt.min=H_e;vt.parsingFlags=Yxe;vt.set=T0e;vt.startOf=jxe;vt.subtract=gxe;vt.toArray=Wxe;vt.toObject=qxe;vt.toDate=Vxe;vt.toISOString=Ixe;vt.inspect=Rxe;typeof Symbol<"u"&&Symbol.for!=null&&(vt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});vt.toJSON=Hxe;vt.toString=Oxe;vt.unix=Uxe;vt.valueOf=Fxe;vt.creationData=Zxe;vt.eraName=ebe;vt.eraNarrow=tbe;vt.eraAbbr=rbe;vt.eraYear=nbe;vt.year=t7;vt.isLeapYear=q0e;vt.weekYear=ube;vt.isoWeekYear=fbe;vt.quarter=vt.quarters=ybe;vt.month=Q9;vt.daysInMonth=U0e;vt.week=vt.weeks=X0e;vt.isoWeek=vt.isoWeeks=J0e;vt.weeksInYear=pbe;vt.weeksInWeekYear=mbe;vt.isoWeeksInYear=dbe;vt.isoWeeksInISOWeekYear=hbe;vt.date=E7;vt.day=vt.days=f_e;vt.weekday=d_e;vt.isoWeekday=h_e;vt.dayOfYear=vbe;vt.hour=vt.hours=x_e;vt.minute=vt.minutes=_be;vt.second=vt.seconds=xbe;vt.millisecond=vt.milliseconds=C7;vt.utcOffset=rxe;vt.utc=ixe;vt.local=oxe;vt.parseZone=axe;vt.hasAlignedHourOffset=sxe;vt.isDST=lxe;vt.isLocal=uxe;vt.isUtcOffset=fxe;vt.isUtc=h7;vt.isUTC=h7;vt.zoneAbbr=wbe;vt.zoneName=Sbe;vt.dates=Rs("dates accessor is deprecated. Use date instead.",E7);vt.months=Rs("months accessor is deprecated. Use month instead",Q9);vt.years=Rs("years accessor is deprecated. Use year instead",t7);vt.zone=Rs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",nxe);vt.isDSTShifted=Rs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",cxe);function Ebe(e){return zn(e*1e3)}function Cbe(){return zn.apply(null,arguments).parseZone()}function T7(e){return e}var Zr=ZR.prototype;Zr.calendar=f0e;Zr.longDateFormat=m0e;Zr.invalidDate=y0e;Zr.ordinal=x0e;Zr.preparse=T7;Zr.postformat=T7;Zr.relativeTime=w0e;Zr.pastFuture=S0e;Zr.set=c0e;Zr.eras=Xxe;Zr.erasParse=Jxe;Zr.erasConvertYear=Qxe;Zr.erasAbbrRegex=obe;Zr.erasNameRegex=ibe;Zr.erasNarrowRegex=abe;Zr.months=N0e;Zr.monthsShort=j0e;Zr.monthsParse=F0e;Zr.monthsRegex=W0e;Zr.monthsShortRegex=V0e;Zr.week=G0e;Zr.firstDayOfYear=Z0e;Zr.firstDayOfWeek=K0e;Zr.weekdays=a_e;Zr.weekdaysMin=l_e;Zr.weekdaysShort=s_e;Zr.weekdaysParse=u_e;Zr.weekdaysRegex=p_e;Zr.weekdaysShortRegex=m_e;Zr.weekdaysMinRegex=g_e;Zr.isPM=v_e;Zr.meridiem=b_e;function hw(e,t,r,n){var i=uu(),o=nc().set(n,t);return i[r](o,e)}function k7(e,t,r){if(nu(e)&&(t=e,e=void 0),e=e||"",t!=null)return hw(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=hw(e,n,r,"month");return i}function d$(e,t,r,n){typeof e=="boolean"?(nu(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,nu(t)&&(r=t,t=void 0),t=t||"");var i=uu(),o=e?i._week.dow:0,s,a=[];if(r!=null)return hw(t,(r+o)%7,n,"day");for(s=0;s<7;s++)a[s]=hw(t,(s+o)%7,n,"day");return a}function Tbe(e,t){return k7(e,t,"months")}function kbe(e,t){return k7(e,t,"monthsShort")}function Pbe(e,t,r){return d$(e,t,r,"weekdays")}function Abe(e,t,r){return d$(e,t,r,"weekdaysShort")}function Mbe(e,t,r){return d$(e,t,r,"weekdaysMin")}_f("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Ir(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});zt.lang=Rs("moment.lang is deprecated. Use moment.locale instead.",_f);zt.langData=Rs("moment.langData is deprecated. Use moment.localeData instead.",uu);var kc=Math.abs;function Obe(){var e=this._data;return this._milliseconds=kc(this._milliseconds),this._days=kc(this._days),this._months=kc(this._months),e.milliseconds=kc(e.milliseconds),e.seconds=kc(e.seconds),e.minutes=kc(e.minutes),e.hours=kc(e.hours),e.months=kc(e.months),e.years=kc(e.years),this}function P7(e,t,r,n){var i=yl(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Ibe(e,t){return P7(this,e,t,1)}function Rbe(e,t){return P7(this,e,t,-1)}function Y5(e){return e<0?Math.floor(e):Math.ceil(e)}function $be(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,o,s,a,d;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Y5(UA(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=ms(e/1e3),n.seconds=i%60,o=ms(i/60),n.minutes=o%60,s=ms(o/60),n.hours=s%24,t+=ms(s/24),d=ms(A7(t)),r+=d,t-=Y5(UA(d)),a=ms(r/12),r%=12,n.days=t,n.months=r,n.years=a,this}function A7(e){return e*4800/146097}function UA(e){return e*146097/4800}function Dbe(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=$s(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+A7(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(UA(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Lbe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ir(this._months/12)*31536e6:NaN}function fu(e){return function(){return this.as(e)}}var zbe=fu("ms"),Nbe=fu("s"),jbe=fu("m"),Bbe=fu("h"),Fbe=fu("d"),Ube=fu("w"),Vbe=fu("M"),Wbe=fu("Q"),qbe=fu("y");function Hbe(){return yl(this)}function Gbe(e){return e=$s(e),this.isValid()?this[e+"s"]():NaN}function uh(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ybe=uh("milliseconds"),Kbe=uh("seconds"),Zbe=uh("minutes"),Xbe=uh("hours"),Jbe=uh("days"),Qbe=uh("months"),e1e=uh("years");function t1e(){return ms(this.days()/7)}var Mc=Math.round,qp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function r1e(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function n1e(e,t,r,n){var i=yl(e).abs(),o=Mc(i.as("s")),s=Mc(i.as("m")),a=Mc(i.as("h")),d=Mc(i.as("d")),h=Mc(i.as("M")),g=Mc(i.as("w")),v=Mc(i.as("y")),b=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||s<=1&&["m"]||s<r.m&&["mm",s]||a<=1&&["h"]||a<r.h&&["hh",a]||d<=1&&["d"]||d<r.d&&["dd",d];return r.w!=null&&(b=b||g<=1&&["w"]||g<r.w&&["ww",g]),b=b||h<=1&&["M"]||h<r.M&&["MM",h]||v<=1&&["y"]||["yy",v],b[2]=t,b[3]=+e>0,b[4]=n,r1e.apply(null,b)}function i1e(e){return e===void 0?Mc:typeof e=="function"?(Mc=e,!0):!1}function o1e(e,t){return qp[e]===void 0?!1:t===void 0?qp[e]:(qp[e]=t,e==="s"&&(qp.ss=t-1),!0)}function a1e(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=qp,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},qp,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),o=n1e(this,!r,n,i),r&&(o=i.pastFuture(+this,o)),i.postformat(o)}var sk=Math.abs;function gp(e){return(e>0)-(e<0)||+e}function nE(){if(!this.isValid())return this.localeData().invalidDate();var e=sk(this._milliseconds)/1e3,t=sk(this._days),r=sk(this._months),n,i,o,s,a=this.asSeconds(),d,h,g,v;return a?(n=ms(e/60),i=ms(n/60),e%=60,n%=60,o=ms(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",d=a<0?"-":"",h=gp(this._months)!==gp(a)?"-":"",g=gp(this._days)!==gp(a)?"-":"",v=gp(this._milliseconds)!==gp(a)?"-":"",d+"P"+(o?h+o+"Y":"")+(r?h+r+"M":"")+(t?g+t+"D":"")+(i||n||e?"T":"")+(i?v+i+"H":"")+(n?v+n+"M":"")+(e?v+s+"S":"")):"P0D"}var jr=tE.prototype;jr.isValid=J_e;jr.abs=Obe;jr.add=Ibe;jr.subtract=Rbe;jr.as=Dbe;jr.asMilliseconds=zbe;jr.asSeconds=Nbe;jr.asMinutes=jbe;jr.asHours=Bbe;jr.asDays=Fbe;jr.asWeeks=Ube;jr.asMonths=Vbe;jr.asQuarters=Wbe;jr.asYears=qbe;jr.valueOf=Lbe;jr._bubble=$be;jr.clone=Hbe;jr.get=Gbe;jr.milliseconds=Ybe;jr.seconds=Kbe;jr.minutes=Zbe;jr.hours=Xbe;jr.days=Jbe;jr.weeks=t1e;jr.months=Qbe;jr.years=e1e;jr.humanize=a1e;jr.toISOString=nE;jr.toString=nE;jr.toJSON=nE;jr.locale=y7;jr.localeData=_7;jr.toIsoString=Rs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nE);jr.lang=v7;ir("X",0,0,"unix");ir("x",0,0,"valueOf");Ht("x",X2);Ht("X",P0e);xn("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});xn("x",function(e,t,r){r._d=new Date(Ir(e))});//! moment.js
zt.version="2.29.4";s0e(zn);zt.fn=vt;zt.min=Y_e;zt.max=K_e;zt.now=Z_e;zt.utc=nc;zt.unix=Ebe;zt.months=Tbe;zt.isDate=P_;zt.locale=_f;zt.invalid=H2;zt.duration=yl;zt.isMoment=pl;zt.weekdays=Pbe;zt.parseZone=Cbe;zt.localeData=uu;zt.isDuration=f1;zt.monthsShort=kbe;zt.weekdaysMin=Mbe;zt.defineLocale=i$;zt.updateLocale=C_e;zt.locales=T_e;zt.weekdaysShort=Abe;zt.normalizeUnits=$s;zt.relativeTimeRounding=i1e;zt.relativeTimeThreshold=o1e;zt.calendarFormat=bxe;zt.prototype=vt;zt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const s1e=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},l1e=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},c1e=(e,t)=>e*s1e(t),u1e=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},f1e=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},d1e=(e,t)=>e*u1e(t),h1e=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},p1e=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},m1e=(e,t)=>e*h1e(t),h1=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),M7=e=>e?"sharedYes":"sharedNo",g1e=(e,t=1)=>Number(e.toFixed(t)),O7=e=>`${e}%`,I7=(e,t,r)=>{if(e){const n=zt(e);switch(t){case"date":return n.format("YYYY-MM-DD");case"time":return n.format(r?"hh:mm:ss A":"HH:mm:ss");case"minutes":return n.format(r?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return n.format(r?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},R7=e=>e?h1("alarm",e):"",y1e=e=>{const t=["","","","","","","",""];let r=(e+22.5)%360;return r<0&&(r+=360),t[Math.floor(r/45)]},v1e=(e,t,r)=>`${d1e(e,t).toFixed(2)} ${f1e(t)}`,_1e=(e,t,r)=>`${m1e(e,t).toFixed(2)} ${p1e(t)}`,x1e=(e,t,r)=>`${c1e(e,t).toFixed(2)} ${l1e(t)}`,b1e=(e,t)=>{const r=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return`${r} ${t("sharedHourAbbreviation")} ${n} ${t("sharedMinuteAbbreviation")}`},K5=(e,t,r)=>{let n,i,o,s;switch(e==="latitude"?n=t>=0?"N":"S":n=t>=0?"E":"W",r){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i} ${o.toFixed(6)}' ${n}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i} ${o}' ${s}" ${n}`;default:return`${t.toFixed(6)}`}},$7=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},w1e=({positions:e,onClick:t,showStatus:r,selectedPosition:n,titleField:i})=>{const o=W.useId(),s=`${o}-clusters`,a=`${o}-direction`,d=Dn(C=>C.devices.items),h=1,g=!0,v=!1,b="all",M=(C,R,z)=>{const L=C[R.deviceId];let F;switch(b){case"none":F=!1;break;case"all":F=!0;break;default:F=z===R.id;break}return{id:R.id,deviceId:R.deviceId,name:L.name,fixTime:I7(R.fixTime,"seconds",v),category:G8(L.category),color:r?$7(L.status):"neutral",rotation:R.course,direction:F}},P=()=>lt.getCanvas().style.cursor="pointer",w=()=>lt.getCanvas().style.cursor="",A=W.useCallback(C=>{!C.defaultPrevented&&t&&t()},[t]),O=W.useCallback(C=>{C.preventDefault();const R=C.features[0];t&&t(R.properties.id,R.properties.deviceId)},[t]),I=W.useCallback(C=>{C.preventDefault();const R=lt.queryRenderedFeatures(C.point,{layers:[s]}),z=R[0].properties.cluster_id;lt.getSource(o).getClusterExpansionZoom(z,(L,F)=>{L||lt.easeTo({center:R[0].geometry.coordinates,zoom:F})})},[s]);return W.useEffect(()=>(lt.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:g,clusterMaxZoom:14,clusterRadius:50}),lt.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":h,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*h],"text-font":mf(lt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),lt.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":h,"text-field":"{point_count_abbreviated}","text-font":mf(lt),"text-size":14}}),lt.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":h,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),lt.on("mouseenter",o,P),lt.on("mouseleave",o,w),lt.on("mouseenter",s,P),lt.on("mouseleave",s,w),lt.on("click",o,O),lt.on("click",s,I),lt.on("click",A),()=>{lt.off("mouseenter",o,P),lt.off("mouseleave",o,w),lt.off("mouseenter",s,P),lt.off("mouseleave",s,w),lt.off("click",o,O),lt.off("click",s,I),lt.off("click",A),lt.getLayer(o)&&lt.removeLayer(o),lt.getLayer(s)&&lt.removeLayer(s),lt.getLayer(a)&&lt.removeLayer(a),lt.getSource(o)&&lt.removeSource(o)}),[g,s,a,O,I]),W.useEffect(()=>{lt.getSource(o).setData({type:"FeatureCollection",features:e.filter(C=>d.hasOwnProperty(C.deviceId)).map(C=>({type:"Feature",geometry:{type:"Point",coordinates:[C.longitude,C.latitude]},properties:M(d,C,n&&n.id)}))})},[d,e,n]),null},S1e=()=>{const e=W.useId(),t=`${e}-points`,r=`${e}-points-clusters`,n=Dn(h=>h.mission.route),i=!0,o=.6,s=(h,g)=>({id:g.id,name:h[g.routeid].name,uav:h[g.routeid].uav,latitude:h[g.routeid].wp[g.id].pos[0],longitude:h[g.routeid].wp[g.id].pos[1],altitud:h[g.routeid].wp[g.id].pos[2],yaw:h[g.routeid].wp[g.id].yaw,gimbal:h[g.routeid].wp[g.id].gimbal,actions:h[g.routeid].wp[g.id].action,attributes:h[g.routeid].attributes,category:"default",color:h[g.routeid].id});W.useEffect(()=>(lt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),lt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),lt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),lt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":mf(lt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),lt.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":mf(lt),"text-size":14},paint:{"text-color":"white"}}),lt.addLayer({id:r,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":mf(lt),"text-size":14}}),lt.on("click","mission-points",function(h){console.log("target"),console.log(h);let g=`<h4 style="color: #FF7A59" >UAV: ${h.features[0].properties.uav}</h4>
            <div><span>Route: ${h.features[0].properties.name}</span>
            <span><a href="https://www.google.com/maps?q=${h.features[0].properties.latitude},${h.features[0].properties.longitude}" target="_blank">
            Punto_${h.features[0].properties.id}</a></span></div>
            <div style="display:inline"><span> Height: </span><span>${h.features[0].properties.altitud}m </span></div>`;g=h.features[0].properties.hasOwnProperty("yaw")?g+`<div style="display:inline"><span>Yaw: </span><span>${h.features[0].properties.yaw} </span></div>`:g,g=h.features[0].properties.hasOwnProperty("gimbal")?g+`<div style="display:inline"><span>Gimbal: </span><span>${h.features[0].properties.gimbal} </span></div>`:g;let v="<p> Waypoint actions: </p>";if(h.features[0].properties.actions){let P=JSON.parse(h.features[0].properties.actions);v=v+Object.keys(P).map(w=>{let A=w=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${w}: </span><span>${P[w]} ${A} </span></div>`}).join("")}let b="<p> Atributes_mission: </p>",M=JSON.parse(h.features[0].properties.attributes);b=b+Object.keys(M).map(P=>{let w=P=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${P}: </span><span>${M[P]} ${w} </span></div>`}).join(""),new M2.Popup().setLngLat(h.lngLat).setHTML(g+v+b).addTo(lt)}),()=>{lt.getLayer("mission-line")&&lt.removeLayer("mission-line"),lt.getLayer("mission-title")&&lt.removeLayer("mission-title"),lt.getLayer("mission-points")&&lt.removeLayer("mission-points"),lt.getLayer(r)&&lt.removeLayer(r),lt.getSource(e)&&lt.removeSource(e),lt.getSource(t)&&lt.removeSource(t)}),[]);function a(h){let g=Object.values(h.wp).map(function(v){return[v.pos[1],v.pos[0]]});return{id:h.id,type:"Feature",geometry:{type:"LineString",coordinates:g},properties:{name:h.uav,color:Em[h.id]}}}function d(h){let g=[];return Object.values(h).forEach(v=>{Object.keys(v.wp).forEach(b=>{g.push({longitude:v.wp[b].pos[1],latitude:v.wp[b].pos[0],id:b,routeid:v.id})})}),g}return W.useEffect(()=>{let h=d(n);lt.getSource(t).setData({type:"FeatureCollection",features:h.map(g=>({type:"Feature",geometry:{type:"Point",coordinates:[g.longitude,g.latitude]},properties:s(n,g)}))}),lt.getSource(e).setData({type:"FeatureCollection",features:Object.values(n).map(g=>a(g))})},[n]),null},E1e=e=>{const t=W.useRef();return W.useEffect(()=>{t.current=e}),t.current},C1e=()=>{const e=Dn(o=>o.devices.selectedId),t=E1e(e),r=10,n=!1,i=Dn(o=>o.data.positions[e]);return W.useEffect(()=>{(e!==t||n)&&i&&i.hasOwnProperty("latitude")&&lt.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(lt.getZoom(),r),offset:[0,-300/2]})}),null};var Z5=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function T1e(e,t){return!!(e===t||Z5(e)&&Z5(t))}function k1e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!T1e(e[r],t[r]))return!1;return!0}function lk(e,t){t===void 0&&(t=k1e);var r,n=[],i,o=!1;function s(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return o&&r===this&&t(a,n)||(i=e.apply(this,a),o=!0,r=this,n=a),i}return s}var P1e=typeof performance=="object"&&typeof performance.now=="function",X5=P1e?function(){return performance.now()}:function(){return Date.now()};function J5(e){cancelAnimationFrame(e.id)}function A1e(e,t){var r=X5();function n(){X5()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var ck=-1;function Q5(e){if(e===void 0&&(e=!1),ck===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),ck=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ck}var yp=null;function ej(e){if(e===void 0&&(e=!1),yp===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?yp="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?yp="negative":yp="positive-ascending"),document.body.removeChild(t),yp}return yp}var M1e=150,O1e=function(t,r){return t};function I1e(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,d=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(v){__(b,v);function b(P){var w;return w=v.call(this,P)||this,w._instanceProps=d(w.props,y0(w)),w._outerRef=void 0,w._resetIsScrollingTimeoutId=null,w.state={instance:y0(w),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof w.props.initialScrollOffset=="number"?w.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},w._callOnItemsRendered=void 0,w._callOnItemsRendered=lk(function(A,O,I,C){return w.props.onItemsRendered({overscanStartIndex:A,overscanStopIndex:O,visibleStartIndex:I,visibleStopIndex:C})}),w._callOnScroll=void 0,w._callOnScroll=lk(function(A,O,I){return w.props.onScroll({scrollDirection:A,scrollOffset:O,scrollUpdateWasRequested:I})}),w._getItemStyle=void 0,w._getItemStyle=function(A){var O=w.props,I=O.direction,C=O.itemSize,R=O.layout,z=w._getItemStyleCache(h&&C,h&&R,h&&I),L;if(z.hasOwnProperty(A))L=z[A];else{var F=r(w.props,A,w._instanceProps),H=i(w.props,A,w._instanceProps),re=I==="horizontal"||R==="horizontal",te=I==="rtl",ae=re?F:0;z[A]=L={position:"absolute",left:te?void 0:ae,right:te?ae:void 0,top:re?0:F,height:re?"100%":H,width:re?H:"100%"}}return L},w._getItemStyleCache=void 0,w._getItemStyleCache=lk(function(A,O,I){return{}}),w._onScrollHorizontal=function(A){var O=A.currentTarget,I=O.clientWidth,C=O.scrollLeft,R=O.scrollWidth;w.setState(function(z){if(z.scrollOffset===C)return null;var L=w.props.direction,F=C;if(L==="rtl")switch(ej()){case"negative":F=-C;break;case"positive-descending":F=R-I-C;break}return F=Math.max(0,Math.min(F,R-I)),{isScrolling:!0,scrollDirection:z.scrollOffset<C?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._onScrollVertical=function(A){var O=A.currentTarget,I=O.clientHeight,C=O.scrollHeight,R=O.scrollTop;w.setState(function(z){if(z.scrollOffset===R)return null;var L=Math.max(0,Math.min(R,C-I));return{isScrolling:!0,scrollDirection:z.scrollOffset<L?"forward":"backward",scrollOffset:L,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._outerRefSetter=function(A){var O=w.props.outerRef;w._outerRef=A,typeof O=="function"?O(A):O!=null&&typeof O=="object"&&O.hasOwnProperty("current")&&(O.current=A)},w._resetIsScrollingDebounced=function(){w._resetIsScrollingTimeoutId!==null&&J5(w._resetIsScrollingTimeoutId),w._resetIsScrollingTimeoutId=A1e(w._resetIsScrolling,M1e)},w._resetIsScrolling=function(){w._resetIsScrollingTimeoutId=null,w.setState({isScrolling:!1},function(){w._getItemStyleCache(-1,null)})},w}b.getDerivedStateFromProps=function(w,A){return R1e(w,A),g(w),null};var M=b.prototype;return M.scrollTo=function(w){w=Math.max(0,w),this.setState(function(A){return A.scrollOffset===w?null:{scrollDirection:A.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},M.scrollToItem=function(w,A){A===void 0&&(A="auto");var O=this.props,I=O.itemCount,C=O.layout,R=this.state.scrollOffset;w=Math.max(0,Math.min(w,I-1));var z=0;if(this._outerRef){var L=this._outerRef;C==="vertical"?z=L.scrollWidth>L.clientWidth?Q5():0:z=L.scrollHeight>L.clientHeight?Q5():0}this.scrollTo(o(this.props,w,A,R,this._instanceProps,z))},M.componentDidMount=function(){var w=this.props,A=w.direction,O=w.initialScrollOffset,I=w.layout;if(typeof O=="number"&&this._outerRef!=null){var C=this._outerRef;A==="horizontal"||I==="horizontal"?C.scrollLeft=O:C.scrollTop=O}this._callPropsCallbacks()},M.componentDidUpdate=function(){var w=this.props,A=w.direction,O=w.layout,I=this.state,C=I.scrollOffset,R=I.scrollUpdateWasRequested;if(R&&this._outerRef!=null){var z=this._outerRef;if(A==="horizontal"||O==="horizontal")if(A==="rtl")switch(ej()){case"negative":z.scrollLeft=-C;break;case"positive-ascending":z.scrollLeft=C;break;default:var L=z.clientWidth,F=z.scrollWidth;z.scrollLeft=F-L-C;break}else z.scrollLeft=C;else z.scrollTop=C}this._callPropsCallbacks()},M.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&J5(this._resetIsScrollingTimeoutId)},M.render=function(){var w=this.props,A=w.children,O=w.className,I=w.direction,C=w.height,R=w.innerRef,z=w.innerElementType,L=w.innerTagName,F=w.itemCount,H=w.itemData,re=w.itemKey,te=re===void 0?O1e:re,ae=w.layout,de=w.outerElementType,pe=w.outerTagName,Se=w.style,_e=w.useIsScrolling,Me=w.width,Ae=this.state.isScrolling,Ee=I==="horizontal"||ae==="horizontal",Ie=Ee?this._onScrollHorizontal:this._onScrollVertical,He=this._getRangeToRender(),tt=He[0],Te=He[1],Ne=[];if(F>0)for(var De=tt;De<=Te;De++)Ne.push(W.createElement(A,{data:H,key:te(De,H),index:De,isScrolling:_e?Ae:void 0,style:this._getItemStyle(De)}));var Ye=n(this.props,this._instanceProps);return W.createElement(de||pe||"div",{className:O,onScroll:Ie,ref:this._outerRefSetter,style:yn({position:"relative",height:C,width:Me,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:I},Se)},W.createElement(z||L||"div",{children:Ne,ref:R,style:{height:Ee?"100%":Ye,pointerEvents:Ae?"none":void 0,width:Ee?Ye:"100%"}}))},M._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var w=this.props.itemCount;if(w>0){var A=this._getRangeToRender(),O=A[0],I=A[1],C=A[2],R=A[3];this._callOnItemsRendered(O,I,C,R)}}if(typeof this.props.onScroll=="function"){var z=this.state,L=z.scrollDirection,F=z.scrollOffset,H=z.scrollUpdateWasRequested;this._callOnScroll(L,F,H)}},M._getRangeToRender=function(){var w=this.props,A=w.itemCount,O=w.overscanCount,I=this.state,C=I.isScrolling,R=I.scrollDirection,z=I.scrollOffset;if(A===0)return[0,0,0,0];var L=s(this.props,z,this._instanceProps),F=a(this.props,L,z,this._instanceProps),H=!C||R==="backward"?Math.max(1,O):1,re=!C||R==="forward"?Math.max(1,O):1;return[Math.max(0,L-H),Math.max(0,Math.min(A-1,F+re)),L,F]},b}(W.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var R1e=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},$1e=I1e({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,i,o,s){var a=t.direction,d=t.height,h=t.itemCount,g=t.itemSize,v=t.layout,b=t.width,M=a==="horizontal"||v==="horizontal",P=M?b:d,w=Math.max(0,h*g-P),A=Math.min(w,r*g),O=Math.max(0,r*g-P+g+s);switch(n==="smart"&&(i>=O-P&&i<=A+P?n="auto":n="center"),n){case"start":return A;case"end":return O;case"center":{var I=Math.round(O+(A-O)/2);return I<Math.ceil(P/2)?0:I>w+Math.floor(P/2)?w:I}case"auto":default:return i>=O&&i<=A?i:i<O?O:A}},getStartIndexForOffset:function(t,r){var n=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(t,r,n){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,d=t.layout,h=t.width,g=i==="horizontal"||d==="horizontal",v=r*a,b=g?h:o,M=Math.ceil((b+n-v)/a);return Math.max(0,Math.min(s-1,r+M-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let ws;typeof window<"u"?ws=window:typeof self<"u"?ws=self:ws=global;let VA=null,WA=null;const tj=20,uk=ws.clearTimeout,rj=ws.setTimeout,fk=ws.cancelAnimationFrame||ws.mozCancelAnimationFrame||ws.webkitCancelAnimationFrame,nj=ws.requestAnimationFrame||ws.mozRequestAnimationFrame||ws.webkitRequestAnimationFrame;fk==null||nj==null?(VA=uk,WA=function(t){return rj(t,tj)}):(VA=function([t,r]){fk(t),uk(r)},WA=function(t){const r=nj(function(){uk(n),t()}),n=rj(function(){fk(r),t()},tj);return[r,n]});function D1e(e){let t,r,n,i,o,s,a;const d=typeof document<"u"&&document.attachEvent;if(!d){s=function(O){const I=O.__resizeTriggers__,C=I.firstElementChild,R=I.lastElementChild,z=C.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,z.style.width=C.offsetWidth+1+"px",z.style.height=C.offsetHeight+1+"px",C.scrollLeft=C.scrollWidth,C.scrollTop=C.scrollHeight},o=function(O){return O.offsetWidth!==O.__resizeLast__.width||O.offsetHeight!==O.__resizeLast__.height},a=function(O){if(O.target.className&&typeof O.target.className.indexOf=="function"&&O.target.className.indexOf("contract-trigger")<0&&O.target.className.indexOf("expand-trigger")<0)return;const I=this;s(this),this.__resizeRAF__&&VA(this.__resizeRAF__),this.__resizeRAF__=WA(function(){o(I)&&(I.__resizeLast__.width=I.offsetWidth,I.__resizeLast__.height=I.offsetHeight,I.__resizeListeners__.forEach(function(z){z.call(I,O)}))})};let b=!1,M="";n="animationstart";const P="Webkit Moz O ms".split(" ");let w="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),A="";{const O=document.createElement("fakeelement");if(O.style.animationName!==void 0&&(b=!0),b===!1){for(let I=0;I<P.length;I++)if(O.style[P[I]+"AnimationName"]!==void 0){A=P[I],M="-"+A.toLowerCase()+"-",n=w[I],b=!0;break}}}r="resizeanim",t="@"+M+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",i=M+"animation: 1ms "+r+"; "}const h=function(b){if(!b.getElementById("detectElementResize")){const M=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',P=b.head||b.getElementsByTagName("head")[0],w=b.createElement("style");w.id="detectElementResize",w.type="text/css",e!=null&&w.setAttribute("nonce",e),w.styleSheet?w.styleSheet.cssText=M:w.appendChild(b.createTextNode(M)),P.appendChild(w)}};return{addResizeListener:function(b,M){if(d)b.attachEvent("onresize",M);else{if(!b.__resizeTriggers__){const P=b.ownerDocument,w=ws.getComputedStyle(b);w&&w.position==="static"&&(b.style.position="relative"),h(P),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=P.createElement("div")).className="resize-triggers";const A=P.createElement("div");A.className="expand-trigger",A.appendChild(P.createElement("div"));const O=P.createElement("div");O.className="contract-trigger",b.__resizeTriggers__.appendChild(A),b.__resizeTriggers__.appendChild(O),b.appendChild(b.__resizeTriggers__),s(b),b.addEventListener("scroll",a,!0),n&&(b.__resizeTriggers__.__animationListener__=function(C){C.animationName===r&&s(b)},b.__resizeTriggers__.addEventListener(n,b.__resizeTriggers__.__animationListener__))}b.__resizeListeners__.push(M)}},removeResizeListener:function(b,M){if(d)b.detachEvent("onresize",M);else if(b.__resizeListeners__.splice(b.__resizeListeners__.indexOf(M),1),!b.__resizeListeners__.length){b.removeEventListener("scroll",a,!0),b.__resizeTriggers__.__animationListener__&&(b.__resizeTriggers__.removeEventListener(n,b.__resizeTriggers__.__animationListener__),b.__resizeTriggers__.__animationListener__=null);try{b.__resizeTriggers__=!b.removeChild(b.__resizeTriggers__)}catch{}}}}}class L1e extends W.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:n,onResize:i}=this.props;if(this._parentNode){var o,s,a,d;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),v=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),b=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),M=parseFloat((d=h.paddingBottom)!==null&&d!==void 0?d:"0"),P=this._parentNode.getBoundingClientRect(),w=P.height-b-M,A=P.width-g-v,O=this._parentNode.offsetHeight-b-M,I=this._parentNode.offsetWidth-g-v;(!r&&(this.state.height!==O||this.state.scaledHeight!==w)||!n&&(this.state.width!==I||this.state.scaledWidth!==A))&&(this.setState({height:O,width:I,scaledHeight:w,scaledWidth:A}),typeof i=="function"&&i({height:O,scaledHeight:w,scaledWidth:A,width:I}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=D1e(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:r,defaultWidth:n,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:d={},tagName:h="div",...g}=this.props,{height:v,scaledHeight:b,scaledWidth:M,width:P}=this.state,w={overflow:"visible"},A={};let O=!1;return i||(v===0&&(O=!0),w.height=0,A.height=v,A.scaledHeight=b),o||(P===0&&(O=!0),w.width=0,A.width=P,A.scaledWidth=M),W.createElement(h,{ref:this._setRef,style:{...w,...d},...g},!O&&t(A))}}var h$={},z1e=nn;Object.defineProperty(h$,"__esModule",{value:!0});var D7=h$.default=void 0,N1e=z1e(on()),j1e=U,B1e=(0,N1e.default)((0,j1e.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");D7=h$.default=B1e;var p$={},F1e=nn;Object.defineProperty(p$,"__esModule",{value:!0});var L7=p$.default=void 0,U1e=F1e(on()),V1e=U,W1e=(0,U1e.default)((0,V1e.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");L7=p$.default=W1e;var m$={},q1e=nn;Object.defineProperty(m$,"__esModule",{value:!0});var z7=m$.default=void 0,H1e=Y1e(W),G1e=q1e(on()),dk=U;function N7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(N7=function(n){return n?r:t})(e)}function Y1e(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=N7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var K1e=(0,G1e.default)((0,dk.jsxs)(H1e.Fragment,{children:[(0,dk.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,dk.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");z7=m$.default=K1e;var g$={},Z1e=nn;Object.defineProperty(g$,"__esModule",{value:!0});var j7=g$.default=void 0,X1e=Q1e(W),J1e=Z1e(on()),hk=U;function B7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(B7=function(n){return n?r:t})(e)}function Q1e(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=B7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var ewe=(0,J1e.default)((0,hk.jsxs)(X1e.Fragment,{children:[(0,hk.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,hk.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");j7=g$.default=ewe;var y$={},twe=nn;Object.defineProperty(y$,"__esModule",{value:!0});var F7=y$.default=void 0,rwe=iwe(W),nwe=twe(on()),pk=U;function U7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(U7=function(n){return n?r:t})(e)}function iwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=U7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var owe=(0,nwe.default)((0,pk.jsxs)(rwe.Fragment,{children:[(0,pk.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,pk.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");F7=y$.default=owe;var v$={},awe=nn;Object.defineProperty(v$,"__esModule",{value:!0});var V7=v$.default=void 0,swe=cwe(W),lwe=awe(on()),mk=U;function W7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(W7=function(n){return n?r:t})(e)}function cwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=W7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var uwe=(0,lwe.default)((0,mk.jsxs)(swe.Fragment,{children:[(0,mk.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,mk.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");V7=v$.default=uwe;var _$={},fwe=nn;Object.defineProperty(_$,"__esModule",{value:!0});var q7=_$.default=void 0,dwe=fwe(on()),hwe=U,pwe=(0,dwe.default)((0,hwe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");q7=_$.default=pwe;const ij=e=>W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e},W.createElement("title",null,"Engine"),W.createElement("path",{fill:"currentColor",d:"M13.778 6.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778 13.333c-0.3 0-0.579 0.121-0.79 0.321l-1.888 1.901h-2.878c-0.611 0-1.111 0.5-1.111 1.111v6.667c0 0.611 0.5 1.111 1.111 1.111h1.888l3.056 2.033c0.178 0.122 0.39 0.189 0.612 0.189h5.556c0.244 0 0.477-0.077 0.666-0.221l4.444-3.333c0.278-0.211 0.445-0.545 0.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111 14.444v6.667h2.222v-6.667h-2.222zM17.111 15.556v3.333h2.222l-3.333 5.556v-3.333h-2.222l3.333-5.556zM2.667 16.667v5.556h2.222v-5.556h-2.222z"})),mwe=ho(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),gwe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},gk={color:nl[500]},oj={color:kI[700]},yk={color:Ic[500]},ywe={color:Hl[500]},vwe=({data:e,index:t,style:r})=>{const n=mwe(),i=rc(),o=e[t],s=Dn(h=>h.data.positions[o.id]),a=o.name,d=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=zt(o.lastUpdate).fromNow(),U.jsxs(U.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&U.jsxs("div",{style:{fontSize:12},children:[" ",s.attributes.landed_state]}),U.jsx("div",{style:{fontSize:12},className:n[$7(o.status)],children:h})]})};return U.jsx("div",{style:r,children:U.jsxs(Xfe,{onClick:()=>i(Dc.selectId(o.id)),disabled:o.disabled,children:[U.jsx(nde,{children:U.jsx(ace,{children:U.jsx("img",{style:gwe,src:Y1[G8(o.category)],alt:""})})}),U.jsx(fde,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:d(),secondaryTypographyProps:{noWrap:!0}}),s&&U.jsxs(U.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&U.jsx(Ep,{title:`positionIgnition: ${M7(s.attributes.ignition)}`,children:U.jsx(cn,{size:"small",children:s.attributes.ignition?U.jsx(ij,{width:20,height:20,style:gk}):U.jsx(ij,{width:20,height:20,style:ywe})})}),s.hasOwnProperty("speed")&&U.jsx(Ep,{title:`speed: ${s.speed}`,children:U.jsx(cn,{size:"small",children:U.jsxs("div",{style:{fontSize:"0.9rem"},children:[" ","V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&U.jsx(Ep,{title:`altitude: ${Math.round(s.altitude)}`,children:U.jsx(cn,{size:"small",children:U.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&U.jsx(Ep,{title:`BatteryLevel: ${O7(s.attributes.batteryLevel)}`,children:U.jsx(cn,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?U.jsx(L7,{fontSize:"small",style:gk}):U.jsx(D7,{fontSize:"small",style:gk}):s.attributes.batteryLevel>30?s.attributes.charge?U.jsx(j7,{fontSize:"small",style:oj}):U.jsx(z7,{fontSize:"small",style:oj}):s.attributes.charge?U.jsx(V7,{fontSize:"small",style:yk}):U.jsx(F7,{fontSize:"small",style:yk})})}),s.attributes.hasOwnProperty("alarm")&&U.jsx(Ep,{title:`eventAlarm: ${R7(s.attributes.alarm)}`,children:U.jsx(cn,{size:"small",children:U.jsx(q7,{fontSize:"small",style:yk})})})]})]},o.id)})},_we=ho(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),xwe=({devices:e})=>{const t=_we();rc();const r=W.useRef(null);r.current&&(r.current.className=t.listInner);const[,n]=W.useState(Date.now());return W.useEffect(()=>{const i=setInterval(()=>n(Date.now()),6e4);return()=>{clearInterval(i)}},[]),U.jsx(L1e,{className:t.list,children:({height:i,width:o})=>U.jsx($1e,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:r,children:vwe})})};var x$={exports:{}},H7={};function G7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=G7(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function aj(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=G7(e))&&(n&&(n+=" "),n+=t);return n}const bwe=Object.freeze(Object.defineProperty({__proto__:null,clsx:aj,default:aj},Symbol.toStringTag,{value:"Module"})),wwe=UF(bwe);var pi={},oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.dontSetMe=kwe;oc.findInArray=Swe;oc.int=Twe;oc.isFunction=Ewe;oc.isNum=Cwe;function Swe(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Ewe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Cwe(e){return typeof e=="number"&&!isNaN(e)}function Twe(e){return parseInt(e,10)}function kwe(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.browserPrefixToKey=K7;fh.browserPrefixToStyle=Pwe;fh.default=void 0;fh.getPrefix=Y7;var vk=["Moz","Webkit","O","ms"];function Y7(){var e,t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var n=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!n||r in n)return"";for(var i=0;i<vk.length;i++)if(K7(r,vk[i])in n)return vk[i];return""}function K7(e,t){return t?"".concat(t).concat(Awe(e)):e}function Pwe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Awe(e){for(var t="",r=!0,n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}var Mwe=Y7();fh.default=Mwe;function qA(e){"@babel/helpers - typeof";return qA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qA(e)}Object.defineProperty(pi,"__esModule",{value:!0});pi.addClassName=eq;pi.addEvent=Rwe;pi.addUserSelectStyles=Wwe;pi.createCSSTransform=Bwe;pi.createSVGTransform=Fwe;pi.getTouch=Uwe;pi.getTouchIdentifier=Vwe;pi.getTranslation=b$;pi.innerHeight=zwe;pi.innerWidth=Nwe;pi.matchesSelector=Q7;pi.matchesSelectorAndParentsTo=Iwe;pi.offsetXYFromParent=jwe;pi.outerHeight=Dwe;pi.outerWidth=Lwe;pi.removeClassName=tq;pi.removeEvent=$we;pi.removeUserSelectStyles=qwe;var Ha=oc,sj=Owe(fh);function Z7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Z7=function(i){return i?r:t})(e)}function Owe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||qA(e)!=="object"&&typeof e!="function")return{default:e};var r=Z7(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pb="";function Q7(e,t){return Pb||(Pb=(0,Ha.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Ha.isFunction)(e[r])})),(0,Ha.isFunction)(e[Pb])?e[Pb](t):!1}function Iwe(e,t,r){var n=e;do{if(Q7(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function Rwe(e,t,r,n){if(e){var i=X7({capture:!0},n);e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function $we(e,t,r,n){if(e){var i=X7({capture:!0},n);e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function Dwe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ha.int)(r.borderTopWidth),t+=(0,Ha.int)(r.borderBottomWidth),t}function Lwe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ha.int)(r.borderLeftWidth),t+=(0,Ha.int)(r.borderRightWidth),t}function zwe(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ha.int)(r.paddingTop),t-=(0,Ha.int)(r.paddingBottom),t}function Nwe(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ha.int)(r.paddingLeft),t-=(0,Ha.int)(r.paddingRight),t}function jwe(e,t,r){var n=t===t.ownerDocument.body,i=n?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/r,s=(e.clientY+t.scrollTop-i.top)/r;return{x:o,y:s}}function Bwe(e,t){var r=b$(e,t,"px");return J7({},(0,sj.browserPrefixToKey)("transform",sj.default),r)}function Fwe(e,t){var r=b$(e,t,"");return r}function b$(e,t,r){var n=e.x,i=e.y,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){var s="".concat(typeof t.x=="string"?t.x:t.x+r),a="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Uwe(e,t){return e.targetTouches&&(0,Ha.findInArray)(e.targetTouches,function(r){return t===r.identifier})||e.changedTouches&&(0,Ha.findInArray)(e.changedTouches,function(r){return t===r.identifier})}function Vwe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Wwe(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&eq(e.body,"react-draggable-transparent-selection")}}function qwe(e){if(e)try{if(e.body&&tq(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function eq(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function tq(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.canDragX=Ywe;ac.canDragY=Kwe;ac.createCoreData=Xwe;ac.createDraggableData=Jwe;ac.getBoundPosition=Hwe;ac.getControlPosition=Zwe;ac.snapToGrid=Gwe;var Da=oc,Hp=pi;function Hwe(e,t,r){if(!e.props.bounds)return[t,r];var n=e.props.bounds;n=typeof n=="string"?n:Qwe(n);var i=w$(e);if(typeof n=="string"){var o=i.ownerDocument,s=o.defaultView,a;if(n==="parent"?a=i.parentNode:a=o.querySelector(n),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var d=a,h=s.getComputedStyle(i),g=s.getComputedStyle(d);n={left:-i.offsetLeft+(0,Da.int)(g.paddingLeft)+(0,Da.int)(h.marginLeft),top:-i.offsetTop+(0,Da.int)(g.paddingTop)+(0,Da.int)(h.marginTop),right:(0,Hp.innerWidth)(d)-(0,Hp.outerWidth)(i)-i.offsetLeft+(0,Da.int)(g.paddingRight)-(0,Da.int)(h.marginRight),bottom:(0,Hp.innerHeight)(d)-(0,Hp.outerHeight)(i)-i.offsetTop+(0,Da.int)(g.paddingBottom)-(0,Da.int)(h.marginBottom)}}return(0,Da.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,Da.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,Da.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,Da.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function Gwe(e,t,r){var n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function Ywe(e){return e.props.axis==="both"||e.props.axis==="x"}function Kwe(e){return e.props.axis==="both"||e.props.axis==="y"}function Zwe(e,t,r){var n=typeof t=="number"?(0,Hp.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;var i=w$(r),o=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Hp.offsetXYFromParent)(n||e,o,r.props.scale)}function Xwe(e,t,r){var n=e.state,i=!(0,Da.isNum)(n.lastX),o=w$(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:r}}function Jwe(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function Qwe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function w$(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var iE={},oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.default=eSe;function eSe(){}function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}Object.defineProperty(iE,"__esModule",{value:!0});iE.default=void 0;var _k=rSe(W),$a=S$(AI),tSe=S$(lu),To=pi,zu=ac,xk=oc,Zy=S$(oE);function S$(e){return e&&e.__esModule?e:{default:e}}function rq(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(rq=function(i){return i?r:t})(e)}function rSe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||pw(e)!=="object"&&typeof e!="function")return{default:e};var r=rq(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function cj(e,t){return aSe(e)||oSe(e,t)||iSe(e,t)||nSe()}function nSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iSe(e,t){if(e){if(typeof e=="string")return uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uj(e,t)}}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(d){o=!0,a=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function aSe(e){if(Array.isArray(e))return e}function sSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lSe(e,t,r){return t&&fj(e.prototype,t),r&&fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},HA(e,t)}function uSe(e){var t=dSe();return function(){var n=mw(e),i;if(t){var o=mw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return fSe(this,i)}}function fSe(e,t){if(t&&(pw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function us(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Nu=Zs.mouse,aE=function(e){cSe(r,e);var t=uSe(r);function r(){var n;sSe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),us(Po(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),us(Po(n),"mounted",!1),us(Po(n),"handleDragStart",function(a){if(n.props.onMouseDown(a),!n.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var d=n.findDOMNode();if(!d||!d.ownerDocument||!d.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var h=d.ownerDocument;if(!(n.props.disabled||!(a.target instanceof h.defaultView.Node)||n.props.handle&&!(0,To.matchesSelectorAndParentsTo)(a.target,n.props.handle,d)||n.props.cancel&&(0,To.matchesSelectorAndParentsTo)(a.target,n.props.cancel,d))){a.type==="touchstart"&&a.preventDefault();var g=(0,To.getTouchIdentifier)(a);n.setState({touchIdentifier:g});var v=(0,zu.getControlPosition)(a,g,Po(n));if(v!=null){var b=v.x,M=v.y,P=(0,zu.createCoreData)(Po(n),b,M);(0,Zy.default)("DraggableCore: handleDragStart: %j",P),(0,Zy.default)("calling",n.props.onStart);var w=n.props.onStart(a,P);w===!1||n.mounted===!1||(n.props.enableUserSelectHack&&(0,To.addUserSelectStyles)(h),n.setState({dragging:!0,lastX:b,lastY:M}),(0,To.addEvent)(h,Nu.move,n.handleDrag),(0,To.addEvent)(h,Nu.stop,n.handleDragStop))}}}),us(Po(n),"handleDrag",function(a){var d=(0,zu.getControlPosition)(a,n.state.touchIdentifier,Po(n));if(d!=null){var h=d.x,g=d.y;if(Array.isArray(n.props.grid)){var v=h-n.state.lastX,b=g-n.state.lastY,M=(0,zu.snapToGrid)(n.props.grid,v,b),P=cj(M,2);if(v=P[0],b=P[1],!v&&!b)return;h=n.state.lastX+v,g=n.state.lastY+b}var w=(0,zu.createCoreData)(Po(n),h,g);(0,Zy.default)("DraggableCore: handleDrag: %j",w);var A=n.props.onDrag(a,w);if(A===!1||n.mounted===!1){try{n.handleDragStop(new MouseEvent("mouseup"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(O)}return}n.setState({lastX:h,lastY:g})}}),us(Po(n),"handleDragStop",function(a){if(n.state.dragging){var d=(0,zu.getControlPosition)(a,n.state.touchIdentifier,Po(n));if(d!=null){var h=d.x,g=d.y;if(Array.isArray(n.props.grid)){var v=h-n.state.lastX||0,b=g-n.state.lastY||0,M=(0,zu.snapToGrid)(n.props.grid,v,b),P=cj(M,2);v=P[0],b=P[1],h=n.state.lastX+v,g=n.state.lastY+b}var w=(0,zu.createCoreData)(Po(n),h,g),A=n.props.onStop(a,w);if(A===!1||n.mounted===!1)return!1;var O=n.findDOMNode();O&&n.props.enableUserSelectHack&&(0,To.removeUserSelectStyles)(O.ownerDocument),(0,Zy.default)("DraggableCore: handleDragStop: %j",w),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),O&&((0,Zy.default)("DraggableCore: Removing handlers"),(0,To.removeEvent)(O.ownerDocument,Nu.move,n.handleDrag),(0,To.removeEvent)(O.ownerDocument,Nu.stop,n.handleDragStop))}}}),us(Po(n),"onMouseDown",function(a){return Nu=Zs.mouse,n.handleDragStart(a)}),us(Po(n),"onMouseUp",function(a){return Nu=Zs.mouse,n.handleDragStop(a)}),us(Po(n),"onTouchStart",function(a){return Nu=Zs.touch,n.handleDragStart(a)}),us(Po(n),"onTouchEnd",function(a){return Nu=Zs.touch,n.handleDragStop(a)}),n}return lSe(r,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,To.addEvent)(i,Zs.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var o=i.ownerDocument;(0,To.removeEvent)(o,Zs.mouse.move,this.handleDrag),(0,To.removeEvent)(o,Zs.touch.move,this.handleDrag),(0,To.removeEvent)(o,Zs.mouse.stop,this.handleDragStop),(0,To.removeEvent)(o,Zs.touch.stop,this.handleDragStop),(0,To.removeEvent)(i,Zs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,To.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var i,o,s;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(o=this.props)===null||o===void 0||(s=o.nodeRef)===null||s===void 0?void 0:s.current:tSe.default.findDOMNode(this)}},{key:"render",value:function(){return _k.cloneElement(_k.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(_k.Component);iE.default=aE;us(aE,"displayName","DraggableCore");us(aE,"propTypes",{allowAnyClick:$a.default.bool,disabled:$a.default.bool,enableUserSelectHack:$a.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:$a.default.arrayOf($a.default.number),handle:$a.default.string,cancel:$a.default.string,nodeRef:$a.default.object,onStart:$a.default.func,onDrag:$a.default.func,onStop:$a.default.func,onMouseDown:$a.default.func,scale:$a.default.number,className:xk.dontSetMe,style:xk.dontSetMe,transform:xk.dontSetMe});us(aE,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(Te){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},t(Te)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var r=P(W),n=b(AI),i=b(lu),o=b(wwe),s=pi,a=ac,d=oc,h=b(iE),g=b(oE),v=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function b(Te){return Te&&Te.__esModule?Te:{default:Te}}function M(Te){if(typeof WeakMap!="function")return null;var Ne=new WeakMap,De=new WeakMap;return(M=function(je){return je?De:Ne})(Te)}function P(Te,Ne){if(!Ne&&Te&&Te.__esModule)return Te;if(Te===null||t(Te)!=="object"&&typeof Te!="function")return{default:Te};var De=M(Ne);if(De&&De.has(Te))return De.get(Te);var Ye={},je=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in Te)if(st!=="default"&&Object.prototype.hasOwnProperty.call(Te,st)){var nt=je?Object.getOwnPropertyDescriptor(Te,st):null;nt&&(nt.get||nt.set)?Object.defineProperty(Ye,st,nt):Ye[st]=Te[st]}return Ye.default=Te,De&&De.set(Te,Ye),Ye}function w(){return w=Object.assign||function(Te){for(var Ne=1;Ne<arguments.length;Ne++){var De=arguments[Ne];for(var Ye in De)Object.prototype.hasOwnProperty.call(De,Ye)&&(Te[Ye]=De[Ye])}return Te},w.apply(this,arguments)}function A(Te,Ne){if(Te==null)return{};var De=O(Te,Ne),Ye,je;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Te);for(je=0;je<st.length;je++)Ye=st[je],!(Ne.indexOf(Ye)>=0)&&Object.prototype.propertyIsEnumerable.call(Te,Ye)&&(De[Ye]=Te[Ye])}return De}function O(Te,Ne){if(Te==null)return{};var De={},Ye=Object.keys(Te),je,st;for(st=0;st<Ye.length;st++)je=Ye[st],!(Ne.indexOf(je)>=0)&&(De[je]=Te[je]);return De}function I(Te,Ne){var De=Object.keys(Te);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(Te);Ne&&(Ye=Ye.filter(function(je){return Object.getOwnPropertyDescriptor(Te,je).enumerable})),De.push.apply(De,Ye)}return De}function C(Te){for(var Ne=1;Ne<arguments.length;Ne++){var De=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?I(Object(De),!0).forEach(function(Ye){He(Te,Ye,De[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(De)):I(Object(De)).forEach(function(Ye){Object.defineProperty(Te,Ye,Object.getOwnPropertyDescriptor(De,Ye))})}return Te}function R(Te,Ne){return re(Te)||H(Te,Ne)||L(Te,Ne)||z()}function z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(Te,Ne){if(Te){if(typeof Te=="string")return F(Te,Ne);var De=Object.prototype.toString.call(Te).slice(8,-1);if(De==="Object"&&Te.constructor&&(De=Te.constructor.name),De==="Map"||De==="Set")return Array.from(Te);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return F(Te,Ne)}}function F(Te,Ne){(Ne==null||Ne>Te.length)&&(Ne=Te.length);for(var De=0,Ye=new Array(Ne);De<Ne;De++)Ye[De]=Te[De];return Ye}function H(Te,Ne){var De=Te==null?null:typeof Symbol<"u"&&Te[Symbol.iterator]||Te["@@iterator"];if(De!=null){var Ye=[],je=!0,st=!1,nt,Ue;try{for(De=De.call(Te);!(je=(nt=De.next()).done)&&(Ye.push(nt.value),!(Ne&&Ye.length===Ne));je=!0);}catch(Xe){st=!0,Ue=Xe}finally{try{!je&&De.return!=null&&De.return()}finally{if(st)throw Ue}}return Ye}}function re(Te){if(Array.isArray(Te))return Te}function te(Te,Ne){if(!(Te instanceof Ne))throw new TypeError("Cannot call a class as a function")}function ae(Te,Ne){for(var De=0;De<Ne.length;De++){var Ye=Ne[De];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Te,Ye.key,Ye)}}function de(Te,Ne,De){return Ne&&ae(Te.prototype,Ne),De&&ae(Te,De),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function pe(Te,Ne){if(typeof Ne!="function"&&Ne!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Ne&&Se(Te,Ne)}function Se(Te,Ne){return Se=Object.setPrototypeOf||function(Ye,je){return Ye.__proto__=je,Ye},Se(Te,Ne)}function _e(Te){var Ne=Ee();return function(){var Ye=Ie(Te),je;if(Ne){var st=Ie(this).constructor;je=Reflect.construct(Ye,arguments,st)}else je=Ye.apply(this,arguments);return Me(this,je)}}function Me(Te,Ne){if(Ne&&(t(Ne)==="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ae(Te)}function Ae(Te){if(Te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te}function Ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ie(Te){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(De){return De.__proto__||Object.getPrototypeOf(De)},Ie(Te)}function He(Te,Ne,De){return Ne in Te?Object.defineProperty(Te,Ne,{value:De,enumerable:!0,configurable:!0,writable:!0}):Te[Ne]=De,Te}var tt=function(Te){pe(De,Te);var Ne=_e(De);function De(Ye){var je;return te(this,De),je=Ne.call(this,Ye),He(Ae(je),"onDragStart",function(st,nt){(0,g.default)("Draggable: onDragStart: %j",nt);var Ue=je.props.onStart(st,(0,a.createDraggableData)(Ae(je),nt));if(Ue===!1)return!1;je.setState({dragging:!0,dragged:!0})}),He(Ae(je),"onDrag",function(st,nt){if(!je.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",nt);var Ue=(0,a.createDraggableData)(Ae(je),nt),Xe={x:Ue.x,y:Ue.y};if(je.props.bounds){var ct=Xe.x,Be=Xe.y;Xe.x+=je.state.slackX,Xe.y+=je.state.slackY;var Pe=(0,a.getBoundPosition)(Ae(je),Xe.x,Xe.y),St=R(Pe,2),Zt=St[0],Ot=St[1];Xe.x=Zt,Xe.y=Ot,Xe.slackX=je.state.slackX+(ct-Xe.x),Xe.slackY=je.state.slackY+(Be-Xe.y),Ue.x=Xe.x,Ue.y=Xe.y,Ue.deltaX=Xe.x-je.state.x,Ue.deltaY=Xe.y-je.state.y}var Nt=je.props.onDrag(st,Ue);if(Nt===!1)return!1;je.setState(Xe)}),He(Ae(je),"onDragStop",function(st,nt){if(!je.state.dragging)return!1;var Ue=je.props.onStop(st,(0,a.createDraggableData)(Ae(je),nt));if(Ue===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",nt);var Xe={dragging:!1,slackX:0,slackY:0},ct=!!je.props.position;if(ct){var Be=je.props.position,Pe=Be.x,St=Be.y;Xe.x=Pe,Xe.y=St}je.setState(Xe)}),je.state={dragging:!1,dragged:!1,x:Ye.position?Ye.position.x:Ye.defaultPosition.x,y:Ye.position?Ye.position.y:Ye.defaultPosition.y,prevPropsPosition:C({},Ye.position),slackX:0,slackY:0,isElementSVG:!1},Ye.position&&!(Ye.onDrag||Ye.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),je}return de(De,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var je,st,nt;return(je=(st=this.props)===null||st===void 0||(nt=st.nodeRef)===null||nt===void 0?void 0:nt.current)!==null&&je!==void 0?je:i.default.findDOMNode(this)}},{key:"render",value:function(){var je,st=this.props;st.axis,st.bounds;var nt=st.children,Ue=st.defaultPosition,Xe=st.defaultClassName,ct=st.defaultClassNameDragging,Be=st.defaultClassNameDragged,Pe=st.position,St=st.positionOffset;st.scale;var Zt=A(st,v),Ot={},Nt=null,Mr=!!Pe,Vr=!Mr||this.state.dragging,pr=Pe||Ue,Sr={x:(0,a.canDragX)(this)&&Vr?this.state.x:pr.x,y:(0,a.canDragY)(this)&&Vr?this.state.y:pr.y};this.state.isElementSVG?Nt=(0,s.createSVGTransform)(Sr,St):Ot=(0,s.createCSSTransform)(Sr,St);var cr=(0,o.default)(nt.props.className||"",Xe,(je={},He(je,ct,this.state.dragging),He(je,Be,this.state.dragged),je));return r.createElement(h.default,w({},Zt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(nt),{className:cr,style:C(C({},nt.props.style),Ot),transform:Nt}))}}],[{key:"getDerivedStateFromProps",value:function(je,st){var nt=je.position,Ue=st.prevPropsPosition;return nt&&(!Ue||nt.x!==Ue.x||nt.y!==Ue.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:nt,prevPropsPosition:Ue}),{x:nt.x,y:nt.y,prevPropsPosition:C({},nt)}):null}}]),De}(r.Component);e.default=tt,He(tt,"displayName","Draggable"),He(tt,"propTypes",C(C({},h.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),He(tt,"defaultProps",C(C({},h.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(H7);var nq=H7,iq=nq.default,hSe=nq.DraggableCore;x$.exports=iq;x$.exports.default=iq;x$.exports.DraggableCore=hSe;var E$={},pSe=nn;Object.defineProperty(E$,"__esModule",{value:!0});var oq=E$.default=void 0,mSe=pSe(on()),gSe=U,ySe=(0,mSe.default)((0,gSe.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");oq=E$.default=ySe;var C$={},vSe=nn;Object.defineProperty(C$,"__esModule",{value:!0});var aq=C$.default=void 0,_Se=vSe(on()),xSe=U,bSe=(0,_Se.default)((0,xSe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");aq=C$.default=bSe;var T$={},wSe=nn;Object.defineProperty(T$,"__esModule",{value:!0});var sq=T$.default=void 0,SSe=wSe(on()),ESe=U,CSe=(0,SSe.default)((0,ESe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");sq=T$.default=CSe;var k$={},TSe=nn;Object.defineProperty(k$,"__esModule",{value:!0});var Nm=k$.default=void 0,kSe=TSe(on()),PSe=U,ASe=(0,kSe.default)((0,PSe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Nm=k$.default=ASe;var P$={},MSe=nn;Object.defineProperty(P$,"__esModule",{value:!0});var lq=P$.default=void 0,OSe=MSe(on()),ISe=U,RSe=(0,OSe.default)((0,ISe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");lq=P$.default=RSe;const $Se=({position:e,property:t,attribute:r})=>{const n=Dn(b=>b.devices.items[e.deviceId]),i=t||r,o=t?e[t]:e.attributes[r],s="m",a="m",d="km/s",h="ddm",g=!1,v=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return I7(o,"seconds",g);case"latitude":return K5("latitude",o,h);case"longitude":return K5("longitude",o,h);case"speed":return x1e(o,d);case"course":return y1e(o);case"altitude":return _1e(o,a);case"batteryLevel":return O7(o);case"alarm":return R7(o);case"odometer":case"distance":case"totalDistance":return v1e(o,s);case"hours":return b1e(o);default:return typeof o=="number"?g1e(o):typeof o=="boolean"?M7(o):o||""}};switch(i){case"image":case"video":case"audio":return U.jsx(Lfe,{href:`/api/media/${n.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return v()}},DSe=ho(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),LSe=({open:e,endpoint:t,itemId:r,onResult:n})=>{const i=DSe(),o=async()=>{(await fetch(`/api/${t}/${r}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),n(!0)):n(!1)};return U.jsx(Ohe,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>n(!1),message:"confirmar para eliminar",action:U.jsx(Vn,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},cq=ho(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),bk=({name:e,content:t})=>{const r=cq();return U.jsxs(o1,{children:[U.jsx(Xs,{className:r.card,children:U.jsx(ln,{variant:"body2",children:e})}),U.jsx(Xs,{className:r.cell,children:U.jsx(ln,{variant:"body2",color:"textSecondary",children:t})})]})},zSe=({deviceId:e,position:t,onClose:r,disableActions:n,desktopPadding:i=0})=>{var I;const o=cq(),s=h_(),a=rc(),d=Dn(C=>C.devices.items[e]),h=(I=d==null?void 0:d.attributes)==null?void 0:I.deviceImage,g="speed,course,batteryLevel",[v,b]=W.useState(null),[M,P]=W.useState(!1),w=async(C,R)=>{console.log("send command "),console.log(C);try{const z=await fetch("/api/commands",{method:"POST",body:JSON.stringify({uav_id:C,description:R}),headers:{"Content-Type":"application/json"}});if(z.ok){let L=await z.json();console.log(L)}else throw console.log("Error1:"+z),Error(await z.text())}catch(z){console.log("Error2:"+z)}},A=async C=>{console.log("command mission "+C);try{const R=await fetch(`/api/commandmission/${C}`,{method:"POST",body:JSON.stringify({uav_id:C}),headers:{"Content-Type":"application/json"}});if(R.ok){let z=await R.json();z.state==="connect"&&notification("success",z.msg),z.state==="fail"&&notification("danger",z.msg),console.log(z)}else throw Error(await R.text())}catch{}},O=async C=>{if(C){const R=await fetch("/api/devices");if(R.ok){let z=await R.json();a(Dc.refresh(Object.values(z)))}else throw Error(await R.text())}P(!1)};return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:o.root,children:d&&U.jsxs(S_,{elevation:3,className:o.card,children:[h?U.jsx(pue,{className:o.media,image:`/api/media/${d.uniqueId}/${h}`,children:U.jsx(cn,{size:"small",onClick:r,onTouchStart:r,children:U.jsx(nh,{fontSize:"small",className:o.mediaButton})})}):U.jsxs("div",{className:o.header,children:[U.jsx(ln,{variant:"body2",color:"textSecondary",children:d.name}),U.jsx(cn,{size:"small",onClick:r,onTouchStart:r,children:U.jsx(nh,{fontSize:"small"})})]}),t&&U.jsx(aue,{className:o.content,children:U.jsx(fW,{size:"small",classes:{root:o.table},children:U.jsxs(dW,{children:[t.hasOwnProperty("latitude")&&U.jsx(bk,{name:"Position",content:U.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(C=>t.hasOwnProperty(C)||t.attributes.hasOwnProperty(C)).map(C=>U.jsx(bk,{name:C,content:U.jsx($Se,{position:t,property:t.hasOwnProperty(C)?C:null,attribute:t.hasOwnProperty(C)?null:C})},C)),t.attributes.hasOwnProperty("alarm")&&U.jsx(bk,{name:"Alarm "+t.attributes.alarm,content:U.jsxs("div",{style:{width:"100%"},children:[U.jsx(Vn,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>w(d.id,"threat"),children:"Validate"}),U.jsx(Vn,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},children:"Dismiss"})]})},"alarm1")]})})}),U.jsxs(eue,{classes:{root:o.actions},disableSpacing:!0,children:[U.jsx(cn,{color:"secondary",onClick:C=>b(C.currentTarget),disabled:!t,children:U.jsx(lq,{})}),U.jsx(cn,{onClick:()=>w(d.id,"sincronize"),children:U.jsx(oq,{})}),U.jsx(cn,{onClick:()=>A(d.id),disabled:n,children:U.jsx(aq,{})}),U.jsx(cn,{children:U.jsx(sq,{})}),U.jsx(cn,{onClick:()=>P(!0),className:o.negative,children:U.jsx(Nm,{})})]})]})}),t&&U.jsxs(oW,{anchorEl:v,open:!!v,onClose:()=>b(null),children:[U.jsx(ha,{onClick:()=>s(`/device/${e}`),children:U.jsx(ln,{color:"secondary",children:"Detalle Dispositivo"})}),U.jsx(ha,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),U.jsx(ha,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),U.jsx(ha,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),U.jsx(LSe,{open:M,endpoint:"devices",itemId:e,onResult:C=>O(C)})]})};var A$={},NSe=nn;Object.defineProperty(A$,"__esModule",{value:!0});var uq=A$.default=void 0,jSe=NSe(on()),BSe=U,FSe=(0,jSe.default)((0,BSe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");uq=A$.default=FSe;var M$={},USe=nn;Object.defineProperty(M$,"__esModule",{value:!0});var fq=M$.default=void 0,VSe=USe(on()),WSe=U,qSe=(0,VSe.default)((0,WSe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");fq=M$.default=qSe;var O$={},HSe=nn;Object.defineProperty(O$,"__esModule",{value:!0});var dq=O$.default=void 0,GSe=HSe(on()),YSe=U,KSe=(0,GSe.default)((0,YSe.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");dq=O$.default=KSe;const ZSe={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},XSe=({SetAddUAVOpen:e})=>U.jsxs(k2,{style:ZSe,children:[U.jsx(cn,{edge:"start",children:U.jsx(fq,{})}),U.jsx(fR,{placeholder:"device",endAdornment:U.jsx(xfe,{position:"end",children:U.jsx(cn,{size:"small",edge:"end",children:U.jsx(Ece,{color:"info",variant:"dot",children:U.jsx(dq,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),U.jsx(cn,{edge:"end",onClick:()=>{e(!0)},children:U.jsx(Ep,{children:U.jsx(uq,{})})})]}),JSe=ho(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),QSe=({deviceId:e,deviceIp:t,camera_src:r,onClose:n})=>{const i=JSe();Dn(P=>P.data.camera[e]);const o=Dn(P=>P.devices.items[e]),s="http://"+t+":8889/"+r,[a,d]=W.useState(!1);let h=i.card,g=a?i.root_max:i.root,v=a?i.media1:i.media;function b(){d(!a)}W.useRef();function M(){n(),d(!1)}return W.useEffect(()=>{console.log("device in camera-"+o+"-"+t+"+"+r),e&&console.log("crear")},[e]),U.jsx("div",{className:g,children:o&&U.jsxs(S_,{elevation:3,className:h,children:[U.jsxs("div",{className:i.gruopBtn,children:[U.jsx(cn,{size:"small",onClick:b,onTouchStart:b,children:U.jsx(HR,{fontSize:"small",className:i.mediaButton})}),U.jsx(cn,{size:"small",onClick:M,children:U.jsx(nh,{fontSize:"small",className:i.mediaButton})})]}),U.jsx("div",{className:i.tittle,children:"Image "+o.name}),U.jsx("iframe",{src:s,className:v})]})})},e2e=ho(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),t2e=()=>{const e=e2e(),t=rc(),r=Df(),n=Dn(ae=>ae.devices.items),i=Dn(ae=>ae.data.positions),o=Dn(ae=>ae.data.camera),s=Dn(ae=>ae.devices.selectedId),[a,d]=W.useState([]),[h,g]=W.useState([]),[v,b]=W.useState(),[M,P]=W.useState(),[w,A]=W.useState(),O=a.find(ae=>s&&ae.deviceId===s),I=h.find(ae=>s&&ae.deviceId==s);let C=Object.values(n);const[R,z]=W.useState(!1),[L,F]=W.useState([]);let H=null;const re=(ae,de)=>{switch(ae){case"success":H={id:L.length+1,title:"Success",description:de,backgroundColor:"#5cb85c"};break;case"danger":H={id:L.length+1,title:"Danger",description:de,backgroundColor:"#d9534f"};break;case"info":H={id:L.length+1,title:"Info",description:de,backgroundColor:"#5bc0de"};break;case"warning":H={id:L.length+1,title:"Warning",description:de,backgroundColor:"#f0ad4e"};break;default:H=[]}F([...L,H])},te=W.useCallback((ae,de)=>{t(Dc.selectId(de))},[t]);return W.useEffect(()=>{d(Object.values(i))},[i]),W.useEffect(()=>{g(Object.values(o))},[o]),W.useEffect(()=>{s?(b(n[s].ip),P(n[s].cameratype),A(n[s].camera_src)):(b(null),P(null))},[s]),U.jsx("div",{className:e.root,children:U.jsxs(T9,{notification:re,children:[U.jsx(k9,{SetAddUAVOpen:z}),U.jsx(N9,{SetAddUAVOpen:z}),U.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:U.jsxs($W,{children:[U.jsx(S1e,{}),U.jsx(w1e,{positions:a,onClick:te,selectedPosition:O,showStatus:!0}),U.jsx(C1e,{})]})}),U.jsx("div",{className:e.sidebarStyle,children:U.jsx("div",{className:e.middleStyle,children:U.jsxs(eu,{square:!0,className:e.contentListStyle,children:[U.jsx(XSe,{SetAddUAVOpen:z}),U.jsx(xwe,{devices:C})]})})}),R&&U.jsx(e0e,{SetAddUAVOpen:z}),U.jsx(zSe,{deviceId:s,position:O,onClose:()=>t(Dc.selectId(null)),desktopPadding:r.dimensions.drawerWidthDesktop}),M==="WebRTC"&&U.jsx(QSe,{deviceId:s,deviceIp:v,camera_src:w,onClose:()=>t(Dc.selectId(null))}),M==="Websocket"&&U.jsx(a0e,{deviceId:s,datacamera:I,onClose:()=>t(Dc.selectId(null))}),U.jsx(Yve,{toastlist:L,position:"buttom-right",setList:F})]})})};class r2e{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const n2e=()=>{const e=W.useId(),t=`${e}-points`,r=`${e}-points-clusters`,n=Dn(w=>w.mission.route);Dn(w=>w.mission.selectpoint);const i=!0,o=.6,s=rc(),[a,d]=W.useState(new r2e);let h=lt.getCanvasContainer();function g(w){let A=w.lngLat;h.style.cursor="grabbing",console.log("new position"+A.lng+"-"+A.lat);let O=a.getroute();console.log(O);let I=a.getSelectwp();I.id>=0&&(O[I.route_id].wp[I.id].pos[0]=w.lngLat.lat,O[I.route_id].wp[I.id].pos[1]=w.lngLat.lng);let C=P(O);lt.getSource(t).setData({type:"FeatureCollection",features:C.map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:b(O,R)}))}),lt.getSource(e).setData({type:"FeatureCollection",features:O.map(R=>M(R))})}function v(w){var A=w.lngLat;h.style.cursor="";let O=a.getSelectwp();console.log(`Longitude: ${A.lng} Latitude: ${A.lat}`),s(Xu.updateWpPos({wp_id:O.id,route_id:O.route_id,lng:w.lngLat.lng,lat:w.lngLat.lat})),a.setSelecwp({id:-1}),lt.off("mousemove",g),lt.off("touchmove",g)}const b=(w,A)=>({id:A.id,route_id:A.routeid,name:w[A.routeid].name,uav:w[A.routeid].uav,latitude:w[A.routeid].wp[A.id].pos[0],longitude:w[A.routeid].wp[A.id].pos[1],altitud:w[A.routeid].wp[A.id].pos[2],yaw:w[A.routeid].wp[A.id].yaw,gimbal:w[A.routeid].wp[A.id].gimbal,actions:w[A.routeid].wp[A.id].action,attributes:w[A.routeid].attributes,category:"default",color:w[A.routeid].id});W.useEffect(()=>(console.log("render"),lt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),lt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),lt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),lt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":mf(lt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),lt.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":mf(lt),"text-size":14},paint:{"text-color":"white"}}),lt.addLayer({id:r,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":mf(lt),"text-size":14}}),lt.on("mouseenter","mission-points",function(){h.style.cursor="move"}),lt.on("mouseleave","mission-points",function(){h.style.cursor=""}),lt.on("mousedown","mission-points",function(w){w.preventDefault(),a.setSelecwp(w.features[0].properties),s(Xu.selectpoint(w.features[0].properties)),h.style.cursor="grab",lt.on("mousemove",g),lt.once("mouseup",v)}),lt.on("touchstart","mission-points",function(w){w.points.length===1&&(console.log("touch start"),w.preventDefault(),lt.on("touchmove",g),lt.once("touchend",v))}),lt.on("click",function(w){console.log("A click event has occurred at "+w.lngLat)}),()=>{lt.getLayer("mission-line")&&lt.removeLayer("mission-line"),lt.getLayer("mission-title")&&lt.removeLayer("mission-title"),lt.getLayer("mission-points")&&lt.removeLayer("mission-points"),lt.getLayer(r)&&lt.removeLayer(r),lt.getSource(e)&&lt.removeSource(e),lt.getSource(t)&&lt.removeSource(t)}),[]);function M(w){let A=Object.values(w.wp).map(function(O){return[O.pos[1],O.pos[0]]});return{id:w.id,type:"Feature",geometry:{type:"LineString",coordinates:A},properties:{name:w.uav,color:Em[w.id]}}}function P(w){let A=[];return w.map((O,I)=>{O.wp.map((C,R)=>{A.push({longitude:C.pos[1],latitude:C.pos[0],id:R,routeid:I})})}),A}return W.useEffect(()=>{console.log("Mapmission upload mission"),console.log(n),a.initroute(n);let w=P(n);lt.getSource(t).setData({type:"FeatureCollection",features:w.map(A=>({type:"Feature",geometry:{type:"Point",coordinates:[A.longitude,A.latitude]},properties:b(n,A)}))}),lt.getSource(e).setData({type:"FeatureCollection",features:n.map(A=>M(A))})},[n]),null},Tp=({label:e,fullWidth:t,multiple:r,value:n,emptyValue:i=0,emptyTitle:o="",onChange:s,endpoint:a,data:d,keyGetter:h=v=>v.id,titleGetter:g=v=>v.name})=>{const[v,b]=W.useState(d);return P2(async()=>{if(a){const M=await fetch(a);if(M.ok)b(await M.json());else throw Error(await M.text())}},[]),v?U.jsxs(E0,{fullWidth:t,children:[U.jsx(C0,{children:e}),U.jsxs(T0,{label:e,multiple:r,value:n,onChange:s,children:[!r&&i!==null&&U.jsx(ha,{value:i,children:o}),v.map(M=>U.jsx(ha,{value:h(M),children:g(M)},h(M)))]})]}):null},i2e=ho(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),o2e=({mission:e,setmission:t,index:r,index_wp:n,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=i2e(),[d,h]=W.useState(!1),[g,v]=W.useState(!0),[b,M]=W.useState(0),[P,w]=W.useState(!1);W.useEffect(()=>{w(o)},[o]);const A=L=>(F,H)=>{w(H?L:!1)};async function O(L,F){let H;const re=await fetch("/api/mission/actions/dji");if(re.ok)H=await re.json();else throw Error(await re.text());let te=H.find(de=>de.id==b),ae=JSON.parse(JSON.stringify(e.route));ae[L].wp[F].hasOwnProperty("action")||(ae[L].wp[F].action={}),te.param?ae[L].wp[F].action[te.name]=0:ae[L].wp[F].action[te.name]=!0,t({...e,route:ae}),v(!0)}const I=(L,F)=>{console.log("remove wp"+L+"-"+F);let H=[...e.route],re=[...e.route[L].wp];re.splice(F,1);let te={...H[L],wp:re};H[L]=te,t({...e,route:H})},C=(L,F,H)=>{console.log("remove action"+L+"-"+F+"-"+H);let re=JSON.parse(JSON.stringify(e.route));delete re[L].wp[F].action[H],t({...e,route:re})},R=L=>(F,H)=>{h(H?L:!1)},z=L=>(F,H)=>{v(!1)};return U.jsxs(v0,{expanded:P==="wp "+n,onChange:A("wp "+n),children:[U.jsxs(x0,{expandIcon:U.jsx(zm,{}),children:[U.jsx(ln,{sx:{width:"33%",flexShrink:0},children:"WP "+n}),U.jsx(cn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(r,n),children:U.jsx(Nm,{})})]}),U.jsxs(_0,{className:a.details,children:[U.jsxs(Ju,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[U.jsx("div",{children:U.jsx(ln,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),U.jsx(pa,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:L=>t({...e,route:e.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==e.route[r]?H.wp[n].pos[0]=+L.target.value:H=F,H})})}),U.jsx(pa,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:L=>t({...e,route:e.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==e.route[r]?H.wp[n].pos[1]=+L.target.value:H=F,H})})}),U.jsx(pa,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:L=>t({...e,route:e.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==e.route[r]?H.wp[n].pos[2]=+L.target.value:H=F,H})})})]}),U.jsx(pa,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:L=>t({...e,route:e.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==e.route[r]?H.wp[n].yaw=+L.target.value:H=F,H})})}),U.jsx(pa,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:L=>t({...e,route:e.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==e.route[r]?H.wp[n].gimbal=+L.target.value:H=F,H})})}),U.jsxs(v0,{expanded:d==="wp "+n,onChange:R("wp "+n),children:[U.jsx(x0,{expandIcon:U.jsx(zm,{}),children:U.jsx(ln,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),U.jsxs(_0,{className:a.details,children:[i.action&&We.Children.toArray(Object.keys(i.action).map((L,F,H)=>U.jsxs(W.Fragment,{children:[U.jsxs("div",{children:[U.jsx(ln,{variant:"subtitle1",className:a.attributeName,children:L}),U.jsx("div",{className:a.actionValue,children:U.jsx(pa,{required:!0,fullWidth:!0,value:i.action[L]?i.action[L]:0,onChange:re=>t({...e,route:e.route.map(te=>{let ae=JSON.parse(JSON.stringify(te));return te==e.route[r]?ae.wp[n].action[L]=re.target.value:ae=te,ae})})})}),U.jsx(cn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>C(r,n,L),className:a.negative,children:U.jsx(Nm,{})})]}),U.jsx(ZV,{})]},"fragment-action-"+F))),U.jsx(Ju,{textAlign:"center",children:g?U.jsx(Vn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:z(),children:"Add new action"}):U.jsxs("div",{children:[U.jsx(ln,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),U.jsx(Tp,{emptyValue:null,fullWidth:!0,value:b,onChange:L=>M(L.target.value),endpoint:"/api/mission/actions/dji",keyGetter:L=>L.id,titleGetter:L=>L.description}),U.jsxs("div",{children:[U.jsx(Vn,{onClick:()=>v(!0),children:"Cancel"}),U.jsx(Vn,{onClick:()=>O(r,n),children:"Add"})]})]})})]})]}),U.jsx(Ju,{textAlign:"center",children:U.jsx(Vn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(r,n),children:"Add new Waypoint"})})]})]})},a2e=ho(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),s2e=({mission:e,setmission:t,setScrool:r})=>{const n=a2e(),i=Dn(z=>z.mission),o=Dn(z=>z.mission.selectpoint),s=rc(),[a,d]=W.useState(!1),[h,g]=W.useState(!1),[v,b]=W.useState(!1),[M,P]=W.useState(!0);W.useEffect(()=>{t(i),console.log("otro use effect"),i.route.length>0?P(!1):P(!0),d(!0)},[i]),W.useEffect(()=>{a&&(console.log("update mission"),console.log(e),s(Xu.reloadMission(e.route))),e.route.length>0?P(!1):P(!0)},[e]),W.useEffect(()=>{console.log(h),g("Rute "+o.route_id),b("wp "+o.id),r(500+o.route_id*50+o.id*50)},[o]);const w=()=>{let z={name:"new Mission",description:"",route:[]};z.route.push({name:"",uav:"",attributes:{},wp:[]}),t(z),P(!1),console.log("add new mission")},A=()=>{let z=[...e.route];z.push({name:"",uav:"",attributes:{},wp:[]}),t({...e,route:z}),console.log("add new route")},O=(z,L)=>{console.log("add new wp"+z);let F=JSON.parse(JSON.stringify(e.route)),H=lt.getCenter();L>0&&(H.lat=(F[z].wp[L].pos[0]+F[z].wp[L-1].pos[0])/2,H.lng=(F[z].wp[L].pos[1]+F[z].wp[L-1].pos[1])/2),L<0?F[z].wp.push({pos:[H.lat,H.lng,5],action:{}}):F[z].wp.splice(L,0,{pos:[H.lat,H.lng,5],action:{}}),t({...e,route:F})},I=z=>{console.log("remove route"+z);let L=JSON.parse(JSON.stringify(e.route));L.splice(z,1),console.log(L),t({...e,route:L})},C=z=>(L,F)=>{g(F?z:!1)},R=z=>(L,F)=>{b(F?z:!1)};return U.jsx(W.Fragment,{children:M?U.jsx(Ju,{textAlign:"center",children:U.jsx(Vn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:w,children:"Create New Mission"})}):U.jsx(W.Fragment,{children:U.jsxs(Ju,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[U.jsx(pa,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:z=>t({...e,name:z.target.value})}),U.jsx(pa,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:z=>t({...e,description:z.target.value})}),We.Children.toArray(Object.values(e.route).map((z,L,F)=>U.jsxs(W.Fragment,{children:[U.jsxs(v0,{expanded:h==="Rute "+L,onChange:C("Rute "+L),children:[U.jsxs(x0,{expandIcon:U.jsx(zm,{}),children:[U.jsx(ln,{sx:{width:"33%",flexShrink:0,color:Em[L]},children:"Rute "+L}),U.jsx(ln,{sx:{color:"text.secondary"},children:z.name+"- "+z.uav}),U.jsx(cn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(L),children:U.jsx(Nm,{})})]}),U.jsxs(_0,{className:n.details,children:[U.jsx(pa,{required:!0,label:"Route Name",variant:"standard",value:z.name?z.name:"",onChange:H=>t({...e,route:e.route.map(re=>re==e.route[L]?{...z,name:H.target.value}:re)})}),U.jsx(pa,{required:!0,label:"UAV id",variant:"standard",value:z.uav?z.uav:"uav_",onChange:H=>t({...e,route:e.route.map(re=>re==e.route[L]?{...z,uav:H.target.value}:re)})}),U.jsx(Tp,{emptyValue:null,value:z.uav_type?z.uav_type:"",onChange:H=>t({...e,route:e.route.map(re=>re==e.route[L]?{...z,uav_type:H.target.value}:re)}),endpoint:"/api/devices/type",keyGetter:H=>H,titleGetter:H=>H,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),U.jsxs(v0,{expanded:v==="wp -"+L,onChange:R("wp -"+L),children:[U.jsx(x0,{expandIcon:U.jsx(zm,{}),children:U.jsx(ln,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),U.jsx(_0,{className:n.details,children:z.attributes&&U.jsxs(W.Fragment,{children:[U.jsxs("div",{children:[U.jsxs(ln,{variant:"subtitle1",className:n.attributeName,children:["Speed idle:"," "]}),U.jsx(pa,{fullWidth:!0,required:!0,type:"number",className:n.attributeValue,value:z.attributes.idle_vel?z.attributes.idle_vel:1.85,onChange:H=>t({...e,route:e.route.map(re=>{let te=JSON.parse(JSON.stringify(re));return re==e.route[L]?te.attributes.idle_vel=+H.target.value:te=re,te})})})]}),U.jsxs("div",{children:[U.jsx(ln,{variant:"subtitle1",className:n.attributeName,children:"landing mode"}),U.jsx("div",{className:n.attributeValue,children:U.jsx(Tp,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_landing?z.attributes.mode_landing:0,onChange:H=>t({...e,route:e.route.map(re=>{let te=JSON.parse(JSON.stringify(re));return re===e.route[L]?te.attributes.mode_landing=H.target.value:te=re,te})}),endpoint:"/api/mission/atributesparam/dji/mode_landing",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),U.jsxs("div",{children:[U.jsx(ln,{variant:"subtitle1",className:n.attributeName,children:"Yaw mode"}),U.jsx("div",{className:n.attributeValue,children:U.jsx(Tp,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_yaw?z.attributes.mode_yaw:0,onChange:H=>t({...e,route:e.route.map(re=>{let te=JSON.parse(JSON.stringify(re));return re===e.route[L]?te.attributes.mode_yaw=H.target.value:te=re,te})}),endpoint:"/api/mission/atributesparam/dji/mode_yaw",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),U.jsxs("div",{children:[U.jsxs(ln,{variant:"subtitle1",className:n.attributeName,children:[" ","Gimbal mode"," "]}),U.jsx("div",{className:n.attributeValue,children:U.jsx(Tp,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_gimbal?z.attributes.mode_gimbal:0,onChange:H=>t({...e,route:e.route.map(re=>{let te=JSON.parse(JSON.stringify(re));return re===e.route[L]?te.attributes.mode_gimbal=H.target.value:te=re,te})}),endpoint:"/api/mission/atributesparam/dji/mode_gimbal",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),U.jsxs("div",{children:[U.jsxs(ln,{variant:"subtitle1",className:n.attributeName,children:[" ","Trace mode:"," "]}),U.jsx("div",{className:n.attributeValue,children:U.jsx(Tp,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_trace?z.attributes.mode_trace:0,onChange:H=>t({...e,route:e.route.map(re=>{let te=JSON.parse(JSON.stringify(re));return re===e.route[L]?te.attributes.mode_trace=H.target.value:te=re,te})}),endpoint:"/api/mission/atributesparam/dji/mode_trace",keyGetter:H=>H.id,titleGetter:H=>H.name})})]})]},"fragment-route-atri-"+z.id)})]}),U.jsx(ln,{variant:"subtitle1",children:"Waypoints"}),We.Children.toArray(Object.values(z.wp).map((H,re,te)=>U.jsx(o2e,{mission:e,setmission:t,index_wp:re,index:L,waypoint:H,AddnewWp:O,expand_wp:v}))),U.jsx(Ju,{textAlign:"center",children:U.jsx(Vn,{value:L,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:H=>O(H.target.value,-1),children:"Add new Waypoint"})})]})]}),L<F.length-1?U.jsx(ZV,{}):null]},"fragment-route-"+L))),U.jsx(Ju,{textAlign:"center",children:U.jsx(Vn,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:A,children:"Add new Route"})})]})})})};var I$={},l2e=nn;Object.defineProperty(I$,"__esModule",{value:!0});var R$=I$.default=void 0,c2e=l2e(on()),u2e=U,f2e=(0,c2e.default)((0,u2e.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");R$=I$.default=f2e;var $$={},d2e=nn;Object.defineProperty($$,"__esModule",{value:!0});var hq=$$.default=void 0,h2e=d2e(on()),p2e=U,m2e=(0,h2e.default)((0,p2e.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");hq=$$.default=m2e;var D$={},g2e=nn;Object.defineProperty(D$,"__esModule",{value:!0});var pq=D$.default=void 0,y2e=g2e(on()),v2e=U,_2e=(0,y2e.default)((0,v2e.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");pq=D$.default=_2e;const x2e=ho(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),b2e=()=>{const e=x2e(),t=h_(),r=W.useContext(Lm),n=W.useRef(null),[i,o]=W.useState({name:"no mission",description:"",route:[]}),s=g=>{console.log("scrool"+g),n.current.scroll&&setTimeout(()=>{n.current.scroll(0,g)},1e3)},a=g=>{const v=g.target.files[0];if(!v)return;const b=new FileReader;b.readAsText(v),b.onload=()=>{console.log(b.result),console.log(v.name),r.openMision(v.name,b.result)},b.onerror=()=>{console.log(b.error)}},d=()=>{o({name:"no mission",description:"",route:[]})},h=()=>{const g=YAML.stringify(i),v=new Blob([g],{type:"text/plain"}),b=URL.createObjectURL(v),M=document.createElement("a");M.download="mission-"+i.name+".yaml",M.href=b,M.click()};return U.jsxs(W.Fragment,{children:[U.jsxs(k2,{className:e.toolbar,children:[U.jsx(cn,{edge:"start",sx:{mr:2},onClick:()=>t(-1),children:U.jsx(R$,{})}),U.jsx(ln,{variant:"h6",className:e.title,children:"Mission Task"}),U.jsx(cn,{onClick:h,children:U.jsx(pq,{})}),U.jsx(cn,{onClick:d,children:U.jsx(Nm,{})}),U.jsxs("label",{htmlFor:"upload-gpx",children:[U.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:a}),U.jsx(cn,{edge:"end",component:"span",onClick:()=>{},children:U.jsx(hq,{})})]})]}),U.jsx("div",{ref:n,className:e.list,children:U.jsx(s2e,{mission:i,setmission:o,setScrool:s})})]})};var mq={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var d in o)t.call(o,d)&&o[d]&&n.push(d)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(mq);var w2e=mq.exports;const vn=Kr(w2e);function S2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nf=S2e;const _g=Kr(Nf);var E2e=typeof sv=="object"&&sv&&sv.Object===Object&&sv,gq=E2e,C2e=gq,T2e=typeof self=="object"&&self&&self.Object===Object&&self,k2e=C2e||T2e||Function("return this")(),sc=k2e,P2e=sc,A2e=P2e.Symbol,I_=A2e,dj=I_,yq=Object.prototype,M2e=yq.hasOwnProperty,O2e=yq.toString,Xy=dj?dj.toStringTag:void 0;function I2e(e){var t=M2e.call(e,Xy),r=e[Xy];try{e[Xy]=void 0;var n=!0}catch{}var i=O2e.call(e);return n&&(t?e[Xy]=r:delete e[Xy]),i}var R2e=I2e,$2e=Object.prototype,D2e=$2e.toString;function L2e(e){return D2e.call(e)}var z2e=L2e,hj=I_,N2e=R2e,j2e=z2e,B2e="[object Null]",F2e="[object Undefined]",pj=hj?hj.toStringTag:void 0;function U2e(e){return e==null?e===void 0?F2e:B2e:pj&&pj in Object(e)?N2e(e):j2e(e)}var jf=U2e,V2e=jf,W2e=Nf,q2e="[object AsyncFunction]",H2e="[object Function]",G2e="[object GeneratorFunction]",Y2e="[object Proxy]";function K2e(e){if(!W2e(e))return!1;var t=V2e(e);return t==H2e||t==G2e||t==q2e||t==Y2e}var L$=K2e;const hr=Kr(L$);var Z2e=Array.isArray,ia=Z2e;const lo=Kr(ia);function X2e(e){return e!=null&&typeof e=="object"}var Bf=X2e,J2e=jf,Q2e=ia,eEe=Bf,tEe="[object String]";function rEe(e){return typeof e=="string"||!Q2e(e)&&eEe(e)&&J2e(e)==tEe}var nEe=rEe;const R_=Kr(nEe);var iEe=jf,oEe=Bf,aEe="[object Symbol]";function sEe(e){return typeof e=="symbol"||oEe(e)&&iEe(e)==aEe}var xg=sEe,lEe=ia,cEe=xg,uEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fEe=/^\w*$/;function dEe(e,t){if(lEe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||cEe(e)?!0:fEe.test(e)||!uEe.test(e)||t!=null&&e in Object(t)}var z$=dEe,hEe=sc,pEe=hEe["__core-js_shared__"],mEe=pEe,wk=mEe,mj=function(){var e=/[^.]+$/.exec(wk&&wk.keys&&wk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gEe(e){return!!mj&&mj in e}var yEe=gEe,vEe=Function.prototype,_Ee=vEe.toString;function xEe(e){if(e!=null){try{return _Ee.call(e)}catch{}try{return e+""}catch{}}return""}var vq=xEe,bEe=L$,wEe=yEe,SEe=Nf,EEe=vq,CEe=/[\\^$.*+?()[\]{}|]/g,TEe=/^\[object .+?Constructor\]$/,kEe=Function.prototype,PEe=Object.prototype,AEe=kEe.toString,MEe=PEe.hasOwnProperty,OEe=RegExp("^"+AEe.call(MEe).replace(CEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IEe(e){if(!SEe(e)||wEe(e))return!1;var t=bEe(e)?OEe:TEe;return t.test(EEe(e))}var REe=IEe;function $Ee(e,t){return e==null?void 0:e[t]}var DEe=$Ee,LEe=REe,zEe=DEe;function NEe(e,t){var r=zEe(e,t);return LEe(r)?r:void 0}var dh=NEe,jEe=dh,BEe=jEe(Object,"create"),sE=BEe,gj=sE;function FEe(){this.__data__=gj?gj(null):{},this.size=0}var UEe=FEe;function VEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WEe=VEe,qEe=sE,HEe="__lodash_hash_undefined__",GEe=Object.prototype,YEe=GEe.hasOwnProperty;function KEe(e){var t=this.__data__;if(qEe){var r=t[e];return r===HEe?void 0:r}return YEe.call(t,e)?t[e]:void 0}var ZEe=KEe,XEe=sE,JEe=Object.prototype,QEe=JEe.hasOwnProperty;function eCe(e){var t=this.__data__;return XEe?t[e]!==void 0:QEe.call(t,e)}var tCe=eCe,rCe=sE,nCe="__lodash_hash_undefined__";function iCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rCe&&t===void 0?nCe:t,this}var oCe=iCe,aCe=UEe,sCe=WEe,lCe=ZEe,cCe=tCe,uCe=oCe;function bg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bg.prototype.clear=aCe;bg.prototype.delete=sCe;bg.prototype.get=lCe;bg.prototype.has=cCe;bg.prototype.set=uCe;var fCe=bg;function dCe(){this.__data__=[],this.size=0}var hCe=dCe;function pCe(e,t){return e===t||e!==e&&t!==t}var N$=pCe,mCe=N$;function gCe(e,t){for(var r=e.length;r--;)if(mCe(e[r][0],t))return r;return-1}var lE=gCe,yCe=lE,vCe=Array.prototype,_Ce=vCe.splice;function xCe(e){var t=this.__data__,r=yCe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():_Ce.call(t,r,1),--this.size,!0}var bCe=xCe,wCe=lE;function SCe(e){var t=this.__data__,r=wCe(t,e);return r<0?void 0:t[r][1]}var ECe=SCe,CCe=lE;function TCe(e){return CCe(this.__data__,e)>-1}var kCe=TCe,PCe=lE;function ACe(e,t){var r=this.__data__,n=PCe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var MCe=ACe,OCe=hCe,ICe=bCe,RCe=ECe,$Ce=kCe,DCe=MCe;function wg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wg.prototype.clear=OCe;wg.prototype.delete=ICe;wg.prototype.get=RCe;wg.prototype.has=$Ce;wg.prototype.set=DCe;var cE=wg,LCe=dh,zCe=sc,NCe=LCe(zCe,"Map"),j$=NCe,yj=fCe,jCe=cE,BCe=j$;function FCe(){this.size=0,this.__data__={hash:new yj,map:new(BCe||jCe),string:new yj}}var UCe=FCe;function VCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var WCe=VCe,qCe=WCe;function HCe(e,t){var r=e.__data__;return qCe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var uE=HCe,GCe=uE;function YCe(e){var t=GCe(this,e).delete(e);return this.size-=t?1:0,t}var KCe=YCe,ZCe=uE;function XCe(e){return ZCe(this,e).get(e)}var JCe=XCe,QCe=uE;function eTe(e){return QCe(this,e).has(e)}var tTe=eTe,rTe=uE;function nTe(e,t){var r=rTe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iTe=nTe,oTe=UCe,aTe=KCe,sTe=JCe,lTe=tTe,cTe=iTe;function Sg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sg.prototype.clear=oTe;Sg.prototype.delete=aTe;Sg.prototype.get=sTe;Sg.prototype.has=lTe;Sg.prototype.set=cTe;var B$=Sg,_q=B$,uTe="Expected a function";function F$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uTe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(F$.Cache||_q),r}F$.Cache=_q;var fTe=F$,dTe=fTe,hTe=500;function pTe(e){var t=dTe(e,function(n){return r.size===hTe&&r.clear(),n}),r=t.cache;return t}var mTe=pTe,gTe=mTe,yTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vTe=/\\(\\)?/g,_Te=gTe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yTe,function(r,n,i,o){t.push(i?o.replace(vTe,"$1"):n||r)}),t}),xTe=_Te;function bTe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var U$=bTe,vj=I_,wTe=U$,STe=ia,ETe=xg,CTe=1/0,_j=vj?vj.prototype:void 0,xj=_j?_j.toString:void 0;function xq(e){if(typeof e=="string")return e;if(STe(e))return wTe(e,xq)+"";if(ETe(e))return xj?xj.call(e):"";var t=e+"";return t=="0"&&1/e==-CTe?"-0":t}var TTe=xq,kTe=TTe;function PTe(e){return e==null?"":kTe(e)}var bq=PTe,ATe=ia,MTe=z$,OTe=xTe,ITe=bq;function RTe(e,t){return ATe(e)?e:MTe(e,t)?[e]:OTe(ITe(e))}var wq=RTe,$Te=xg,DTe=1/0;function LTe(e){if(typeof e=="string"||$Te(e))return e;var t=e+"";return t=="0"&&1/e==-DTe?"-0":t}var fE=LTe,zTe=wq,NTe=fE;function jTe(e,t){t=zTe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[NTe(t[r++])];return r&&r==n?e:void 0}var V$=jTe,BTe=V$;function FTe(e,t,r){var n=e==null?void 0:BTe(e,t);return n===void 0?r:n}var Sq=FTe;const Ss=Kr(Sq);function UTe(e){return e==null}var VTe=UTe;const fr=Kr(VTe);var WTe=jf,qTe=Bf,HTe="[object Number]";function GTe(e){return typeof e=="number"||qTe(e)&&WTe(e)==HTe}var Eq=GTe;const YTe=Kr(Eq);var KTe=Eq;function ZTe(e){return KTe(e)&&e!=+e}var XTe=ZTe;const $_=Kr(XTe);var ys=function(t){return t===0?0:t>0?1:-1},Rd=function(t){return R_(t)&&t.indexOf("%")===t.length-1},Mt=function(t){return YTe(t)&&!$_(t)},Li=function(t){return Mt(t)||R_(t)},JTe=0,D_=function(t){var r=++JTe;return"".concat(t||"").concat(r)},jm=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mt(t)&&!R_(t))return n;var o;if(Rd(t)){var s=t.indexOf("%");o=r*parseFloat(t.slice(0,s))/100}else o=+t;return $_(o)&&(o=n),i&&o>r&&(o=r),o},Bu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},QTe=function(t){if(!lo(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},il=function(t,r){return Mt(t)&&Mt(r)?function(n){return t+n*(r-t)}:function(){return r}};function gw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ss(n,t))===r})}function fm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function GA(e){"@babel/helpers - typeof";return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GA(e)}var eke=["viewBox","children"],tke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bj=["points","pathLength"],Sk={svg:eke,polygon:bj,polyline:bj},W$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(W.isValidElement(t)&&(n=t.props),!_g(n))return null;var i={};return Object.keys(n).forEach(function(o){W$.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},rke=function(t,r,n){return function(i){return t(r,n,i),null}},vw=function(t,r,n){if(!_g(t)||GA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];W$.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=rke(s,r,n))}),i},nke=["children"],ike=["children"];function wj(e,t){if(e==null)return{};var r=oke(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oke(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YA(e){"@babel/helpers - typeof";return YA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YA(e)}var Sj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},xf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Ej=null,Ek=null,q$=function e(t){if(t===Ej&&lo(Ek))return Ek;var r=[];return W.Children.forEach(t,function(n){fr(n)||(S8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ek=r,Ej=t,r};function Es(e,t){var r=[],n=[];return lo(t)?n=t.map(function(i){return xf(i)}):n=[xf(t)],q$(e).forEach(function(i){var o=Ss(i,"type.displayName")||Ss(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function jc(e,t){var r=Es(e,t);return r&&r[0]}var Cj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Mt(n)||n<=0||!Mt(i)||i<=0)},ake=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ske=function(t){return t&&t.type&&R_(t.type)&&ake.indexOf(t.type)>=0},lke=function(t){return t&&YA(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},cke=function(t,r,n,i){var o,s=(o=Sk==null?void 0:Sk[i])!==null&&o!==void 0?o:[];return!hr(t)&&(i&&s.includes(r)||tke.includes(r))||n&&W$.includes(r)},Ur=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(W.isValidElement(t)&&(i=t.props),!_g(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;cke((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},Cq=function e(t,r){if(t===r)return!0;var n=W.Children.count(t);if(n!==W.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Tj(lo(t)?t[0]:t,lo(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],s=r[i];if(lo(o)||lo(s)){if(!e(o,s))return!1}else if(!Tj(o,s))return!1}return!0},Tj=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},i=n.children,o=wj(n,nke),s=r.props||{},a=s.children,d=wj(s,ike);return i&&a?fm(o,d)&&Cq(i,a):!i&&!a?fm(o,d):!1}return!1},kj=function(t,r){var n=[],i={};return q$(t).forEach(function(o,s){if(ske(o))n.push(o);else if(o){var a=xf(o.type),d=r[a]||{},h=d.handler,g=d.once;if(h&&(!g||!i[a])){var v=h(o,a,s);n.push(v),i[a]=!0}}}),n},uke=function(t){var r=t&&t.type;return r&&Sj[r]?Sj[r]:null},fke=function(t,r){return q$(r).indexOf(t)},dke=["children","width","height","viewBox","className","style"];function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KA.apply(this,arguments)}function hke(e,t){if(e==null)return{};var r=pke(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pke(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ZA(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,s=e.style,a=hke(e,dke),d=i||{width:r,height:n,x:0,y:0},h=vn("recharts-surface",o);return We.createElement("svg",KA({},Ur(a,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),We.createElement("title",null,e.title),We.createElement("desc",null,e.desc),t)}var mke=["children","className"];function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XA.apply(this,arguments)}function gke(e,t){if(e==null)return{};var r=yke(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yke(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Mi=We.forwardRef(function(e,t){var r=e.children,n=e.className,i=gke(e,mke),o=vn("recharts-layer",n);return We.createElement("g",XA({className:o},Ur(i,!0),{ref:t}),r)}),vke=cE;function _ke(){this.__data__=new vke,this.size=0}var xke=_ke;function bke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var wke=bke;function Ske(e){return this.__data__.get(e)}var Eke=Ske;function Cke(e){return this.__data__.has(e)}var Tke=Cke,kke=cE,Pke=j$,Ake=B$,Mke=200;function Oke(e,t){var r=this.__data__;if(r instanceof kke){var n=r.__data__;if(!Pke||n.length<Mke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ake(n)}return r.set(e,t),this.size=r.size,this}var Ike=Oke,Rke=cE,$ke=xke,Dke=wke,Lke=Eke,zke=Tke,Nke=Ike;function Eg(e){var t=this.__data__=new Rke(e);this.size=t.size}Eg.prototype.clear=$ke;Eg.prototype.delete=Dke;Eg.prototype.get=Lke;Eg.prototype.has=zke;Eg.prototype.set=Nke;var Tq=Eg,jke="__lodash_hash_undefined__";function Bke(e){return this.__data__.set(e,jke),this}var Fke=Bke;function Uke(e){return this.__data__.has(e)}var Vke=Uke,Wke=B$,qke=Fke,Hke=Vke;function _w(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wke;++t<r;)this.add(e[t])}_w.prototype.add=_w.prototype.push=qke;_w.prototype.has=Hke;var kq=_w;function Gke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Pq=Gke;function Yke(e,t){return e.has(t)}var Aq=Yke,Kke=kq,Zke=Pq,Xke=Aq,Jke=1,Qke=2;function ePe(e,t,r,n,i,o){var s=r&Jke,a=e.length,d=t.length;if(a!=d&&!(s&&d>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var v=-1,b=!0,M=r&Qke?new Kke:void 0;for(o.set(e,t),o.set(t,e);++v<a;){var P=e[v],w=t[v];if(n)var A=s?n(w,P,v,t,e,o):n(P,w,v,e,t,o);if(A!==void 0){if(A)continue;b=!1;break}if(M){if(!Zke(t,function(O,I){if(!Xke(M,I)&&(P===O||i(P,O,r,n,o)))return M.push(I)})){b=!1;break}}else if(!(P===w||i(P,w,r,n,o))){b=!1;break}}return o.delete(e),o.delete(t),b}var Mq=ePe,tPe=sc,rPe=tPe.Uint8Array,nPe=rPe;function iPe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var oPe=iPe;function aPe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var H$=aPe,Pj=I_,Aj=nPe,sPe=N$,lPe=Mq,cPe=oPe,uPe=H$,fPe=1,dPe=2,hPe="[object Boolean]",pPe="[object Date]",mPe="[object Error]",gPe="[object Map]",yPe="[object Number]",vPe="[object RegExp]",_Pe="[object Set]",xPe="[object String]",bPe="[object Symbol]",wPe="[object ArrayBuffer]",SPe="[object DataView]",Mj=Pj?Pj.prototype:void 0,Ck=Mj?Mj.valueOf:void 0;function EPe(e,t,r,n,i,o,s){switch(r){case SPe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wPe:return!(e.byteLength!=t.byteLength||!o(new Aj(e),new Aj(t)));case hPe:case pPe:case yPe:return sPe(+e,+t);case mPe:return e.name==t.name&&e.message==t.message;case vPe:case xPe:return e==t+"";case gPe:var a=cPe;case _Pe:var d=n&fPe;if(a||(a=uPe),e.size!=t.size&&!d)return!1;var h=s.get(e);if(h)return h==t;n|=dPe,s.set(e,t);var g=lPe(a(e),a(t),n,i,o,s);return s.delete(e),g;case bPe:if(Ck)return Ck.call(e)==Ck.call(t)}return!1}var CPe=EPe;function TPe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Oq=TPe,kPe=Oq,PPe=ia;function APe(e,t,r){var n=t(e);return PPe(e)?n:kPe(n,r(e))}var MPe=APe;function OPe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var IPe=OPe;function RPe(){return[]}var $Pe=RPe,DPe=IPe,LPe=$Pe,zPe=Object.prototype,NPe=zPe.propertyIsEnumerable,Oj=Object.getOwnPropertySymbols,jPe=Oj?function(e){return e==null?[]:(e=Object(e),DPe(Oj(e),function(t){return NPe.call(e,t)}))}:LPe,BPe=jPe;function FPe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var UPe=FPe,VPe=jf,WPe=Bf,qPe="[object Arguments]";function HPe(e){return WPe(e)&&VPe(e)==qPe}var GPe=HPe,Ij=GPe,YPe=Bf,Iq=Object.prototype,KPe=Iq.hasOwnProperty,ZPe=Iq.propertyIsEnumerable,XPe=Ij(function(){return arguments}())?Ij:function(e){return YPe(e)&&KPe.call(e,"callee")&&!ZPe.call(e,"callee")},G$=XPe,xw={exports:{}};function JPe(){return!1}var QPe=JPe;xw.exports;(function(e,t){var r=sc,n=QPe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?r.Buffer:void 0,d=a?a.isBuffer:void 0,h=d||n;e.exports=h})(xw,xw.exports);var Rq=xw.exports,eAe=9007199254740991,tAe=/^(?:0|[1-9]\d*)$/;function rAe(e,t){var r=typeof e;return t=t??eAe,!!t&&(r=="number"||r!="symbol"&&tAe.test(e))&&e>-1&&e%1==0&&e<t}var Y$=rAe,nAe=9007199254740991;function iAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nAe}var K$=iAe,oAe=jf,aAe=K$,sAe=Bf,lAe="[object Arguments]",cAe="[object Array]",uAe="[object Boolean]",fAe="[object Date]",dAe="[object Error]",hAe="[object Function]",pAe="[object Map]",mAe="[object Number]",gAe="[object Object]",yAe="[object RegExp]",vAe="[object Set]",_Ae="[object String]",xAe="[object WeakMap]",bAe="[object ArrayBuffer]",wAe="[object DataView]",SAe="[object Float32Array]",EAe="[object Float64Array]",CAe="[object Int8Array]",TAe="[object Int16Array]",kAe="[object Int32Array]",PAe="[object Uint8Array]",AAe="[object Uint8ClampedArray]",MAe="[object Uint16Array]",OAe="[object Uint32Array]",In={};In[SAe]=In[EAe]=In[CAe]=In[TAe]=In[kAe]=In[PAe]=In[AAe]=In[MAe]=In[OAe]=!0;In[lAe]=In[cAe]=In[bAe]=In[uAe]=In[wAe]=In[fAe]=In[dAe]=In[hAe]=In[pAe]=In[mAe]=In[gAe]=In[yAe]=In[vAe]=In[_Ae]=In[xAe]=!1;function IAe(e){return sAe(e)&&aAe(e.length)&&!!In[oAe(e)]}var RAe=IAe;function $Ae(e){return function(t){return e(t)}}var $q=$Ae,bw={exports:{}};bw.exports;(function(e,t){var r=gq,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(bw,bw.exports);var DAe=bw.exports,LAe=RAe,zAe=$q,Rj=DAe,$j=Rj&&Rj.isTypedArray,NAe=$j?zAe($j):LAe,Dq=NAe,jAe=UPe,BAe=G$,FAe=ia,UAe=Rq,VAe=Y$,WAe=Dq,qAe=Object.prototype,HAe=qAe.hasOwnProperty;function GAe(e,t){var r=FAe(e),n=!r&&BAe(e),i=!r&&!n&&UAe(e),o=!r&&!n&&!i&&WAe(e),s=r||n||i||o,a=s?jAe(e.length,String):[],d=a.length;for(var h in e)(t||HAe.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||VAe(h,d)))&&a.push(h);return a}var YAe=GAe,KAe=Object.prototype;function ZAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||KAe;return e===r}var XAe=ZAe;function JAe(e,t){return function(r){return e(t(r))}}var QAe=JAe,eMe=QAe,tMe=eMe(Object.keys,Object),rMe=tMe,nMe=XAe,iMe=rMe,oMe=Object.prototype,aMe=oMe.hasOwnProperty;function sMe(e){if(!nMe(e))return iMe(e);var t=[];for(var r in Object(e))aMe.call(e,r)&&r!="constructor"&&t.push(r);return t}var lMe=sMe,cMe=L$,uMe=K$;function fMe(e){return e!=null&&uMe(e.length)&&!cMe(e)}var L_=fMe,dMe=YAe,hMe=lMe,pMe=L_;function mMe(e){return pMe(e)?dMe(e):hMe(e)}var dE=mMe,gMe=MPe,yMe=BPe,vMe=dE;function _Me(e){return gMe(e,vMe,yMe)}var xMe=_Me,Dj=xMe,bMe=1,wMe=Object.prototype,SMe=wMe.hasOwnProperty;function EMe(e,t,r,n,i,o){var s=r&bMe,a=Dj(e),d=a.length,h=Dj(t),g=h.length;if(d!=g&&!s)return!1;for(var v=d;v--;){var b=a[v];if(!(s?b in t:SMe.call(t,b)))return!1}var M=o.get(e),P=o.get(t);if(M&&P)return M==t&&P==e;var w=!0;o.set(e,t),o.set(t,e);for(var A=s;++v<d;){b=a[v];var O=e[b],I=t[b];if(n)var C=s?n(I,O,b,t,e,o):n(O,I,b,e,t,o);if(!(C===void 0?O===I||i(O,I,r,n,o):C)){w=!1;break}A||(A=b=="constructor")}if(w&&!A){var R=e.constructor,z=t.constructor;R!=z&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof z=="function"&&z instanceof z)&&(w=!1)}return o.delete(e),o.delete(t),w}var CMe=EMe,TMe=dh,kMe=sc,PMe=TMe(kMe,"DataView"),AMe=PMe,MMe=dh,OMe=sc,IMe=MMe(OMe,"Promise"),RMe=IMe,$Me=dh,DMe=sc,LMe=$Me(DMe,"Set"),Lq=LMe,zMe=dh,NMe=sc,jMe=zMe(NMe,"WeakMap"),BMe=jMe,JA=AMe,QA=j$,eM=RMe,tM=Lq,rM=BMe,zq=jf,Cg=vq,Lj="[object Map]",FMe="[object Object]",zj="[object Promise]",Nj="[object Set]",jj="[object WeakMap]",Bj="[object DataView]",UMe=Cg(JA),VMe=Cg(QA),WMe=Cg(eM),qMe=Cg(tM),HMe=Cg(rM),xd=zq;(JA&&xd(new JA(new ArrayBuffer(1)))!=Bj||QA&&xd(new QA)!=Lj||eM&&xd(eM.resolve())!=zj||tM&&xd(new tM)!=Nj||rM&&xd(new rM)!=jj)&&(xd=function(e){var t=zq(e),r=t==FMe?e.constructor:void 0,n=r?Cg(r):"";if(n)switch(n){case UMe:return Bj;case VMe:return Lj;case WMe:return zj;case qMe:return Nj;case HMe:return jj}return t});var GMe=xd,Tk=Tq,YMe=Mq,KMe=CPe,ZMe=CMe,Fj=GMe,Uj=ia,Vj=Rq,XMe=Dq,JMe=1,Wj="[object Arguments]",qj="[object Array]",Ab="[object Object]",QMe=Object.prototype,Hj=QMe.hasOwnProperty;function eOe(e,t,r,n,i,o){var s=Uj(e),a=Uj(t),d=s?qj:Fj(e),h=a?qj:Fj(t);d=d==Wj?Ab:d,h=h==Wj?Ab:h;var g=d==Ab,v=h==Ab,b=d==h;if(b&&Vj(e)){if(!Vj(t))return!1;s=!0,g=!1}if(b&&!g)return o||(o=new Tk),s||XMe(e)?YMe(e,t,r,n,i,o):KMe(e,t,d,r,n,i,o);if(!(r&JMe)){var M=g&&Hj.call(e,"__wrapped__"),P=v&&Hj.call(t,"__wrapped__");if(M||P){var w=M?e.value():e,A=P?t.value():t;return o||(o=new Tk),i(w,A,r,n,o)}}return b?(o||(o=new Tk),ZMe(e,t,r,n,i,o)):!1}var tOe=eOe,rOe=tOe,Gj=Bf;function Nq(e,t,r,n,i){return e===t?!0:e==null||t==null||!Gj(e)&&!Gj(t)?e!==e&&t!==t:rOe(e,t,r,n,Nq,i)}var Z$=Nq,nOe=Tq,iOe=Z$,oOe=1,aOe=2;function sOe(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var d=a[0],h=e[d],g=a[1];if(s&&a[2]){if(h===void 0&&!(d in e))return!1}else{var v=new nOe;if(n)var b=n(h,g,d,e,t,v);if(!(b===void 0?iOe(g,h,oOe|aOe,n,v):b))return!1}}return!0}var lOe=sOe,cOe=Nf;function uOe(e){return e===e&&!cOe(e)}var jq=uOe,fOe=jq,dOe=dE;function hOe(e){for(var t=dOe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,fOe(i)]}return t}var pOe=hOe;function mOe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Bq=mOe,gOe=lOe,yOe=pOe,vOe=Bq;function _Oe(e){var t=yOe(e);return t.length==1&&t[0][2]?vOe(t[0][0],t[0][1]):function(r){return r===e||gOe(r,e,t)}}var xOe=_Oe;function bOe(e,t){return e!=null&&t in Object(e)}var wOe=bOe,SOe=wq,EOe=G$,COe=ia,TOe=Y$,kOe=K$,POe=fE;function AOe(e,t,r){t=SOe(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=POe(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&kOe(i)&&TOe(s,i)&&(COe(e)||EOe(e)))}var MOe=AOe,OOe=wOe,IOe=MOe;function ROe(e,t){return e!=null&&IOe(e,t,OOe)}var $Oe=ROe,DOe=Z$,LOe=Sq,zOe=$Oe,NOe=z$,jOe=jq,BOe=Bq,FOe=fE,UOe=1,VOe=2;function WOe(e,t){return NOe(e)&&jOe(t)?BOe(FOe(e),t):function(r){var n=LOe(r,e);return n===void 0&&n===t?zOe(r,e):DOe(t,n,UOe|VOe)}}var qOe=WOe;function HOe(e){return e}var Tg=HOe;function GOe(e){return function(t){return t==null?void 0:t[e]}}var YOe=GOe,KOe=V$;function ZOe(e){return function(t){return KOe(t,e)}}var XOe=ZOe,JOe=YOe,QOe=XOe,eIe=z$,tIe=fE;function rIe(e){return eIe(e)?JOe(tIe(e)):QOe(e)}var nIe=rIe,iIe=xOe,oIe=qOe,aIe=Tg,sIe=ia,lIe=nIe;function cIe(e){return typeof e=="function"?e:e==null?aIe:typeof e=="object"?sIe(e)?oIe(e[0],e[1]):iIe(e):lIe(e)}var Ff=cIe;function uIe(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var Fq=uIe;function fIe(e){return e!==e}var dIe=fIe;function hIe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var pIe=hIe,mIe=Fq,gIe=dIe,yIe=pIe;function vIe(e,t,r){return t===t?yIe(e,t,r):mIe(e,gIe,r)}var _Ie=vIe,xIe=_Ie;function bIe(e,t){var r=e==null?0:e.length;return!!r&&xIe(e,t,0)>-1}var wIe=bIe;function SIe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var EIe=SIe;function CIe(){}var TIe=CIe,kk=Lq,kIe=TIe,PIe=H$,AIe=1/0,MIe=kk&&1/PIe(new kk([,-0]))[1]==AIe?function(e){return new kk(e)}:kIe,OIe=MIe,IIe=kq,RIe=wIe,$Ie=EIe,DIe=Aq,LIe=OIe,zIe=H$,NIe=200;function jIe(e,t,r){var n=-1,i=RIe,o=e.length,s=!0,a=[],d=a;if(r)s=!1,i=$Ie;else if(o>=NIe){var h=t?null:LIe(e);if(h)return zIe(h);s=!1,i=DIe,d=new IIe}else d=t?[]:a;e:for(;++n<o;){var g=e[n],v=t?t(g):g;if(g=r||g!==0?g:0,s&&v===v){for(var b=d.length;b--;)if(d[b]===v)continue e;t&&d.push(v),a.push(g)}else i(d,v,r)||(d!==a&&d.push(v),a.push(g))}return a}var BIe=jIe,FIe=Ff,UIe=BIe;function VIe(e,t){return e&&e.length?UIe(e,FIe(t)):[]}var WIe=VIe;const ww=Kr(WIe);function qIe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var HIe=qIe,GIe=HIe;function YIe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:GIe(e,t,r)}var KIe=YIe,ZIe="\\ud800-\\udfff",XIe="\\u0300-\\u036f",JIe="\\ufe20-\\ufe2f",QIe="\\u20d0-\\u20ff",eRe=XIe+JIe+QIe,tRe="\\ufe0e\\ufe0f",rRe="\\u200d",nRe=RegExp("["+rRe+ZIe+eRe+tRe+"]");function iRe(e){return nRe.test(e)}var Uq=iRe;function oRe(e){return e.split("")}var aRe=oRe,Vq="\\ud800-\\udfff",sRe="\\u0300-\\u036f",lRe="\\ufe20-\\ufe2f",cRe="\\u20d0-\\u20ff",uRe=sRe+lRe+cRe,fRe="\\ufe0e\\ufe0f",dRe="["+Vq+"]",nM="["+uRe+"]",iM="\\ud83c[\\udffb-\\udfff]",hRe="(?:"+nM+"|"+iM+")",Wq="[^"+Vq+"]",qq="(?:\\ud83c[\\udde6-\\uddff]){2}",Hq="[\\ud800-\\udbff][\\udc00-\\udfff]",pRe="\\u200d",Gq=hRe+"?",Yq="["+fRe+"]?",mRe="(?:"+pRe+"(?:"+[Wq,qq,Hq].join("|")+")"+Yq+Gq+")*",gRe=Yq+Gq+mRe,yRe="(?:"+[Wq+nM+"?",nM,qq,Hq,dRe].join("|")+")",vRe=RegExp(iM+"(?="+iM+")|"+yRe+gRe,"g");function _Re(e){return e.match(vRe)||[]}var xRe=_Re,bRe=aRe,wRe=Uq,SRe=xRe;function ERe(e){return wRe(e)?SRe(e):bRe(e)}var CRe=ERe,TRe=KIe,kRe=Uq,PRe=CRe,ARe=bq;function MRe(e){return function(t){t=ARe(t);var r=kRe(t)?PRe(t):void 0,n=r?r[0]:t.charAt(0),i=r?TRe(r,1).join(""):t.slice(1);return n[e]()+i}}var ORe=MRe,IRe=ORe,RRe=IRe("toUpperCase"),$Re=RRe;const hE=Kr($Re);function En(e){return function(){return e}}const Kq=Math.cos,Sw=Math.sin,vl=Math.sqrt,Ew=Math.PI,pE=2*Ew,oM=Math.PI,aM=2*oM,bd=1e-6,DRe=aM-bd;function Zq(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function LRe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Zq;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class zRe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Zq:LRe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,d=n-t,h=i-r,g=s-t,v=a-r,b=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>bd)if(!(Math.abs(v*d-h*g)>bd)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let M=n-s,P=i-a,w=d*d+h*h,A=M*M+P*P,O=Math.sqrt(w),I=Math.sqrt(b),C=o*Math.tan((oM-Math.acos((w+b-A)/(2*O*I)))/2),R=C/I,z=C/O;Math.abs(R-1)>bd&&this._append`L${t+R*g},${r+R*v}`,this._append`A${o},${o},0,0,${+(v*M>g*P)},${this._x1=t+z*d},${this._y1=r+z*h}`}}arc(t,r,n,i,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),d=n*Math.sin(i),h=t+a,g=r+d,v=1^s,b=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>bd||Math.abs(this._y1-g)>bd)&&this._append`L${h},${g}`,n&&(b<0&&(b=b%aM+aM),b>DRe?this._append`A${n},${n},0,1,${v},${t-a},${r-d}A${n},${n},0,1,${v},${this._x1=h},${this._y1=g}`:b>bd&&this._append`A${n},${n},0,${+(b>=oM)},${v},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function X$(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zRe(t)}function J$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xq(e){this._context=e}Xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mE(e){return new Xq(e)}function Jq(e){return e[0]}function Qq(e){return e[1]}function eH(e,t){var r=En(!0),n=null,i=mE,o=null,s=X$(a);e=typeof e=="function"?e:e===void 0?Jq:En(e),t=typeof t=="function"?t:t===void 0?Qq:En(t);function a(d){var h,g=(d=J$(d)).length,v,b=!1,M;for(n==null&&(o=i(M=s())),h=0;h<=g;++h)!(h<g&&r(v=d[h],h,d))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(v,h,d),+t(v,h,d));if(M)return o=null,M+""||null}return a.x=function(d){return arguments.length?(e=typeof d=="function"?d:En(+d),a):e},a.y=function(d){return arguments.length?(t=typeof d=="function"?d:En(+d),a):t},a.defined=function(d){return arguments.length?(r=typeof d=="function"?d:En(!!d),a):r},a.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),a):i},a.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),a):n},a}function Mb(e,t,r){var n=null,i=En(!0),o=null,s=mE,a=null,d=X$(h);e=typeof e=="function"?e:e===void 0?Jq:En(+e),t=typeof t=="function"?t:En(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Qq:En(+r);function h(v){var b,M,P,w=(v=J$(v)).length,A,O=!1,I,C=new Array(w),R=new Array(w);for(o==null&&(a=s(I=d())),b=0;b<=w;++b){if(!(b<w&&i(A=v[b],b,v))===O)if(O=!O)M=b,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),P=b-1;P>=M;--P)a.point(C[P],R[P]);a.lineEnd(),a.areaEnd()}O&&(C[b]=+e(A,b,v),R[b]=+t(A,b,v),a.point(n?+n(A,b,v):C[b],r?+r(A,b,v):R[b]))}if(I)return a=null,I+""||null}function g(){return eH().defined(i).curve(s).context(o)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:En(+v),n=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:En(+v),h):e},h.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:En(+v),h):n},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:En(+v),r=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:En(+v),h):t},h.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:En(+v),h):r},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(r)},h.lineX1=function(){return g().x(n).y(t)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:En(!!v),h):i},h.curve=function(v){return arguments.length?(s=v,o!=null&&(a=s(o)),h):s},h.context=function(v){return arguments.length?(v==null?o=a=null:a=s(o=v),h):o},h}class tH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NRe(e){return new tH(e,!0)}function jRe(e){return new tH(e,!1)}const Q$={draw(e,t){const r=vl(t/Ew);e.moveTo(r,0),e.arc(0,0,r,0,pE)}},BRe={draw(e,t){const r=vl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rH=vl(1/3),FRe=rH*2,URe={draw(e,t){const r=vl(t/FRe),n=r*rH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VRe={draw(e,t){const r=vl(t),n=-r/2;e.rect(n,n,r,r)}},WRe=.8908130915292852,nH=Sw(Ew/10)/Sw(7*Ew/10),qRe=Sw(pE/10)*nH,HRe=-Kq(pE/10)*nH,GRe={draw(e,t){const r=vl(t*WRe),n=qRe*r,i=HRe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const s=pE*o/5,a=Kq(s),d=Sw(s);e.lineTo(d*r,-a*r),e.lineTo(a*n-d*i,d*n+a*i)}e.closePath()}},Pk=vl(3),YRe={draw(e,t){const r=-vl(t/(Pk*3));e.moveTo(0,r*2),e.lineTo(-Pk*r,-r),e.lineTo(Pk*r,-r),e.closePath()}},ss=-.5,ls=vl(3)/2,sM=1/vl(12),KRe=(sM/2+1)*3,ZRe={draw(e,t){const r=vl(t/KRe),n=r/2,i=r*sM,o=n,s=r*sM+r,a=-o,d=s;e.moveTo(n,i),e.lineTo(o,s),e.lineTo(a,d),e.lineTo(ss*n-ls*i,ls*n+ss*i),e.lineTo(ss*o-ls*s,ls*o+ss*s),e.lineTo(ss*a-ls*d,ls*a+ss*d),e.lineTo(ss*n+ls*i,ss*i-ls*n),e.lineTo(ss*o+ls*s,ss*s-ls*o),e.lineTo(ss*a+ls*d,ss*d-ls*a),e.closePath()}};function XRe(e,t){let r=null,n=X$(i);e=typeof e=="function"?e:En(e||Q$),t=typeof t=="function"?t:En(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:En(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:En(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Cw(){}function Tw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iH(e){this._context=e}iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JRe(e){return new iH(e)}function oH(e){this._context=e}oH.prototype={areaStart:Cw,areaEnd:Cw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QRe(e){return new oH(e)}function aH(e){this._context=e}aH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e$e(e){return new aH(e)}function sH(e){this._context=e}sH.prototype={areaStart:Cw,areaEnd:Cw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function t$e(e){return new sH(e)}function Yj(e){return e<0?-1:1}function Kj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(Yj(o)+Yj(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Zj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ak(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function kw(e){this._context=e}kw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ak(this,this._t0,Zj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ak(this,Zj(this,r=Kj(this,e,t)),r);break;default:Ak(this,this._t0,r=Kj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lH(e){this._context=new cH(e)}(lH.prototype=Object.create(kw.prototype)).point=function(e,t){kw.prototype.point.call(this,t,e)};function cH(e){this._context=e}cH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function r$e(e){return new kw(e)}function n$e(e){return new lH(e)}function uH(e){this._context=e}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Xj(e),i=Xj(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xj(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function i$e(e){return new uH(e)}function gE(e,t){this._context=e,this._t=t}gE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function o$e(e){return new gE(e,.5)}function a$e(e){return new gE(e,0)}function s$e(e){return new gE(e,1)}function Bm(e,t){if((s=e.length)>1)for(var r=1,n,i,o=e[t[0]],s,a=o.length;r<s;++r)for(i=o,o=e[t[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function lM(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function l$e(e,t){return e[t]}function c$e(e){const t=[];return t.key=e,t}function u$e(){var e=En([]),t=lM,r=Bm,n=l$e;function i(o){var s=Array.from(e.apply(this,arguments),c$e),a,d=s.length,h=-1,g;for(const v of o)for(a=0,++h;a<d;++a)(s[a][h]=[0,+n(v,s[a].key,h,o)]).data=v;for(a=0,g=J$(t(s));a<d;++a)s[g[a]].index=a;return r(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:En(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:En(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?lM:typeof o=="function"?o:En(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Bm,i):r},i}function f$e(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Bm(e,t)}}function d$e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=e[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}Bm(e,t)}}function h$e(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,d=0,h=0;a<s;++a){for(var g=e[t[a]],v=g[n][1]||0,b=g[n-1][1]||0,M=(v-b)/2,P=0;P<a;++P){var w=e[t[P]],A=w[n][1]||0,O=w[n-1][1]||0;M+=A-O}d+=v,h+=M*v}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Bm(e,t)}}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cM.apply(this,arguments)}var fH={symbolCircle:Q$,symbolCross:BRe,symbolDiamond:URe,symbolSquare:VRe,symbolStar:GRe,symbolTriangle:YRe,symbolWye:ZRe},p$e=Math.PI/180,m$e=function(t){var r="symbol".concat(hE(t));return fH[r]||Q$},g$e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*p$e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},y$e={type:"circle",size:64,sizeType:"area"},v$e=function(t,r){fH["symbol".concat(hE(t))]=r},eD=function(t){var r=function(){var h=t.size,g=t.sizeType,v=t.type,b=m$e(v),M=XRe().type(b).size(g$e(h,g,v));return M()},n=t.className,i=t.cx,o=t.cy,s=t.size,a=Ur(t,!0);return i===+i&&o===+o&&s===+s?We.createElement("path",cM({},a,{className:vn("recharts-symbols",n),transform:"translate(".concat(i,", ").concat(o,")"),d:r()})):null};eD.defaultProps=y$e;eD.registerSymbol=v$e;function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function uM(){return uM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uM.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _$e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dH(n.key),n)}}function b$e(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fM(e,t)}function fM(e,t){return fM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fM(e,t)}function S$e(e){var t=T$e();return function(){var n=Pw(e),i;if(t){var o=Pw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return E$e(this,i)}}function E$e(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(e)}function C$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pw(e){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(e)}function $0(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=k$e(e,"string");return Fm(t)==="symbol"?t:String(t)}function k$e(e,t){if(Fm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cs=32,tD=function(e){w$e(r,e);var t=S$e(r);function r(){return x$e(this,r),t.apply(this,arguments)}return b$e(r,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=cs/2,a=cs/6,d=cs/3,h=i.inactive?o:i.color;if(i.type==="plainline")return We.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:cs,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return We.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(cs,"M").concat(2*d,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return We.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(cs/8,"h").concat(cs,"v").concat(cs*3/4,"h").concat(-cs,"z"),className:"recharts-legend-icon"});if(We.isValidElement(i.legendIcon)){var g=_$e({},i);return delete g.legendIcon,We.cloneElement(i.legendIcon,g)}return We.createElement(eD,{fill:h,cx:s,cy:s,size:cs,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,d=o.layout,h=o.formatter,g=o.inactiveColor,v={x:0,y:0,width:cs,height:cs},b={display:d==="horizontal"?"inline-block":"block",marginRight:10},M={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(P,w){var A,O=P.formatter||h,I=vn((A={"recharts-legend-item":!0},$0(A,"legend-item-".concat(w),!0),$0(A,"inactive",P.inactive),A));if(P.type==="none")return null;var C=P.inactive?g:P.color;return We.createElement("li",uM({className:I,style:b,key:"legend-item-".concat(w)},vw(i.props,P,w)),We.createElement(ZA,{width:a,height:a,viewBox:v,style:M},i.renderIcon(P)),We.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},O?O(P.value,P,w):P.value))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var d={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return We.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}]),r}(W.PureComponent);$0(tD,"displayName","Legend");$0(tD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var P$e=["ref"];function eB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(r),!0).forEach(function(n){yE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function M$e(e,t,r){return t&&tB(e.prototype,t),r&&tB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dM(e,t)}function dM(e,t){return dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dM(e,t)}function I$e(e){var t=$$e();return function(){var n=Aw(e),i;if(t){var o=Aw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return R$e(this,i)}}function R$e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hH(e)}function hH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function yE(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=D$e(e,"string");return Um(t)==="symbol"?t:String(t)}function D$e(e,t){if(Um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L$e(e,t){if(e==null)return{};var r=z$e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z$e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function N$e(e){return e.value}function j$e(e,t){return e===!0?ww(t,N$e):hr(e)?ww(t,e):t}function B$e(e,t){if(We.isValidElement(e))return We.cloneElement(e,t);if(hr(e))return We.createElement(e,t);t.ref;var r=L$e(t,P$e);return We.createElement(tD,r)}var rB=1,Vm=function(e){O$e(r,e);var t=I$e(r);function r(){var n;A$e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),yE(hH(n),"state",{boxWidth:-1,boxHeight:-1}),n}return M$e(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight;return o>=0&&s>=0?{width:o,height:s}:null}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,d=o.verticalAlign,h=o.margin,g=o.chartWidth,v=o.chartHeight,b,M;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var P=this.getBBoxSnapshot()||{width:0};b={left:((g||0)-P.width)/2}}else b=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(d==="middle"){var w=this.getBBoxSnapshot()||{height:0};M={top:((v||0)-w.height)/2}}else M=d==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return vp(vp({},b),M)}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var d=this.wrapperNode.getBoundingClientRect();(Math.abs(d.width-o)>rB||Math.abs(d.height-s)>rB)&&this.setState({boxWidth:d.width,boxHeight:d.height},function(){a&&a(d)})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){a&&a(null)})}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,d=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,v=o.payload,b=vp(vp({position:"absolute",width:a||"auto",height:d||"auto"},this.getDefaultPosition(h)),h);return We.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:function(P){i.wrapperNode=P}},B$e(s,vp(vp({},this.props),{},{payload:j$e(g,v)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Mt(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),r}(W.PureComponent);yE(Vm,"displayName","Legend");yE(Vm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var F$e=Object.getOwnPropertyNames,U$e=Object.getOwnPropertySymbols,V$e=Object.prototype.hasOwnProperty;function nB(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function Ob(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var d=e(r,n,i);return o.delete(r),o.delete(n),d}}function iB(e){return F$e(e).concat(U$e(e))}var mH=Object.hasOwn||function(e,t){return V$e.call(e,t)};function kg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var gH="_owner",oB=Object.getOwnPropertyDescriptor,aB=Object.keys;function W$e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function q$e(e,t){return kg(e.getTime(),t.getTime())}function sB(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var d=t.entries(),h=!1,g=0;(a=d.next())&&!a.done;){var v=s.value,b=v[0],M=v[1],P=a.value,w=P[0],A=P[1];!h&&!n[g]&&(h=r.equals(b,w,o,g,e,t,r)&&r.equals(M,A,b,w,e,t,r))&&(n[g]=!0),g++}if(!h)return!1;o++}return!0}function H$e(e,t,r){var n=aB(e),i=n.length;if(aB(t).length!==i)return!1;for(var o;i-- >0;)if(o=n[i],o===gH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!mH(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function Jy(e,t,r){var n=iB(e),i=n.length;if(iB(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],o===gH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!mH(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(s=oB(e,o),a=oB(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function G$e(e,t){return kg(e.valueOf(),t.valueOf())}function Y$e(e,t){return e.source===t.source&&e.flags===t.flags}function lB(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),d=!1,h=0;(s=a.next())&&!s.done;)!d&&!n[h]&&(d=r.equals(o.value,s.value,o.value,s.value,e,t,r))&&(n[h]=!0),h++;if(!d)return!1}return!0}function K$e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var Z$e="[object Arguments]",X$e="[object Boolean]",J$e="[object Date]",Q$e="[object Map]",eDe="[object Number]",tDe="[object Object]",rDe="[object RegExp]",nDe="[object Set]",iDe="[object String]",oDe=Array.isArray,cB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uB=Object.assign,aDe=Object.prototype.toString.call.bind(Object.prototype.toString);function sDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,d=e.areTypedArraysEqual;return function(g,v,b){if(g===v)return!0;if(g==null||v==null||typeof g!="object"||typeof v!="object")return g!==g&&v!==v;var M=g.constructor;if(M!==v.constructor)return!1;if(M===Object)return i(g,v,b);if(oDe(g))return t(g,v,b);if(cB!=null&&cB(g))return d(g,v,b);if(M===Date)return r(g,v,b);if(M===RegExp)return s(g,v,b);if(M===Map)return n(g,v,b);if(M===Set)return a(g,v,b);var P=aDe(g);return P===J$e?r(g,v,b):P===rDe?s(g,v,b):P===Q$e?n(g,v,b):P===nDe?a(g,v,b):P===tDe?typeof g.then!="function"&&typeof v.then!="function"&&i(g,v,b):P===Z$e?i(g,v,b):P===X$e||P===eDe||P===iDe?o(g,v,b):!1}}function lDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Jy:W$e,areDatesEqual:q$e,areMapsEqual:n?nB(sB,Jy):sB,areObjectsEqual:n?Jy:H$e,arePrimitiveWrappersEqual:G$e,areRegExpsEqual:Y$e,areSetsEqual:n?nB(lB,Jy):lB,areTypedArraysEqual:n?Jy:K$e};if(r&&(i=uB({},i,r(i))),t){var o=Ob(i.areArraysEqual),s=Ob(i.areMapsEqual),a=Ob(i.areObjectsEqual),d=Ob(i.areSetsEqual);i=uB({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:d})}return i}function cDe(e){return function(t,r,n,i,o,s,a){return e(t,r,a)}}function uDe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,o=e.strict;if(n)return function(d,h){var g=n(),v=g.cache,b=v===void 0?t?new WeakMap:void 0:v,M=g.meta;return r(d,h,{cache:b,equals:i,meta:M,strict:o})};if(t)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(d,h){return r(d,h,s)}}var fDe=Uf();Uf({strict:!0});Uf({circular:!0});Uf({circular:!0,strict:!0});Uf({createInternalComparator:function(){return kg}});Uf({strict:!0,createInternalComparator:function(){return kg}});Uf({circular:!0,createInternalComparator:function(){return kg}});Uf({circular:!0,createInternalComparator:function(){return kg},strict:!0});function Uf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=lDe(e),d=sDe(a),h=n?n(d):cDe(d);return uDe({circular:r,comparator:d,createState:i,equals:h,strict:s})}function fB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):requestAnimationFrame(i)};requestAnimationFrame(n)}function hM(e){"@babel/helpers - typeof";return hM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hM(e)}function dDe(e){return gDe(e)||mDe(e)||pDe(e)||hDe()}function hDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pDe(e,t){if(e){if(typeof e=="string")return dB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dB(e,t)}}function dB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gDe(e){if(Array.isArray(e))return e}function yDe(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=dDe(s),d=a[0],h=a.slice(1);if(typeof d=="number"){fB(i.bind(null,h),d);return}i(d),fB(i.bind(null,h));return}hM(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(r),!0).forEach(function(n){Mw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mw(e,t,r){return t=vDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e){var t=_De(e,"string");return D0(t)==="symbol"?t:String(t)}function _De(e,t){if(D0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xDe=["Webkit","Moz","O","ms"],bDe=["-webkit-","-moz-","-o-","-ms-"],wDe=["transform","transformOrigin","transition"],SDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},EDe=function(t){return t},CDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},TDe=function(t,r){if(wDe.indexOf(t)===-1)return Mw({},t,Number.isNaN(r)?0:r);var n=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=r;return xDe.reduce(function(s,a,d){return n&&(o=r.replace(/(transform|transform-origin)/gim,"".concat(bDe[d],"$1"))),Wm(Wm({},s),{},Mw({},a+i,o))},{})},Fv=function(t,r){return Object.keys(r).reduce(function(n,i){return Wm(Wm({},n),{},Mw({},i,t(i,r[i])))},{})},pM=function(t){return Object.keys(t).reduce(function(r,n){return Wm(Wm({},r),TDe(n,r[n]))},t)},pB=function(t,r,n){return t.map(function(i){return"".concat(CDe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function kDe(e,t){return MDe(e)||ADe(e,t)||yH(e,t)||PDe()}function PDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ADe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function MDe(e){if(Array.isArray(e))return e}function ODe(e){return $De(e)||RDe(e)||yH(e)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(e,t){if(e){if(typeof e=="string")return mM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(e,t)}}function RDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $De(e){if(Array.isArray(e))return mM(e)}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ow=1e-4,vH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},_H=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},mB=function(t,r){return function(n){var i=vH(t,r);return _H(i,n)}},DDe=function(t,r){return function(n){var i=vH(t,r),o=[].concat(ODe(i.map(function(s,a){return s*a}).slice(1)),[0]);return _H(o,n)}},gB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),g=kDe(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var v=mB(i,s),b=mB(o,a),M=DDe(i,s),P=function(O){return O>1?1:O<0?0:O},w=function(O){for(var I=O>1?1:O,C=I,R=0;R<8;++R){var z=v(C)-I,L=M(C);if(Math.abs(z-I)<Ow||L<Ow)return b(C);C=P(C-z/L)}return b(C)};return w.isStepper=!1,w},LDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,d=function(g,v,b){var M=-(g-v)*n,P=b*o,w=b+(M-P)*a/1e3,A=b*a/1e3+g;return Math.abs(A-v)<Ow&&Math.abs(w)<Ow?[v,0]:[A,w]};return d.isStepper=!0,d.dt=a,d},zDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gB(i);case"spring":return LDe();default:if(i.split("(")[0]==="cubic-bezier")return gB(i)}return typeof i=="function"?i:null};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function yB(e){return BDe(e)||jDe(e)||xH(e)||NDe()}function NDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BDe(e){if(Array.isArray(e))return yM(e)}function vB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vB(Object(r),!0).forEach(function(n){gM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gM(e,t,r){return t=FDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=UDe(e,"string");return L0(t)==="symbol"?t:String(t)}function UDe(e,t){if(L0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VDe(e,t){return HDe(e)||qDe(e,t)||xH(e,t)||WDe()}function WDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xH(e,t){if(e){if(typeof e=="string")return yM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(e,t)}}function yM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function HDe(e){if(Array.isArray(e))return e}var Iw=function(t,r,n){return t+(r-t)*n},vM=function(t){var r=t.from,n=t.to;return r!==n},GDe=function e(t,r,n){var i=Fv(function(o,s){if(vM(s)){var a=t(s.from,s.to,s.velocity),d=VDe(a,2),h=d[0],g=d[1];return io(io({},s),{},{from:h,velocity:g})}return s},r);return n<1?Fv(function(o,s){return vM(s)?io(io({},s),{},{velocity:Iw(s.velocity,i[o].velocity,n),from:Iw(s.from,i[o].from,n)}):s},r):e(t,i,n-1)};const YDe=function(e,t,r,n,i){var o=SDe(e,t),s=o.reduce(function(A,O){return io(io({},A),{},gM({},O,[e[O],t[O]]))},{}),a=o.reduce(function(A,O){return io(io({},A),{},gM({},O,{from:e[O],velocity:0,to:t[O]}))},{}),d=-1,h,g,v=function(){return null},b=function(){return Fv(function(O,I){return I.from},a)},M=function(){return!Object.values(a).filter(vM).length},P=function(O){h||(h=O);var I=O-h,C=I/r.dt;a=GDe(r,a,C),i(io(io(io({},e),t),b())),h=O,M()||(d=requestAnimationFrame(v))},w=function(O){g||(g=O);var I=(O-g)/n,C=Fv(function(z,L){return Iw.apply(void 0,yB(L).concat([r(I)]))},s);if(i(io(io(io({},e),t),C)),I<1)d=requestAnimationFrame(v);else{var R=Fv(function(z,L){return Iw.apply(void 0,yB(L).concat([r(1)]))},s);i(io(io(io({},e),t),R))}};return v=r.isStepper?P:w,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(d)}}};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}var KDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ZDe(e,t){if(e==null)return{};var r=XDe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XDe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Mk(e){return tLe(e)||eLe(e)||QDe(e)||JDe()}function JDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QDe(e,t){if(e){if(typeof e=="string")return _M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(e,t)}}function eLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tLe(e){if(Array.isArray(e))return _M(e)}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vv(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bH(n.key),n)}}function nLe(e,t,r){return t&&xB(e.prototype,t),r&&xB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bH(e){var t=iLe(e,"string");return qm(t)==="symbol"?t:String(t)}function iLe(e,t){if(qm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xM(e,t)}function xM(e,t){return xM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xM(e,t)}function aLe(e){var t=sLe();return function(){var n=Rw(e),i;if(t){var o=Rw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return bM(this,i)}}function bM(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wM(e)}function wM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sLe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(e)}var ih=function(e){oLe(r,e);var t=aLe(r);function r(n,i){var o;rLe(this,r),o=t.call(this,n,i);var s=o.props,a=s.isActive,d=s.attributeName,h=s.from,g=s.to,v=s.steps,b=s.children,M=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(wM(o)),o.changeStyle=o.changeStyle.bind(wM(o)),!a||M<=0)return o.state={style:{}},typeof b=="function"&&(o.state={style:g}),bM(o);if(v&&v.length)o.state={style:v[0].style};else if(h){if(typeof b=="function")return o.state={style:h},bM(o);o.state={style:d?vv({},d,h):h}}else o.state={style:{}};return o}return nLe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,g=o.to,v=o.from,b=this.state.style;if(a){if(!s){var M={style:d?vv({},d,g):g};this.state&&b&&(d&&b[d]!==g||!d&&b!==g)&&this.setState(M);return}if(!(fDe(i.to,g)&&i.canBegin&&i.isActive)){var P=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=P||h?v:i.to;if(this.state&&b){var A={style:d?vv({},d,w):w};(d&&[d]!==w||!d&&b!==w)&&this.setState(A)}this.runAnimation(Ks(Ks({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,d=i.duration,h=i.easing,g=i.begin,v=i.onAnimationEnd,b=i.onAnimationStart,M=YDe(s,a,zDe(h),d,this.changeStyle),P=function(){o.stopJSAnimation=M()};this.manager.start([b,g,P,d,v])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,d=i.onAnimationStart,h=s[0],g=h.style,v=h.duration,b=v===void 0?0:v,M=function(w,A,O){if(O===0)return w;var I=A.duration,C=A.easing,R=C===void 0?"ease":C,z=A.style,L=A.properties,F=A.onAnimationEnd,H=O>0?s[O-1]:A,re=L||Object.keys(z);if(typeof R=="function"||R==="spring")return[].concat(Mk(w),[o.runJSAnimation.bind(o,{from:H.style,to:z,duration:I,easing:R}),I]);var te=pB(re,I,R),ae=Ks(Ks(Ks({},H.style),z),{},{transition:te});return[].concat(Mk(w),[ae,I,F]).filter(EDe)};return this.manager.start([d].concat(Mk(s.reduce(M,[g,Math.max(b,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yDe());var o=i.begin,s=i.duration,a=i.attributeName,d=i.to,h=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,b=i.steps,M=i.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof h=="function"||typeof M=="function"||h==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var w=a?vv({},a,d):d,A=pB(Object.keys(w),s,h);P.start([g,o,Ks(Ks({},w),{},{transition:A}),s,v])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=ZDe(i,KDe),h=W.Children.count(o),g=pM(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var v=function(M){var P=M.props,w=P.style,A=w===void 0?{}:w,O=P.className,I=W.cloneElement(M,Ks(Ks({},d),{},{style:Ks(Ks({},A),g),className:O}));return I};return h===1?v(W.Children.only(o)):We.createElement("div",null,W.Children.map(o,function(b){return v(b)}))}}]),r}(W.PureComponent);ih.displayName="Animate";ih.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ih.propTypes={from:Tr.oneOfType([Tr.object,Tr.string]),to:Tr.oneOfType([Tr.object,Tr.string]),attributeName:Tr.string,duration:Tr.number,begin:Tr.number,easing:Tr.oneOfType([Tr.string,Tr.func]),steps:Tr.arrayOf(Tr.shape({duration:Tr.number.isRequired,style:Tr.object.isRequired,easing:Tr.oneOfType([Tr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tr.func]),properties:Tr.arrayOf("string"),onAnimationEnd:Tr.func})),children:Tr.oneOfType([Tr.node,Tr.func]),isActive:Tr.bool,canBegin:Tr.bool,onAnimationEnd:Tr.func,shouldReAnimate:Tr.bool,onAnimationStart:Tr.func,onAnimationReStart:Tr.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});Tr.object,Tr.object,Tr.object,Tr.element;Tr.object,Tr.object,Tr.object,Tr.oneOfType([Tr.array,Tr.element]),Tr.any;var bB=I_,lLe=G$,cLe=ia,wB=bB?bB.isConcatSpreadable:void 0;function uLe(e){return cLe(e)||lLe(e)||!!(wB&&e&&e[wB])}var fLe=uLe,dLe=Oq,hLe=fLe;function wH(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=hLe),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?wH(a,t-1,r,n,i):dLe(i,a):n||(i[i.length]=a)}return i}var SH=wH;function pLe(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var d=s[e?a:++i];if(r(o[d],d,o)===!1)break}return t}}var mLe=pLe,gLe=mLe,yLe=gLe(),vLe=yLe,_Le=vLe,xLe=dE;function bLe(e,t){return e&&_Le(e,t,xLe)}var EH=bLe,wLe=L_;function SLe(e,t){return function(r,n){if(r==null)return r;if(!wLe(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var ELe=SLe,CLe=EH,TLe=ELe,kLe=TLe(CLe),rD=kLe,PLe=rD,ALe=L_;function MLe(e,t){var r=-1,n=ALe(e)?Array(e.length):[];return PLe(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var CH=MLe;function OLe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ILe=OLe,SB=xg;function RLe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=SB(e),s=t!==void 0,a=t===null,d=t===t,h=SB(t);if(!a&&!h&&!o&&e>t||o&&s&&d&&!a&&!h||n&&s&&d||!r&&d||!i)return 1;if(!n&&!o&&!h&&e<t||h&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!d)return-1}return 0}var $Le=RLe,DLe=$Le;function LLe(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var d=DLe(i[n],o[n]);if(d){if(n>=a)return d;var h=r[n];return d*(h=="desc"?-1:1)}}return e.index-t.index}var zLe=LLe,Ok=U$,NLe=V$,jLe=Ff,BLe=CH,FLe=ILe,ULe=$q,VLe=zLe,WLe=Tg,qLe=ia;function HLe(e,t,r){t.length?t=Ok(t,function(o){return qLe(o)?function(s){return NLe(s,o.length===1?o[0]:o)}:o}):t=[WLe];var n=-1;t=Ok(t,ULe(jLe));var i=BLe(e,function(o,s,a){var d=Ok(t,function(h){return h(o)});return{criteria:d,index:++n,value:o}});return FLe(i,function(o,s){return VLe(o,s,r)})}var GLe=HLe;function YLe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var KLe=YLe,ZLe=KLe,EB=Math.max;function XLe(e,t,r){return t=EB(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=EB(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),ZLe(e,this,a)}}var JLe=XLe;function QLe(e){return function(){return e}}var eze=QLe,tze=dh,rze=function(){try{var e=tze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TH=rze,nze=eze,CB=TH,ize=Tg,oze=CB?function(e,t){return CB(e,"toString",{configurable:!0,enumerable:!1,value:nze(t),writable:!0})}:ize,aze=oze,sze=800,lze=16,cze=Date.now;function uze(e){var t=0,r=0;return function(){var n=cze(),i=lze-(n-r);if(r=n,i>0){if(++t>=sze)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fze=uze,dze=aze,hze=fze,pze=hze(dze),mze=pze,gze=Tg,yze=JLe,vze=mze;function _ze(e,t){return vze(yze(e,t,gze),e+"")}var xze=_ze,bze=N$,wze=L_,Sze=Y$,Eze=Nf;function Cze(e,t,r){if(!Eze(r))return!1;var n=typeof t;return(n=="number"?wze(r)&&Sze(t,r.length):n=="string"&&t in r)?bze(r[t],e):!1}var vE=Cze,Tze=SH,kze=GLe,Pze=xze,TB=vE,Aze=Pze(function(e,t){if(e==null)return[];var r=t.length;return r>1&&TB(e,t[0],t[1])?t=[]:r>2&&TB(t[0],t[1],t[2])&&(t=[t[0]]),kze(e,Tze(t,1),[])}),Mze=Aze;const nD=Kr(Mze);function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function Oze(e,t){return Dze(e)||$ze(e,t)||Rze(e,t)||Ize()}function Ize(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rze(e,t){if(e){if(typeof e=="string")return kB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kB(e,t)}}function kB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Dze(e){if(Array.isArray(e))return e}function PB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PB(Object(r),!0).forEach(function(n){Lze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lze(e,t,r){return t=zze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zze(e){var t=Nze(e,"string");return z0(t)==="symbol"?t:String(t)}function Nze(e,t){if(z0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jze(e){return lo(e)&&Li(e[0])&&Li(e[1])?e.join(" ~ "):e}var Bze=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,d=t.labelStyle,h=d===void 0?{}:d,g=t.payload,v=t.formatter,b=t.itemSorter,M=t.wrapperClassName,P=t.labelClassName,w=t.label,A=t.labelFormatter,O=function(){if(g&&g.length){var re={padding:0,margin:0},te=(b?nD(g,b):g).map(function(ae,de){if(ae.type==="none")return null;var pe=Ik({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},a),Se=ae.formatter||v||jze,_e=ae.value,Me=ae.name,Ae=_e,Ee=Me;if(Se&&Ae!=null&&Ee!=null){var Ie=Se(_e,Me,ae,de,g);if(Array.isArray(Ie)){var He=Oze(Ie,2);Ae=He[0],Ee=He[1]}else Ae=Ie}return We.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(de),style:pe},Li(Ee)?We.createElement("span",{className:"recharts-tooltip-item-name"},Ee):null,Li(Ee)?We.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,We.createElement("span",{className:"recharts-tooltip-item-value"},Ae),We.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return We.createElement("ul",{className:"recharts-tooltip-item-list",style:re},te)}return null},I=Ik({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=Ik({margin:0},h),R=!fr(w),z=R?w:"",L=vn("recharts-default-tooltip",M),F=vn("recharts-tooltip-label",P);return R&&A&&g!==void 0&&g!==null&&(z=A(w,g)),We.createElement("div",{className:L,style:I},We.createElement("p",{className:F,style:C},We.isValidElement(z)?z:"".concat(z)),O())},Fze=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wc={isSsr:Fze(),get:function(t){return Wc[t]},set:function(t,r){if(typeof t=="string")Wc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Wc[i]=t[i]})}}};function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function AB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(r),!0).forEach(function(n){_v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _v(e,t,r){return t=Uze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uze(e){var t=Vze(e,"string");return N0(t)==="symbol"?t:String(t)}function Vze(e,t){if(N0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ib(e,t){return Gze(e)||Hze(e,t)||qze(e,t)||Wze()}function Wze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qze(e,t){if(e){if(typeof e=="string")return MB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MB(e,t)}}function MB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Gze(e){if(Array.isArray(e))return e}var Qy="recharts-tooltip-wrapper",OB=1;function Yze(e){return e.dataKey}function Kze(e,t){return e===!0?ww(t,Yze):hr(e)?ww(t,e):t}function Zze(e,t){return We.isValidElement(e)?We.cloneElement(e,t):hr(e)?We.createElement(e,t):We.createElement(Bze,t)}var Xze={active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Wc.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},$d=function(t){var r,n=W.useState(-1),i=Ib(n,2),o=i[0],s=i[1],a=W.useState(-1),d=Ib(a,2),h=d[0],g=d[1],v=W.useState(!1),b=Ib(v,2),M=b[0],P=b[1],w=W.useState({x:0,y:0}),A=Ib(w,2),O=A[0],I=A[1],C=W.useRef(),R=t.allowEscapeViewBox,z=t.reverseDirection,L=t.coordinate,F=t.offset,H=t.position,re=t.viewBox,te=W.useCallback(function(nt){nt.key==="Escape"&&(P(!0),I(function(Ue){return Pc(Pc({},Ue),{},{x:L==null?void 0:L.x,y:L==null?void 0:L.y})}))},[L==null?void 0:L.x,L==null?void 0:L.y]);W.useEffect(function(){var nt=function(){if(M?(document.removeEventListener("keydown",te),((L==null?void 0:L.x)!==O.x||(L==null?void 0:L.y)!==O.y)&&P(!1)):document.addEventListener("keydown",te),C.current&&C.current.getBoundingClientRect){var Xe=C.current.getBoundingClientRect();(Math.abs(Xe.width-o)>OB||Math.abs(Xe.height-h)>OB)&&(s(Xe.width),g(Xe.height))}else(o!==-1||h!==-1)&&(s(-1),g(-1))};return nt(),function(){document.removeEventListener("keydown",te)}},[h,o,L,M,O.x,O.y,te]);var ae=function(Ue){var Xe=Ue.key,ct=Ue.tooltipDimension,Be=Ue.viewBoxDimension;if(H&&Mt(H[Xe]))return H[Xe];var Pe=L[Xe]-ct-F,St=L[Xe]+F;if(R!=null&&R[Xe])return z[Xe]?Pe:St;if(z!=null&&z[Xe]){var Zt=Pe,Ot=re[Xe];return Zt<Ot?Math.max(St,re[Xe]):Math.max(Pe,re[Xe])}var Nt=St+ct,Mr=re[Xe]+Be;return Nt>Mr?Math.max(Pe,re[Xe]):Math.max(St,re[Xe])},de=t.payload,pe=t.payloadUniqBy,Se=t.filterNull,_e=t.active,Me=t.wrapperStyle,Ae=t.useTranslate3d,Ee=t.isAnimationActive,Ie=t.animationDuration,He=t.animationEasing,tt=Kze(pe,Se&&de&&de.length?de.filter(function(nt){return!fr(nt.value)}):de),Te=tt&&tt.length,Ne=t.content,De=Pc({pointerEvents:"none",visibility:!M&&_e&&Te?"visible":"hidden",position:"absolute",top:0,left:0},Me),Ye,je;H&&Mt(H.x)&&Mt(H.y)?(Ye=H.x,je=H.y):o>0&&h>0&&L?(Ye=ae({key:"x",tooltipDimension:o,viewBoxDimension:re.width}),je=ae({key:"y",tooltipDimension:h,viewBoxDimension:re.height})):De.visibility="hidden",De=Pc(Pc({},pM({transform:Ae?"translate3d(".concat(Ye,"px, ").concat(je,"px, 0)"):"translate(".concat(Ye,"px, ").concat(je,"px)")})),De),Ee&&_e&&(De=Pc(Pc({},pM({transition:"transform ".concat(Ie,"ms ").concat(He)})),De));var st=vn(Qy,(r={},_v(r,"".concat(Qy,"-right"),Mt(Ye)&&L&&Mt(L.x)&&Ye>=L.x),_v(r,"".concat(Qy,"-left"),Mt(Ye)&&L&&Mt(L.x)&&Ye<L.x),_v(r,"".concat(Qy,"-bottom"),Mt(je)&&L&&Mt(L.y)&&je>=L.y),_v(r,"".concat(Qy,"-top"),Mt(je)&&L&&Mt(L.y)&&je<L.y),r));return We.createElement("div",{tabIndex:-1,role:"dialog",className:st,style:De,ref:C},Zze(Ne,Pc(Pc({},t),{},{payload:tt})))};$d.displayName="Tooltip";$d.defaultProps=Xze;var Jze=sc,Qze=function(){return Jze.Date.now()},eNe=Qze,tNe=/\s/;function rNe(e){for(var t=e.length;t--&&tNe.test(e.charAt(t)););return t}var nNe=rNe,iNe=nNe,oNe=/^\s+/;function aNe(e){return e&&e.slice(0,iNe(e)+1).replace(oNe,"")}var sNe=aNe,lNe=sNe,IB=Nf,cNe=xg,RB=0/0,uNe=/^[-+]0x[0-9a-f]+$/i,fNe=/^0b[01]+$/i,dNe=/^0o[0-7]+$/i,hNe=parseInt;function pNe(e){if(typeof e=="number")return e;if(cNe(e))return RB;if(IB(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=IB(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lNe(e);var r=fNe.test(e);return r||dNe.test(e)?hNe(e.slice(2),r?2:8):uNe.test(e)?RB:+e}var kH=pNe,mNe=Nf,Rk=eNe,$B=kH,gNe="Expected a function",yNe=Math.max,vNe=Math.min;function _Ne(e,t,r){var n,i,o,s,a,d,h=0,g=!1,v=!1,b=!0;if(typeof e!="function")throw new TypeError(gNe);t=$B(t)||0,mNe(r)&&(g=!!r.leading,v="maxWait"in r,o=v?yNe($B(r.maxWait)||0,t):o,b="trailing"in r?!!r.trailing:b);function M(L){var F=n,H=i;return n=i=void 0,h=L,s=e.apply(H,F),s}function P(L){return h=L,a=setTimeout(O,t),g?M(L):s}function w(L){var F=L-d,H=L-h,re=t-F;return v?vNe(re,o-H):re}function A(L){var F=L-d,H=L-h;return d===void 0||F>=t||F<0||v&&H>=o}function O(){var L=Rk();if(A(L))return I(L);a=setTimeout(O,w(L))}function I(L){return a=void 0,b&&n?M(L):(n=i=void 0,s)}function C(){a!==void 0&&clearTimeout(a),h=0,n=d=i=a=void 0}function R(){return a===void 0?s:I(Rk())}function z(){var L=Rk(),F=A(L);if(n=arguments,i=this,d=L,F){if(a===void 0)return P(d);if(v)return clearTimeout(a),a=setTimeout(O,t),M(d)}return a===void 0&&(a=setTimeout(O,t)),s}return z.cancel=C,z.flush=R,z}var PH=_Ne;const xNe=Kr(PH);var bNe=PH,wNe=Nf,SNe="Expected a function";function ENe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(SNe);return wNe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),bNe(e,t,{leading:n,maxWait:t,trailing:i})}var CNe=ENe;const AH=Kr(CNe);var SM=function(e,t){return SM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},SM(e,t)};function TNe(e,t){SM(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function kNe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var PNe=function(e,t,r,n){switch(t){case"debounce":return xNe(e,r,n);case"throttle":return AH(e,r,n);default:return e}},DB=function(e){return typeof e=="function"},ev=function(){return typeof window>"u"},LB=function(e){return e instanceof Element||e instanceof HTMLDocument},ANe=function(e,t,r){return function(n){var i=n.width,o=n.height;e(function(s){return s.width===i&&s.height===o||s.width===i&&!r||s.height===o&&!t?s:{width:i,height:o}})}},MNe=function(e){TNe(t,e);function t(r){var n=e.call(this,r)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var h=n.props,g=h.targetRef,v=h.observerOptions;if(!ev()){g&&g.current&&(n.targetRef.current=g.current);var b=n.getElement();b&&(n.observableElement&&n.observableElement===b||(n.observableElement=b,n.resizeObserver.observe(b,v)))}},n.getElement=function(){var h=n.props,g=h.querySelector,v=h.targetDomEl;if(ev())return null;if(g)return document.querySelector(g);if(v&&LB(v))return v;if(n.targetRef&&LB(n.targetRef.current))return n.targetRef.current;var b=lu.findDOMNode(n);if(!b)return null;var M=n.getRenderType();switch(M){case"renderProp":return b;case"childFunction":return b;case"child":return b;case"childArray":return b;default:return b.parentElement}},n.createResizeHandler=function(h){var g=n.props,v=g.handleWidth,b=v===void 0?!0:v,M=g.handleHeight,P=M===void 0?!0:M,w=g.onResize;if(!(!b&&!P)){var A=ANe(function(O){return n.setState(O,function(){return w==null?void 0:w(n.state.width,n.state.height)})},b,P);h.forEach(function(O){var I=O&&O.contentRect||{},C=I.width,R=I.height,z=!n.skipOnMount&&!ev();z&&A({width:C,height:R}),n.skipOnMount=!1})}},n.getRenderType=function(){var h=n.props,g=h.render,v=h.children;return DB(g)?"renderProp":DB(v)?"childFunction":W.isValidElement(v)?"child":Array.isArray(v)?"childArray":"parent"};var i=r.skipOnMount,o=r.refreshMode,s=r.refreshRate,a=s===void 0?1e3:s,d=r.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=i,n.targetRef=W.createRef(),n.observableElement=null,ev()||(n.resizeHandler=PNe(n.createResizeHandler,o,a,d),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){ev()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var r=this.props,n=r.render,i=r.children,o=r.nodeType,s=o===void 0?"div":o,a=this.state,d=a.width,h=a.height,g={width:d,height:h,targetRef:this.targetRef},v=this.getRenderType();switch(v){case"renderProp":return n==null?void 0:n(g);case"childFunction":{var b=i;return b==null?void 0:b(g)}case"child":{var M=i;if(M.type&&typeof M.type=="string"){g.targetRef;var P=kNe(g,["targetRef"]);return W.cloneElement(M,P)}return W.cloneElement(M,g)}case"childArray":{var w=i;return w.map(function(A){return!!A&&W.cloneElement(A,g)})}default:return We.createElement(s,null)}},t}(W.PureComponent),dm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function EM(){return EM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EM.apply(this,arguments)}function ONe(e,t){return DNe(e)||$Ne(e,t)||RNe(e,t)||INe()}function INe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RNe(e,t){if(e){if(typeof e=="string")return zB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zB(e,t)}}function zB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Ne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function DNe(e){if(Array.isArray(e))return e}var LNe=W.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,s=o===void 0?"100%":o,a=e.height,d=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,v=e.minHeight,b=e.maxHeight,M=e.children,P=e.debounce,w=P===void 0?0:P,A=e.id,O=e.className,I=e.onResize,C=W.useState({containerWidth:i.width,containerHeight:i.height}),R=ONe(C,2),z=R[0],L=R[1],F=W.useRef(null);W.useImperativeHandle(t,function(){return F},[F]);var H=W.useCallback(function(){return F.current?{containerWidth:F.current.clientWidth,containerHeight:F.current.clientHeight}:null},[]),re=W.useCallback(function(){var de=H();if(de){var pe=de.containerWidth,Se=de.containerHeight;I&&I(pe,Se),L(function(_e){var Me=_e.containerWidth,Ae=_e.containerHeight;return pe!==Me||Se!==Ae?{containerWidth:pe,containerHeight:Se}:_e})}},[H,I]),te=W.useMemo(function(){var de=z.containerWidth,pe=z.containerHeight;if(de<0||pe<0)return null;dm(Rd(s)||Rd(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),dm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Se=Rd(s)?de:s,_e=Rd(d)?pe:d;return r&&r>0&&(Se?_e=Se/r:_e&&(Se=_e*r),b&&_e>b&&(_e=b)),dm(Se>0||_e>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Se,_e,s,d,g,v,r),W.cloneElement(M,{width:Se,height:_e})},[r,M,d,b,v,g,z,s]);W.useEffect(function(){var de=H();de&&L(de)},[H]);var ae={width:s,height:d,minWidth:g,minHeight:v,maxHeight:b};return We.createElement(MNe,{handleWidth:!0,handleHeight:!0,onResize:re,targetRef:F,refreshMode:w>0?"debounce":void 0,refreshRate:w},We.createElement("div",EM({},A!=null?{id:"".concat(A)}:{},{className:vn("recharts-responsive-container",O),style:ae,ref:F}),te))}),MH=function(t){return null};MH.displayName="Cell";var CM={exports:{}},$k="(".charCodeAt(0),Dk=")".charCodeAt(0),Rb="'".charCodeAt(0),Lk='"'.charCodeAt(0),zk="\\".charCodeAt(0),$b="/".charCodeAt(0),Nk=",".charCodeAt(0),jk=":".charCodeAt(0),NB="*".charCodeAt(0),zNe=function(e){for(var t=[],r=e,n,i,o,s,a,d,h,g=0,v=r.charCodeAt(g),b=r.length,M=[{nodes:t}],P=0,w,A="",O="",I="";g<b;)if(v<=32){n=g;do n+=1,v=r.charCodeAt(n);while(v<=32);s=r.slice(g,n),o=t[t.length-1],v===Dk&&P?I=s:o&&o.type==="div"?o.after=s:v===Nk||v===jk||v===$b&&r.charCodeAt(n+1)!==NB?O=s:t.push({type:"space",sourceIndex:g,value:s}),g=n}else if(v===Rb||v===Lk){n=g,i=v===Rb?"'":'"',s={type:"string",sourceIndex:g,quote:i};do if(a=!1,n=r.indexOf(i,n+1),~n)for(d=n;r.charCodeAt(d-1)===zk;)d-=1,a=!a;else r+=i,n=r.length-1,s.unclosed=!0;while(a);s.value=r.slice(g+1,n),t.push(s),g=n+1,v=r.charCodeAt(g)}else if(v===$b&&r.charCodeAt(g+1)===NB)s={type:"comment",sourceIndex:g},n=r.indexOf("*/",g),n===-1&&(s.unclosed=!0,n=r.length),s.value=r.slice(g+2,n),t.push(s),g=n+2,v=r.charCodeAt(g);else if(v===$b||v===Nk||v===jk)s=r[g],t.push({type:"div",sourceIndex:g-O.length,value:s,before:O,after:""}),O="",g+=1,v=r.charCodeAt(g);else if($k===v){n=g;do n+=1,v=r.charCodeAt(n);while(v<=32);if(s={type:"function",sourceIndex:g-A.length,value:A,before:r.slice(g+1,n)},g=n,A==="url"&&v!==Rb&&v!==Lk){n-=1;do if(a=!1,n=r.indexOf(")",n+1),~n)for(d=n;r.charCodeAt(d-1)===zk;)d-=1,a=!a;else r+=")",n=r.length-1,s.unclosed=!0;while(a);h=n;do h-=1,v=r.charCodeAt(h);while(v<=32);g!==h+1?s.nodes=[{type:"word",sourceIndex:g,value:r.slice(g,h+1)}]:s.nodes=[],s.unclosed&&h+1!==n?(s.after="",s.nodes.push({type:"space",sourceIndex:h+1,value:r.slice(h+1,n)})):s.after=r.slice(h+1,n),g=n+1,v=r.charCodeAt(g),t.push(s)}else P+=1,s.after="",t.push(s),M.push(s),t=s.nodes=[],w=s;A=""}else if(Dk===v&&P)g+=1,v=r.charCodeAt(g),w.after=I,I="",P-=1,M.pop(),w=M[P],t=w.nodes;else{n=g;do v===zk&&(n+=1),n+=1,v=r.charCodeAt(n);while(n<b&&!(v<=32||v===Rb||v===Lk||v===Nk||v===jk||v===$b||v===$k||v===Dk&&P));s=r.slice(g,n),$k===v?A=s:t.push({type:"word",sourceIndex:g,value:s}),g=n}for(g=M.length-1;g;g-=1)M[g].unclosed=!0;return M[0].nodes},NNe=function e(t,r,n){var i,o,s,a;for(i=0,o=t.length;i<o;i+=1)s=t[i],n||(a=r(s,i,t)),a!==!1&&s.type==="function"&&Array.isArray(s.nodes)&&e(s.nodes,r,n),n&&r(s,i,t)};function jB(e,t){var r=e.type,n=e.value,i,o;return t&&(o=t(e))!==void 0?o:r==="word"||r==="space"?n:r==="string"?(i=e.quote||"",i+n+(e.unclosed?"":i)):r==="comment"?"/*"+n+(e.unclosed?"":"*/"):r==="div"?(e.before||"")+n+(e.after||""):Array.isArray(e.nodes)?(i=OH(e.nodes),r!=="function"?i:n+"("+(e.before||"")+i+(e.after||"")+(e.unclosed?"":")")):n}function OH(e,t){var r,n;if(Array.isArray(e)){for(r="",n=e.length-1;~n;n-=1)r=jB(e[n],t)+r;return r}return jB(e,t)}var jNe=OH,Bk,BB;function BNe(){if(BB)return Bk;BB=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),r=".".charCodeAt(0),n="e".charCodeAt(0),i="E".charCodeAt(0);return Bk=function(o){for(var s=0,a=o.length,d=!1,h=-1,g=!1,v;s<a;){if(v=o.charCodeAt(s),v>=48&&v<=57)g=!0;else if(v===n||v===i){if(h>-1)break;h=s}else if(v===r){if(d)break;d=!0}else if(v===t||v===e){if(s!==0)break}else break;s+=1}return h+1===s&&s--,g?{number:o.slice(0,s),unit:o.slice(s)}:!1},Bk}var FNe=zNe,IH=NNe,RH=jNe;function Mf(e){return this instanceof Mf?(this.nodes=FNe(e),this):new Mf(e)}Mf.prototype.toString=function(){return Array.isArray(this.nodes)?RH(this.nodes):""};Mf.prototype.walk=function(e,t){return IH(this.nodes,e,t),this};Mf.unit=BNe();Mf.walk=IH;Mf.stringify=RH;var UNe=Mf;function VNe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $H={};(function(e){var t=function(){function r(b,M){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),b==null&&(b="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:b}),this.hash=M;var P;if(M&&M.exception instanceof Error){var w=M.exception;this.message=w.message||b,P=w.stack}P||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):P=new Error(b).stack),P&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:P})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.name="JisonParserError";function n(b){for(var M=[],P=b.pop,w=b.rule,A=0,O=P.length;A<O;A++)M.push([P[A],w[A]]);return M}function i(b){for(var M={},P=b.idx,w=b.goto,A=0,O=P.length;A<O;A++){var I=P[A];M[I]=w[A]}return M}function o(b){for(var M=[],P=b.len,w=b.symbol,A=b.type,O=b.state,I=b.mode,C=b.goto,R=0,z=P.length;R<z;R++){for(var L=P[R],F={},H=0;H<L;H++){var re=w.shift();switch(A.shift()){case 2:F[re]=[I.shift(),C.shift()];break;case 0:F[re]=O.shift();break;default:F[re]=[3]}}M.push(F)}return M}function s(b,M,P){P=P||0;for(var w=0;w<M;w++)this.push(b),b+=P}function a(b,M){for(b=this.length-b,M+=b;b<M;b++)this.push(this[b])}function d(b){for(var M=[],P=0,w=b.length;P<w;P++){var A=b[P];typeof A=="function"?(P++,A.apply(M,b[P])):M.push(A)}return M}var h={trace:function(){},JisonParserError:r,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(M){return'"'+M+'"'},getSymbolName:function(M){if(this.terminals_[M])return this.terminals_[M];var P=this.symbols_;for(var w in P)if(P[w]===M)return w;return null},describeSymbol:function(M){if(M!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[M])return this.terminal_descriptions_[M];if(M===this.EOF)return"end of input";var P=this.getSymbolName(M);return P?this.quoteName(P):null},collect_expected_token_set:function(M,P){var w=this.TERROR,A=[],O={};if(!P&&this.state_descriptions_&&this.state_descriptions_[M])return[this.state_descriptions_[M]];for(var I in this.table[M])if(I=+I,I!==w){var C=P?I:this.describeSymbol(I);C&&!O[C]&&(A.push(C),O[C]=!0)}return A},productions_:n({pop:d([29,s,[30,10],31,31,32,32,s,[33,15]]),rule:d([2,s,[3,5],4,7,s,[1,4],2,4,6,s,[1,14],2])}),performAction:function(M,P,w){var A=this.yy;switch(A.parser,A.lexer,M){case 0:this.$=w[P-1];break;case 1:return this.$=w[P-1],w[P-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:w[P-1],left:w[P-2],right:w[P]};break;case 6:this.$=w[P-1];break;case 7:this.$={type:"Calc",value:w[P-1]};break;case 8:this.$={type:"Calc",value:w[P-1],prefix:w[P-5]};break;case 9:case 10:case 11:this.$=w[P];break;case 12:this.$={type:"Value",value:parseFloat(w[P])};break;case 13:this.$={type:"Value",value:parseFloat(w[P])*-1};break;case 14:this.$={type:"CssVariable",value:w[P-1]};break;case 15:this.$={type:"CssVariable",value:w[P-3],fallback:w[P-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(w[P]),unit:/[a-z]+/.exec(w[P])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(w[P]),unit:/[a-z]+/.exec(w[P])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(w[P]),unit:/[a-z]+/.exec(w[P])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(w[P]),unit:/[a-z]+/.exec(w[P])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(w[P]),unit:/[a-z]+/.exec(w[P])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(w[P]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(w[P]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(w[P]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(w[P]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(w[P]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(w[P]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(w[P]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(w[P]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(w[P]),unit:"%"};break;case 30:var O=w[P];O.value*=-1,this.$=O;break}},table:o({len:d([24,1,5,23,1,18,s,[0,3],1,s,[0,16],s,[23,4],a,[28,3],0,0,16,1,6,6,s,[0,3],5,1,2,a,[37,3],a,[20,3],5,0,0]),symbol:d([4,7,9,11,12,s,[15,19,1],1,1,s,[3,4,1],a,[30,19],a,[29,4],7,4,10,11,a,[22,14],a,[19,3],a,[43,22],a,[23,69],a,[139,4],8,a,[51,24],4,a,[138,15],13,a,[186,5],8,a,[6,6],a,[5,5],9,8,14,a,[159,47],a,[60,10]]),type:d([s,[2,19],s,[0,5],1,s,[2,24],s,[0,4],a,[22,19],a,[43,42],a,[23,70],a,[28,25],a,[45,25],a,[113,54]]),state:d([1,2,8,6,7,30,a,[4,3],33,37,a,[5,3],38,a,[4,3],39,a,[4,3],40,a,[4,3],42,a,[21,4],50,a,[5,3],51,a,[4,3]]),mode:d([s,[1,179],s,[2,3],a,[5,5],a,[6,4],s,[1,57]]),goto:d([5,3,4,24,s,[9,15,1],s,[25,5,1],a,[24,19],31,35,32,34,a,[18,14],36,a,[38,19],a,[19,57],a,[118,4],41,a,[24,19],43,35,a,[16,14],44,s,[2,3],28,29,2,s,[3,3],28,29,3,a,[53,4],s,[45,5,1],a,[100,42],52,a,[5,4],53])}),defaultActions:i({idx:d([6,7,8,s,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:d([9,10,11,s,[16,14,1],12,1,30,13,s,[4,4,1],14,15,8])}),parseError:function(M,P,w){if(P.recoverable)typeof this.trace=="function"&&this.trace(M),P.destroy();else throw typeof this.trace=="function"&&this.trace(M),w||(w=this.JisonParserError),new w(M,P)},parse:function(M){var P=this,w=new Array(128),A=new Array(128),O=new Array(128),I=this.table,C=0,R=0;this.TERROR;var z=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var L=[0,54],F;this.__lexer__?F=this.__lexer__:F=this.__lexer__=Object.create(this.lexer);var H={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return H};function re(nt,Ue){for(var Xe in Ue)typeof nt[Xe]>"u"&&Object.prototype.hasOwnProperty.call(Ue,Xe)&&(nt[Xe]=Ue[Xe])}re(H,this.yy),H.lexer=F,H.parser=this,typeof H.parseError=="function"?this.parseError=function(Ue,Xe,ct){return ct||(ct=this.JisonParserError),H.parseError.call(this,Ue,Xe,ct)}:this.parseError=this.originalParseError,typeof H.quoteName=="function"?this.quoteName=function(Ue){return H.quoteName.call(this,Ue)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(Ue,Xe,ct){var Be;if(Xe){var Pe;(H.post_parse||this.post_parse)&&(Pe=this.constructParseErrorInfo(null,null,null,!1)),H.post_parse&&(Be=H.post_parse.call(this,H,Ue,Pe),typeof Be<"u"&&(Ue=Be)),this.post_parse&&(Be=this.post_parse.call(this,H,Ue,Pe),typeof Be<"u"&&(Ue=Be)),Pe&&Pe.destroy&&Pe.destroy()}if(this.__reentrant_call_depth>1)return Ue;if(F.cleanupAfterLex&&F.cleanupAfterLex(ct),H&&(H.lexer=void 0,H.parser=void 0,F.yy===H&&(F.yy=void 0)),H=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,w.length=0,A.length=0,O.length=0,C=0,!ct){for(var St=this.__error_infos.length-1;St>=0;St--){var Zt=this.__error_infos[St];Zt&&typeof Zt.destroy=="function"&&Zt.destroy()}this.__error_infos.length=0}return Ue},this.constructParseErrorInfo=function(Ue,Xe,ct,Be){var Pe={errStr:Ue,exception:Xe,text:F.match,value:F.yytext,token:this.describeSymbol(R)||R,token_id:R,line:F.yylineno,expected:ct,recoverable:Be,state:pe,action:Se,new_state:tt,symbol_stack:w,state_stack:A,value_stack:O,stack_pointer:C,yy:H,lexer:F,parser:this,destroy:function(){var Zt=!!this.recoverable;for(var Ot in this)this.hasOwnProperty(Ot)&&typeof Ot=="object"&&(this[Ot]=void 0);this.recoverable=Zt}};return this.__error_infos.push(Pe),Pe};function te(){var nt=F.lex();return typeof nt!="number"&&(nt=P.symbols_[nt]||nt),nt||z}function ae(){var nt=F.fastLex();return typeof nt!="number"&&(nt=P.symbols_[nt]||nt),nt||z}var de=te,pe,Se,_e,Me,Ae={$:!0,_$:void 0,yy:H},Ee,Ie,He,tt,Te=!1;try{if(this.__reentrant_call_depth++,F.setInput(M,H),typeof F.canIUse=="function"){var Ne=F.canIUse();Ne.fastLex&&typeof ae=="function"&&(de=ae)}for(O[C]=null,A[C]=0,w[C]=0,++C,this.pre_parse&&this.pre_parse.call(this,H),H.pre_parse&&H.pre_parse.call(this,H),tt=A[C-1];;){if(pe=tt,this.defaultActions[pe])Se=2,tt=this.defaultActions[pe];else if(R||(R=de()),Me=I[pe]&&I[pe][R]||L,tt=Me[1],Se=Me[0],!Se){var De,Ye=this.describeSymbol(R)||R,je=this.collect_expected_token_set(pe);typeof F.yylineno=="number"?De="Parse error on line "+(F.yylineno+1)+": ":De="Parse error: ",typeof F.showPosition=="function"&&(De+=`
`+F.showPosition(79-10,10)+`
`),je.length?De+="Expecting "+je.join(", ")+", got unexpected "+Ye:De+="Unexpected "+Ye,Ee=this.constructParseErrorInfo(De,null,je,!1),_e=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof _e<"u"&&(Te=_e);break}switch(Se){default:if(Se instanceof Array){Ee=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+pe+", token: "+R,null,null,!1),_e=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof _e<"u"&&(Te=_e);break}Ee=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),_e=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof _e<"u"&&(Te=_e);break;case 1:w[C]=R,O[C]=F.yytext,A[C]=tt,++C,R=0;continue;case 2:if(He=this.productions_[tt-1],Ie=He[1],_e=this.performAction.call(Ae,tt,C-1,O),typeof _e<"u"){Te=_e;break}C-=Ie;var st=He[0];w[C]=st,O[C]=Ae.$,tt=I[A[C-1]][st],A[C]=tt,++C;continue;case 3:C!==-2&&(Te=!0,C--,typeof O[C]<"u"&&(Te=O[C]));break}break}}catch(nt){if(nt instanceof this.JisonParserError)throw nt;if(F&&typeof F.JisonLexerError=="function"&&nt instanceof F.JisonLexerError)throw nt;Ee=this.constructParseErrorInfo("Parsing aborted due to exception.",nt,null,!1),Te=!1,_e=this.parseError(Ee.errStr,Ee,this.JisonParserError),typeof _e<"u"&&(Te=_e)}finally{Te=this.cleanupAfterParse(Te,!0,!0),this.__reentrant_call_depth--}return Te}};h.originalParseError=h.parseError,h.originalQuoteName=h.quoteName;var g=function(){function b(P,w){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),P==null&&(P="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:P}),this.hash=w;var A;if(w&&w.exception instanceof Error){var O=w.exception;this.message=O.message||P,A=O.stack}A||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):A=new Error(P).stack),A&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:A})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(b.prototype,Error.prototype):b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b.prototype.name="JisonLexerError";var M={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(w,A,O){if(w=""+w,O==null&&(O=!(w.indexOf(`
`)>0&&w.indexOf("^")>0)),this.yylloc&&O){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(w)||(w+=`
`),w+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var I=this.showPosition();I&&(w.length&&w[w.length-1]!==`
`&&I[0]!==`
`?w+=`
`+I:w+=I)}}var C={errStr:w,recoverable:!!A,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var z=!!this.recoverable;for(var L in this)this.hasOwnProperty(L)&&typeof L=="object"&&(this[L]=void 0);this.recoverable=z}};return this.__error_infos.push(C),C},parseError:function(w,A,O){if(O||(O=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,w,A,O)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,w,A,O)||this.ERROR}throw new O(w,A)},yyerror:function(w){var A="";this.yylloc&&(A=" on line "+(this.yylineno+1));var O=this.constructLexErrorInfo("Lexical error"+A+": "+w,this.options.lexerErrorsAreRecoverable),I=Array.prototype.slice.call(arguments,1);return I.length&&(O.extra_error_attributes=I),this.parseError(O.errStr,O,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(w){if(this.setInput("",{}),!w){for(var A=this.__error_infos.length-1;A>=0;A--){var O=this.__error_infos[A];O&&typeof O.destroy=="function"&&O.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var w=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:w,last_line:this.yylineno+1,last_column:w,range:[this.offset,this.offset]}},setInput:function(w,A){if(this.yy=A||this.yy||{},!this.__decompressed){for(var O=this.rules,I=0,C=O.length;I<C;I++){var R=O[I];typeof R=="number"&&(O[I]=O[R])}var z=this.conditions;for(var L in z){for(var F=z[L],H=F.rules,C=H.length,re=new Array(C+1),te=new Array(C+1),I=0;I<C;I++){var ae=H[I],R=O[ae];re[I+1]=R,te[I+1]=ae}F.rules=te,F.__rule_regexes=re,F.__rule_count=C}this.__decompressed=!0}return this._input=w||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(w,A){var O=w.call(this,this._input,A);return typeof O!="string"?O&&(this._input=""+O):this._input=O,this},input:function(){if(!this._input)return null;var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var A=1,O=!1;if(w===`
`)O=!0;else if(w==="\r"){O=!0;var I=this._input[1];I===`
`&&(A++,w+=I,this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I,this.yylloc.range[1]++)}return O?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(A),w},unput:function(w){var A=w.length,O=w.split(/(?:\r\n?|\n)/g);if(this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.yyleng=this.yytext.length,this.offset-=A,this.match=this.match.substr(0,this.match.length-A),this.matched=this.matched.substr(0,this.matched.length-A),O.length>1){this.yylineno-=O.length-1,this.yylloc.last_line=this.yylineno+1;var I=this.match,C=I.split(/(?:\r\n?|\n)/g);C.length===1&&(I=this.matched,C=I.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=C[C.length-1].length}else this.yylloc.last_column-=A;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var w="";this.yylloc&&(w=" on line "+(this.yylineno+1));var A=this.constructLexErrorInfo("Lexical error"+w+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(A.errStr,A,this.JisonLexerError)||this.ERROR}return this},less:function(w){return this.unput(this.match.slice(w))},pastInput:function(w,A){var O=this.matched.substring(0,this.matched.length-this.match.length);w<0?w=O.length:w||(w=20),A<0?A=O.length:A||(A=1),O=O.substr(-w*2-2);var I=O.replace(/\r\n|\r/g,`
`).split(`
`);return I=I.slice(-A),O=I.join(`
`),O.length>w&&(O="..."+O.substr(-w)),O},upcomingInput:function(w,A){var O=this.match;w<0?w=O.length+this._input.length:w||(w=20),A<0?A=w:A||(A=1),O.length<w*2+2&&(O+=this._input.substring(0,w*2+2));var I=O.replace(/\r\n|\r/g,`
`).split(`
`);return I=I.slice(0,A),O=I.join(`
`),O.length>w&&(O=O.substring(0,w)+"..."),O},showPosition:function(w,A){var O=this.pastInput(w).replace(/\s/g," "),I=new Array(O.length+1).join("-");return O+this.upcomingInput(A).replace(/\s/g," ")+`
`+I+"^"},deriveLocationInfo:function(w,A,O,I){var C={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return w&&(C.first_line=w.first_line|0,C.last_line=w.last_line|0,C.first_column=w.first_column|0,C.last_column=w.last_column|0,w.range&&(C.range[0]=w.range[0]|0,C.range[1]=w.range[1]|0)),(C.first_line<=0||C.last_line<C.first_line)&&(C.first_line<=0&&A&&(C.first_line=A.last_line|0,C.first_column=A.last_column|0,A.range&&(C.range[0]=w.range[1]|0)),(C.last_line<=0||C.last_line<C.first_line)&&O&&(C.last_line=O.first_line|0,C.last_column=O.first_column|0,O.range&&(C.range[1]=w.range[0]|0)),C.first_line<=0&&I&&(C.last_line<=0||I.last_line<=C.last_line)&&(C.first_line=I.first_line|0,C.first_column=I.first_column|0,I.range&&(C.range[0]=I.range[0]|0)),C.last_line<=0&&I&&(C.first_line<=0||I.first_line>=C.first_line)&&(C.last_line=I.last_line|0,C.last_column=I.last_column|0,I.range&&(C.range[1]=I.range[1]|0))),C.last_line<=0&&(C.first_line<=0?(C.first_line=this.yylloc.first_line,C.last_line=this.yylloc.last_line,C.first_column=this.yylloc.first_column,C.last_column=this.yylloc.last_column,C.range[0]=this.yylloc.range[0],C.range[1]=this.yylloc.range[1]):(C.last_line=this.yylloc.last_line,C.last_column=this.yylloc.last_column,C.range[1]=this.yylloc.range[1])),C.first_line<=0&&(C.first_line=C.last_line,C.first_column=0,C.range[1]=C.range[0]),C.first_column<0&&(C.first_column=0),C.last_column<0&&(C.last_column=C.first_column>0?C.first_column:80),C},prettyPrintRange:function(w,A,O){w=this.deriveLocationInfo(w,A,O);const I=3,C=1,R=2;var z=this.matched+this._input,L=z.split(`
`),F=Math.max(1,A?A.first_line:w.first_line-I),H=Math.max(1,O?O.last_line:w.last_line+C),re=1+Math.log10(H|1)|0,te=new Array(re).join(" "),ae=[],de=L.slice(F-1,H+1).map(function(Ae,Ee){var Ie=Ee+F,He=(te+Ie).substr(-re),tt=He+": "+Ae,Te=new Array(re+1).join("^"),Ne=2+1,De=0;if(Ie===w.first_line?(Ne+=w.first_column,De=Math.max(2,(Ie===w.last_line?w.last_column:Ae.length)-w.first_column+1)):Ie===w.last_line?De=Math.max(2,w.last_column+1):Ie>w.first_line&&Ie<w.last_line&&(De=Math.max(2,Ae.length+1)),De){var Ye=new Array(Ne).join("."),je=new Array(De).join("^");tt+=`
`+Te+Ye+je,Ae.trim().length>0&&ae.push(Ee)}return tt=tt.replace(/\t/g," "),tt});if(ae.length>2*R){var pe=ae[R-1]+1,Se=ae[ae.length-R]-1,_e=new Array(re+1).join(" ")+"  (...continued...)";_e+=`
`+new Array(re+1).join("-")+"  (---------------)",de.splice(pe,Se-pe+1,_e)}return de.join(`
`)},describeYYLLOC:function(w,A){var O=w.first_line,I=w.last_line,C=w.first_column,R=w.last_column,z=I-O,L=R-C,F;if(z===0?(F="line "+O+", ",L<=1?F+="column "+C:F+="columns "+C+" .. "+R):F="lines "+O+"(column "+C+") .. "+I+"(column "+R+")",w.range&&A){var H=w.range[0],re=w.range[1]-1;re<=H?F+=" {String Offset: "+H+"}":F+=" {String Offset range: "+H+" .. "+re+"}"}return F},test_match:function(w,A){var O,I,C,R,z;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),R=w[0],z=R.length,I=R.split(/(?:\r\n?|\n)/g),I.length>1?(this.yylineno+=I.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=I[I.length-1].length):this.yylloc.last_column+=z,this.yytext+=R,this.match+=R,this.matched+=R,this.matches=w,this.yyleng=this.yytext.length,this.yylloc.range[1]+=z,this.offset+=z,this._more=!1,this._backtrack=!1,this._input=this._input.slice(z),O=this.performAction.call(this,this.yy,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var L in C)this[L]=C[L];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return O=this._signaled_error_token,this._signaled_error_token=!1,O;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var w,A,O,I;this._more||this.clear();var C=this.__currentRuleSet__;if(!C&&(C=this.__currentRuleSet__=this._currentRules(),!C||!C.rules)){var R="";this.options.trackPosition&&(R=" on line "+(this.yylineno+1));var z=this.constructLexErrorInfo("Internal lexer engine error"+R+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(z.errStr,z,this.JisonLexerError)||this.ERROR}for(var L=C.rules,F=C.__rule_regexes,H=C.__rule_count,re=1;re<=H;re++)if(O=this._input.match(F[re]),O&&(!A||O[0].length>A[0].length)){if(A=O,I=re,this.options.backtrack_lexer){if(w=this.test_match(O,L[re]),w!==!1)return w;if(this._backtrack){A=void 0;continue}else return!1}else if(!this.options.flex)break}if(A)return w=this.test_match(A,L[I]),w!==!1?w:!1;if(this._input){var R="";this.options.trackPosition&&(R=" on line "+(this.yylineno+1));var z=this.constructLexErrorInfo("Lexical error"+R+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),te=this._input,ae=this.topState(),de=this.conditionStack.length;return w=this.parseError(z.errStr,z,this.JisonLexerError)||this.ERROR,w===this.ERROR&&!this.matches&&te===this._input&&ae===this.topState()&&de===this.conditionStack.length&&this.input(),w}else return this.done=!0,this.clear(),this.EOF},lex:function(){var w;for(typeof this.pre_lex=="function"&&(w=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(w=this.options.pre_lex.call(this,w)||w),this.yy&&typeof this.yy.pre_lex=="function"&&(w=this.yy.pre_lex.call(this,w)||w);!w;)w=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(w=this.yy.post_lex.call(this,w)||w),typeof this.options.post_lex=="function"&&(w=this.options.post_lex.call(this,w)||w),typeof this.post_lex=="function"&&(w=this.post_lex.call(this,w)||w),w},fastLex:function(){for(var w;!w;)w=this.next();return w},canIUse:function(){var w={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return w},begin:function(w){return this.pushState(w)},pushState:function(w){return this.conditionStack.push(w),this.__currentRuleSet__=null,this},popState:function(){var w=this.conditionStack.length-1;return w>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:b,performAction:function(w,A,O){switch(A){case 1:break;default:return this.simpleCaseActionClusters[A]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return M}();h.lexer=g;function v(){this.yy={}}return v.prototype=h,h.Parser=v,new v}();typeof VNe<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})($H);var z_={},TM={exports:{}},Fk={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},WNe=function(e,t,r,n){if(!Fk.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!Fk[r].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+r);var i=Fk[r][t]*e;return n!==!1?(n=Math.pow(10,parseInt(n)||5),Math.round(i*n)/n):i};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=WNe,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function o(a,d,h){switch(a.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return s(a,d,h);default:return{left:a,right:d}}}function s(a,d,h){return d.type===a.type&&(d={type:a.type,value:(0,n.default)(d.value,d.unit,a.unit,h),unit:a.unit}),{left:a,right:d}}t.default=o,e.exports=t.default})(TM,TM.exports);var qNe=TM.exports;Object.defineProperty(z_,"__esModule",{value:!0});z_.flip=kM;var HNe=qNe,Uk=GNe(HNe);function GNe(e){return e&&e.__esModule?e:{default:e}}function Oo(e,t){return e.type==="MathExpression"?JNe(e,t):e.type==="Calc"?Oo(e.value,t):e}function FB(e,t){return e.type===t.type&&e.value===t.value}function ga(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function YNe(e,t){var r=(0,Uk.default)(e.left,e.right,t),n=Oo(r.left,t),i=Oo(r.right,t);return n.type==="MathExpression"&&i.type==="MathExpression"&&(n.operator==="/"&&i.operator==="*"||n.operator==="-"&&i.operator==="+"||n.operator==="*"&&i.operator==="/"||n.operator==="+"&&i.operator==="-")&&(FB(n.right,i.right)?r=(0,Uk.default)(n.left,i.left,t):FB(n.right,i.left)&&(r=(0,Uk.default)(n.left,i.right,t)),n=Oo(r.left,t),i=Oo(r.right,t)),e.left=n,e.right=i,e}function kM(e){return e==="+"?"-":"+"}function PM(e){return ga(e.type)?e.value=-e.value:e.type=="MathExpression"&&(e.left=PM(e.left),e.right=PM(e.right)),e}function KNe(e,t){var r=e,n=r.left,i=r.right,o=r.operator;if(n.type==="CssVariable"||i.type==="CssVariable")return e;if(i.value===0)return n;if(n.value===0&&o==="+")return i;if(n.value===0&&o==="-")return PM(i);if(n.type===i.type&&ga(n.type)&&(e=Object.assign({},n),o==="+"?e.value=n.value+i.value:e.value=n.value-i.value),ga(n.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(n.type===i.left.type)return e=Object.assign({},e),e.left=Oo({type:"MathExpression",operator:o,left:n,right:i.left},t),e.right=i.right,e.operator=o==="-"?kM(i.operator):i.operator,Oo(e,t);if(n.type===i.right.type)return e=Object.assign({},e),e.left=Oo({type:"MathExpression",operator:o==="-"?kM(i.operator):i.operator,left:n,right:i.right},t),e.right=i.left,Oo(e,t)}if(n.type==="MathExpression"&&(n.operator==="+"||n.operator==="-")&&ga(i.type)){if(i.type===n.left.type)return e=Object.assign({},n),e.left=Oo({type:"MathExpression",operator:o,left:n.left,right:i},t),Oo(e,t);if(i.type===n.right.type)return e=Object.assign({},n),n.operator==="-"?(e.right=Oo({type:"MathExpression",operator:o==="-"?"+":"-",left:i,right:n.right},t),e.operator=o==="-"?"-":"+"):e.right=Oo({type:"MathExpression",operator:o,left:n.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator=e.operator==="-"?"+":"-"),Oo(e,t)}return e}function ZNe(e,t){if(!ga(e.right.type))return e;if(e.right.type!=="Value")throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(e.right.value===0)throw new Error("Cannot divide by zero");return e.left.type==="MathExpression"?ga(e.left.left.type)&&ga(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,Oo(e.left,t)):e:ga(e.left.type)?(e.left.value/=e.right.value,e.left):e}function XNe(e){if(e.left.type==="MathExpression"&&e.right.type==="Value"){if(ga(e.left.left.type)&&ga(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(ga(e.left.type)&&e.right.type==="Value")return e.left.value*=e.right.value,e.left;if(e.left.type==="Value"&&e.right.type==="MathExpression"){if(ga(e.right.left.type)&&ga(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if(e.left.type==="Value"&&ga(e.right.type))return e.right.value*=e.left.value,e.right}return e}function JNe(e,t){switch(e=YNe(e,t),e.operator){case"+":case"-":return KNe(e,t);case"/":return ZNe(e,t);case"*":return XNe(e)}return e}z_.default=Oo;var AM={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(s,a,d){var h=o(a,d);return a.type==="MathExpression"&&(h=s+"("+h+")"),h};var r=z_,n={"*":0,"/":0,"+":1,"-":1};function i(s,a){if(a!==!1){var d=Math.pow(10,a);return Math.round(s*d)/d}return s}function o(s,a){switch(s.type){case"MathExpression":{var d=s.left,h=s.right,g=s.operator,v="";return d.type==="MathExpression"&&n[g]<n[d.operator]?v+="("+o(d,a)+")":v+=o(d,a),v+=" "+s.operator+" ",h.type==="MathExpression"&&n[g]<n[h.operator]?v+="("+o(h,a)+")":(h.type==="MathExpression"&&g==="-"&&["+","-"].includes(h.operator)&&(h.operator=(0,r.flip)(h.operator)),v+=o(h,a)),v}case"Value":return i(s.value,a);case"CssVariable":return s.fallback?"var("+s.value+", "+o(s.fallback,a)+")":"var("+s.value+")";case"Calc":return s.prefix?"-"+s.prefix+"-calc("+o(s.value,a)+")":"calc("+o(s.value,a)+")";default:return i(s.value,a)+s.unit}}e.exports=t.default})(AM,AM.exports);var QNe=AM.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=UNe,n=h(r),i=$H,o=z_,s=h(o),a=QNe,d=h(a);function h(v){return v&&v.__esModule?v:{default:v}}var g=/((?:\-[a-z]+\-)?calc)/;t.default=function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,n.default)(v).walk(function(M){if(!(M.type!=="function"||!g.test(M.value))){var P=n.default.stringify(M.nodes);if(!(P.indexOf("constant")>=0||P.indexOf("env")>=0)){var w=i.parser.parse(P),A=(0,s.default)(w,b);M.type="word",M.value=(0,d.default)(M.value,A,b)}}},!0).toString()},e.exports=t.default})(CM,CM.exports);var e3e=CM.exports;const Vk=Kr(e3e);function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function UB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(r),!0).forEach(function(n){t3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t3e(e,t,r){return t=r3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3e(e){var t=n3e(e,"string");return j0(t)==="symbol"?t:String(t)}function n3e(e,t){if(j0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WB(e){return s3e(e)||a3e(e)||o3e(e)||i3e()}function i3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3e(e,t){if(e){if(typeof e=="string")return MM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(e,t)}}function a3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s3e(e){if(Array.isArray(e))return MM(e)}function MM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _p={widthCache:{},cacheCount:0},l3e=2e3,c3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u3e=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],qB="recharts_measurement_span";function f3e(e,t){return u3e.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function d3e(e){var t=e.split(""),r=t.reduce(function(n,i){return i===i.toUpperCase()?[].concat(WB(n),["-",i.toLowerCase()]):[].concat(WB(n),[i])},[]);return r.join("")}var h3e=function(t){return Object.keys(t).reduce(function(r,n){return"".concat(r).concat(d3e(n),":").concat(f3e(n,t[n]),";")},"")},Fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wc.isSsr)return{width:0,height:0};var n="".concat(t),i=h3e(r),o="".concat(n,"-").concat(i);if(_p.widthCache[o])return _p.widthCache[o];try{var s=document.getElementById(qB);s||(s=document.createElement("span"),s.setAttribute("id",qB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=VB(VB({},c3e),r);Object.keys(a).map(function(g){return s.style[g]=a[g],g}),s.textContent=n;var d=s.getBoundingClientRect(),h={width:d.width,height:d.height};return _p.widthCache[o]=h,++_p.cacheCount>l3e&&(_p.cacheCount=0,_p.widthCache={}),h}catch{return{width:0,height:0}}},p3e=function(t){var r=t.ownerDocument.documentElement,n={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft}},m3e=function(t,r){return{chartX:Math.round(t.pageX-r.left),chartY:Math.round(t.pageY-r.top)}},g3e=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OM.apply(this,arguments)}function y3e(e,t){if(e==null)return{};var r=v3e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v3e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function HB(e,t){return w3e(e)||b3e(e,t)||x3e(e,t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(e,t){if(e){if(typeof e=="string")return GB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GB(e,t)}}function GB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function w3e(e){if(Array.isArray(e))return e}var DH=/[ \f\n\r\t\v\u2028\u2029]+/,LH=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];fr(r)||(n?o=r.toString().split(""):o=r.toString().split(DH));var s=o.map(function(d){return{word:d,width:Fl(d,i).width}}),a=n?0:Fl("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},S3e=function(t,r,n,i,o){var s=t.maxLines,a=t.children,d=t.style,h=t.breakAll,g=Mt(s),v=a,b=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _e.reduce(function(Me,Ae){var Ee=Ae.word,Ie=Ae.width,He=Me[Me.length-1];if(He&&(i==null||o||He.width+Ie+n<Number(i)))He.words.push(Ee),He.width+=Ie+n;else{var tt={words:[Ee],width:Ie};Me.push(tt)}return Me},[])},M=b(r),P=function(_e){return _e.reduce(function(Me,Ae){return Me.width>Ae.width?Me:Ae})};if(!g)return M;for(var w="",A=function(_e){var Me=v.slice(0,_e),Ae=LH({breakAll:h,style:d,children:Me+w}).wordsWithComputedWidth,Ee=b(Ae),Ie=Ee.length>s||P(Ee).width>Number(i);return[Ie,Ee]},O=0,I=v.length-1,C=0,R;O<=I&&C<=v.length-1;){var z=Math.floor((O+I)/2),L=z-1,F=A(L),H=HB(F,2),re=H[0],te=H[1],ae=A(z),de=HB(ae,1),pe=de[0];if(!re&&!pe&&(O=z+1),re&&pe&&(I=z-1),!re&&pe){R=te;break}C++}return R||M},YB=function(t){var r=fr(t)?[]:t.toString().split(DH);return[{words:r}]},E3e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((r||n)&&!Wc.isSsr){var d,h,g=LH({breakAll:s,children:i,style:o});if(g){var v=g.wordsWithComputedWidth,b=g.spaceWidth;d=v,h=b}else return YB(i);return S3e({breakAll:s,children:i,maxLines:a,style:o},d,h,r,n)}return YB(i)},zH={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"},B0=function(t){var r=W.useMemo(function(){return E3e({breakAll:t.breakAll,children:t.children,maxLines:t.maxLines,scaleToFit:t.scaleToFit,style:t.style,width:t.width})},[t.breakAll,t.children,t.maxLines,t.scaleToFit,t.style,t.width]),n=t.dx,i=t.dy,o=t.textAnchor,s=t.verticalAnchor,a=t.scaleToFit,d=t.angle,h=t.lineHeight,g=t.capHeight,v=t.className,b=t.breakAll,M=y3e(t,g3e);if(!Li(M.x)||!Li(M.y))return null;var P=M.x+(Mt(n)?n:0),w=M.y+(Mt(i)?i:0),A;switch(s){case"start":A=Vk("calc(".concat(g,")"));break;case"middle":A=Vk("calc(".concat((r.length-1)/2," * -").concat(h," + (").concat(g," / 2))"));break;default:A=Vk("calc(".concat(r.length-1," * -").concat(h,")"));break}var O=[];if(a){var I=r[0].width,C=t.width;O.push("scale(".concat((Mt(C)?C/I:1)/I,")"))}return d&&O.push("rotate(".concat(d,", ").concat(P,", ").concat(w,")")),O.length&&(M.transform=O.join(" ")),We.createElement("text",OM({},Ur(M,!0),{x:P,y:w,className:vn("recharts-text",v),textAnchor:o,fill:M.fill.includes("url")?zH.fill:M.fill}),r.map(function(R,z){return We.createElement("tspan",{x:P,dy:z===0?A:h,key:z},R.words.join(b?"":" "))}))};B0.defaultProps=zH;var C3e=Z$;function T3e(e,t){return C3e(e,t)}var k3e=T3e;const iD=Kr(k3e);var P3e=xg;function A3e(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(a===void 0?s===s&&!P3e(s):r(s,a)))var a=s,d=o}return d}var NH=A3e;function M3e(e,t){return e>t}var O3e=M3e,I3e=NH,R3e=O3e,$3e=Tg;function D3e(e){return e&&e.length?I3e(e,$3e,R3e):void 0}var L3e=D3e;const _E=Kr(L3e);function z3e(e,t){return e<t}var N3e=z3e,j3e=NH,B3e=N3e,F3e=Tg;function U3e(e){return e&&e.length?j3e(e,F3e,B3e):void 0}var V3e=U3e;const xE=Kr(V3e);var W3e=U$,q3e=Ff,H3e=CH,G3e=ia;function Y3e(e,t){var r=G3e(e)?W3e:H3e;return r(e,q3e(t))}var K3e=Y3e,Z3e=SH,X3e=K3e;function J3e(e,t){return Z3e(X3e(e,t),1)}var Q3e=J3e;const e5e=Kr(Q3e);function bf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jH(e){let t,r,n;e.length!==2?(t=bf,r=(a,d)=>bf(e(a),d),n=(a,d)=>e(a)-d):(t=e===bf||e===t5e?e:r5e,r=e,n=e);function i(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<0?h=v+1:g=v}while(h<g)}return h}function o(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<=0?h=v+1:g=v}while(h<g)}return h}function s(a,d,h=0,g=a.length){const v=i(a,d,h,g-1);return v>h&&n(a[v-1],d)>-n(a[v],d)?v-1:v}return{left:i,center:s,right:o}}function r5e(){return 0}function BH(e){return e===null?NaN:+e}function*n5e(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const i5e=jH(bf),o5e=i5e.right;jH(BH).center;const N_=o5e;class KB extends Map{constructor(t,r=l5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(ZB(this,t))}has(t){return super.has(ZB(this,t))}set(t,r){return super.set(a5e(this,t),r)}delete(t){return super.delete(s5e(this,t))}}function ZB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function a5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function s5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function l5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function c5e(e=bf){if(e===bf)return FH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function FH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const u5e=Math.sqrt(50),f5e=Math.sqrt(10),d5e=Math.sqrt(2);function $w(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=u5e?10:o>=f5e?5:o>=d5e?2:1;let a,d,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),d=Math.round(t*h),a/h<e&&++a,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),d=Math.round(t/h),a*h<e&&++a,d*h>t&&--d),d<a&&.5<=r&&r<2?$w(e,t,r*2):[a,d,h]}function IM(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,s]=n?$w(t,e,r):$w(e,t,r);if(!(o>=i))return[];const a=o-i+1,d=new Array(a);if(n)if(s<0)for(let h=0;h<a;++h)d[h]=(o-h)/-s;else for(let h=0;h<a;++h)d[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)d[h]=(i+h)/-s;else for(let h=0;h<a;++h)d[h]=(i+h)*s;return d}function RM(e,t,r){return t=+t,e=+e,r=+r,$w(e,t,r)[2]}function h5e(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?RM(t,e,r):RM(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function XB(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function JB(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function UH(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?FH:c5e(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),M=Math.max(r,Math.floor(t-h*v/d+b)),P=Math.min(n,Math.floor(t+(d-h)*v/d+b));UH(e,t,M,P,i)}const o=e[t];let s=r,a=n;for(tv(e,r,t),i(e[n],o)>0&&tv(e,r,n);s<a;){for(tv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[r],o)===0?tv(e,r,a):(++a,tv(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function tv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function p5e(e,t,r){if(e=Float64Array.from(n5e(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return JB(e);if(t>=1)return XB(e);var n,i=(n-1)*t,o=Math.floor(i),s=XB(UH(e,o).subarray(0,o+1)),a=JB(e.subarray(o+1));return s+(a-s)*(i-o)}}function m5e(e,t,r=BH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function g5e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Ds(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function du(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $M=Symbol("implicit");function oD(){var e=new KB,t=[],r=[],n=$M;function i(o){let s=e.get(o);if(s===void 0){if(n!==$M)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new KB;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return oD(t,r).unknown(n)},Ds.apply(i,arguments),i}function F0(){var e=oD().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,d=0,h=0,g=.5;delete e.unknown;function v(){var b=t().length,M=i<n,P=M?i:n,w=M?n:i;o=(w-P)/Math.max(1,b-d+h*2),a&&(o=Math.floor(o)),P+=(w-P-o*(b-d))*g,s=o*(1-d),a&&(P=Math.round(P),s=Math.round(s));var A=g5e(b).map(function(O){return P+o*O});return r(M?A.reverse():A)}return e.domain=function(b){return arguments.length?(t(b),v()):t()},e.range=function(b){return arguments.length?([n,i]=b,n=+n,i=+i,v()):[n,i]},e.rangeRound=function(b){return[n,i]=b,n=+n,i=+i,a=!0,v()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(b){return arguments.length?(a=!!b,v()):a},e.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),v()):d},e.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),v()):d},e.paddingOuter=function(b){return arguments.length?(h=+b,v()):h},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),v()):g},e.copy=function(){return F0(t(),[n,i]).round(a).paddingInner(d).paddingOuter(h).align(g)},Ds.apply(v(),arguments)}function VH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VH(t())},e}function Uv(){return VH(F0.apply(null,arguments).paddingInner(1))}function aD(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function j_(){}var U0=.7,Dw=1/U0,hm="\\s*([+-]?\\d+)\\s*",V0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y5e=/^#([0-9a-f]{3,8})$/,v5e=new RegExp(`^rgb\\(${hm},${hm},${hm}\\)$`),_5e=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),x5e=new RegExp(`^rgba\\(${hm},${hm},${hm},${V0}\\)$`),b5e=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${V0}\\)$`),w5e=new RegExp(`^hsl\\(${V0},${Zl},${Zl}\\)$`),S5e=new RegExp(`^hsla\\(${V0},${Zl},${Zl},${V0}\\)$`),QB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aD(j_,W0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:e4,formatHex:e4,formatHex8:E5e,formatHsl:C5e,formatRgb:t4,toString:t4});function e4(){return this.rgb().formatHex()}function E5e(){return this.rgb().formatHex8()}function C5e(){return qH(this).formatHsl()}function t4(){return this.rgb().formatRgb()}function W0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=y5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?r4(t):r===3?new va(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Db(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Db(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v5e.exec(e))?new va(t[1],t[2],t[3],1):(t=_5e.exec(e))?new va(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x5e.exec(e))?Db(t[1],t[2],t[3],t[4]):(t=b5e.exec(e))?Db(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w5e.exec(e))?o4(t[1],t[2]/100,t[3]/100,1):(t=S5e.exec(e))?o4(t[1],t[2]/100,t[3]/100,t[4]):QB.hasOwnProperty(e)?r4(QB[e]):e==="transparent"?new va(NaN,NaN,NaN,0):null}function r4(e){return new va(e>>16&255,e>>8&255,e&255,1)}function Db(e,t,r,n){return n<=0&&(e=t=r=NaN),new va(e,t,r,n)}function T5e(e){return e instanceof j_||(e=W0(e)),e?(e=e.rgb(),new va(e.r,e.g,e.b,e.opacity)):new va}function DM(e,t,r,n){return arguments.length===1?T5e(e):new va(e,t,r,n??1)}function va(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}aD(va,DM,WH(j_,{brighter(e){return e=e==null?Dw:Math.pow(Dw,e),new va(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?U0:Math.pow(U0,e),new va(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new va(Vd(this.r),Vd(this.g),Vd(this.b),Lw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n4,formatHex:n4,formatHex8:k5e,formatRgb:i4,toString:i4}));function n4(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function k5e(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function i4(){const e=Lw(this.opacity);return`${e===1?"rgb(":"rgba("}${Vd(this.r)}, ${Vd(this.g)}, ${Vd(this.b)}${e===1?")":`, ${e})`}`}function Lw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=Vd(e),(e<16?"0":"")+e.toString(16)}function o4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new al(e,t,r,n)}function qH(e){if(e instanceof al)return new al(e.h,e.s,e.l,e.opacity);if(e instanceof j_||(e=W0(e)),!e)return new al;if(e instanceof al)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,d=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=d<.5?o+i:2-o-i,s*=60):a=d>0&&d<1?0:s,new al(s,a,d,e.opacity)}function P5e(e,t,r,n){return arguments.length===1?qH(e):new al(e,t,r,n??1)}function al(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}aD(al,P5e,WH(j_,{brighter(e){return e=e==null?Dw:Math.pow(Dw,e),new al(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?U0:Math.pow(U0,e),new al(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new va(Wk(e>=240?e-240:e+120,i,n),Wk(e,i,n),Wk(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new al(a4(this.h),Lb(this.s),Lb(this.l),Lw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lw(this.opacity);return`${e===1?"hsl(":"hsla("}${a4(this.h)}, ${Lb(this.s)*100}%, ${Lb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a4(e){return e=(e||0)%360,e<0?e+360:e}function Lb(e){return Math.max(0,Math.min(1,e||0))}function Wk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sD=e=>()=>e;function A5e(e,t){return function(r){return e+r*t}}function M5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function O5e(e){return(e=+e)==1?HH:function(t,r){return r-t?M5e(t,r,e):sD(isNaN(t)?r:t)}}function HH(e,t){var r=t-e;return r?A5e(e,r):sD(isNaN(e)?t:e)}const s4=function e(t){var r=O5e(t);function n(i,o){var s=r((i=DM(i)).r,(o=DM(o)).r),a=r(i.g,o.g),d=r(i.b,o.b),h=HH(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=d(g),i.opacity=h(g),i+""}}return n.gamma=e,n}(1);function I5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function R5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Pg(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function D5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function L5e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Pg(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var LM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qk=new RegExp(LM.source,"g");function z5e(e){return function(){return e}}function N5e(e){return function(t){return e(t)+""}}function j5e(e,t){var r=LM.lastIndex=qk.lastIndex=0,n,i,o,s=-1,a=[],d=[];for(e=e+"",t=t+"";(n=LM.exec(e))&&(i=qk.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,d.push({i:s,x:zw(n,i)})),r=qk.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?d[0]?N5e(d[0].x):z5e(t):(t=d.length,function(h){for(var g=0,v;g<t;++g)a[(v=d[g]).i]=v.x(h);return a.join("")})}function Pg(e,t){var r=typeof t,n;return t==null||r==="boolean"?sD(t):(r==="number"?zw:r==="string"?(n=W0(t))?(t=n,s4):j5e:t instanceof W0?s4:t instanceof Date?D5e:R5e(t)?I5e:Array.isArray(t)?$5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?L5e:zw)(e,t)}function lD(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function B5e(e,t){t===void 0&&(t=e,e=Pg);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function F5e(e){return function(){return e}}function Nw(e){return+e}var l4=[0,1];function ea(e){return e}function zM(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:F5e(isNaN(t)?NaN:.5)}function U5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function V5e(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=zM(i,n),o=r(s,o)):(n=zM(n,i),o=r(o,s)),function(a){return o(n(a))}}function W5e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=zM(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var d=N_(e,a,1,n)-1;return o[d](i[d](a))}}function B_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bE(){var e=l4,t=l4,r=Pg,n,i,o,s=ea,a,d,h;function g(){var b=Math.min(e.length,t.length);return s!==ea&&(s=U5e(e[0],e[b-1])),a=b>2?W5e:V5e,d=h=null,v}function v(b){return b==null||isNaN(b=+b)?o:(d||(d=a(e.map(n),t,r)))(n(s(b)))}return v.invert=function(b){return s(i((h||(h=a(t,e.map(n),zw)))(b)))},v.domain=function(b){return arguments.length?(e=Array.from(b,Nw),g()):e.slice()},v.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},v.rangeRound=function(b){return t=Array.from(b),r=lD,g()},v.clamp=function(b){return arguments.length?(s=b?!0:ea,g()):s!==ea},v.interpolate=function(b){return arguments.length?(r=b,g()):r},v.unknown=function(b){return arguments.length?(o=b,v):o},function(b,M){return n=b,i=M,g()}}function cD(){return bE()(ea,ea)}function q5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hm(e){return e=jw(Math.abs(e)),e?e[1]:NaN}function H5e(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],d=0;i>0&&a>0&&(d+a+1>n&&(a=Math.max(1,n-d)),o.push(r.substring(i-=a,i+a)),!((d+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function G5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Y5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q0(e){if(!(t=Y5e.exec(e)))throw new Error("invalid format: "+e);var t;return new uD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}q0.prototype=uD.prototype;function uD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K5e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var GH;function Z5e(e,t){var r=jw(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(GH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+jw(e,Math.max(0,t+o-1))[0]}function c4(e,t){var r=jw(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const u4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c4(e*100,t),r:c4,s:Z5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function f4(e){return e}var d4=Array.prototype.map,h4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function X5e(e){var t=e.grouping===void 0||e.thousands===void 0?f4:H5e(d4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?f4:G5e(d4.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(v){v=q0(v);var b=v.fill,M=v.align,P=v.sign,w=v.symbol,A=v.zero,O=v.width,I=v.comma,C=v.precision,R=v.trim,z=v.type;z==="n"?(I=!0,z="g"):u4[z]||(C===void 0&&(C=12),R=!0,z="g"),(A||b==="0"&&M==="=")&&(A=!0,b="0",M="=");var L=w==="$"?r:w==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",F=w==="$"?n:/[%p]/.test(z)?s:"",H=u4[z],re=/[defgprs%]/.test(z);C=C===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function te(ae){var de=L,pe=F,Se,_e,Me;if(z==="c")pe=H(ae)+pe,ae="";else{ae=+ae;var Ae=ae<0||1/ae<0;if(ae=isNaN(ae)?d:H(Math.abs(ae),C),R&&(ae=K5e(ae)),Ae&&+ae==0&&P!=="+"&&(Ae=!1),de=(Ae?P==="("?P:a:P==="-"||P==="("?"":P)+de,pe=(z==="s"?h4[8+GH/3]:"")+pe+(Ae&&P==="("?")":""),re){for(Se=-1,_e=ae.length;++Se<_e;)if(Me=ae.charCodeAt(Se),48>Me||Me>57){pe=(Me===46?i+ae.slice(Se+1):ae.slice(Se))+pe,ae=ae.slice(0,Se);break}}}I&&!A&&(ae=t(ae,1/0));var Ee=de.length+ae.length+pe.length,Ie=Ee<O?new Array(O-Ee+1).join(b):"";switch(I&&A&&(ae=t(Ie+ae,Ie.length?O-pe.length:1/0),Ie=""),M){case"<":ae=de+ae+pe+Ie;break;case"=":ae=de+Ie+ae+pe;break;case"^":ae=Ie.slice(0,Ee=Ie.length>>1)+de+ae+pe+Ie.slice(Ee);break;default:ae=Ie+de+ae+pe;break}return o(ae)}return te.toString=function(){return v+""},te}function g(v,b){var M=h((v=q0(v),v.type="f",v)),P=Math.max(-8,Math.min(8,Math.floor(Hm(b)/3)))*3,w=Math.pow(10,-P),A=h4[8+P/3];return function(O){return M(w*O)+A}}return{format:h,formatPrefix:g}}var zb,fD,YH;J5e({thousands:",",grouping:[3],currency:["$",""]});function J5e(e){return zb=X5e(e),fD=zb.format,YH=zb.formatPrefix,zb}function Q5e(e){return Math.max(0,-Hm(Math.abs(e)))}function eje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hm(t)/3)))*3-Hm(Math.abs(e)))}function tje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hm(t)-Hm(e))+1}function KH(e,t,r,n){var i=h5e(e,t,r),o;switch(n=q0(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=eje(i,s))&&(n.precision=o),YH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=tje(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Q5e(i))&&(n.precision=o-(n.type==="%")*2);break}}return fD(n)}function Vf(e){var t=e.domain;return e.ticks=function(r){var n=t();return IM(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return KH(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],d,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=RM(s,a,r),h===d)return n[i]=s,n[o]=a,t(n);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;d=h}return e},e}function Bw(){var e=cD();return e.copy=function(){return B_(e,Bw())},Ds.apply(e,arguments),Vf(e)}function ZH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Nw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZH(e).unknown(t)},e=arguments.length?Array.from(e,Nw):[0,1],Vf(r)}function XH(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}function p4(e){return Math.log(e)}function m4(e){return Math.exp(e)}function rje(e){return-Math.log(-e)}function nje(e){return-Math.exp(-e)}function ije(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oje(e){return e===10?ije:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function g4(e){return(t,r)=>-e(-t,r)}function dD(e){const t=e(p4,m4),r=t.domain;let n=10,i,o;function s(){return i=aje(n),o=oje(n),r()[0]<0?(i=g4(i),o=g4(o),e(rje,nje)):e(p4,m4),t}return t.base=function(a){return arguments.length?(n=+a,s()):n},t.domain=function(a){return arguments.length?(r(a),s()):r()},t.ticks=a=>{const d=r();let h=d[0],g=d[d.length-1];const v=g<h;v&&([h,g]=[g,h]);let b=i(h),M=i(g),P,w;const A=a==null?10:+a;let O=[];if(!(n%1)&&M-b<A){if(b=Math.floor(b),M=Math.ceil(M),h>0){for(;b<=M;++b)for(P=1;P<n;++P)if(w=b<0?P/o(-b):P*o(b),!(w<h)){if(w>g)break;O.push(w)}}else for(;b<=M;++b)for(P=n-1;P>=1;--P)if(w=b>0?P/o(-b):P*o(b),!(w<h)){if(w>g)break;O.push(w)}O.length*2<A&&(O=IM(h,g,A))}else O=IM(b,M,Math.min(M-b,A)).map(o);return v?O.reverse():O},t.tickFormat=(a,d)=>{if(a==null&&(a=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=q0(d)).precision==null&&(d.trim=!0),d=fD(d)),a===1/0)return d;const h=Math.max(1,n*a/t.ticks().length);return g=>{let v=g/o(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=h?d(g):""}},t.nice=()=>r(XH(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function JH(){const e=dD(bE()).domain([1,10]);return e.copy=()=>B_(e,JH()).base(e.base()),Ds.apply(e,arguments),e}function y4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function v4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hD(e){var t=1,r=e(y4(t),v4(t));return r.constant=function(n){return arguments.length?e(y4(t=+n),v4(t)):t},Vf(r)}function QH(){var e=hD(bE());return e.copy=function(){return B_(e,QH()).constant(e.constant())},Ds.apply(e,arguments)}function _4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sje(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lje(e){return e<0?-e*e:e*e}function pD(e){var t=e(ea,ea),r=1;function n(){return r===1?e(ea,ea):r===.5?e(sje,lje):e(_4(r),_4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Vf(t)}function mD(){var e=pD(bE());return e.copy=function(){return B_(e,mD()).exponent(e.exponent())},Ds.apply(e,arguments),e}function cje(){return mD.apply(null,arguments).exponent(.5)}function x4(e){return Math.sign(e)*e*e}function uje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eG(){var e=cD(),t=[0,1],r=!1,n;function i(o){var s=uje(e(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return e.invert(x4(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Nw)).map(x4)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ds.apply(i,arguments),Vf(i)}function tG(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=m5e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[N_(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bf),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return tG().domain(e).range(t).unknown(n)},Ds.apply(o,arguments)}function rG(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function s(d){return d!=null&&d<=d?i[N_(n,d,0,r)]:o}function a(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,a()):[e,t]},s.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,a()):i.slice()},s.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},s.unknown=function(d){return arguments.length&&(o=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return rG().domain([e,t]).range(i).unknown(o)},Ds.apply(Vf(s),arguments)}function nG(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[N_(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nG().domain(e).range(t).unknown(r)},Ds.apply(i,arguments)}const Hk=new Date,Gk=new Date;function ji(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const d=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return d;let h;do d.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return d},i.filter=o=>ji(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),r&&(i.count=(o,s)=>(Hk.setTime(+o),Gk.setTime(+s),e(Hk),e(Gk),Math.floor(r(Hk,Gk))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Fw=ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fw);Fw.range;const Bc=1e3,vs=Bc*60,Fc=vs*60,iu=Fc*24,gD=iu*7,b4=iu*30,Yk=iu*365,Ld=ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bc)},(e,t)=>(t-e)/Bc,e=>e.getUTCSeconds());Ld.range;const yD=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bc)},(e,t)=>{e.setTime(+e+t*vs)},(e,t)=>(t-e)/vs,e=>e.getMinutes());yD.range;const vD=ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vs)},(e,t)=>(t-e)/vs,e=>e.getUTCMinutes());vD.range;const _D=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bc-e.getMinutes()*vs)},(e,t)=>{e.setTime(+e+t*Fc)},(e,t)=>(t-e)/Fc,e=>e.getHours());_D.range;const xD=ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fc)},(e,t)=>(t-e)/Fc,e=>e.getUTCHours());xD.range;const F_=ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vs)/iu,e=>e.getDate()-1);F_.range;const wE=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iu,e=>e.getUTCDate()-1);wE.range;const iG=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iu,e=>Math.floor(e/iu));iG.range;function hh(e){return ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vs)/gD)}const SE=hh(0),Uw=hh(1),fje=hh(2),dje=hh(3),Gm=hh(4),hje=hh(5),pje=hh(6);SE.range;Uw.range;fje.range;dje.range;Gm.range;hje.range;pje.range;function ph(e){return ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gD)}const EE=ph(0),Vw=ph(1),mje=ph(2),gje=ph(3),Ym=ph(4),yje=ph(5),vje=ph(6);EE.range;Vw.range;mje.range;gje.range;Ym.range;yje.range;vje.range;const bD=ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bD.range;const wD=ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wD.range;const ou=ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ou.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ou.range;const au=ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());au.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});au.range;function Kk(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _je(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xje(e){let t,r,n;e.length!==2?(t=Kk,r=(a,d)=>Kk(e(a),d),n=(a,d)=>e(a)-d):(t=e===Kk||e===_je?e:bje,r=e,n=e);function i(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<0?h=v+1:g=v}while(h<g)}return h}function o(a,d,h=0,g=a.length){if(h<g){if(t(d,d)!==0)return g;do{const v=h+g>>>1;r(a[v],d)<=0?h=v+1:g=v}while(h<g)}return h}function s(a,d,h=0,g=a.length){const v=i(a,d,h,g-1);return v>h&&n(a[v-1],d)>-n(a[v],d)?v-1:v}return{left:i,center:s,right:o}}function bje(){return 0}const wje=Math.sqrt(50),Sje=Math.sqrt(10),Eje=Math.sqrt(2);function oG(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=wje?10:o>=Sje?5:o>=Eje?2:1;let a,d,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),d=Math.round(t*h),a/h<e&&++a,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),d=Math.round(t/h),a*h<e&&++a,d*h>t&&--d),d<a&&.5<=r&&r<2?oG(e,t,r*2):[a,d,h]}function w4(e,t,r){return t=+t,e=+e,r=+r,oG(e,t,r)[2]}function S4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?w4(t,e,r):w4(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function aG(e,t,r,n,i,o){const s=[[Ld,1,Bc],[Ld,5,5*Bc],[Ld,15,15*Bc],[Ld,30,30*Bc],[o,1,vs],[o,5,5*vs],[o,15,15*vs],[o,30,30*vs],[i,1,Fc],[i,3,3*Fc],[i,6,6*Fc],[i,12,12*Fc],[n,1,iu],[n,2,2*iu],[r,1,gD],[t,1,b4],[t,3,3*b4],[e,1,Yk]];function a(h,g,v){const b=g<h;b&&([h,g]=[g,h]);const M=v&&typeof v.range=="function"?v:d(h,g,v),P=M?M.range(h,+g+1):[];return b?P.reverse():P}function d(h,g,v){const b=Math.abs(g-h)/v,M=xje(([,,A])=>A).right(s,b);if(M===s.length)return e.every(S4(h/Yk,g/Yk,v));if(M===0)return Fw.every(Math.max(S4(h,g,v),1));const[P,w]=s[b/s[M-1][2]<s[M][2]/b?M-1:M];return P.every(w)}return[a,d]}const[Cje,Tje]=aG(au,wD,EE,iG,xD,vD),[kje,Pje]=aG(ou,bD,SE,F_,_D,yD);function Zk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Aje(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,d=e.shortMonths,h=nv(i),g=iv(i),v=nv(o),b=iv(o),M=nv(s),P=iv(s),w=nv(a),A=iv(a),O=nv(d),I=iv(d),C={a:Ae,A:Ee,b:Ie,B:He,c:null,d:A4,e:A4,f:Jje,g:lBe,G:uBe,H:Kje,I:Zje,j:Xje,L:sG,m:Qje,M:eBe,p:tt,q:Te,Q:I4,s:R4,S:tBe,u:rBe,U:nBe,V:iBe,w:oBe,W:aBe,x:null,X:null,y:sBe,Y:cBe,Z:fBe,"%":O4},R={a:Ne,A:De,b:Ye,B:je,c:null,d:M4,e:M4,f:mBe,g:CBe,G:kBe,H:dBe,I:hBe,j:pBe,L:cG,m:gBe,M:yBe,p:st,q:nt,Q:I4,s:R4,S:vBe,u:_Be,U:xBe,V:bBe,w:wBe,W:SBe,x:null,X:null,y:EBe,Y:TBe,Z:PBe,"%":O4},z={a:te,A:ae,b:de,B:pe,c:Se,d:k4,e:k4,f:qje,g:T4,G:C4,H:P4,I:P4,j:Fje,L:Wje,m:Bje,M:Uje,p:re,q:jje,Q:Gje,s:Yje,S:Vje,u:$je,U:Dje,V:Lje,w:Rje,W:zje,x:_e,X:Me,y:T4,Y:C4,Z:Nje,"%":Hje};C.x=L(r,C),C.X=L(n,C),C.c=L(t,C),R.x=L(r,R),R.X=L(n,R),R.c=L(t,R);function L(Ue,Xe){return function(ct){var Be=[],Pe=-1,St=0,Zt=Ue.length,Ot,Nt,Mr;for(ct instanceof Date||(ct=new Date(+ct));++Pe<Zt;)Ue.charCodeAt(Pe)===37&&(Be.push(Ue.slice(St,Pe)),(Nt=E4[Ot=Ue.charAt(++Pe)])!=null?Ot=Ue.charAt(++Pe):Nt=Ot==="e"?" ":"0",(Mr=Xe[Ot])&&(Ot=Mr(ct,Nt)),Be.push(Ot),St=Pe+1);return Be.push(Ue.slice(St,Pe)),Be.join("")}}function F(Ue,Xe){return function(ct){var Be=rv(1900,void 0,1),Pe=H(Be,Ue,ct+="",0),St,Zt;if(Pe!=ct.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(Xe&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(St=Xk(rv(Be.y,0,1)),Zt=St.getUTCDay(),St=Zt>4||Zt===0?Vw.ceil(St):Vw(St),St=wE.offset(St,(Be.V-1)*7),Be.y=St.getUTCFullYear(),Be.m=St.getUTCMonth(),Be.d=St.getUTCDate()+(Be.w+6)%7):(St=Zk(rv(Be.y,0,1)),Zt=St.getDay(),St=Zt>4||Zt===0?Uw.ceil(St):Uw(St),St=F_.offset(St,(Be.V-1)*7),Be.y=St.getFullYear(),Be.m=St.getMonth(),Be.d=St.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),Zt="Z"in Be?Xk(rv(Be.y,0,1)).getUTCDay():Zk(rv(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(Zt+5)%7:Be.w+Be.U*7-(Zt+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,Xk(Be)):Zk(Be)}}function H(Ue,Xe,ct,Be){for(var Pe=0,St=Xe.length,Zt=ct.length,Ot,Nt;Pe<St;){if(Be>=Zt)return-1;if(Ot=Xe.charCodeAt(Pe++),Ot===37){if(Ot=Xe.charAt(Pe++),Nt=z[Ot in E4?Xe.charAt(Pe++):Ot],!Nt||(Be=Nt(Ue,ct,Be))<0)return-1}else if(Ot!=ct.charCodeAt(Be++))return-1}return Be}function re(Ue,Xe,ct){var Be=h.exec(Xe.slice(ct));return Be?(Ue.p=g.get(Be[0].toLowerCase()),ct+Be[0].length):-1}function te(Ue,Xe,ct){var Be=M.exec(Xe.slice(ct));return Be?(Ue.w=P.get(Be[0].toLowerCase()),ct+Be[0].length):-1}function ae(Ue,Xe,ct){var Be=v.exec(Xe.slice(ct));return Be?(Ue.w=b.get(Be[0].toLowerCase()),ct+Be[0].length):-1}function de(Ue,Xe,ct){var Be=O.exec(Xe.slice(ct));return Be?(Ue.m=I.get(Be[0].toLowerCase()),ct+Be[0].length):-1}function pe(Ue,Xe,ct){var Be=w.exec(Xe.slice(ct));return Be?(Ue.m=A.get(Be[0].toLowerCase()),ct+Be[0].length):-1}function Se(Ue,Xe,ct){return H(Ue,t,Xe,ct)}function _e(Ue,Xe,ct){return H(Ue,r,Xe,ct)}function Me(Ue,Xe,ct){return H(Ue,n,Xe,ct)}function Ae(Ue){return s[Ue.getDay()]}function Ee(Ue){return o[Ue.getDay()]}function Ie(Ue){return d[Ue.getMonth()]}function He(Ue){return a[Ue.getMonth()]}function tt(Ue){return i[+(Ue.getHours()>=12)]}function Te(Ue){return 1+~~(Ue.getMonth()/3)}function Ne(Ue){return s[Ue.getUTCDay()]}function De(Ue){return o[Ue.getUTCDay()]}function Ye(Ue){return d[Ue.getUTCMonth()]}function je(Ue){return a[Ue.getUTCMonth()]}function st(Ue){return i[+(Ue.getUTCHours()>=12)]}function nt(Ue){return 1+~~(Ue.getUTCMonth()/3)}return{format:function(Ue){var Xe=L(Ue+="",C);return Xe.toString=function(){return Ue},Xe},parse:function(Ue){var Xe=F(Ue+="",!1);return Xe.toString=function(){return Ue},Xe},utcFormat:function(Ue){var Xe=L(Ue+="",R);return Xe.toString=function(){return Ue},Xe},utcParse:function(Ue){var Xe=F(Ue+="",!0);return Xe.toString=function(){return Ue},Xe}}}var E4={"-":"",_:" ",0:"0"},Qi=/^\s*\d+/,Mje=/^%/,Oje=/[\\^$*+?|[\]().{}]/g;function Yr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function Ije(e){return e.replace(Oje,"\\$&")}function nv(e){return new RegExp("^(?:"+e.map(Ije).join("|")+")","i")}function iv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rje(e,t,r){var n=Qi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $je(e,t,r){var n=Qi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Dje(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Lje(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zje(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C4(e,t,r){var n=Qi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T4(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Nje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jje(e,t,r){var n=Qi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bje(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function k4(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Fje(e,t,r){var n=Qi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function P4(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Uje(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vje(e,t,r){var n=Qi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Wje(e,t,r){var n=Qi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qje(e,t,r){var n=Qi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hje(e,t,r){var n=Mje.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Gje(e,t,r){var n=Qi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Yje(e,t,r){var n=Qi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function A4(e,t){return Yr(e.getDate(),t,2)}function Kje(e,t){return Yr(e.getHours(),t,2)}function Zje(e,t){return Yr(e.getHours()%12||12,t,2)}function Xje(e,t){return Yr(1+F_.count(ou(e),e),t,3)}function sG(e,t){return Yr(e.getMilliseconds(),t,3)}function Jje(e,t){return sG(e,t)+"000"}function Qje(e,t){return Yr(e.getMonth()+1,t,2)}function eBe(e,t){return Yr(e.getMinutes(),t,2)}function tBe(e,t){return Yr(e.getSeconds(),t,2)}function rBe(e){var t=e.getDay();return t===0?7:t}function nBe(e,t){return Yr(SE.count(ou(e)-1,e),t,2)}function lG(e){var t=e.getDay();return t>=4||t===0?Gm(e):Gm.ceil(e)}function iBe(e,t){return e=lG(e),Yr(Gm.count(ou(e),e)+(ou(e).getDay()===4),t,2)}function oBe(e){return e.getDay()}function aBe(e,t){return Yr(Uw.count(ou(e)-1,e),t,2)}function sBe(e,t){return Yr(e.getFullYear()%100,t,2)}function lBe(e,t){return e=lG(e),Yr(e.getFullYear()%100,t,2)}function cBe(e,t){return Yr(e.getFullYear()%1e4,t,4)}function uBe(e,t){var r=e.getDay();return e=r>=4||r===0?Gm(e):Gm.ceil(e),Yr(e.getFullYear()%1e4,t,4)}function fBe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yr(t/60|0,"0",2)+Yr(t%60,"0",2)}function M4(e,t){return Yr(e.getUTCDate(),t,2)}function dBe(e,t){return Yr(e.getUTCHours(),t,2)}function hBe(e,t){return Yr(e.getUTCHours()%12||12,t,2)}function pBe(e,t){return Yr(1+wE.count(au(e),e),t,3)}function cG(e,t){return Yr(e.getUTCMilliseconds(),t,3)}function mBe(e,t){return cG(e,t)+"000"}function gBe(e,t){return Yr(e.getUTCMonth()+1,t,2)}function yBe(e,t){return Yr(e.getUTCMinutes(),t,2)}function vBe(e,t){return Yr(e.getUTCSeconds(),t,2)}function _Be(e){var t=e.getUTCDay();return t===0?7:t}function xBe(e,t){return Yr(EE.count(au(e)-1,e),t,2)}function uG(e){var t=e.getUTCDay();return t>=4||t===0?Ym(e):Ym.ceil(e)}function bBe(e,t){return e=uG(e),Yr(Ym.count(au(e),e)+(au(e).getUTCDay()===4),t,2)}function wBe(e){return e.getUTCDay()}function SBe(e,t){return Yr(Vw.count(au(e)-1,e),t,2)}function EBe(e,t){return Yr(e.getUTCFullYear()%100,t,2)}function CBe(e,t){return e=uG(e),Yr(e.getUTCFullYear()%100,t,2)}function TBe(e,t){return Yr(e.getUTCFullYear()%1e4,t,4)}function kBe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ym(e):Ym.ceil(e),Yr(e.getUTCFullYear()%1e4,t,4)}function PBe(){return"+0000"}function O4(){return"%"}function I4(e){return+e}function R4(e){return Math.floor(+e/1e3)}var xp,fG,dG;ABe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ABe(e){return xp=Aje(e),fG=xp.format,xp.parse,dG=xp.utcFormat,xp.utcParse,xp}function MBe(e){return new Date(e)}function OBe(e){return e instanceof Date?+e:+new Date(+e)}function SD(e,t,r,n,i,o,s,a,d,h){var g=cD(),v=g.invert,b=g.domain,M=h(".%L"),P=h(":%S"),w=h("%I:%M"),A=h("%I %p"),O=h("%a %d"),I=h("%b %d"),C=h("%B"),R=h("%Y");function z(L){return(d(L)<L?M:a(L)<L?P:s(L)<L?w:o(L)<L?A:n(L)<L?i(L)<L?O:I:r(L)<L?C:R)(L)}return g.invert=function(L){return new Date(v(L))},g.domain=function(L){return arguments.length?b(Array.from(L,OBe)):b().map(MBe)},g.ticks=function(L){var F=b();return e(F[0],F[F.length-1],L??10)},g.tickFormat=function(L,F){return F==null?z:h(F)},g.nice=function(L){var F=b();return(!L||typeof L.range!="function")&&(L=t(F[0],F[F.length-1],L??10)),L?b(XH(F,L)):g},g.copy=function(){return B_(g,SD(e,t,r,n,i,o,s,a,d,h))},g}function IBe(){return Ds.apply(SD(kje,Pje,ou,bD,SE,F_,_D,yD,Ld,fG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RBe(){return Ds.apply(SD(Cje,Tje,au,wD,EE,wE,xD,vD,Ld,dG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function CE(){var e=0,t=1,r,n,i,o,s=ea,a=!1,d;function h(v){return v==null||isNaN(v=+v)?d:s(i===0?.5:(v=(o(v)-r)*i,a?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(v){return arguments.length?(a=!!v,h):a},h.interpolator=function(v){return arguments.length?(s=v,h):s};function g(v){return function(b){var M,P;return arguments.length?([M,P]=b,s=v(M,P),h):[s(0),s(1)]}}return h.range=g(Pg),h.rangeRound=g(lD),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return o=v,r=v(e),n=v(t),i=r===n?0:1/(n-r),h}}function Wf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hG(){var e=Vf(CE()(ea));return e.copy=function(){return Wf(e,hG())},du.apply(e,arguments)}function pG(){var e=dD(CE()).domain([1,10]);return e.copy=function(){return Wf(e,pG()).base(e.base())},du.apply(e,arguments)}function mG(){var e=hD(CE());return e.copy=function(){return Wf(e,mG()).constant(e.constant())},du.apply(e,arguments)}function ED(){var e=pD(CE());return e.copy=function(){return Wf(e,ED()).exponent(e.exponent())},du.apply(e,arguments)}function $Be(){return ED.apply(null,arguments).exponent(.5)}function gG(){var e=[],t=ea;function r(n){if(n!=null&&!isNaN(n=+n))return t((N_(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>p5e(e,o/n))},r.copy=function(){return gG(t).domain(e)},du.apply(r,arguments)}function TE(){var e=0,t=.5,r=1,n=1,i,o,s,a,d,h=ea,g,v=!1,b;function M(w){return isNaN(w=+w)?b:(w=.5+((w=+g(w))-o)*(n*w<n*o?a:d),h(v?Math.max(0,Math.min(1,w)):w))}M.domain=function(w){return arguments.length?([e,t,r]=w,i=g(e=+e),o=g(t=+t),s=g(r=+r),a=i===o?0:.5/(o-i),d=o===s?0:.5/(s-o),n=o<i?-1:1,M):[e,t,r]},M.clamp=function(w){return arguments.length?(v=!!w,M):v},M.interpolator=function(w){return arguments.length?(h=w,M):h};function P(w){return function(A){var O,I,C;return arguments.length?([O,I,C]=A,h=B5e(w,[O,I,C]),M):[h(0),h(.5),h(1)]}}return M.range=P(Pg),M.rangeRound=P(lD),M.unknown=function(w){return arguments.length?(b=w,M):b},function(w){return g=w,i=w(e),o=w(t),s=w(r),a=i===o?0:.5/(o-i),d=o===s?0:.5/(s-o),n=o<i?-1:1,M}}function yG(){var e=Vf(TE()(ea));return e.copy=function(){return Wf(e,yG())},du.apply(e,arguments)}function vG(){var e=dD(TE()).domain([.1,1,10]);return e.copy=function(){return Wf(e,vG()).base(e.base())},du.apply(e,arguments)}function _G(){var e=hD(TE());return e.copy=function(){return Wf(e,_G()).constant(e.constant())},du.apply(e,arguments)}function CD(){var e=pD(TE());return e.copy=function(){return Wf(e,CD()).exponent(e.exponent())},du.apply(e,arguments)}function DBe(){return CD.apply(null,arguments).exponent(.5)}const $4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:F0,scaleDiverging:yG,scaleDivergingLog:vG,scaleDivergingPow:CD,scaleDivergingSqrt:DBe,scaleDivergingSymlog:_G,scaleIdentity:ZH,scaleImplicit:$M,scaleLinear:Bw,scaleLog:JH,scaleOrdinal:oD,scalePoint:Uv,scalePow:mD,scaleQuantile:tG,scaleQuantize:rG,scaleRadial:eG,scaleSequential:hG,scaleSequentialLog:pG,scaleSequentialPow:ED,scaleSequentialQuantile:gG,scaleSequentialSqrt:$Be,scaleSequentialSymlog:mG,scaleSqrt:cje,scaleSymlog:QH,scaleThreshold:nG,scaleTime:IBe,scaleUtc:RBe,tickFormat:KH},Symbol.toStringTag,{value:"Module"}));var Ag=1e9,LBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kD,Gn=!0,Ms="[DecimalError] ",Wd=Ms+"Invalid argument: ",TD=Ms+"Exponent out of range: ",Mg=Math.floor,wd=Math.pow,zBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ua,Ki=1e7,Rn=7,xG=9007199254740991,Ww=Mg(xG/Rn),Yt={};Yt.absoluteValue=Yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Yt.comparedTo=Yt.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Yt.decimalPlaces=Yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Yt.dividedBy=Yt.div=function(e){return qc(this,new this.constructor(e))};Yt.dividedToIntegerBy=Yt.idiv=function(e){var t=this,r=t.constructor;return Sn(qc(t,new r(e),0,1),r.precision)};Yt.equals=Yt.eq=function(e){return!this.cmp(e)};Yt.exponent=function(){return Oi(this)};Yt.greaterThan=Yt.gt=function(e){return this.cmp(e)>0};Yt.greaterThanOrEqualTo=Yt.gte=function(e){return this.cmp(e)>=0};Yt.isInteger=Yt.isint=function(){return this.e>this.d.length-2};Yt.isNegative=Yt.isneg=function(){return this.s<0};Yt.isPositive=Yt.ispos=function(){return this.s>0};Yt.isZero=function(){return this.s===0};Yt.lessThan=Yt.lt=function(e){return this.cmp(e)<0};Yt.lessThanOrEqualTo=Yt.lte=function(e){return this.cmp(e)<1};Yt.logarithm=Yt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ua))throw Error(Ms+"NaN");if(r.s<1)throw Error(Ms+(r.s?"NaN":"-Infinity"));return r.eq(Ua)?new n(0):(Gn=!1,t=qc(H0(r,o),H0(e,o),o),Gn=!0,Sn(t,i))};Yt.minus=Yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SG(t,e):bG(t,(e.s=-e.s,e))};Yt.modulo=Yt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ms+"NaN");return r.s?(Gn=!1,t=qc(r,e,0,1).times(e),Gn=!0,r.minus(t)):Sn(new n(r),i)};Yt.naturalExponential=Yt.exp=function(){return wG(this)};Yt.naturalLogarithm=Yt.ln=function(){return H0(this)};Yt.negated=Yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Yt.plus=Yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bG(t,e):SG(t,(e.s=-e.s,e))};Yt.precision=Yt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wd+e);if(t=Oi(i)+1,n=i.d.length-1,r=n*Rn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Yt.squareRoot=Yt.sqrt=function(){var e,t,r,n,i,o,s,a=this,d=a.constructor;if(a.s<1){if(!a.s)return new d(0);throw Error(Ms+"NaN")}for(e=Oi(a),Gn=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Ul(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Mg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(o=n,n=o.plus(qc(a,o,s+2)).times(.5),Ul(o.d).slice(0,s)===(t=Ul(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Sn(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return Gn=!0,Sn(n,r)};Yt.times=Yt.mul=function(e){var t,r,n,i,o,s,a,d,h,g=this,v=g.constructor,b=g.d,M=(e=new v(e)).d;if(!g.s||!e.s)return new v(0);for(e.s*=g.s,r=g.e+e.e,d=b.length,h=M.length,d<h&&(o=b,b=M,M=o,s=d,d=h,h=s),o=[],s=d+h,n=s;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)a=o[i]+M[n]*b[i-n-1]+t,o[i--]=a%Ki|0,t=a/Ki|0;o[i]=(o[i]+t)%Ki|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Gn?Sn(e,v.precision):e};Yt.toDecimalPlaces=Yt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tc(e,0,Ag),t===void 0?t=n.rounding:tc(t,0,8),Sn(r,e+Oi(r)+1,t))};Yt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=oh(n,!0):(tc(e,0,Ag),t===void 0?t=i.rounding:tc(t,0,8),n=Sn(new i(n),e+1,t),r=oh(n,!0,e+1)),r};Yt.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?oh(i):(tc(e,0,Ag),t===void 0?t=o.rounding:tc(t,0,8),n=Sn(new o(i),e+Oi(i)+1,t),r=oh(n.abs(),!1,e+Oi(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Yt.toInteger=Yt.toint=function(){var e=this,t=e.constructor;return Sn(new t(e),Oi(e)+1,t.rounding)};Yt.toNumber=function(){return+this};Yt.toPower=Yt.pow=function(e){var t,r,n,i,o,s,a=this,d=a.constructor,h=12,g=+(e=new d(e));if(!e.s)return new d(Ua);if(a=new d(a),!a.s){if(e.s<1)throw Error(Ms+"Infinity");return a}if(a.eq(Ua))return a;if(n=d.precision,e.eq(Ua))return Sn(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=g<0?-g:g)<=xG){for(i=new d(Ua),t=Math.ceil(n/Rn+4),Gn=!1;r%2&&(i=i.times(a),L4(i.d,t)),r=Mg(r/2),r!==0;)a=a.times(a),L4(a.d,t);return Gn=!0,e.s<0?new d(Ua).div(i):Sn(i,n)}}else if(o<0)throw Error(Ms+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,Gn=!1,i=e.times(H0(a,n+h)),Gn=!0,i=wG(i),i.s=o,i};Yt.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=Oi(i),n=oh(i,r<=o.toExpNeg||r>=o.toExpPos)):(tc(e,1,Ag),t===void 0?t=o.rounding:tc(t,0,8),i=Sn(new o(i),e,t),r=Oi(i),n=oh(i,e<=r||r<=o.toExpNeg,e)),n};Yt.toSignificantDigits=Yt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tc(e,1,Ag),t===void 0?t=n.rounding:tc(t,0,8)),Sn(new n(r),e,t)};Yt.toString=Yt.valueOf=Yt.val=Yt.toJSON=Yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Oi(e),r=e.constructor;return oh(e,t<=r.toExpNeg||t>=r.toExpPos)};function bG(e,t){var r,n,i,o,s,a,d,h,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Gn?Sn(t,v):t;if(d=e.d,h=t.d,s=e.e,i=t.e,d=d.slice(),o=s-i,o){for(o<0?(n=d,o=-o,a=h.length):(n=h,i=s,a=d.length),s=Math.ceil(v/Rn),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=d.length,o=h.length,a-o<0&&(o=a,n=h,h=d,d=n),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/Ki|0,d[o]%=Ki;for(r&&(d.unshift(r),++i),a=d.length;d[--a]==0;)d.pop();return t.d=d,t.e=i,Gn?Sn(t,v):t}function tc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wd+e)}function Ul(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=Rn-n.length,r&&(o+=Wu(r)),o+=n;s=e[t],n=s+"",r=Rn-n.length,r&&(o+=Wu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var qc=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Ki|0,s=o/Ki|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,d;if(o!=s)d=o>s?1:-1;else for(a=d=0;a<o;a++)if(n[a]!=i[a]){d=n[a]>i[a]?1:-1;break}return d}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Ki+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,d,h,g,v,b,M,P,w,A,O,I,C,R,z,L,F,H,re=n.constructor,te=n.s==i.s?1:-1,ae=n.d,de=i.d;if(!n.s)return new re(n);if(!i.s)throw Error(Ms+"Division by zero");for(d=n.e-i.e,F=de.length,z=ae.length,M=new re(te),P=M.d=[],h=0;de[h]==(ae[h]||0);)++h;if(de[h]>(ae[h]||0)&&--d,o==null?I=o=re.precision:s?I=o+(Oi(n)-Oi(i))+1:I=o,I<0)return new re(0);if(I=I/Rn+2|0,h=0,F==1)for(g=0,de=de[0],I++;(h<z||g)&&I--;h++)C=g*Ki+(ae[h]||0),P[h]=C/de|0,g=C%de|0;else{for(g=Ki/(de[0]+1)|0,g>1&&(de=e(de,g),ae=e(ae,g),F=de.length,z=ae.length),R=F,w=ae.slice(0,F),A=w.length;A<F;)w[A++]=0;H=de.slice(),H.unshift(0),L=de[0],de[1]>=Ki/2&&++L;do g=0,a=t(de,w,F,A),a<0?(O=w[0],F!=A&&(O=O*Ki+(w[1]||0)),g=O/L|0,g>1?(g>=Ki&&(g=Ki-1),v=e(de,g),b=v.length,A=w.length,a=t(v,w,b,A),a==1&&(g--,r(v,F<b?H:de,b))):(g==0&&(a=g=1),v=de.slice()),b=v.length,b<A&&v.unshift(0),r(w,v,A),a==-1&&(A=w.length,a=t(de,w,F,A),a<1&&(g++,r(w,F<A?H:de,A))),A=w.length):a===0&&(g++,w=[0]),P[h++]=g,a&&w[0]?w[A++]=ae[R]||0:(w=[ae[R]],A=1);while((R++<z||w[0]!==void 0)&&I--)}return P[0]||P.shift(),M.e=d,Sn(M,s?o+Oi(M)+1:o)}}();function wG(e,t){var r,n,i,o,s,a,d=0,h=0,g=e.constructor,v=g.precision;if(Oi(e)>16)throw Error(TD+Oi(e));if(!e.s)return new g(Ua);for(t==null?(Gn=!1,a=v):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(n=Math.log(wd(2,h))/Math.LN10*2+5|0,a+=n,r=i=o=new g(Ua),g.precision=a;;){if(i=Sn(i.times(e),a),r=r.times(++d),s=o.plus(qc(i,r,a)),Ul(s.d).slice(0,a)===Ul(o.d).slice(0,a)){for(;h--;)o=Sn(o.times(o),a);return g.precision=v,t==null?(Gn=!0,Sn(o,v)):o}o=s}}function Oi(e){for(var t=e.e*Rn,r=e.d[0];r>=10;r/=10)t++;return t}function Jk(e,t,r){if(t>e.LN10.sd())throw Gn=!0,r&&(e.precision=r),Error(Ms+"LN10 precision limit exceeded");return Sn(new e(e.LN10),t)}function Wu(e){for(var t="";e--;)t+="0";return t}function H0(e,t){var r,n,i,o,s,a,d,h,g,v=1,b=10,M=e,P=M.d,w=M.constructor,A=w.precision;if(M.s<1)throw Error(Ms+(M.s?"NaN":"-Infinity"));if(M.eq(Ua))return new w(0);if(t==null?(Gn=!1,h=A):h=t,M.eq(10))return t==null&&(Gn=!0),Jk(w,h);if(h+=b,w.precision=h,r=Ul(P),n=r.charAt(0),o=Oi(M),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)M=M.times(e),r=Ul(M.d),n=r.charAt(0),v++;o=Oi(M),n>1?(M=new w("0."+r),o++):M=new w(n+"."+r.slice(1))}else return d=Jk(w,h+2,A).times(o+""),M=H0(new w(n+"."+r.slice(1)),h-b).plus(d),w.precision=A,t==null?(Gn=!0,Sn(M,A)):M;for(a=s=M=qc(M.minus(Ua),M.plus(Ua),h),g=Sn(M.times(M),h),i=3;;){if(s=Sn(s.times(g),h),d=a.plus(qc(s,new w(i),h)),Ul(d.d).slice(0,h)===Ul(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(Jk(w,h+2,A).times(o+""))),a=qc(a,new w(v),h),w.precision=A,t==null?(Gn=!0,Sn(a,A)):a;a=d,i+=2}}function D4(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Mg(r/Rn),e.d=[],n=(r+1)%Rn,r<0&&(n+=Rn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Rn;n<i;)e.d.push(+t.slice(n,n+=Rn));t=t.slice(n),n=Rn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Gn&&(e.e>Ww||e.e<-Ww))throw Error(TD+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sn(e,t,r){var n,i,o,s,a,d,h,g,v=e.d;for(s=1,o=v[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=Rn,i=t,h=v[g=0];else{if(g=Math.ceil((n+1)/Rn),o=v.length,g>=o)return e;for(h=o=v[g],s=1;o>=10;o/=10)s++;n%=Rn,i=n-Rn+s}if(r!==void 0&&(o=wd(10,s-i-1),a=h/o%10|0,d=t<0||v[g+1]!==void 0||h%o,d=r<4?(a||d)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||d||r==6&&(n>0?i>0?h/wd(10,s-i):0:v[g-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return d?(o=Oi(e),v.length=1,t=t-o-1,v[0]=wd(10,(Rn-t%Rn)%Rn),e.e=Mg(-t/Rn)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=g,o=1,g--):(v.length=g+1,o=wd(10,Rn-n),v[g]=i>0?(h/wd(10,s-i)%wd(10,i)|0)*o:0),d)for(;;)if(g==0){(v[0]+=o)==Ki&&(v[0]=1,++e.e);break}else{if(v[g]+=o,v[g]!=Ki)break;v[g--]=0,o=1}for(n=v.length;v[--n]===0;)v.pop();if(Gn&&(e.e>Ww||e.e<-Ww))throw Error(TD+Oi(e));return e}function SG(e,t){var r,n,i,o,s,a,d,h,g,v,b=e.constructor,M=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Gn?Sn(t,M):t;if(d=e.d,v=t.d,n=t.e,h=e.e,d=d.slice(),s=h-n,s){for(g=s<0,g?(r=d,s=-s,a=v.length):(r=v,n=h,a=d.length),i=Math.max(Math.ceil(M/Rn),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,a=v.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(d[i]!=v[i]){g=d[i]<v[i];break}s=0}for(g&&(r=d,d=v,v=r,t.s=-t.s),a=d.length,i=v.length-a;i>0;--i)d[a++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(o=i;o&&d[--o]===0;)d[o]=Ki-1;--d[o],d[i]+=Ki}d[i]-=v[i]}for(;d[--a]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Gn?Sn(t,M):t):new b(0)}function oh(e,t,r){var n,i=Oi(e),o=Ul(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Wu(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Wu(-i-1)+o,r&&(n=r-s)>0&&(o+=Wu(n))):i>=s?(o+=Wu(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Wu(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Wu(n))),e.s<0?"-"+o:o}function L4(e,t){if(e.length>t)return e.length=t,!0}function EG(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Wd+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return D4(s,o.toString())}else if(typeof o!="string")throw Error(Wd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,zBe.test(o))D4(s,o);else throw Error(Wd+o)}if(i.prototype=Yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=EG,i.config=i.set=NBe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function NBe(e){if(!e||typeof e!="object")throw Error(Ms+"Object expected");var t,r,n,i=["precision",1,Ag,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Mg(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Wd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wd+r+": "+n);return this}var kD=EG(LBe);Ua=new kD(1);const gn=kD;function jBe(e){return VBe(e)||UBe(e)||FBe(e)||BBe()}function BBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FBe(e,t){if(e){if(typeof e=="string")return NM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(e,t)}}function UBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VBe(e){if(Array.isArray(e))return NM(e)}function NM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var WBe=function(t){return t},CG={"@@functional/placeholder":!0},TG=function(t){return t===CG},z4=function(t){return function r(){return arguments.length===0||arguments.length===1&&TG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},qBe=function e(t,r){return t===1?r:z4(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==CG}).length;return s>=t?r.apply(void 0,i):e(t-s,z4(function(){for(var a=arguments.length,d=new Array(a),h=0;h<a;h++)d[h]=arguments[h];var g=i.map(function(v){return TG(v)?d.shift():v});return r.apply(void 0,jBe(g).concat(d))}))})},kE=function(t){return qBe(t.length,t)},jM=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},HBe=kE(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),GBe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return WBe;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,d){return d(a)},o.apply(void 0,arguments))}},BM=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kG=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,d){return a===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function YBe(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function KBe(e,t,r){for(var n=new gn(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var ZBe=kE(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),XBe=kE(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),JBe=kE(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const PE={rangeStep:KBe,getDigitCount:YBe,interpolateNumber:ZBe,uninterpolateNumber:XBe,uninterpolateTruncation:JBe};function FM(e){return t4e(e)||e4e(e)||PG(e)||QBe()}function QBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function t4e(e){if(Array.isArray(e))return UM(e)}function G0(e,t){return i4e(e)||n4e(e,t)||PG(e,t)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(e,t){if(e){if(typeof e=="string")return UM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UM(e,t)}}function UM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n4e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function i4e(e){if(Array.isArray(e))return e}function AG(e){var t=G0(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function MG(e,t,r){if(e.lte(0))return new gn(0);var n=PE.getDigitCount(e.toNumber()),i=new gn(10).pow(n),o=e.div(i),s=n!==1?.05:.1,a=new gn(Math.ceil(o.div(s).toNumber())).add(r).mul(s),d=a.mul(i);return t?d:new gn(Math.ceil(d))}function o4e(e,t,r){var n=1,i=new gn(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new gn(10).pow(PE.getDigitCount(e)-1),i=new gn(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new gn(Math.floor(e)))}else e===0?i=new gn(Math.floor((t-1)/2)):r||(i=new gn(Math.floor(e)));var s=Math.floor((t-1)/2),a=GBe(HBe(function(d){return i.add(new gn(d-s).mul(n)).toNumber()}),jM);return a(0,t)}function OG(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var o=MG(new gn(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new gn(0):(s=new gn(e).add(t).div(2),s=s.sub(new gn(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),d=Math.ceil(new gn(t).sub(s).div(o).toNumber()),h=a+d+1;return h>r?OG(e,t,r,n,i+1):(h<r&&(d=t>0?d+(r-h):d,a=t>0?a:a+(r-h)),{step:o,tickMin:s.sub(new gn(a).mul(o)),tickMax:s.add(new gn(d).mul(o))})}function a4e(e){var t=G0(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=AG([r,n]),d=G0(a,2),h=d[0],g=d[1];if(h===-1/0||g===1/0){var v=g===1/0?[h].concat(FM(jM(0,i-1).map(function(){return 1/0}))):[].concat(FM(jM(0,i-1).map(function(){return-1/0})),[g]);return r>n?BM(v):v}if(h===g)return o4e(h,i,o);var b=OG(h,g,s,o),M=b.step,P=b.tickMin,w=b.tickMax,A=PE.rangeStep(P,w.add(new gn(.1).mul(M)),M);return r>n?BM(A):A}function s4e(e,t){var r=G0(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=AG([n,i]),a=G0(s,2),d=a[0],h=a[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var g=Math.max(t,2),v=MG(new gn(h).sub(d).div(g-1),o,0),b=[].concat(FM(PE.rangeStep(new gn(d),new gn(h).sub(new gn(.99).mul(v)),v)),[h]);return n>i?BM(b):b}var l4e=kG(a4e),c4e=kG(s4e),u4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(this,arguments)}function f4e(e,t){return m4e(e)||p4e(e,t)||h4e(e,t)||d4e()}function d4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4e(e,t){if(e){if(typeof e=="string")return N4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N4(e,t)}}function N4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function m4e(e){if(Array.isArray(e))return e}function g4e(e,t){if(e==null)return{};var r=y4e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y4e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function U_(e){var t=e.offset,r=e.layout,n=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,d=e.yAxis,h=g4e(e,u4e),g=Ur(h),v=o.map(function(b,M){var P=s(b,i),w=P.x,A=P.y,O=P.value,I=P.errorVal;if(!I)return null;var C=[],R,z;if(Array.isArray(I)){var L=f4e(I,2);R=L[0],z=L[1]}else R=z=I;if(r==="vertical"){var F=a.scale,H=A+t,re=H+n,te=H-n,ae=F(O-R),de=F(O+z);C.push({x1:de,y1:re,x2:de,y2:te}),C.push({x1:ae,y1:H,x2:de,y2:H}),C.push({x1:ae,y1:re,x2:ae,y2:te})}else if(r==="horizontal"){var pe=d.scale,Se=w+t,_e=Se-n,Me=Se+n,Ae=pe(O-R),Ee=pe(O+z);C.push({x1:_e,y1:Ee,x2:Me,y2:Ee}),C.push({x1:Se,y1:Ae,x2:Se,y2:Ee}),C.push({x1:_e,y1:Ae,x2:Me,y2:Ae})}return We.createElement(Mi,qw({className:"recharts-errorBar",key:"bar-".concat(M)},g),C.map(function(Ie,He){return We.createElement("line",qw({},Ie,{key:"line-".concat(He)}))}))});return We.createElement(Mi,{className:"recharts-errorBars"},v)}U_.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};U_.displayName="ErrorBar";function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function j4(e){return b4e(e)||x4e(e)||_4e(e)||v4e()}function v4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _4e(e,t){if(e){if(typeof e=="string")return VM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VM(e,t)}}function x4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b4e(e){if(Array.isArray(e))return VM(e)}function VM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pm(e,t,r){return t=w4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4e(e){var t=S4e(e,"string");return Y0(t)==="symbol"?t:String(t)}function S4e(e,t){if(Y0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(e,t,r){return fr(e)||fr(t)?r:Li(t)?Ss(e,t,r):hr(t)?t(e):r}function Vv(e,t,r,n){var i=e5e(e,function(a){return Za(a,t)});if(r==="number"){var o=i.filter(function(a){return Mt(a)||parseFloat(a)});return o.length?[xE(o),_E(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!fr(a)}):i;return s.map(function(a){return Li(a)||a instanceof Date?a:""})}var E4e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,v=i[h].coordinate,b=h>=a-1?i[0].coordinate:i[h+1].coordinate,M=void 0;if(ys(v-g)!==ys(b-v)){var P=[];if(ys(b-v)===ys(d[1]-d[0])){M=b;var w=v+d[1]-d[0];P[0]=Math.min(w,(w+g)/2),P[1]=Math.max(w,(w+g)/2)}else{M=g;var A=b+d[1]-d[0];P[0]=Math.min(v,(A+v)/2),P[1]=Math.max(v,(A+v)/2)}var O=[Math.min(v,(M+v)/2),Math.max(v,(M+v)/2)];if(t>O[0]&&t<=O[1]||t>=P[0]&&t<=P[1]){s=i[h].index;break}}else{var I=Math.min(g,b),C=Math.max(g,b);if(t>(I+v)/2&&t<=(C+v)/2){s=i[h].index;break}}}else for(var R=0;R<a;R++)if(R===0&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<a-1&&t>(n[R].coordinate+n[R-1].coordinate)/2&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R===a-1&&t>(n[R].coordinate+n[R-1].coordinate)/2){s=n[R].index;break}return s},PD=function(t){var r=t,n=r.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(n){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},IG=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=jc(r,Vm);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(n||[]).reduce(function(d,h){var g=h.item,v=h.props,b=v.sectors||v.data||[];return d.concat(b.map(function(M){return{type:s.props.iconType||g.props.legendType,value:M.name,color:M.fill,payload:M}}))},[]):a=(n||[]).map(function(d){var h=d.item,g=h.props,v=g.dataKey,b=g.name,M=g.legendType,P=g.hide;return{inactive:P,dataKey:v,type:s.props.iconType||M||"square",color:PD(h),value:b||v,payload:h.props}}),Qo(Qo(Qo({},s.props),Vm.getWithHeight(s,i)),{},{payload:a,item:s})},C4e=function(t){var r=t.barSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},s=Object.keys(i),a=0,d=s.length;a<d;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),v=0,b=g.length;v<b;v++){var M=h[g[v]],P=M.items,w=M.cateAxisId,A=P.filter(function(C){return xf(C.type).indexOf("Bar")>=0});if(A&&A.length){var O=A[0].props.barSize,I=A[0].props[w];o[I]||(o[I]=[]),o[I].push({item:A[0],stackList:A.slice(1),barSize:fr(O)?r:O})}}return o},T4e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,d=s.length;if(d<1)return null;var h=jm(r,i,0,!0),g;if(s[0].barSize===+s[0].barSize){var v=!1,b=i/d,M=s.reduce(function(C,R){return C+R.barSize||0},0);M+=(d-1)*h,M>=i&&(M-=(d-1)*h,h=0),M>=i&&b>0&&(v=!0,b*=.9,M=d*b);var P=(i-M)/2>>0,w={offset:P-h,size:0};g=s.reduce(function(C,R){var z=[].concat(j4(C),[{item:R.item,position:{offset:w.offset+w.size+h,size:v?b:R.barSize}}]);return w=z[z.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(L){z.push({item:L,position:w})}),z},[])}else{var A=jm(n,i,0,!0);i-2*A-(d-1)*h<=0&&(h=0);var O=(i-2*A-(d-1)*h)/d;O>1&&(O>>=0);var I=a===+a?Math.min(O,a):O;g=s.reduce(function(C,R,z){var L=[].concat(j4(C),[{item:R.item,position:{offset:A+(O+h)*z+(O-I)/2,size:I}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(F){L.push({item:F,position:L[L.length-1].position})}),L},[])}return g},k4e=function(t,r,n,i){var o=n.children,s=n.width,a=n.margin,d=s-(a.left||0)-(a.right||0),h=IG({children:o,legendWidth:d}),g=t;if(h){var v=i||{},b=h.align,M=h.verticalAlign,P=h.layout;(P==="vertical"||P==="horizontal"&&M==="middle")&&Mt(t[b])&&(g=Qo(Qo({},t),{},pm({},b,g[b]+(v.width||0)))),(P==="horizontal"||P==="vertical"&&b==="center")&&Mt(t[M])&&(g=Qo(Qo({},t),{},pm({},M,g[M]+(v.height||0))))}return g},P4e=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},RG=function(t,r,n,i,o){var s=r.props.children,a=Es(s,U_).filter(function(h){return P4e(i,o,h.props.direction)});if(a&&a.length){var d=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var v=Za(g,n,0),b=lo(v)?[xE(v),_E(v)]:[v,v],M=d.reduce(function(P,w){var A=Za(g,w,0),O=b[0]-Math.abs(lo(A)?A[0]:A),I=b[1]+Math.abs(lo(A)?A[1]:A);return[Math.min(O,P[0]),Math.max(I,P[1])]},[1/0,-1/0]);return[Math.min(M[0],h[0]),Math.max(M[1],h[1])]},[1/0,-1/0])}return null},A4e=function(t,r,n,i,o){var s=r.map(function(a){return RG(t,a,n,o,i)}).filter(function(a){return!fr(a)});return s&&s.length?s.reduce(function(a,d){return[Math.min(a[0],d[0]),Math.max(a[1],d[1])]},[1/0,-1/0]):null},$G=function(t,r,n,i,o){var s=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&RG(t,d,h,i)||Vv(t,h,n,o)});if(n==="number")return s.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(d,h){for(var g=0,v=h.length;g<v;g++)a[h[g]]||(a[h[g]]=!0,d.push(h[g]));return d},[])},DG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},F4=function(t,r,n){var i,o,s=t.map(function(a){return a.coordinate===r&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate});return i||s.push(r),o||s.push(n),s},Fu=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ys(a[0]-a[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(v){var b=o?o.indexOf(v):v;return{coordinate:i(b)+h,value:v,offset:h}});return g.filter(function(v){return!$_(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,b){return{coordinate:i(v)+h,value:v,index:b,offset:h}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(v){return{coordinate:i(v)+h,value:v,offset:h}}):i.domain().map(function(v,b){return{coordinate:i(v)+h,value:o?o[v]:v,index:b,offset:h}})},Nb=function(t,r,n){var i;return hr(n)?i=n:hr(r)&&(i=r),hr(t)||i?function(o,s,a,d){hr(t)&&t(o,s,a,d),hr(i)&&i(o,s,a,d)}:null},M4e=function(t,r,n){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:F0(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Bw(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Uv(),realScaleType:"point"}:o==="category"?{scale:F0(),realScaleType:"band"}:{scale:Bw(),realScaleType:"linear"};if(R_(i)){var d="scale".concat(hE(i));return{scale:($4[d]||Uv)(),realScaleType:$4[d]?d:"point"}}return hr(i)?{scale:i}:{scale:Uv(),realScaleType:"point"}},U4=1e-4,O4e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-U4,s=Math.max(i[0],i[1])+U4,a=t(r[0]),d=t(r[n-1]);(a<o||a>s||d<o||d>s)&&t.domain([r[0],r[n-1]])}},I4e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},R4e=function(t,r){if(!r||r.length!==2||!Mt(r[0])||!Mt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Mt(t[0])||t[0]<n)&&(o[0]=n),(!Mt(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},$4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var d=$_(t[a][n][1])?t[a][n][0]:t[a][n][1];d>=0?(t[a][n][0]=o,t[a][n][1]=o+d,o=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+d,s=t[a][n][1])}},D4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=$_(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},L4e={sign:$4e,expand:f$e,none:Bm,silhouette:d$e,wiggle:h$e,positive:D4e},z4e=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),o=u$e().keys(i).value(function(s,a){return+Za(s,a,0)}).order(lM).offset(L4e[n]);return o(t)},N4e=function(t,r,n,i,o,s){if(!t)return null;var a=s?r.reverse():r,d=a.reduce(function(h,g){var v=g.props,b=v.stackId,M=v.hide;if(M)return h;var P=g.props[n],w=h[P]||{hasStack:!1,stackGroups:{}};if(Li(b)){var A=w.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(g),w.hasStack=!0,w.stackGroups[b]=A}else w.stackGroups[D_("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return Qo(Qo({},h),{},pm({},P,w))},{});return Object.keys(d).reduce(function(h,g){var v=d[g];return v.hasStack&&(v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,M){var P=v.stackGroups[M];return Qo(Qo({},b),{},pm({},M,{numericAxisId:n,cateAxisId:i,items:P.items,stackedData:z4e(t,P.items,o)}))},{})),Qo(Qo({},h),{},pm({},g,v))},{})},j4e=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=l4e(h,o,a);return t.domain([xE(g),_E(g)]),{niceTicks:g}}if(o&&i==="number"){var v=t.domain(),b=c4e(v,o,a);return{niceTicks:b}}return null},V4=function(t){var r=t.axis,n=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!fr(o[r.dataKey])){var d=gw(n,"value",o[r.dataKey]);if(d)return d.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var h=Za(o,fr(a)?r.dataKey:a);return fr(h)?null:r.scale(h)},W4=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var d=Za(s,r.dataKey,r.domain[a]);return fr(d)?null:r.scale(d)-o/2+i},B4e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},F4e=function(t,r){var n=t.props.stackId;if(Li(n)){var i=r[n];if(i&&i.items.length){for(var o=-1,s=0,a=i.items.length;s<a;s++)if(i.items[s]===t){o=s;break}return o>=0?i.stackedData[o]:null}}return null},U4e=function(t){return t.reduce(function(r,n){return[xE(n.concat([r[0]]).filter(Mt)),_E(n.concat([r[1]]).filter(Mt))]},[1/0,-1/0])},LG=function(t,r,n){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,d=a.reduce(function(h,g){var v=U4e(g.slice(r,n+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},q4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WM=function(t,r,n){if(hr(t))return t(r,n);if(!lo(t))return r;var i=[];if(Mt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(q4.test(t[0])){var o=+q4.exec(t[0])[1];i[0]=r[0]-o}else hr(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Mt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(H4.test(t[1])){var s=+H4.exec(t[1])[1];i[1]=r[1]+s}else hr(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Hw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=nD(r,function(v){return v.coordinate}),s=1/0,a=1,d=o.length;a<d;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},G4=function(t,r,n){return!t||!t.length||iD(t,Ss(n,"type.defaultProps.domain"))?r:t},zG=function(t,r){var n=t.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,d=n.tooltipType,h=n.chartType;return Qo(Qo({},Ur(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:PD(t),value:Za(r,i),type:d,payload:r,chartType:h})};function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(n){V4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V4e(e,t,r){return t=W4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4e(e){var t=q4e(e,"string");return K0(t)==="symbol"?t:String(t)}function q4e(e,t){if(K0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gw=Math.PI/180,H4e=function(t){return t*180/Math.PI},co=function(t,r,n,i){return{x:t+Math.cos(-Gw*i)*n,y:r+Math.sin(-Gw*i)*n}},G4e=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},Y4e=function(t,r){var n=t.x,i=t.y,o=r.cx,s=r.cy,a=G4e({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var d=(n-o)/a,h=Math.acos(d);return i>s&&(h=2*Math.PI-h),{radius:a,angle:H4e(h),angleInRadian:h}},K4e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},Z4e=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},Z4=function(t,r){var n=t.x,i=t.y,o=Y4e({x:n,y:i},r),s=o.radius,a=o.angle,d=r.innerRadius,h=r.outerRadius;if(s<d||s>h)return!1;if(s===0)return!0;var g=K4e(r),v=g.startAngle,b=g.endAngle,M=a,P;if(v<=b){for(;M>b;)M-=360;for(;M<v;)M+=360;P=M>=v&&M<=b}else{for(;M>v;)M-=360;for(;M<b;)M+=360;P=M>=b&&M<=v}return P?K4(K4({},r),{},{radius:s,angle:Z4e(M,r)}):null};function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function X4e(e){return tFe(e)||eFe(e)||Q4e(e)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4e(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function eFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tFe(e){if(Array.isArray(e))return qM(e)}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){rFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rFe(e,t,r){return t=nFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nFe(e){var t=iFe(e,"string");return Z0(t)==="symbol"?t:String(t)}function iFe(e,t){if(Z0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}var oFe=function(t){var r=t.value,n=t.formatter,i=fr(t.children)?r:t.children;return hr(n)?n(i):i},aFe=function(t,r){var n=ys(r-t),i=Math.min(Math.abs(r-t),360);return n*i},sFe=function(t,r,n){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,d=o,h=d.cx,g=d.cy,v=d.innerRadius,b=d.outerRadius,M=d.startAngle,P=d.endAngle,w=d.clockWise,A=(v+b)/2,O=aFe(M,P),I=O>=0?1:-1,C,R;i==="insideStart"?(C=M+I*s,R=w):i==="insideEnd"?(C=P-I*s,R=!w):i==="end"&&(C=P+I*s,R=w),R=O<=0?R:!R;var z=co(h,g,A,C),L=co(h,g,A,C+(R?1:-1)*359),F="M".concat(z.x,",").concat(z.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(R?0:1,`,
    `).concat(L.x,",").concat(L.y),H=fr(t.id)?D_("recharts-radial-line-"):t.id;return We.createElement("text",X0({},n,{dominantBaseline:"central",className:vn("recharts-radial-bar-label",a)}),We.createElement("defs",null,We.createElement("path",{id:H,d:F})),We.createElement("textPath",{xlinkHref:"#".concat(H)},r))},lFe=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,s=o.cx,a=o.cy,d=o.innerRadius,h=o.outerRadius,g=o.startAngle,v=o.endAngle,b=(g+v)/2;if(i==="outside"){var M=co(s,a,h+n,b),P=M.x,w=M.y;return{x:P,y:w,textAnchor:P>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var A=(d+h)/2,O=co(s,a,A,b),I=O.x,C=O.y;return{x:I,y:C,textAnchor:"middle",verticalAnchor:"middle"}},cFe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,s=r,a=s.x,d=s.y,h=s.width,g=s.height,v=g>=0?1:-1,b=v*i,M=v>0?"end":"start",P=v>0?"start":"end",w=h>=0?1:-1,A=w*i,O=w>0?"end":"start",I=w>0?"start":"end";if(o==="top"){var C={x:a+h/2,y:d-v*i,textAnchor:"middle",verticalAnchor:M};return Gi(Gi({},C),n?{height:Math.max(d-n.y,0),width:h}:{})}if(o==="bottom"){var R={x:a+h/2,y:d+g+b,textAnchor:"middle",verticalAnchor:P};return Gi(Gi({},R),n?{height:Math.max(n.y+n.height-(d+g),0),width:h}:{})}if(o==="left"){var z={x:a-A,y:d+g/2,textAnchor:O,verticalAnchor:"middle"};return Gi(Gi({},z),n?{width:Math.max(z.x-n.x,0),height:g}:{})}if(o==="right"){var L={x:a+h+A,y:d+g/2,textAnchor:I,verticalAnchor:"middle"};return Gi(Gi({},L),n?{width:Math.max(n.x+n.width-L.x,0),height:g}:{})}var F=n?{width:h,height:g}:{};return o==="insideLeft"?Gi({x:a+A,y:d+g/2,textAnchor:I,verticalAnchor:"middle"},F):o==="insideRight"?Gi({x:a+h-A,y:d+g/2,textAnchor:O,verticalAnchor:"middle"},F):o==="insideTop"?Gi({x:a+h/2,y:d+b,textAnchor:"middle",verticalAnchor:P},F):o==="insideBottom"?Gi({x:a+h/2,y:d+g-b,textAnchor:"middle",verticalAnchor:M},F):o==="insideTopLeft"?Gi({x:a+A,y:d+b,textAnchor:I,verticalAnchor:P},F):o==="insideTopRight"?Gi({x:a+h-A,y:d+b,textAnchor:O,verticalAnchor:P},F):o==="insideBottomLeft"?Gi({x:a+A,y:d+g-b,textAnchor:I,verticalAnchor:M},F):o==="insideBottomRight"?Gi({x:a+h-A,y:d+g-b,textAnchor:O,verticalAnchor:M},F):_g(o)&&(Mt(o.x)||Rd(o.x))&&(Mt(o.y)||Rd(o.y))?Gi({x:a+jm(o.x,h),y:d+jm(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):Gi({x:a+h/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},uFe=function(t){return"cx"in t&&Mt(t.cx)};function so(e){var t=e.viewBox,r=e.position,n=e.value,i=e.children,o=e.content,s=e.className,a=s===void 0?"":s,d=e.textBreakAll;if(!t||fr(n)&&fr(i)&&!W.isValidElement(o)&&!hr(o))return null;if(W.isValidElement(o))return W.cloneElement(o,e);var h;if(hr(o)){if(h=W.createElement(o,e),W.isValidElement(h))return h}else h=oFe(e);var g=uFe(t),v=Ur(e,!0);if(g&&(r==="insideStart"||r==="insideEnd"||r==="end"))return sFe(e,h,v);var b=g?lFe(e):cFe(e);return We.createElement(B0,X0({className:vn("recharts-label",a)},v,b,{breakAll:d}),h)}so.displayName="Label";so.defaultProps={offset:5};var NG=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,d=t.radius,h=t.innerRadius,g=t.outerRadius,v=t.x,b=t.y,M=t.top,P=t.left,w=t.width,A=t.height,O=t.clockWise,I=t.labelViewBox;if(I)return I;if(Mt(w)&&Mt(A)){if(Mt(v)&&Mt(b))return{x:v,y:b,width:w,height:A};if(Mt(M)&&Mt(P))return{x:M,y:P,width:w,height:A}}return Mt(v)&&Mt(b)?{x:v,y:b,width:0,height:0}:Mt(r)&&Mt(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||d||a||0,clockWise:O}:t.viewBox?t.viewBox:{}},fFe=function(t,r){return t?t===!0?We.createElement(so,{key:"label-implicit",viewBox:r}):Li(t)?We.createElement(so,{key:"label-implicit",viewBox:r,value:t}):W.isValidElement(t)?t.type===so?W.cloneElement(t,{key:"label-implicit",viewBox:r}):We.createElement(so,{key:"label-implicit",content:t,viewBox:r}):hr(t)?We.createElement(so,{key:"label-implicit",content:t,viewBox:r}):_g(t)?We.createElement(so,X0({viewBox:r},t,{key:"label-implicit"})):null:null},dFe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=NG(t),s=Es(i,so).map(function(d,h){return W.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!n)return s;var a=fFe(t.label,r||o);return[a].concat(X4e(s))};so.parseViewBox=NG;so.renderCallByParent=dFe;function hFe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pFe=hFe;const mFe=Kr(pFe);function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}var gFe=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function yFe(e){return bFe(e)||xFe(e)||_Fe(e)||vFe()}function vFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Fe(e,t){if(e){if(typeof e=="string")return HM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HM(e,t)}}function xFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bFe(e){if(Array.isArray(e))return HM(e)}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){wFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wFe(e,t,r){return t=SFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SFe(e){var t=EFe(e,"string");return J0(t)==="symbol"?t:String(t)}function EFe(e,t){if(J0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CFe(e,t){if(e==null)return{};var r=TFe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kFe={valueAccessor:function(t){return lo(t.value)?mFe(t.value):t.value}};function Hc(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,i=e.clockWise,o=e.id,s=e.textBreakAll,a=CFe(e,gFe);return!t||!t.length?null:We.createElement(Mi,{className:"recharts-label-list"},t.map(function(d,h){var g=fr(n)?r(d,h):Za(d&&d.payload,n),v=fr(o)?{}:{id:"".concat(o,"-").concat(h)};return We.createElement(so,Yw({},Ur(d,!0),a,v,{parentViewBox:d.parentViewBox,index:h,value:g,textBreakAll:s,viewBox:so.parseViewBox(fr(i)?d:Q4(Q4({},d),{},{clockWise:i})),key:"label-".concat(h)}))}))}Hc.displayName="LabelList";function PFe(e,t){return e?e===!0?We.createElement(Hc,{key:"labelList-implicit",data:t}):We.isValidElement(e)||hr(e)?We.createElement(Hc,{key:"labelList-implicit",data:t,content:e}):_g(e)?We.createElement(Hc,Yw({data:t},e,{key:"labelList-implicit"})):null:null}function AFe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Es(n,Hc).map(function(s,a){return W.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!r)return i;var o=PFe(e.label,t);return[o].concat(yFe(i))}Hc.renderCallByParent=AFe;Hc.defaultProps=kFe;function GM(){return GM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GM.apply(this,arguments)}var MFe=function(t,r){var n=ys(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},jb=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,d=t.cornerRadius,h=t.cornerIsExternal,g=d*(a?1:-1)+i,v=Math.asin(d/g)/Gw,b=h?o:o+s*v,M=co(r,n,g,b),P=co(r,n,i,b),w=h?o-s*v:o,A=co(r,n,g*Math.cos(v*Gw),w);return{center:M,circleTangency:P,lineTangency:A,theta:v}},jG=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,d=MFe(s,a),h=s+d,g=co(r,n,o,s),v=co(r,n,o,h),b="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var M=co(r,n,i,s),P=co(r,n,i,h);b+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(M.x,",").concat(M.y," Z")}else b+="L ".concat(r,",").concat(n," Z");return b},OFe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,v=ys(g-h),b=jb({cx:r,cy:n,radius:o,angle:h,sign:v,cornerRadius:s,cornerIsExternal:d}),M=b.circleTangency,P=b.lineTangency,w=b.theta,A=jb({cx:r,cy:n,radius:o,angle:g,sign:-v,cornerRadius:s,cornerIsExternal:d}),O=A.circleTangency,I=A.lineTangency,C=A.theta,R=d?Math.abs(h-g):Math.abs(h-g)-w-C;if(R<0)return a?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jG({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var z="M ".concat(P.x,",").concat(P.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(v<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var L=jb({cx:r,cy:n,radius:i,angle:h,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),F=L.circleTangency,H=L.lineTangency,re=L.theta,te=jb({cx:r,cy:n,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),ae=te.circleTangency,de=te.lineTangency,pe=te.theta,Se=d?Math.abs(h-g):Math.abs(h-g)-re-pe;if(Se<0&&s===0)return"".concat(z,"L").concat(r,",").concat(n,"Z");z+="L".concat(de.x,",").concat(de.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(ae.x,",").concat(ae.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Se>180),",").concat(+(v>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(H.x,",").concat(H.y,"Z")}else z+="L".concat(r,",").concat(n,"Z");return z},BG=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,d=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,v=t.className;if(o<i||h===g)return null;var b=vn("recharts-sector",v),M=o-i,P=jm(s,M,0,!0),w;return P>0&&Math.abs(h-g)<360?w=OFe({cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(P,M/2),forceCornerRadius:a,cornerIsExternal:d,startAngle:h,endAngle:g}):w=jG({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g}),We.createElement("path",GM({},Ur(t,!0),{className:b,d:w,role:"img"}))};BG.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function YM(){return YM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YM.apply(this,arguments)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){IFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IFe(e,t,r){return t=RFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RFe(e){var t=$Fe(e,"string");return Q0(t)==="symbol"?t:String(t)}function $Fe(e,t){if(Q0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rF={curveBasisClosed:QRe,curveBasisOpen:e$e,curveBasis:JRe,curveBumpX:NRe,curveBumpY:jRe,curveLinearClosed:t$e,curveLinear:mE,curveMonotoneX:r$e,curveMonotoneY:n$e,curveNatural:i$e,curveStep:o$e,curveStepAfter:s$e,curveStepBefore:a$e},Bb=function(t){return t.x===+t.x&&t.y===+t.y},ov=function(t){return t.x},av=function(t){return t.y},DFe=function(t,r){if(hr(t))return t;var n="curve".concat(hE(t));return(n==="curveMonotone"||n==="curveBump")&&r?rF["".concat(n).concat(r==="vertical"?"Y":"X")]:rF[n]||mE},LFe=function(t){var r=t.type,n=t.points,i=t.baseLine,o=t.layout,s=t.connectNulls,a=DFe(r,o),d=s?n.filter(function(b){return Bb(b)}):n,h;if(lo(i)){var g=s?i.filter(function(b){return Bb(b)}):i,v=d.map(function(b,M){return tF(tF({},b),{},{base:g[M]})});return o==="vertical"?h=Mb().y(av).x1(ov).x0(function(b){return b.base.x}):h=Mb().x(ov).y1(av).y0(function(b){return b.base.y}),h.defined(Bb).curve(a),h(v)}return o==="vertical"&&Mt(i)?h=Mb().y(av).x1(ov).x0(i):Mt(i)?h=Mb().x(ov).y1(av).y0(i):h=eH().x(ov).y(av),h.defined(Bb).curve(a),h(d)},Kw=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?LFe(t):i;return We.createElement("path",YM({},Ur(t),yw(t),{className:vn("recharts-curve",r),d:s,ref:o}))};Kw.defaultProps={type:"linear",points:[],connectNulls:!1};function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}function zFe(e,t){return FFe(e)||BFe(e,t)||jFe(e,t)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jFe(e,t){if(e){if(typeof e=="string")return nF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nF(e,t)}}function nF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function FFe(e){if(Array.isArray(e))return e}var iF=function(t,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(s>0&&o instanceof Array){for(var v=[0,0,0,0],b=0,M=4;b<M;b++)v[b]=o[b]>s?s:o[b];g="M".concat(t,",").concat(r+a*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(t+d*v[0],",").concat(r)),g+="L ".concat(t+n-d*v[1],",").concat(r),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+a*v[1])),g+="L ".concat(t+n,",").concat(r+i-a*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(t+n-d*v[2],",").concat(r+i)),g+="L ".concat(t+d*v[3],",").concat(r+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-a*v[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var P=Math.min(s,o);g="M ".concat(t,",").concat(r+a*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(h,",").concat(t+d*P,",").concat(r,`
            L `).concat(t+n-d*P,",").concat(r,`
            A `).concat(P,",").concat(P,",0,0,").concat(h,",").concat(t+n,",").concat(r+a*P,`
            L `).concat(t+n,",").concat(r+i-a*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(h,",").concat(t+n-d*P,",").concat(r+i,`
            L `).concat(t+d*P,",").concat(r+i,`
            A `).concat(P,",").concat(P,",0,0,").concat(h,",").concat(t,",").concat(r+i-a*P," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},UFe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,s=r.y,a=r.width,d=r.height;if(Math.abs(a)>0&&Math.abs(d)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),v=Math.min(s,s+d),b=Math.max(s,s+d);return n>=h&&n<=g&&i>=v&&i<=b}return!1},AE=function(t){var r=W.useRef(),n=W.useState(-1),i=zFe(n,2),o=i[0],s=i[1];W.useLayoutEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&s(C)}catch{}},[]);var a=t.x,d=t.y,h=t.width,g=t.height,v=t.radius,b=t.className,M=t.animationEasing,P=t.animationDuration,w=t.animationBegin,A=t.isAnimationActive,O=t.isUpdateAnimationActive;if(a!==+a||d!==+d||h!==+h||g!==+g||h===0||g===0)return null;var I=vn("recharts-rectangle",b);return O?We.createElement(ih,{canBegin:o>0,from:{width:h,height:g,x:a,y:d},to:{width:h,height:g,x:a,y:d},duration:P,animationEasing:M,isActive:O},function(C){var R=C.width,z=C.height,L=C.x,F=C.y;return We.createElement(ih,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:P,isActive:A,easing:M},We.createElement("path",Zw({},Ur(t,!0),{className:I,d:iF(L,F,R,z,v),ref:r})))}):We.createElement("path",Zw({},Ur(t,!0),{className:I,d:iF(a,d,h,g,v)}))};AE.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};function KM(){return KM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KM.apply(this,arguments)}var AD=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,s=vn("recharts-dot",o);return r===+r&&n===+n&&i===+i?We.createElement("circle",KM({},Ur(t),yw(t),{className:s,cx:r,cy:n,r:i})):null};function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZM.apply(this,arguments)}var VFe=function(t,r,n,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},FG=function(t){var r=t.x,n=t.y,i=t.width,o=t.height,s=t.top,a=t.left,d=t.className;return!Mt(r)||!Mt(n)||!Mt(i)||!Mt(o)||!Mt(s)||!Mt(a)?null:We.createElement("path",ZM({},Ur(t,!0),{className:vn("recharts-cross",d),d:VFe(r,n,i,o,s,a)}))};FG.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var WFe=Math.ceil,qFe=Math.max;function HFe(e,t,r,n){for(var i=-1,o=qFe(WFe((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}var GFe=HFe,YFe=kH,oF=1/0,KFe=17976931348623157e292;function ZFe(e){if(!e)return e===0?e:0;if(e=YFe(e),e===oF||e===-oF){var t=e<0?-1:1;return t*KFe}return e===e?e:0}var UG=ZFe,XFe=GFe,JFe=vE,Qk=UG;function QFe(e){return function(t,r,n){return n&&typeof n!="number"&&JFe(t,r,n)&&(r=n=void 0),t=Qk(t),r===void 0?(r=t,t=0):r=Qk(r),n=n===void 0?t<r?1:-1:Qk(n),XFe(t,r,n,e)}}var e6e=QFe,t6e=e6e,r6e=t6e(),n6e=r6e;const Xw=Kr(n6e);function e_(e){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e_(e)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){VG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t,r){return t=i6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i6e(e){var t=o6e(e,"string");return e_(t)==="symbol"?t:String(t)}function o6e(e,t){if(e_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a6e=["Webkit","Moz","O","ms"],s6e=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=a6e.reduce(function(o,s){return sF(sF({},o),{},VG({},s+n,r))},{});return i[t]=r,i};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function c6e(e,t,r){return t&&cF(e.prototype,t),r&&cF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XM(e,t)}function XM(e,t){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XM(e,t)}function f6e(e){var t=h6e();return function(){var n=Qw(e),i;if(t){var o=Qw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return d6e(this,i)}}function d6e(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Il(e)}function Il(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qw(e){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(e)}function fs(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=p6e(e,"string");return Km(t)==="symbol"?t:String(t)}function p6e(e,t){if(Km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m6e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Uv().domain(Xw(0,d)).range([o,o+s-a]),g=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:h(n),endX:h(i),scale:h,scaleValues:g}},uF=function(t){return t.changedTouches&&!!t.changedTouches.length},t_=function(e){u6e(r,e);var t=f6e(r);function r(n){var i;return l6e(this,r),i=t.call(this,n),fs(Il(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),fs(Il(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),fs(Il(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()}),fs(Il(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),fs(Il(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),fs(Il(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),fs(Il(i),"handleSlideDragStart",function(o){var s=uF(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Il(i),"startX"),endX:i.handleTravellerDragStart.bind(Il(i),"endX")},i.state={},i}return c6e(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,d=this.props,h=d.gap,g=d.data,v=g.length-1,b=Math.min(o,s),M=Math.max(o,s),P=r.getIndexInRange(a,b),w=r.getIndexInRange(a,M);return{startIndex:P-P%h,endIndex:w===v?v:w-w%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,d=o.dataKey,h=Za(s[i],d,i);return hr(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,d=o.endX,h=this.props,g=h.x,v=h.width,b=h.travellerWidth,M=h.startIndex,P=h.endIndex,w=h.onChange,A=i.pageX-s;A>0?A=Math.min(A,g+v-b-d,g+v-b-a):A<0&&(A=Math.max(A,g-a,g-d));var O=this.getIndex({startX:a+A,endX:d+A});(O.startIndex!==M||O.endIndex!==P)&&w&&w(O),this.setState({startX:a+A,endX:d+A,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=uF(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,d=s.movingTravellerId,h=s.endX,g=s.startX,v=this.state[d],b=this.props,M=b.x,P=b.width,w=b.travellerWidth,A=b.onChange,O=b.gap,I=b.data,C={startX:this.state.startX,endX:this.state.endX},R=i.pageX-a;R>0?R=Math.min(R,M+P-w-v):R<0&&(R=Math.max(R,M-v)),C[d]=v+R;var z=this.getIndex(C),L=z.startIndex,F=z.endIndex,H=function(){var te=I.length-1;return d==="startX"&&(h>g?L%O===0:F%O===0)||h<g&&F===te||d==="endX"&&(h>g?F%O===0:L%O===0)||h>g&&F===te};this.setState((o={},fs(o,d,v+R),fs(o,"brushMoveStartX",i.pageX),o),function(){A&&H()&&A(z)})}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.fill,g=i.stroke;return We.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:d})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.data,g=i.children,v=i.padding,b=W.Children.only(g);return b?We.cloneElement(b,{x:o,y:s,width:a,height:d,margin:v,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this.props,a=s.y,d=s.travellerWidth,h=s.height,g=s.traveller,v=Math.max(i,this.props.x),b=eP(eP({},Ur(this.props)),{},{x:v,y:a,width:d,height:h});return We.createElement(Mi,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],style:{cursor:"col-resize"}},r.renderTraveller(g,b))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,d=s.height,h=s.stroke,g=s.travellerWidth,v=Math.min(i,o)+g,b=Math.max(Math.abs(o-i)-g,0);return We.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:v,y:a,width:b,height:d})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,d=i.height,h=i.travellerWidth,g=i.stroke,v=this.state,b=v.startX,M=v.endX,P=5,w={pointerEvents:"none",fill:g};return We.createElement(Mi,{className:"recharts-brush-texts"},We.createElement(B0,Jw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(b,M)-P,y:a+d/2},w),this.getTextOfTick(o)),We.createElement(B0,Jw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(b,M)+h+P,y:a+d/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,d=i.x,h=i.y,g=i.width,v=i.height,b=i.alwaysShowText,M=this.state,P=M.startX,w=M.endX,A=M.isTextActive,O=M.isSlideMoving,I=M.isTravellerMoving;if(!o||!o.length||!Mt(d)||!Mt(h)||!Mt(g)||!Mt(v)||g<=0||v<=0)return null;var C=vn("recharts-brush",s),R=We.Children.count(a)===1,z=s6e("userSelect","none");return We.createElement(Mi,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:z},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(P,w),this.renderTravellerLayer(P,"startX"),this.renderTravellerLayer(w,"endX"),(A||O||I||b)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,d=i.height,h=i.stroke,g=Math.floor(s+d/2)-1;return We.createElement(We.Fragment,null,We.createElement("rect",{x:o,y:s,width:a,height:d,fill:h,stroke:"none"}),We.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),We.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return We.isValidElement(i)?s=We.cloneElement(i,o):hr(i)?s=i(o):s=r.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,d=i.x,h=i.travellerWidth,g=i.updateId,v=i.startIndex,b=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return eP({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:d,prevWidth:a},s&&s.length?m6e({data:s,width:a,x:d,travellerWidth:h,startIndex:v,endIndex:b}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||d!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([d,d+a-h]);var M=o.scale.domain().map(function(P){return o.scale(P)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:d,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:M}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,d=s-1;d-a>1;){var h=Math.floor((a+d)/2);i[h]>o?d=h:a=h}return o>=i[d]?d:a}}]),r}(W.PureComponent);fs(t_,"displayName","Brush");fs(t_,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var g6e=rD;function y6e(e,t){var r;return g6e(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var v6e=y6e,_6e=Pq,x6e=Ff,b6e=v6e,w6e=ia,S6e=vE;function E6e(e,t,r){var n=w6e(e)?_6e:b6e;return r&&S6e(e,t,r)&&(t=void 0),n(e,x6e(t))}var C6e=E6e;const T6e=Kr(C6e);var Xl=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r};function k6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var P6e=k6e,A6e=rD;function M6e(e,t){var r=!0;return A6e(e,function(n,i,o){return r=!!t(n,i,o),r}),r}var O6e=M6e,I6e=P6e,R6e=O6e,$6e=Ff,D6e=ia,L6e=vE;function z6e(e,t,r){var n=D6e(e)?I6e:R6e;return r&&L6e(e,t,r)&&(t=void 0),n(e,$6e(t))}var N6e=z6e;const qG=Kr(N6e);var fF=TH;function j6e(e,t,r){t=="__proto__"&&fF?fF(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var B6e=j6e,F6e=B6e,U6e=EH,V6e=Ff;function W6e(e,t){var r={};return t=V6e(t),U6e(e,function(n,i,o){F6e(r,i,t(n,i,o))}),r}var q6e=W6e;const H6e=Kr(q6e);var G6e=["value","background"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function Y6e(e,t){if(e==null)return{};var r=K6e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K6e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JM.apply(this,arguments)}function dF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(r),!0).forEach(function(n){nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function X6e(e,t,r){return t&&hF(e.prototype,t),r&&hF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QM(e,t)}function QM(e,t){return QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QM(e,t)}function Q6e(e){var t=tUe();return function(){var n=eS(e),i;if(t){var o=eS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return eUe(this,i)}}function eUe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xv(e)}function xv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eS(e){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eS(e)}function nf(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=rUe(e,"string");return Zm(t)==="symbol"?t:String(t)}function rUe(e,t){if(Zm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ME=function(e){J6e(r,e);var t=Q6e(r);function r(){var n;Z6e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),nf(xv(n),"state",{isAnimationFinished:!1}),nf(xv(n),"id",D_("recharts-bar-")),nf(xv(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),nf(xv(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return X6e(r,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props.shape,a=Ur(this.props);return i&&i.map(function(d,h){var g=Yi(Yi(Yi({},a),d),{},{index:h});return We.createElement(Mi,JM({className:"recharts-bar-rectangle"},vw(o.props,d,h),{key:"rectangle-".concat(h)}),r.renderRectangle(s,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,d=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,v=o.animationEasing,b=o.animationId,M=this.state.prevData;return We.createElement(ih,{begin:h,duration:g,isActive:d,easing:v,from:{t:0},to:{t:1},key:"bar-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var w=P.t,A=s.map(function(O,I){var C=M&&M[I];if(C){var R=il(C.x,O.x),z=il(C.y,O.y),L=il(C.width,O.width),F=il(C.height,O.height);return Yi(Yi({},O),{},{x:R(w),y:z(w),width:L(w),height:F(w)})}if(a==="horizontal"){var H=il(0,O.height),re=H(w);return Yi(Yi({},O),{},{y:O.y+O.height-re,height:re})}var te=il(0,O.width),ae=te(w);return Yi(Yi({},O),{},{width:ae})});return We.createElement(Mi,null,i.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!iD(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props.data,s=Ur(this.props.background);return o.map(function(a,d){a.value;var h=a.background,g=Y6e(a,G6e);if(!h)return null;var v=Yi(Yi(Yi(Yi(Yi({},g),{},{fill:"#eee"},h),s),vw(i.props,a,d)),{},{index:d,key:"background-bar-".concat(d),className:"recharts-bar-background-rectangle"});return r.renderRectangle(i.props.background,v)})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,d=s.xAxis,h=s.yAxis,g=s.layout,v=s.children,b=Es(v,U_);if(!b)return null;var M=g==="vertical"?a[0].height/2:a[0].width/2,P=function(O,I){var C=Array.isArray(O.value)?O.value[1]:O.value;return{x:O.x,y:O.y,value:C,errorVal:Za(O,I)}},w={clipPath:i?"url(#clipPath-".concat(o,")"):null};return We.createElement(Mi,w,b.map(function(A,O){return We.cloneElement(A,{key:"error-bar-".concat(O),data:a,xAxis:d,yAxis:h,layout:g,offset:M,dataPointFormatter:P})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,d=i.xAxis,h=i.yAxis,g=i.left,v=i.top,b=i.width,M=i.height,P=i.isAnimationActive,w=i.background,A=i.id;if(o||!s||!s.length)return null;var O=this.state.isAnimationFinished,I=vn("recharts-bar",a),C=d&&d.allowDataOverflow,R=h&&h.allowDataOverflow,z=C||R,L=fr(A)?this.id:A;return We.createElement(Mi,{className:I},C||R?We.createElement("defs",null,We.createElement("clipPath",{id:"clipPath-".concat(L)},We.createElement("rect",{x:C?g:g-b/2,y:R?v:v-M/2,width:C?b:b*2,height:R?M:M*2}))):null,We.createElement(Mi,{className:"recharts-bar-rectangles",clipPath:z?"url(#clipPath-".concat(L,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(z,L),(!P||O)&&Hc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}},{key:"renderRectangle",value:function(i,o){var s;return We.isValidElement(i)?s=We.cloneElement(i,o):hr(i)?s=i(o):s=We.createElement(AE,o),s}}]),r}(W.PureComponent);nf(ME,"displayName","Bar");nf(ME,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nf(ME,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,d=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,v=e.displayedData,b=e.offset,M=I4e(n,r);if(!M)return null;var P=t.layout,w=r.props,A=w.dataKey,O=w.children,I=w.minPointSize,C=P==="horizontal"?s:o,R=h?C.scale.domain():null,z=B4e({numericAxis:C}),L=Es(O,MH),F=v.map(function(H,re){var te,ae,de,pe,Se,_e;if(h?te=R4e(h[g+re],R):(te=Za(H,A),lo(te)||(te=[z,te])),P==="horizontal"){var Me,Ae=[s.scale(te[0]),s.scale(te[1])],Ee=Ae[0],Ie=Ae[1];ae=W4({axis:o,ticks:a,bandSize:i,offset:M.offset,entry:H,index:re}),de=(Me=Ie??Ee)!==null&&Me!==void 0?Me:void 0,pe=M.size;var He=Ee-Ie;if(Se=Number.isNaN(He)?0:He,_e={x:ae,y:s.y,width:pe,height:s.height},Math.abs(I)>0&&Math.abs(Se)<Math.abs(I)){var tt=ys(Se||I)*(Math.abs(I)-Math.abs(Se));de-=tt,Se+=tt}}else{var Te=[o.scale(te[0]),o.scale(te[1])],Ne=Te[0],De=Te[1];if(ae=Ne,de=W4({axis:s,ticks:d,bandSize:i,offset:M.offset,entry:H,index:re}),pe=De-Ne,Se=M.size,_e={x:o.x,y:de,width:o.width,height:Se},Math.abs(I)>0&&Math.abs(pe)<Math.abs(I)){var Ye=ys(pe||I)*(Math.abs(I)-Math.abs(pe));pe+=Ye}}return Yi(Yi(Yi({},H),{},{x:ae,y:de,width:pe,height:Se,value:h?te:te[1],payload:H,background:_e},L&&L[re]&&L[re].props),{},{tooltipPayload:[zG(r,H)],tooltipPosition:{x:ae+pe/2,y:de+Se/2}})});return Yi({data:F,layout:P},b)});function r_(e){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r_(e)}function nUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GG(n.key),n)}}function iUe(e,t,r){return t&&pF(e.prototype,t),r&&pF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(n){OE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OE(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=oUe(e,"string");return r_(t)==="symbol"?t:String(t)}function oUe(e,t){if(r_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(r_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aUe=function(t,r,n,i,o){var s=t.width,a=t.height,d=t.layout,h=t.children,g=Object.keys(r),v={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},b=!!jc(h,ME);return g.reduce(function(M,P){var w=r[P],A=w.orientation,O=w.domain,I=w.padding,C=I===void 0?{}:I,R=w.mirror,z=w.reversed,L="".concat(A).concat(R?"Mirror":""),F,H,re,te,ae;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var de=O[1]-O[0],pe=1/0,Se=w.categoricalDomain.sort();Se.forEach(function(De,Ye){Ye>0&&(pe=Math.min((De||0)-(Se[Ye-1]||0),pe))});var _e=pe/de,Me=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(F=_e*Me/2),w.padding==="no-gap"){var Ae=jm(t.barCategoryGap,_e*Me),Ee=_e*Me/2;F=Ee-Ae-(Ee-Ae)/Me*Ae}}i==="xAxis"?H=[n.left+(C.left||0)+(F||0),n.left+n.width-(C.right||0)-(F||0)]:i==="yAxis"?H=d==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(F||0),n.top+n.height-(C.bottom||0)-(F||0)]:H=w.range,z&&(H=[H[1],H[0]]);var Ie=M4e(w,o,b),He=Ie.scale,tt=Ie.realScaleType;He.domain(O).range(H),O4e(He);var Te=j4e(He,tl(tl({},w),{},{realScaleType:tt}));i==="xAxis"?(ae=A==="top"&&!R||A==="bottom"&&R,re=n.left,te=v[L]-ae*w.height):i==="yAxis"&&(ae=A==="left"&&!R||A==="right"&&R,re=v[L]-ae*w.width,te=n.top);var Ne=tl(tl(tl({},w),Te),{},{realScaleType:tt,x:re,y:te,scale:He,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return Ne.bandSize=Hw(Ne,Te),!w.hide&&i==="xAxis"?v[L]+=(ae?-1:1)*Ne.height:w.hide||(v[L]+=(ae?-1:1)*Ne.width),tl(tl({},M),{},OE({},P,Ne))},{})},YG=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},sUe=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return YG({x:r,y:n},{x:i,y:o})},KG=function(){function e(t){nUe(this,e),this.scale=t}return iUe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}]),e}();OE(KG,"EPS",1e-4);var MD=function(t){var r=Object.keys(t).reduce(function(n,i){return tl(tl({},n),{},OE({},i,KG.create(t[i])))},{});return tl(tl({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return H6e(i,function(d,h){return r[h].apply(d,{bandAware:s,position:a})})},isInRange:function(i){return qG(i,function(o,s){return r[s].isInRange(o)})}})};function lUe(e){return(e%180+180)%180}var cUe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=lUe(i),s=o*Math.PI/180,a=Math.atan(n/r),d=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)};function n_(e){"@babel/helpers - typeof";return n_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n_(e)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(n){uUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uUe(e,t,r){return t=fUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fUe(e){var t=dUe(e,"string");return n_(t)==="symbol"?t:String(t)}function dUe(e,t){if(n_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hUe(e,t){return yUe(e)||gUe(e,t)||mUe(e,t)||pUe()}function pUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mUe(e,t){if(e){if(typeof e=="string")return vF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vF(e,t)}}function vF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function yUe(e){if(Array.isArray(e))return e}function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eO.apply(this,arguments)}var vUe=function(t,r){var n;return We.isValidElement(t)?n=We.cloneElement(t,r):hr(t)?n=t(r):n=We.createElement("line",eO({},r,{className:"recharts-reference-line-line"})),n},_Ue=function(t,r,n,i,o){var s=o.viewBox,a=s.x,d=s.y,h=s.width,g=s.height,v=o.position;if(n){var b=o.y,M=o.yAxis.orientation,P=t.y.apply(b,{position:v});if(Xl(o,"discard")&&!t.y.isInRange(P))return null;var w=[{x:a+h,y:P},{x:a,y:P}];return M==="left"?w.reverse():w}if(r){var A=o.x,O=o.xAxis.orientation,I=t.x.apply(A,{position:v});if(Xl(o,"discard")&&!t.x.isInRange(I))return null;var C=[{x:I,y:d+g},{x:I,y:d}];return O==="top"?C.reverse():C}if(i){var R=o.segment,z=R.map(function(L){return t.apply(L,{position:v})});return Xl(o,"discard")&&T6e(z,function(L){return!t.isInRange(L)})?null:z}return null};function OD(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,d=e.alwaysShow,h=e.clipPathId;dm(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=MD({x:i.scale,y:o.scale}),v=Li(t),b=Li(r),M=n&&n.length===2,P=_Ue(g,v,b,M,e);if(!P)return null;var w=hUe(P,2),A=w[0],O=A.x,I=A.y,C=w[1],R=C.x,z=C.y,L=Xl(e,"hidden")?"url(#".concat(h,")"):void 0,F=yF(yF({clipPath:L},Ur(e,!0)),{},{x1:O,y1:I,x2:R,y2:z});return We.createElement(Mi,{className:vn("recharts-reference-line",a)},vUe(s,F),so.renderCallByParent(e,sUe({x1:O,y1:I,x2:R,y2:z})))}OD.displayName="ReferenceLine";OD.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function i_(e){"@babel/helpers - typeof";return i_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i_(e)}function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tO.apply(this,arguments)}function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(r),!0).forEach(function(n){xUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xUe(e,t,r){return t=bUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bUe(e){var t=wUe(e,"string");return i_(t)==="symbol"?t:String(t)}function wUe(e,t){if(i_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SUe=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,s=MD({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return Xl(t,"discard")&&!s.isInRange(a)?null:a};function V_(e){var t=e.x,r=e.y,n=e.r,i=e.alwaysShow,o=e.clipPathId,s=Li(t),a=Li(r);if(dm(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var d=SUe(e);if(!d)return null;var h=d.x,g=d.y,v=e.shape,b=e.className,M=Xl(e,"hidden")?"url(#".concat(o,")"):void 0,P=xF(xF({clipPath:M},Ur(e,!0)),{},{cx:h,cy:g});return We.createElement(Mi,{className:vn("recharts-reference-dot",b)},V_.renderDot(v,P),so.renderCallByParent(e,{x:h-n,y:g-n,width:2*n,height:2*n}))}V_.displayName="ReferenceDot";V_.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};V_.renderDot=function(e,t){var r;return We.isValidElement(e)?r=We.cloneElement(e,t):hr(e)?r=e(t):r=We.createElement(AD,tO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function o_(e){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o_(e)}function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rO.apply(this,arguments)}function bF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bF(Object(r),!0).forEach(function(n){EUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EUe(e,t,r){return t=CUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CUe(e){var t=TUe(e,"string");return o_(t)==="symbol"?t:String(t)}function TUe(e,t){if(o_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kUe=function(t,r,n,i,o){var s=o.x1,a=o.x2,d=o.y1,h=o.y2,g=o.xAxis,v=o.yAxis;if(!g||!v)return null;var b=MD({x:g.scale,y:v.scale}),M={x:t?b.x.apply(s,{position:"start"}):b.x.rangeMin,y:n?b.y.apply(d,{position:"start"}):b.y.rangeMin},P={x:r?b.x.apply(a,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(h,{position:"end"}):b.y.rangeMax};return Xl(o,"discard")&&(!b.isInRange(M)||!b.isInRange(P))?null:YG(M,P)};function W_(e){var t=e.x1,r=e.x2,n=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;dm(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Li(t),h=Li(r),g=Li(n),v=Li(i),b=e.shape;if(!d&&!h&&!g&&!v&&!b)return null;var M=kUe(d,h,g,v,e);if(!M&&!b)return null;var P=Xl(e,"hidden")?"url(#".concat(a,")"):void 0;return We.createElement(Mi,{className:vn("recharts-reference-area",o)},W_.renderRect(b,wF(wF({clipPath:P},Ur(e,!0)),M)),so.renderCallByParent(e,M))}W_.displayName="ReferenceArea";W_.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};W_.renderRect=function(e,t){var r;return We.isValidElement(e)?r=We.cloneElement(e,t):hr(e)?r=e(t):r=We.createElement(AE,rO({},t,{className:"recharts-reference-area-rect"})),r};function nO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function a_(e){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a_(e)}function SF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(r),!0).forEach(function(n){PUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PUe(e,t,r){return t=AUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AUe(e){var t=MUe(e,"string");return a_(t)==="symbol"?t:String(t)}function MUe(e,t){if(a_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OUe(e){for(var t=1,r=nO(e,t,function(n){return n.isShow});t<=e.length;){if(r!==void 0)return r;t++,r=nO(e,t,function(n){return n.isShow})}return e.slice(0,1)}function IUe(e,t){return nO(e,t+1)}function iO(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cUe(n,r)}function RUe(e){var t=e.angle,r=e.ticks,n=e.tickFormatter,i=e.viewBox,o=e.orientation,s=e.minTickGap,a=e.unit,d=e.fontSize,h=e.letterSpacing,g=i.x,v=i.y,b=i.width,M=i.height,P=o==="top"||o==="bottom"?"width":"height",w=a&&P==="width"?Fl(a,{fontSize:d,letterSpacing:h}):{width:0,height:0},A=(r||[]).slice(),O=A.length,I=O>=2?ys(A[1].coordinate-A[0].coordinate):1,C,R;I===1?(C=P==="width"?g:v,R=P==="width"?g+b:v+M):(C=P==="width"?g+b:v+M,R=P==="width"?g:v);for(var z=O-1;z>=0;z--){var L=A[z],F=hr(n)?n(L.value,O-z-1):L.value,H=P==="width"?iO(Fl(F,{fontSize:d,letterSpacing:h}),w,t):Fl(F,{fontSize:d,letterSpacing:h})[P];if(z===O-1){var re=I*(L.coordinate+I*H/2-R);A[z]=L=Mo(Mo({},L),{},{tickCoord:re>0?L.coordinate-re*I:L.coordinate})}else A[z]=L=Mo(Mo({},L),{},{tickCoord:L.coordinate});var te=I*(L.tickCoord-I*H/2-C)>=0&&I*(L.tickCoord+I*H/2-R)<=0;te&&(R=L.tickCoord-I*(H/2+s),A[z]=Mo(Mo({},L),{},{isShow:!0}))}return A}function EF(e,t){var r=e.angle,n=e.ticks,i=e.tickFormatter,o=e.viewBox,s=e.orientation,a=e.minTickGap,d=e.unit,h=e.fontSize,g=e.letterSpacing,v=o.x,b=o.y,M=o.width,P=o.height,w=s==="top"||s==="bottom"?"width":"height",A=(n||[]).slice(),O=d&&w==="width"?Fl(d,{fontSize:h,letterSpacing:g}):{width:0,height:0},I=A.length,C=I>=2?ys(A[1].coordinate-A[0].coordinate):1,R,z;if(C===1?(R=w==="width"?v:b,z=w==="width"?v+M:b+P):(R=w==="width"?v+M:b+P,z=w==="width"?v:b),t){var L=n[I-1],F=hr(i)?i(L.value,I-1):L.value,H=w==="width"?iO(Fl(F,{fontSize:h,letterSpacing:g}),O,r):Fl(F,{fontSize:h,letterSpacing:g})[w],re=C*(L.coordinate+C*H/2-z);A[I-1]=L=Mo(Mo({},L),{},{tickCoord:re>0?L.coordinate-re*C:L.coordinate});var te=C*(L.tickCoord-C*H/2-R)>=0&&C*(L.tickCoord+C*H/2-z)<=0;te&&(z=L.tickCoord-C*(H/2+a),A[I-1]=Mo(Mo({},L),{},{isShow:!0}))}for(var ae=t?I-1:I,de=0;de<ae;de++){var pe=A[de],Se=hr(i)?i(pe.value,de):pe.value,_e=w==="width"?iO(Fl(Se,{fontSize:h,letterSpacing:g}),O,r):Fl(Se,{fontSize:h,letterSpacing:g})[w];if(de===0){var Me=C*(pe.coordinate-C*_e/2-R);A[de]=pe=Mo(Mo({},pe),{},{tickCoord:Me<0?pe.coordinate-Me*C:pe.coordinate})}else A[de]=pe=Mo(Mo({},pe),{},{tickCoord:pe.coordinate});var Ae=C*(pe.tickCoord-C*_e/2-R)>=0&&C*(pe.tickCoord+C*_e/2-z)<=0;Ae&&(R=pe.tickCoord+C*(_e/2+a),A[de]=Mo(Mo({},pe),{},{isShow:!0}))}return A}function oO(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,d=e.interval,h=e.tickFormatter,g=e.unit,v=e.angle;if(!i||!i.length||!n)return[];if(Mt(d)||Wc.isSsr)return IUe(i,typeof d=="number"&&Mt(d)?d:0);var b=[];return d==="equidistantPreserveStart"?(b=EF({angle:v,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r}),OUe(b)):(d==="preserveStart"||d==="preserveStartEnd"?b=EF({angle:v,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r},d==="preserveStartEnd"):b=RUe({angle:v,ticks:i,tickFormatter:h,viewBox:o,orientation:a,minTickGap:s,unit:g,fontSize:t,letterSpacing:r}),b.filter(function(M){return M.isShow}))}var $Ue=["viewBox"],DUe=["viewBox"],LUe=["ticks"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function CF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(r),!0).forEach(function(n){ID(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tP(e,t){if(e==null)return{};var r=zUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function NUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function jUe(e,t,r){return t&&TF(e.prototype,t),r&&TF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aO(e,t)}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aO(e,t)}function FUe(e){var t=WUe();return function(){var n=tS(e),i;if(t){var o=tS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return UUe(this,i)}}function UUe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(e)}function VUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function ID(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=qUe(e,"string");return Xm(t)==="symbol"?t:String(t)}function qUe(e,t){if(Xm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wv=function(e){BUe(r,e);var t=FUe(r);function r(n){var i;return NUe(this,r),i=t.call(this,n),i.state={fontSize:"",letterSpacing:""},i}return jUe(r,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=tP(i,$Ue),d=this.props,h=d.viewBox,g=tP(d,DUe);return!fm(s,h)||!fm(a,g)||!fm(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,d=o.width,h=o.height,g=o.orientation,v=o.tickSize,b=o.mirror,M=o.tickMargin,P,w,A,O,I,C,R=b?-1:1,z=i.tickSize||v,L=Mt(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":P=w=i.coordinate,O=a+ +!b*h,A=O-R*z,C=A-R*M,I=L;break;case"left":A=O=i.coordinate,w=s+ +!b*d,P=w-R*z,I=P-R*M,C=L;break;case"right":A=O=i.coordinate,w=s+ +b*d,P=w+R*z,I=P+R*M,C=L;break;default:P=w=i.coordinate,O=a+ +b*h,A=O+R*z,C=A+R*M,I=L;break}return{line:{x1:P,y1:A,x2:w,y2:O},tick:{x:I,y:C}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.orientation,g=i.mirror,v=i.axisLine,b=Zo(Zo(Zo({},Ur(this.props)),Ur(v)),{},{fill:"none"});if(h==="top"||h==="bottom"){var M=+(h==="top"&&!g||h==="bottom"&&g);b=Zo(Zo({},b),{},{x1:o,y1:s+M*d,x2:o+a,y2:s+M*d})}else{var P=+(h==="left"&&!g||h==="right"&&g);b=Zo(Zo({},b),{},{x1:o+P*a,y1:s,x2:o+P*a,y2:s+d})}return We.createElement("line",Gp({},b,{className:vn("recharts-cartesian-axis-line",Ss(v,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,d=this.props,h=d.tickLine,g=d.stroke,v=d.tick,b=d.tickFormatter,M=d.unit,P=oO(Zo(Zo({},this.props),{},{ticks:i}),o,s),w=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),O=Ur(this.props),I=Ur(v),C=Zo(Zo({},O),{},{fill:"none"},Ur(h)),R=P.map(function(z,L){var F=a.getTickLineCoord(z),H=F.line,re=F.tick,te=Zo(Zo(Zo(Zo({textAnchor:w,verticalAnchor:A},O),{},{stroke:"none",fill:g},I),re),{},{index:L,payload:z,visibleTicksCount:P.length,tickFormatter:b});return We.createElement(Mi,Gp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L)},vw(a.props,z,L)),h&&We.createElement("line",Gp({},C,H,{className:vn("recharts-cartesian-axis-tick-line",Ss(h,"className"))})),v&&r.renderTickItem(v,te,"".concat(hr(b)?b(z.value,L):z.value).concat(M||"")))});return We.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,d=o.height,h=o.ticksGenerator,g=o.className,v=o.hide;if(v)return null;var b=this.props,M=b.ticks,P=tP(b,LUe),w=M;return hr(h)&&(w=M&&M.length>0?h(this.props):h(P)),a<=0||d<=0||!w||!w.length?null:We.createElement(Mi,{className:vn("recharts-cartesian-axis",g),ref:function(O){i.layerReference=O}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),so.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return We.isValidElement(i)?a=We.cloneElement(i,o):hr(i)?a=i(o):a=We.createElement(B0,Gp({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),r}(W.Component);ID(Wv,"displayName","CartesianAxis");ID(Wv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var HUe=["x1","y1","x2","y2","key"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function sO(){return sO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sO.apply(this,arguments)}function GUe(e,t){if(e==null)return{};var r=YUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function kF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kF(Object(r),!0).forEach(function(n){RD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function ZUe(e,t,r){return t&&PF(e.prototype,t),r&&PF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lO(e,t)}function lO(e,t){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lO(e,t)}function JUe(e){var t=t8e();return function(){var n=rS(e),i;if(t){var o=rS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return QUe(this,i)}}function QUe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e8e(e)}function e8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(e)}function RD(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=r8e(e,"string");return Jm(t)==="symbol"?t:String(t)}function r8e(e,t){if(Jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $D=function(e){XUe(r,e);var t=JUe(r);function r(){return KUe(this,r),t.apply(this,arguments)}return ZUe(r,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,d=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(v,b){var M=Fb(Fb({},o.props),{},{x1:a,y1:v,x2:a+d,y2:v,key:"line-".concat(b),index:b});return r.renderLineItem(h,M)});return We.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,d=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(v,b){var M=Fb(Fb({},o.props),{},{x1:v,y1:a,x2:v,y2:a+d,key:"line-".concat(b),index:b});return r.renderLineItem(h,M)});return We.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,d=s.x,h=s.y,g=s.width,v=s.height,b=i.map(function(P){return Math.round(P+d-d)}).sort(function(P,w){return P-w});d!==b[0]&&b.unshift(0);var M=b.map(function(P,w){var A=!b[w+1],O=A?d+g-P:b[w+1]-P;if(O<=0)return null;var I=w%o.length;return We.createElement("rect",{key:"react-".concat(w),x:P,y:h,width:O,height:v,stroke:"none",fill:o[I],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return We.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},M)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,d=s.x,h=s.y,g=s.width,v=s.height,b=i.map(function(P){return Math.round(P+h-h)}).sort(function(P,w){return P-w});h!==b[0]&&b.unshift(0);var M=b.map(function(P,w){var A=!b[w+1],O=A?h+v-P:b[w+1]-P;if(O<=0)return null;var I=w%o.length;return We.createElement("rect",{key:"react-".concat(w),y:P,x:d,height:O,width:g,stroke:"none",fill:o[I],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return We.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},M)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,d=o.y,h=o.width,g=o.height;return We.createElement("rect",{x:a,y:d,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,d=i.height,h=i.horizontal,g=i.vertical,v=i.horizontalCoordinatesGenerator,b=i.verticalCoordinatesGenerator,M=i.xAxis,P=i.yAxis,w=i.offset,A=i.chartWidth,O=i.chartHeight;if(!Mt(a)||a<=0||!Mt(d)||d<=0||!Mt(o)||o!==+o||!Mt(s)||s!==+s)return null;var I=this.props,C=I.horizontalPoints,R=I.verticalPoints;return(!C||!C.length)&&hr(v)&&(C=v({yAxis:P,width:A,height:O,offset:w})),(!R||!R.length)&&hr(b)&&(R=b({xAxis:M,width:A,height:O,offset:w})),We.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(C),g&&this.renderVertical(R),h&&this.renderHorizontalStripes(C),g&&this.renderVerticalStripes(R))}}],[{key:"renderLineItem",value:function(i,o){var s;if(We.isValidElement(i))s=We.cloneElement(i,o);else if(hr(i))s=i(o);else{var a=o.x1,d=o.y1,h=o.x2,g=o.y2,v=o.key,b=GUe(o,HUe);s=We.createElement("line",sO({},Ur(b),{x1:a,y1:d,x2:h,y2:g,fill:"none",key:v}))}return s}}]),r}(W.PureComponent);RD($D,"displayName","CartesianGrid");RD($D,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var n8e=["type","layout","connectNulls","ref"];function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function i8e(e,t){if(e==null)return{};var r=o8e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(n){Ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bp(e){return c8e(e)||l8e(e)||s8e(e)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8e(e,t){if(e){if(typeof e=="string")return cO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(e,t)}}function l8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c8e(e){if(Array.isArray(e))return cO(e)}function cO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JG(n.key),n)}}function f8e(e,t,r){return t&&MF(e.prototype,t),r&&MF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uO(e,t)}function uO(e,t){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uO(e,t)}function h8e(e){var t=m8e();return function(){var n=nS(e),i;if(t){var o=nS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return p8e(this,i)}}function p8e(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sd(e)}function Sd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nS(e)}function Ll(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=g8e(e,"string");return Qm(t)==="symbol"?t:String(t)}function g8e(e,t){if(Qm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eg=function(e){d8e(r,e);var t=h8e(r);function r(){var n;u8e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ll(Sd(n),"state",{isAnimationFinished:!0,totalLength:0}),Ll(Sd(n),"getStrokeDasharray",function(a,d,h){for(var g=h.reduce(function(I,C){return I+C}),v=Math.floor(a/g),b=a%g,M=d-a,P=[],w=0,A=0;;A+=h[w],++w)if(A+h[w]>b){P=[].concat(bp(h.slice(0,w)),[b-A]);break}var O=P.length%2===0?[0,M]:[M];return[].concat(bp(r.repeat(h,v)),bp(P),O).map(function(I){return"".concat(I,"px")}).join(", ")}),Ll(Sd(n),"id",D_("recharts-line-")),Ll(Sd(n),"pathRef",function(a){n.mainCurve=a}),Ll(Sd(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ll(Sd(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return f8e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,d=s.xAxis,h=s.yAxis,g=s.layout,v=s.children,b=Es(v,U_);if(!b)return null;var M=function(A,O){return{x:A.x,y:A.y,value:A.value,errorVal:Za(A.payload,O)}},P={clipPath:i?"url(#clipPath-".concat(o,")"):null};return We.createElement(Mi,P,b.map(function(w,A){return We.cloneElement(w,{key:"bar-".concat(A),data:a,xAxis:d,yAxis:h,layout:g,dataPointFormatter:M})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var d=this.props,h=d.dot,g=d.points,v=d.dataKey,b=Ur(this.props),M=Ur(h,!0),P=g.map(function(A,O){var I=La(La(La({key:"dot-".concat(O),r:3},b),M),{},{value:A.value,dataKey:v,cx:A.x,cy:A.y,index:O,payload:A.payload});return r.renderDotItem(h,I)}),w={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return We.createElement(Mi,qv({className:"recharts-line-dots",key:"dots"},w),P)}},{key:"renderCurveStatically",value:function(i,o,s,a){var d=this.props,h=d.type,g=d.layout,v=d.connectNulls;d.ref;var b=i8e(d,n8e),M=La(La(La({},Ur(b,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:v});return We.createElement(Kw,qv({},M,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,d=a.points,h=a.strokeDasharray,g=a.isAnimationActive,v=a.animationBegin,b=a.animationDuration,M=a.animationEasing,P=a.animationId,w=a.animateNewValues,A=a.width,O=a.height,I=this.state,C=I.prevPoints,R=I.totalLength;return We.createElement(ih,{begin:v,duration:b,isActive:g,easing:M,from:{t:0},to:{t:1},key:"line-".concat(P),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(z){var L=z.t;if(C){var F=C.length/d.length,H=d.map(function(pe,Se){var _e=Math.floor(Se*F);if(C[_e]){var Me=C[_e],Ae=il(Me.x,pe.x),Ee=il(Me.y,pe.y);return La(La({},pe),{},{x:Ae(L),y:Ee(L)})}if(w){var Ie=il(A*2,pe.x),He=il(O/2,pe.y);return La(La({},pe),{},{x:Ie(L),y:He(L)})}return La(La({},pe),{},{x:pe.x,y:pe.y})});return s.renderCurveStatically(H,i,o)}var re=il(0,R),te=re(L),ae;if(h){var de="".concat(h).split(/[,\s]+/gim).map(function(pe){return parseFloat(pe)});ae=s.getStrokeDasharray(te,R,de)}else ae="".concat(te,"px ").concat(R-te,"px");return s.renderCurveStatically(d,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,d=s.isAnimationActive,h=this.state,g=h.prevPoints,v=h.totalLength;return d&&a&&a.length&&(!g&&v>0||!iD(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,d=o.points,h=o.className,g=o.xAxis,v=o.yAxis,b=o.top,M=o.left,P=o.width,w=o.height,A=o.isAnimationActive,O=o.id;if(s||!d||!d.length)return null;var I=this.state.isAnimationFinished,C=d.length===1,R=vn("recharts-line",h),z=g&&g.allowDataOverflow,L=v&&v.allowDataOverflow,F=z||L,H=fr(O)?this.id:O,re=(i=Ur(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},te=re.r,ae=te===void 0?3:te,de=re.strokeWidth,pe=de===void 0?2:de,Se=lke(a)?a:{},_e=Se.clipDot,Me=_e===void 0?!0:_e,Ae=ae*2+pe;return We.createElement(Mi,{className:R},z||L?We.createElement("defs",null,We.createElement("clipPath",{id:"clipPath-".concat(H)},We.createElement("rect",{x:z?M:M-P/2,y:L?b:b-w/2,width:z?P:P*2,height:L?w:w*2})),!Me&&We.createElement("clipPath",{id:"clipPath-dots-".concat(H)},We.createElement("rect",{x:M-Ae/2,y:b-Ae/2,width:P+Ae,height:w+Ae}))):null,!C&&this.renderCurve(F,H),this.renderErrorBar(F,H),(C||a)&&this.renderDots(F,Me,H),(!A||I)&&Hc.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(bp(i),[0]):i,a=[],d=0;d<o;++d)a=[].concat(bp(a),bp(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(We.isValidElement(i))s=We.cloneElement(i,o);else if(hr(i))s=i(o);else{var a=vn("recharts-line-dot",i?i.className:"");s=We.createElement(AD,qv({},o,{className:a}))}return s}}]),r}(W.PureComponent);Ll(eg,"displayName","Line");Ll(eg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ll(eg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,d=e.displayedData,h=e.offset,g=t.layout,v=d.map(function(b,M){var P=Za(b,s);return g==="horizontal"?{x:V4({axis:r,ticks:i,bandSize:a,entry:b,index:M}),y:fr(P)?null:n.scale(P),value:P,payload:b}:{x:fr(P)?null:r.scale(P),y:V4({axis:n,ticks:o,bandSize:a,entry:b,index:M}),value:P,payload:b}});return La({points:v,layout:g},h)});var IE=function(){return null};IE.displayName="XAxis";IE.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var RE=function(){return null};RE.displayName="YAxis";RE.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var y8e=Ff,v8e=L_,_8e=dE;function x8e(e){return function(t,r,n){var i=Object(t);if(!v8e(t)){var o=y8e(r);t=_8e(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var b8e=x8e,w8e=UG;function S8e(e){var t=w8e(e),r=t%1;return t===t?r?t-r:t:0}var E8e=S8e,C8e=Fq,T8e=Ff,k8e=E8e,P8e=Math.max;function A8e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:k8e(r);return i<0&&(i=P8e(n+i,0)),C8e(e,T8e(t),i)}var M8e=A8e,O8e=b8e,I8e=M8e,R8e=O8e(I8e),$8e=R8e;const D8e=Kr($8e);var L8e=jf,z8e=Bf,N8e="[object Boolean]";function j8e(e){return e===!0||e===!1||z8e(e)&&L8e(e)==N8e}var B8e=j8e;const F8e=Kr(B8e);function OF(e){return q8e(e)||W8e(e)||V8e(e)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8e(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function W8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q8e(e){if(Array.isArray(e))return fO(e)}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dO=function(t,r,n,i,o){var s=Es(t,OD),a=Es(t,V_),d=[].concat(OF(s),OF(a)),h=Es(t,W_),g="".concat(i,"Id"),v=i[0],b=r;if(d.length&&(b=d.reduce(function(w,A){if(A.props[g]===n&&Xl(A.props,"extendDomain")&&Mt(A.props[v])){var O=A.props[v];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},b)),h.length){var M="".concat(v,"1"),P="".concat(v,"2");b=h.reduce(function(w,A){if(A.props[g]===n&&Xl(A.props,"extendDomain")&&Mt(A.props[M])&&Mt(A.props[P])){var O=A.props[M],I=A.props[P];return[Math.min(w[0],O,I),Math.max(w[1],O,I)]}return w},b)}return o&&o.length&&(b=o.reduce(function(w,A){return Mt(A)?[Math.min(w[0],A),Math.max(w[1],A)]:w},b)),b},QG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,g){this.fn=d,this.context=h,this.once=g||!1}function o(d,h,g,v,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var M=new i(g,v||d,b),P=r?r+h:h;return d._events[P]?d._events[P].fn?d._events[P]=[d._events[P],M]:d._events[P].push(M):(d._events[P]=M,d._eventsCount++),d}function s(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)t.call(g,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=r?r+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,M=v.length,P=new Array(M);b<M;b++)P[b]=v[b].fn;return P},a.prototype.listenerCount=function(h){var g=r?r+h:h,v=this._events[g];return v?v.fn?1:v.length:0},a.prototype.emit=function(h,g,v,b,M,P){var w=r?r+h:h;if(!this._events[w])return!1;var A=this._events[w],O=arguments.length,I,C;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),O){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,v),!0;case 4:return A.fn.call(A.context,g,v,b),!0;case 5:return A.fn.call(A.context,g,v,b,M),!0;case 6:return A.fn.call(A.context,g,v,b,M,P),!0}for(C=1,I=new Array(O-1);C<O;C++)I[C-1]=arguments[C];A.fn.apply(A.context,I)}else{var R=A.length,z;for(C=0;C<R;C++)switch(A[C].once&&this.removeListener(h,A[C].fn,void 0,!0),O){case 1:A[C].fn.call(A[C].context);break;case 2:A[C].fn.call(A[C].context,g);break;case 3:A[C].fn.call(A[C].context,g,v);break;case 4:A[C].fn.call(A[C].context,g,v,b);break;default:if(!I)for(z=1,I=new Array(O-1);z<O;z++)I[z-1]=arguments[z];A[C].fn.apply(A[C].context,I)}}return!0},a.prototype.on=function(h,g,v){return o(this,h,g,v,!1)},a.prototype.once=function(h,g,v){return o(this,h,g,v,!0)},a.prototype.removeListener=function(h,g,v,b){var M=r?r+h:h;if(!this._events[M])return this;if(!g)return s(this,M),this;var P=this._events[M];if(P.fn)P.fn===g&&(!b||P.once)&&(!v||P.context===v)&&s(this,M);else{for(var w=0,A=[],O=P.length;w<O;w++)(P[w].fn!==g||b&&!P[w].once||v&&P[w].context!==v)&&A.push(P[w]);A.length?this._events[M]=A.length===1?A[0]:A:s(this,M)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&s(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(QG);var H8e=QG.exports;const G8e=Kr(H8e);var za=new G8e;za.setMaxListeners&&za.setMaxListeners(10);var rP="recharts.syncMouseEvents";function s_(e){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s_(e)}function Y8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eY(n.key),n)}}function K8e(e,t,r){return t&&IF(e.prototype,t),r&&IF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nP(e,t,r){return t=eY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=Z8e(e,"string");return s_(t)==="symbol"?t:String(t)}function Z8e(e,t){if(s_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X8e=function(){function e(){Y8e(this,e),nP(this,"activeIndex",0),nP(this,"coordinateList",[]),nP(this,"layout","horizontal")}return K8e(e,[{key:"setDetails",value:function(r){var n=r.coordinateList,i=n===void 0?[]:n,o=r.container,s=o===void 0?null:o,a=r.layout,d=a===void 0?null:a,h=r.offset,g=h===void 0?null:h,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=d??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),n=r.x,i=r.y,o=this.coordinateList[this.activeIndex].coordinate,s=n+o,a=i+this.offset.top;this.mouseHandlerCallback({pageX:s,pageY:a})}}}]),e}(),J8e=["item"],Q8e=["children","className","width","height","style","compact","title","desc"];function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function RF(e,t){return rVe(e)||tVe(e,t)||tY(e,t)||eVe()}function eVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(g){h=!0,i=g}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function rVe(e){if(Array.isArray(e))return e}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(this,arguments)}function $F(e,t){if(e==null)return{};var r=nVe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nVe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function iVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rY(n.key),n)}}function oVe(e,t,r){return t&&DF(e.prototype,t),r&&DF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hO(e,t)}function hO(e,t){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hO(e,t)}function sVe(e){var t=cVe();return function(){var n=iS(e),i;if(t){var o=iS(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return lVe(this,i)}}function lVe(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function rg(e){return dVe(e)||fVe(e)||tY(e)||uVe()}function uVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tY(e,t){if(e){if(typeof e=="string")return pO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(e,t)}}function fVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dVe(e){if(Array.isArray(e))return pO(e)}function pO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(r),!0).forEach(function(n){ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ur(e,t,r){return t=rY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=hVe(e,"string");return tg(t)==="symbol"?t:String(t)}function hVe(e,t){if(tg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pVe={xAxis:["bottom","top"],yAxis:["left","right"]},nY={x:0,y:0},mVe=Number.isFinite?Number.isFinite:isFinite,zF=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,NF=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,gVe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},yVe=function(t,r,n,i){var o=r.find(function(g){return g&&g.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return ft(ft(ft({},i),co(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var d=o.coordinate,h=i.angle;return ft(ft(ft({},i),co(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return nY},$E=function(t,r,n){var i=r.graphicalItems,o=r.dataStartIndex,s=r.dataEndIndex,a=(i||[]).reduce(function(d,h){var g=h.props.data;return g&&g.length?[].concat(rg(d),rg(g)):d},[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:t&&t.length&&Mt(o)&&Mt(s)?t.slice(o,s+1):[]};function vVe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Mt(n)&&Mt(i))return!0}return!1}function iY(e){return e==="number"?[0,"auto"]:void 0}var oY=function(t,r,n,i){var o=t.graphicalItems,s=t.tooltipAxis,a=$E(r,t);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(d,h){var g=h.props.hide;if(g)return d;var v=h.props.data,b;if(s.dataKey&&!s.allowDuplicatedCategory){var M=v===void 0?a:v;b=gw(M,s.dataKey,i)}else b=v&&v[n]||a[n];return b?[].concat(rg(d),[zG(h,b)]):d},[])},jF=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},s=gVe(o,n),a=t.orderedTooltipTicks,d=t.tooltipAxis,h=t.tooltipTicks,g=E4e(s,a,h,d);if(g>=0&&h){var v=h[g]&&h[g].value,b=oY(t,r,g,v),M=yVe(n,a,g,o);return{activeTooltipIndex:g,activeLabel:v,activePayload:b,activeCoordinate:M}}return null},_Ve=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=t.layout,v=t.children,b=t.stackOffset,M=DG(g,o),P=n.reduce(function(w,A){var O,I=A.props,C=I.type,R=I.dataKey,z=I.allowDataOverflow,L=I.allowDuplicatedCategory,F=I.scale,H=I.ticks,re=I.includeHidden,te=A.props[s];if(w[te])return w;var ae=$E(t.data,{graphicalItems:i.filter(function(Ne){return Ne.props[s]===te}),dataStartIndex:d,dataEndIndex:h}),de=ae.length,pe,Se,_e;vVe(A.props.domain,z,C)&&(pe=WM(A.props.domain,null,z),M&&(C==="number"||F!=="auto")&&(_e=Vv(ae,R,"category")));var Me=iY(C);if(!pe||pe.length===0){var Ae,Ee=(Ae=A.props.domain)!==null&&Ae!==void 0?Ae:Me;if(R){if(pe=Vv(ae,R,C),C==="category"&&M){var Ie=QTe(pe);L&&Ie?(Se=pe,pe=Xw(0,de)):L||(pe=G4(Ee,pe,A).reduce(function(Ne,De){return Ne.indexOf(De)>=0?Ne:[].concat(rg(Ne),[De])},[]))}else if(C==="category")L?pe=pe.filter(function(Ne){return Ne!==""&&!fr(Ne)}):pe=G4(Ee,pe,A).reduce(function(Ne,De){return Ne.indexOf(De)>=0||De===""||fr(De)?Ne:[].concat(rg(Ne),[De])},[]);else if(C==="number"){var He=A4e(ae,i.filter(function(Ne){return Ne.props[s]===te&&(re||!Ne.props.hide)}),R,o,g);He&&(pe=He)}M&&(C==="number"||F!=="auto")&&(_e=Vv(ae,R,"category"))}else M?pe=Xw(0,de):a&&a[te]&&a[te].hasStack&&C==="number"?pe=b==="expand"?[0,1]:LG(a[te].stackGroups,d,h):pe=$G(ae,i.filter(function(Ne){return Ne.props[s]===te&&(re||!Ne.props.hide)}),C,g,!0);if(C==="number")pe=dO(v,pe,te,o,H),Ee&&(pe=WM(Ee,pe,z));else if(C==="category"&&Ee){var tt=Ee,Te=pe.every(function(Ne){return tt.indexOf(Ne)>=0});Te&&(pe=tt)}}return ft(ft({},w),{},ur({},te,ft(ft({},A.props),{},{axisType:o,domain:pe,categoricalDomain:_e,duplicateDomain:Se,originalDomain:(O=A.props.domain)!==null&&O!==void 0?O:Me,isCategorical:M,layout:g})))},{});return P},xVe=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=t.layout,v=t.children,b=$E(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),M=b.length,P=DG(g,o),w=-1,A=n.reduce(function(O,I){var C=I.props[s],R=iY("number");if(!O[C]){w++;var z;return P?z=Xw(0,M):a&&a[C]&&a[C].hasStack?(z=LG(a[C].stackGroups,d,h),z=dO(v,z,C,o)):(z=WM(R,$G(b,n.filter(function(L){return L.props[s]===C&&!L.props.hide}),"number",g),i.defaultProps.allowDataOverflow),z=dO(v,z,C,o)),ft(ft({},O),{},ur({},C,ft(ft({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ss(pVe,"".concat(o,".").concat(w%2),null),domain:z,originalDomain:R,isCategorical:P,layout:g})))}return O},{});return A},bVe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,g=t.children,v="".concat(i,"Id"),b=Es(g,o),M={};return b&&b.length?M=_Ve(t,{axes:b,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:a,dataStartIndex:d,dataEndIndex:h}):s&&s.length&&(M=xVe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:a,dataStartIndex:d,dataEndIndex:h})),M},wVe=function(t){var r=Bu(t),n=Fu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nD(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Hw(r,n)}},BF=function(t){var r,n,i=t.children,o=t.defaultShowTooltip,s=jc(i,t_),a=s&&s.props&&s.props.startIndex||0,d=(s==null||(r=s.props)===null||r===void 0?void 0:r.endIndex)!==void 0?s==null||(n=s.props)===null||n===void 0?void 0:n.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:d,activeTooltipIndex:-1,isTooltipActive:fr(o)?!1:o}},SVe=function(t){return!t||!t.length?!1:t.some(function(r){var n=xf(r&&r.type);return n&&n.indexOf("Bar")>=0})},FF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EVe=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,d=a===void 0?{}:a,h=n.width,g=n.height,v=n.children,b=n.margin||{},M=jc(v,t_),P=jc(v,Vm),w=Object.keys(d).reduce(function(C,R){var z=d[R],L=z.orientation;return!z.mirror&&!z.hide?ft(ft({},C),{},ur({},L,C[L]+z.width)):C},{left:b.left||0,right:b.right||0}),A=Object.keys(s).reduce(function(C,R){var z=s[R],L=z.orientation;return!z.mirror&&!z.hide?ft(ft({},C),{},ur({},L,Ss(C,"".concat(L))+z.height)):C},{top:b.top||0,bottom:b.bottom||0}),O=ft(ft({},A),w),I=O.bottom;return M&&(O.bottom+=M.props.height||t_.defaultProps.height),P&&r&&(O=k4e(O,i,n,r)),ft(ft({brushBottom:I},O),{},{width:h-O.left-O.right,height:g-O.top-O.bottom})},CVe=function(t){var r,n=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,d=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,v=t.formatAxisMap,b=t.defaultProps,M=function(A,O){var I=O.graphicalItems,C=O.stackGroups,R=O.offset,z=O.updateId,L=O.dataStartIndex,F=O.dataEndIndex,H=A.barSize,re=A.layout,te=A.barGap,ae=A.barCategoryGap,de=A.maxBarSize,pe=FF(re),Se=pe.numericAxisName,_e=pe.cateAxisName,Me=SVe(I),Ae=Me&&C4e({barSize:H,stackGroups:C}),Ee=[];return I.forEach(function(Ie,He){var tt=$E(A.data,{dataStartIndex:L,dataEndIndex:F},Ie),Te=Ie.props,Ne=Te.dataKey,De=Te.maxBarSize,Ye=Ie.props["".concat(Se,"Id")],je=Ie.props["".concat(_e,"Id")],st=h.reduce(function(pr,Sr){var cr,Er=O["".concat(Sr.axisType,"Map")],an=Ie.props["".concat(Sr.axisType,"Id")],ut=Er&&Er[an];return ft(ft({},pr),{},(cr={},ur(cr,Sr.axisType,ut),ur(cr,"".concat(Sr.axisType,"Ticks"),Fu(ut)),cr))},{}),nt=st[_e],Ue=st["".concat(_e,"Ticks")],Xe=C&&C[Ye]&&C[Ye].hasStack&&F4e(Ie,C[Ye].stackGroups),ct=xf(Ie.type).indexOf("Bar")>=0,Be=Hw(nt,Ue),Pe=[];if(ct){var St,Zt,Ot=fr(De)?de:De,Nt=(St=(Zt=Hw(nt,Ue,!0))!==null&&Zt!==void 0?Zt:Ot)!==null&&St!==void 0?St:0;Pe=T4e({barGap:te,barCategoryGap:ae,bandSize:Nt!==Be?Nt:Be,sizeList:Ae[je],maxBarSize:Ot}),Nt!==Be&&(Pe=Pe.map(function(pr){return ft(ft({},pr),{},{position:ft(ft({},pr.position),{},{offset:pr.position.offset-Nt/2})})}))}var Mr=Ie&&Ie.type&&Ie.type.getComposedData;if(Mr){var Vr;Ee.push({props:ft(ft({},Mr(ft(ft({},st),{},{displayedData:tt,props:A,dataKey:Ne,item:Ie,bandSize:Be,barPosition:Pe,offset:R,stackedData:Xe,layout:re,dataStartIndex:L,dataEndIndex:F}))),{},(Vr={key:Ie.key||"item-".concat(He)},ur(Vr,Se,st[Se]),ur(Vr,_e,st[_e]),ur(Vr,"animationId",z),Vr)),childIndex:fke(Ie,A.children),item:Ie})}}),Ee},P=function(A,O){var I=A.props,C=A.dataStartIndex,R=A.dataEndIndex,z=A.updateId;if(!Cj({props:I}))return null;var L=I.children,F=I.layout,H=I.stackOffset,re=I.data,te=I.reverseStackOrder,ae=FF(F),de=ae.numericAxisName,pe=ae.cateAxisName,Se=Es(L,i),_e=N4e(re,Se,"".concat(de,"Id"),"".concat(pe,"Id"),H,te),Me=h.reduce(function(tt,Te){var Ne="".concat(Te.axisType,"Map");return ft(ft({},tt),{},ur({},Ne,bVe(I,ft(ft({},Te),{},{graphicalItems:Se,stackGroups:Te.axisType===de&&_e,dataStartIndex:C,dataEndIndex:R}))))},{}),Ae=EVe(ft(ft({},Me),{},{props:I,graphicalItems:Se}),O==null?void 0:O.legendBBox);Object.keys(Me).forEach(function(tt){Me[tt]=v(I,Me[tt],Ae,tt.replace("Map",""),n)});var Ee=Me["".concat(pe,"Map")],Ie=wVe(Ee),He=M(I,ft(ft({},Me),{},{dataStartIndex:C,dataEndIndex:R,updateId:z,graphicalItems:Se,stackGroups:_e,offset:Ae}));return ft(ft({formattedGraphicalItems:He,graphicalItems:Se,offset:Ae,stackGroups:_e},Ie),Me)};return r=function(w){aVe(O,w);var A=sVe(O);function O(I){var C;return iVe(this,O),C=A.call(this,I),ur(Rr(C),"accessibilityManager",new X8e),ur(Rr(C),"clearDeferId",function(){!fr(C.deferId)&&NF&&NF(C.deferId),C.deferId=null}),ur(Rr(C),"handleLegendBBoxUpdate",function(R){if(R){var z=C.state,L=z.dataStartIndex,F=z.dataEndIndex,H=z.updateId;C.setState(ft({legendBBox:R},P({props:C.props,dataStartIndex:L,dataEndIndex:F,updateId:H},ft(ft({},C.state),{},{legendBBox:R}))))}}),ur(Rr(C),"handleReceiveSyncEvent",function(R,z,L){var F=C.props.syncId;F===R&&z!==C.uniqueChartId&&(C.clearDeferId(),C.deferId=zF&&zF(C.applySyncEvent.bind(Rr(C),L)))}),ur(Rr(C),"handleBrushChange",function(R){var z=R.startIndex,L=R.endIndex;if(z!==C.state.dataStartIndex||L!==C.state.dataEndIndex){var F=C.state.updateId;C.setState(function(){return ft({dataStartIndex:z,dataEndIndex:L},P({props:C.props,dataStartIndex:z,dataEndIndex:L,updateId:F},C.state))}),C.triggerSyncEvent({dataStartIndex:z,dataEndIndex:L})}}),ur(Rr(C),"handleMouseEnter",function(R){var z=C.props.onMouseEnter,L=C.getMouseInfo(R);if(L){var F=ft(ft({},L),{},{isTooltipActive:!0});C.setState(F),C.triggerSyncEvent(F),hr(z)&&z(F,R)}}),ur(Rr(C),"triggeredAfterMouseMove",function(R){var z=C.props.onMouseMove,L=C.getMouseInfo(R),F=L?ft(ft({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(F),C.triggerSyncEvent(F),hr(z)&&z(F,R)}),ur(Rr(C),"handleItemMouseEnter",function(R){C.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),ur(Rr(C),"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),ur(Rr(C),"handleMouseMove",function(R){R&&hr(R.persist)&&R.persist(),C.triggeredAfterMouseMove(R)}),ur(Rr(C),"handleMouseLeave",function(R){var z=C.props.onMouseLeave,L={isTooltipActive:!1};C.setState(L),C.triggerSyncEvent(L),hr(z)&&z(L,R),C.cancelThrottledTriggerAfterMouseMove()}),ur(Rr(C),"handleOuterEvent",function(R){var z=uke(R),L=Ss(C.props,"".concat(z));if(z&&hr(L)){var F;/.*touch.*/i.test(z)?F=C.getMouseInfo(R.changedTouches[0]):F=C.getMouseInfo(R);var H=L;H(F,R)}}),ur(Rr(C),"handleClick",function(R){var z=C.props.onClick,L=C.getMouseInfo(R);if(L){var F=ft(ft({},L),{},{isTooltipActive:!0});C.setState(F),C.triggerSyncEvent(F),hr(z)&&z(F,R)}}),ur(Rr(C),"handleMouseDown",function(R){var z=C.props.onMouseDown;if(hr(z)){var L=C.getMouseInfo(R);z(L,R)}}),ur(Rr(C),"handleMouseUp",function(R){var z=C.props.onMouseUp;if(hr(z)){var L=C.getMouseInfo(R);z(L,R)}}),ur(Rr(C),"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseMove(R.changedTouches[0])}),ur(Rr(C),"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseDown(R.changedTouches[0])}),ur(Rr(C),"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseUp(R.changedTouches[0])}),ur(Rr(C),"verticalCoordinatesGenerator",function(R){var z=R.xAxis,L=R.width,F=R.height,H=R.offset;return F4(oO(ft(ft(ft({},Wv.defaultProps),z),{},{ticks:Fu(z,!0),viewBox:{x:0,y:0,width:L,height:F}})),H.left,H.left+H.width)}),ur(Rr(C),"horizontalCoordinatesGenerator",function(R){var z=R.yAxis,L=R.width,F=R.height,H=R.offset;return F4(oO(ft(ft(ft({},Wv.defaultProps),z),{},{ticks:Fu(z,!0),viewBox:{x:0,y:0,width:L,height:F}})),H.top,H.top+H.height)}),ur(Rr(C),"axesTicksGenerator",function(R){return Fu(R,!0)}),ur(Rr(C),"renderCursor",function(R){var z=C.state,L=z.isTooltipActive,F=z.activeCoordinate,H=z.activePayload,re=z.offset,te=z.activeTooltipIndex,ae=C.getTooltipEventType();if(!R||!R.props.cursor||!L||!F||n!=="ScatterChart"&&ae!=="axis")return null;var de=C.props.layout,pe,Se=Kw;if(n==="ScatterChart")pe=F,Se=FG;else if(n==="BarChart")pe=C.getCursorRectangle(),Se=AE;else if(de==="radial"){var _e=C.getCursorPoints(),Me=_e.cx,Ae=_e.cy,Ee=_e.radius,Ie=_e.startAngle,He=_e.endAngle;pe={cx:Me,cy:Ae,startAngle:Ie,endAngle:He,innerRadius:Ee,outerRadius:Ee},Se=BG}else pe={points:C.getCursorPoints()},Se=Kw;var tt=R.key||"_recharts-cursor",Te=ft(ft(ft(ft({stroke:"#ccc",pointerEvents:"none"},re),pe),Ur(R.props.cursor)),{},{payload:H,payloadIndex:te,key:tt,className:"recharts-tooltip-cursor"});return W.isValidElement(R.props.cursor)?W.cloneElement(R.props.cursor,Te):W.createElement(Se,Te)}),ur(Rr(C),"renderPolarAxis",function(R,z,L){var F=Ss(R,"type.axisType"),H=Ss(C.state,"".concat(F,"Map")),re=H&&H[R.props["".concat(F,"Id")]];return W.cloneElement(R,ft(ft({},re),{},{className:F,key:R.key||"".concat(z,"-").concat(L),ticks:Fu(re,!0)}))}),ur(Rr(C),"renderXAxis",function(R,z,L){var F=C.state.xAxisMap,H=F[R.props.xAxisId];return C.renderAxis(H,R,z,L)}),ur(Rr(C),"renderYAxis",function(R,z,L){var F=C.state.yAxisMap,H=F[R.props.yAxisId];return C.renderAxis(H,R,z,L)}),ur(Rr(C),"renderGrid",function(R){var z=C.state,L=z.xAxisMap,F=z.yAxisMap,H=z.offset,re=C.props,te=re.width,ae=re.height,de=Bu(L),pe=D8e(F,function(Me){return qG(Me.domain,mVe)}),Se=pe||Bu(F),_e=R.props||{};return W.cloneElement(R,{key:R.key||"grid",x:Mt(_e.x)?_e.x:H.left,y:Mt(_e.y)?_e.y:H.top,width:Mt(_e.width)?_e.width:H.width,height:Mt(_e.height)?_e.height:H.height,xAxis:de,yAxis:Se,offset:H,chartWidth:te,chartHeight:ae,verticalCoordinatesGenerator:_e.verticalCoordinatesGenerator||C.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:_e.horizontalCoordinatesGenerator||C.horizontalCoordinatesGenerator})}),ur(Rr(C),"renderPolarGrid",function(R){var z=R.props,L=z.radialLines,F=z.polarAngles,H=z.polarRadius,re=C.state,te=re.radiusAxisMap,ae=re.angleAxisMap,de=Bu(te),pe=Bu(ae),Se=pe.cx,_e=pe.cy,Me=pe.innerRadius,Ae=pe.outerRadius;return W.cloneElement(R,{polarAngles:lo(F)?F:Fu(pe,!0).map(function(Ee){return Ee.coordinate}),polarRadius:lo(H)?H:Fu(de,!0).map(function(Ee){return Ee.coordinate}),cx:Se,cy:_e,innerRadius:Me,outerRadius:Ae,key:R.key||"polar-grid",radialLines:L})}),ur(Rr(C),"renderLegend",function(){var R=C.state.formattedGraphicalItems,z=C.props,L=z.children,F=z.width,H=z.height,re=C.props.margin||{},te=F-(re.left||0)-(re.right||0),ae=IG({children:L,formattedGraphicalItems:R,legendWidth:te,legendContent:g});if(!ae)return null;var de=ae.item,pe=$F(ae,J8e);return W.cloneElement(de,ft(ft({},pe),{},{chartWidth:F,chartHeight:H,margin:re,ref:function(_e){C.legendInstance=_e},onBBoxUpdate:C.handleLegendBBoxUpdate}))}),ur(Rr(C),"renderTooltip",function(){var R=C.props.children,z=jc(R,$d);if(!z)return null;var L=C.state,F=L.isTooltipActive,H=L.activeCoordinate,re=L.activePayload,te=L.activeLabel,ae=L.offset;return W.cloneElement(z,{viewBox:ft(ft({},ae),{},{x:ae.left,y:ae.top}),active:F,label:te,payload:F?re:[],coordinate:H})}),ur(Rr(C),"renderBrush",function(R){var z=C.props,L=z.margin,F=z.data,H=C.state,re=H.offset,te=H.dataStartIndex,ae=H.dataEndIndex,de=H.updateId;return W.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Nb(C.handleBrushChange,null,R.props.onChange),data:F,x:Mt(R.props.x)?R.props.x:re.left,y:Mt(R.props.y)?R.props.y:re.top+re.height+re.brushBottom-(L.bottom||0),width:Mt(R.props.width)?R.props.width:re.width,startIndex:te,endIndex:ae,updateId:"brush-".concat(de)})}),ur(Rr(C),"renderReferenceElement",function(R,z,L){if(!R)return null;var F=Rr(C),H=F.clipPathId,re=C.state,te=re.xAxisMap,ae=re.yAxisMap,de=re.offset,pe=R.props,Se=pe.xAxisId,_e=pe.yAxisId;return W.cloneElement(R,{key:R.key||"".concat(z,"-").concat(L),xAxis:te[Se],yAxis:ae[_e],viewBox:{x:de.left,y:de.top,width:de.width,height:de.height},clipPathId:H})}),ur(Rr(C),"renderActivePoints",function(R){var z=R.item,L=R.activePoint,F=R.basePoint,H=R.childIndex,re=R.isRange,te=[],ae=z.props.key,de=z.item.props,pe=de.activeDot,Se=de.dataKey,_e=ft(ft({index:H,dataKey:Se,cx:L.x,cy:L.y,r:4,fill:PD(z.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value,key:"".concat(ae,"-activePoint-").concat(H)},Ur(pe)),yw(pe));return te.push(O.renderActiveDot(pe,_e)),F?te.push(O.renderActiveDot(pe,ft(ft({},_e),{},{cx:F.x,cy:F.y,key:"".concat(ae,"-basePoint-").concat(H)}))):re&&te.push(null),te}),ur(Rr(C),"renderGraphicChild",function(R,z,L){var F=C.filterFormatItem(R,z,L);if(!F)return null;var H=C.getTooltipEventType(),re=C.state,te=re.isTooltipActive,ae=re.tooltipAxis,de=re.activeTooltipIndex,pe=re.activeLabel,Se=C.props.children,_e=jc(Se,$d),Me=F.props,Ae=Me.points,Ee=Me.isRange,Ie=Me.baseLine,He=F.item.props,tt=He.activeDot,Te=He.hide,Ne=!Te&&te&&_e&&tt&&de>=0,De={};H!=="axis"&&_e&&_e.props.trigger==="click"?De={onClick:Nb(C.handleItemMouseEnter,null,R.props.onCLick)}:H!=="axis"&&(De={onMouseLeave:Nb(C.handleItemMouseLeave,null,R.props.onMouseLeave),onMouseEnter:Nb(C.handleItemMouseEnter,null,R.props.onMouseEnter)});var Ye=W.cloneElement(R,ft(ft({},F.props),De));function je(Xe){return typeof ae.dataKey=="function"?ae.dataKey(Xe.payload):null}if(Ne){var st,nt;if(ae.dataKey&&!ae.allowDuplicatedCategory){var Ue=typeof ae.dataKey=="function"?je:"payload.".concat(ae.dataKey.toString());st=gw(Ae,Ue,pe),nt=Ee&&Ie&&gw(Ie,Ue,pe)}else st=Ae[de],nt=Ee&&Ie&&Ie[de];if(!fr(st))return[Ye].concat(rg(C.renderActivePoints({item:F,activePoint:st,basePoint:nt,childIndex:de,isRange:Ee})))}return Ee?[Ye,null,null]:[Ye,null]}),ur(Rr(C),"renderCustomized",function(R,z,L){return W.cloneElement(R,ft(ft({key:"recharts-customized-".concat(L)},C.props),C.state))}),C.uniqueChartId=fr(I.id)?D_("recharts"):I.id,C.clipPathId="".concat(C.uniqueChartId,"-clip"),I.throttleDelay&&(C.triggeredAfterMouseMove=AH(C.triggeredAfterMouseMove,I.throttleDelay)),C.state={},C}return oVe(O,[{key:"componentDidMount",value:function(){var C,R;fr(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(C,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var z,L;this.accessibilityManager.setDetails({offset:{left:(z=this.props.margin.left)!==null&&z!==void 0?z:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(C){fr(C.syncId)&&!fr(this.props.syncId)&&this.addListener(),!fr(C.syncId)&&fr(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),fr(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=jc(this.props.children,$d);if(C&&F8e(C.props.shared)){var R=C.props.shared?"axis":"item";return d.indexOf(R)>=0?R:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var R=p3e(this.container),z=m3e(C,R),L=this.inRange(z.chartX,z.chartY);if(!L)return null;var F=this.state,H=F.xAxisMap,re=F.yAxisMap,te=this.getTooltipEventType();if(te!=="axis"&&H&&re){var ae=Bu(H).scale,de=Bu(re).scale,pe=ae&&ae.invert?ae.invert(z.chartX):null,Se=de&&de.invert?de.invert(z.chartY):null;return ft(ft({},z),{},{xValue:pe,yValue:Se})}var _e=jF(this.state,this.props.data,this.props.layout,L);return _e?ft(ft({},z),_e):null}},{key:"getCursorRectangle",value:function(){var C=this.props.layout,R=this.state,z=R.activeCoordinate,L=R.offset,F=R.tooltipAxisBandSize,H=F/2;return{stroke:"none",fill:"#ccc",x:C==="horizontal"?z.x-H:L.left+.5,y:C==="horizontal"?L.top+.5:z.y-H,width:C==="horizontal"?F:L.width-1,height:C==="horizontal"?L.height-1:F}}},{key:"getCursorPoints",value:function(){var C=this.props.layout,R=this.state,z=R.activeCoordinate,L=R.offset,F,H,re,te;if(C==="horizontal")F=z.x,re=F,H=L.top,te=L.top+L.height;else if(C==="vertical")H=z.y,te=H,F=L.left,re=L.left+L.width;else if(!fr(z.cx)||!fr(z.cy))if(C==="centric"){var ae=z.cx,de=z.cy,pe=z.innerRadius,Se=z.outerRadius,_e=z.angle,Me=co(ae,de,pe,_e),Ae=co(ae,de,Se,_e);F=Me.x,H=Me.y,re=Ae.x,te=Ae.y}else{var Ee=z.cx,Ie=z.cy,He=z.radius,tt=z.startAngle,Te=z.endAngle,Ne=co(Ee,Ie,He,tt),De=co(Ee,Ie,He,Te);return{points:[Ne,De],cx:Ee,cy:Ie,radius:He,startAngle:tt,endAngle:Te}}return[{x:F,y:H},{x:re,y:te}]}},{key:"inRange",value:function(C,R){var z=this.props.layout;if(z==="horizontal"||z==="vertical"){var L=this.state.offset,F=C>=L.left&&C<=L.left+L.width&&R>=L.top&&R<=L.top+L.height;return F?{x:C,y:R}:null}var H=this.state,re=H.angleAxisMap,te=H.radiusAxisMap;if(re&&te){var ae=Bu(re);return Z4({x:C,y:R},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,R=this.getTooltipEventType(),z=jc(C,$d),L={};z&&R==="axis"&&(z.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=yw(this.props,this.handleOuterEvent);return ft(ft({},F),L)}},{key:"addListener",value:function(){za.on(rP,this.handleReceiveSyncEvent),za.setMaxListeners&&za._maxListeners&&za.setMaxListeners(za._maxListeners+1)}},{key:"removeListener",value:function(){za.removeListener(rP,this.handleReceiveSyncEvent),za.setMaxListeners&&za._maxListeners&&za.setMaxListeners(za._maxListeners-1)}},{key:"triggerSyncEvent",value:function(C){var R=this.props.syncId;fr(R)||za.emit(rP,R,this.uniqueChartId,C)}},{key:"applySyncEvent",value:function(C){var R=this.props,z=R.layout,L=R.syncMethod,F=this.state.updateId,H=C.dataStartIndex,re=C.dataEndIndex;if(!fr(C.dataStartIndex)||!fr(C.dataEndIndex))this.setState(ft({dataStartIndex:H,dataEndIndex:re},P({props:this.props,dataStartIndex:H,dataEndIndex:re,updateId:F},this.state)));else if(fr(C.activeTooltipIndex))this.setState(C);else{var te=C.chartX,ae=C.chartY,de=C.activeTooltipIndex,pe=this.state,Se=pe.offset,_e=pe.tooltipTicks;if(!Se)return;if(typeof L=="function")de=L(_e,C);else if(L==="value"){de=-1;for(var Me=0;Me<_e.length;Me++)if(_e[Me].value===C.activeLabel){de=Me;break}}var Ae=ft(ft({},Se),{},{x:Se.left,y:Se.top}),Ee=Math.min(te,Ae.x+Ae.width),Ie=Math.min(ae,Ae.y+Ae.height),He=_e[de]&&_e[de].value,tt=oY(this.state,this.props.data,de),Te=_e[de]?{x:z==="horizontal"?_e[de].coordinate:Ee,y:z==="horizontal"?Ie:_e[de].coordinate}:nY;this.setState(ft(ft({},C),{},{activeLabel:He,activeCoordinate:Te,activePayload:tt,activeTooltipIndex:de}))}}},{key:"filterFormatItem",value:function(C,R,z){for(var L=this.state.formattedGraphicalItems,F=0,H=L.length;F<H;F++){var re=L[F];if(re.item===C||re.props.key===C.key||R===xf(re.item.type)&&z===re.childIndex)return re}return null}},{key:"renderAxis",value:function(C,R,z,L){var F=this.props,H=F.width,re=F.height;return We.createElement(Wv,Yp({},C,{className:vn("recharts-".concat(C.axisType," ").concat(C.axisType),C.className),key:R.key||"".concat(z,"-").concat(L),viewBox:{x:0,y:0,width:H,height:re},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var C=this.clipPathId,R=this.state.offset,z=R.left,L=R.top,F=R.height,H=R.width;return We.createElement("defs",null,We.createElement("clipPath",{id:C},We.createElement("rect",{x:z,y:L,height:F,width:H})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(R,z){var L=RF(z,2),F=L[0],H=L[1];return ft(ft({},R),{},ur({},F,H.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(R,z){var L=RF(z,2),F=L[0],H=L[1];return ft(ft({},R),{},ur({},F,H.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var R,z;return(R=this.state.xAxisMap)===null||R===void 0||(z=R[C])===null||z===void 0?void 0:z.scale}},{key:"getYScaleByAxisId",value:function(C){var R,z;return(R=this.state.yAxisMap)===null||R===void 0||(z=R[C])===null||z===void 0?void 0:z.scale}},{key:"getItemByXY",value:function(C){var R=this.state.formattedGraphicalItems;if(R&&R.length)for(var z=0,L=R.length;z<L;z++){var F=R[z],H=F.props,re=F.item,te=xf(re.type);if(te==="Bar"){var ae=(H.data||[]).find(function(pe){return UFe(C,pe)});if(ae)return{graphicalItem:F,payload:ae}}else if(te==="RadialBar"){var de=(H.data||[]).find(function(pe){return Z4(C,pe)});if(de)return{graphicalItem:F,payload:de}}}return null}},{key:"render",value:function(){var C=this;if(!Cj(this))return null;var R=this.props,z=R.children,L=R.className,F=R.width,H=R.height,re=R.style,te=R.compact,ae=R.title,de=R.desc,pe=$F(R,Q8e),Se=Ur(pe),_e={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(te)return We.createElement(ZA,Yp({},Se,{width:F,height:H,title:ae,desc:de}),this.renderClipPath(),kj(z,_e));if(this.props.accessibilityLayer){var Me,Ae;Se.tabIndex=(Me=0)!==null&&Me!==void 0?Me:this.props.tabIndex,Se.role=(Ae="img")!==null&&Ae!==void 0?Ae:this.props.role,Se.onKeyDown=function(Ie){C.accessibilityManager.keyboardEvent(Ie)},Se.onFocus=function(){C.accessibilityManager.focus()}}var Ee=this.parseEventsOfWrapper();return We.createElement("div",Yp({className:vn("recharts-wrapper",L),style:ft({position:"relative",cursor:"default",width:F,height:H},re)},Ee,{ref:function(He){C.container=He},role:"region"}),We.createElement(ZA,Yp({},Se,{width:F,height:H,title:ae,desc:de}),this.renderClipPath(),kj(z,_e)),this.renderLegend(),this.renderTooltip())}}]),O}(W.Component),ur(r,"displayName",n),ur(r,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},b)),ur(r,"getDerivedStateFromProps",function(w,A){var O=w.data,I=w.children,C=w.width,R=w.height,z=w.layout,L=w.stackOffset,F=w.margin;if(fr(A.updateId)){var H=BF(w);return ft(ft(ft({},H),{},{updateId:0},P(ft(ft({props:w},H),{},{updateId:0}),A)),{},{prevData:O,prevWidth:C,prevHeight:R,prevLayout:z,prevStackOffset:L,prevMargin:F,prevChildren:I})}if(O!==A.prevData||C!==A.prevWidth||R!==A.prevHeight||z!==A.prevLayout||L!==A.prevStackOffset||!fm(F,A.prevMargin)){var re=BF(w),te={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},ae=ft(ft({},jF(A,O,z)),{},{updateId:A.updateId+1}),de=ft(ft(ft({},re),te),ae);return ft(ft(ft({},de),P(ft({props:w},de),A)),{},{prevData:O,prevWidth:C,prevHeight:R,prevLayout:z,prevStackOffset:L,prevMargin:F,prevChildren:I})}if(!Cq(I,A.prevChildren)){var pe=!fr(O),Se=pe?A.updateId:A.updateId+1;return ft(ft({updateId:Se},P(ft(ft({props:w},A),{},{updateId:Se}),A)),{},{prevChildren:I})}return null}),ur(r,"renderActiveDot",function(w,A){var O;return W.isValidElement(w)?O=W.cloneElement(w,A):hr(w)?O=w(A):O=We.createElement(AD,A),We.createElement(Mi,{className:"recharts-active-dot",key:A.key},O)}),r},TVe=CVe({chartName:"LineChart",GraphicalChild:eg,axisComponents:[{axisType:"xAxis",AxisComp:IE},{axisType:"yAxis",AxisComp:RE}],formatAxisMap:aUe});const kVe=ho(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),PVe=()=>{const e=kVe(),[t,r]=W.useState([]),[n,i]=W.useState([]),[o,s]=W.useState(-1),a=Dn(w=>w.mission),d=t.map(w=>w.elevation),h=t.map(w=>w.uavheight),g=Math.min(...d),v=Math.max(...h),b=v-g;async function M(){if(a.route.length>0){let w=JSON.parse(JSON.stringify(a.route)),A=[];w.length>0&&w.forEach((O,I,C)=>{let R=[];O.wp.forEach((z,L,F)=>{R.push([z.pos[0],z.pos[1],z.pos[2]])}),A.push(R)}),console.log(A);{let O;try{const C=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:A})});if(C.ok)O=await C.json();else throw new Error(C.status)}catch(C){console.log(C)}let I=O.map((C,R)=>({name:"RT"+R,data:C,color:Em[R]}));console.log(I),s(-1),i(I),r(I)}}}W.useEffect(()=>{console.log("mission Elevation")},[]),W.useEffect(()=>{M()},[a]),W.useEffect(()=>{o==-1?r(n):r([n[o]])},[o]);const P=({active:w,payload:A,label:O})=>{if(w&&A&&A.length){let I=[A[0].payload];return I[0].color=A[0].color,A.map(C=>{let R=!0;I.map(z=>{C.payload.rt==z.rt&&(R=!1)}),C.payload.color=C.color,R&&I.push(C.payload)}),I[0].uavheight?U.jsxs("div",{style:{background:"#FFFFFF"},children:[U.jsx("div",{children:`distancia ${O} m `}),I.map(C=>U.jsxs(W.Fragment,{children:[U.jsx("div",{style:{color:C.color,fontSize:16},children:`Ruta ${C.rt} - wp ${C.wp}`},`tr${C.rt}`),U.jsx("div",{style:{color:C.color,fontSize:16},children:`Terreno:${C.elevation} - UAV: ${C.uavheight}`},`dr${C.rt}`)]},"s-"+C.rt))]}):U.jsxs("div",{style:{background:"#FFFFFF"},children:[U.jsx("div",{children:`distancia ${O} m `}),I.map(C=>U.jsxs(W.Fragment,{children:[U.jsx("div",{style:{color:C.color,fontSize:16},children:`Ruta ${C.rt}`},`tr${C.rt}`),U.jsx("div",{style:{color:C.color,fontSize:16},children:`Terreno:${C.elevation} `},`dr${C.rt}`)]},"s-"+C.rt))]})}return null};return U.jsxs("div",{className:e.content,children:[U.jsxs(Ju,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[U.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),U.jsxs(E0,{children:[U.jsx(C0,{id:"demo-simple-select-label",children:"Route"}),U.jsxs(T0,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Elevation Profile",onChange:w=>s(w.target.value),children:[U.jsx(ha,{value:-1,children:"All Routes"}),n.map((w,A,O)=>U.jsx(ha,{value:A,children:`Route${A}`},`sel${A}`))]})]})]}),t.length>0&&U.jsx("div",{className:e.chart,children:U.jsx(LNe,{width:"100%",height:"100%",children:U.jsxs(TVe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[U.jsx(IE,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),U.jsx(RE,{type:"number",tickFormatter:w=>w.toFixed(2),domain:[g-b/5,v+b/5]}),U.jsx($D,{strokeDasharray:"3 3"}),U.jsx($d,{content:U.jsx(P,{})}),U.jsx(Vm,{}),t.map((w,A,O)=>U.jsxs(W.Fragment,{children:[U.jsx(eg,{type:"monotone",dataKey:"elevation",data:w.data,name:w.name,stroke:w.color,activeDot:{r:8}},w.name),U.jsx(eg,{connectNulls:!0,dataKey:"uavheight",data:w.data,name:w.name+"-v",stroke:w.color,strokeDasharray:"5 5"},w.name+"-v")]},"s-"+A))]})})})]})},AVe=ho(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),MVe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},OVe=()=>{const e=AVe();return U.jsx("div",{className:e.root,children:U.jsxs(T9,{notification:MVe,children:[U.jsx(k9,{}),U.jsx(N9,{}),U.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[U.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),U.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:U.jsx($W,{children:U.jsx(n2e,{})})})]}),U.jsx("div",{className:e.sidebarStyle,children:U.jsx("div",{className:e.middleStyle,children:U.jsx(eu,{square:!0,children:U.jsx(b2e,{})})})}),U.jsx("div",{className:e.panelElevation,children:U.jsx("div",{className:e.middleStyle,children:U.jsx(eu,{square:!0,children:U.jsx(PVe,{})})})})]})})},IVe=()=>U.jsx("div",{children:"EventPage"}),RVe=()=>U.jsx("div",{children:"ReplayPage"}),$Ve=ho(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})),DVe=()=>{const e=$Ve(),t=h_(),{id:r}=rQ(),[n,i]=W.useState();P2(async()=>{if(r){const s=await fetch(`/api/positions?id=${r}`);if(s.ok){const a=await s.json();a.length>0&&i(a[0])}else throw Error(await s.text())}},[r]);const o=Dn(s=>{if(n){const a=s.devices.items[n.deviceId];if(a)return a.name}return null});return U.jsxs("div",{className:e.root,children:[U.jsx(IV,{position:"sticky",color:"inherit",children:U.jsxs(k2,{children:[U.jsx(cn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:U.jsx(R$,{})}),U.jsx(ln,{variant:"h6",children:o})]})}),U.jsx("div",{className:e.content,children:U.jsx(YV,{maxWidth:"sm",children:U.jsx(eu,{children:U.jsxs(fW,{children:[U.jsx(hpe,{children:U.jsxs(o1,{children:[U.jsx(Xs,{children:"stateName"}),U.jsx(Xs,{children:"sharedName"}),U.jsx(Xs,{children:"stateValue"})]})}),U.jsxs(dW,{children:[n&&Object.getOwnPropertyNames(n).filter(s=>s!=="attributes").map(s=>U.jsxs(o1,{children:[U.jsx(Xs,{children:s}),U.jsx(Xs,{children:U.jsx("strong",{children:h1("position",s)})}),U.jsxs(Xs,{children:[s," "]})]},s)),n&&Object.getOwnPropertyNames(n.attributes).map(s=>U.jsxs(o1,{children:[U.jsx(Xs,{children:s}),U.jsx(Xs,{children:U.jsx("strong",{children:h1("position",s)||h1("device",s)})}),U.jsxs(Xs,{children:[s," "]})]},s))]})]})})})})]})},LVe=()=>{const e=h_();ES();const t=Fge();return P2(async()=>{e("/")},[t]),U.jsx(yQ,{children:U.jsxs(gd,{path:"/",element:U.jsx(Bge,{}),children:[U.jsx(gd,{index:!0,element:U.jsx(t2e,{})}),U.jsx(gd,{path:"mission",element:U.jsx(OVe,{})}),U.jsx(gd,{path:"device/:id",element:U.jsx(DVe,{})}),U.jsx(gd,{path:"event/:id",element:U.jsx(IVe,{})}),U.jsx(gd,{path:"replay",element:U.jsx(RVe,{})})]})})},zVe=()=>{const e={white:Xd.white,background:Hl[50],primary:W8[900],secondary:nl[800],positive:nl[500],medium:kI[700],negative:Ic[500],neutral:Hl[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},NVe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},jVe={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:Hl[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},BVe=()=>W.useMemo(()=>YI({palette:zVe(),dimensions:NVe,components:jVe}),[]),FVe=({children:e})=>{const t=BVe();return U.jsx(loe,{theme:t,children:e})};Vte();const UVe=r8(document.getElementById("root"));UVe.render(U.jsx(Tee,{store:Tte,children:U.jsx(rne,{injectFirst:!0,children:U.jsxs(FVe,{children:[U.jsx(_ue,{}),U.jsx(_Q,{children:U.jsx(LVe,{})})]})})}))});export default VVe();
